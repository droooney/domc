{"version":3,"file":"dwayne.min.js","sources":["../lib/helpers/toStringTag.js","../lib/helpers/checkTypes.js","../lib/D.js","../lib/helpers/iterate.js","../lib/helpers/assign.js","../lib/helpers/defineProperty.js","../lib/helpers/toArray.js","../lib/helpers/validate.js","../lib/Alphabet.js","../lib/Switcher.js","../lib/Super.js","../lib/Func.js","../lib/Num.js","../lib/Arr.js","../lib/BlobObject.js","../lib/Str.js","../lib/helpers/markupToJSON.js","../lib/Elem.js","../lib/blocks/d-block.js","../lib/blocks/d-each.js","../lib/blocks/d-elements.js","../lib/blocks/d-if.js","../lib/blocks/d-item.js","../lib/blocks/d-switch.js","../lib/blocks/d-text.js","../lib/mixins/d-attr.js","../lib/mixins/d-bind.js","../lib/mixins/d-class.js","../lib/mixins/d-elem.js","../lib/mixins/d-hide.js","../lib/mixins/d-on.js","../lib/mixins/d-show.js","../lib/mixins/d-style.js","../lib/mixins/d-text.js","../lib/mixins/d-validate.js","../lib/mixins/d-value.js","../lib/Block.js","../lib/constants/formats.js","../lib/Dat.js","../lib/helpers/constructURL.js","../lib/Fetch.js","../lib/Router.js","../lib/constants/global.js","../lib/constants/appliedRegExps.js","../lib/constants/canvasMethods.js","../lib/constants/constructors.js","../lib/constants/elements.js","../lib/constants/htmlAllowedTagSymbols.js","../lib/constants/regexpSpecialCharacters.js","../lib/constants/validateCheckExpressions.js","../lib/helpers/Symbol.js","../lib/Promise.js","../lib/helpers/parseHeaders.js","../lib/helpers/transformData.js","../lib/helpers/resolveURL.js","../browser.js"],"sourcesContent":["/**\r\n * @module helpers/toStringTag\r\n * @private\r\n * @description Exports toStringTag method.\r\n */\r\n\r\n/**\r\n * @function toStringTag\r\n * @param {*} object - Object to get toStringTag of.\r\n * @returns {String} Cut string.\r\n * @description Cut \"Type\" string from \"[object Type]\" string that gotten from {}.toString,call(object).\r\n */\r\nexport function toStringTag(object) {\r\n  return {}.toString.call(object).replace(/^\\[object |]$/g, '');\r\n}\r\n","/**\r\n * @module helpers/checkTypes\r\n * @private\r\n * @mixin\r\n * @description Exports is<Type> methods.\r\n */\r\n\r\nimport { toStringTag } from './toStringTag';\r\n\r\n/**\r\n * @function isArray\r\n * @public\r\n * @param {*} value - Value to check if it is an array.\r\n * @returns {Boolean} If the argument is an array or not.\r\n * \r\n * @example\r\n * isArray([]);                             // true\r\n * isArray(0);                              // true\r\n * isArray(document.querySelectorAll('*')); // false\r\n */\r\nexport function isArray(value) {\r\n  return toStringTag(value) === 'Array';\r\n}\r\n\r\n/**\r\n * @function isArrayLike\r\n * @public\r\n * @param {*} value - Value to check if it is array-like.\r\n * @returns {Boolean} If the argument is array-like or not.\r\n * @description Basically returns if the argument has non-negative integer \"length\" property and isn't a function.\r\n * \r\n * @example\r\n * isArrayLike([]);                             // true\r\n * isArrayLike('');                             // true\r\n * isArrayLike(() => {});                       // false\r\n * isArrayLike(document.querySelectorAll('*')); // true\r\n */\r\nexport function isArrayLike(value) {\r\n  if (!value || isFunction(value)) {\r\n    return false;\r\n  }\r\n  \r\n  const length = value.length;\r\n  \r\n  return isInteger(length) && length >= 0;\r\n}\r\n\r\n/**\r\n * @function isBoolean\r\n * @public\r\n * @param {*} value - Value to check if it is a boolean.\r\n * @returns {Boolean} If the argument is a boolean or not.\r\n * \r\n * @example\r\n * isBoolean(true);               // true\r\n * isBoolean(new Boolean(false)); // true\r\n * isBoolean(null);               // false\r\n */\r\nexport function isBoolean(value) {\r\n  return toStringTag(value) === 'Boolean';\r\n}\r\n\r\n/**\r\n * @function isDate\r\n * @public\r\n * @param {*} value - Value to check if it is a date.\r\n * @returns {Boolean} If the argument is a date or not.\r\n * \r\n * @example\r\n * isDate(new Date());                 // true\r\n * isDate('1999-12-31T23:59:59.999Z'); // false\r\n */\r\nexport function isDate(value) {\r\n  return toStringTag(value) === 'Date';\r\n}\r\n\r\n/**\r\n * @function isDateLike\r\n * @public\r\n * @param {*} value - Value to check if it is date-like.\r\n * @returns {Boolean} If the argument is date-like or not.\r\n * @description Basically returns if new Date(argument) is not invalid date.\r\n * \r\n * @example\r\n * isDateLike(new Date());                 // true\r\n * isDateLike('1999-12-31T23:59:59.999Z'); // true\r\n * isDateLike(0);                          // true\r\n */\r\nexport function isDateLike(value) {\r\n  value = new Date(value);\r\n  \r\n  return !isNaN(value.getTime());\r\n}\r\n\r\n/**\r\n * @function isElement\r\n * @public\r\n * @param {*} value - Value to check if it is an element.\r\n * @returns {Boolean} If the argument is element or not.\r\n *\r\n * @example\r\n * isElement(document.querySelector('html')); // true\r\n */\r\nexport function isElement(value) {\r\n  return /Element$/.test(toStringTag(value));\r\n}\r\n\r\n/**\r\n * @function isFinite\r\n * @public\r\n * @param {*} value - Value to check if it is finite.\r\n * @returns {Boolean} If the argument is finite or not.\r\n * \r\n * @example\r\n * isFinite(0);        // true\r\n * isFinite('0');      // false\r\n * isFinite(Infinity); // false\r\n * isFinite(NaN);      // false\r\n */\r\nexport function isFinite(value) {\r\n  if (!isNumber(value)) {\r\n    return false;\r\n  }\r\n  \r\n  value = Number(value);\r\n\r\n  return !isNaN(value) && value !== Infinity && value !== -Infinity;\r\n}\r\n\r\n/**\r\n * @function isFunction\r\n * @public\r\n * @param {*} value - Value to check if it is a function.\r\n * @returns {Boolean} If the argument is a function or not.\r\n * \r\n * @example\r\n * isFunction(() => {});            // true\r\n * \r\n * const func = () => {};\r\n * Object.setPrototypeOf(func, {});\r\n * isFunction(func);                // true\r\n */\r\nexport function isFunction(value) {\r\n  return toStringTag(value) === 'Function' || typeof value === 'function';\r\n}\r\n\r\n/**\r\n * @function isInteger\r\n * @public\r\n * @param {*} value - Value to check if it is an integer.\r\n * @returns {Boolean} If the argument is an integer or not.\r\n *\r\n * @example\r\n * isInteger(0);             // true\r\n * isInteger(0.1);           // false\r\n * isInteger(new Number(0)); // true\r\n * isInteger('0');           // false\r\n * isInteger(Infinity);      // false\r\n * isInteger(NaN);           // false\r\n */\r\nexport function isInteger(value) {\r\n  return isNumber(value) && value % 1 === 0;\r\n}\r\n\r\n/**\r\n * @function isIntegerLike\r\n * @public\r\n * @param {*} value - Value to check if it is integer-like.\r\n * @returns {Boolean} If the argument is integer-like or not.\r\n *\r\n * @example\r\n * isIntegerLike(0);             // true\r\n * isIntegerLike(new Number(0)); // true\r\n * isIntegerLike(0.1);           // false\r\n * isIntegerLike('0');           // true\r\n */\r\nexport function isIntegerLike(value) {\r\n  value = parseInt(Number(value));\r\n\r\n  return !!(value || value === 0);\r\n}\r\n\r\n/**\r\n * @function isNaN\r\n * @public\r\n * @param {*} value - Value to check if it is NaN.\r\n * @returns {Boolean} If the argument is NaN or not.\r\n *\r\n * @example\r\n * isNaN(0);               // false\r\n * isNaN('NaN');           // false\r\n * isNaN(NaN);             // true\r\n * isNaN(new Number(NaN)); // true\r\n */\r\nexport function isNaN(value) {\r\n  if (!isNumber(value)) {\r\n    return false;\r\n  }\r\n  \r\n  value = Number(value);\r\n\r\n  return value !== value;\r\n}\r\n\r\n/**\r\n * @function isNull\r\n * @public\r\n * @param {*} value - Value to check if it is null.\r\n * @returns {Boolean} If the argument is null or not.\r\n *\r\n * @example\r\n * isNull(null);      // true\r\n * isNull(undefined); // false\r\n */\r\nexport function isNull(value) {\r\n  return value === null;\r\n}\r\n\r\n/**\r\n * @function isNil\r\n * @public\r\n * @param {*} value - Value to check if it is null or undefined.\r\n * @returns {Boolean} If the argument is null or undefined or not.\r\n *\r\n * @example\r\n * isNil(null);      // true\r\n * isNil(undefined); // true\r\n * isNil(false);     // false\r\n */\r\nexport function isNil(value) {\r\n  return value === null || typeof value === 'undefined';\r\n}\r\n\r\n/**\r\n * @function isNumber\r\n * @public\r\n * @param {*} value - Value to check if it is a number.\r\n * @returns {Boolean} If the argument is a number or not.\r\n *\r\n * @example\r\n * isNumber(0);             // true\r\n * isNumber(new Number(0)); // true\r\n * isNumber(NaN);           // true\r\n * isNumber('0');           // false\r\n */\r\nexport function isNumber(value) {\r\n  return toStringTag(value) === 'Number';\r\n}\r\n\r\n/**\r\n * @function isNumberLike\r\n * @public\r\n * @param {*} value - Value to check if it is number-like.\r\n * @returns {Boolean} If the argument is number-like or not.\r\n *\r\n * @example\r\n * isNumberLike(0);          // true\r\n * isNumberLike('0');        // true\r\n * isNumberLike('Infinity'); // true\r\n * isNumberLike('NaN');      // true\r\n * isNumberLike(NaN);        // true\r\n */\r\nexport function isNumberLike(value) {\r\n  if (isNaN(value) || value === 'NaN') {\r\n    return true;\r\n  }\r\n  \r\n  value = Number(value);\r\n  \r\n  return !!(value || value === 0);\r\n}\r\n\r\n/**\r\n * @function isObject\r\n * @public\r\n * @param {*} value - Value to check if it is an object.\r\n * @returns {Boolean} If the argument is an object or not.\r\n *\r\n * @example\r\n * isObject({});   // true\r\n * isObject(1);    // false\r\n * isObject(null); // false\r\n */\r\nexport function isObject(value) {\r\n  return !!value && (toStringTag(value) === 'Object' || typeof value === 'object' || value instanceof Object);\r\n}\r\n\r\n/**\r\n * @function isPlainObject\r\n * @public\r\n * @param {*} value - Value to check if it is a plain object.\r\n * @returns {Boolean} If the argument is a plain object or not.\r\n *\r\n * @example\r\n * const obj = {};\r\n *\r\n * ifPlainObject(obj); // true\r\n *\r\n * Object.setPrototypeOf(object, null);\r\n *\r\n * ifPlainObject(obj); // true\r\n *\r\n * Object.setPrototypeOf(object, {});\r\n *\r\n * ifPlainObject(obj); // false\r\n */\r\nexport function isPlainObject(value) {\r\n  if (isPrimitive(value)) {\r\n    return false;\r\n  }\r\n\r\n  const proto = Object.getPrototypeOf(value);\r\n\r\n  if (isNull(proto)) {\r\n    return true;\r\n  }\r\n\r\n  const constructor = proto.constructor;\r\n\r\n  return isFunction(constructor) &&\r\n    constructor instanceof constructor &&\r\n    isNull(Object.getPrototypeOf(proto));\r\n}\r\n\r\n/**\r\n * @function isPrimitive\r\n * @public\r\n * @param {*} value - Value to check if it is primitive.\r\n * @returns {Boolean} If the argument is primitive or not.\r\n *\r\n * @example\r\n * isPrimitive(1);             // true\r\n * isPrimitive({});            // false\r\n * isPrimitive('');            // true\r\n * isPrimitive(new Number(0)); // false\r\n * isPrimitive(true);          // true\r\n * isPrimitive(Symbol('foo')); // true\r\n * isPrimitive(null);          // true\r\n * isPrimitive(undefined);     // true\r\n */\r\nexport function isPrimitive(value) {\r\n  return isNull(value) || /^(number|string|boolean|symbol|undefined)$/.test(typeof value);\r\n}\r\n\r\n/**\r\n * @function isRegExp\r\n * @public\r\n * @param {*} value - Value to check if it is a regular expression.\r\n * @returns {Boolean} If the argument is a regular expression or not.\r\n *\r\n * @example\r\n * isRegExp(/foo/);             // true\r\n * isRegExp('/foo/');           // false\r\n * isRegExp(new RegExp('foo')); // true\r\n */\r\nexport function isRegExp(value) {\r\n  return toStringTag(value) === 'RegExp';\r\n}\r\n\r\n/**\r\n * @function isString\r\n * @public\r\n * @param {*} value - Value to check if it is a string.\r\n * @returns {Boolean} If the argument is a string or not.\r\n *\r\n * @example\r\n * isString('0');             // true\r\n * isString(new String('0')); // true\r\n */\r\nexport function isString(value) {\r\n  return toStringTag(value) === 'String';\r\n}\r\n\r\n/**\r\n * @function isSymbol\r\n * @public\r\n * @param {*} value - Value to check if it is a symbol.\r\n * @returns {Boolean} If the argument is a symbol or not.\r\n *\r\n * @example\r\n * isSymbol(Symbol('1')); // true\r\n */\r\nexport function isSymbol(value) {\r\n  return toStringTag(value) === 'Symbol';\r\n}\r\n\r\n/**\r\n * @function isUndefined\r\n * @public\r\n * @param {*} value - Value to check if it is undefined.\r\n * @returns {Boolean} If the argument is undefined or not.\r\n *\r\n * @example\r\n * isUndefined(null);      // false\r\n * isUndefined(undefined); // true\r\n */\r\nexport function isUndefined(value) {\r\n  return typeof value === 'undefined';\r\n}\r\n","/**\r\n * @module D\r\n * @private\r\n * @description Exports D function.\r\n */\r\n\r\nimport { constructors } from './constants';\r\n\r\n/**\r\n * @function D\r\n * @public\r\n * @param {*} [value] - Any value.\r\n * @returns {DWrap} Wrap of the argument.\r\n * @description Function for creating a D-wrap of an object.\r\n *\r\n * @example\r\n * D({});            // Super\r\n * D(() => {});      // Func\r\n * D([]);            // Arr\r\n * D(1);             // Num\r\n * D('1');           // Str\r\n * D(new Date());    // Dat\r\n * D(document.body); // Elem\r\n */\r\nfunction D(value) {\r\n  for (let i = constructors.length - 1; i >= 0; i--) {\r\n    const levelConstructors = constructors[i];\r\n\r\n    for (let k = 0, len = levelConstructors.length; k < len; k++) {\r\n      const constructor = levelConstructors[k];\r\n\r\n      if (value instanceof constructor.cls) {\r\n        return value;\r\n      }\r\n\r\n      if (constructor.check(value)) {\r\n        return new constructor.cls(value);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport * from './helpers/checkTypes';\r\nexport { D };\r\n","/**\r\n * @module helpers/iterate\r\n * @private\r\n * @description Exports iterate method.\r\n */\r\n\r\nimport { isArrayLike, isUndefined } from './checkTypes';\r\n\r\n/**\r\n * @callback IterationCallback\r\n * @param {*} value - Iteration value.\r\n * @param {String|Number} key - Iteration key.\r\n * @param {*} object - Initial iterable object.\r\n */\r\n\r\n/**\r\n * @function iterate\r\n * @param {(Object|Array|null|undefined)} object - Value to iterate over.\r\n * @param {IterationCallback} callback - Callback that is called on every iteration.\r\n * @returns {*} If callback returns not undefined then iterate returns this value.\r\n * @description Function for iterating over all types of values.\r\n */\r\nexport function iterate(object, callback) {\r\n  const array = isArrayLike(object);\r\n  const iteratedKeys = {};\r\n\r\n  let iterated = 0;\r\n\r\n  for (const key in object) {\r\n    if ({}.hasOwnProperty.call(iteratedKeys, key)) {\r\n      continue;\r\n    }\r\n\r\n    iteratedKeys[key] = true;\r\n\r\n    if ({}.hasOwnProperty.call(object, key)) {\r\n      if (array && iterated++ >= object.length) {\r\n        break;\r\n      }\r\n\r\n      const value = callback(object[key], array ? Number(key) : key, object);\r\n\r\n      if (!isUndefined(value)) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @module helpers/assign\r\n * @private\r\n * @description Exports Object.assign-like method.\r\n */\r\n\r\nimport { iterate } from './iterate';\r\n\r\n/**\r\n * @const\r\n * @function assign\r\n * @param {Object} target - Object to assign rest of arguments to.\r\n * @param {...Object} objects - Objects that are assigned to the target.\r\n * @returns {Object} Target.\r\n */\r\nexport function assign(target, ...objects) {\r\n  iterate(arguments, (source, index) => {\r\n    if (index) {\r\n      iterate(source, (value, key) => {\r\n        target[key] = value;\r\n      });\r\n    }\r\n  });\r\n    \r\n  return target;\r\n}\r\n","/**\r\n * @module helpers/defineProperty\r\n * @private\r\n * @description Exports defineProperty and dynamicDefineProperties methods.\r\n */\r\n\r\nimport { iterate } from './iterate';\r\n\r\n/**\r\n * @callback propertyGeneratorCallback\r\n * @param {String} name - Name of the property.\r\n * @param {Number} i - Index of the array.\r\n * @returns {*} Generated property.\r\n */\r\n\r\n/**\r\n * @function dynamicDefineProperties\r\n * @param {Object} target - Object to define properties for.\r\n * @param {Array} properties - Object which keys are properties.\r\n * @param {propertyGeneratorCallback} propertyGenerator - Callback for every property.\r\n * @returns {void}\r\n * @description Function for dynamic creating properties based on name of the method.\r\n */\r\nexport function dynamicDefineProperties(target, properties, propertyGenerator) {\r\n  iterate(properties, (name, i) => {\r\n    Object.defineProperty(target, name, {\r\n      value: propertyGenerator(name, i),\r\n      writable: true,\r\n      enumerable: false,\r\n      configurable: true\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * @function defineProperties\r\n * @param {Object} target - Target to define properties for.\r\n * @param {Object} properties - Object with properties needed to be assign to the target.\r\n * @returns {void}\r\n * @description Function for defining properties of an object.\r\n */\r\nexport function defineProperties(target, properties) {\r\n  iterate(properties, (method, name) => {\r\n    if (/^get /.test(name)) {\r\n      Object.defineProperty(target, name.replace(/^get /, ''), {\r\n        get: method,\r\n        set: undefined,\r\n        enumerable: false,\r\n        configurable: true\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    if (/^set /.test(name)) {\r\n      Object.defineProperty(target, name.replace(/^set /, ''), {\r\n        set: method,\r\n        get: undefined,\r\n        enumerable: false,\r\n        configurable: true\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    if (/^get\\/set /.test(name)) {\r\n      Object.defineProperty(target, name.replace(/^get\\/set /, ''), {\r\n        get: method.get,\r\n        set: method.set,\r\n        enumerable: false,\r\n        configurable: true\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    if (name !== 'Symbol.toStringTag') {\r\n      Object.defineProperty(target, name, {\r\n        value: method,\r\n        writable: true,\r\n        enumerable: false,\r\n        configurable: true\r\n      });\r\n    }\r\n  });\r\n}\r\n","/**\r\n * @module helpers/toArray\r\n * @private\r\n * @description Exports toArray method.\r\n */\r\n\r\nimport { isArray, isArrayLike, isString } from './checkTypes';\r\nimport { iterate } from './iterate';\r\n\r\n/**\r\n * @function toArray\r\n * @param {*} value - Any value.\r\n * @param {Boolean} [createNewArray = false] - If it is needed to create new array.\r\n * @returns {Array} Create array.\r\n * @description Function for creating an array of any value.\r\n */\r\nexport function toArray(value, createNewArray) {\r\n  if (isArray(value) && !createNewArray) {\r\n    return value;\r\n  }\r\n\r\n  const array = [];\r\n\r\n  if (isArrayLike(value) && !isString(value)) {\r\n    iterate(value, (value) => {\r\n      array.push(value);\r\n    });\r\n  } else {\r\n    array.push(value);\r\n  }\r\n\r\n  return array;\r\n}\r\n","/**\r\n * @module helpers/validate\r\n * @private\r\n * @description Exports validate method.\r\n */\r\n\r\nimport { validateCheckExpressions } from '../constants';\r\nimport { iterate } from './iterate';\r\nimport { isArray } from './checkTypes';\r\n\r\nconst numbers = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th'];\r\n\r\n/**\r\n * @function validate\r\n * @private\r\n * @param {Object} args - Arguments of function.\r\n * @param {Object} options - Object with validate parameters.\r\n * @param {String} [name] - Name of the function what called validate.\r\n * @returns {void}\r\n * @description Function for checking arguments of other functions.\r\n */\r\nexport function validate(args, options, name) {\r\n  iterate(options, (array, number) => {\r\n    if (!isArray(array)) {\r\n      array = [array];\r\n    }\r\n\r\n    iterate(array, (checker) => {\r\n      checker = validateCheckExpressions[checker];\r\n\r\n      if (!checker.check(args[number])) {\r\n        throw new checker.error(checker.text.replace('$n', numbers[number]) + (name ? ` (at ${ name })` : ''));\r\n      }\r\n    });\r\n  });\r\n}\r\n","/**\r\n * @module Alphabet\r\n * @private\r\n * @mixin\r\n * @description Exports Alphabet class.\r\n */\r\n\r\nimport { isString, validate, defineProperties, Symbol } from './helpers';\r\n\r\n/**\r\n * @typedef {String} Char\r\n * @public\r\n * @description A string of one char.\r\n */\r\n\r\n/**\r\n * @class Alphabet\r\n * @public\r\n * @param {ArrayLike} alphabet - Alphabet to wrap.\r\n * @returns {Alphabet} Instance of Alphabet.\r\n * @description Class for alphabet manipulations: add, delete symbols, generate a token from an alphabet,\r\n * check if an alphabet contains a word.\r\n *\r\n * @example\r\n * new Alphabet(['a', 'b', 'c']);\r\n */\r\nclass Alphabet {\r\n  constructor(alphabet = []) {\r\n    const a = {};\r\n\r\n    for (let i = 0, length = alphabet.length; i < length; i++) {\r\n      const char = alphabet[i];\r\n\r\n      if (!check(char)) {\r\n        throw new Error('Each element of an array must be a single char! (in Alphabet)');\r\n      }\r\n\r\n      a[char] = char;\r\n    }\r\n\r\n    /**\r\n     * @member {Object} Alphabet#$$\r\n     * @public\r\n     * @description The alphabet.\r\n     */\r\n    Object.defineProperty(this, '$$', { value: a });\r\n  }\r\n\r\n  /**\r\n   * @method Alphabet#add\r\n   * @public\r\n   * @param {...Char} chars - Chars to add.\r\n   * @returns {Alphabet} Returns this.\r\n   * @description Method for adding new letters to the alphabet.\r\n   *\r\n   * @example\r\n   * const alphabet = new Alphabet(['a', 'b', 'c']);\r\n   *\r\n   * alphabet.add('d', 'e');\r\n   *\r\n   * alphabet.get().$; // ['a', 'b', 'c', 'd', 'e']\r\n   */\r\n  add(...chars) {\r\n    for (let i = 0, length = chars.length; i < length; i++) {\r\n      const char = chars[i];\r\n\r\n      if (!check(char)) {\r\n        throw new Error('Each argument must be a single char! (in Alphabet#add)');\r\n      }\r\n\r\n      this.$$[char] = char;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Alphabet#contains\r\n   * @public\r\n   * @param {String} word - Word to check if it is in the alphabet or not.\r\n   * @returns {Boolean} If the word in the alphabet or not.\r\n   * @description Method that returns if a word is in alphabet or not.\r\n   *\r\n   * @example\r\n   * const alphabet = new Alphabet(['f', 'b', 'o', 'a', 'r']);\r\n   *\r\n   * alphabet.contains('foo'); // true\r\n   * alphabet.contains('bar'); // true\r\n   * alphabet.contains('baz'); // false\r\n   */\r\n  contains(word) {\r\n    validate([word], ['string'], 'Alphabet#contains');\r\n\r\n    const alphabet = this.$$;\r\n\r\n    for (let i = 0, length = word.length; i < length; i++) {\r\n      if (!alphabet[word[i]]) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @method Alphabet#delete\r\n   * @public\r\n   * @param {...Char} chars - Chars to delete.\r\n   * @returns {Alphabet} Returns this.\r\n   * @description Method for deleting letters from the alphabet.\r\n   *\r\n   * @example\r\n   * const alphabet = new Alphabet(['a', 'b', 'c', 'd']);\r\n   *\r\n   * alphabet.delete('a');\r\n   *\r\n   * alphabet.get().$; // ['b', 'c', 'd']\r\n   *\r\n   * alphabet.delete('b', 'd');\r\n   *\r\n   * alphabet.get().$; // ['c']\r\n   */\r\n  delete(...chars) {\r\n    for (let i = 0, length = chars.length; i < length; i++) {\r\n      const char = chars[i];\r\n\r\n      if (!check(char)) {\r\n        throw new Error('Each argument must be a single char! (in Alphabet#delete)');\r\n      }\r\n\r\n      delete this.$$[char];\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Alphabet#get\r\n   * @returns {Array} Wrap of an array of alphabet letters.\r\n   * @description Method for getting array of alphabet letters.\r\n   *\r\n   * @example\r\n   * new Alphabet(['a', 'b', 'c']).get().$; // ['a', 'b', 'c']\r\n   */\r\n  get() {\r\n    return Object.keys(this.$$);\r\n  }\r\n\r\n  /**\r\n   * @method Alphabet#token\r\n   * @public\r\n   * @param {Number} length - Token length.\r\n   * @returns {String} Token.\r\n   * @description Method for generating random token with given length.\r\n   *\r\n   * @example\r\n   * new Alphabet(['a', 'b', 'c']).token(4); // 'abcb'\r\n   */\r\n  token(length) {\r\n    validate([length], [['intLike', '>0']], 'Alphabet#token');\r\n\r\n    const alphabet = Object.keys(this.$$);\r\n    const len = alphabet.length;\r\n    let token = '';\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      token += alphabet[Math.floor(Math.random() * len)];\r\n    }\r\n\r\n    return token;\r\n  }\r\n}\r\n\r\ndefineProperties(Alphabet.prototype, {\r\n  [Symbol.toStringTag]: 'Alphabet'\r\n});\r\n\r\nfunction check(char) {\r\n  return isString(char) && char.length === 1;\r\n}\r\n\r\n/**\r\n * @function alphabet\r\n * @public\r\n * @param {String} string - String to generate an alphabet from.\r\n * @returns {Alphabet} New instance of Alphabet.\r\n * @description Function for creating an alphabet from a string that has format like this:\r\n * '&lt;char1&gt;-&lt;char2&gt; &lt;char3&gt;-&lt;char4&gt;'\r\n *\r\n * @example\r\n * const a1 = alphabet('a-c 1-3');\r\n * const a2 = alphabet('5-5f-g');\r\n *\r\n * a1.get().$; // ['1', '2', '3', 'a', 'b', 'c']\r\n * a2.get().$; // ['5', 'f', 'g']\r\n */\r\nfunction alphabet(string) {\r\n  validate([string], ['string']);\r\n\r\n  const ranges = string.split(/([\\s\\S]-+[\\s\\S])?/g);\r\n  const length = ranges.length;\r\n  const alphabet = [];\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    const range = ranges[i];\r\n\r\n    if (!range || range === ' ') {\r\n      continue;\r\n    }\r\n\r\n    if (/-/.test(range) && !/[\\s\\S]-+[\\s\\S]/.test(range)) {\r\n      throw new Error(`Wrong part of the string (${ range })! (in alphabet)`);\r\n    }\r\n\r\n    if (/-/.test(range)) {\r\n      const start = range.charCodeAt(0);\r\n      const end = range.charCodeAt(2);\r\n\r\n      if (start > end) {\r\n        throw new Error('Start of the range must be before its end! (in alphabet)');\r\n      }\r\n\r\n      for (let k = 0, len = end - start + 1; k < len; k++) {\r\n        alphabet.push(String.fromCharCode(start + k));\r\n      }\r\n\r\n      continue;\r\n    }\r\n\r\n    if (range.length === 1) {\r\n      alphabet.push(range);\r\n    }\r\n  }\r\n\r\n  return new Alphabet(alphabet);\r\n}\r\n\r\nexport { Alphabet, alphabet };\r\n","/**\r\n * @module Switcher\r\n * @private\r\n * @mixin\r\n * @description Exports Switcher class.\r\n */\r\n\r\nimport {\r\n  isArray, isFunction, isString, isUndefined,\r\n  iterate, Symbol, toArray, defineProperties\r\n} from './helpers';\r\n\r\n/**\r\n * @typedef {'boolean'|'equals'|'strictEquals'|'call'} SwitcherMode\r\n * @public\r\n * @description Enum type of switcher modes.\r\n */\r\n\r\n/**\r\n * @callback SwitcherCallCallback\r\n * @public\r\n * @param {*} value - Switcher value.\r\n * @returns {Boolean|*} On what the callback returns depends if the case is a match (truthy for the match).\r\n */\r\n\r\n/**\r\n * @callback SwitcherMatchCallback\r\n * @public\r\n * @param {...*} args - Arguments from the second argument that switcher was called with.\r\n * @param {*} value - Switcher value.\r\n * @param {*} matched - Switcher matched case.\r\n */\r\n\r\n/**\r\n * @class Switcher\r\n * @public\r\n * @param {Object} [cases = {}] - Object of cases.\r\n * @param {SwitcherMode} [mode = 'equals'] - Switcher mode.\r\n * @param {*} [defaultValue] - Switcher default value.\r\n * @returns {Switcher} - Instance of Switcher.\r\n * @description Switcher class for creating functions working similar to switch (value) {} construction,\r\n * but with the value assignment. Switcher instance is a function that accepts a value argument and an optional\r\n * args argument. Args with additional switcher value and matched case\r\n * are passed into the function of the matched case (if it is a function).\r\n *\r\n * @example\r\n * const switcher = new Switcher();\r\n * const switcher = new Switcher({\r\n *   case1: 'value1',\r\n *   case2: 'value2'\r\n * });\r\n * const switcher = new Switcher('strictEquals');\r\n * const switcher = new Switcher({\r\n *   case1: 'value1',\r\n *   case2: 'value2'\r\n * }, 'strictEquals');\r\n * const switcher = new Switcher('strictEquals', 'defaultValue');\r\n * const switcher = new Switcher({\r\n *   case1: 'value1',\r\n *   case2: 'value2'\r\n * }, 'strictEquals', 'defaultValue');\r\n *\r\n * // See [switcher]{@link switcher} examples for more information.\r\n */\r\nclass Switcher extends Function {\r\n  constructor(cases = {}, mode = 'equals', defaultValue) {\r\n    super();\r\n\r\n    if (isString(cases)) {\r\n      if (!isUndefined(arguments[1])) {\r\n        defaultValue = mode;\r\n      }\r\n\r\n      mode = cases;\r\n      cases = {};\r\n    }\r\n\r\n    const eventualCases = [];\r\n\r\n    iterate(cases, (value, Case) => {\r\n      eventualCases.push({ case: Case, value });\r\n    });\r\n\r\n    function switcher(value, args = []) {\r\n      const { mode, default: def, cases } = switcher.$$;\r\n\r\n      let ret = iterate(cases, ({ value: val, case: Case }) => {\r\n        if (\r\n          (mode === 'boolean' && Case) ||\r\n          /* eslint eqeqeq: 0 */\r\n          (mode === 'equals' && Case == value) ||\r\n          (mode === 'strictEquals' && Case === value) ||\r\n          (mode === 'call' && Case(value))\r\n        ) {\r\n          return { case: Case, value: val };\r\n        }\r\n      });\r\n\r\n      if (isUndefined(ret)) {\r\n        ret = { value: def };\r\n      }\r\n\r\n      if (!isFunction(ret.value)) {\r\n        return ret.value;\r\n      }\r\n\r\n      args = toArray(args, true);\r\n      args.push(value, ret.case);\r\n\r\n      return ret.value.apply(null, args);\r\n    }\r\n\r\n    /**\r\n     * @member Switcher#$$\r\n     * @type {Object}\r\n     * @protected\r\n     * @property {Array} cases - Array of cases.\r\n     * @property {SwitcherMode} mode - Switcher mode.\r\n     * @property {*} default - Switcher default value.\r\n     * @description Config parameters.\r\n     */\r\n    Object.defineProperty(switcher, '$$', {\r\n      value: {\r\n        cases: eventualCases,\r\n        mode,\r\n        default: defaultValue\r\n      }\r\n    });\r\n    Object.setPrototypeOf(switcher, Switcher.prototype);\r\n\r\n    return switcher;\r\n  }\r\n\r\n  /**\r\n   * @method Switcher#case\r\n   * @public\r\n   * @param {*|SwitcherCallCallback|Array.<*|SwitcherCallCallback>} cases - Case or an array of cases.\r\n   * @param {*|SwitcherMatchCallback} value - Value that has to be assigned or a function\r\n   * that is called with switcher value, if it's the case.\r\n   * @returns {Switcher} Returns this.\r\n   * @description Method for defining new cases.\r\n   *\r\n   * @example\r\n   * const sw = new Switcher()\r\n   *   .case(1, 'one')\r\n   *   .case(2, 'two');\r\n   *\r\n   * sw(1); // 'one'\r\n   * sw(2); // 'two'\r\n   */\r\n  case(cases, value) {\r\n    if (!isArray(cases)) {\r\n      cases = [cases];\r\n    }\r\n\r\n    iterate(cases, (Case) => {\r\n      this.$$.cases.push({ case: Case, value });\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Switcher#default\r\n   * @public\r\n   * @param {*} def - New default value.\r\n   * @returns {Switcher} Returns this.\r\n   * @description Method for redefining default switcher value.\r\n   *\r\n   * @example\r\n   * const sw = new Switcher()\r\n   *   .case(1, 'one')\r\n   *   .default('three');\r\n   *\r\n   * sw(1); // 'one'\r\n   * sw(2); // 'three'\r\n   */\r\n  default(def) {\r\n    this.$$.default = def;\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Switcher#mode\r\n   * @public\r\n   * @param {SwitcherMode} mode - New switcher mode.\r\n   * @returns {Switcher} Returns this.\r\n   * @description Method for redefining switcher mode.\r\n   *\r\n   * @example\r\n   * const sw = new Switcher()\r\n   *   .mode('strictEquals')\r\n   *   .case(1, 'number')\r\n   *   .case('1', 'string');\r\n   *\r\n   * sw(1);   // 'number'\r\n   * sw('1'); // 'string'\r\n   */\r\n  mode(mode) {\r\n    this.$$.mode = mode;\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\ndefineProperties(Switcher.prototype, {\r\n  [Symbol.toStringTag]: 'Switcher'\r\n});\r\n\r\n/**\r\n * @function switcher\r\n * @public\r\n * @param {Object} [cases = {}] - Object of cases.\r\n * @param {SwitcherMode} [mode = 'equals'] - Switcher mode.\r\n * @param {*} [defaultValue] - Switcher default value.\r\n * @returns {Switcher} New instance of Switcher.\r\n * @description Simple wrap of [new Switcher(...)]{@link Switcher}.\r\n * \r\n * @example\r\n * const sw = switcher({\r\n *   1: 'foo',\r\n *   2: 'bar'\r\n * });\r\n * sw(1); // 'foo'\r\n * sw(2); // 'bar'\r\n * sw(3); // undefined\r\n * \r\n * @example\r\n * const sw = switcher()\r\n *   .case([1, 2], 'foo')\r\n *   .case(3, 'bar');\r\n *   \r\n * sw(1); // 'foo'\r\n * sw(2); // 'foo'\r\n * sw(3); // 'bar'\r\n * \r\n * @example\r\n * const sw = switcher('call')\r\n *   .case(isArray, 'array')\r\n *   .case(isString, 'string')\r\n *   .case(isNumber, 'number')\r\n *   .default('rest');\r\n *   \r\n * sw([]);    // 'array'\r\n * sw('foo'); // 'string'\r\n * sw(123);   // 'number'\r\n * sw({});    // 'rest'\r\n * \r\n * @example\r\n * const sw = switcher({\r\n *   1: (value) => {\r\n *     console.log(value + 1);\r\n *   },\r\n *   2: () => {\r\n *     console.log(value - 1);\r\n *   }\r\n * });\r\n * \r\n * sw(1); // 2\r\n * sw(2); // 1\r\n * \r\n * @example\r\n * const sw = switcher({\r\n *   first: (array) => array[0],\r\n *   last: (array) => array[array.length - 1]\r\n * }, 'equals', (array, index) => array[index]);\r\n * const array = [1, 2, 3, 4];\r\n * \r\n * sw('first', [array]); // 1\r\n * sw('last', [array]);  // 4\r\n * sw(1, [array]);       // 2\r\n * sw(2, [array]);       // 3\r\n */\r\nfunction switcher(cases, mode, defaultValue) {\r\n  return new Switcher(...arguments);\r\n}\r\n\r\n/**\r\n * @function when\r\n * @public\r\n * @param {Boolean|*} condition - Condition used for returning the proper value.\r\n * @param {*} value1 - Value if the condition is truthy.\r\n * @param {*} value2 - Value if the condition is falsey.\r\n * @returns {*} value1 or value2.\r\n * @description Synonym for\r\n * [ternary operator]{@link https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Operators/Conditional_Operator}.\r\n * \r\n * @example\r\n * when(true, 'true', 'false'); // 'true'\r\n */\r\nfunction when(condition, value1, value2) {\r\n  return condition ? value1 : value2;\r\n}\r\n\r\nexport { Switcher, switcher, when };\r\n","/**\r\n * @module Super\r\n * @private\r\n * @mixin\r\n * @description Exports Super class.\r\n */\r\n\r\nimport { D } from './D';\r\nimport { switcher } from './Switcher';\r\nimport { constructors } from './constants/constructors';\r\nimport {\r\n  isArray, isArrayLike, isDate, isElement, isFunction, isNil, isNaN, isNull,\r\n  isObject, isPlainObject, isPrimitive, isRegExp, isString, isUndefined,\r\n  validate, toStringTag, iterate, Symbol, defineProperties\r\n} from './helpers';\r\n\r\n/**\r\n * @typedef {Super|Arr|Func|Elem|Str|Num|Dat|BlobObject} DWrap\r\n * @public\r\n * @description Any kind of D-Wrap.\r\n */\r\n\r\n/**\r\n * @typedef {String|Number|null} Key\r\n * @public\r\n * @description Key type used in many methods.\r\n */\r\n\r\n/**\r\n * @typedef {TreeElement[]} Tree\r\n * @public\r\n */\r\n\r\n/**\r\n * @typedef {Object} TreeElement\r\n * @public\r\n * @property {Key} key - Tree element key.\r\n * @property {*} value - Tree element value.\r\n * @description {@link Tree} element.\r\n */\r\n\r\n/**\r\n * @callback DeepIterationCallback\r\n * @public\r\n * @param {*} value - Current iteration value.\r\n * @param {String|Number} key - Current iteration key/index.\r\n * @param {*} object - Iteration object.\r\n * @param {Tree} tree - Tree of { key, value } elements.\r\n */\r\n\r\n/**\r\n * @callback DeepReduceCallback\r\n * @public\r\n * @param {*} previousValue - Previous value.\r\n * @param {*} value - Current iteration value.\r\n * @param {String|Number} key - Current iteration key/index.\r\n * @param {*} object - Iteration object.\r\n * @param {Tree} tree - Tree of { key, value } elements.\r\n */\r\n\r\n/**\r\n * @callback IterationCallback\r\n * @public\r\n * @param {*} value - Current iteration value.\r\n * @param {String|Number} key - Current iteration key/index.\r\n * @param {*} object - Iteration object.\r\n */\r\n\r\n/**\r\n * @callback JSONCallback\r\n * @public\r\n * @param {String|null} key - Current value.\r\n * @param {*} value - Current key.\r\n * @param {Object} object - Iteration object.\r\n */\r\n\r\n/**\r\n * @callback ObjectCallback\r\n * @public\r\n * @param {Object} newObject - The new object.\r\n * @param {*} value - Current iteration value.\r\n * @param {String|Number} key - Current iteration key/index.\r\n * @param {*} object - Iteration object.\r\n */\r\n\r\n/**\r\n * @callback ReduceCallback\r\n * @public\r\n * @param {*} previousValue - Previous value.\r\n * @param {*} value - Current iteration value.\r\n * @param {String|Number} key - Current iteration key/index.\r\n * @param {*} object - Iteration object.\r\n */\r\n\r\n/**\r\n * @callback SuperMethod\r\n * @public\r\n * @this {DWrap}\r\n */\r\n\r\nconst cloneSwitcher = switcher('call', (object) => object)\r\n  .case(\r\n    (object) => new Super(object) === object,\r\n    (object) => new (Object.getPrototypeOf(object).constructor)(new Super(object.$).deepClone().$)\r\n  )\r\n  .case(isElement, (object, deep) => object.clone(deep))\r\n  .case(isDate, (object) => new Date(object))\r\n  .case(isRegExp, (object) => new RegExp(object.source, object.toString().match(/[gimuy]*$/)[0]))\r\n  .case(isArray, () => [])\r\n  .case(isPlainObject, () => ({}));\r\n\r\n/**\r\n * @class Super\r\n * @public\r\n * @param {*} [object] - An object to wrap.\r\n * @returns {DWrap} Instance of Super.\r\n * @description Wrap of any value. And there is no way to create a nested wrap.\r\n *\r\n * @example\r\n * new Super({}); // Super\r\n */\r\nclass Super {\r\n  constructor(object) {\r\n    if (object instanceof Super) {\r\n      return object;\r\n    }\r\n\r\n    /**\r\n     * @member Super#$\r\n     * @type {*}\r\n     * @public\r\n     * @description Wrapped object.\r\n     */\r\n    Object.defineProperty(this, '$', { value: object });\r\n  }\r\n\r\n  /**\r\n   * @method Super.addStaticProperties\r\n   * @public\r\n   * @param {String|Object} property - Either a string of a property or an object\r\n   * with properties keys and values values.\r\n   * @param {Object} [value] - If a property parameter is a string this has to be a property value.\r\n   * @returns {this} Returns this.\r\n   * @description Sets static properties for DWrap constructors.\r\n   *\r\n   * @example\r\n   * Super.addStaticProperties('cool', 42);\r\n   * Super.addStaticProperties('superCool', 42*42);\r\n   */\r\n  static addStaticProperties(property, value) {\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: value };\r\n    }\r\n\r\n    defineProperties(this, property);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super.addInstanceProperties\r\n   * @public\r\n   * @param {String|Object} property - Either a string of a property or an object\r\n   * with properties keys and values values.\r\n   * @param {Object} [value] - If a property parameter is a string this has to be a property value.\r\n   * @returns {this} Returns this.\r\n   * @description Sets static properties for DWrap prototypes.\r\n   *\r\n   * @example\r\n   * Super.addInstanceProperties('cool', 42);\r\n   * Super.addInstanceProperties('superCool', 42*42);\r\n   */\r\n  static addInstanceProperties(property, value) {\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: value };\r\n    }\r\n\r\n    defineProperties(this.prototype, property);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#assign\r\n   * @public\r\n   * @param {...(Object|Super|*)} objects - Objects to be assigned to the object.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Synonym for\r\n   * [Object.assign]\r\n   * {@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2 }).assign({ a: 3 }, { c: 3, d: 4 }, { d: 5 }).$; // { a: 3, b: 2, c: 3, d: 5 }\r\n   */\r\n  assign(...objects) {\r\n    const object = this.$;\r\n\r\n    iterate(object && arguments, (o) => {\r\n      iterate(new Super(o).$, (value, key) => {\r\n        object[key] = value;\r\n      });\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#average\r\n   * @public\r\n   * @param {IterationCallback} [callback = null] - Callback that is passed to {@link Super#sum}.\r\n   * @returns {Number} Average value.\r\n   * @description Synonym for object.sum(callback) / object.count.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).average();                         // 2\r\n   * new Super({ a: 1, b: 2, c: 5 }).average((value) => value * value); // 10\r\n   */\r\n  average(callback = null) {\r\n    validate([callback], ['function||!'], 'Super#average');\r\n\r\n    return this.sum(callback) / this.count;\r\n  }\r\n\r\n  /**\r\n   * @method Super#call\r\n   * @public\r\n   * @param {SuperMethod} func - Function to be called with this context.\r\n   * @param {...*} args - Arguments to be called with.\r\n   * @returns {*} Return of function call.\r\n   * @description Synonym for func.call(DObject, ...args);\r\n   *\r\n   * @example\r\n   * new Super({ a: 1 }).call(function (b, c) {\r\n   *   return this.a + b + c;\r\n   * }, 2, 3); // 6\r\n   */\r\n  call(func, ...args) {\r\n    validate([func], ['function'], 'Super#call');\r\n\r\n    return func.apply(this, args);\r\n  }\r\n\r\n  /**\r\n   * @method Super#clone\r\n   * @returns {DWrap} New object.\r\n   * @description Method assigns properties of the object to an empty one and returns the new one.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2 } }).clone().$; // { a: 1, b: { c: 2 } }\r\n   */\r\n  clone() {\r\n    const object = this.$;\r\n    const clone = cloneSwitcher(object, [object, false]);\r\n\r\n    if (clone !== object) {\r\n      iterate(object, (value, key) => {\r\n        clone[key] = value;\r\n      });\r\n    }\r\n\r\n    return new this.constructor(clone);\r\n  }\r\n\r\n  /**\r\n   * @member Super#count\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @description Returns number of own enumerable keys of the object.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2 }).count; // 2\r\n   */\r\n  get count() {\r\n    const object = this.$;\r\n\r\n    if (!isObject(object)) {\r\n      return 0;\r\n    }\r\n\r\n    return isArrayLike(object) ? object.length : Object.keys(object).length;\r\n  }\r\n\r\n  /**\r\n   * @method Super#create\r\n   * @public\r\n   * @param {Object} [descriptors] - Descriptors passed to Object.create.\r\n   * @returns {DWrap} New instance of D-Wrap.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/create\r\n   * @description Synonym for\r\n   * [Object.create]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/create}.\r\n   *\r\n   * @example\r\n   * new Super({}).create({\r\n   *   a: {\r\n   *     value: 1,\r\n   *     enumerable: false,\r\n   *     writable: true,\r\n   *     configurable: false\r\n   *   }\r\n   * }).$; // { a: 1 }\r\n   */\r\n  create(descriptors) {\r\n    return D(isPrimitive(this.$) ? undefined : Object.create(this.$, descriptors));\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepAssign\r\n   * @public\r\n   * @param {...*} objects - Objects to be assigned to the object.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Deep analogue of {@link Super#assign}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1 }).deepAssign(\r\n   *   {\r\n   *     b: {\r\n   *       c: 2\r\n   *     }\r\n   *   },\r\n   *   {\r\n   *     a: {\r\n   *       b: 1\r\n   *     }\r\n   *   },\r\n   *   {\r\n   *     a: {\r\n   *       c: {\r\n   *         d: 1\r\n   *       }\r\n   *     },\r\n   *     b: 2\r\n   *   },\r\n   *   null\r\n   * });\r\n   * // {\r\n   * //   a: {\r\n   * //     b: 1,\r\n   * //     c: {\r\n   * //       d: 1\r\n   * //     }\r\n   * //   },\r\n   * //   b: 2,\r\n   * // }\r\n   */\r\n  deepAssign(...objects) {\r\n    const object = this.$;\r\n\r\n    if (isPrimitive(object)) {\r\n      return this;\r\n    }\r\n\r\n    iterate(arguments, (o) => {\r\n      deepAssign(object, o);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepClone\r\n   * @public\r\n   * @returns {DWrap} New instance of DWrap.\r\n   * @description Deep cloning method. Clones plain objects, arrays, regular expressions and elements, the rest stays the same.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: [2, 3], c: { d: 4 } }).deepClone().$;\r\n   * // {\r\n   * //   a: 1,\r\n   * //   b: [2, 3],\r\n   * //   c: { d: 4 }\r\n   * // }\r\n   */\r\n  deepClone() {\r\n    return new this.constructor(deepClone(this.$));\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepEquals\r\n   * @public\r\n   * @param {*} [object] - Object to compare to.\r\n   * @returns {Boolean} - If the objects are deep equal or not.\r\n   * @description Method for deep comparison of two objects.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1 }).deepEquals({ a: '1' }); // true\r\n   * new Super(/1/).deepEquals(/1/);             // true\r\n   */\r\n  deepEquals(object = null) {\r\n    return deepEqual(this.$, object, false);\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepEvery\r\n   * @public\r\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy iteration goes on and if falsey it stops.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @returns {Boolean} If all the callback calls returned truthy value.\r\n   * @description Returns boolean if all the callback calls returned truthy value.\r\n   * Otherwise false. Deep analogue of {@link Super#every}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepEvery((value) => value < 4); // true\r\n   * new Super({ a: {}, b: {}, c: {} }).deepEvery(() => false);              // true\r\n   */\r\n  deepEvery(callback, n) {\r\n    if (arguments.length === 1 && !isFunction(callback)) {\r\n      n = callback;\r\n      callback = Boolean;\r\n    } else if (arguments.length === 1) {\r\n      n = Infinity;\r\n    } else if (!arguments.length) {\r\n      n = Infinity;\r\n      callback = Boolean;\r\n    }\r\n\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepEvery');\r\n\r\n    n = Number(n);\r\n\r\n    return deepEvery(this.$, callback, n, [{ key: null, value: this.$ }]);\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepFilter\r\n   * @public\r\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy the element is included and if falsey it's excluded.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @returns {DWrap} New D-Wrap of filtered object.\r\n   * @description Returns filtered by the callback object. Deep analogue of {@link Super#filter}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value%2).$;     // { a: 1, b: { d: 3 } }\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value === 1).$; // { a: 1 }\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value > 3).$;   // {}\r\n   */\r\n  deepFilter(callback, n) {\r\n    if (arguments.length === 1 && !isFunction(callback)) {\r\n      n = callback;\r\n      callback = Boolean;\r\n    } else if (arguments.length === 1) {\r\n      n = Infinity;\r\n    } else if (!arguments.length) {\r\n      n = Infinity;\r\n      callback = Boolean;\r\n    }\r\n\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepFilter');\r\n\r\n    const filtered = deepFilter(this.$, callback, n, [{ key: null, value: this.$ }]);\r\n\r\n    return D(isNil(filtered) ? filtered : filtered || {});\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepFind\r\n   * @public\r\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy iteration stops and if falsey it continues.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @returns {Tree|null} Tree of { key, value } if something found and null if not.\r\n   * @description Returns tree of the elements if something found and null if nothing found.\r\n   * Deep analogue of {@link Super#find}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFind((value) => value === 2);\r\n   * // [\r\n   * //   { key: 'c', value: 2 },\r\n   * //   { key: 'b', value: { c: 2, d: 3 } },\r\n   * //   { key: null, value: <initial object> }\r\n   * // ]\r\n   */\r\n  deepFind(callback, n) {\r\n    if (arguments.length === 1 && !isFunction(callback)) {\r\n      n = callback;\r\n      callback = Boolean;\r\n    } else if (arguments.length === 1) {\r\n      n = Infinity;\r\n    } else if (!arguments.length) {\r\n      n = Infinity;\r\n      callback = Boolean;\r\n    }\r\n\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepFind');\r\n\r\n    return deepFind(this.$, callback, n, [{ key: null, value: this.$ }]);\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepForEach\r\n   * @public\r\n   * @param {DeepIterationCallback} callback - Called on each iteration.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Method for iterating over any object. Deep analogue of {@link Super#forEach}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepForEach((value, key, object) => object[key] = value * value).$;\r\n   * // { a: 1, b: { c: 4, d: 9 } }\r\n   */\r\n  deepForEach(callback, n = Infinity) {\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepForEach');\r\n\r\n    n = Number(n);\r\n\r\n    deepForEach(this.$, callback, n, [{ key: null, value: this.$ }]);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepForEach\r\n   * @public\r\n   * @param {DeepIterationCallback} callback - Called on each iteration.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Method for iterating over any object. Deep analogue of {@link Super#forEach}.\r\n   * Unlike {@link Super#deepForEach} the callback is called on every value of every object inside\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepForEach((value, key, object) => object[key] = value * value).$;\r\n   * // { a: 1, b: { c: 4, d: 9 } }\r\n   */\r\n  deepForEachEntry(callback, n = Infinity) {\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepForEach');\r\n\r\n    n = Number(n);\r\n\r\n    deepForEachEntry(this.$, callback, n, [{ key: null, value: this.$ }]);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepFreeze\r\n   * @public\r\n   * @returns {DWrap} Returns this.\r\n   * @description Deep analogue of {@link Super#freeze}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFreeze(); // Super\r\n   */\r\n  deepFreeze() {\r\n    deepFreeze(this.$);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepMap\r\n   * @public\r\n   * @param {DeepIterationCallback} callback - Called on each iteration.\r\n   * Return value is used for creating a new object.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @returns {DWrap} D-Wrap of the new object.\r\n   * @description Returns a wrap of a new object using the callback. Deep analogue of {@link Super#map}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepMap((value) => value * value).$;\r\n   * // { a: 1, b: { c: 4, d: 9 } }\r\n   */\r\n  deepMap(callback, n = Infinity) {\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepMap');\r\n\r\n    n = Number(n);\r\n\r\n    return D(deepMap(this.$, callback, n, [{ key: null, value: this.$ }]));\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepReduce\r\n   * @public\r\n   * @param {DeepReduceCallback} callback - Called on each iteration.\r\n   * Return value is passed to the next callback call.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @param {*} [IV = <first value>|undefined] - Initial value.\r\n   * @returns {*} Modified IV.\r\n   * @description Returns modified IV. Deep analogue of {@link Super#reduce}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepReduce((sum, value) => sum + value * value, Infinity, 0); // 14\r\n   */\r\n  deepReduce(callback, n = Infinity, IV) {\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepReduce');\r\n\r\n    n = Number(n);\r\n\r\n    const object = this.$;\r\n    const tree = [{ key: null, value: this.$ }];\r\n\r\n    if (arguments.length < 3) {\r\n      return deepReduce(object, callback, n, false, undefined, tree).IV;\r\n    }\r\n\r\n    return deepReduce(object, callback, n, false, { IV }, tree).IV;\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepSome\r\n   * @public\r\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy iteration stops and if falsey it continues.\r\n   * @param {Number} [n = Infinity] - Iteration depth.\r\n   * @returns {Boolean} If all the callback calls returned truthy value.\r\n   * @description Returns true if some of the callback calls returned truthy value.\r\n   * Otherwise false. Deep analogue of {@link Super#some}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepSome((value) => value > 4); // false\r\n   * new Super({ a: {}, b: {}, c: {} }).deepSome(() => true);               // false\r\n   */\r\n  deepSome(callback, n) {\r\n    if (arguments.length === 1 && !isFunction(callback)) {\r\n      n = callback;\r\n      callback = Boolean;\r\n    } else if (arguments.length === 1) {\r\n      n = Infinity;\r\n    } else if (!arguments.length) {\r\n      n = Infinity;\r\n      callback = Boolean;\r\n    }\r\n\r\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepSome');\r\n\r\n    n = Number(n);\r\n\r\n    return deepSome(this.$, callback, n, [{ key: null, value: this.$ }]);\r\n  }\r\n\r\n  /**\r\n   * @method Super#deepStrictEquals\r\n   * @public\r\n   * @param {*} [object] - Object to compare to.\r\n   * @returns {Boolean} - If the objects are deep strict equal or not.\r\n   * @description Method for deep strict comparison of two objects.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1 }).deepStrictEquals({ a: '1' }); // false\r\n   * new Super(/1/).deepStrictEquals(/1/);             // true\r\n   */\r\n  deepStrictEquals(object = null) {\r\n    return deepEqual(this.$, object, true);\r\n  }\r\n\r\n  /**\r\n   * @method Super#define\r\n   * @param {String|Object} property - Either a string of a property or a descriptors object.\r\n   * @param {Object} [descriptor] - If a property parameter is a string this has to be a property descriptor.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Synonym for both\r\n   * [Object.defineProperty]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty}\r\n   * and\r\n   * [Object.defineProperties]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties}.\r\n   *\r\n   * @example\r\n   * new Super({}).define('a', {\r\n   *   value: 1,\r\n   *   enumerable: false,\r\n   *   writable: true,\r\n   *   configurable: false\r\n   * }).$; // { a: 1 }\r\n   * new Super({}).define({\r\n   *   a: {\r\n   *     value: 1,\r\n   *     enumerable: false,\r\n   *     writable: true,\r\n   *     configurable: false\r\n   *   }\r\n   * }).$; // { a: 1 }\r\n   */\r\n  define(property, descriptor) {\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: descriptor };\r\n    }\r\n\r\n    property = new Super(property).$;\r\n\r\n    if (isObject(this.$)) {\r\n      Object.defineProperties(this.$, property);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#delete\r\n   * @public\r\n   * @param {...String} props - List of properties to delete.\r\n   * @returns {DWrap} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/delete\r\n   * @description Synonym for multiple\r\n   * [\"delete\" operator]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/delete}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).delete('c', 'a').$; // { b: 2 }\r\n   */\r\n  delete(...props) {\r\n    const object = this.$;\r\n\r\n    iterate(object && props, (property) => {\r\n      delete object[property];\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#equals\r\n   * @public\r\n   * @param {*} [object] - Object to compare.\r\n   * @returns {Boolean} If the objects are equal or not.\r\n   * @description Returns true if objects are equal using '==' operator and false if not. NaNs are considered to be equal.\r\n   *\r\n   * @example\r\n   * new Super(3).equals('3');   // true\r\n   * new Super(NaN).equals(NaN); // true\r\n   */\r\n  equals(object) {\r\n    const o = this.$;\r\n\r\n    object = new Super(object).$;\r\n\r\n    /* eslint eqeqeq: 0 */\r\n    return o == object || (isNaN(o) && isNaN(object));\r\n  }\r\n\r\n  /**\r\n   * @method Super#every\r\n   * @public\r\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy iteration goes on and if falsey it stops.\r\n   * @returns {Boolean} If all the callback calls returned truthy value.\r\n   * @description Returns boolean if all the callback calls returned truthy value.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).every((value) => value < 4); // true\r\n   * new Super({}).every(() => false);                            // true\r\n   */\r\n  every(callback = Boolean) {\r\n    validate([callback], ['function'], 'Super#every');\r\n\r\n    return iterate(this.$, (value, key, object) => {\r\n      if (!callback(value, key, object)) {\r\n        return false;\r\n      }\r\n    }) !== false;\r\n  }\r\n\r\n  /**\r\n   * @method Super#filter\r\n   * @public\r\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy the element is included and if falsey it's excluded.\r\n   * @returns {DWrap} New D-Wrap of filtered object.\r\n   * @description Returns filtered by the callback object.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).filter((value) => value%2).$; // { a: 1, c: 3 }\r\n   * new Super(null).filter((value) => value%2).$;                 // null\r\n   */\r\n  filter(callback = Boolean) {\r\n    validate([callback], ['function'], 'Super#filter');\r\n\r\n    const object = this.$;\r\n    const array = isArrayLike(object);\r\n\r\n    /* eslint no-nested-ternary: 0 */\r\n    const o = array ? [] : isNil(object) ? object : {};\r\n\r\n    iterate(object, (value, key) => {\r\n      if (callback(value, key, object)) {\r\n        if (array) {\r\n          o.push(value);\r\n        } else {\r\n          o[key] = value;\r\n        }\r\n      }\r\n    });\r\n\r\n    return D(o);\r\n  }\r\n\r\n  /**\r\n   * @method Super#find\r\n   * @public\r\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy iteration stops and if falsey it continues.\r\n   * @returns {{ key: Key, value: * }|null} { key, value } if found and null if not.\r\n   * @description Returns found { key, value } if something found and null if nothing found.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).find((value) => value === 2); // { key: 'b', value: 2 }\r\n   * new Super([1, 2, 3]).find((value) => value === 2);            // { key: 1, value: 2 }\r\n   */\r\n  find(callback) {\r\n    validate([callback], ['function'], 'Super#find');\r\n\r\n    return iterate(this.$, (value, key, object) => {\r\n      if (callback(value, key, object)) {\r\n        return { key, value };\r\n      }\r\n    }) || null;\r\n  }\r\n\r\n  /**\r\n   * @method Super#forEach\r\n   * @public\r\n   * @param {IterationCallback} callback - Called on each iteration.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Method for iterating over any object.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).forEach((value, key, object) => {\r\n   *   object[key] = value * value;\r\n   * }).$; // { a: 1, b: { c: 4, d: 5 } }\r\n   */\r\n  forEach(callback) {\r\n    validate([callback], ['function'], 'Super#forEach');\r\n\r\n    iterate(this.$, (value, key, object) => {\r\n      callback(value, key, object);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#freeze\r\n   * @public\r\n   * @returns {DWrap} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\r\n   * @description Synonym for\r\n   * [Object.freeze]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).freeze(); // Super\r\n   */\r\n  freeze() {\r\n    Object.freeze(this.$);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#get\r\n   * @public\r\n   * @param {String|Object.<String, Function>} property - Either a string of a property or a getters object.\r\n   * @param {Function} [getter] - If a property parameter is a string this has to be a getter function.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Method for defining getters.\r\n   *\r\n   * @example\r\n   * const object1 = new Super({}).get('a', () => 1).$;\r\n   * object1.a; // 1\r\n   *\r\n   * const object2 = new Super({}).get({\r\n   *   a: () => 2\r\n   * }).$;\r\n   * object2.a; // 2\r\n   */\r\n  get(property, getter) {\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: getter };\r\n    }\r\n\r\n    const object = this.$;\r\n\r\n    iterate(isObject(object) && new Super(property).$, (getter, property) => {\r\n      Object.defineProperty(object, property, { get: getter });\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#has\r\n   * @public\r\n   * @param {String|*} key - Property to check.\r\n   * @returns {Boolean} Returns true if the object has the key and false if not.\r\n   * @see https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/in\r\n   * @description Synonym for\r\n   * [\"in\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/in}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).has('b'); // true\r\n   */\r\n  has(key) {\r\n    const object = this.$;\r\n\r\n    if (!isObject(object)) {\r\n      return false;\r\n    }\r\n\r\n    return key in object;\r\n  }\r\n\r\n  /**\r\n   * @method Super#hasOwn\r\n   * @public\r\n   * @param {String|*} key - Property to check.\r\n   * @returns {Boolean} Returns true if the object has its own key and false if not.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\r\n   * @description Synonym for\r\n   * [Object#hasOwnProperty]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).hasOwn('b');              // true\r\n   * new Super({ a: 1, b: 2, c: 3 }).hasOwn('hasOwnProperty'); // false\r\n   */\r\n  hasOwn(key) {\r\n    const object = this.$;\r\n\r\n    if (!isObject(object)) {\r\n      return false;\r\n    }\r\n\r\n    return {}.hasOwnProperty.call(object, key);\r\n  }\r\n\r\n  /**\r\n   * @method Super#instanceof\r\n   * @public\r\n   * @param {Function} constructor - Constructor to check.\r\n   * @returns {Boolean} If the object is an instance of constructor.\r\n   * @see https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof\r\n   * @description Synonym for\r\n   * [\"instanceof\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof}.\r\n   */\r\n  instanceof(constructor) {\r\n    return this.$ instanceof constructor;\r\n  }\r\n\r\n  /**\r\n   * @method Super#isFrozen\r\n   * @public\r\n   * @returns {Boolean} If the object is frozen.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen\r\n   * @description Synonym for\r\n   * [Object.isFrozen]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen}.\r\n   *\r\n   * @example\r\n   * new Super({}).freeze().isFrozen(); // true\r\n   */\r\n  isFrozen() {\r\n    return Object.isFrozen(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Super#json\r\n   * @public\r\n   * @param {JSONCallback|String[]} [replacer] - See the link.\r\n   * @param {String|Number} [space] - See the link.\r\n   * @returns {String} JSON string.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\r\n   * @description Synonym for\r\n   * [JSON.stringify]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).json(); // '{\"a\":1,\"b\":2,\"c\":3}'\r\n   * new Super({ a: 1, b: 2, c: 3 }).json('    ');\r\n   * // {\r\n   * //     \"a\": 1,\r\n   * //     \"b\": 2,\r\n   * //     \"c\": 3\r\n   * // }\r\n   * new Super({ a: 1, b: 2, c: 3 }).json((key, value) => {\r\n   *   if (typeof value === 'number') {\r\n   *     return value%2 ? key + value0 : undefined;\r\n   *   }\r\n   *\r\n   *   return value;\r\n   * }, 2);\r\n   * // {\r\n   * //   \"a\": \"a1\",\r\n   * //   \"c\": \"c3\"\r\n   * // }\r\n   */\r\n  json(replacer, space) {\r\n    if (arguments.length === 1 && !isFunction(replacer) && !isArray(replacer)) {\r\n      [].unshift.call(arguments, null);\r\n    }\r\n\r\n    [].unshift.call(arguments, this.$);\r\n\r\n    return JSON.stringify.apply(JSON, arguments);\r\n  }\r\n\r\n  /**\r\n   * @method Super#keyOf\r\n   * @public\r\n   * @param {*} value - Value to find.\r\n   * @returns {String|Number|null} A key or an index if found and null if not.\r\n   * @description Method for finding equal to the argument value in the object. NaNs are considered to be equal.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).keyOf(2);   // 'b'\r\n   * new Super({ a: 1, b: 2, c: 3 }).keyOf('2'); // 'b'\r\n   */\r\n  keyOf(value) {\r\n    const key = iterate(this.$, (val, key) => {\r\n      if (val == value || (isNaN(val) && isNaN(value))) {\r\n        return key;\r\n      }\r\n    });\r\n\r\n    return isUndefined(key) ? null : key;\r\n  }\r\n\r\n  /**\r\n   * @method Super#keyOfStrict\r\n   * @public\r\n   * @param {*} value - Value to find.\r\n   * @returns {String|Number|null} A key or an index if found and null if not.\r\n   * @description Method for finding strict equal to the argument value in the object. NaNs are considered to be equal.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).keyOfStrict(2);   // 'b'\r\n   * new Super({ a: 1, b: 2, c: 3 }).keyOfStrict('2'); // 'b'\r\n   */\r\n  keyOfStrict(value) {\r\n    const key = iterate(this.$, (val, key) => {\r\n      if (val === value || (isNaN(val) && isNaN(value))) {\r\n        return key;\r\n      }\r\n    });\r\n\r\n    return isUndefined(key) ? null : key;\r\n  }\r\n\r\n  /**\r\n   * @method Super#keys\r\n   * @public\r\n   * @returns {DWrap} A wrap of the keys array.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\r\n   * @description Synonym for\r\n   * [Object.keys]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).keys().$; // ['a', 'b', 'c']\r\n   * new Super(null).keys().$;                 // []\r\n   */\r\n  keys() {\r\n    const object = this.$;\r\n\r\n    return D(isObject(object) ? Object.keys(object) : []);\r\n  }\r\n\r\n  /**\r\n   * @method Super#map\r\n   * @public\r\n   * @param {IterationCallback} callback - Called on each iteration.\r\n   * Return value is used for creating a new object.\r\n   * @returns {DWrap} D-Wrap of the new object.\r\n   * @description Returns a wrap of a new object using the callback.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).map((value) => value * 2).$; // { a: 2, b: 4, c: 6 }\r\n   * new Super(null).map((value) => value * 2).$;                 // null\r\n   */\r\n  map(callback) {\r\n    validate([callback], ['function'], 'Super#map');\r\n\r\n    const object = this.$;\r\n    const o = isArrayLike(object) ? [] : isNull(object) ? null : {};\r\n\r\n    iterate(object, (value, key) => {\r\n      o[key] = callback(value, key, object);\r\n    });\r\n\r\n    return D(o);\r\n  }\r\n\r\n  /**\r\n   * @method Super#max\r\n   * @public\r\n   * @param {IterationCallback} callback - Called on each iteration.\r\n   * Return value is used for comparison with the previous max value.\r\n   * @returns {{key: Key, value: Number}} Object with max value and key of the max value.\r\n   * @description Method for finding max value in the object.\r\n   * If no callback is present comparison is between values of the object.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).max();                     // { key: 'c', value: 3 }\r\n   * new Super({ a: 1, b: 2, c: 3 }).max((value) => 4 - value); // { key: 'a', value: 3 }\r\n   * new Super({ a: 'a', b: 'b', c: 'c' }).max();               // { key: null, value: -Infinity }\r\n   */\r\n  max(callback = null) {\r\n    validate([callback], ['function||!'], 'Super#max');\r\n\r\n    return this.object((max, value, key, object) => {\r\n      const val = Number(callback ? callback(value, key, object) : value);\r\n\r\n      if (val > max.value) {\r\n        max.key = key;\r\n        max.value = val;\r\n      }\r\n    }, { key: null, value: -Infinity }).$;\r\n  }\r\n\r\n  /**\r\n   * @method Super#min\r\n   * @public\r\n   * @param {IterationCallback} callback - Called on each iteration.\r\n   * Return value is used for comparison with the previous min value.\r\n   * @returns {{key: Key, value: Number}} Object with min value and key of the min value.\r\n   * @description Method for finding min value in the object.\r\n   * If no callback is present comparison is between values of the object.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).min();                     // { key: 'a', value: 1 }\r\n   * new Super({ a: 1, b: 2, c: 3 }).min((value) => 4 - value); // { key: 'c', value: 1 }\r\n   * new Super({ a: 'a', b: 'b', c: 'c' }).min();               // { key: null, value: Infinity }\r\n   */\r\n  min(callback = null) {\r\n    validate([callback], ['function||!'], 'Super#min');\r\n\r\n    return this.object((min, value, key, object) => {\r\n      const val = Number(callback ? callback(value, key, object) : value);\r\n\r\n      if (val < min.value) {\r\n        min.key = key;\r\n        min.value = val;\r\n      }\r\n    }, { key: null, value: Infinity }).$;\r\n  }\r\n\r\n  /**\r\n   * @method Super#object\r\n   * @public\r\n   * @param {ObjectCallback} callback - Called on each iteration.\r\n   * @param {Object|*} [object = {}] - Object that is passed to the callback.\r\n   * @returns {DWrap} Wrap of the new object.\r\n   * @description Type of {@link Super#reduce}.\r\n   * The object is passed as an argument into the callback. The output is this object.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2 }).object((object, value, key) => {\r\n   *   object[key] = value;\r\n   *   object[key + key] = value * 2;\r\n   * }).$; // { a: 1, aa: 2, b: 2, bb: 4 }\r\n   */\r\n  object(callback, object = {}) {\r\n    validate([callback], ['function'], 'Super#object');\r\n\r\n    iterate(this.$, (value, key, obj) => {\r\n      callback(object, value, key, obj);\r\n    });\r\n\r\n    return D(object);\r\n  }\r\n\r\n  /**\r\n   * @method Super#prop\r\n   * @public\r\n   * @param {String|Object.<String, *>} property - Either a string of a property or an assigned object.\r\n   * @param {*} [value] - If a property parameter is a string\r\n   * this has to be an assigned value if it's present.\r\n   * @returns {DWrap|*} Returns this if it's a setter or a value if getter.\r\n   * @description Method for getting and setting properties.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).prop('a');              // 1\r\n   * new Super({ a: 1, b: 2, c: 3 }).prop('a', 7).$;         // { a: 7, b: 2, c: 3 }\r\n   * new Super({ a: 1, b: 2, c: 3 }).prop({ a: 7, b: 8 }).$; // { a: 7, b: 8, c: 3 }\r\n   */\r\n  prop(property, value) {\r\n    if (arguments.length <= 1 && isString(property)) {\r\n      return this.$ ? this.$[property] : undefined;\r\n    }\r\n\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: value };\r\n    }\r\n\r\n    return this.assign(property);\r\n  }\r\n\r\n  /**\r\n   * @method Super#propertyDescriptor\r\n   * @public\r\n   * @param {String} property - Property of the object.\r\n   * @returns {Object|undefined} Property descriptor.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\r\n   * @descriptor Synonym for\r\n   * [Object.getOwnPropertyDescriptor]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1 }).propertyDescriptor('a');\r\n   * // {\r\n   * //   value: 1,\r\n   * //   enumerable: true,\r\n   * //   writable: true,\r\n   * //   configurable: true\r\n   * // }\r\n   */\r\n  propertyDescriptor(property) {\r\n    const object = this.$;\r\n\r\n    return isObject(object) ? Object.getOwnPropertyDescriptor(object, property) : undefined;\r\n  }\r\n\r\n  /**\r\n   * @method Super#propertyNames\r\n   * @public\r\n   * @returns {DWrap} D-Wrap of the names array.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames\r\n   * @descriptor Synonym for\r\n   * [Object.getOwnPropertyNames]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames}.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2 }).define('c', { value: 3 }).$; // ['a', 'b', 'c']\r\n   */\r\n  propertyNames() {\r\n    const object = this.$;\r\n\r\n    return D(isObject(object) ? Object.getOwnPropertyNames(object) : []);\r\n  }\r\n\r\n  /**\r\n   * @method Super#propertySymbols\r\n   * @public\r\n   * @returns {DWrap} D-Wrap of the names array.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols\r\n   * @descriptor Synonym for\r\n   * [Object.getOwnPropertySymbols]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols}.\r\n   *\r\n   * @example\r\n   * new Super({ [Symbol('foo')]: 1 }).define(Symbol('bar'), { value: 2 }).$; // [Symbol('foo'), Symbol('bar')]\r\n   */\r\n  propertySymbols() {\r\n    const object = this.$;\r\n\r\n    return D(isObject(object) ? Object.getOwnPropertySymbols(object) : []);\r\n  }\r\n\r\n  /**\r\n   * @method Super#proto\r\n   * @public\r\n   * @param {*} [proto] - If it's present it's set as a prototype to the object.\r\n   * @returns {DWrap} In getter mode returns wrap of the prototype and in setter mode returns this.\r\n   * @description Synonym for both\r\n   * [Object.getPrototypeOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf}\r\n   * and\r\n   * [Object.setPrototypeOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf}.\r\n   */\r\n  proto(proto) {\r\n    const object = this.$;\r\n    const isContextObject = !isNil(object);\r\n\r\n    if (arguments.length) {\r\n      if (isContextObject && (isObject(proto) || isNull(proto))) {\r\n        Object.setPrototypeOf(object, proto);\r\n      }\r\n\r\n      return this;\r\n    }\r\n\r\n    return isContextObject ? new Super(Object.getPrototypeOf(object)) : new Super();\r\n  }\r\n\r\n  /**\r\n   * @method Super#reduce\r\n   * @public\r\n   * @param {ReduceCallback} callback - Called on each iteration.\r\n   * Return value is passed to the next callback call.\r\n   * @param {*} [IV = <first value>|undefined] - Initial value.\r\n   * @returns {*} Modified IV.\r\n   * @description Returns modified IV. If the second argument is not present first value in the object is taken\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).reduce((sum, value) => sum + value * value, 0); // 14\r\n   */\r\n  reduce(callback, IV) {\r\n    validate([callback], ['function'], 'Super#reduce');\r\n\r\n    const object = this.$;\r\n\r\n    let startKey;\r\n\r\n    if (arguments.length === 1) {\r\n      iterate(object, (value, key) => {\r\n        startKey = key;\r\n        IV = value;\r\n\r\n        return true;\r\n      });\r\n    }\r\n\r\n    iterate(object, (value, key) => {\r\n      if (key !== startKey) {\r\n        IV = callback(IV, value, key, object);\r\n      }\r\n    });\r\n\r\n    return IV;\r\n  }\r\n\r\n  /**\r\n   * @method Super#set\r\n   * @public\r\n   * @param {String|Object.<String, Function>} property - Either a string of a property or a setters object.\r\n   * @param {Function} [setter] - If a property parameter is a string this has to be a setter function.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Method for defining setters.\r\n   *\r\n   * @example\r\n   * const object = new Super({})\r\n   *   .get('public', function () {\r\n   *     return this._private;\r\n   *   })\r\n   *   .set('public', function (value) {\r\n   *     if (typeof value === 'number') {\r\n   *       this._private = value;\r\n   *     }\r\n   *   });\r\n   * object.prop('public', '1').$; // { public: undefined }\r\n   * object.prop('public', 1).$;   // { public: 1, _private: 1 }\r\n   *\r\n   * new Super({}).set({\r\n   *   public(value) {\r\n   *     if (typeof value === 'number') {\r\n   *       this._private = value;\r\n   *     }\r\n   *   }\r\n   * });\r\n   */\r\n  set(property, setter) {\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: setter };\r\n    }\r\n\r\n    const object = this.$;\r\n\r\n    iterate(isObject(object) && new Super(property).$, (setter, property) => {\r\n      Object.defineProperty(object, property, { set: setter });\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#some\r\n   * @public\r\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\r\n   * If returns truthy iteration stops and if falsey it continues.\r\n   * @returns {Boolean} If all the callback calls returned truthy value.\r\n   * @description Returns true if some of the callback calls returned truthy value. Otherwise false.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).some((value) => value > 4); // false\r\n   * new Super({}).some(() => true);                             // false\r\n   */\r\n  some(callback = Boolean) {\r\n    validate([callback], ['function'], 'Super#some');\r\n\r\n    return iterate(this.$, (value, key, object) => {\r\n      if (callback(value, key, object)) {\r\n        return true;\r\n      }\r\n    }) || false;\r\n  }\r\n\r\n  /**\r\n   * @method Super#strictEquals\r\n   * @public\r\n   * @param {*} [object] - Object to compare.\r\n   * @returns {Boolean} If the objects are equal or not.\r\n   * @description Returns true if objects are equal using '===' operator and false if not.\r\n   * NaNs are considered to be strict equal.\r\n   *\r\n   * @example\r\n   * new Super(3).strictEquals('3');   // false\r\n   * new Super(NaN).strictEquals(NaN); // true\r\n   */\r\n  strictEquals(object) {\r\n    const o = this.$;\r\n\r\n    object = new Super(object).$;\r\n\r\n    return o === object || (isNaN(o) && isNaN(object));\r\n  }\r\n\r\n  /**\r\n   * @method Super#sum\r\n   * @public\r\n   * @param {IterationCallback} [callback = null] - Called on each iteration.\r\n   * @returns {Number} Sum.\r\n   * @description Type of {@link Super#reduce}.\r\n   * If the callback is present it's used for summing. If not the value is used.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).sum();                         // 6\r\n   * new Super({ a: 1, b: 2, c: 3 }).sum((value) => value * value); // 14\r\n   */\r\n  sum(callback = null) {\r\n    validate([callback], ['function||!'], 'Super#sum');\r\n\r\n    return this.reduce((sum, value, key, object) => (\r\n      sum + Number(callback ? callback(value, key, object) : value)\r\n    ), 0);\r\n  }\r\n\r\n  toJSON() {\r\n    return this.$;\r\n  }\r\n\r\n  /**\r\n   * @member Super#toStringTag\r\n   * @type {String}\r\n   * @public\r\n   * @readonly\r\n   * @description Returns toString tag of the object.\r\n   *\r\n   * @example\r\n   * new Super({}).toStringTag; // 'Object'\r\n   * new Super([]).toStringTag; // 'Array'\r\n   * new Super(1).toStringTag;  // 'Number'\r\n   */\r\n  get toStringTag() {\r\n    return toStringTag(this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Super#type\r\n   * @type {String}\r\n   * @public\r\n   * @readonly\r\n   * @description Synonym for\r\n   * [\"typeof\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof}..\r\n   *\r\n   * @example\r\n   * new Super({}).type;   // 'object'\r\n   * new Super(1).type;    // 'number'\r\n   * new Super('1').type;  // 'string'\r\n   * new Super(true).type; // 'boolean'\r\n   */\r\n  get type() {\r\n    return typeof this.$;\r\n  }\r\n\r\n  /**\r\n   * @method Super#value\r\n   * @public\r\n   * @param {String|Object.<String, *>} property - Either a string of a property or a values object.\r\n   * @param {Object.<String, *>} [value] - If a property parameter is a string this has to be a value to be set.\r\n   * @returns {DWrap} Returns this.\r\n   * @description Method for defining non-enumerable, non-writable, non-configurable values.\r\n   * Synonym for object.define(property, { value: value }).\r\n   *\r\n   * @example\r\n   * new Super({}).value('a', 1).$; // { a: 1 }\r\n   * new Super({}).value({\r\n   *   a: 1\r\n   * }).$;                          // { a: 1 }\r\n   */\r\n  value(property, value) {\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: value };\r\n    }\r\n\r\n    const object = this.$;\r\n\r\n    iterate(isObject(object) && new Super(property).$, (value, property) => {\r\n      Object.defineProperty(object, property, { value });\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Super#values\r\n   * @public\r\n   * @returns {DWrap} A wrap of the values array.\r\n   * @description Returns D-Wrap of the values array.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).values().$; // [1, 2, 3]\r\n   * new Super(null).values().$;                 // []\r\n   */\r\n  values() {\r\n    const array = [];\r\n\r\n    iterate(this.$, (value) => {\r\n      array.push(value);\r\n    });\r\n\r\n    return D(array);\r\n  }\r\n\r\n  /**\r\n   * @method Super#word\r\n   * @public\r\n   * @param {IterationCallback} callback - Called on each iteration.\r\n   * @returns {String} Concatenated string.\r\n   * @description Type of {@link Super#reduce}.\r\n   * If the callback is present it's used for concatenating. If not the value is used.\r\n   *\r\n   * @example\r\n   * new Super({ a: 1, b: 2, c: 3 }).word();                         // '123'\r\n   * new Super({ a: 1, b: 2, c: 3 }).word((value) => value + value); // '112233'\r\n   */\r\n  word(callback = null) {\r\n    validate([callback], ['function||!'], 'Super#word');\r\n\r\n    return this.reduce((word, value, key, object) => (\r\n      word + String(callback ? callback(value, key, object) : value)\r\n    ), '');\r\n  }\r\n}\r\n\r\ndefineProperties(Super.prototype, {\r\n  [Symbol.toStringTag]: 'Super'\r\n});\r\n\r\n/**\r\n * @function deepAssign\r\n * @private\r\n * @param {*} target - Object to assign properties to.\r\n * @param {*} object - Object to assign properties from.\r\n * @returns {void}\r\n */\r\nfunction deepAssign(target, object) {\r\n  iterate(object, (value, key) => {\r\n    if (isPrimitive(target[key]) || !{}.hasOwnProperty.call(target, key)) {\r\n      target[key] = deepClone(value);\r\n\r\n      return;\r\n    }\r\n\r\n    if (!isPrimitive(target[key])) {\r\n      deepAssign(target[key], value);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * @function deepClone\r\n * @private\r\n * @param {*} object - Object to clone.\r\n * @description Does the deep cloning.\r\n */\r\nfunction deepClone(object) {\r\n  const clone = cloneSwitcher(object, [object, true]);\r\n\r\n  if (clone !== object) {\r\n    iterate(object, (value, key) => {\r\n      clone[key] = deepClone(value);\r\n    });\r\n  }\r\n\r\n  return clone;\r\n}\r\n\r\n/**\r\n * @function deepEqual\r\n * @private\r\n * @param {*} o1 - First object to compare.\r\n * @param {*} o2 - Second object to compare.\r\n * @param {Boolean} strict - If comparison should be strict or not.\r\n * @returns {Boolean} - If the object are deep equal or not.\r\n */\r\nfunction deepEqual(o1, o2, strict) {\r\n  if (o1 === o2) {\r\n    return true;\r\n  }\r\n\r\n  if (isNaN(o1) && isNaN(o2) && isPrimitive(o1) && isPrimitive(o2)) {\r\n    return true;\r\n  }\r\n\r\n  if (isNaN(o1) || isNaN(o2)) {\r\n    return false;\r\n  }\r\n\r\n  if (isPrimitive(o1) || isPrimitive(o2)) {\r\n    return strict ? o1 === o2 : o1 == o2;\r\n  }\r\n\r\n  if (isDate(o1) && isDate(o2)) {\r\n    return o1.getTime() === o2.getTime();\r\n  }\r\n\r\n  if (isDate(o1) || isDate(o2)) {\r\n    return false;\r\n  }\r\n\r\n  if (isRegExp(o1) && isRegExp(o2)) {\r\n    return o1.source === o2.source &&\r\n      o1.toString().match(/[gimuy]*$/)[0] === o2.toString().match(/[gimuy]*$/)[0] &&\r\n      o1.lastIndex === o2.lastIndex;\r\n  }\r\n\r\n  if (isRegExp(o1) || isRegExp(o2)) {\r\n    return false;\r\n  }\r\n\r\n  if ((!isPlainObject(o1) && !isArray(o1)) || (!isPlainObject(o2) && !isArray(o2))) {\r\n    return false;\r\n  }\r\n\r\n  const p1 = Object.getPrototypeOf(o1);\r\n  const p2 = Object.getPrototypeOf(o1);\r\n\r\n  if (Object.keys(o1).length !== Object.keys(o2).length) {\r\n    return false;\r\n  }\r\n\r\n  if (p1 && p2 && (toStringTag(p1.constructor) !== toStringTag(p2.constructor))) {\r\n    return false;\r\n  }\r\n\r\n  return iterate(o1, (value, key) => {\r\n    if (!(key in o2) || !deepEqual(value, o2[key], strict)) {\r\n      return false;\r\n    }\r\n  }) !== false;\r\n}\r\n\r\n/**\r\n * @function deepEvery\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\r\n * If returns truthy the iteration goes on and if not it stops.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {Boolean} - If all the callback calls returned truthy value.\r\n */\r\nfunction deepEvery(object, callback, n, tree) {\r\n  const end = n === 1;\r\n\r\n  return iterate(object, (value, key, object) => {\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    if (\r\n      end || isPrimitive(value)\r\n        ? !callback(value, key, object, newTree)\r\n        : !deepEvery(value, callback, n - 1, newTree)\r\n    ) {\r\n      return false;\r\n    }\r\n  }) !== false;\r\n}\r\n\r\n/**\r\n * @function deepFilter\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\r\n * If returns truthy the element is included in the output and if not it's excluded.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {*} Filtered object.\r\n */\r\nfunction deepFilter(object, callback, n, tree) {\r\n  const array = isArrayLike(object);\r\n  const nul = isNil(object);\r\n  const o = array ? [] : nul ? object : {};\r\n  const end = n === 1;\r\n\r\n  iterate(object, (value, key, object) => {\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    if ((end || isPrimitive(value)) && callback(value, key, object, newTree)) {\r\n      if (array) {\r\n        o.push(value);\r\n      } else {\r\n        o[key] = value;\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (!end) {\r\n      const filtered = deepFilter(value, callback, n - 1, newTree);\r\n\r\n      if (filtered) {\r\n        if (array) {\r\n          o.push(filtered);\r\n        } else {\r\n          o[key] = filtered;\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  if (array) {\r\n    return o.length ? o : undefined;\r\n  }\r\n\r\n  if (!nul) {\r\n    return Object.keys(o).length ? o : undefined;\r\n  }\r\n\r\n  return o;\r\n}\r\n\r\n/**\r\n * @function deepFind\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\r\n * If returns truthy the iteration stops and if not it continues.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {Tree|null} - If found the whole tree is returned and if not it's null what's returned.\r\n */\r\nfunction deepFind(object, callback, n, tree) {\r\n  const end = n === 1;\r\n\r\n  return iterate(object, (value, key, object) => {\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    if (end || isPrimitive(value)) {\r\n      if (callback(value, key, object, newTree)) {\r\n        return newTree;\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const result = deepFind(value, callback, n - 1, newTree);\r\n\r\n    if (result) {\r\n      return result;\r\n    }\r\n  }) || null;\r\n}\r\n\r\n/**\r\n * @function deepForEach\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {void}\r\n */\r\nfunction deepForEach(object, callback, n, tree) {\r\n  const end = n === 1;\r\n\r\n  iterate(object, (value, key, object) => {\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    if (end || isPrimitive(value)) {\r\n      callback(value, key, object, newTree);\r\n    } else {\r\n      deepForEach(value, callback, n - 1, newTree);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * @function deepForEachEntry\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {void}\r\n */\r\nfunction deepForEachEntry(object, callback, n, tree) {\r\n  const end = n === 1;\r\n\r\n  iterate(object, (value, key, object) => {\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    callback(value, key, object, newTree);\r\n\r\n    if (!end && !isPrimitive(value)) {\r\n      deepForEachEntry(value, callback, n - 1, newTree);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * @function deepFreeze\r\n * @private\r\n * @param {*} object - Object to freeze.\r\n * @returns {void}\r\n */\r\nfunction deepFreeze(object) {\r\n  Object.freeze(object);\r\n  iterate(object, deepFreeze);\r\n}\r\n\r\n/**\r\n * @function deepMap\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\r\n * Returned value is used to create to new object.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {*} New object.\r\n */\r\nfunction deepMap(object, callback, n, tree) {\r\n  const o = isArrayLike(object) ? [] : isNil(object) ? object : {};\r\n  const end = n === 1;\r\n\r\n  iterate(object, (value, key, object) => {\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    o[key] = end || isPrimitive(value)\r\n      ? callback(value, key, object, newTree)\r\n      : deepMap(value, callback, n - 1, newTree);\r\n  });\r\n\r\n  return o;\r\n}\r\n\r\n/**\r\n * @function deepReduce\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepReduceCallback} callback - Callback that is called on every element.\r\n * Returned value is used to create to new object.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Boolean} start - If callback was called already or not.\r\n * @param {{ IV: * }|undefined} IV - If callback was called already or not.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {{ IV: * }} Transformed IV.\r\n */\r\nfunction deepReduce(object, callback, n, start, IV, tree) {\r\n  const end = n === 1;\r\n\r\n  iterate(object, (value, key, object) => {\r\n    if (!IV && (end || isPrimitive(value)) && !start) {\r\n      IV = { IV: value };\r\n      start = true;\r\n\r\n      return;\r\n    }\r\n\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    IV = end || isPrimitive(value)\r\n      ? { IV: callback(IV.IV, value, key, object, newTree) }\r\n      : deepReduce(value, callback, n - 1, start, IV, newTree);\r\n  });\r\n\r\n  return IV;\r\n}\r\n\r\n/**\r\n * @function deepSome\r\n * @private\r\n * @param {*} object - Object to iterate over.\r\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\r\n * If returns truthy the iteration stops and if not it continues.\r\n * @param {Number} n - Depth of iteration.\r\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\r\n * @returns {Boolean} - If some of the callback calls returned truthy value.\r\n */\r\nfunction deepSome(object, callback, n, tree) {\r\n  const end = n === 1;\r\n\r\n  return iterate(object, (value, key, object) => {\r\n    const newTree = [{ key, value }].concat(tree);\r\n\r\n    if (\r\n      end || isPrimitive(value)\r\n        ? callback(value, key, object, newTree)\r\n        : deepSome(value, callback, n - 1, newTree)\r\n    ) {\r\n      return true;\r\n    }\r\n  }) || false;\r\n}\r\n\r\nconstructors[0].push({\r\n  check: () => true,\r\n  cls: Super\r\n});\r\n\r\nexport { Super };\r\n","/**\r\n * @module Func\r\n * @private\r\n * @mixin\r\n * @description Exports Func class.\r\n */\r\n\r\nimport { Super } from './Super';\r\nimport { Promise } from './Promise';\r\nimport { constructors } from './constants';\r\nimport { isFunction, validate, toArray, Symbol, defineProperties, iterate } from './helpers';\r\n\r\n/**\r\n * @callback BeforeMiddleware\r\n * @param {Array} args - Previous arguments.\r\n * @param {Func} func - This function.\r\n * @returns {Array} - New arguments.\r\n */\r\n\r\n/**\r\n * @callback AfterMiddleware\r\n * @param {*} returnValue - Previous return value.\r\n * @param {Func} func - This function.\r\n * @returns {*} - New return value.\r\n */\r\n\r\n/**\r\n * @class Func\r\n * @extends Super\r\n * @public\r\n * @param {Function} [func = function () {}] - Function to wrap.\r\n * @returns {Func} Instance of Func.\r\n * @description A wrap of a function.\r\n *\r\n * @example\r\n * const func = new Func(Math.max);\r\n *\r\n * func(1, 4, -2, 5); // 5\r\n */\r\nclass Func extends Super {\r\n  constructor(func = () => {}) {\r\n    super();\r\n\r\n    function proxy() {\r\n      if (++proxy.$$.called < proxy.$$.canBeCalled) {\r\n        const { before, after, sync, contextLocked } = proxy.$$;\r\n        let { context, args } = proxy.$$;\r\n        let ret;\r\n\r\n        context = contextLocked ? context : context || this;\r\n        args = args.concat(toArray(arguments));\r\n\r\n        if (sync) {\r\n          iterate(before, (middleware) => {\r\n            args = middleware.call(context, toArray(args), proxy);\r\n          });\r\n\r\n          ret = func.apply(context, toArray(args));\r\n\r\n          iterate(after, (middleware) => {\r\n            ret = middleware.call(context, ret, proxy);\r\n          });\r\n\r\n          return ret;\r\n        }\r\n\r\n        let promise = Promise.resolve(args);\r\n\r\n        iterate(before, (middleware) => {\r\n          promise = promise.then((args) => middleware.call(context, toArray(args), proxy));\r\n        });\r\n\r\n        promise = promise.then((args) => func.apply(context, toArray(args)));\r\n\r\n        iterate(after, (middleware) => {\r\n          promise = promise.then((ret) => middleware.call(context, ret, proxy));\r\n        });\r\n\r\n        return promise;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @member {Object} Func#$$\r\n     * @type {Object}\r\n     * @protected\r\n     * @property {Array} after - After middleware array.\r\n     * @property {Array} args - Locked and bound arguments.\r\n     * @property {Array} argsLocked - Locked arguments.\r\n     * @property {Array} before - Before middleware array.\r\n     * @property {Number} called - How many times the function was called.\r\n     * @property {Number} canBeCalled - How many times the function can be actually called.\r\n     * @property {*} context - Locked or bound context.\r\n     * @property {Boolean} contextLocked - Is context locked or not.\r\n     * @property {Boolean} sync - Is function synchronous or not.\r\n     * @description Config parameters.\r\n     */\r\n    Object.defineProperty(proxy, '$$', {\r\n      value: {\r\n        after: [],\r\n        args: [],\r\n        argsLocked: [],\r\n        before: [],\r\n        called: 0,\r\n        canBeCalled: Infinity,\r\n        context: null,\r\n        contextLocked: false,\r\n        sync: true\r\n      }\r\n    });\r\n\r\n    /**\r\n     * @member {Function} Func#$\r\n     * @type {Function}\r\n     * @public\r\n     * @description Original function.\r\n     */\r\n    Object.defineProperty(proxy, '$', { value: func });\r\n    Object.setPrototypeOf(proxy, Func.prototype);\r\n\r\n    return proxy;\r\n  }\r\n\r\n  /**\r\n   * @method Func#after\r\n   * @public\r\n   * @param {AfterMiddleware} middleware - After middleware.\r\n   * @param {Boolean|*} [afterAll = true] - Boolean parameter where to put middleware.\r\n   * Truthy parameter stands for \"to the end\" and falsey for \"to the beginning\".\r\n   * @returns {Func} Returns this.\r\n   * @description Adds after middleware.\r\n   *\r\n   * @example\r\n   * const func = new Func((a) => a + 1)\r\n   *   .after((result) => result * result);\r\n   *\r\n   * func(4);  // 25\r\n   * func(-4); // 9\r\n   */\r\n  after(middleware, afterAll = true) {\r\n    validate([middleware], ['function'], 'Func#after');\r\n\r\n    const { after } = this.$$;\r\n\r\n    if (afterAll) {\r\n      after.push(middleware);\r\n    } else {\r\n      after.unshift(middleware);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#apply\r\n   * @public\r\n   * @param {*} [context] - Context to call with.\r\n   * @param {(Array|Arguments)} [args] - Arguments to call with.\r\n   * @returns {*} Return of function call.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\r\n   * @description Synonym for\r\n   * [Function#apply]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/apply}.\r\n   */\r\n  apply(context, args) {\r\n    return (() => {}).apply.apply(this, arguments);\r\n  }\r\n\r\n  /**\r\n   * @method Func#async\r\n   * @public\r\n   * @param {Boolean|*} [condition] - If the function should be synchronous or not.\r\n   * @returns {Func} Returns this.\r\n   * @description If the function should be synchronous or not.\r\n   *\r\n   * @example\r\n   * const func = new Func((a) => a + 1).async();\r\n   *\r\n   * func(4).then((result) => {\r\n   *   console.log(result); // 5\r\n   * });\r\n   */\r\n  async(condition = true) {\r\n    this.$$.sync = !condition;\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#before\r\n   * @public\r\n   * @param {BeforeMiddleware} middleware - Before middleware.\r\n   * @param {Boolean|*} [beforeAll = true] - Boolean parameter where to put middleware.\r\n   * Truthy parameter stands for \"to the beginning\" and falsey for \"to the end\".\r\n   * @returns {Func} Returns this.\r\n   * @description Adds before middleware.\r\n   *\r\n   * @example\r\n   * const func = new Func((a) => a + 1)\r\n   *   .before(([arg]) => [arg * arg]);\r\n   *\r\n   * func(4); // 17\r\n   * func(3); // 10\r\n   */\r\n  before(middleware, beforeAll = true) {\r\n    validate([middleware], ['function'], 'Func#before');\r\n\r\n    const { before } = this.$$;\r\n\r\n    if (beforeAll) {\r\n      before.unshift(middleware);\r\n    } else {\r\n      before.push(middleware);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#bind\r\n   * @public\r\n   * @param {*} context - Context to bind.\r\n   * @param {...(Array|Arguments|*)} args - Arguments to bind.\r\n   * @returns {Func} Returns this.\r\n   * @description Composition of {@link Func#bindContext} and {@link Func#bindArgs}.\r\n   *\r\n   * @example\r\n   * const func = new Func(function (a, b) {\r\n   *   return this.a + a + b;\r\n   * }).bind({ a: 2 }, 1);\r\n   *\r\n   * func(1); // 4\r\n   * func(3); // 6\r\n   */\r\n  bind(context, ...args) {\r\n    return this\r\n      .bindContext(context)\r\n      .bindArgs(args);\r\n  }\r\n\r\n  /**\r\n   * @method Func#bindArgs\r\n   * @public\r\n   * @param {(Array|Arguments)} args - Arguments to bind.\r\n   * @returns {Func} Returns this.\r\n   * @description Binds arguments in addition to already locked and bound ones.\r\n   *\r\n   * @example\r\n   * const func = new Func((...args) => {\r\n   *   let sum = 0;\r\n   *\r\n   *   for (let i = 0; i < args.length; i++) {\r\n   *     sum += args[i];\r\n   *   }\r\n   *\r\n   *   return sum;\r\n   * });\r\n   *\r\n   * func(1, 2, 3); // 6\r\n   *\r\n   * func.bindArgs([4]);\r\n   *\r\n   * func(1, 2, 3); // 10\r\n   *\r\n   * func.bindArgs([5]);\r\n   *\r\n   * func(1, 2, 3); // 15\r\n   */\r\n  bindArgs(args) {\r\n    const func = this.$$;\r\n\r\n    func.args = func.args.concat(toArray(args));\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#bindContext\r\n   * @public\r\n   * @param {*} context - Context to bind.\r\n   * @returns {Func} Returns this.\r\n   * @description Bind new context if it's not already locked.\r\n   *\r\n   * @example\r\n   * const func = new Func(function () {\r\n   *   return this.a;\r\n   * }).bindContext({ a: 1 });\r\n   *\r\n   * func(); // 1\r\n   *\r\n   * func.bindContext({ a: 2 });\r\n   *\r\n   * func(); // 2\r\n   */\r\n  bindContext(context) {\r\n    const func = this.$$;\r\n\r\n    if (!func.contextLocked) {\r\n      func.context = context;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#call\r\n   * @public\r\n   * @param {*} [context] - Context to call with.\r\n   * @param {...*} [args] - Arguments to call with.\r\n   * @returns {*} Return of function call.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/call\r\n   * @description Synonym for\r\n   * [Function#call]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/call}.\r\n   */\r\n  call(context, ...args) {\r\n    return (() => {}).call.apply(this, arguments);\r\n  }\r\n\r\n  /**\r\n   * @member {Number} Func#called\r\n   * @public\r\n   * @readonly\r\n   * @description Returns how many times the function was called.\r\n   *\r\n   * @example\r\n   * const func = new Func((a) => a + 1);\r\n   *\r\n   * func();\r\n   * func();\r\n   *\r\n   * func.called // 2\r\n   */\r\n  get called() {\r\n    return this.$$.called;\r\n  }\r\n\r\n  /**\r\n   * @method Func#canBeCalled\r\n   * @public\r\n   * @param {Number} times - Number of maximum times the function is called (middlewares are also taken for a count).\r\n   * @returns {Func} Returns this.\r\n   * @description Method for limiting call times of function.\r\n   *\r\n   * @example\r\n   * const func = new Func((a) => a + 1)\r\n   *   .canBeCalled(1);\r\n   *\r\n   * func(1); // 2\r\n   * func(1); // undefined\r\n   */\r\n  canBeCalled(times) {\r\n    this.$$.canBeCalled = times;\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#limitArgsTo\r\n   * @public\r\n   * @param {Number} number - Number of arguments to limit to.\r\n   * @returns {Func} Returns this.\r\n   * @description Built-in before middleware for limiting number of arguments\r\n   * that is put to the end of before middlewares.\r\n   *\r\n   * @example\r\n   * const func = new Func((a, b) => [a, b]);\r\n   *\r\n   * func(1, 2); // [1, 2]\r\n   *\r\n   * func.limitArgsTo(1);\r\n   *\r\n   * func(1, 2); // [1, undefined]\r\n   */\r\n  limitArgsTo(number) {\r\n    return this.before((args) => args.slice(0, number), false);\r\n  }\r\n\r\n  /**\r\n   * @method Func#lock\r\n   * @public\r\n   * @param {*} context - Context to lock.\r\n   * @param {(Array|Arguments|*)} args - Arguments to lock.\r\n   * @returns {Func} Returns this.\r\n   * @description Composition of {@link Func#lockContext} and {@link Func#lockArgs}.\r\n   *\r\n   * @example\r\n   * const func = new Func(function (a, b) {\r\n   *   return this.a + a + b;\r\n   * }).lock({ a: 2 }, [1]);\r\n   *\r\n   * func(1); // 4\r\n   * func(3); // 6\r\n   */\r\n  lock(context, args) {\r\n    return this\r\n      .lockContext(context)\r\n      .lockArgs(args);\r\n  }\r\n\r\n  /**\r\n   * @method Func#lockArgs\r\n   * @public\r\n   * @param {(Array|Arguments|*)} args - Arguments to lock.\r\n   * @returns {Func} Returns this.\r\n   * @description Erases bound arguments and adds new arguments to already locked ones.\r\n   *\r\n   * @example\r\n   * const func = new Func((...args) => {\r\n   *   let sum = 0;\r\n   *\r\n   *   for (let i = 0; i < args.length; i++) {\r\n   *     sum += args[i];\r\n   *   }\r\n   *\r\n   *   return sum;\r\n   * });\r\n   *\r\n   * func(1, 2, 3); // 6\r\n   *\r\n   * func.lockArgs([4]);\r\n   *\r\n   * func(1, 2, 3); // 10\r\n   *\r\n   * func.bindArgs([6, 7]);\r\n   * func.lockArgs([5]);\r\n   *\r\n   * func(1, 2, 3); // 15\r\n   */\r\n  lockArgs(args) {\r\n    const func = this.$$;\r\n\r\n    func.args = func.argsLocked = func.argsLocked.concat(toArray(args));\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#lockContext\r\n   * @public\r\n   * @param {*} context - Context to lock.\r\n   * @returns {Func} Returns this.\r\n   * @description Locks context if it's not already locked.\r\n   *\r\n   * @example\r\n   * const func = new Func(function () {\r\n   *   return this.a;\r\n   * }).lockContext({ a: 1 });\r\n   *\r\n   * func(); // 1\r\n   *\r\n   * func.lockContext({ a: 2 });\r\n   *\r\n   * func(); // 1\r\n   */\r\n  lockContext(context) {\r\n    const func = this.$$;\r\n\r\n    if (!func.contextLocked) {\r\n      func.context = context;\r\n      func.contextLocked = true;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#timing\r\n   * @public\r\n   * @param {String} mark - Argument that is passed to console.time() and console.timeEnd().\r\n   * By default name of the original function, or if it's not present, 'anonymous' is used.\r\n   * @returns {Func} Returns this.\r\n   * @description Built-in before and after middlewares for noting calling time.\r\n   * In case of asynchronous functions it notes time between calling function and resolving or rejecting the result.\r\n   *\r\n   * @example\r\n   * const func = new Func((a) => a + 1)\r\n   *   .timing('plus 1');\r\n   *\r\n   * func(2); // plus 1: 0.010ms\r\n   *\r\n   * const async = new Func(() => new Promise(() => {\r\n   *     setTimeout(resolve, 1000);\r\n   *   }))\r\n   *   .async()\r\n   *   .timing();\r\n   *\r\n   * async();\r\n   * // After 1 second...\r\n   * // anonymous: 1000.010ms\r\n   */\r\n  timing(mark) {\r\n    mark = arguments.length ? String(mark) : this.$.name || 'anonymous';\r\n\r\n    this.before((args) => {\r\n      console.time(mark);\r\n\r\n      return args;\r\n    }, false);\r\n\r\n    this.after((ret) => {\r\n      console.timeEnd(mark);\r\n\r\n      return ret;\r\n    }, false);\r\n\r\n    return this;\r\n  }\r\n\r\n  toString() {\r\n    return (() => {}).toString.call(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Func#unbind\r\n   * @public\r\n   * @returns {Func} Returns this.\r\n   * @description Composition of {@link Func#unbindContext} and {@link Func#unbindArgs}.\r\n   *\r\n   * @example\r\n   * const func = new Func(function (a) {\r\n   *   return this.foo + ' & ' +  a;\r\n   * }).bind({ foo: 2 }, 1);\r\n   *\r\n   * func(); // '2 & 1'\r\n   *\r\n   * func.unbind();\r\n   *\r\n   * func(); // 'undefined & undefined'\r\n   */\r\n  unbind() {\r\n    return this\r\n      .unbindContext()\r\n      .unbindArgs();\r\n  }\r\n\r\n  /**\r\n   * @method Func#unbindArgs\r\n   * @public\r\n   * @returns {Func} Returns this.\r\n   * @description Erases all bound arguments.\r\n   *\r\n   * @example\r\n   * const func = new Func((...args) => {\r\n   *   let sum = 0;\r\n   *\r\n   *   for (let i = 0; i < args.length; i++) {\r\n   *     sum += args[i];\r\n   *   }\r\n   *\r\n   *   return sum;\r\n   * }).bindArgs([4, 5]);\r\n   *\r\n   * func(1, 2, 3); // 15\r\n   *\r\n   * func.unbindArgs();\r\n   *\r\n   * func(1, 2, 3); // 6\r\n   */\r\n  unbindArgs() {\r\n    const func = this.$$;\r\n\r\n    func.args = func.argsLocked;\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Func#unbindContext\r\n   * @public\r\n   * @returns {Func} Returns this.\r\n   * @description Erases context if it's not locked.\r\n   *\r\n   * @example\r\n   * const func = new Func(function () {\r\n   *   return this.foo;\r\n   * }).bindContext({ foo: 1 });\r\n   *\r\n   * func(); // 1\r\n   *\r\n   * func.unbindArgs();\r\n   *\r\n   * func(); // undefined\r\n   */\r\n  unbindContext() {\r\n    const func = this.$$;\r\n\r\n    if (!func.contextLocked) {\r\n      func.context = null;\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\ndefineProperties(Func.prototype, {\r\n  [Symbol.toStringTag]: 'Func'\r\n});\r\n\r\nconstructors[1].push({\r\n  check: isFunction,\r\n  cls: Func\r\n});\r\n\r\n/**\r\n * @function method\r\n * @public\r\n * @param {String} method - Method to call.\r\n * @param {(Array|Arguments|*)} args - Arguments to call the method with.\r\n * @returns {Function} Function that calls stated method with given arguments.\r\n * @description Function that returns the function\r\n * that calls stated method of its first argument with given arguments.\r\n *\r\n * @example\r\n * [1.2345, 2.789, 3.14].map(method('toFixed', [2])); // ['1.23', '2.79', '3.14']\r\n */\r\nfunction method(method, args = []) {\r\n  return (x) => x[method].apply(x, toArray(args));\r\n}\r\n\r\n/**\r\n * @function noop\r\n * @public\r\n * @returns {void}\r\n * @description Empty function.\r\n */\r\nfunction noop() {}\r\n\r\n/**\r\n * @function prop\r\n * @public\r\n * @param {String} prop - Property to return.\r\n * @returns {Function} Function that returns given property of its first argument.\r\n * @description Function that return the function that returns given property of its first argument.\r\n *\r\n * @example\r\n * ['foo', '12', '7890'].map(prop('length')); // [3, 2, 4]\r\n */\r\nfunction prop(prop) {\r\n  return ({ [prop]: value }) => value;\r\n}\r\n\r\n/**\r\n * @function self\r\n * @public\r\n * @returns {*} First argument itself.\r\n * @description Function that returns the first argument.\r\n *\r\n * @example\r\n * [1, 2].map(self);                     // [1, 2]\r\n * [1, 3, NaN, 0, 7, null].filter(self); // [1, 3, 7]\r\n */\r\nfunction self() {\r\n  return arguments[0];\r\n}\r\n\r\nexport { Func, method, noop, prop, self };\r\n","/**\r\n * @module Num\r\n * @private\r\n * @mixin\r\n * @description Exports Num class.\r\n */\r\n\r\nimport { Super } from './Super';\r\nimport { Func } from './Func';\r\nimport { Promise } from './Promise';\r\nimport { constructors } from './constants';\r\nimport {\r\n  isNumber, isFinite, toArray,\r\n  defineProperties, validate, Symbol\r\n} from './helpers';\r\n\r\nconst toRadian = Math.PI / 180;\r\nconst toDegree = 180 / Math.PI;\r\nconst ln2 = Math.LN2;\r\nconst ln10 = Math.LN10;\r\n\r\n/**\r\n * @class Num\r\n * @extends Super\r\n * @public\r\n * @param {Number} [number = 0] - A number to wrap.\r\n * @returns {Num} Instance of Num.\r\n * @description Wrap of a number.\r\n *\r\n * @example\r\n * const num = new Num(1);\r\n */\r\nclass Num extends Super {\r\n  constructor(number = 0) {\r\n    super(+number);\r\n\r\n    /**\r\n     * @member Num#$\r\n     * @type {Number}\r\n     * @public\r\n     * @description Original number.\r\n     */\r\n  }\r\n\r\n  /**\r\n   * @member Num#abs\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/abs\r\n   * @description Synonym for\r\n   * [Math.abs]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/abs}.\r\n   *\r\n   * @example\r\n   * new Num(1).abs;  // 1\r\n   * new Num(-1).abs; // 1\r\n   */\r\n  get abs() {\r\n    return Math.abs(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Num#acos\r\n   * @public\r\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\r\n   * @returns {Number} Arccosine of the number.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acos\r\n   * @description Synonym for\r\n   * [Math.acos]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acos}.\r\n   */\r\n  acos(toDegrees) {\r\n    return (toDegrees ? toDegree : 1) * Math.acos(this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#acosh\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acosh\r\n   * @description Synonym for\r\n   * [Math.acosh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acosh}.\r\n   */\r\n  get acosh() {\r\n    const number = this.$;\r\n\r\n    return Math.log(number + Math.sqrt(number * number - 1));\r\n  }\r\n\r\n  /**\r\n   * @member Num#asinh\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asinh\r\n   * @description Synonym for\r\n   * [Math.asinh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asinh}.\r\n   */\r\n  get asinh() {\r\n    const number = this.$;\r\n\r\n    return Math.log(number + Math.sqrt(number * number + 1));\r\n  }\r\n\r\n  /**\r\n   * @method Num#asin\r\n   * @public\r\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\r\n   * @returns {Number} Arcsine of the number.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asin\r\n   * @description Synonym for\r\n   * [Math.asin]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asin}.\r\n   */\r\n  asin(toDegrees) {\r\n    return (toDegrees ? toDegree : 1) * Math.asin(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Num#atan\r\n   * @public\r\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\r\n   * @returns {Number} Arcsine of the number.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atan\r\n   * @description Synonym for\r\n   * [Math.atan]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atan}.\r\n   */\r\n  atan(toDegrees) {\r\n    return (toDegrees ? toDegree : 1) * Math.atan(this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#atanh\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atanh\r\n   * @description Synonym for\r\n   * [Math.atanh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atanh}.\r\n   */\r\n  get atanh() {\r\n    const number = this.$;\r\n\r\n    return Math.log((1 + number) / (1 - number)) / 2;\r\n  }\r\n\r\n  /**\r\n   * @member Num#cbrt\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cbrt\r\n   * @description Synonym for\r\n   * [Math.cbrt]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cbrt}.\r\n   */\r\n  get cbrt() {\r\n    const cbrt = Math.pow(Math.abs(this.$), 1 / 3);\r\n\r\n    return this.$ > 0 ? cbrt : -cbrt;\r\n  }\r\n\r\n  /**\r\n   * @member Num#ceil\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil\r\n   * @description Synonym for\r\n   * [Math.ceil]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil}.\r\n   *\r\n   * @example\r\n   * new Num(1.1).ceil;  // 2\r\n   * new Num(-1.1).ceil; // -1\r\n   */\r\n  get ceil() {\r\n    return Math.ceil(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Num#cos\r\n   * @public\r\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\r\n   * @returns {Number} Cosine of the number.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cos\r\n   * @description Synonym for\r\n   * [Math.cos]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cos}.\r\n   */\r\n  cos(asDegrees) {\r\n    return Math.cos((asDegrees ? toRadian : 1) * this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#cosh\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cosh\r\n   * @description Synonym for\r\n   * [Math.cosh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cosh}.\r\n   */\r\n  get cosh() {\r\n    const exp = this.exp;\r\n\r\n    return (exp + 1 / exp) / 2;\r\n  }\r\n\r\n  /**\r\n   * @member Num#cube\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @description Cube of the number.\r\n   *\r\n   * @example\r\n   * new Num(2).cube;  // 8\r\n   * new Num(-3).ceil; // -27\r\n   */\r\n  get cube() {\r\n    return this.$ * this.$ * this.$;\r\n  }\r\n\r\n  /**\r\n   * @member Num#exp\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/exp\r\n   * @description Synonym for\r\n   * [Math.exp]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/exp}.\r\n   */\r\n  get exp() {\r\n    return Math.exp(this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#floor\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/floor\r\n   * @description Synonym for\r\n   * [Math.floor]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/floor}.\r\n   *\r\n   * @example\r\n   * new Num(1.1).floor;  // 1\r\n   * new Num(-1.1).floor; // -2\r\n   */\r\n  get floor() {\r\n    return Math.floor(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Num#interval\r\n   * @public\r\n   * @param {Function} func - Function that is called every <number> milliseconds.\r\n   * @param {Array} [args] - Arguments passed to the function.\r\n   * @returns {Function} Function that aborts the interval. The context of the function (if it's not already bound)\r\n   * is the object with the abort method.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/setInterval\r\n   * @description Analogue of the\r\n   * [setInterval]{@link https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setInterval}.\r\n   *\r\n   * @example\r\n   * const times = 0;\r\n   * new Num(50).interval(function () {\r\n   *   if (++times === 10) {\r\n   *     this.abort();\r\n   *   }\r\n   * });\r\n   */\r\n  interval(func, args = []) {\r\n    validate([func], ['function'], 'Num#interval');\r\n\r\n    func = new Func(func).bindContext({ abort });\r\n    args = toArray(args);\r\n\r\n    const number = this.$;\r\n\r\n    let aborted;\r\n    let timeout = setTimeout(function interval() {\r\n      if (!aborted) {\r\n        func.apply(null, args);\r\n\r\n        if (!aborted) {\r\n          timeout = setTimeout(interval, number);\r\n        }\r\n      }\r\n    }, 0);\r\n\r\n    return abort;\r\n\r\n    function abort() {\r\n      aborted = true;\r\n\r\n      return clearTimeout(timeout);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @member Num#ln\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log\r\n   * @description Synonym for\r\n   * [Math.log]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log}.\r\n   */\r\n  get ln() {\r\n    return Math.log(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Num#log\r\n   * @public\r\n   * @param {Number} number - Number to get logarithm of.\r\n   * @returns {Number} Logarithm of the argument number to the number base.\r\n   * @description Returns the logarithm of the argument number to the number base.\r\n   *\r\n   * @example\r\n   * new Num(2).log(16);  // 4\r\n   * new Num(3).log(243); // 5\r\n   */\r\n  log(number) {\r\n    return Math.log(number) / Math.log(this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#log2\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log2\r\n   * @description Synonym for\r\n   * [Math.log2]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log2}.\r\n   */\r\n  get log2() {\r\n    return this.ln / ln2;\r\n  }\r\n\r\n  /**\r\n   * @member Num#log10\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log10\r\n   * @description Synonym for\r\n   * [Math.log10]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log10}.\r\n   */\r\n  get log10() {\r\n    return this.ln / ln10;\r\n  }\r\n\r\n  /**\r\n   * @method Num#pow\r\n   * @public\r\n   * @param {Number} power - Power the number should be raised to.\r\n   * @returns {Number} The number to the <power> power.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/pow\r\n   * @description Synonym for\r\n   * [Math.pow]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/pow}.\r\n   *\r\n   * @example\r\n   * new Num(4).pow(.5); // 2\r\n   * new Num(3).pow(2);  // 9\r\n   */\r\n  pow(power) {\r\n    return Math.pow(this.$, power);\r\n  }\r\n\r\n  /**\r\n   * @method Num#root\r\n   * @public\r\n   * @param {Number} power - Power the number should be raised to.\r\n   * @returns {Number} The <power> root of the number.\r\n   * @description Synonym for number.pow(1 / power);\r\n   *\r\n   * @example\r\n   * new Num(4).root(2);   // 0.5\r\n   * new Num(243).root(5); // 3\r\n   */\r\n  root(power) {\r\n    return Math.pow(this.$, 1 / power);\r\n  }\r\n\r\n  /**\r\n   * @member Num#round\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/round\r\n   * @description Synonym for\r\n   * [Math.round]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/round}.\r\n   *\r\n   * @example\r\n   * new Num(1.1).floor;  // 1\r\n   * new Num(-1.1).floor; // -1\r\n   * new Num(1.5).floor;  // 2\r\n   */\r\n  get round() {\r\n    return Math.round(this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#sign\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\r\n   * @description Synonym for\r\n   * [Math.sign]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sign}.\r\n   */\r\n  get sign() {\r\n    const number = this.$;\r\n\r\n    if (!number) {\r\n      return number;\r\n    }\r\n\r\n    return number > 0 ? 1 : -1;\r\n  }\r\n\r\n  /**\r\n   * @method Num#sin\r\n   * @public\r\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\r\n   * @returns {Number} Sine of the number.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sin\r\n   * @description Synonym for\r\n   * [Math.sin]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sin}.\r\n   */\r\n  sin(asDegrees) {\r\n    return Math.sin((asDegrees ? toRadian : 1) * this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#sinh\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sinh\r\n   * @description Synonym for\r\n   * [Math.sinh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sinh}.\r\n   */\r\n  get sinh() {\r\n    const exp = this.exp;\r\n\r\n    return (exp - 1 / exp) / 2;\r\n  }\r\n\r\n  /**\r\n   * @member Num#sq\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @description The square of the number.\r\n   *\r\n   * @example\r\n   * new Num(2).sq;  // 4\r\n   * new Num(-3).sq; // 9\r\n   */\r\n  get sq() {\r\n    return this.$ * this.$;\r\n  }\r\n\r\n  /**\r\n   * @member Num#sqrt\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sqrt\r\n   * @description Synonym for\r\n   * [Math.sqrt]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sqrt}.\r\n   */\r\n  get sqrt() {\r\n    return Math.sqrt(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method Num#tan\r\n   * @public\r\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\r\n   * @returns {Number} Tangent of the number.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tan\r\n   * @description Synonym for\r\n   * [Math.tan]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tan}.\r\n   */\r\n  tan(asDegrees) {\r\n    return Math.tan((asDegrees ? toRadian : 1) * this.$);\r\n  }\r\n\r\n  /**\r\n   * @member Num#tanh\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tanh\r\n   * @description Synonym for\r\n   * [Math.tanh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tanh}.\r\n   */\r\n  get tanh() {\r\n    const number = this.$;\r\n\r\n    if (!isFinite(number)) {\r\n      return this.sign;\r\n    }\r\n\r\n    const exp = Math.exp(2 * number);\r\n\r\n    return (exp - 1) / (exp + 1);\r\n  }\r\n\r\n  /**\r\n   * @method Num#timeout\r\n   * @public\r\n   * @param {*} [value] - Value to be resolved by the promise.\r\n   * @returns {Promise} Promise that could be aborted.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setTimeout\r\n   * @description Promise-based analogue of\r\n   * [setTimeout]{@link https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setTimeout}.\r\n   *\r\n   * @example\r\n   * new Num(50).timeout('resolved').then((value) => {\r\n   *   console.log(value); // 'resolved'\r\n   * });\r\n   *\r\n   * const promise = new Num(50).timeout();\r\n   * promise.abort();\r\n   */\r\n  timeout(value) {\r\n    let timeout;\r\n    let reject;\r\n\r\n    const promise = new Promise((resolve, rej) => {\r\n      reject = rej;\r\n      timeout = setTimeout(resolve, this.$, value);\r\n    });\r\n\r\n    promise.abort = function abort() {\r\n      clearTimeout(timeout);\r\n\r\n      reject(new Error('Timeout was aborted'));\r\n\r\n      return this;\r\n    };\r\n\r\n    return promise;\r\n  }\r\n\r\n  /**\r\n   * @method Num#toBase\r\n   * @public\r\n   * @param {Number} [base = 10] - Base that the number should inverted to.\r\n   * @returns {String} A string representation of the number in <base> base.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toString\r\n   * @description Synonym for\r\n   * [Number#toString]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toString}.\r\n   *\r\n   * @example\r\n   * new Num(4).toBase(2); // 100\r\n   * new Num(3).toBase();  // 3\r\n   */\r\n  toBase(base = 10) {\r\n    return this.$.toString(base);\r\n  }\r\n\r\n  /**\r\n   * @method Num#toExponential\r\n   * @public\r\n   * @param {Number} [fractionDigits] - See the link.\r\n   * @returns {String} A string representation of the number in the exponential format.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential\r\n   * @description Synonym for\r\n   * [Number#toExponential]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential}.\r\n   */\r\n  toExponential(fractionDigits) {\r\n    return this.$.toExponential(fractionDigits);\r\n  }\r\n\r\n  /**\r\n   * @method Num#toFixed\r\n   * @public\r\n   * @param {Number} [digits = 0] - See the link.\r\n   * @returns {String} Fixed-point formatted number.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed\r\n   * @description Synonym for\r\n   * [Number#toFixed]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed}.\r\n   */\r\n  toFixed(digits) {\r\n    return this.$.toFixed(digits);\r\n  }\r\n\r\n  /**\r\n   * @method Num#toPrecision\r\n   * @public\r\n   * @param {Number} [precision] - See the link.\r\n   * @returns {String} A string representation of the number to the specified precision.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision\r\n   * @description Synonym for\r\n   * [Number#toPrecision]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision}.\r\n   */\r\n  toPrecision(precision) {\r\n    return this.$.toPrecision(precision);\r\n  }\r\n\r\n  valueOf() {\r\n    return Number(this.$);\r\n  }\r\n}\r\n\r\ndefineProperties(Num.prototype, {\r\n  [Symbol.toStringTag]: 'Num'\r\n});\r\n\r\nconstructors[1].push({\r\n  check: isNumber,\r\n  cls: Num\r\n});\r\n\r\n/**\r\n * @function rand\r\n * @public\r\n * @param {Number} [start = 0] - Start of the range.\r\n * @param {Number} [end = 1] - End of the range.\r\n * @returns {Number} Random number.\r\n * @description Returns a random number in the range specified by the arguments.\r\n *\r\n * @example\r\n * rand(1, 5); // 2.315\r\n * rand(1, 5); // 4.356763\r\n */\r\nfunction rand(start = 0, end = 1) {\r\n  return start + (end - start) * Math.random();\r\n}\r\n\r\n/**\r\n * @function random\r\n * @public\r\n * @param {Integer} start - Start of the range.\r\n * @param {Integer} end - End of the range.\r\n * @returns {Number} Random integer.\r\n * @description Returns a random integer number in the range specified by the arguments.\r\n *\r\n * @example\r\n * random(1, 5); // 3\r\n * random(1, 5); // 1\r\n */\r\nfunction random(start, end) {\r\n  validate([start, end], ['intLike', 'intLike'], 'random');\r\n\r\n  if (end <= start) {\r\n    throw new Error('The second argument must be greater than the first!', 'random');\r\n  }\r\n\r\n  return Math.floor(rand(start, end + 1));\r\n}\r\n\r\nexport { Num, rand, random };\r\n","/**\r\n * @module Arr\r\n * @private\r\n * @mixin\r\n * @description Exports Arr class.\r\n */\r\n\r\nimport { random } from './Num';\r\nimport { Super } from './Super';\r\nimport { constructors } from './constants';\r\nimport {\r\n  isArrayLike, isNaN, isNumber, isString,\r\n  toArray, validate, iterate as iterator, Symbol, defineProperties\r\n} from './helpers';\r\n\r\n/**\r\n * @typedef {Array|*} ArrayLike\r\n * @public\r\n * @description Array-like type.\r\n */\r\n\r\n/**\r\n * @callback ArrayCallback\r\n * @public\r\n * @param {Number} i - Iteration index.\r\n */\r\n\r\n/**\r\n * @callback IterateCallback\r\n * @public\r\n * @param {Number} i - Iteration index.\r\n */\r\n\r\n/**\r\n * @callback CompareFunction\r\n * @public\r\n * @param {*} x - First value to be compared.\r\n * @param {*} y - Second value to be compared.\r\n */\r\n\r\n/**\r\n * @class Arr\r\n * @extends Super\r\n * @public\r\n * @param {Array} [array = []] - An array to wrap.\r\n * @returns {Arr} Instance of Arr.\r\n * @description Wrap of an array.\r\n *\r\n * @example\r\n * new Arr([1, 2]);\r\n */\r\nclass Arr extends Super {\r\n  constructor(array = []) {\r\n    super(toArray(array instanceof Arr ? array.$ : array));\r\n\r\n    /**\r\n     * @member Arr#$\r\n     * @type {Array}\r\n     * @public\r\n     * @description Made array.\r\n     */\r\n  }\r\n\r\n  /**\r\n   * @method Arr#concat\r\n   * @public\r\n   * @param {...(Array|Arr|*)} values - Arrays or any other values to concat the array with.\r\n   * @returns {Arr} New instance of Arr.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/concat\r\n   * @description Synonym for\r\n   * [Array#concat]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/concat}.\r\n   */\r\n  concat(...values) {\r\n    const array = toArray(this.$, true);\r\n\r\n    iterator(arguments, (value) => {\r\n      value = new Super(value).$;\r\n\r\n      if (isArrayLike(value) && !isString(value)) {\r\n        iterator(value, (value) => {\r\n          array.push(value);\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      array.push(value);\r\n    });\r\n\r\n    return new this.constructor(array);\r\n  }\r\n\r\n  /**\r\n   * @member Arr#first\r\n   * @type {*}\r\n   * @public\r\n   * @readonly\r\n   * @description Returns the first element of the array.\r\n   *\r\n   * @example\r\n   * new Arr([1, 2, 3]).first; // 1\r\n   * new Arr([]).first;        // undefined\r\n   */\r\n  get first() {\r\n    return this.$[0];\r\n  }\r\n\r\n  /**\r\n   * @method Arr#indexOf\r\n   * @public\r\n   * @param {*} value - Value to search.\r\n   * @returns {Number} Index of the argument.\r\n   * @description Almost the same as {@link Super#keyOf}. The difference is that if the value is not found\r\n   * -1 returned instead of null and if found Number(key) returned.\r\n   *\r\n   * @example\r\n   * new Arr([1, 2, 3]).indexOf(1);       // 0\r\n   * new Arr([1, 2, 3]).indexOf('1');     // 0\r\n   * new Arr([1, 2, 3]).indexOf(3);       // -1\r\n   * new Arr([1, 2, NaN]).indexOf(NaN);   // 2\r\n   */\r\n  indexOf(value) {\r\n    const key = this.keyOf(value);\r\n\r\n    return key === null ? -1 : Number(key);\r\n  }\r\n\r\n  /**\r\n   * @method Arr#indexOfStrict\r\n   * @public\r\n   * @param {*} value - Value to search.\r\n   * @returns {Number} Index of the argument.\r\n   * @description Almost the same as {@link Super#keyOfStrict}. The difference is that if the value is not found\r\n   * -1 returned instead of null and if found Number(key) returned.\r\n   *\r\n   * @example\r\n   * new Arr([1, 2, 3]).indexOfStrict(1);       // 0\r\n   * new Arr([1, 2, 3]).indexOfStrict('1');     // -1\r\n   * new Arr([1, 2, 3]).indexOfStrict(3);       // -1\r\n   * new Arr([1, 2, NaN]).indexOfStrict(NaN);   // 2\r\n   */\r\n  indexOfStrict(value) {\r\n    const key = this.keyOfStrict(value);\r\n\r\n    return key === null ? -1 : Number(key);\r\n  }\r\n\r\n  /**\r\n   * @method Arr#join\r\n   * @public\r\n   * @param {String} [separator = ','] - See the link.\r\n   * @returns {String} - String of joined array.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/join\r\n   * @description Synonym for\r\n   * [Array#join]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/join}.\r\n   */\r\n  join(separator) {\r\n    return this.$.join.apply(this.$, arguments);\r\n  }\r\n\r\n  /**\r\n   * @member Arr#last\r\n   * @type {*}\r\n   * @public\r\n   * @readonly\r\n   * @description The last element of the array.\r\n   *\r\n   * @example\r\n   * new Arr([1, 2, 3]).last; // 3\r\n   * new Arr([]).last;        // undefined\r\n   */\r\n  get last() {\r\n    const array = this.$;\r\n\r\n    return array[array.length - 1];\r\n  }\r\n\r\n  /**\r\n   * @member Arr#length\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/length\r\n   * @description Synonym for\r\n   * [Array#length]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/length}.\r\n   */\r\n  get length() {\r\n    return this.$.length;\r\n  }\r\n\r\n  /**\r\n   * @method Arr#pop\r\n   * @public\r\n   * @returns {*} Returns deleted element.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/pop\r\n   * @description Synonym for\r\n   * [Array#pop]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/pop}.\r\n   */\r\n  pop() {\r\n    return this.$.pop();\r\n  }\r\n\r\n  /**\r\n   * @method Arr#push\r\n   * @public\r\n   * @param {...*} values See the link.\r\n   * @this {Arr}\r\n   * @returns {Arr} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push\r\n   * @description Synonym for\r\n   * [Array#push]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push}\r\n   * besides returning this.\r\n   */\r\n  push(...values) {\r\n    this.$.push.apply(this.$, arguments);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Arr#random\r\n   * @public\r\n   * @returns {*} Random item of the array.\r\n   * @description Method for getting random items of the array.\r\n   *\r\n   * @example\r\n   * new Arr([1, 5, 3]).random(); // 3\r\n   * new Arr([1, 5, 3]).random(); // 5\r\n   */\r\n  random() {\r\n    return this.$[random(0, this.$.length - 1)];\r\n  }\r\n\r\n  /**\r\n   * @method Arr#reverse\r\n   * @public\r\n   * @returns {Arr} A wrap of the reversed array.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse\r\n   * @description Synonym for\r\n   * [Array#reverse]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse}.\r\n   */\r\n  reverse() {\r\n    this.$.reverse();\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Arr#shift\r\n   * @public\r\n   * @returns {*} Returns deleted element.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/shift\r\n   * @description Synonym for\r\n   * [Array#shift]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/shift}.\r\n   */\r\n  shift() {\r\n    return this.$.shift();\r\n  }\r\n\r\n  /**\r\n   * @method Arr#shuffle\r\n   * @public\r\n   * @returns {Arr} Returns this.\r\n   * @description Method for shuffling.\r\n   *\r\n   * @example\r\n   * new Arr([1, 2, 3, 4]).shuffle().$; // [4, 2, 3, 1]\r\n   * new Arr([1, 2, 3, 4]).shuffle().$; // [1, 3, 4, 2]\r\n   */\r\n  shuffle() {\r\n    const length = this.$.length;\r\n\r\n    return this.forEach((value, index, array) => {\r\n      const randomIndex = index + Math.floor((length - index) * Math.random());\r\n\r\n      array[index] = array[randomIndex];\r\n      array[randomIndex] = value;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Arr#slice\r\n   * @public\r\n   * @param {Number} [begin = 0] - See the link.\r\n   * @param {Number} [end = array.length] - See the link.\r\n   * @returns {Arr} A wrap of a sliced array.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\r\n   * @description Synonym for\r\n   * [Array#slice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice}.\r\n   */\r\n  slice(begin, end) {\r\n    return new this.constructor(this.$.slice.apply(this.$, arguments));\r\n  }\r\n\r\n  /**\r\n   * @method Arr#sort\r\n   * @public\r\n   * @param {CompareFunction} [compareFunction] - See the link.\r\n   * @returns {Arr} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\r\n   * @description Synonym for\r\n   * [Array#sort]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/sort}.\r\n   */\r\n  sort(compareFunction) {\r\n    validate([compareFunction], ['function||!'], 'Arr#sort');\r\n\r\n    this.$.sort(compareFunction);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Arr#sortAsc\r\n   * @public\r\n   * @returns {Arr} Returns this.\r\n   * @description Method for ascending sorting. Puts non-numbers first, then NaNs, then sorted values.\r\n   *\r\n   * @example\r\n   * new Arr([NaN, 1, -7, '100', 5]).sortAsc().$; // ['100', NaN, -7, 1, 5]\r\n   */\r\n  sortAsc() {\r\n    return this.sort(asc);\r\n  }\r\n\r\n  /**\r\n   * @method Arr#sortDesc\r\n   * @public\r\n   * @returns {Arr} Returns this.\r\n   * @description Method for descending sorting. Puts sorted values first, then NaNs, then non-numbers.\r\n   *\r\n   * @example\r\n   * new Arr([NaN, 1, -7, '100', 5]).sortDesc().$; // [5, 1, -7, NaN, '100']\r\n   */\r\n  sortDesc() {\r\n    return this.sort((y, x) => asc(x, y));\r\n  }\r\n\r\n  /**\r\n   * @method Arr#splice\r\n   * @public\r\n   * @param {Number} [start] - See the link.\r\n   * @param {Number} [deleteCount] - See the link.\r\n   * @param {...*} [items] - See the link.\r\n   * @returns {Arr} A wrap of return value of #splice call.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\r\n   * @description Synonym for\r\n   * [Array#splice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice}.\r\n   */\r\n  splice(start, deleteCount, ...items) {\r\n    return new Arr(this.$.splice.apply(this.$, arguments));\r\n  }\r\n\r\n  /**\r\n   * @method Arr#string\r\n   * @public\r\n   * @returns {String} Concatenated array.\r\n   * @description Synonym for array.join('').\r\n   *\r\n   * @example\r\n   * new Arr([1, 2, 3]).string(); // '123'\r\n   */\r\n  string() {\r\n    return this.join('');\r\n  }\r\n\r\n  /**\r\n   * @method Arr#unshift\r\n   * @public\r\n   * @param {...*} [values] - See the link.\r\n   * @returns {Arr} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift\r\n   * @description Synonym for\r\n   * [Array#unshift]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift}\r\n   * besides returning this.\r\n   */\r\n  unshift(...values) {\r\n    this.$.unshift.apply(this.$, arguments);\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\ndefineProperties(Arr.prototype, {\r\n  [Symbol.toStringTag]: 'Arr'\r\n});\r\n\r\n/**\r\n * @function asc\r\n * @private\r\n * @param {*} x - First value to be compared.\r\n * @param {*} y - Second value to be compared.\r\n * @returns {Number} Where to put the first element: before or after.\r\n */\r\nfunction asc(x, y) {\r\n  if (!isNumber(x) && !isNumber(y)) {\r\n    return 0;\r\n  }\r\n\r\n  if (!isNumber(x)) {\r\n    return -1;\r\n  }\r\n\r\n  if (!isNumber(y)) {\r\n    return 1;\r\n  }\r\n\r\n  if (isNaN(x) && isNaN(y)) {\r\n    return 0;\r\n  }\r\n\r\n  if (isNaN(x)) {\r\n    return -1;\r\n  }\r\n\r\n  if (isNaN(y)) {\r\n    return 1;\r\n  }\r\n\r\n  return x - y;\r\n}\r\n\r\nconstructors[1].push({\r\n  check: isArrayLike,\r\n  cls: Arr\r\n});\r\n\r\n/**\r\n * @function array\r\n * @public\r\n * @param {Number} number - Length of the array.\r\n * @param {ArrayCallback} [callback] - If it's present it has to be a function\r\n * that returns the element that is pushed to the new array.\r\n * @returns {Arr} New instance of Arr.\r\n * @description Method for creating new array from the length using optional callback.\r\n *\r\n * @example\r\n * array(3).$;               // [0, 1, 2]\r\n * array(3, (i) => i * 2).$; // [0, 2, 4]\r\n */\r\nfunction array(number, callback) {\r\n  validate([number, callback], [['intLike', '>=0'], 'function||!'], 'array');\r\n\r\n  const array = [];\r\n\r\n  for (let i = 0; i < number; i++) {\r\n    array.push(callback ? callback(i) : i);\r\n  }\r\n\r\n  return new Arr(array);\r\n}\r\n\r\n/**\r\n * @function iterate\r\n * @public\r\n * @param {Number} number - Number of iterations.\r\n * @param {IterateCallback} callback - Callback that is called on each iteration with the iteration index.\r\n * @returns {void}\r\n * @description Method for replacing for (...) construction.\r\n *\r\n * @example\r\n * iterate();\r\n */\r\nfunction iterate(number, callback) {\r\n  validate([number, callback], [['intLike', '>=0'], 'function'], 'iterate');\r\n\r\n  for (let i = 0; i < number; i++) {\r\n    callback(i);\r\n  }\r\n}\r\n\r\nexport { Arr, array, iterate };\r\n","/**\r\n * @module BlobObject\r\n * @private\r\n * @mixin\r\n * @description Exports BlobObject class.\r\n */\r\n\r\nimport { Super } from './Super';\r\nimport { Promise } from './Promise';\r\nimport { constructors } from './constants';\r\nimport {\r\n  isArray, isFunction,\r\n  toStringTag, Symbol, defineProperties\r\n} from './helpers';\r\n\r\n/**\r\n * @typedef {{ buffer: String, binary: String, dataURL: String, text: String }} methods\r\n * @private\r\n * @description List of read blob methods.\r\n */\r\nconst methods = {\r\n  buffer: 'ArrayBuffer',\r\n  binary: 'BinaryString',\r\n  dataURL: 'DataURL',\r\n  text: 'Text'\r\n};\r\nconst { URL } = global;\r\n\r\n/**\r\n * @typedef {('buffer'|'binary'|'dataURL'|'text')} ReadBlobMethod\r\n * @public\r\n * @description Enum type of read blob methods.\r\n */\r\n\r\n/**\r\n * @typedef {ArrayBuffer|ArrayBufferView|Blob|String} BlobParts\r\n * @public\r\n * @description Allowed blob parts.\r\n */\r\n\r\n/**\r\n * @callback ReaderEventListener\r\n * @public\r\n * @param {Event} e - Fired event.\r\n * @param {FileReader} reader - FileReader.\r\n */\r\n\r\n/**\r\n * @class BlobObject\r\n * @extends Super\r\n * @public\r\n * @param {Blob} blob - Blob to wrap.\r\n * @returns {BlobObject} Instance of BlobObject.\r\n * @description Wrap of a blob.\r\n *\r\n * @example\r\n * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }));\r\n */\r\nclass BlobObject extends Super {\r\n  /**\r\n   * @member BlobObject#$\r\n   * @type {Blob}\r\n   * @public\r\n   * @description Original Blob.\r\n   */\r\n\r\n  /**\r\n   * @member {String} BlobObject#dataURL\r\n   * @type {String}\r\n   * @public\r\n   * @readonly\r\n   * @description Returns dataURL representation of the blob.\r\n   */\r\n  get dataURL() {\r\n    return URL.createObjectURL(this.$);\r\n  }\r\n\r\n  /**\r\n   * @method BlobObject#readAs\r\n   * @public\r\n   * @param {ReadBlobMethod} method - Method that is used for reading from blob.\r\n   * @param {ReaderEventListener} [progress] - Progress listener.\r\n   * @returns {Promise} Promise that could be aborted.\r\n   * @description Method for reading from blobs.\r\n   *\r\n   * @example\r\n   * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }))\r\n   *   .readAs('text')\r\n   *   .then((value) => {\r\n   *     console.log(value); // '{\"foo\":\"bar\"}'\r\n   *   });\r\n   */\r\n  readAs(method, progress) {\r\n    if (!methods[method]) {\r\n      throw new Error('1st argument must be one of following values: buffer, binary, dataURL, text');\r\n    }\r\n\r\n    let reader = new FileReader();\r\n    let toReject;\r\n\r\n    if (isFunction(progress)) {\r\n      reader.onprogress = function (e) {\r\n        progress(e, this);\r\n      };\r\n    }\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      toReject = reject;\r\n\r\n      reader.onerror = ({ target }) => {\r\n        if (reader) {\r\n          reject(target.error);\r\n        }\r\n      };\r\n\r\n      reader.onload = ({ target }) => {\r\n        resolve(target.result);\r\n      };\r\n\r\n      reader[`readAs${ methods[method] }`](this.$);\r\n    });\r\n\r\n    promise.abort = function abort() {\r\n      toReject(new Error('Reading was aborted'));\r\n\r\n      reader.abort();\r\n\r\n      reader = null;\r\n\r\n      return this;\r\n    };\r\n\r\n    return promise;\r\n  }\r\n\r\n  /**\r\n   * @method BlobObject#saveAs\r\n   * @public\r\n   * @param {String} [name] - Name that is used for saving file.\r\n   * @returns {BlobObject} Returns this.\r\n   * @description Method for saving blobs.\r\n   *\r\n   * @example\r\n   * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }))\r\n   *   .saveAs('blob.json');\r\n   */\r\n  saveAs(name = 'download') {\r\n    const anchor = document.createElement('a');\r\n\r\n    anchor.href = this.dataURL;\r\n    anchor.setAttribute('download', name);\r\n    anchor.click();\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\ndefineProperties(BlobObject.prototype, {\r\n  [Symbol.toStringTag]: 'BlobObject'\r\n});\r\n\r\nconstructors[1].push({\r\n  check: (blob) => /^(Blob|File)$/.test(toStringTag(blob)),\r\n  cls: BlobObject\r\n});\r\n\r\n/**\r\n * @function blob\r\n * @public\r\n * @param {(BlobParts[]|BlobParts)} blobParts - Blob parts that are passed to\r\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob} constructor.\r\n * @param {Object} [options] - Options that are passed to\r\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob} constructor.\r\n * @returns {BlobObject} New instance of BlobObject.\r\n * @description Function for creating blobs not involving BlobObject and Blob constructors.\r\n */\r\nfunction blob(blobParts, options = {}) {\r\n  if (!isArray(blobParts)) {\r\n    blobParts = [blobParts];\r\n  }\r\n\r\n  return new BlobObject(new Blob(blobParts, options));\r\n}\r\n\r\nexport { BlobObject, blob };\r\n","/**\r\n * @module Str\r\n * @private\r\n * @mixin\r\n * @description Exports Str class.\r\n */\r\n\r\nimport { D } from './D';\r\nimport { Super } from './Super';\r\nimport { constructors, regexpSpecialCharacters } from './constants';\r\nimport {\r\n  isFunction, isNumberLike, isObject, isString,\r\n  validate, Symbol, defineProperties, iterate\r\n} from './helpers';\r\n\r\nconst htmlSpecials = {\r\n  '&': '&amp;',\r\n  '<': '&lt;',\r\n  '>': '&gt;'\r\n};\r\nconst regexpSpecialsRegexp = new RegExp(\r\n  new Super(regexpSpecialCharacters)\r\n    .word((x) => `\\\\${ x }|`)\r\n    .replace(/\\|$/, ''),\r\n  'g'\r\n);\r\n\r\n/**\r\n * @class Str\r\n * @extends Super\r\n * @public\r\n * @param {String} [string = ''] - A string to wrap.\r\n * @returns {Str} Instance of Str.\r\n * @description Wrap of a string.\r\n *\r\n * @example\r\n * const s = new Num('1');\r\n */\r\nclass Str extends Super {\r\n  constructor(string = '') {\r\n    super(`${ string }`);\r\n\r\n    /**\r\n     * @member Str#$\r\n     * @type {String}\r\n     * @public\r\n     * @description Original string.\r\n     */\r\n  }\r\n\r\n  /**\r\n   * @method Str#capitalizeFirst\r\n   * @public\r\n   * @returns {Str} Capitalized string.\r\n   * @description Method capitalizing the first symbol.\r\n   *\r\n   * @example\r\n   * new Str('foo').capitalizeFirst().$; // 'Foo'\r\n   */\r\n  capitalizeFirst() {\r\n    const string = this.$;\r\n\r\n    return new Str(string.slice(0, 1).toUpperCase() + string.slice(1));\r\n  }\r\n\r\n  /**\r\n   * @method Str#endsWith\r\n   * @public\r\n   * @param {String} searchString - See the link.\r\n   * @param {Number} [position = string.length] - See the link.\r\n   * @returns {Boolean} If the string ends with the argument string.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\r\n   * @description Synonym for\r\n   * [String#endsWith]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith}.\r\n   */\r\n  endsWith(searchString, position) {\r\n    if (arguments.length < 2) {\r\n      position = this.$.length;\r\n    }\r\n\r\n    return this\r\n      .slice(0, position)\r\n      .revert()\r\n      .startsWith(new Str(searchString).revert().$);\r\n  }\r\n\r\n  /**\r\n   * @method Str#escapeHTML\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Methods escaping \"&\", \"<\" and \">\" symbols.\r\n   *\r\n   * @example\r\n   * new Str('\"1 < 2\" & \"7 > 4\" are true expressions.').escapeHTML().$;\r\n   * // '\"1 &lt; 2\" &amp \"7 &gt; 2\" are true expressions.'\r\n   */\r\n  escapeHTML() {\r\n    let string = this.$;\r\n\r\n    iterate(htmlSpecials, (escaped, symbol) => {\r\n      string = string.replace(new RegExp(symbol, 'g'), escaped);\r\n    });\r\n\r\n    return new Str(string);\r\n  }\r\n\r\n  /**\r\n   * @method Str#escapeRegExp\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Method escaping RegExp special characters.\r\n   *\r\n   * @example\r\n   * new Str('(213.98 - [] {})').escapeRegExp().$; // '\\(213\\.98 \\- \\[\\] \\{\\}\\)'\r\n   */\r\n  escapeRegExp() {\r\n    return this.replace(regexpSpecialsRegexp, '\\\\$&');\r\n  }\r\n\r\n  /**\r\n   * @method Str#in\r\n   * @public\r\n   * @param {*} object - Object to check the string as a property in.\r\n   * @returns {Boolean} If it is in the object or not.\r\n   * @description Returns string in object.\r\n   *\r\n   * @example\r\n   * new Str('a').in({ a: 1 }); // true\r\n   * new Str('toFixed').in(1);  // false\r\n   * new Str('a').in(null);     // false\r\n   */\r\n  in(object) {\r\n    if (!isObject(object)) {\r\n      return false;\r\n    }\r\n\r\n    return this.$ in object;\r\n  }\r\n\r\n  /**\r\n   * @method Str#indexOf\r\n   * @public\r\n   * @param {String} searchValue - See the link.\r\n   * @param {Number} [fromIndex = 0] - See the link.\r\n   * @returns {Number} Found index or -1.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\r\n   * @description Synonym for\r\n   * [String#indexOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf}.\r\n   */\r\n  indexOf(searchValue, fromIndex) {\r\n    return this.$.indexOf.apply(this.$, arguments);\r\n  }\r\n\r\n  /**\r\n   * @method Str#lastIndexOf\r\n   * @public\r\n   * @param {String} searchValue - See the link.\r\n   * @param {Number} [fromIndex = string.length] - See the link.\r\n   * @returns {Number} Found index or -1.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf\r\n   * @description Synonym for\r\n   * [String#lastIndexOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf}.\r\n   */\r\n  lastIndexOf(searchValue, fromIndex) {\r\n    return this.$.lastIndexOf.apply(this.$, arguments);\r\n  }\r\n\r\n  /**\r\n   * @member Str#length\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/length\r\n   * @description Synonym for\r\n   * [String#length]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/length}.\r\n   */\r\n  get length() {\r\n    return this.$.length;\r\n  }\r\n\r\n  /**\r\n   * @method Str#match\r\n   * @public\r\n   * @returns {Arr|Super} D-Wrap of found match.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/match\r\n   * @description Synonym for\r\n   * [String#match]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/match}.\r\n   */\r\n  match(regexp) {\r\n    return D(this.$.match.apply(this.$, arguments));\r\n  }\r\n\r\n  /**\r\n   * @method Str#repeat\r\n   * @public\r\n   * @param {Integer} times - Times to repeat the string.\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\r\n   * @description Synonym for\r\n   * [String#repeat]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/repeat}.\r\n   *\r\n   * @example\r\n   * new Str('123').repeat(2).$; // '123123'\r\n   * new Str('123').repeat(0).$; // ''\r\n   */\r\n  repeat(times) {\r\n    validate([times], [['intLike', '>=0']], 'Str#repeat');\r\n\r\n    times = +times;\r\n\r\n    const string = this.$;\r\n\r\n    let s = '';\r\n\r\n    for (let i = 0; i < times; i++) {\r\n      s += string;\r\n    }\r\n\r\n    return new Str(s);\r\n  }\r\n\r\n  /**\r\n   * @method Str#replace\r\n   * @public\r\n   * @param {RegExp|String} regexp - See the link.\r\n   * @param {String|Function} [replacer = ''] - See the link.\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/replace\r\n   * @description Synonym for\r\n   * [String#replace]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/replace}\r\n   * besides that replacer has a default value of ''.\r\n   */\r\n  replace(regexp, replacer = '') {\r\n    return new Str(this.$.replace(regexp, replacer));\r\n  }\r\n\r\n  /**\r\n   * @method Str#replaceString\r\n   * @public\r\n   * @param {String} string - String to replace.\r\n   * @param {String} [replacer = ''] - String to replace with.\r\n   * @returns {Str} New instance of Str.\r\n   * @description Method for global string replaceing.\r\n   *\r\n   * @example\r\n   * new Str('123123').replaceString('1', '4').$; // '423423'\r\n   * new Str('123123').replaceString('1').$;      // '2323'\r\n   */\r\n  replaceString(string, replacer = '') {\r\n    string = new Super(string).$;\r\n\r\n    validate([string], ['string'], 'Str#replaceString');\r\n\r\n    return new Str(this.$.split(string).join(replacer));\r\n  }\r\n\r\n  /**\r\n   * @method Str#revert\r\n   * @public\r\n   * @returns {Str} New instance of string.\r\n   * @description Method for reverting a string.\r\n   *\r\n   * @example\r\n   * new Str('1234').revert().$; // '4321'\r\n   */\r\n  revert() {\r\n    const string = this.$;\r\n    let str = '';\r\n\r\n    for (let i = string.length - 1; i >= 0; i--) {\r\n      str += string[i];\r\n    }\r\n\r\n    return new Str(str);\r\n  }\r\n\r\n  /**\r\n   * @method Str#search\r\n   * @public\r\n   * @param {RegExp} regexp - See the link.\r\n   * @returns {Number} Index of the first match, if found, and -1 if not.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/search\r\n   * @description Synonym for\r\n   * [String#search]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/search}.\r\n   */\r\n  search(regexp) {\r\n    validate([regexp], ['regexp']);\r\n\r\n    return this.$.search.apply(this.$, arguments);\r\n  }\r\n\r\n  /**\r\n   * @method Str#slice\r\n   * @public\r\n   * @param {Number} [beginSlice = 0] - See the link.\r\n   * @param {Number} [endSlice = string.length] - See the link.\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/slice\r\n   * @description Synonym for\r\n   * [String#slice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/slice}.\r\n   */\r\n  slice(beginSlice, endSlice) {\r\n    return new Str(this.$.slice.apply(this.$, arguments));\r\n  }\r\n\r\n  /**\r\n   * @method Str#split\r\n   * @public\r\n   * @param {RegExp|String} [separator] - See the link.\r\n   * @returns {Arr|Super} D-Wrap of the array.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/split\r\n   * @description Synonym for\r\n   * [String#split]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/split}.\r\n   */\r\n  split(separator) {\r\n    return D(this.$.split.apply(this.$, arguments));\r\n  }\r\n\r\n  /**\r\n   * @method Str#startsWith\r\n   * @public\r\n   * @param {String} searchString - See the link.\r\n   * @param {Number} [position = 0] - See the link.\r\n   * @returns {Boolean} If the string ends with the argument string.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\r\n   * @description Synonym for\r\n   * [String#startsWith]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith}.\r\n   */\r\n  startsWith(searchString, position = 0) {\r\n    return this.$.indexOf.apply(this.$, arguments) === position;\r\n  }\r\n\r\n  /**\r\n   * @method Str#substr\r\n   * @public\r\n   * @param {Number} [start = 0] - See the link.\r\n   * @param {Number} [length = string.length] - See the link.\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substr\r\n   * @description Synonym for\r\n   * [String#substr]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substr}.\r\n   */\r\n  substr(start, length) {\r\n    return new Str(this.$.substr.apply(this.$, arguments));\r\n  }\r\n\r\n  /**\r\n   * @method Str#substring\r\n   * @public\r\n   * @param {Number} [indexStart = 0] - See the link.\r\n   * @param {Number} [indexEnd = string.length] - See the link.\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substring\r\n   * @description Synonym for\r\n   * [String#substring]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substring}.\r\n   */\r\n  substring(indexStart, indexEnd) {\r\n    return new Str(this.$.substring.apply(this.$, arguments));\r\n  }\r\n\r\n  /**\r\n   * @method Str#toCamelCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Removes following regexp /\\s\\-_\\./ making the string camel cased.\r\n   *\r\n   * @example\r\n   * new Str('spinal-case').toCamelCase().$;  // 'spinalCase'\r\n   * new Str('_snake_case_').toCamelCase().$; // 'snakeCase'\r\n   */\r\n  toCamelCase() {\r\n    return new Str(trim(this.$)\r\n      .replace(/[\\s\\-_.]+/g, '-')\r\n      .replace(/-[^-]/g, (match) => match[1].toUpperCase())\r\n      .replace(/^[\\S]/, (match) => match.toLowerCase())\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @method Str#toCapitalCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Removes following regexp /\\-_\\./ making the string capital letter cased.\r\n   *\r\n   * @example\r\n   * new Str('spinal-case').toCapitalCase().$;  // 'Spinal Case'\r\n   * new Str('_snake_case_').toCapitalCase().$; // 'Snake Case'\r\n   */\r\n  toCapitalCase() {\r\n    return new Str(trim(this.$)\r\n      .replace(/[\\s\\-_.]+/g, ' ')\r\n      .replace(/[\\S]/g, (match) => (\r\n        match.toLowerCase() === match ? match : ` ${ match }`\r\n      ))\r\n      .replace(/\\s[\\S]/g, (match) => match.toUpperCase())\r\n      .replace(/\\s+/g, ' ')\r\n      .replace(/^\\s/, '')\r\n      .replace(/^[\\S]/, (match) => match.toUpperCase())\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @method Str#toDotCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Removes following regexp /\\-_\\./ making the string dot cased.\r\n   *\r\n   * @example\r\n   * new Str('spinal-case').toDotCase().$;  // 'spinal.case'\r\n   * new Str('_snake_case_').toDotCase().$; // 'snake.case'\r\n   */\r\n  toDotCase() {\r\n    return new Str(trim(this.$)\r\n      .replace(/[\\s\\-_.]+/g, '.')\r\n      .replace(/[^.]/g, (match) => (\r\n        match.toLowerCase() === match ? match : `.${ match }`\r\n      ))\r\n      .replace(/\\.+/g, '.')\r\n      .replace(/^\\./, '')\r\n      .toLowerCase()\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @method Str#toHyphenCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Removes following regexp /\\s\\-_\\./ making the string camel cased.\r\n   *\r\n   * @example\r\n   * new Str('camelCase').toSpinalCase().$;    // 'camel-case'\r\n   * new Str('_snake_case_').toSpinalCase().$; // 'snake-case'\r\n   */\r\n  toHyphenCase() {\r\n    return new Str(trim(this.$)\r\n      .replace(/[\\s\\-_.]+/g, '-')\r\n      .replace(/[^-]/g, (match) => (\r\n        match.toLowerCase() === match ? match : `-${ match }`\r\n      ))\r\n      .replace(/-+/g, '-')\r\n      .replace(/^-/, '')\r\n      .toLowerCase()\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @method Str#toLowerCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase\r\n   * @description Synonym for\r\n   * [String#toLowerCase]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase}.\r\n   *\r\n   * @example\r\n   * new Str('UPPER-CASE').toLowerCase().$;  // 'upper-case'\r\n   */\r\n  toLowerCase() {\r\n    return new Str(this.$.toLowerCase());\r\n  }\r\n\r\n  /**\r\n   * @method Str#toSnakeCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Removes following regexp /\\s\\-\\./ making the string spinal cased.\r\n   *\r\n   * @example\r\n   * new Str('spinal-case').toSnakeCase().$; // 'spinal_case'\r\n   * new Str('camelCase').toSnakeCase().$;   // 'camel_case'\r\n   */\r\n  toSnakeCase() {\r\n    return new Str(trim(this.$)\r\n      .replace(/[\\s\\-_.]+/g, '_')\r\n      .replace(/[^_]/g, (match) => (\r\n        match.toLowerCase() === match ? match : `_${ match }`\r\n      ))\r\n      .replace(/_+/g, '_')\r\n      .replace(/^_/, '')\r\n      .toLowerCase()\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @method Str#toSpaceCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @description Removes following regexp /\\-_\\./ making the string space cased.\r\n   *\r\n   * @example\r\n   * new Str('spinal-case').toSpaceCase().$;  // 'spinal case'\r\n   * new Str('_snake_case_').toSpaceCase().$; // 'snake case'\r\n   */\r\n  toSpaceCase() {\r\n    return new Str(trim(this.$)\r\n      .replace(/[\\s\\-_.]+/g, ' ')\r\n      .replace(/[\\S]/g, (match) => (\r\n        match.toLowerCase() === match ? match : ` ${ match }`\r\n      ))\r\n      .replace(/\\s+/g, ' ')\r\n      .replace(/^\\s/, '')\r\n      .toLowerCase()\r\n    );\r\n  }\r\n\r\n  toString() {\r\n    return this.$;\r\n  }\r\n\r\n  /**\r\n   * @method Str#toUpperCase\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase\r\n   * @description Synonym for\r\n   * [String#toUpperCase]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase}.\r\n   *\r\n   * @example\r\n   * new Str('lower-case').toUpperCase().$;  // 'LOWER-CASE'\r\n   */\r\n  toUpperCase() {\r\n    return new Str(this.$.toUpperCase());\r\n  }\r\n\r\n  /**\r\n   * @method Str#trim\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trim\r\n   * @description Synonym for\r\n   * [String#trim]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trim}.\r\n   */\r\n  trim() {\r\n    return new Str(this.$.replace(/^[\\s\\ufeff\\u00a0]+|[\\s\\ufeff\\u00a0]+$/g, ''));\r\n  }\r\n\r\n  /**\r\n   * @method Str#trimLeft\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimLeft\r\n   * @description Synonym for\r\n   * [String#trimLeft]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimLeft}.\r\n   */\r\n  trimLeft() {\r\n    return new Str(this.$.replace(/^[\\s\\ufeff\\u00a0]+/, ''));\r\n  }\r\n\r\n  /**\r\n   * @method Str#trimRight\r\n   * @public\r\n   * @returns {Str} New instance of Str.\r\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimRight\r\n   * @description Synonym for\r\n   * [String#trimRight]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimRight}.\r\n   */\r\n  trimRight() {\r\n    return new Str(this.$.replace(/[\\s\\ufeff\\u00a0]+$/, ''));\r\n  }\r\n}\r\n\r\ndefineProperties(Str.prototype, {\r\n  [Symbol.toStringTag]: 'Str'\r\n});\r\n\r\nconstructors[2].push({\r\n  check: isString,\r\n  cls: Str\r\n});\r\n\r\nfunction trim(string) {\r\n  return string.replace(/^[\\s\\-_.]+|[\\s\\-_.]+$/g, '');\r\n}\r\n\r\n/**\r\n * @function parseJSON\r\n * @public\r\n * @param {String} [json = null] - String to parse.\r\n * @param {Object} [options] - Options.\r\n * @param {Boolean|*} [options.numbers] - If it is needed to parse number-like strings as numbers.\r\n * @param {Boolean|*} [options.dates] - If it is needed to parse date-like string as dates.\r\n * Date-like string is considered to match ^\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\dZ?$\r\n * @param {JSONCallback} [callback] - Callback that called on every iteration.\r\n * @returns {DWrap} D-Wrap of found match.\r\n * @description Method for parsing json.\r\n *\r\n * @example\r\n * parseJSON('{ \"a\": 1 }').$;                                           // { a: 1 }\r\n * parseJSON('{ \"a\": \"1\" }', { numbers: true }).$;                      // { numbers: true }\r\n * parseJSON('{ \"a\": \"1999-12-31T23:59:59.999Z\" }', { dates: true }).$; // { a: Date {...} }\r\n */\r\nfunction parseJSON(json = null, options = {}, callback) {\r\n  if (arguments.length <= 1) {\r\n    return D(JSON.parse(json));\r\n  }\r\n\r\n  if (isFunction(options)) {\r\n    callback = options;\r\n    options = {};\r\n  }\r\n\r\n  const { numbers, dates } = options;\r\n  const parsed = JSON.parse(json, function (key, value) {\r\n    if (dates && /^\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\dZ?$/.test(value)) {\r\n      value = new Date(value);\r\n    } else if (numbers && isNumberLike(value) && isString(value)) {\r\n      value = Number(value);\r\n    }\r\n\r\n    return callback ? callback.apply(this, arguments) : value;\r\n  });\r\n\r\n  return D(parsed);\r\n}\r\n\r\nexport { Str, parseJSON };\r\n","/**\r\n * @module helpers/markupToJSON\r\n * @private\r\n * @description Exports markupToJSON method.\r\n */\r\n\r\nimport { Arr } from '../Arr';\r\nimport { Str } from '../Str';\r\nimport { Super } from '../Super';\r\nimport { switcher } from '../Switcher';\r\nimport { htmlAllowedTagSymbols, htmlAllowedAttrSymbols, voidElements } from '../constants';\r\n\r\n/**\r\n * @typedef {Object} MarkupElement\r\n * @property {'comment'|'text'|'element'} type - Type of the node.\r\n * @property {MarkupElement} parent - Type of the node.\r\n * @property {Object.<String, String>} attrs - Node attributes\r\n * @property {MarkupElement[]} children - Node children.\r\n */\r\n\r\nconst submitString = 'Please, submit an issue at https://github.com/dwaynejs/dwayne/issues.';\r\nconst NODE_REGEX_SET = new Super({\r\n  'tag-open': new RegExp(`<(${ htmlAllowedTagSymbols })\\\\s*`, 'i'),\r\n  'tag-close': constructCloseTagRegExp(htmlAllowedTagSymbols),\r\n  comment: /<!--((?:-[^\\->]|[^\\->])(?:-?[^-])*[^-]?|)-->/\r\n});\r\nconst TAG_OPEN_CLOSE = /^(\\/?)>/;\r\n// const ATTRIBUTE = /^([^\\u0000-\\u0020\\s\"'>\\/=]+)(?:\\s*=\\s*('[^']*'|\"[^\"]*\"|[^\\s\"'`<>=]+))?\\s*/;\r\nconst ATTRIBUTE = new RegExp(`^(${ htmlAllowedAttrSymbols })(?:\\\\s*=\\\\s*('[^']*'|\"[^\"]*\"|[^\\\\s\"'\\`<>=]+))?\\\\s*`);\r\nconst div = document.createElement('div');\r\nconst nodeSwitcher = switcher('strictEquals', (elem) => elem)\r\n  .case('tag-open', (elem, node) => {\r\n    const {\r\n      value: name,\r\n      selfClosing\r\n    } = node;\r\n\r\n    node = {\r\n      name,\r\n      attrs: new Super(node.attrs).map((value) => (\r\n        parseCharacterData(value)\r\n      )).$,\r\n      parent: elem,\r\n      children: new Arr([])\r\n    };\r\n\r\n    elem.children.push(node);\r\n\r\n    if (!selfClosing && voidElements.indexOf(name) === -1) {\r\n      elem = node;\r\n    }\r\n\r\n    return elem;\r\n  })\r\n  .case('tag-close', (elem, node) => {\r\n    if (elem.name === node.value) {\r\n      elem = elem.parent;\r\n    }\r\n\r\n    return elem;\r\n  })\r\n  .case(['comment', 'text'], (elem, node, collapseWhiteSpace, type) => {\r\n    const element = {\r\n      name: `#${ type }`,\r\n      parent: elem,\r\n      value: node.value\r\n    };\r\n\r\n    if (type === 'text' && elem.name !== 'script' && elem.name !== 'style') {\r\n      element.value = parseCharacterData(element.value);\r\n\r\n      if (collapseWhiteSpace) {\r\n        element.value = new Str(element.value).trim().$;\r\n      }\r\n    }\r\n\r\n    if (!collapseWhiteSpace || !/^\\s*$/.test(element.value)) {\r\n      elem.children.push(element);\r\n    }\r\n\r\n    return elem;\r\n  });\r\nconst rawTextSwitcher = switcher('strictEquals', false)\r\n  .case(['title', 'textarea', 'style', 'script'], true);\r\n\r\nclass InternalParsingError {\r\n  constructor(index) {\r\n    this.index = index;\r\n  }\r\n}\r\n\r\nclass ParsingError extends Error {\r\n  type = 'PARSING_ERROR';\r\n}\r\n\r\n/**\r\n * @function markupToJSON\r\n * @private\r\n * @param {String} markup - Markup to parse to JSON.\r\n * @param {Boolean} [collapseWhiteSpace = false] - If the whitespace should be collapsed.\r\n * @returns {Arr.<MarkupElement>} Markup elements array.\r\n * @description Function for parsing html and xml to JSON.\r\n */\r\nexport default (markup, collapseWhiteSpace) => {\r\n  collapseWhiteSpace = !!collapseWhiteSpace;\r\n\r\n  const elements = new Arr([]);\r\n  const startMarkup = markup;\r\n  let found;\r\n  let globalIndex = 0;\r\n  let elem = {\r\n    name: null,\r\n    children: elements\r\n  };\r\n\r\n  while (markup.length) {\r\n    try {\r\n      found = find(markup, elem);\r\n    } catch (err) {\r\n      if (!(err instanceof InternalParsingError)) {\r\n        throwUnexpectedError();\r\n      }\r\n\r\n      throw new ParsingError(`Parsing error near index ${ nearString(startMarkup, globalIndex + err.index) }`);\r\n    }\r\n\r\n    const {\r\n      type,\r\n      attrs,\r\n      selfClosing,\r\n      index,\r\n      value\r\n    } = found;\r\n\r\n    globalIndex += index;\r\n\r\n    if (!index) {\r\n      throwUnexpectedError();\r\n    }\r\n\r\n    const node = {\r\n      type,\r\n      value\r\n    };\r\n\r\n    if (type === 'tag-open') {\r\n      node.attrs = attrs;\r\n      node.selfClosing = selfClosing;\r\n    }\r\n\r\n    elem = nodeSwitcher(node.type, [elem, node, collapseWhiteSpace]);\r\n\r\n    markup = markup.slice(index);\r\n  }\r\n\r\n  return elements;\r\n\r\n  function throwUnexpectedError() {\r\n    throw new ParsingError(`Unexpected parsing error near index ${ nearString(startMarkup, globalIndex) }. ${ submitString }`);\r\n  }\r\n};\r\n\r\nfunction find(markup, elem) {\r\n  const { name } = elem;\r\n  let matches;\r\n\r\n  if (rawTextSwitcher(name)) {\r\n    matches = new Super({\r\n      'tag-close': markup.match(constructCloseTagRegExp(name))\r\n    });\r\n  } else {\r\n    matches = NODE_REGEX_SET.map((regex) => (\r\n      markup.match(regex)\r\n    ));\r\n  }\r\n\r\n  let match;\r\n\r\n  if (\r\n    match = matches.find((match) => (\r\n      match && match.index === 0\r\n    ))\r\n  ) {\r\n    const returning = {\r\n      type: match.key,\r\n      index: match.value[0].length,\r\n      value: match.value[1]\r\n    };\r\n    const attrs = {};\r\n\r\n    if (match.key === 'tag-open') {\r\n      const startMarkup = markup;\r\n      let closeMatch;\r\n\r\n      returning.selfClosing = false;\r\n      returning.attrs = attrs;\r\n\r\n      while (\r\n        (markup = startMarkup.slice(returning.index)) &&\r\n        !(closeMatch = markup.match(TAG_OPEN_CLOSE))\r\n      ) {\r\n        const attr = markup.match(ATTRIBUTE);\r\n\r\n        if (!attr) {\r\n          returning.index += 1;\r\n\r\n          continue;\r\n        }\r\n\r\n        attrs[attr[1]] = (attr[2] || '').replace(/^(\"|')|(\"|')$/g, '');\r\n        returning.index += attr[0].length;\r\n      }\r\n\r\n      if (closeMatch) {\r\n        returning.index += closeMatch[0].length;\r\n        returning.selfClosing = !!closeMatch[1];\r\n      }\r\n    }\r\n\r\n    return returning;\r\n  }\r\n\r\n  let { value: index } = matches.min((match) => (\r\n    match ? match.index : NaN\r\n  ));\r\n\r\n  if (index === Infinity) {\r\n    index = markup.length;\r\n  }\r\n\r\n  return {\r\n    type: 'text',\r\n    index,\r\n    value: markup.slice(0, index)\r\n  };\r\n}\r\n\r\nfunction constructCloseTagRegExp(tagName) {\r\n  return new RegExp(`</(${ tagName })\\\\s*>`, 'i');\r\n}\r\n\r\nfunction nearString(markup, index) {\r\n  return `${ index } (~~~ \"${ markup.slice(index, index + 15) }\" ~~~, the string itself is \"${ markup }\")`;\r\n}\r\n\r\nfunction parseCharacterData(string) {\r\n  return string.replace(/&(\\w+|#x?\\d+);/g, (match) => {\r\n    div.innerHTML = match;\r\n\r\n    return div.textContent || div.innerText;\r\n  });\r\n}\r\n","/**\r\n * @module Elem\r\n * @private\r\n * @mixin\r\n * @description Exports Elem class.\r\n */\r\n\r\nimport { Super } from './Super';\r\nimport { Arr, array, iterate as times } from './Arr';\r\nimport { blob } from './BlobObject';\r\nimport { method } from './Func';\r\nimport { Promise } from './Promise';\r\nimport { Str } from './Str';\r\nimport { switcher } from './Switcher';\r\nimport {\r\n  constructors, appliedRegExps, htmlElements, svgElements,\r\n  canvasGetMethods, canvasRestMethods\r\n} from './constants';\r\nimport {\r\n  isArray, isArrayLike, isElement, isFunction,\r\n  isInteger, isNil, isNumber, isNull, isString,\r\n  assign, dynamicDefineProperties, defineProperties, toArray,\r\n  validate, toStringTag, iterate, Symbol\r\n} from './helpers';\r\nimport markupToJSON from './helpers/markupToJSON';\r\n\r\n/**\r\n * @typedef {String} ElemEventString\r\n * @public\r\n * @description A string containing events separated by a comma with zero or more spaces or just spaces.\r\n */\r\n\r\n/**\r\n * @callback ElemValueCallback\r\n * @public\r\n * @param {String} value - Old value.\r\n * @param {Elem} elem - Current element.\r\n * @param {Number} index - Index in the set of the elements.\r\n */\r\n\r\n/**\r\n * @callback ElemSetOfCallback\r\n * @public\r\n * @param {Element} created - Created element.\r\n * @param {*} value - Value of the iterated element in the object.\r\n * @param {Key} key - Key of the iterated element in the object.\r\n * @param {*} object - Object that is iterated over.\r\n * @param {Element} elem - Current element.\r\n * @param {Number} index - Index of the current element.\r\n */\r\n\r\n/**\r\n * @callback ValidateCallback\r\n * @public\r\n * @param {*} value - Element value.\r\n * @param {Element} elem - Element to validate.\r\n * @param {Number} index - Index of the element.\r\n */\r\n\r\n/**\r\n * @callback CtxCallback\r\n * @public\r\n * @param {CanvasRenderingContext2D} ctx - Canvas rendering context.\r\n */\r\n\r\n/**\r\n * @callback ElemListener\r\n * @public\r\n * @param {Event} e - Fired event.\r\n * @param {Element} elem - Element on which the listener was called.\r\n * @param {Number} index - Index of the element on which the listener was called.\r\n */\r\n\r\n/**\r\n * @callback ElemRemoveListeners\r\n * @public\r\n * @param {...ElemEventString} events - If at least one argument present only removes event listeners specified\r\n * by the events in the arguments.\r\n */\r\n\r\nconst nativeDocument = global.document;\r\nconst emptyDiv = nativeDocument.createElement('div');\r\nconst eventSeparator = /(,| ) */;\r\nconst textProperty = new Super(Node.prototype).propertyDescriptor('textContent') ? 'textContent' : 'innerText';\r\nconst classes = {};\r\nconst attrs = {};\r\nconst windowsDwayneData = new Arr([]);\r\nconst inputElements = 'input, select, textarea, datalist, keygen, output';\r\nconst click = method('click');\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nconst xmlNS = 'http://www.w3.org/2000/xmlns/';\r\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\r\nconst xhtmlNS = 'http://www.w3.org/1999/xhtml';\r\nconst typeSwitcher = switcher('call', (elem, type) => {\r\n  const ns = type === 'svg'\r\n    ? svgNS\r\n    : elem.prop('namespaceURI') || nativeDocument.documentElement.namespaceURI || xhtmlNS;\r\n\r\n  return nativeDocument.createElementNS(ns, type);\r\n})\r\n  .case(\r\n    (type) => type === '#comment',\r\n    () => nativeDocument.createComment('')\r\n  )\r\n  .case(\r\n    (type) => type === '#text',\r\n    () => nativeDocument.createTextNode('')\r\n  );\r\nconst refSwitcher = switcher('strictEquals', 'href')\r\n  .case(\r\n    ['img', 'script', 'iframe', 'audio', 'video'],\r\n    'src'\r\n  )\r\n  .case(\r\n    'form',\r\n    'action'\r\n  );\r\nconst filterSwitcher = switcher('call', (selector) => selector)\r\n  .case(\r\n    isString,\r\n    (selector) => (\r\n      (elem) => new Elem(elem).is(selector)\r\n    )\r\n  )\r\n  .case(\r\n    [isArray, isElem],\r\n    (elems) => {\r\n      elems = new Arr(elems);\r\n\r\n      return (elem) => elems.indexOf(elem) !== -1;\r\n    }\r\n  );\r\nconst innerSwitcher = switcher('strictEquals', 0)\r\n  .case('padding-box', (paddings) => paddings)\r\n  .case('border-box', (paddings, borders) => paddings + borders);\r\nconst outerSwitcher = switcher('strictEquals', (borders, paddings) => borders + paddings)\r\n  .case('padding-box', (borders) => borders)\r\n  .case('border-box', 0);\r\nconst attrNSSwitcher = switcher('call', null)\r\n  .case((attr) => attr === 'xmlns' || attr === 'xmlns:xlink', (elem) => (\r\n    elem.name === 'svg'\r\n      ? xmlNS\r\n      : null\r\n  ))\r\n  .case((attr) => /^xlink:\\w/.test(attr), (elem) => (\r\n    elem.closest('svg').length\r\n      ? xlinkNS\r\n      : null\r\n  ));\r\n\r\n/**\r\n * @class Elem\r\n * @extends Arr\r\n * @public\r\n * @param {Element|Element[]} [elem = []] - An element or an array of elements to wrap.\r\n * @returns {Elem} Instance of Elem.\r\n * @description Wrap of an elements set. Also has all methods from from\r\n * [CanvasRenderingContext2D]{@link https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D}.\r\n * Getters methods return the same as methods from CanvasRenderingContext2D and the rest return this.\r\n * Work for the first canvas element in the set.\r\n *\r\n * @example\r\n * new Elem(document.body);\r\n * new Elem(document.querySelectorAll('.cls'));\r\n * new Elem(document.getElementsByClassName('cls'));\r\n */\r\nclass Elem extends Arr {\r\n  constructor(elem = []) {\r\n    super((() => {\r\n      let element = elem;\r\n\r\n      if (isArrayLike(element) && (\r\n        isWindow(element) ||\r\n        isHTMLDocument(element) ||\r\n        isDocumentFragment(element) ||\r\n        isElement(element) ||\r\n        isCommentOrText(element) ||\r\n        isStyleRule(element)\r\n      )) {\r\n        element = [element];\r\n      }\r\n\r\n      return new Arr(toArray(new Super(element).$, true)).object((elems, elem) => {\r\n        if (elems.indexOf(elem) === -1 && (\r\n          isElement(elem) ||\r\n          isWindow(elem) ||\r\n          isHTMLDocument(elem) ||\r\n          isDocumentFragment(elem) ||\r\n          isCommentOrText(elem) ||\r\n          isStyleRule(elem)\r\n        )) {\r\n          return elems.push(elem);\r\n        }\r\n\r\n        if (isElem(elem)) {\r\n          elems.push.apply(elems, elem.$);\r\n        }\r\n      }, []).$;\r\n    })());\r\n\r\n    this.$$ = elem;\r\n\r\n    this.forEach(addDwayneData);\r\n\r\n    /**\r\n     * @member {Array.<Node|Window>} Elem#$\r\n     * @type {Array.<Node|Window>}\r\n     * @public\r\n     * @description Constructed element set.\r\n     */\r\n\r\n    /**\r\n     * @member {*} Elem#$$\r\n     * @type {*}\r\n     * @public\r\n     * @description Initial element set.\r\n     */\r\n  }\r\n\r\n  /**\r\n   * @method Elem#add\r\n   * @public\r\n   * @param {...(String|Elem|Element|Element[])} elements - Each argument is a selector, or Elem, or Element, or array of Elements.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for adding new elements to the set.\r\n   *\r\n   * @example\r\n   * elem1.find('.cls1')\r\n   *   .add(elem2.find('.cls2'))\r\n   *   .hide();\r\n   */\r\n  add(...elements) {\r\n    iterate(arguments, (elem) => {\r\n      toFind(elem).forEach((elem) => {\r\n        if (this.indexOf(elem) === -1) {\r\n          this.push(elem);\r\n        }\r\n      });\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#addClass\r\n   * @public\r\n   * @param {...String} classes - Classes to add.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for adding classes to the all the elements in the set.\r\n   *\r\n   * @example\r\n   * elem.addClass('red', 'round');\r\n   */\r\n  addClass(...classes) {\r\n    return this.forEach((elem) => {\r\n      const list = elem.classList;\r\n\r\n      iterate(isElement(elem) && arguments, (cls) => list.add(cls));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#addComment\r\n   * @public\r\n   * @param {String} text - Text of comment to add.\r\n   * @param {Boolean} end - If the comment should be inserted to the end. If false it's inserted to the start.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for adding comment to all the elements in the set.\r\n   *\r\n   * @example\r\n   * elem.addHTML('<div>1</div>');\r\n   */\r\n  addComment(text, end = true) {\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.insertAdjacentHTML(end ? 'beforeend' : 'afterbegin', `<!--${ text }-->`);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#addHTML\r\n   * @public\r\n   * @param {String} html - HTML to add.\r\n   * @param {Boolean} end - If the HTML should be inserted to the end. If false it's inserted to the start.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for adding HTML to all the elements in the set.\r\n   *\r\n   * @example\r\n   * elem.addHTML('<div>1</div>');\r\n   */\r\n  addHTML(html, end = true) {\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.insertAdjacentHTML(end ? 'beforeend' : 'afterbegin', html);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#addRule\r\n   * @public\r\n   * @param {String} name - Name of the rule.\r\n   * @param {String} selector - Selector for the rule\r\n   * @param {Object.<String, String>} style - Style for the selector.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for adding css styles into the first style tag in the set.\r\n   * Note: style element should be inside the document.\r\n   *\r\n   * @example\r\n   * style.addRule('img-size', 'img.square', {\r\n   *   width: '40px !important',\r\n   *   height: '40px !important'\r\n   * });\r\n   */\r\n  addRule(name, selector, style) {\r\n    this.some((elem) => {\r\n      if (getName(elem) === 'style') {\r\n        const { sheet } = elem;\r\n        const { length } = sheet.cssRules;\r\n        const rules = new Super(style).word((value, property) => (\r\n          `${ new Str(property).toHyphenCase() }: ${ value };\\n`\r\n        ));\r\n\r\n        sheet.insertRule(\r\n          `${ selector } {${ rules && '\\n' }${ rules }}`,\r\n          length\r\n        );\r\n        sheet.cssRules[length].dwayneData = { name };\r\n\r\n        return true;\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#addText\r\n   * @public\r\n   * @param {String} text - Text to add.\r\n   * @param {Boolean} end - If the text should be inserted to the end. If false it's inserted to the start.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for adding text to all the elements in the set.\r\n   *\r\n   * @example\r\n   * elem.addText('123');\r\n   */\r\n  addText(text, end = true) {\r\n    return this.forEach((elem) => {\r\n      new Elem(nativeDocument.createTextNode(text)).into(elem, end);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#apply\r\n   * @public\r\n   * @param {...String} strings - Strings to apply.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method that is a shorthand for many other methods.\r\n   * All shorthands can be separated with space and written within one string.\r\n   *\r\n   * @example\r\n   * elem.apply(\r\n   *   '#id .c1 .c2 @border(1px solid black) $disabled $attr(some value) *(Click me!)'\r\n   * );\r\n   * // shorthand for\r\n   * // elem\r\n   * //   .id('id')\r\n   * //   .addClass('c1', 'c2')\r\n   * //   .css('border', '1px solid black')\r\n   * //   .attr({\r\n   * //     attr, 'some value'\r\n   * //     disabled: ''\r\n   * //   })\r\n   * //   .text('Click me!');\r\n   * // There is a full list of possible types of syntax below...\r\n   *\r\n   * elem.apply('#id');                    // shorthand for elem.id('id');\r\n   * elem.apply('.c1 .c2');                // shorthand for elem.addClass('c1', 'c2');\r\n   * elem.apply('-.c1 -.c2');              // shorthand for elem.removeClass('c1', 'c2');\r\n   * elem.apply('-@float -@display');      // shorthand for elem.removeCSS('float', 'display');\r\n   * elem.apply('-$a1 -$a2');              // shorthand for elem.removeAttr('a1', 'a2');\r\n   * elem.apply('*(some text)');           // shorthand for elem.text('some text');\r\n   * elem.apply('&(<div>1</div>)');        // shorthand for elem.html('<div>1</div>');\r\n   * elem.apply('@float(right)');          // shorthand for elem.css('float', 'right');\r\n   * elem.apply('@transform(scale(5px))'); // shorthand for elem.css('transform', 'scale(5px)');\r\n   * elem.apply('@margin(2px 2px)');       // shorthand for elem.css('margin', '2px 2px');\r\n   * elem.apply('@marginLeft(2px)');       // shorthand for elem.css('marginLeft', '2px 2px');\r\n   * elem.apply('@margin-left(2px)');      // shorthand for elem.css('margin-left', '2px 2px');\r\n   * elem.apply('$attr(some value)');      // shorthand for elem.attr('attr', 'some value');\r\n   * elem.apply('$attr');                  // shorthand for elem.attr('attr', '');\r\n   */\r\n  apply(...strings) {\r\n    let applied;\r\n    let setApplied;\r\n    let callback;\r\n    let name;\r\n    let np1;\r\n    let slice;\r\n\r\n    new Str(new Arr(arguments).join(' '))\r\n      .split(/(\\s+)/)\r\n      .forEach((string) => {\r\n        if (!applied) {\r\n          np1 = string.slice(0, 1);\r\n          callback = appliedRegExps[np1];\r\n          slice = 1;\r\n\r\n          if (callback && !isFunction(callback)) {\r\n            callback = callback[string.slice(1, 2)];\r\n            slice = 2;\r\n          }\r\n\r\n          if (/^\\s+$/.test(string) || !callback) {\r\n            return;\r\n          }\r\n\r\n          name = string.slice(slice).match(/^[^()]+/);\r\n\r\n          if (!name && (np1 !== '*' && np1 !== '&')) {\r\n            return;\r\n          }\r\n\r\n          applied = {\r\n            name: name ? name[0] : '',\r\n            args: string.slice(slice + (name ? name[0] : '').length),\r\n            callback\r\n          };\r\n\r\n          setApplied = true;\r\n        }\r\n\r\n        if (!setApplied) {\r\n          applied.args += string;\r\n        }\r\n\r\n        if (!applied.args || /^\\([\\s\\S]+\\)$/.test(applied.args)) {\r\n          applied.callback(this, applied.name, applied.args.replace(/^\\(|\\)$/g, ''));\r\n          applied = null;\r\n        }\r\n\r\n        setApplied = false;\r\n      });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#attr\r\n   * @public\r\n   * @param {String|Object.<String, String|ElemValueCallback>} [attr] - Name of the attribute to get or\r\n   * an object of the format { [attrName]: value, ... } to set attributes.\r\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string\r\n   * it should be a value to set for that attribute.\r\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of attributes of the first element in the set\r\n   * returned, if 1 string argument is passed the value of the attribute of the first element in the set\r\n   * returned otherwise returns this.\r\n   * @description Method for getting/setting attributes.\r\n   *\r\n   * @example\r\n   * elem.attr('attr1', 'value1'); // attribute attr1 set to 'value1' and this returned\r\n   * elem.attr('attr1');           // 'value1'\r\n   * elem.attr({\r\n   *   attr1: 'value3',            // attribute attr1 set to 'value3'\r\n   *   attr2: 'value2'             // attribute attr2 set to 'value2'\r\n   * });                           // this returned\r\n   * elem.attr().$;                // { attr1: 'value3', attr2: 'value2' }\r\n   */\r\n  attr(attr, value) {\r\n    const elem = getElem(this);\r\n\r\n    if (!arguments.length) {\r\n      return new Super(elem.attributes).object((o, attr) => {\r\n        o[attr.name] = attr.value;\r\n      });\r\n    }\r\n\r\n    if (arguments.length <= 1 && isString(attr)) {\r\n      const ns = attrNSSwitcher(attr, [new Elem(elem)]);\r\n\r\n      return isNull(ns)\r\n        ? elem.getAttribute(attr)\r\n        : elem.getAttributeNS(ns, attr);\r\n    }\r\n\r\n    if (arguments.length >= 2) {\r\n      attr = { [attr]: value };\r\n    }\r\n\r\n    return this.forEach((elem, index) => {\r\n      if (!isElement(elem)) {\r\n        return;\r\n      }\r\n\r\n      new Super(attr).forEach((value, key) => {\r\n        value = isFunction(value)\r\n          ? value(new Elem(elem).attr(key), elem, index)\r\n          : value;\r\n\r\n        if (isNil(value)) {\r\n          return new Elem(elem).removeAttr(key);\r\n        }\r\n\r\n        const ns = attrNSSwitcher(key, [new Elem(elem)]);\r\n\r\n        if (isNull(ns)) {\r\n          elem.setAttribute(key, value);\r\n        } else {\r\n          elem.setAttributeNS(ns, key, value);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#blob\r\n   * @public\r\n   * @param {Object} [options = {}] - Options that are passed into {@link blob}.\r\n   * @returns {Promise.<BlobObject>} New instance of promise.\r\n   * @description Returns a {@link BlobObject} Promise. Works with image or canvas first element.\r\n   *\r\n   * @example\r\n   * image.blob().then((blob) => console.log(blob));  // BlobObject\r\n   * canvas.blob().then((blob) => console.log(blob)); // BlobObject\r\n   */\r\n  blob(options = {}) {\r\n    return new Promise((resolve, reject) => {\r\n      const elem = this.first();\r\n      const { name } = elem;\r\n\r\n      if (name !== 'img' && name !== 'canvas') {\r\n        reject(new Error('First element in the set isn\\'t an image or a canvas! (Elem#blob)'));\r\n      }\r\n\r\n      if (name === 'canvas') {\r\n        return resolve(elem);\r\n      }\r\n\r\n      elem\r\n        .load()\r\n        .then(() => {\r\n          if (elem.isBroken()) {\r\n            return reject(new Error('The image is broken! (Elem#blob)'));\r\n          }\r\n\r\n          const canvas = new Elem(nativeDocument).canvas();\r\n          const width = elem.width();\r\n          const height = elem.height();\r\n\r\n          canvas\r\n            .width(width)\r\n            .height(height)\r\n            .drawImage(elem.$[0], 0, 0);\r\n\r\n          resolve(canvas);\r\n        });\r\n    }).then((canvas) => {\r\n      const dataURL = canvas.dataURL();\r\n      const byteString = atob(dataURL.split(',')[1]);\r\n      const length = byteString.length;\r\n      const ab = new ArrayBuffer(length);\r\n      const ia = new Uint8Array(ab);\r\n\r\n      times(length, (i) => {\r\n        ia[i] = byteString.charCodeAt(i);\r\n      });\r\n\r\n      return blob(ab, options);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#blur\r\n   * @returns {Elem} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/blur\r\n   * @description Synonym for\r\n   * [HTMLElement#blur]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/blur}.\r\n   */\r\n  blur() {\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.blur();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#calcCSS\r\n   * @param {String} [pseudo] - See the link.\r\n   * @returns {CSSStyleDeclaration} See the link.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/Window/getComputedStyle\r\n   * @description Synonym for\r\n   * [getComputedStyle]{@link https://developer.mozilla.org/en/docs/Web/API/Window/getComputedStyle}.\r\n   * Returns computed style for the first element in the set or undefined.\r\n   */\r\n  calcCSS(pseudo = null) {\r\n    return getComputedStyle(getElem(this), pseudo);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#changeRule\r\n   * @public\r\n   * @param {String} name - Name of the rule.\r\n   * @param {Object.<String, String>} style - Style for the selector.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for changing css styles in the first style tag in the set.\r\n   * Note: style element should be inside the document.\r\n   *\r\n   * @example\r\n   * style.changeRule('img-size', {\r\n   *   width: '50px !important',\r\n   *   height: '50px !important'\r\n   * });\r\n   */\r\n  changeRule(name, style) {\r\n    this.some((elem) => {\r\n      if (getName(elem) === 'style') {\r\n        const { value: rule } = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name) || {};\r\n\r\n        if (rule) {\r\n          new Elem(rule).css(style);\r\n\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#child\r\n   * @public\r\n   * @param {Number|String|Elem|Element|Element[]} element - If the argument is a number a wrap of the set of the children\r\n   * of this index of each element in the set returned otherwise an element to put into this element, a collection\r\n   * or a selector of it.\r\n   * @param {Boolean} end - If the elements should be inserted to the end. If false they are inserted to the start.\r\n   * @returns {Elem} Returns a wrap of children or inserted elements.\r\n   * @description Method is similar to\r\n   * [Node#appendChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/appendChild}.\r\n   *\r\n   * @example\r\n   * const child = elem.child(1);\r\n   *\r\n   * elem.child(elem2);\r\n   * elem.child(document.getElementById('id'));\r\n   * elem.child('#id div.c1');\r\n   */\r\n  child(element, end = true) {\r\n    if (isInteger(element) && element >= 0) {\r\n      return this.children().elem(element);\r\n    }\r\n\r\n    return toFind(element).into(this, end);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#children\r\n   * @public\r\n   * @returns {Elem} D-Wrap of the children of the first element in the set.\r\n   * @description Method for getting element's children.\r\n   *\r\n   * @example\r\n   * const children = elem.children();\r\n   */\r\n  children() {\r\n    return new Elem(this.length ? this.$[0].childNodes : []);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#class\r\n   * @public\r\n   * @param {String} [cls] - If it's present it has to contain class attribute to set.\r\n   * @returns {Arr|Elem} If the argument is present this returned otherwise a wrap of the classes array returned.\r\n   * @description Method for getting/setting classes.\r\n   *\r\n   * @example\r\n   * elem.class('c1 c2'); // class set to 'c1 c2'\r\n   * elem.class().$;      // ['c1', 'c2']\r\n   */\r\n  class(cls) {\r\n    if (!arguments.length) {\r\n      return new Arr(getElem(this).className.split(' '));\r\n    }\r\n\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.className = cls;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#click\r\n   * @returns {Elem} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/click\r\n   * @description Synonym for\r\n   * [HTMLElement#click]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/click}.\r\n   */\r\n  click() {\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.click();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#clone\r\n   * @public\r\n   * @param {Boolean|*} [deep = false] - See thee link.\r\n   * @returns {Elem} New instance of Elem.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/Node/cloneNode\r\n   * @description Synonym for\r\n   * [Node#cloneNode]{@link https://developer.mozilla.org/en/docs/Web/API/Node/cloneNode}.\r\n   */\r\n  clone(deep = false) {\r\n    return this.object((elems, elem) => {\r\n      elems.add(elem.cloneNode(!!deep));\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#closest\r\n   * @public\r\n   * @param {String} selector - See the link.\r\n   * @returns {Elem} Set of the closest elements.\r\n   * @description Synonym for\r\n   * [Element#closest]{@link https://developer.mozilla.org/en/docs/Web/API/Element/closest}.\r\n   */\r\n  closest(selector) {\r\n    return this.object((elems, elem) => {\r\n      while (elem) {\r\n        if (new Elem(elem).is(selector)) {\r\n          return elems.add(elem);\r\n        }\r\n\r\n        elem = elem.parentNode;\r\n      }\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#contains\r\n   * @public\r\n   * @param {String|Elem|Element} element - Element to find out if it's within the first element\r\n   * in the set or a selector of it.\r\n   * @returns {Boolean} Returns if the argument within this element.\r\n   * @description Method is extension for\r\n   * [Node#contains]{@link https://developer.mozilla.org/en/docs/Web/API/Node/contains}.\r\n   *\r\n   * @example\r\n   * elem1.contains(elem2);   // true|false\r\n   * elem.contains(selector); // true|false\r\n   */\r\n  contains(element) {\r\n    element = toFind(element);\r\n\r\n    return getElem(this).contains(getElem(element));\r\n  }\r\n\r\n  /**\r\n   * @method Elem#create\r\n   * @public\r\n   * @param {String} type - Type of created element. If type is \"#text\" a text node is created.\r\n   * If type is \"#comment\" a comment node is created.\r\n   * @param {...String} appliedExpressions - Strings that are passed into {@link Elem#apply}.\r\n   * @returns {Elem} New instance of Elem - wrap of the created elements.\r\n   * @description Method for creating elements inside this element.\r\n   * If this element is not an Element the element is just created.\r\n   *\r\n   * @example\r\n   * elem.create('div', '#id .c1 .c2 *Some text*');\r\n   *\r\n   * // also there are shorthands for almost every HTML-element\r\n   * elem.div();\r\n   * elem.input('$type(checkbox) $name(country)');\r\n   */\r\n  create(type, ...appliedExpressions) {\r\n    return this.object((elems, elem) => {\r\n      const element = new Elem(typeSwitcher(type, [new Elem(elem)]));\r\n\r\n      element.into(elem);\r\n\r\n      elems.add(element.apply.apply(element, appliedExpressions));\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#createComment\r\n   * @public\r\n   * @param {String} text - Text of the comment.\r\n   * @returns {Elem} New instance of Elem - wrap of the created comments.\r\n   * @description Method for creating comments inside this element.\r\n   * If this element is not an Element the comment is just created.\r\n   *\r\n   * @example\r\n   * elem.createComment('comment');\r\n   */\r\n  createComment(text) {\r\n    return this\r\n      .create('#comment')\r\n      .text(text);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#createText\r\n   * @public\r\n   * @param {String} text - Text.\r\n   * @returns {Elem} New instance of Elem - wrap of the created text nodes.\r\n   * @description Method for creating text nodes inside this element.\r\n   * If this element is not an Element the text node is just created.\r\n   *\r\n   * @example\r\n   * elem.createText('text');\r\n   */\r\n  createText(text) {\r\n    return this\r\n      .create('#text')\r\n      .text(text);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#css\r\n   * @public\r\n   * @param {String|Object.<String, String|ElemValueCallback>} [property] - Name of the property to get or\r\n   * an object of the format { [property]: value, ... } to set styles.\r\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string it should be a value to set for that property.\r\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of css styles of the element returned,\r\n   * if 1 string argument is passed the value of the property returned otherwise returns this.\r\n   * @description Method for getting/setting styles. Supports !important.\r\n   *\r\n   * @example\r\n   * elem.css('display', 'none'); // display set to 'none' and this returned\r\n   * elem.css('display');         // 'none'\r\n   * elem.css({\r\n   *   display: 'inline',         // display set to 'inline'\r\n   *   cursor: 'pointer'          // cursor set to 'pointer'\r\n   * });                          // this returned\r\n   * elem.css().$;                // { display: 'none', cursor: 'pointer' }\r\n   */\r\n  css(property, value) {\r\n    let style = getElem(this).style;\r\n\r\n    if (isStyleRule(this.$[0])) {\r\n      style = this.$[0].style;\r\n    }\r\n\r\n    if (!arguments.length) {\r\n      return new Str(style.cssText)\r\n        .split(/; ?/)\r\n        .object((o, value) => {\r\n          if (value) {\r\n            property = value.split(/: /);\r\n\r\n            o[new Str(property[0]).toCamelCase().$] = property[1];\r\n          }\r\n        });\r\n    }\r\n\r\n    if (arguments.length <= 1 && isString(property)) {\r\n      property = new Str(property).toHyphenCase().$;\r\n\r\n      return style.getPropertyValue(property) + (style.getPropertyPriority(property) ? ' !important' : '');\r\n    }\r\n\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: value };\r\n    }\r\n\r\n    return this.forEach((elem, index) => {\r\n      if (!isElement(elem) && !isStyleRule(elem)) {\r\n        return;\r\n      }\r\n\r\n      new Super(property).forEach((value, property) => {\r\n        property = new Str(property).toHyphenCase().$;\r\n\r\n        if (isFunction(value)) {\r\n          value = value(new Elem(elem).css(property), elem, index);\r\n        }\r\n\r\n        elem.style.removeProperty(property);\r\n        elem.style.setProperty(\r\n          property,\r\n          value.replace(/ ?!important$/, ''),\r\n          /!important$/.test(value) ? 'important' : ''\r\n        );\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#ctx\r\n   * @public\r\n   * @param {String|Object|CtxCallback} [property] - If present and object\r\n   * it's assigned to the canvas rendering context, if function\r\n   * it's called with canvas rendering context argument, if string\r\n   * the value from the second argument is used for assigning\r\n   * this property to canvas rendering context and if not present\r\n   * canvas rendering context returned.\r\n   * @param {*} [value] - See the property argument.\r\n   * @returns {CanvasRenderingContext2D|Elem}\r\n   * @description Rendering context of the first canvas in the set.\r\n   *\r\n   * @example\r\n   * canvas.ctx; // CanvasRenderingContext2D\r\n   */\r\n  ctx(property, value) {\r\n    let ctx;\r\n\r\n    this.some((elem) => {\r\n      if (getName(elem) === 'canvas') {\r\n        ctx = elem.dwayneData.ctx;\r\n\r\n        return true;\r\n      }\r\n    });\r\n\r\n    if (!arguments.length) {\r\n      return ctx;\r\n    }\r\n\r\n    if (!ctx) {\r\n      return this;\r\n    }\r\n\r\n    if (isFunction(property)) {\r\n      property(ctx);\r\n    } else {\r\n      if (arguments.length >= 2) {\r\n        property = { [property]: value };\r\n      }\r\n\r\n      assign(ctx, property);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#data\r\n   * @public\r\n   * @param {String|Object.<String, String|ElemValueCallback>} [key] - Name of the data attribute (without data- prefix)\r\n   * to get or an object of the format { [attrName]: value, ... } to set attributes.\r\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string it should be a value to set for that attribute.\r\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of dataset of the element returned,\r\n   * if 1 string argument is passed the value of the data attribute returned otherwise returns this.\r\n   * @description Method for getting/setting data attributes. See\r\n   * [HTMLElement#dataset]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/dataset}.\r\n   *\r\n   * @example\r\n   * elem.data('someKey1', 'value'); // attribute data-some-key1 set to 'value1' and this returned\r\n   * elem.data('someKey1');          // 'value1'\r\n   * elem.data({\r\n   *   someKey1: 'value3',           // attribute data-some-key1 set to 'value3'\r\n   *   someKey2: 'value2'            // attribute data-some-key2 set to 'value2'\r\n   * });                             // this returned\r\n   * elem.data().$;                  // { someKey1: 'value3', someKey2: 'value2' }\r\n   */\r\n  data(key, value) {\r\n    const dataset = getElem(this).dataset;\r\n\r\n    if (!arguments.length) {\r\n      return new Super(dataset).object((o, value, key) => {\r\n        o[key] = value;\r\n      });\r\n    }\r\n\r\n    if (arguments.length === 1 && isString(key)) {\r\n      return dataset[key];\r\n    }\r\n\r\n    if (arguments.length >= 2) {\r\n      key = { [key]: value };\r\n    }\r\n\r\n    return this.forEach((elem, index) => {\r\n      if (!isElement(elem)) {\r\n        return;\r\n      }\r\n\r\n      iterate(key, (value, key) => {\r\n        elem.dataset[key] = isFunction(value) ? value(elem.dataset[key], elem, index) : value;\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#dataURL\r\n   * @param {String} [type = 'image/png'] - See the link\r\n   * @param {Number} [encoderOptions = 0.92] - See the link.\r\n   * @returns {String} Data URL for the first canvas element in the set.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/toDataURL\r\n   * @description Synonym for\r\n   * [HTMLCanvasElement#toDataURL]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/toDataURL}.\r\n   *\r\n   * @example\r\n   * canvas.dataURL();\r\n   */\r\n  dataURL(type, encoderOptions) {\r\n    const ctx = this.ctx();\r\n\r\n    if (!ctx) {\r\n      return '';\r\n    }\r\n\r\n    return ctx.canvas.toDataURL.apply(ctx.canvas, arguments);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#deleteRule\r\n   * @public\r\n   * @param {String} name - Name of the rule.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for deleting css styles in a style tag.\r\n   * Note: style element should be inside the document.\r\n   *\r\n   * @example\r\n   * style.deleteRule('img-size');\r\n   */\r\n  deleteRule(name) {\r\n    this.some((elem) => {\r\n      if (getName(elem) === 'style') {\r\n        const rule = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name);\r\n\r\n        if (rule) {\r\n          elem.sheet.deleteRule(rule.key);\r\n\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#dispatch\r\n   * @public\r\n   * @param {String|Event} event - Event or a string (new Event(event) is created).\r\n   * @param {Object} [eventInit = {}] - See the link.\r\n   * @param {Boolean} [eventInit.bubbles = true] - See the link.\r\n   * @param {Boolean} [eventInit.cancelable = true] - See the link.\r\n   * @param {Object} [details = {}] - Object that is assigned to the event.\r\n   * @returns {Elem} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/Event/Event\r\n   * @description Synonym for\r\n   * [EventTarget#dispatchEvent]{@link https://developer.mozilla.org/en/docs/Web/API/EventTarget/dispatchEvent}.\r\n   *\r\n   * @example\r\n   * elem.dispatch('click');\r\n   * elem.dispatch('click', { bubbles: false, cancellable: false });\r\n   * elem.dispatch(new CustomEvent('custom-event'));\r\n   */\r\n  dispatch(event, eventInit = {}, details = {}) {\r\n    const { bubbles = true, cancelable = true } = eventInit || {};\r\n    let finalEvent = event;\r\n\r\n    if (!/Event$/.test(toStringTag(finalEvent))) {\r\n      try {\r\n        finalEvent = new Event(finalEvent, { bubbles, cancelable });\r\n      } catch (err) {\r\n        finalEvent = nativeDocument.createEvent('Event');\r\n        finalEvent.initEvent(event, bubbles, cancelable);\r\n      }\r\n\r\n      assign(finalEvent, details);\r\n    }\r\n\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.dispatchEvent(finalEvent);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#elem\r\n   * @public\r\n   * @param {Number} [index = 0] - Index of the element of the set to get. Negative index means elem.length + index.\r\n   * @returns {Elem} New instance of Elem.\r\n   *\r\n   * @example\r\n   * elem.elem(1); // a wrap of the element in the set that has index 1\r\n   * elem.elem();  // a wrap of the element in the set that has index 0\r\n   */\r\n  elem(index = 0) {\r\n    if (index < 0) {\r\n      index = this.length + index;\r\n    }\r\n\r\n    return new Elem(this.$[index]);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#filter\r\n   * @public\r\n   * @param {String|Function|Element[]|Elem} [selector = Boolean] - If it's a string the method filters elements with the selector\r\n   * otherwise super.filter is called.\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Method for filtering elements.\r\n   *\r\n   * @example\r\n   * elem.filter((elem) => new Elem(elem).closest('.parent'));\r\n   * elem.filter(elemsInArray);\r\n   * elem.filter(elemsInElem);\r\n   * elem.filter('.child');\r\n   */\r\n  filter(selector = Boolean) {\r\n    return new Elem(super.filter(filterSwitcher(selector)));\r\n  }\r\n\r\n  /**\r\n   * @method Elem#find\r\n   * @public\r\n   * @param {String|Function} selector - Selector to find.\r\n   * @returns {Elem|{ key: Key, value: * }|null} New instance of Elem if selector is a string\r\n   * otherwise super.find is called.\r\n   * @description Synonym for\r\n   * [Element#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Element/querySelectorAll}.\r\n   */\r\n  find(selector) {\r\n    if (!isString(selector)) {\r\n      return super.find(selector);\r\n    }\r\n\r\n    return this.object((elems, elem) => {\r\n      elems.add(find(selector, elem));\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#first\r\n   * @public\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Synonym for elem.elem(0).\r\n   */\r\n  first() {\r\n    return this.elem(0);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#firstChild\r\n   * @public\r\n   * @param {String} [selector = null] - If present, finds first child in every elem that matches the selector.\r\n   * If not, finds first child of each element in the set.\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Method for finding first children of each element in the set.\r\n   *\r\n   * @example\r\n   * elem.first();       // finds first child of each element in the elem set\r\n   * elem.first('.foo'); // find first child that has foo class of each element in the set\r\n   */\r\n  firstChild(selector = null) {\r\n    return this.object((elems, elem) => {\r\n      const { value: found } = new Elem(elem)\r\n        .children()\r\n        .find((elem) => new Elem(elem).is(selector)) || {};\r\n\r\n      elems.add(found);\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#focus\r\n   * @returns {Elem} Returns this.\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/focus\r\n   * @description Synonym for\r\n   * [HTMLElement#focus]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/focus}.\r\n   */\r\n  focus() {\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.focus();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#getRule\r\n   * @public\r\n   * @param {String} name - Name of the rule.\r\n   * @returns {{ selector: (String|void), rules: Object }} Set of the css rules.\r\n   * @description Method for getting set of the rules under the name.\r\n   * Note: style element should be inside the document.\r\n   *\r\n   * @example\r\n   * style.addRule('img-size', 'img.square', {\r\n   *   width: '40px',\r\n   *   height: '40px'\r\n   * });\r\n   * style.getRule('img-size');\r\n   * // {\r\n   * //   selector: 'img.square',\r\n   * //   rules: {\r\n   * //     width: '40px',\r\n   * //     height: '40px'\r\n   * //   }\r\n   * // }\r\n   */\r\n  getRule(name) {\r\n    let found = {\r\n      selector: undefined,\r\n      rules: {}\r\n    };\r\n\r\n    this.some((elem) => {\r\n      if (getName(elem) === 'style') {\r\n        const { value: rule } = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name) || {};\r\n\r\n        if (rule) {\r\n          found = {\r\n            selector: rule.selectorText,\r\n            rules: new Elem(rule).css().$\r\n          };\r\n\r\n          return true;\r\n        }\r\n      }\r\n    });\r\n\r\n    return found;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#hasAttr\r\n   * @public\r\n   * @param {String} attr - Name of the attribute.\r\n   * @returns {Boolean} If the first element in the set has the attribute.\r\n   * @description Method that returns if the first element in the set has the attribute or not.\r\n   *\r\n   * @example\r\n   * elem.attr('attr', 'value').hasAttr('attr'); // true\r\n   * elem.removeAttr('attr').hasAttr('attr');    // false\r\n   */\r\n  hasAttr(attr) {\r\n    const elem = getElem(this);\r\n    const ns = attrNSSwitcher(attr, [new Elem(elem)]);\r\n\r\n    return isNull(ns)\r\n      ? elem.hasAttribute(attr)\r\n      : elem.hasAttributeNS(ns, attr);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#hasClass\r\n   * @public\r\n   * @param {String} cls - Name of the class.\r\n   * @returns {Boolean} If the first element in the set has the class.\r\n   * @description Method that returns if the first element in the set has the class or not.\r\n   *\r\n   * @example\r\n   * elem.addClass('cls').hasClass('cls');    // true\r\n   * elem.removeClass('cls').hasClass('cls'); // false\r\n   */\r\n  hasClass(cls) {\r\n    return getElem(this).classList.contains(cls);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#height\r\n   * @public\r\n   * @param {*|ElemValueCallback} [height] - Height to set.\r\n   * @returns {Elem|String} If no arguments passed height of the first element in the set returned.\r\n   * Otherwise all elements heights in the set are set to the height argument.\r\n   * @description Gets or sets height.\r\n   *\r\n   * @example\r\n   * elem.height(123);\r\n   * elem.height(); // 123\r\n   */\r\n  height(height) {\r\n    return this.prop.apply(this, new Arr(arguments).unshift('height').$);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#hide\r\n   * @public\r\n   * @returns {Elem} Returns this.\r\n   * @description Hides all elements in the set.\r\n   *\r\n   * @example\r\n   * elem.hide();\r\n   */\r\n  hide() {\r\n    return this.forEach((elem) => {\r\n      elem = new Elem(elem);\r\n\r\n      const currentDisplay = elem.css('display');\r\n\r\n      if (currentDisplay.indexOf('none')) {\r\n        elem.prop('dwayneData').previousDisplay = currentDisplay;\r\n      }\r\n\r\n      elem.css('display', 'none !important');\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#html\r\n   * @public\r\n   * @param {String|ElemValueCallback|*} [html] - HTML to write instead of current HTML.\r\n   * @returns {Elem|String} If no arguments passed HTML of the first element in the set returned.\r\n   * Otherwise all elements HTML in the set are set to the html argument.\r\n   * @description Gets or sets HTML.\r\n   *\r\n   * @example\r\n   * elem.html('<div>1</div>');\r\n   * elem.html(); // '<div>1</div>'\r\n   */\r\n  html(html) {\r\n    if (!arguments.length) {\r\n      return getElem(this).innerHTML;\r\n    }\r\n\r\n    return this.forEach((elem, index) => {\r\n      if (isElement(elem)) {\r\n        elem.innerHTML = isFunction(html) ? html(elem.innerHTML, elem, index) : html;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#id\r\n   * @public\r\n   * @param {String|*} [id] - Id to set.\r\n   * @returns {Elem|String} If no arguments passed id of the first element in the set returned.\r\n   * Otherwise all elements ids in the set are set to the id argument.\r\n   * @description Gets id or sets ids.\r\n   *\r\n   * @example\r\n   * elem.id('unique');\r\n   * elem.id(); // 'unique'\r\n   */\r\n  id(id) {\r\n    if (!arguments.length) {\r\n      return getElem(this).id;\r\n    }\r\n\r\n    return this.forEach((elem) => {\r\n      if (isElement(elem)) {\r\n        elem.id = id;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @member {Number} Elem#innerHeight\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @description Getter for finding how much height content of the first element can be.\r\n   *\r\n   * @example\r\n   * elem.css({\r\n   *   boxSizing: 'border-box',\r\n   *   height: '200px',\r\n   *   paddingTop: '2px',\r\n   *   paddingBottom: '3px',\r\n   *   borderTop: '1px solid black',\r\n   *   borderBottom: '4px solid black'\r\n   * }).innerHeight; // 190\r\n   * elem\r\n   *   .css('box-sizing', 'content-box')\r\n   *   .innerHeight; // 200\r\n   * elem\r\n   *   .css('box-sizing', 'padding-box')\r\n   *   .innerHeight; // 195\r\n   */\r\n  get innerHeight() {\r\n    const elem = this.$[0];\r\n\r\n    if (isWindow(elem)) {\r\n      return elem.innerHeight;\r\n    }\r\n\r\n    const {\r\n      borderTopWidth,\r\n      borderBottomWidth,\r\n      boxSizing,\r\n      height,\r\n      paddingTop,\r\n      paddingBottom\r\n    } = this.calcCSS();\r\n    const borders = px(borderTopWidth) + px(borderBottomWidth);\r\n    const paddings = px(paddingTop) + px(paddingBottom);\r\n\r\n    return px(height) - innerSwitcher(boxSizing, [paddings, borders]);\r\n  }\r\n\r\n  /**\r\n   * @member {Number} Elem#innerWidth\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @description Getter for finding how much width content of the first element can be.\r\n   *\r\n   * @example\r\n   * elem.css({\r\n   *   boxSizing: 'border-box',\r\n   *   width: '200px',\r\n   *   paddingLeft: '2px',\r\n   *   paddingRight: '3px',\r\n   *   borderLeft: '1px solid black',\r\n   *   borderRight: '4px solid black'\r\n   * }).innerWidth; // 190\r\n   * elem\r\n   *   .css('box-sizing', 'content-box')\r\n   *   .innerWidth; // 200\r\n   * elem\r\n   *   .css('box-sizing', 'padding-box')\r\n   *   .innerWidth; // 195\r\n   */\r\n  get innerWidth() {\r\n    const elem = this.$[0];\r\n\r\n    if (isWindow(elem)) {\r\n      return elem.innerWidth;\r\n    }\r\n\r\n    const {\r\n      borderLeftWidth,\r\n      borderRightWidth,\r\n      boxSizing,\r\n      paddingLeft,\r\n      paddingRight,\r\n      width\r\n    } = this.calcCSS();\r\n    const borders = px(borderLeftWidth) + px(borderRightWidth);\r\n    const paddings = px(paddingLeft) + px(paddingRight);\r\n\r\n    return px(width) - innerSwitcher(boxSizing, [paddings, borders]);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#insertAfter\r\n   * @public\r\n   * @param {String|Elem|Element} element - Element to insert this element after or a selector of it.\r\n   * @returns {Elem} Returns this.\r\n   * @description Puts the elements from the set after the element specified by the argument.\r\n   * The elements remain in the same order.\r\n   *\r\n   * @example\r\n   * elem.insertAfter(elem2);\r\n   * elem.insertAfter(document.getElementById('id'));\r\n   * elem.insertAfter('#id div.c1');\r\n   */\r\n  insertAfter(element) {\r\n    element = toFind(element).first();\r\n\r\n    let parent = element.parent();\r\n\r\n    if (!parent.length) {\r\n      return this;\r\n    }\r\n\r\n    element = element.next().$[0];\r\n    parent = parent.$[0];\r\n\r\n    return this.forEach((elem) => {\r\n      if (element) {\r\n        parent.insertBefore(elem, element);\r\n      } else {\r\n        parent.appendChild(elem);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#insertBefore\r\n   * @public\r\n   * @param {String|Elem|Element} element - Element to insert this element before or a selector of it.\r\n   * @returns {Elem} Returns this.\r\n   * @description Puts the elements from the set before the element specified by the argument.\r\n   * The elements remain in the same order.\r\n   *\r\n   * @example\r\n   * elem.insertBefore(elem2);\r\n   * elem.insertBefore(document.getElementById('id'));\r\n   * elem.insertBefore('#id div.c1');\r\n   */\r\n  insertBefore(element) {\r\n    element = toFind(element).first();\r\n\r\n    let parent = element.parent();\r\n\r\n    if (!parent.length) {\r\n      return this;\r\n    }\r\n\r\n    element = element.$[0];\r\n    parent = parent.$[0];\r\n\r\n    return this.forEach((elem) => {\r\n      parent.insertBefore(elem, element);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#into\r\n   * @public\r\n   * @param {String|Elem|Element} element - Element to put this elements into or a selector of it.\r\n   * @param {Boolean} end - If the elements should be inserted to the end. If false they are inserted to the start.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method is similar to\r\n   * [Node#appendChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/appendChild}.\r\n   *\r\n   * @example\r\n   * elem.into(elem2);\r\n   * elem.into(document.getElementById('id'));\r\n   * elem.into('#id div.c1');\r\n   */\r\n  into(element, end = true) {\r\n    element = toFind(element).$[0];\r\n\r\n    if (\r\n      !element ||\r\n      isWindow(element) ||\r\n      isHTMLDocument(element) ||\r\n      isCommentOrText(element)\r\n    ) {\r\n      return this;\r\n    }\r\n\r\n    if (!end && element.firstChild) {\r\n      return this\r\n        .slice()\r\n        .reverse()\r\n        .forEach((elem) => {\r\n          element.insertBefore(elem, element.firstChild);\r\n        });\r\n    }\r\n\r\n    return this.forEach((elem) => {\r\n      element.appendChild(elem);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#is\r\n   * @public\r\n   * @param {String} selector\r\n   * @returns {Boolean} If the first element in the set matches the selector.\r\n   * If the selector is undefined or null always returns true. If it's not for not elements\r\n   * entries returns false.\r\n   * @description Synonym for\r\n   * [Element#matches]{@link https://developer.mozilla.org/en/docs/Web/API/Element/matches}.\r\n   *\r\n   * @example\r\n   * elem.addClass('cls');\r\n   * elem.is('.cls');         // true\r\n   *\r\n   * elem.removeClass('cls');\r\n   * elem.is('.cls');         // false\r\n   */\r\n  is(selector) {\r\n    if (isNull(selector)) {\r\n      return true;\r\n    }\r\n\r\n    const elem = getElem(this);\r\n    const matches = (\r\n      elem.matches ||\r\n      elem.matchesSelector ||\r\n      elem.webkitMatchesSelector ||\r\n      elem.mozMatchesSelector ||\r\n      elem.msMatchesSelector ||\r\n      elem.oMatchesSelector\r\n    );\r\n\r\n    if (!isElement(this.$[0])) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      return matches.call(elem, selector);\r\n    } catch (err) {\r\n      console.error(`Selector '${ selector }' is not a valid selector (Elem#is)`);\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method Elem#isBroken\r\n   * @public\r\n   * @returns {Boolean} If the first image in the set is broken.\r\n   * @description Returns if the first element in the set is broken. Not image and not loaded image is considered proper.\r\n   *\r\n   * @example\r\n   * const img = elem.img().on({\r\n   *   'load': onload,\r\n   *   'error': onload\r\n   * });\r\n   *\r\n   * onload = () => {\r\n   *   console.log(img.isBroken()); // true\r\n   * };\r\n   *\r\n   * img.ref('/some/non-existent/site/not-found.png');\r\n   */\r\n  isBroken() {\r\n    let isBroken = false;\r\n\r\n    this.some((elem) => {\r\n      if (getName(elem) === 'img') {\r\n        isBroken = !!(elem.complete && (!elem.naturalWidth || !elem.naturalHeight));\r\n\r\n        return true;\r\n      }\r\n    });\r\n\r\n    return isBroken;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#isWithinDocument\r\n   * @public\r\n   * @returns {Boolean} Returns if the first element in the set is within the document or not.\r\n   * @description Returns if the first element in the set is within the document or not.\r\n   *\r\n   * @example\r\n   * new Elem(document.body).isWithinDocument();  // true\r\n   * new Elem(document).div().isWithinDocument(); // false\r\n   */\r\n  isWithinDocument() {\r\n    return this.first().closest('html').length !== 0;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#last\r\n   * @public\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Synonym for elem.elem(-1).\r\n   */\r\n  last() {\r\n    return this.elem(-1);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#lastChild\r\n   * @public\r\n   * @param {String} [selector = null] - If present, finds last child in every elem that matches the selector.\r\n   * If not, finds last child of each element in the set.\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Method for finding last children of each element in the set.\r\n   *\r\n   * @example\r\n   * elem.last();       // finds last child of each element in the elem set\r\n   * elem.last('.foo'); // find last child that has 'foo' class of each element in the set\r\n   */\r\n  lastChild(selector = null) {\r\n    return this.object((elems, elem) => {\r\n      const { value: found } = new Elem(elem)\r\n        .children()\r\n        .reverse()\r\n        .find((elem) => new Elem(elem).is(selector)) || {};\r\n\r\n      elems.add(found);\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#load\r\n   * @public\r\n   * @returns {Promise.<{ proper: Elem, broken: Elem }>} Promise with broken and proper images.\r\n   * @description Loads each image in the set and puts it to the proper or broken array.\r\n   *\r\n   * @example\r\n   * images.load().then(({ broken }) => {\r\n   *   broken.filter('img').ref('/fallback.png');\r\n   * });\r\n   */\r\n  load() {\r\n    const images = {\r\n      proper: new Elem(),\r\n      broken: new Elem()\r\n    };\r\n\r\n    return Promise.all(\r\n      this\r\n        .filter((elem) => getName(elem) === 'img')\r\n        .map((elem) => {\r\n          const $elem = new Elem(elem);\r\n\r\n          if (elem.complete) {\r\n            images[$elem.isBroken() ? 'broken' : 'proper'].push(elem);\r\n\r\n            return;\r\n          }\r\n\r\n          return new Promise((resolve) => {\r\n            const removeListeners = $elem.on({\r\n              load() {\r\n                images.proper.add(elem);\r\n\r\n                removeListeners();\r\n                resolve();\r\n              },\r\n              error() {\r\n                images.broken.add(elem);\r\n\r\n                removeListeners();\r\n                resolve();\r\n              }\r\n            });\r\n          });\r\n        })\r\n        .$\r\n    ).then(() => images);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#moveAttr\r\n   * @public\r\n   * @param {String} attr - Attribute to move to the first element.\r\n   * @param {String} [value = ''] - Value to set for the attribute. If not set attribute of the previous element or '' used.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for moving an attribute from previous element to the next one (first element in this set).\r\n   *\r\n   * @example\r\n   * elem1.moveAttr('attr', 'value');     // attribute 'attr' set to 'value' on elem1\r\n   * elem2.moveAttr('attr');              // attribute 'attr' removed from elem1. set to 'value' on elem2\r\n   * elem3.moveAttr('attr', 'new value'); // attribute 'attr' removed from elem2. set to 'new value' on elem3\r\n   */\r\n  moveAttr(attr, value = '') {\r\n    const prev = attrs[attr];\r\n    const elem = this.elem();\r\n\r\n    if (prev && elem.length) {\r\n      if (arguments.length < 2) {\r\n        value = prev.attr(attr);\r\n      }\r\n\r\n      prev.removeAttr(attr);\r\n    }\r\n\r\n    if (elem.length) {\r\n      attrs[attr] = elem.attr(attr, value);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#moveClass\r\n   * @public\r\n   * @param {String} cls - Class to move to the first element.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for moving a class from previous element to the next one (first element in this set).\r\n   *\r\n   * @example\r\n   * elem1.moveClass('cls'); // class 'cls' added to elem1\r\n   * elem2.moveClass('cls'); // class 'cls' removed from elem1. added to elem1\r\n   */\r\n  moveClass(cls) {\r\n    const prev = classes[cls];\r\n    const elem = this.elem();\r\n\r\n    if (prev && elem.length) {\r\n      prev.removeClass(cls);\r\n    }\r\n\r\n    if (elem.length) {\r\n      classes[cls] = elem.addClass(cls);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @member {String} Elem#name\r\n   * @type {String}\r\n   * @public\r\n   * @readonly\r\n   * @description nodeName (lowercased) of the first element in the set.\r\n   *\r\n   * @example\r\n   * const elem1 = elem.create('div');\r\n   * elem1.name // 'div'\r\n   */\r\n  get name() {\r\n    return getName(this.$[0]);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#next\r\n   * @public\r\n   * @param {String} [selector = null] - If present, finds next element to every elem that matches the selector.\r\n   * If not, finds next element to each element in the set.\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Method for finding next element to each element in the set.\r\n   *\r\n   * @example\r\n   * elem.next();       // finds next element to each element in the set\r\n   * elem.next('.foo'); // finds next element to each element that has 'foo' class\r\n   */\r\n  next(selector = null) {\r\n    return this.object((elems, elem) => {\r\n      /* eslint no-cond-assign: 0 */\r\n      while (elem = elem.nextSibling) {\r\n        if (new Elem(elem).is(selector)) {\r\n          return elems.add(elem);\r\n        }\r\n      }\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#off\r\n   * @public\r\n   * @param {...ElemEventString} events - Events to remove.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method that removes all the listeners from each element in the set specified by the events arguments.\r\n   *\r\n   * @example\r\n   * elem.off('click');\r\n   * elem.off('click, input');\r\n   * elem.off('click, input', 'focus');\r\n   */\r\n  off(...events) {\r\n    return this.forEach((elem) => {\r\n      const { listeners } = elem.dwayneData;\r\n\r\n      iterate(arguments, (event) => {\r\n        iterate(event.split(eventSeparator), (event) => {\r\n          (listeners[event] || new Super()).forEach(({ removeListener }) => removeListener());\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#on\r\n   * @public\r\n   * @param {ElemEventString|Object.<ElemEventString|ElemListener>} event - Either a {@link ElemEventString} string\r\n   * or an object with event keys (a key is also ElemEventString) and listeners values.\r\n   * @param {String} [selector = null] - Selector to filter event targets.\r\n   * @param {ElemListener} [listener] - If the first argument is a string it must be a listener function for\r\n   * specified event(s).\r\n   * @returns {ElemRemoveListeners} Function that takes optional event argument.\r\n   * @description Adds event listeners for all the elements in the set.\r\n   * For debugging: If you need to know what listeners are in work (and what selectors filter targets)\r\n   * you can look at the base property of the only dwayne listener that listens for the event\r\n   * and find all working listeners in listener.base.dwayneData.listeners[event].$.\r\n   *\r\n   * @example\r\n   * elem.on(\r\n   *   'change, input',\r\n   *   'input, select, textarea, datalist, keygen, output',\r\n   *   (e, elem, index) => console.log(elem.value)\r\n   * );\r\n   * elem.on(\r\n   *   'change, input',\r\n   *   (e, elem, index) => console.log(elem.value)\r\n   * );\r\n   * elem.on(\r\n   *   {\r\n   *     'change, input': (e, elem, index) => console.log(elem.value),\r\n   *     'blur': () => console.log('blur')\r\n   *   },\r\n   *   'input, select, textarea, datalist, keygen, output'\r\n   * );\r\n   *\r\n   * const removeListeners = elem.on({\r\n   *   'change, input': (e, elem, index) => console.log(elem.value),\r\n   *   'blur': () => console.log('blur')\r\n   * });\r\n   *\r\n   * removeListeners('click');\r\n   * removeListeners('blur, change');\r\n   * removeListeners('blur, change', 'input');\r\n   * removeListeners();\r\n   */\r\n  on(event, selector = null, listener) {\r\n    const allListeners = new Super({});\r\n\r\n    if (isFunction(selector)) {\r\n      listener = selector;\r\n      selector = null;\r\n    }\r\n\r\n    if (isString(event)) {\r\n      event = { [event]: listener };\r\n    }\r\n\r\n    event = new Super(event).object((listeners, listener, event) => {\r\n      iterate(event.split(eventSeparator), (event) => {\r\n        listeners[event] = listener;\r\n      });\r\n    });\r\n\r\n    this.forEach((elem) => {\r\n      if (!isElement(elem) && !isWindow(elem) && !isHTMLDocument(elem)) {\r\n        return;\r\n      }\r\n\r\n      const { listeners } = (windowsDwayneData.find(({ element }) => element === elem) || {}).value || elem.dwayneData;\r\n\r\n      event.forEach((listener, event) => {\r\n        const removeEventListeners = listeners[event] = listeners[event] || new Super({}).define('index', {\r\n          value: 0,\r\n          configurable: true,\r\n          writable: true\r\n        });\r\n        const index = removeEventListeners.prop('index');\r\n\r\n        if (!removeEventListeners.has('listener')) {\r\n          const newListener = (e) => {\r\n            removeEventListeners.forEach(({ selector, listener }) => {\r\n              if (new Elem(e.target).is(selector)) {\r\n                listener.call(elem, e, elem, index);\r\n              }\r\n            });\r\n          };\r\n\r\n          newListener.base = elem;\r\n\r\n          elem.addEventListener(event, newListener, false);\r\n          removeEventListeners.define('listener', {\r\n            value: newListener,\r\n            configurable: true,\r\n            writable: true\r\n          });\r\n        }\r\n\r\n        const removeListener = () => {\r\n          removeEventListeners.delete(index);\r\n\r\n          if (!removeEventListeners.count) {\r\n            elem.removeEventListener(event, removeEventListeners.prop('listener'), false);\r\n            removeEventListeners.delete('listener');\r\n          }\r\n        };\r\n\r\n        allListeners.prop(event, (allListeners.prop(event) || new Arr()).push(removeListener));\r\n\r\n        removeEventListeners.assign({\r\n          index: index + 1,\r\n          [index]: {\r\n            selector,\r\n            listener,\r\n            removeListener\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    return function removeEventListeners(event) {\r\n      if (arguments.length) {\r\n        iterate(arguments, (event) => {\r\n          iterate(event.split(eventSeparator), (event) => {\r\n            if (allListeners.has(event)) {\r\n              allListeners.prop(event).forEach((removeListener) => removeListener());\r\n              allListeners.delete(event);\r\n            }\r\n          });\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      allListeners.forEach((removeListeners) => {\r\n        removeListeners.forEach((removeListener) => removeListener());\r\n      });\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @member {Number} Elem#outerHeight\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @description Getter for finding how much height the element actually is.\r\n   *\r\n   * @example\r\n   * elem.css({\r\n   *   boxSizing: 'border-box',\r\n   *   height: '200px',\r\n   *   paddingTop: '2px',\r\n   *   paddingBottom: '3px',\r\n   *   borderTop: '1px solid black',\r\n   *   borderBottom: '4px solid black'\r\n   *   marginTop: '0px',\r\n   *   marginBottom: '5px'\r\n   * }).outerHeight; // 205\r\n   * elem\r\n   *   .css('box-sizing', 'content-box')\r\n   *   .outerHeight; // 215\r\n   * elem\r\n   *   .css('box-sizing', 'padding-box')\r\n   *   .outerHeight; // 210\r\n   */\r\n  get outerHeight() {\r\n    const elem = this.$[0];\r\n\r\n    if (isWindow(elem)) {\r\n      return elem.outerHeight;\r\n    }\r\n\r\n    const {\r\n      borderTopWidth,\r\n      borderBottomWidth,\r\n      boxSizing,\r\n      height,\r\n      marginTop,\r\n      marginBottom,\r\n      paddingTop,\r\n      paddingBottom\r\n    } = this.calcCSS();\r\n    const borders = px(borderTopWidth) + px(borderBottomWidth);\r\n    const paddings = px(paddingTop) + px(paddingBottom);\r\n\r\n    return px(height) + px(marginTop) + px(marginBottom) + outerSwitcher(boxSizing, [borders, paddings]);\r\n  }\r\n\r\n  /**\r\n   * @member {Number} Elem#outerWidth\r\n   * @type {Number}\r\n   * @public\r\n   * @readonly\r\n   * @description Getter for finding how much width the element actually is.\r\n   *\r\n   * @example\r\n   * elem.css({\r\n   *   boxSizing: 'border-box',\r\n   *   width: '200px',\r\n   *   paddingLeft: '2px',\r\n   *   paddingRight: '3px',\r\n   *   borderLeft: '1px solid black',\r\n   *   borderRight: '4px solid black'\r\n   *   marginLeft: '0px',\r\n   *   marginRight: '5px'\r\n   * }).outerWidth; // 205\r\n   * elem\r\n   *   .css('box-sizing', 'content-box')\r\n   *   .outerWidth; // 215\r\n   * elem\r\n   *   .css('box-sizing', 'padding-box')\r\n   *   .outerWidth; // 210\r\n   */\r\n  get outerWidth() {\r\n    const elem = this.$[0];\r\n\r\n    if (isWindow(elem)) {\r\n      return elem.outerWidth;\r\n    }\r\n\r\n    const {\r\n      borderLeftWidth,\r\n      borderRightWidth,\r\n      boxSizing,\r\n      marginLeft,\r\n      marginRight,\r\n      paddingLeft,\r\n      paddingRight,\r\n      width\r\n    } = this.calcCSS();\r\n    const borders = px(borderLeftWidth) + px(borderRightWidth);\r\n    const paddings = px(paddingLeft) + px(paddingRight);\r\n\r\n    return px(width) + px(marginLeft) + px(marginRight) + outerSwitcher(boxSizing, [borders, paddings]);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#parent\r\n   * @public\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Method returns wrap of the set of the parent elements of each element in the set.\r\n   */\r\n  parent() {\r\n    return this.object((elems, elem) => elems.add(elem.parentNode), new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#parentTree\r\n   * @public\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Returns wrap of all parents of each element in the set.\r\n   *\r\n   * @example\r\n   * elem.parentTree(); // Elem\r\n   */\r\n  parentTree() {\r\n    return this.object((elems, elem) => {\r\n      while (elem = elem.parentNode) {\r\n        elems.add(elem);\r\n      }\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#prev\r\n   * @public\r\n   * @param {String} [selector = null] - If present, finds previous element to every elem that matches the selector.\r\n   * If not, finds previous element to each element in the set.\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Method for finding previous element to each element in the set.\r\n   *\r\n   * @example\r\n   * elem.next();       // finds previous element to each element in the set\r\n   * elem.next('.foo'); // finds previous element to each element that has 'foo' class\r\n   */\r\n  prev(selector = null) {\r\n    return this.object((elems, elem) => {\r\n      /* eslint no-cond-assign: 0 */\r\n      while (elem = elem.previousSibling) {\r\n        if (new Elem(elem).is(selector)) {\r\n          return elems.add(elem);\r\n        }\r\n      }\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#prop\r\n   * @public\r\n   * @param {String|Object.<String, ElemValueCallback|*>} property - Either a string of a property or an assigned object.\r\n   * @param {ElemValueCallback|*} [value] - If a property parameter is a string\r\n   * this has to be an assigned value if it's present.\r\n   * @returns {Elem|*} Returns this if it's setter or a value if getter.\r\n   * @description Method that is either a property getter for the first element in the set\r\n   * or a setter for every element in the set.\r\n   *\r\n   * @example\r\n   * elem.prop('draggable', false);\r\n   * elem.prop('draggable'); // false\r\n   */\r\n  prop(property, value) {\r\n    if (arguments.length <= 1 && isString(property)) {\r\n      return this.$[0] ? this.$[0][property] : undefined;\r\n    }\r\n\r\n    if (arguments.length >= 2) {\r\n      property = { [property]: value };\r\n    }\r\n\r\n    return this.forEach((elem, index) => {\r\n      iterate(property, (value, prop) => {\r\n        elem[prop] = isFunction(value) ? value(elem[prop], elem, index) : value;\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#ref\r\n   * @public\r\n   * @param {String|ElemValueCallback} [link] - If it's present link to a resource.\r\n   * @returns {Elem|String} If the link argument isn't present it's a getter of the 'src' attribute\r\n   * for the one of following elements: img, script, iframe, audio, video; of the 'action' attribute\r\n   * for a form element and of the 'href' attribute for the rest. If it's present it's a setter\r\n   * of the same attribute for all the element in the set.\r\n   * @description Method for getting resources links and setting them.\r\n   *\r\n   * @example\r\n   * elem.ref('/some/cool/image.png');\r\n   * elem.ref(); // '/some/cool/image.png'\r\n   */\r\n  ref(link) {\r\n    if (!arguments.length) {\r\n      return this.attr(refSwitcher(this.name));\r\n    }\r\n\r\n    return this.forEach((elem) => {\r\n      elem = new Elem(elem);\r\n\r\n      elem.attr(refSwitcher(elem.name), link);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#remove\r\n   * @public\r\n   * @returns {Elem} Returns this.\r\n   * @description Removes all the elements from the set from the document.\r\n   * Note: it doesn't remove them from the set so watch out for the memory leaks.\r\n   *\r\n   * @example\r\n   * elem.remove();\r\n   */\r\n  remove() {\r\n    return this.forEach((elem) => {\r\n      const parent = elem.parentNode;\r\n\r\n      if (parent) {\r\n        parent.removeChild(elem);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#removeAttr\r\n   * @public\r\n   * @param {...String} attributes - Attributes to remove.\r\n   * @returns {Elem} Returns this.\r\n   * @description Removes all the attributes from arguments from all the elements in the set.\r\n   *\r\n   * @example\r\n   * elem.removeAttr('foo', 'bar', 'baz');\r\n   */\r\n  removeAttr(...attributes) {\r\n    return this.forEach((elem) => {\r\n      if (!isElement(elem)) {\r\n        return;\r\n      }\r\n\r\n      iterate(arguments, (attr) => {\r\n        const ns = attrNSSwitcher(attr, [new Elem(elem)]);\r\n\r\n        if (isNull(ns)) {\r\n          elem.removeAttribute(attr);\r\n        } else {\r\n          elem.removeAttributeNS(ns, attr);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#removeClass\r\n   * @public\r\n   * @param {...String} classes - Classes to remove.\r\n   * @returns {Elem} Returns this.\r\n   * @description Removes all the classes from arguments from all the elements in the set.\r\n   *\r\n   * @example\r\n   * elem.removeClass('foo', 'bar', 'baz');\r\n   */\r\n  removeClass(...classes) {\r\n    return this.forEach((elem) => {\r\n      const list = elem.classList;\r\n\r\n      iterate(isElement(elem) && arguments, (cls) => list.remove(cls));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#removeCSS\r\n   * @public\r\n   * @param {...String} props - CSS properties to remove.\r\n   * @returns {Elem} Returns this.\r\n   * @description Removes all the CSS properties from arguments from all the elements in the set.\r\n   *\r\n   * @example\r\n   * elem.removeCSS('display', 'position', 'margin');\r\n   */\r\n  removeCSS(...props) {\r\n    return this.forEach((elem) => {\r\n      if (!isElement(elem)) {\r\n        return;\r\n      }\r\n\r\n      iterate(arguments, (css) => {\r\n        elem.style.removeProperty(css);\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#replace\r\n   * @public\r\n   * @param {String|Elem|Element} element - Element to replace the first element in the set\r\n   * with a set of elements specified by the argument (Element, set of elements or a selector of them).\r\n   * @returns {Elem} Returns this.\r\n   * @description Method is similar to\r\n   * [Node#replaceChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/replaceChild}.\r\n   *\r\n   * @example\r\n   * elem.replace(elem2);\r\n   * elem.replace(document.getElementById('id'));\r\n   * elem.replace('#id div.c1');\r\n   */\r\n  replace(element) {\r\n    element = toFind(element);\r\n\r\n    const parent = this.first().parent();\r\n\r\n    if (!parent.length) {\r\n      return this;\r\n    }\r\n\r\n    let elem = parent;\r\n    let method = 'into';\r\n    const next = this.next().first().$[0];\r\n    const prev = this.prev().first().$[0];\r\n\r\n    if (next) {\r\n      elem = next;\r\n      method = 'insertBefore';\r\n    } else if (prev) {\r\n      elem = prev;\r\n      method = 'insertAfter';\r\n    }\r\n\r\n    this.first().remove();\r\n\r\n    element[method](elem);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#setOf\r\n   * @public\r\n   * @param {String} type - HTML element type.\r\n   * @param {Number|Object|Array.<*>} iterator - A number (how many elements to create inside each element),\r\n   * an object or an array to iterate over.\r\n   * @param {ElemSetOfCallback} callback\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Function for creating set of elements inside each element in the set based on an array or an object.\r\n   *\r\n   * @example\r\n   * table.setOf('tr', [[1, 2], [3, 4], [5, 6]], (row, array) => {\r\n   *   D(row).setOf('td', array, (col, number) => {\r\n   *     D(col).text(number);\r\n   *   });\r\n   * });\r\n   */\r\n  setOf(type, iterator, callback) {\r\n    validate({ 2: callback }, { 2: ['function'] }, 'Elem#setOf');\r\n\r\n    iterator = new Super(iterator).$;\r\n\r\n    if (isNumber(iterator)) {\r\n      try {\r\n        validate({ 1: iterator }, { 1: ['intLike', '>=0'] }, 'Elem#setOf');\r\n      } catch (e) {\r\n        throw new Error('2nd argument must be either or non-negative integer, or object! (at Elem#setOf)');\r\n      }\r\n\r\n      iterator = array(iterator).$;\r\n    }\r\n\r\n    return this.object((elems, elem, index) => {\r\n      iterate(iterator, (value, key) => {\r\n        const created = new Elem(elem).create(type);\r\n\r\n        callback(created.$[0], value, key, iterator, elem, index);\r\n\r\n        elems.add(created);\r\n      });\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#show\r\n   * @public\r\n   * @returns {Elem} Returns this.\r\n   * @description Shows all elements in the set.\r\n   * If an element was hidden using {@link Elem#hide} previous display is set.\r\n   *\r\n   * @example\r\n   * elem.show();\r\n   */\r\n  show() {\r\n    return this.forEach((elem) => {\r\n      const { dwayneData } = elem;\r\n\r\n      elem = new Elem(elem);\r\n\r\n      if (elem.css('display').indexOf('none') === 0) {\r\n        elem.css('display', dwayneData.previousDisplay);\r\n      }\r\n\r\n      dwayneData.previousDisplay = '';\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#text\r\n   * @public\r\n   * @param {String|ElemValueCallback|*} [text] - Text to write instead of current text.\r\n   * @returns {Elem|String} If no arguments passed text of the first element in the set returned.\r\n   * Otherwise all elements texts in the set are set to the text argument.\r\n   * @description Gets or sets text.\r\n   *\r\n   * @example\r\n   * elem.text('123');\r\n   * elem.text(); // '123'\r\n   */\r\n  text(text) {\r\n    if (!arguments.length) {\r\n      return this.prop(textProperty);\r\n    }\r\n\r\n    return this.forEach((elem, index) => {\r\n      const txt = elem[textProperty];\r\n\r\n      new Elem(elem).prop(\r\n        textProperty,\r\n        isFunction(text)\r\n          ? text(txt, elem, index)\r\n          : text\r\n      );\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#toggleAttr\r\n   * @public\r\n   * @param {String} attr - Attribute to toggle.\r\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the attribute\r\n   * with the '' value and if falsey method removes the attribute. If not present method adds\r\n   * the attribute if it doesn't exist and removes if it does.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for toggling attributes.\r\n   *\r\n   * @example\r\n   * elem.toggleAttr('attr');\r\n   * elem.toggleAttr('attr', someCondition);\r\n   */\r\n  toggleAttr(attr, condition) {\r\n    return this.forEach((elem) => {\r\n      elem = new Elem(elem);\r\n\r\n      if (arguments.length < 2 ? !elem.hasAttr(attr) : condition) {\r\n        elem.attr(attr, '');\r\n      } else {\r\n        elem.removeAttr(attr);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Elem#toggleAttr\r\n   * @public\r\n   * @param {String} cls - Class to toggle.\r\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the class\r\n   * and if falsey method removes the class. If not present method adds\r\n   * the class if it doesn't exist and removes if it does.\r\n   * @returns {Elem} Returns this.\r\n   * @description Method for toggling classes.\r\n   *\r\n   * @example\r\n   * elem.toggleClass('cls');\r\n   * elem.toggleClass('cls', someCondition);\r\n   */\r\n  toggleClass(cls, condition) {\r\n    return (arguments.length < 2 ? !this.hasClass(cls) : condition)\r\n      ? this.addClass(cls)\r\n      : this.removeClass(cls);\r\n  }\r\n\r\n  get toStringTag() {\r\n    return toStringTag(this.$$);\r\n  }\r\n\r\n  /**\r\n   * @method Elem#up\r\n   * @public\r\n   * @param {Integer} [level = 1] - What level up along the tree should be the parent.\r\n   * @returns {Elem} New instance of Elem.\r\n   * @description Creates a collection of parents of level &lt;level&gt;.\r\n   *\r\n   * @example\r\n   * elem.up();\r\n   * elem.up(2);\r\n   */\r\n  up(level = 1) {\r\n    validate([level], [['intLike', '>=0']], 'Elem#up');\r\n\r\n    level = Number(level);\r\n\r\n    return this.object((elems, elem) => {\r\n      let n = level;\r\n\r\n      while (n-- && elem) {\r\n        elem = elem.parentNode;\r\n      }\r\n\r\n      elems.add(elem);\r\n    }, new Elem());\r\n  }\r\n\r\n  /**\r\n   * @method Elem#validate\r\n   * @public\r\n   * @param {ValidateCallback} [validator] - If present, function that validates inputs.\r\n   * @returns {Elem|Object.<String, Error|*>|null}\r\n   * If a callback argument provided returns this. If no arguments provided returns either an object\r\n   * with input names keys and errors values or null if no errors found.\r\n   * @description If a callback argument provided adds it to the element validators list.\r\n   * If no arguments provided validates every input element in the set with its own functions.\r\n   * If an element is a form it validates all input elements inside it. After the validation\r\n   * fires 'validate' event with 'valid' and 'error' (if form it's errors) properties.\r\n   *\r\n   * @example\r\n   * form.on('input change', 'input', (value, input) => {\r\n   *   input = D(input);\r\n   *\r\n   *   if (Number(value) % 3) {\r\n   *     input.addClass('invalid');\r\n   *\r\n   *     throw new Error('The value should be divided by 3!');\r\n   *   }\r\n   *\r\n   *   input.removeClass('invalid');\r\n   * });\r\n   */\r\n  validate(validator) {\r\n    validate([validator], ['function||!'], 'Elem#validate');\r\n\r\n    if (validator) {\r\n      return this.forEach(({ dwayneData }) => {\r\n        dwayneData.validators.push(validator);\r\n      });\r\n    }\r\n\r\n    const errors = new Super({ errors: null });\r\n\r\n    this\r\n      .filter(`${ inputElements }, form`)\r\n      .forEach((elem, index) => {\r\n        if (getName(elem) === 'form') {\r\n          let formErrors = { errors: null };\r\n          const form = new Elem(elem);\r\n          const inputs = form.find(inputElements);\r\n\r\n          inputs.forEach((input, index) => {\r\n            validatorWrap(input, index, formErrors);\r\n          });\r\n\r\n          errors.deepAssign(formErrors);\r\n\r\n          formErrors = formErrors.errors;\r\n\r\n          form.dispatch('validate', {}, {\r\n            valid: !formErrors,\r\n            errors: formErrors\r\n          });\r\n\r\n          return inputs.forEach((input) => {\r\n            const inputError = (formErrors || {})[input.name];\r\n\r\n            new Elem(input).dispatch('validate', {}, {\r\n              valid: !inputError,\r\n              error: inputError || null\r\n            });\r\n          });\r\n        }\r\n\r\n        let inputError = { errors: null };\r\n\r\n        validatorWrap(elem, index, inputError);\r\n        errors.deepAssign(inputError);\r\n\r\n        inputError = (inputError.errors || {})[elem.name];\r\n\r\n        new Elem(elem).dispatch('validate', {}, {\r\n          valid: !inputError,\r\n          error: inputError || null\r\n        });\r\n      });\r\n\r\n    function validatorWrap(input, index, errors) {\r\n      try {\r\n        if (input.validity && !input.validity.valid) {\r\n          throw new Error(input.validationMessage);\r\n        }\r\n\r\n        input.dwayneData.validators.forEach((validator) => {\r\n          validator(input.value, input, index);\r\n        });\r\n      } catch (err) {\r\n        (errors.errors = errors.errors || {})[input.name] = err;\r\n      }\r\n    }\r\n\r\n    if (errors.every((error) => isNull(error))) {\r\n      return null;\r\n    }\r\n\r\n    return errors.$.errors;\r\n  }\r\n\r\n  /**\r\n   * @method Elem#width\r\n   * @public\r\n   * @param {*|ElemValueCallback} [width] - Width to set.\r\n   * @returns {Elem|String} If no arguments passed width of the first element in the set returned.\r\n   * Otherwise all elements widths in the set are set to the width argument.\r\n   * @description Gets or sets width.\r\n   *\r\n   * @example\r\n   * elem.width(123);\r\n   * elem.width(); // 123\r\n   */\r\n  width(width) {\r\n    return this.prop.apply(this, new Arr(arguments).unshift('width').$);\r\n  }\r\n}\r\n\r\ndefineProperties(Elem.prototype, {\r\n  [Symbol.toStringTag]: 'Elem'\r\n});\r\n\r\n/**\r\n * @const {Elem} win\r\n * @type {Elem}\r\n * @public\r\n * @description Elem instance of window.\r\n */\r\nconst win = new Elem(global);\r\n\r\n/**\r\n * @const {Elem} doc\r\n * @type {Elem}\r\n * @public\r\n * @description Elem instance of document.\r\n */\r\nconst doc = new Elem(nativeDocument);\r\n\r\n/**\r\n * @const {Elem} html\r\n * @type {Elem}\r\n * @public\r\n * @description Elem instance of document.documentElement.\r\n */\r\nconst html = new Elem(nativeDocument.documentElement);\r\n\r\n/**\r\n * @const {Elem} body\r\n * @type {Elem}\r\n * @public\r\n * @description Elem instance of document.body.\r\n */\r\nconst body = new Elem(nativeDocument.body);\r\n\r\n/**\r\n * @const {Elem} head\r\n * @type {Elem}\r\n * @public\r\n * @description Elem instance of document.head.\r\n */\r\nconst head = new Elem(nativeDocument.head);\r\n\r\nconst elements = new Arr(htmlElements).concat(svgElements).$;\r\nconst props = new Arr(elements).map((type) => new Str(type).toCamelCase().$).$;\r\n\r\ndynamicDefineProperties(Elem.prototype, props, (elem, i) => function () {\r\n  return this.create.apply(this, new Arr(arguments).unshift(elements[i]).$);\r\n});\r\n\r\ndynamicDefineProperties(Elem.prototype, canvasGetMethods, (method) => function () {\r\n  const ctx = this.ctx();\r\n\r\n  if (ctx) {\r\n    return ctx[method].apply(ctx, arguments);\r\n  }\r\n});\r\n\r\ndynamicDefineProperties(Elem.prototype, canvasRestMethods, (method) => function () {\r\n  const ctx = this.ctx();\r\n\r\n  if (ctx) {\r\n    ctx[method].apply(ctx, arguments);\r\n  }\r\n\r\n  return this;\r\n});\r\n\r\n/**\r\n * @function toFind\r\n * @private\r\n * @param {Element|Elem|String} elem - Element, selector of Elements or Elem.\r\n * @returns {Elem} Instance of Elem.\r\n */\r\nfunction toFind(elem) {\r\n  if (isElem(elem)) {\r\n    return elem;\r\n  }\r\n\r\n  if (isString(elem)) {\r\n    elem = find(elem);\r\n  }\r\n\r\n  return new Elem(elem);\r\n}\r\n\r\n/**\r\n * @function isElem\r\n * @private\r\n * @param {*} value - Value to check if it's Elem.\r\n * @returns {Boolean} If the value is Elem.\r\n * @description Returns if the value is Elem or not.\r\n */\r\nfunction isElem(value) {\r\n  return value instanceof Elem;\r\n}\r\n\r\n/**\r\n * @function isWindow\r\n * @private\r\n * @param {*} value - Value to check if it's Window.\r\n * @returns {Boolean} If the value is Window.\r\n * @description Returns if the value is Window or not.\r\n */\r\nfunction isWindow(value) {\r\n  return toStringTag(value) === 'Window';\r\n}\r\n\r\n/**\r\n * @function isHTMLDocument\r\n * @private\r\n * @param {*} value - Value to check if it's HTMLDocument.\r\n * @returns {Boolean} If the value is HTMLDocument.\r\n * @description Returns if the value is HTMLDocument or not.\r\n */\r\nfunction isHTMLDocument(value) {\r\n  return toStringTag(value) === 'HTMLDocument';\r\n}\r\n\r\n/**\r\n * @function isDocumentFragment\r\n * @private\r\n * @param {*} value - Value to check if it's a DocumentFragment.\r\n * @returns {Boolean} If the value is a DocumentFragment.\r\n * @description Returns if the value is a DocumentFragment or not.\r\n */\r\nfunction isDocumentFragment(value) {\r\n  return toStringTag(value) === 'DocumentFragment';\r\n}\r\n\r\n/**\r\n * @function isStyleRule\r\n * @private\r\n * @param {*} value - Value to check if it's a style rule.\r\n * @returns {Boolean} If the value is a style rule.\r\n * @description Returns if the value is a style rule or not.\r\n */\r\nfunction isStyleRule(value) {\r\n  return toStringTag(value) === 'CSSStyleRule';\r\n}\r\n\r\n/**\r\n * @function\r\n * @private\r\n * @param {*} value - Value to check if it's Comment or Text.\r\n * @returns {Boolean} If the value is HTMLDocument.\r\n * @description Returns if the value is Comment or Text or not.\r\n */\r\nfunction isCommentOrText(value) {\r\n  const tag = toStringTag(value);\r\n\r\n  return tag === 'Comment' || tag === 'Text';\r\n}\r\n\r\n/**\r\n * @function getElem\r\n * @private\r\n * @param {Elem} elem - Element to check.\r\n * @returns {Element} The argument or a fallback if needed.\r\n */\r\nfunction getElem(elem) {\r\n  return isElement(elem.$[0]) ? elem.$[0] : emptyDiv;\r\n}\r\n\r\n/**\r\n * @function getName\r\n * @private\r\n * @param {Element} [elem] - Element which name is needed to know.\r\n * @returns {String} Element name.\r\n */\r\nfunction getName(elem) {\r\n  return (elem && elem.nodeName && elem.nodeName.toLowerCase()) || '';\r\n}\r\n\r\n/**\r\n * @function addDwayneData\r\n * @private\r\n * @param {Element} elem - Element to add dwayneData to.\r\n * @returns {void}\r\n */\r\nfunction addDwayneData(elem) {\r\n  if (!{}.hasOwnProperty.call(elem, 'dwayneData') && !isWindow(elem)) {\r\n    /**\r\n     * @member Element#dwayneData\r\n     * @type {Object}\r\n     * @protected\r\n     * @property {String} previousDisplay - Parameter used for hiding/showing elements.\r\n     * @property {Object.<String, Super>} removeListeners - Parameter used for remove event listeners.\r\n     * @property {CanvasRenderingContext2D} [ctx] - Canvas rendering context.\r\n     * @property {Arr} validators - Validators assigned to element.\r\n     * @description D data.\r\n     */\r\n    Object.defineProperty(elem, 'dwayneData', {\r\n      value: {\r\n        previousDisplay: '',\r\n        listeners: {},\r\n        ctx: getName(elem) === 'canvas' && elem.getContext('2d'),\r\n        validators: new Arr([])\r\n      }\r\n    });\r\n  } else if (isWindow(elem) && !windowsDwayneData.some(({ element }) => element === elem)) {\r\n    windowsDwayneData.push({\r\n      element: elem,\r\n      listeners: {}\r\n    });\r\n  }\r\n}\r\n\r\nconstructors[2].push({\r\n  check: (elem) => (\r\n    isElement(elem) ||\r\n    isWindow(elem) ||\r\n    isHTMLDocument(elem) ||\r\n    isCommentOrText(elem) ||\r\n    isDocumentFragment(elem) ||\r\n    /^(HTMLCollection|NodeList)$/.test(toStringTag(elem))\r\n  ),\r\n  cls: Elem\r\n});\r\n\r\n/**\r\n * @function find\r\n * @public\r\n * @param {String} selector - Selector to find.\r\n * @param {Element} [base = document] - Base to find in.\r\n * @returns {Elem} New instance of Elem.\r\n * @description Synonym for\r\n * [Document#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Document/querySelectorAll}.\r\n */\r\nfunction find(selector, base = nativeDocument) {\r\n  return new Elem(\r\n    isElement(base) || isHTMLDocument(base)\r\n      ? base.querySelectorAll(String(selector))\r\n      : []\r\n  );\r\n}\r\n\r\n/**\r\n * @function parseHTML\r\n * @public\r\n * @param {String} html - HTML to parse.\r\n * @param {Boolean} [collapseWhiteSpace = false] - If the whitespace should be\r\n * collapsed during the parsing.\r\n * @returns {Elem} New instance of Elem.\r\n * @description Parses HTML and returns a wrap of #document-fragment containing the contents.\r\n *\r\n * @example\r\n * parseHTML('<div>123</div>'); // Elem\r\n */\r\nfunction parseHTML(html, collapseWhiteSpace) {\r\n  const json = markupToJSON(html, collapseWhiteSpace);\r\n  const template = doc.template();\r\n  const elem = new Elem(template.$[0].content);\r\n\r\n  json.forEach(function forEachNode(node) {\r\n    const {\r\n      name,\r\n      attrs,\r\n      value,\r\n      parent,\r\n      children\r\n    } = node;\r\n\r\n    const parentNode = parent.elem || elem;\r\n    const element = parentNode.create(name);\r\n\r\n    node.elem = element;\r\n\r\n    if (value) {\r\n      element.text(value);\r\n    }\r\n\r\n    if (attrs) {\r\n      element.attr(attrs);\r\n    }\r\n\r\n    if (name === 'template') {\r\n      node.elem = new Elem(element.prop('content'));\r\n    }\r\n\r\n    if (children) {\r\n      children.forEach(forEachNode);\r\n    }\r\n  });\r\n\r\n  return new Elem(elem);\r\n}\r\n\r\n/**\r\n * @function px\r\n * @public\r\n * @param {String|Number} size - String containing pixels value or a number.\r\n * @returns {Number} Number of pixels.\r\n * @description Function for parsing pixel strings.\r\n *\r\n * @example\r\n * px('0px');  // 0\r\n * px('42px'); // 42\r\n */\r\nfunction px(size) {\r\n  return Number(String(size).replace(/px$/, ''));\r\n}\r\n\r\nexport { Elem, win, doc, html, body, head, find, parseHTML, px };\r\n","export function registerDBlock(Block) {\r\n  class DBlock extends Block {\r\n    static template = '<d-elements value=\"{elems}\" />';\r\n\r\n    elems = null;\r\n\r\n    afterConstruct() {\r\n      const { children } = this.$$.parent;\r\n      const { name } = this.args;\r\n      let found;\r\n\r\n      if (name) {\r\n        found = children.find(({ name: nodeName }) => nodeName === `d-block-${ name }`);\r\n\r\n        if (found && found.value.children.length) {\r\n          this.elems = found.value.children;\r\n        }\r\n      } else {\r\n        this.elems = children;\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-block',\r\n    value: DBlock\r\n  };\r\n}\r\n","import { Arr } from '../Arr';\r\nimport { Elem } from '../Elem';\r\nimport { Super } from '../Super';\r\nimport { assign } from '../helpers';\r\n\r\nexport function registerDEach(Block, createBlock) {\r\n  class DEach extends Block {\r\n    constructor(opts) {\r\n      super(opts);\r\n\r\n      const {\r\n        args: {\r\n          item: itemName = '$item',\r\n          index: indexName = '$index'\r\n        }\r\n      } = this;\r\n\r\n      assign(this.$$, {\r\n        uids: new Super({}),\r\n        items: new Arr([]),\r\n        UID: String(this.args.uid),\r\n        itemName,\r\n        indexName\r\n      });\r\n    }\r\n\r\n    afterRender() {\r\n      this.constructValues(this.args.set);\r\n      this.watchArgs('set', (set) => {\r\n        this.constructValues(set);\r\n      });\r\n    }\r\n\r\n    constructValues(set) {\r\n      const {\r\n        elems: {\r\n          start,\r\n          parent: parentElem\r\n        },\r\n        uids,\r\n        parent,\r\n        scope,\r\n        itemName,\r\n        indexName,\r\n        UID\r\n      } = this.$$;\r\n      const { children } = this;\r\n      const $uids = uids.$;\r\n      const newKeys = {};\r\n      const newUIDs = {};\r\n\r\n      new Super(set).forEach((item, index) => {\r\n        scope[itemName] = item;\r\n        scope[indexName] = index;\r\n\r\n        const uid = parent.$$.evaluate(String(UID), null, null, false, false, this);\r\n\r\n        newKeys[uid] = newKeys[uid] || {};\r\n        newKeys[uid][index] = true;\r\n        newUIDs[index] = uid;\r\n      });\r\n\r\n      scope[itemName] = null;\r\n      scope[indexName] = null;\r\n\r\n      uids.forEach((items, uid) => {\r\n        if (!newKeys[uid]) {\r\n          items.forEach((Item) => {\r\n            Item.remove();\r\n          });\r\n\r\n          return;\r\n        }\r\n\r\n        items.splice(Object.keys(newKeys[uid]).length).forEach((Item) => {\r\n          Item.remove();\r\n        });\r\n      });\r\n\r\n      let after = start;\r\n\r\n      new Super(set).forEach((item, index) => {\r\n        const uid = newUIDs[index];\r\n        let block;\r\n\r\n        if ($uids[uid] && $uids[uid].length) {\r\n          block = newKeys[uid][index] = uids.$[uid].shift();\r\n          block.$$.scope[indexName] = index;\r\n          block.$$.scope[itemName] = item;\r\n        } else {\r\n          block = newKeys[uid][index] = createBlock({\r\n            node: {\r\n              itemName,\r\n              indexName,\r\n              item,\r\n              index,\r\n              name: '#d-item',\r\n              block: parent,\r\n              children\r\n            },\r\n            after,\r\n            parent: parentElem,\r\n            parentBlock: this,\r\n            parentScope: parent\r\n          });\r\n        }\r\n\r\n        const {\r\n          start,\r\n          end\r\n        } = block.$$.elems;\r\n\r\n        if (start.prev().$[0] !== after.$[0]) {\r\n          const { content } = block.$$.elems;\r\n\r\n          new Elem([\r\n            start,\r\n            content,\r\n            end\r\n          ]).insertAfter(after);\r\n        }\r\n\r\n        after = end;\r\n      });\r\n\r\n      this.$$.uids = new Super(newKeys).map((items) => (\r\n        new Super(items).values()\r\n      ));\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-each',\r\n    value: DEach\r\n  };\r\n}\r\n","import { Arr } from '../Arr';\r\nimport { Elem } from '../Elem';\r\n\r\nexport function registerDElements(Block, createBlock) {\r\n  class DElements extends Block {\r\n    afterConstruct() {\r\n      this.watchArgs('value', (value) => {\r\n        const {\r\n          children,\r\n          mixins,\r\n          watchersToRemove,\r\n          elems: {\r\n            start,\r\n            content,\r\n            parent\r\n          }\r\n        } = this.$$;\r\n        let after = start;\r\n\r\n        children.forEach((child) => {\r\n          child.remove(true);\r\n        });\r\n        mixins.forEach((mixin) => {\r\n          mixin.remove(true);\r\n        });\r\n        content.remove();\r\n\r\n        this.$$.children = new Arr([]);\r\n        this.$$.mixins = new Arr([]);\r\n        this.$$.watchersToRemove = watchersToRemove.filter(({ watchers, watcher, forDElements }) => {\r\n          if (forDElements) {\r\n            return true;\r\n          }\r\n\r\n          const index = watchers.indexOf(watcher);\r\n\r\n          if (index !== -1) {\r\n            watchers.splice(index, 1);\r\n          }\r\n        });\r\n\r\n        const newContent = new Elem();\r\n\r\n        new Arr(value || []).forEach((child) => {\r\n          const block = createBlock({\r\n            node: child,\r\n            after,\r\n            parent,\r\n            parentBlock: this,\r\n            parentScope: this\r\n          });\r\n\r\n          if (block instanceof Block) {\r\n            const { elems } = block.$$;\r\n\r\n            after = elems.end;\r\n\r\n            newContent.add(elems.start, elems.content, elems.end);\r\n          } else {\r\n            after = block;\r\n\r\n            newContent.add(block);\r\n          }\r\n        });\r\n\r\n        this.$$.elems.content = newContent;\r\n      });\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-elements',\r\n    value: DElements\r\n  };\r\n}\r\n","export function registerDIf(Block) {\r\n  class DIf extends Block {\r\n    static template = '<d-elements value=\"{elems}\"/>';\r\n\r\n    index = Infinity;\r\n    elems = null;\r\n    values = this.children.map((child, i) => {\r\n      const {\r\n        name,\r\n        attrs,\r\n        children\r\n      } = child;\r\n      const cond = this.evaluateAndWatch(name === 'd-else' ? '{true}' : attrs.if || '{true}', (newValue) => {\r\n        if (!!newValue === this.values.$[i]) {\r\n          return;\r\n        }\r\n\r\n        this.values.$[i] = !!newValue;\r\n\r\n        if (i > this.index) {\r\n          return;\r\n        }\r\n\r\n        if (i < this.index) {\r\n          this.index = i;\r\n          this.elems = children;\r\n\r\n          return;\r\n        }\r\n\r\n        const found = this.values.find(Boolean);\r\n\r\n        if (found) {\r\n          this.index = found.key;\r\n          this.elems = this.children.$[found.key].children;\r\n        } else {\r\n          this.index = Infinity;\r\n          this.elems = null;\r\n        }\r\n      });\r\n\r\n      if (cond && this.index === Infinity) {\r\n        this.index = i;\r\n        this.elems = children;\r\n      }\r\n\r\n      return cond;\r\n    });\r\n  }\r\n\r\n  return {\r\n    name: 'd-if',\r\n    value: DIf\r\n  };\r\n}\r\n","export function registerDItem(Block) {\r\n  class DItem extends Block {\r\n    static template = '<d-elements value=\"{children}\"/>';\r\n  }\r\n\r\n  return {\r\n    name: '#d-item',\r\n    value: DItem\r\n  };\r\n}\r\n","import { Arr } from '../Arr';\r\nimport { Super } from '../Super';\r\n\r\nexport function registerDSwitch(Block) {\r\n  class DSwitch extends Block {\r\n    static template = '<d-elements value=\"{elems}\"/>';\r\n\r\n    index = Infinity;\r\n    elems = null;\r\n\r\n    constructor(opts) {\r\n      super(opts);\r\n\r\n      const {\r\n        args,\r\n        args: { value }\r\n      } = this;\r\n      let wasDefault;\r\n\r\n      this.values = this.children.object((values, child, i) => {\r\n        const {\r\n          name,\r\n          attrs,\r\n          children\r\n        } = child;\r\n\r\n        if (wasDefault) {\r\n          return;\r\n        }\r\n\r\n        if (name !== 'd-case' && name !== 'd-default') {\r\n          return;\r\n        }\r\n\r\n        if (name === 'd-default') {\r\n          wasDefault = true;\r\n        }\r\n\r\n        let val;\r\n\r\n        if (name === 'd-default') {\r\n          val = args.value;\r\n        } else {\r\n          val = this.evaluateAndWatch(attrs.if || '{undefined}', (newValue) => {\r\n            if (this.equals(this.values.$[i].value, newValue)) {\r\n              return;\r\n            }\r\n\r\n            this.values.$[i].value = newValue;\r\n\r\n            if (i > this.index) {\r\n              return;\r\n            }\r\n\r\n            if (i < this.index) {\r\n              this.index = i;\r\n              this.elems = children;\r\n\r\n              return;\r\n            }\r\n\r\n            const found = this.values.find(({ value }) => (\r\n              this.equals(value, args.value)\r\n            ));\r\n\r\n            if (found) {\r\n              this.index = found.key;\r\n              this.elems = found.value.children;\r\n            } else {\r\n              this.index = Infinity;\r\n              this.elems = null;\r\n            }\r\n          });\r\n        }\r\n\r\n        if (this.equals(val, value) && this.index === Infinity) {\r\n          this.index = i;\r\n          this.elems = children;\r\n        }\r\n\r\n        values.push({\r\n          name,\r\n          children,\r\n          value: val\r\n        });\r\n      }, new Arr([]));\r\n    }\r\n\r\n    afterConstruct() {\r\n      this.watchArgs('value', (newValue) => {\r\n        this.index = Infinity;\r\n        this.values.forEach(({ name, value, children }, i) => {\r\n          const val = name === 'd-default'\r\n            ? newValue\r\n            : value;\r\n\r\n          if (this.equals(val, newValue) && this.index === Infinity) {\r\n            this.index = i;\r\n            this.elems = children;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    equals(value1, value2) {\r\n      return new Super(value1).equals(value2);\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-switch',\r\n    value: DSwitch\r\n  };\r\n}\r\n","import { isNil } from '../helpers';\r\n\r\nexport function registerDText(Block) {\r\n  class DText extends Block {\r\n    static template = '<d-elements value=\"{[{ name: \\'#text\\', value: text }]}\"/>';\r\n\r\n    text = '';\r\n\r\n    afterConstruct() {\r\n      this.text = isNil(this.args.value) ? '' : this.args.value;\r\n\r\n      this.watchArgs('value', (newValue) => {\r\n        this.text = isNil(newValue) ? '' : newValue;\r\n      });\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-text',\r\n    value: DText\r\n  };\r\n}\r\n","import { Super } from '../Super';\r\n\r\nexport function registerDAttr(Mixin) {\r\n  class DAttr extends Mixin {\r\n    afterUpdate(newValue, oldValue) {\r\n      const { elem } = this;\r\n\r\n      newValue = new Super(newValue).$;\r\n\r\n      new Super(oldValue).forEach((value, prop) => {\r\n        if (!newValue[prop]) {\r\n          elem.removeAttr(prop);\r\n        }\r\n      });\r\n      elem.attr(newValue);\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-attr',\r\n    value: DAttr\r\n  };\r\n}\r\n\r\n","import { isFunction } from '../helpers';\r\n\r\nexport function registerDBind(Mixin) {\r\n  class DBind extends Mixin {\r\n    afterUpdate(value) {\r\n      if (this.off) {\r\n        this.off();\r\n      }\r\n\r\n      if (!isFunction(value)) {\r\n        return;\r\n      }\r\n\r\n      this.off = this.elem.on(this.match[0], value);\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-bind',\r\n    value: DBind\r\n  };\r\n}\r\n","import { Super } from '../Super';\nimport { isArray, isObject, isString, iterate } from '../helpers';\n\nexport function registerDClass(Mixin) {\n  class DClass extends Mixin {\n    afterUpdate(newValue, oldValue) {\n      const { elem } = this;\n\n      newValue = new Super(newValue).$;\n      oldValue = new Super(oldValue).$;\n\n      if (isArray(newValue)) {\n        iterate(oldValue, (cls) => {\n          if (isString(cls) && !newValue[cls]) {\n            elem.removeClass(cls);\n          }\n        });\n        iterate(newValue, (cls) => {\n          if (isString(cls)) {\n            elem.addClass(cls);\n          }\n        });\n      } else if (isString(newValue)) {\n        if (isString(oldValue)) {\n          elem.removeClass(oldValue);\n        }\n\n        elem.addClass(newValue);\n      } else if (isObject(newValue)) {\n        iterate(oldValue, (val, cls) => {\n          if (val && !newValue[cls]) {\n            elem.removeClass(cls);\n          }\n        });\n        iterate(newValue, (val, cls) => {\n          if (val) {\n            elem.addClass(cls);\n          }\n        });\n      } else if (isString(oldValue)) {\n        elem.removeClass(oldValue);\n      } else if (isArray(oldValue)) {\n        iterate(oldValue, (cls) => {\n          if (isString(cls)) {\n            elem.removeClass(cls);\n          }\n        });\n      } else if (isObject(oldValue)) {\n        iterate(oldValue, (val, cls) => {\n          if (val) {\n            elem.removeClass(cls);\n          }\n        });\n      }\n    }\n  }\n\n  return {\n    name: 'd-class',\n    value: DClass\n  };\n}\n","import { isString } from '../helpers';\r\n\r\nexport function registerDElem(Mixin) {\r\n  class DElem extends Mixin {\r\n    afterUpdate(newValue, oldValue) {\r\n      const { parent } = this.$$;\r\n\r\n      if (newValue !== oldValue && isString(oldValue)) {\r\n        delete parent[oldValue];\r\n      }\r\n\r\n      if (isString(newValue)) {\r\n        parent[newValue] = this.elem;\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-elem',\r\n    value: DElem\r\n  };\r\n}\r\n","export function registerDHide(Mixin) {\r\n  class DHide extends Mixin {\r\n    afterUpdate(value) {\r\n      const { elem } = this;\r\n\r\n      if (value) {\r\n        elem.hide();\r\n      } else {\r\n        elem.show();\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-hide',\r\n    value: DHide\r\n  };\r\n}\r\n","export function registerDOn(Mixin) {\r\n  class DOn extends Mixin {\r\n    static evaluate = false;\r\n\r\n    constructor(opts) {\r\n      super(opts);\r\n\r\n      this.elem.on(this.match[0], () => {\r\n        this.evaluateOnce();\r\n      });\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-on',\r\n    value: DOn\r\n  };\r\n}\r\n","export function registerDShow(Mixin) {\r\n  class DShow extends Mixin {\r\n    afterUpdate(value) {\r\n      const { elem } = this;\r\n\r\n      if (value) {\r\n        elem.show();\r\n      } else {\r\n        elem.hide();\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-show',\r\n    value: DShow\r\n  };\r\n}\r\n","import { Super } from '../Super';\r\n\r\nexport function registerDStyle(Mixin) {\r\n  class DStyle extends Mixin {\r\n    afterUpdate(newValue, oldValue) {\r\n      const { elem } = this;\r\n\r\n      newValue = new Super(newValue).$;\r\n\r\n      new Super(oldValue).forEach((value, prop) => {\r\n        if (!newValue[prop]) {\r\n          elem.removeCSS(prop);\r\n        }\r\n      });\r\n      elem.css(newValue);\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-style',\r\n    value: DStyle\r\n  };\r\n}\r\n","import { isNil } from '../helpers';\r\n\r\nexport function registerDText(Mixin) {\r\n  class DText extends Mixin {\r\n    afterUpdate(value) {\r\n      this.elem.text(\r\n        isNil(value)\r\n          ? ''\r\n          : `${ value }`\r\n      );\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-text',\r\n    value: DText\r\n  };\r\n}\r\n","import { isFunction } from '../helpers';\r\n\r\nexport function registerDValidate(Mixin) {\r\n  class DValidate extends Mixin {\r\n    static evaluate = false;\r\n\r\n    constructor(opts) {\r\n      super(opts);\r\n\r\n      const { elem } = this;\r\n      const validator = this.evaluateOnce();\r\n\r\n      if (isFunction(validator)) {\r\n        elem.validate(validator);\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    name: 'd-validate',\r\n    value: DValidate\r\n  };\r\n}\r\n","import { Arr } from '../Arr';\nimport { switcher } from '../Switcher';\nimport { isArray, isNil } from '../helpers';\n\nconst propSwitcher = switcher('strictEquals', (type, elem) => (\n  elem.hasAttr('contenteditable') || elem.hasAttr('contentEditable')\n    ? 'text'\n    : 'value'\n))\n  .case('input', (type) => {\n    if (type === 'file') {\n      return 'files';\n    }\n\n    return type === 'radio' || type === 'checkbox'\n      ? 'checked'\n      : 'value';\n  });\nconst setValueSwitcher = switcher('strictEquals', (value) => value)\n  .case('input', (value, type, inputValue) => {\n    if (type !== 'radio' && type !== 'checkbox') {\n      return value;\n    }\n\n    if (type === 'radio') {\n      return value === inputValue;\n    }\n\n    return value.indexOf(inputValue) !== -1;\n  });\nconst getValueSwitcher = switcher('strictEquals', (value) => value)\n  .case('input', (value, type, inputValue, values) => {\n    if (type !== 'radio' && type !== 'checkbox') {\n      return value;\n    }\n\n    if (type === 'radio') {\n      return value\n        ? inputValue\n        : null;\n    }\n\n    if (value) {\n      if (values) {\n        return values.indexOf(inputValue) === -1\n          ? new Arr(values).concat(inputValue).$\n          : values;\n      }\n\n      return [inputValue];\n    }\n\n    if (!isArray(values)) {\n      return [];\n    }\n\n    const index = values.indexOf(inputValue);\n\n    if (index !== -1) {\n      return [\n        ...new Arr(values).slice(0, index).$,\n        ...new Arr(values).slice(index + 1).$\n      ];\n    }\n\n    return values;\n  });\nconst listenerSwitcher = switcher('strictEquals', 'input')\n  .case('select', 'change')\n  .case('input', (type) => (\n    type === 'radio'\n    || type === 'checkbox'\n    || type === 'color'\n    || type === 'file'\n      ? 'change'\n      : 'input'\n  ));\n\nexport function registerDValue(Mixin) {\n  class DValue extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        $$: {\n          _value,\n          parent\n        },\n        elem\n      } = this;\n      const type = elem.prop('type');\n\n      this.prop = propSwitcher(elem.name, [type, elem]);\n      this.type = type;\n\n      const initialScopeValue = parent.$$.evaluate(`{${ _value }}`, (newValue) => {\n        this.setProp(newValue);\n      }, this);\n      const initialElemValue = this.getProp(initialScopeValue);\n\n      if (isNil(initialScopeValue) || type === 'checkbox') {\n        parent[_value] = initialElemValue;\n      } else {\n        this.setProp(initialScopeValue);\n      }\n\n      elem.on(listenerSwitcher(elem.name, [type]), (e) => {\n        if (e.target === elem.$[0]) {\n          parent[_value] = this.getProp(parent[_value]);\n        }\n      });\n    }\n\n    setProp(value) {\n      const {\n        elem,\n        prop,\n        type\n      } = this;\n\n      if (prop === 'text') {\n        elem.text(value);\n      } else {\n        elem.prop(prop, setValueSwitcher(elem.name, [value, type, elem.$[0].value]));\n      }\n    }\n\n    getProp(values) {\n      const {\n        elem,\n        prop,\n        type\n      } = this;\n\n      return prop === 'text'\n        ? elem.text()\n        : getValueSwitcher(elem.name, [elem.prop(prop), type, elem.$[0].value, values]);\n    }\n  }\n\n  return {\n    name: 'd-value',\n    value: DValue\n  };\n}\n","/**\r\n * @module Block\r\n * @private\r\n * @mixin\r\n * @description Exports Block class.\r\n */\r\n\r\nimport { Arr } from './Arr';\r\nimport { find, doc, Elem } from './Elem';\r\nimport { Super } from './Super';\r\nimport {\r\n  iterate, defineProperties, validate,\r\n  isFunction, isNil, isUndefined\r\n} from './helpers';\r\nimport * as Blocks from './blocks';\r\nimport * as Mixins from './mixins';\r\nimport { htmlAllowedTagSymbols, htmlAllowedAttrSymbols } from './constants';\r\nimport markupToJSON from './helpers/markupToJSON';\r\n\r\n/**\r\n * @callback Watcher\r\n * @param {*} newValue - New value.\r\n * @param {*} oldValue - Old value.\r\n */\r\n\r\n/**\r\n * @callback Wrapper\r\n * @param {Block} Block class to wrap.\r\n * @returns {Block} New Block class.\r\n */\r\n\r\nconst blocks = Object.create(null);\r\nconst mixins = Object.create(null);\r\nconst isPrototypeOf = {}.isPrototypeOf;\r\nconst tagName = new RegExp(`^${ htmlAllowedTagSymbols }$`, 'i');\r\nconst attrName = new RegExp(`^${ htmlAllowedAttrSymbols }$`);\r\nconst expressionRegExp = /^\\{[\\s\\S]+\\}$/;\r\nconst { document } = global;\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nlet onEvalError;\r\nlet evalMode;\r\nlet getting;\r\nlet changed;\r\n\r\n/**\r\n * @class Block\r\n * @public\r\n * @param {Object} opts - Element options.\r\n * @returns {Block} Instance of Block.\r\n * @description Class for dynamic templating.\r\n *\r\n * @example\r\n * import { D, Block, initApp, registerBlock } from 'dwayne';\r\n *\r\n * class App extends Block {\r\n *   static template = '<Hello text=\"{text}\"/>';\r\n *\r\n *   constructor(args, children) {\r\n *     super(args, children);\r\n *\r\n *     this.text = 'world (0)';\r\n *     this.times = 0;\r\n *\r\n *     this.setInterval();\r\n *   }\r\n *\r\n *   setInterval() {\r\n *     D(1000).interval(() => {\r\n *       this.text = `world (${ ++this.times })`;\r\n *     });\r\n *   }\r\n * }\r\n *\r\n * class Hello extends Block {\r\n *   static template = 'Hello, <d-text value=\"{args.text}\"/>!';\r\n * }\r\n *\r\n * Block.App = App;\r\n * Block.Hello = Hello;\r\n *\r\n * initApp();\r\n */\r\nclass Block {\r\n  /**\r\n   * @member {Boolean} [Block.collapseWhiteSpace = true]\r\n   * @type {Boolean}\r\n   * @public\r\n   * @description If the whitespace between html elements and\r\n   * in the start and the end inside the tag should be omitted during parsing.\r\n   */\r\n  static collapseWhiteSpace = true;\r\n\r\n  /**\r\n   * @member {Object} [Block.defaultArgs = true]\r\n   * @type {Object}\r\n   * @public\r\n   * @description Provide default args if that args may not appear in the args\r\n   * (using \"d-rest\") but you use them in your template and want them to be watched.\r\n   */\r\n  static defaultArgs = {};\r\n\r\n  static get onEvalError() {\r\n    return onEvalError;\r\n  }\r\n\r\n  static set onEvalError(listener) {\r\n    if (isFunction(listener)) {\r\n      onEvalError = listener;\r\n    } else {\r\n      onEvalError = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method Block.wrap\r\n   * @public\r\n   * @param {Wrapper} func - Function that returns wrapped block.\r\n   * @returns {Block} New block.\r\n   * @description Method for wrapping blocks into another blocks.\r\n   * It is considered best practice to just extends the old block with a new one.\r\n   *\r\n   * @example\r\n   * class MyBlock extends Block {\r\n   *   static template = '<div>123</div>';\r\n   * }\r\n   *\r\n   * MyBlock.wrap((Block) => {\r\n   *   return class extends Block {\r\n   *     static template = `<section class=\"wrapper\">${ Block.template }</section>`;\r\n   *\r\n   *     constructor() {\r\n   *       this.additionalVar = 'additional';\r\n   *     }\r\n   *   };\r\n   * });\r\n   */\r\n  static wrap(func) {\r\n    validate([func], ['function']);\r\n\r\n    return func(this);\r\n  }\r\n\r\n  constructor(opts) {\r\n    const {\r\n      name,\r\n      args: originalArgs,\r\n      children,\r\n      block,\r\n      parent,\r\n      parentBlock,\r\n      parentScope\r\n    } = opts;\r\n    const watchersToRemove = new Arr([]);\r\n\r\n    Object.defineProperties(this, {\r\n      /**\r\n       * @member {Block} Block#$\r\n       * @type {Block}\r\n       * @public\r\n       * @description This.\r\n       */\r\n      $: {\r\n        value: this\r\n      },\r\n\r\n      /**\r\n       * @member {Object} Block#$$\r\n       * @type {Object}\r\n       * @protected\r\n       * @property {Object} args - Private args scope.\r\n       * @property {Arr} children - Child blocks.\r\n       * @property {Arr} mixins - Child mixins.\r\n       * @property {Object} elems - Elements connected to the block.\r\n       * @property {Elem} elems.parent - Parent element.\r\n       * @property {Elem} elems.start - Start comment block.\r\n       * @property {Elem} elems.end - End comment block.\r\n       * @property {Elem} elems.content - Content elements.\r\n       * @property {Function} evaluate - Evaluate function.\r\n       * @property {Object} global - Private global scope.\r\n       * @property {Object} locals - Private locals scope.\r\n       * @property {Arr} watchersToRemove - Watchers to remove before removing element.\r\n       */\r\n      $$: {\r\n        value: {\r\n          name,\r\n          parent: parentScope,\r\n          parentBlock,\r\n          children: new Arr([]),\r\n          mixins: new Arr([]),\r\n          Block: block,\r\n          elems: {\r\n            start: doc.createComment(` ${ name }: start `),\r\n            end: doc.createComment(` ${ name }: end `),\r\n            content: new Elem(),\r\n            parent\r\n          },\r\n          watchersToRemove,\r\n          evaluate: (expression, onChange, instance, forDElements, forDItem, forDEach) => {\r\n            if (!expressionRegExp.test(expression)) {\r\n              return expression;\r\n            }\r\n\r\n            forDElements = !!forDElements;\r\n            forDItem = !!forDItem;\r\n            expression = expression.replace(/^\\{|\\}$/g, '');\r\n\r\n            const store = (name === '#d-item' && !forDItem) || forDEach\r\n              ? (forDEach || this).$$.scope\r\n              : this;\r\n\r\n            /* eslint no-new-func: 0 */\r\n            const { watchersToRemove } = instance ? instance.$$ : {};\r\n            const func = new Function(\r\n              '',\r\n              'with(document.DwayneStore){$$.expr=eval(\"$$.expr=\"+$$.expr);return $$.expr}'\r\n            );\r\n\r\n            return evaluate.call(this);\r\n\r\n            function evaluate() {\r\n              let result;\r\n\r\n              if (onChange) {\r\n                evalMode = true;\r\n                getting = new Arr([]);\r\n              }\r\n\r\n              store.$$.expr = expression;\r\n              document.DwayneStore = store;\r\n\r\n              try {\r\n                result = func();\r\n              } catch (err) {\r\n                if (onEvalError) {\r\n                  onEvalError(err);\r\n                }\r\n              }\r\n\r\n              if (onChange) {\r\n                const localWatchers = new Arr([]);\r\n\r\n                getting.forEach((watchers) => {\r\n                  const watcher = () => {\r\n                    const newResult = evaluate.call(this);\r\n\r\n                    if (newResult !== result) {\r\n                      onChange(newResult, result);\r\n                    }\r\n                  };\r\n                  const watcherBlock = {\r\n                    forDElements,\r\n                    watcher,\r\n                    watchers\r\n                  };\r\n\r\n                  watcher.onRemove = () => {\r\n                    localWatchers.forEach((watcherBlock) => {\r\n                      const {\r\n                        watcher,\r\n                        watchers\r\n                      } = watcherBlock;\r\n                      const index1 = watchersToRemove.indexOf(watcherBlock);\r\n                      const index2 = watchers.indexOf(watcher);\r\n\r\n                      if (index1 !== -1) {\r\n                        watchersToRemove.splice(index1, 1);\r\n                      }\r\n\r\n                      if (index2 !== -1) {\r\n                        watchers.splice(index2, 1);\r\n                      }\r\n                    });\r\n                  };\r\n\r\n                  localWatchers.push(watcherBlock);\r\n                  watchersToRemove.push(watcherBlock);\r\n                  watchers.push(watcher);\r\n                });\r\n\r\n                evalMode = false;\r\n                getting = new Arr([]);\r\n              }\r\n\r\n              store.$$.expr = null;\r\n              document.DwayneStore = null;\r\n\r\n              return result;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    const args = new Super(originalArgs).map((value, arg) => {\r\n      if (name === 'd-each' && (\r\n        arg === 'item'\r\n        || arg === 'index'\r\n        || arg === 'uid'\r\n      )) {\r\n        return value;\r\n      }\r\n\r\n      const forDElements = name === 'd-elements' && arg === 'value';\r\n\r\n      return parentScope.$$.evaluate(value, (value) => {\r\n        this.args[arg] = value;\r\n      }, this, forDElements, forDElements && parentBlock.$$.name === '#d-item');\r\n    }).$;\r\n\r\n    this.args = args;\r\n    this.children = children || new Arr([]);\r\n    this.global = Object.create(\r\n      parentScope\r\n        ? Object.create(parentScope.global)\r\n        : null\r\n    );\r\n\r\n    this.$$.elems.start.$[0].DwayneBlock = this;\r\n    this.$$.elems.end.$[0].DwayneBlock = this;\r\n\r\n    if (parentBlock) {\r\n      parentBlock.$$.children.push(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method Block#afterConstruct\r\n   * @public\r\n   * @description Is called after block construction (including all scopes)\r\n   * but before rendering the block and its children.\r\n   */\r\n  afterConstruct() {}\r\n\r\n  /**\r\n   * @method Block#afterRender\r\n   * @public\r\n   * @description Is called after block has been rendered.\r\n   */\r\n  afterRender() {}\r\n\r\n  /**\r\n   * @method Block#afterRender\r\n   * @public\r\n   * @description Is called before the block removal.\r\n   */\r\n  beforeRemove() {}\r\n\r\n  evaluateAndWatch(expression, callback) {\r\n    return this.$$.parent.$$.evaluate(expression, callback, this);\r\n  }\r\n\r\n  evaluateOnce(expression) {\r\n    return this.$$.parent.$$.evaluate(expression);\r\n  }\r\n\r\n  /**\r\n   * @method Block#remove\r\n   * @public\r\n   * @description Method fot forcing the block to be removed. Calls\r\n   * remove method for all of its child blocks and calls beforeRemove function.\r\n   */\r\n  remove(isParentSignal) {\r\n    const {\r\n      parentBlock,\r\n      children,\r\n      mixins,\r\n      elems: {\r\n        start,\r\n        content,\r\n        end\r\n      },\r\n      watchersToRemove\r\n    } = this.$$;\r\n\r\n    removeWatchers(watchersToRemove);\r\n\r\n    children.forEach((child) => {\r\n      child.remove(true);\r\n    });\r\n\r\n    mixins.forEach((mixin) => {\r\n      mixin.remove(true);\r\n    });\r\n\r\n    try {\r\n      this.beforeRemove();\r\n    } catch (err) {\r\n      console.error('Uncaught error in beforeRemove:', err);\r\n    }\r\n\r\n    if (!isParentSignal && parentBlock) {\r\n      const index = parentBlock.$$.children.indexOf(this);\r\n\r\n      if (index !== -1) {\r\n        parentBlock.$$.children.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    new Elem([\r\n      start,\r\n      content,\r\n      end\r\n    ]).remove();\r\n  }\r\n\r\n  /**\r\n   * @method Block#watch\r\n   * @public\r\n   * @param {...String} [args] - Vars to watch (args, global or local).\r\n   * @param {Watcher} watcher - Called when watched vars are changed.\r\n   * @description Method for watching for vars. If no vars passed in arguments\r\n   * all vars are to be watched. Otherwise specified vars will be watched.\r\n   * Watchers should not be put inside the constructor. It is considered best\r\n   * practice to do it inside the {@link Block#afterConstruct} method.\r\n   * Note that these expressions (vars, i.e. \"args.arg\") are not to be\r\n   * evaluated so you cannot put there things like \"a[b]\" or any js code,\r\n   * only expressions like \"a\", \"b\", \"args.a\", \"args.b\" and \"global.a\", \"global.b\".\r\n   *\r\n   * @example\r\n   * class MyBlock extends Block {\r\n   *   static template = '<div />';\r\n   *\r\n   *   afterConstruct() {\r\n   *     this.watch('a', () => {});\r\n   *     this.watch('args.a', 'global.r', () => {});\r\n   *     this.watch(() => {});\r\n   *   }\r\n   * }\r\n   */\r\n  watch() {\r\n    const watcher = arguments[arguments.length - 1];\r\n\r\n    if (!isFunction(watcher)) {\r\n      return;\r\n    }\r\n\r\n    if (arguments.length === 1) {\r\n      for (const global in this.$$.global) {\r\n        /* eslint guard-for-in: 0 */\r\n        this.$$.global[global].watchers.perm.push(watcher);\r\n      }\r\n\r\n      iterate(this.$$.args, ({ watchers }) => {\r\n        watchers.perm.push(watcher);\r\n      });\r\n\r\n      return iterate(this.$$.locals, ({ watchers }) => {\r\n        watchers.perm.push(watcher);\r\n      });\r\n    }\r\n\r\n    iterate(arguments, (variable) => {\r\n      if (variable === watcher) {\r\n        return;\r\n      }\r\n\r\n      variable = `${ variable }`;\r\n\r\n      if (/^args\\./.test(variable)) {\r\n        variable = variable.replace(/^args\\./, '');\r\n\r\n        if (!this.$$.args[variable]) {\r\n          return;\r\n        }\r\n\r\n        this.$$.args[variable].watchers.perm.push(watcher);\r\n\r\n        return;\r\n      }\r\n\r\n      if (/^global\\./.test(variable)) {\r\n        variable = variable.replace(/^global\\./, '');\r\n\r\n        if (!this.$$.global[variable]) {\r\n          return;\r\n        }\r\n\r\n        this.$$.global[variable].watchers.perm.push(watcher);\r\n\r\n        return;\r\n      }\r\n\r\n      if (!this.$$.locals[variable]) {\r\n        return;\r\n      }\r\n\r\n      this.$$.locals[variable].watchers.perm.push(watcher);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Block#watchArgs\r\n   * @public\r\n   * @param {...String} [args] - Args to watch.\r\n   * @param {Watcher} watcher - Called when watched args are changed.\r\n   * @description Method for watching for args. If no args passed in arguments\r\n   * all args are to be watched. Otherwise specified args will be watched.\r\n   * Watchers should not be put inside the constructor. It is considered best\r\n   * practice to do it inside the {@link Block#afterConstruct} method.\r\n   *\r\n   * @example\r\n   * class MyBlock extends Block {\r\n   *   static template = '<div />';\r\n   *\r\n   *   afterConstruct() {\r\n   *     this.watchArgs('a', () => {});\r\n   *     this.watchArgs('a', 'b', () => {});\r\n   *     this.watchArgs(() => {});\r\n   *   }\r\n   * }\r\n   */\r\n  watchArgs() {\r\n    const watcher = arguments[arguments.length - 1];\r\n\r\n    if (!isFunction(watcher)) {\r\n      return;\r\n    }\r\n\r\n    if (arguments.length === 1) {\r\n      return iterate(this.$$.args, ({ watchers }) => {\r\n        watchers.perm.push(watcher);\r\n      });\r\n    }\r\n\r\n    iterate(arguments, (arg) => {\r\n      if (arg === watcher) {\r\n        return;\r\n      }\r\n\r\n      if (!this.$$.args[arg]) {\r\n        return;\r\n      }\r\n\r\n      this.$$.args[arg].watchers.perm.push(watcher);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Block#watchGlobal\r\n   * @public\r\n   * @param {...String} [globals] - Globals to watch.\r\n   * @param {Watcher} watcher - Called when watched globals are changed.\r\n   * @description Method for watching for globals. If no globals passed in arguments\r\n   * all globals are to be watched. Otherwise specified globals will be watched.\r\n   * Watchers should not be put inside the constructor. It is considered best\r\n   * practice to do it inside the {@link Block#afterConstruct} method.\r\n   *\r\n   * @example\r\n   * class MyBlock extends Block {\r\n   *   static template = '<div />';\r\n   *\r\n   *   afterConstruct() {\r\n   *     this.watchGlobal('a', () => {});\r\n   *     this.watchGlobal('a', 'b', () => {});\r\n   *     this.watchGlobal(() => {});\r\n   *   }\r\n   * }\r\n   */\r\n  watchGlobals() {\r\n    const watcher = arguments[arguments.length - 1];\r\n\r\n    if (!isFunction(watcher)) {\r\n      return;\r\n    }\r\n\r\n    if (arguments.length === 1) {\r\n      for (const global in this.$$.global) {\r\n        /* eslint guard-for-in: 0 */\r\n        this.$$.global[global].watchers.perm.push(watcher);\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    iterate(arguments, (global) => {\r\n      if (global === watcher) {\r\n        return;\r\n      }\r\n\r\n      if (!this.$$.global[global]) {\r\n        return;\r\n      }\r\n\r\n      this.$$.global[global].watchers.perm.push(watcher);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Block#watchLocals\r\n   * @public\r\n   * @param {...String} [locals] - Locals to watch.\r\n   * @param {Watcher} watcher - Called when watched locals are changed.\r\n   * @description Method for watching for locals. If no locals passed in arguments\r\n   * all locals are to be watched. Otherwise specified locals will be watched.\r\n   * Watchers should not be put inside the constructor. It is considered best\r\n   * practice to do it inside the {@link Block#afterConstruct} method.\r\n   *\r\n   * @example\r\n   * class MyBlock extends Block {\r\n   *   static template = '<div />';\r\n   *\r\n   *   afterConstruct() {\r\n   *     this.watchLocals('a', () => {});\r\n   *     this.watchLocals('a', 'b', () => {});\r\n   *     this.watchLocals(() => {});\r\n   *   }\r\n   * }\r\n   */\r\n  watchLocals() {\r\n    const watcher = arguments[arguments.length - 1];\r\n\r\n    if (!isFunction(watcher)) {\r\n      return;\r\n    }\r\n\r\n    if (arguments.length === 1) {\r\n      return iterate(this.$$.locals, ({ watchers }) => {\r\n        watchers.perm.push(watcher);\r\n      });\r\n    }\r\n\r\n    iterate(arguments, (local) => {\r\n      if (local === watcher) {\r\n        return;\r\n      }\r\n\r\n      if (!this.$$.locals[local]) {\r\n        return;\r\n      }\r\n\r\n      this.$$.locals[local].watchers.perm.push(watcher);\r\n    });\r\n  }\r\n}\r\n\r\nregisterBuiltIns(Blocks, Block);\r\n\r\nclass Mixin {\r\n  static evaluate = true;\r\n\r\n  constructor(opts) {\r\n    const {\r\n      value,\r\n      elem,\r\n      match,\r\n      parentBlock,\r\n      parentScope\r\n    } = opts;\r\n\r\n    Object.defineProperties(this, {\r\n      $$: {\r\n        value: {\r\n          _value: value,\r\n          parent: parentScope,\r\n          parentBlock,\r\n          watchersToRemove: new Arr([])\r\n        }\r\n      }\r\n    });\r\n\r\n    this.match = new Arr(match).slice(1).$;\r\n    this.elem = elem;\r\n\r\n    if (new Super(this).proto().$.constructor.evaluate) {\r\n      this.value = this.evaluateAndWatch((newValue, oldValue) => {\r\n        this.value = newValue;\r\n\r\n        try {\r\n          this.afterUpdate(newValue, oldValue);\r\n        } catch (err) {\r\n          console.error(`Uncaught error in ${ name }#onUpdate:`, err);\r\n        }\r\n      });\r\n\r\n      this.afterUpdate(this.value);\r\n    }\r\n\r\n    if (parentBlock) {\r\n      parentBlock.$$.mixins.push(this);\r\n    }\r\n  }\r\n\r\n  afterUpdate() {}\r\n\r\n  beforeRemove() {}\r\n\r\n  evaluateAndWatch(callback) {\r\n    const {\r\n      _value,\r\n      parent\r\n    } = this.$$;\r\n\r\n    return parent.$$.evaluate(_value, callback, this);\r\n  }\r\n\r\n  evaluateOnce() {\r\n    const {\r\n      _value,\r\n      parent\r\n    } = this.$$;\r\n\r\n    return parent.$$.evaluate(_value);\r\n  }\r\n\r\n  /**\r\n   * @method Mixin#remove\r\n   * @public\r\n   * @description Method fot forcing the mixin to be removed.\r\n   */\r\n  remove(isParentSignal) {\r\n    const {\r\n      parentBlock,\r\n      watchersToRemove\r\n    } = this.$$;\r\n\r\n    removeWatchers(watchersToRemove);\r\n\r\n    try {\r\n      this.beforeRemove();\r\n    } catch (err) {\r\n      console.error('Uncaught error in beforeRemove:', err);\r\n    }\r\n\r\n    if (!isParentSignal && parentBlock) {\r\n      const index = parentBlock.$$.mixins.indexOf(this);\r\n\r\n      if (index !== -1) {\r\n        parentBlock.$$.mixins.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nregisterBuiltIns(Mixins, Mixin);\r\n\r\nfunction initApp() {\r\n  const root = find('d-root').first();\r\n\r\n  if (!root.length) {\r\n    throw new Error('No d-root element is found! (initApp)');\r\n  }\r\n\r\n  registerBlocks(Block, blocks);\r\n\r\n  iterate(Mixin, (Mixin, name) => {\r\n    if (name === 'evaluate') {\r\n      return;\r\n    }\r\n\r\n    if (!isFunction(Mixin)) {\r\n      console.warn(`The \"${ name }\" mixin is not a function and will not be registered (initApp)`);\r\n\r\n      return;\r\n    }\r\n\r\n    if (!attrName.test(name)) {\r\n      console.warn(`Name \"${ name }\" is not allowed for mixins so the mixin will not be registered (initApp)`);\r\n\r\n      return;\r\n    }\r\n\r\n    if (!isInstanceOfMixin(Mixin)) {\r\n      console.warn(`The \"${ name }\" mixin does not extend Mixin and will not be registered (initApp)`);\r\n\r\n      return;\r\n    }\r\n\r\n    mixins[name] = Mixin;\r\n\r\n    defineProperties(Mixin, {\r\n      _match: new RegExp(`^${ name }(?:-([\\\\s\\\\S]+))?$`)\r\n    });\r\n  });\r\n\r\n  const block = root.attr('block');\r\n\r\n  if (!blocks[block]) {\r\n    throw new Error(`No \"${ block }\" block is registered! (initApp)`);\r\n  }\r\n\r\n  const replacement = doc.createComment(' d-root: start ');\r\n  const parent = root.parent();\r\n\r\n  replacement.add(doc.createComment(' d-root: end '));\r\n\r\n  root.replace(replacement);\r\n\r\n  createBlock({\r\n    node: {\r\n      name: block,\r\n      attrs: {},\r\n      children: new Arr([])\r\n    },\r\n    after: replacement.first(),\r\n    parent\r\n  });\r\n}\r\n\r\nfunction registerBlocks(Block, blocks) {\r\n  iterate(Block, (Block, name) => {\r\n    if (\r\n      name === 'collapseWhiteSpace'\r\n      || name === 'defaultArgs'\r\n      || name === 'template'\r\n      || name === 'wrap'\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (!isFunction(Block)) {\r\n      console.warn(`The \"${ name }\" block is not a function and will not be registered (initApp)`);\r\n\r\n      return;\r\n    }\r\n\r\n    if (!tagName.test(name) && name !== '#d-item') {\r\n      console.warn(`Name \"${ name }\" is not allowed for blocks so the block will not be registered (initApp)`);\r\n\r\n      return;\r\n    }\r\n\r\n    if (!isInstanceOfBlock(Block)) {\r\n      console.warn(`The \"${ name }\" block does not extend Block and will not be registered (initApp)`);\r\n\r\n      return;\r\n    }\r\n\r\n    const children = Object.create(blocks);\r\n\r\n    blocks[name] = {\r\n      block: Block,\r\n      html: deepCloneChildren(\r\n        markupToJSON(\r\n          `${ Block.template || '' }`,\r\n          Block.collapseWhiteSpace\r\n        )\r\n      ),\r\n      children\r\n    };\r\n\r\n    registerBlocks(Block, children);\r\n  });\r\n}\r\n\r\nfunction registerBuiltIns(set, proto) {\r\n  iterate(set, (register) => {\r\n    const {\r\n      name,\r\n      value\r\n    } = register(proto, createBlock);\r\n\r\n    Object.defineProperty(proto, name, {\r\n      value,\r\n      enumerable: true\r\n    });\r\n  });\r\n}\r\n\r\nfunction createBlock({ node, after, parent, parentBlock, parentScope }) {\r\n  parentScope = (node && node.block) || parentScope;\r\n\r\n  const name = (node && node.name) || 'UnknownBlock';\r\n  const args = (node && node.attrs) || {};\r\n  const children = (node && node.children) || new Arr([]);\r\n  const elem = parent.prop('namespaceURI') === svgNS\r\n    ? doc.svg()\r\n    : new Elem(doc.template().$[0].content);\r\n  const localBlocks = parentScope ? parentScope.$$.Block.children : blocks;\r\n  let constructor = node && node.name && localBlocks[node.name] ? localBlocks[node.name].block : null;\r\n  let dBlockMatch;\r\n\r\n  if (!children.length && (dBlockMatch = name.match(/^d-block-([\\s\\S]+)$/) || name === 'd-block')) {\r\n    constructor = blocks['d-block'].block;\r\n\r\n    args.name = dBlockMatch ? dBlockMatch[1] : null;\r\n  }\r\n\r\n  if (!constructor) {\r\n    const {\r\n      value,\r\n      children\r\n    } = node;\r\n\r\n    if (name === '#text' && expressionRegExp.test(value)) {\r\n      return createBlock({\r\n        node: {\r\n          name: 'd-text',\r\n          attrs: { value },\r\n          children: new Arr([]),\r\n          block: parentScope\r\n        },\r\n        after,\r\n        parent,\r\n        parentBlock,\r\n        parentScope\r\n      });\r\n    }\r\n\r\n    const element = elem.create(name);\r\n    const currentMixins = new Arr([]);\r\n\r\n    const attrs = new Super(args).object((object, value, attr) => {\r\n      const match = iterate(mixins, (Mixin, name) => {\r\n        const match = attr.match(Mixin._match);\r\n\r\n        if (match) {\r\n          return {\r\n            match,\r\n            name\r\n          };\r\n        }\r\n      });\r\n\r\n      if (match) {\r\n        currentMixins.push({\r\n          name: match.name,\r\n          match: match.match,\r\n          value,\r\n          elem: element,\r\n          parentBlock,\r\n          parentScope\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      object[attr] = parentScope.$$.evaluate(value, (value) => {\r\n        element.attr(attr, value);\r\n      }, parentBlock);\r\n    }).$;\r\n\r\n    if (!isNil(value)) {\r\n      element.text(value);\r\n    }\r\n\r\n    if (attrs) {\r\n      element.attr(attrs);\r\n    }\r\n\r\n    if (after.length) {\r\n      element.insertAfter(after);\r\n    } else {\r\n      element.into(parent);\r\n    }\r\n\r\n    after = new Elem();\r\n\r\n    if (children) {\r\n      transformDIfChildren(children).forEach((child) => {\r\n        const block = createBlock({\r\n          node: child,\r\n          after,\r\n          parent: element,\r\n          parentBlock,\r\n          parentScope\r\n        });\r\n\r\n        if (block instanceof Block) {\r\n          after = block.$$.elems.end;\r\n        } else {\r\n          after = block;\r\n        }\r\n      });\r\n    }\r\n\r\n    currentMixins.forEach((opts) => {\r\n      createMixin(opts);\r\n    });\r\n\r\n    return element;\r\n  }\r\n\r\n  const block = node && node.name ? localBlocks[node.name] : null;\r\n  const blockInstance = new constructor({\r\n    name,\r\n    args,\r\n    children,\r\n    block,\r\n    parent,\r\n    parentBlock,\r\n    parentScope\r\n  });\r\n\r\n  Object.defineProperties(blockInstance, {\r\n    args: {\r\n      value: blockInstance.args\r\n    },\r\n    global: {\r\n      value: blockInstance.global\r\n    }\r\n  });\r\n\r\n  let html = name === 'd-elements'\r\n    ? new Arr(blockInstance.args.value || [])\r\n    : deepCloneChildren(block.html, blockInstance);\r\n\r\n  if (name === 'd-elements' && parentBlock.$$.name === '#d-item') {\r\n    html = deepCloneChildren(html, parentBlock);\r\n  }\r\n\r\n  const {\r\n    $$,\r\n    args: Args,\r\n    global,\r\n    ...locals\r\n  } = blockInstance;\r\n  const eventualArgs = {\r\n    ...constructor.defaultArgs,\r\n    ...Args\r\n  };\r\n\r\n  delete locals.$;\r\n  delete locals.$$;\r\n\r\n  $$.args = constructPrivateScope(eventualArgs);\r\n  $$.locals = constructPrivateScope(locals);\r\n  $$.global = constructPrivateScope(global, 'global', parentScope);\r\n\r\n  if (name === '#d-item') {\r\n    const scopeValues = {\r\n      [node.itemName]: node.item,\r\n      [node.indexName]: node.index\r\n    };\r\n    let parent = blockInstance;\r\n    let scope = parentScope;\r\n    let DItemFound;\r\n\r\n    while (!DItemFound && (parent = parent.$$.parentBlock)) {\r\n      DItemFound = parent.$$.name === '#d-item';\r\n    }\r\n\r\n    if (DItemFound) {\r\n      scope = parent.$$.scope;\r\n    }\r\n\r\n    $$.Block = parentScope.$$.Block;\r\n    $$.privateScope = constructPrivateScope(scopeValues);\r\n    constructPublicScope($$.scope = Object.create(scope), scopeValues, $$.privateScope);\r\n  }\r\n\r\n  if (name === 'd-each') {\r\n    $$.scope = Object.create(parentScope);\r\n  }\r\n\r\n  constructPublicScope(Args, eventualArgs, $$.args);\r\n  constructPublicScope(global, global, $$.global);\r\n  constructPublicScope(blockInstance, locals, $$.locals);\r\n\r\n  try {\r\n    blockInstance.afterConstruct();\r\n  } catch (err) {\r\n    console.error(`Uncaught error in ${ name }#afterConstruct:`, err);\r\n  }\r\n\r\n  const elems = new Elem([\r\n    $$.elems.start,\r\n    $$.elems.end\r\n  ]);\r\n\r\n  if (after.length) {\r\n    elems.insertAfter(after);\r\n  } else {\r\n    elems.into(parent);\r\n  }\r\n\r\n  after = $$.elems.start;\r\n\r\n  // console.log(blockInstance);\r\n\r\n  transformDIfChildren(html).forEach((child) => {\r\n    const block = createBlock({\r\n      node: child,\r\n      after,\r\n      parent,\r\n      parentBlock: blockInstance,\r\n      parentScope\r\n    });\r\n\r\n    if (block instanceof Block) {\r\n      const { elems } = block.$$;\r\n\r\n      after = elems.end;\r\n\r\n      $$.elems.content.add(elems.start, elems.content, elems.end);\r\n    } else {\r\n      after = block;\r\n\r\n      $$.elems.content.add(block);\r\n    }\r\n  });\r\n\r\n  try {\r\n    blockInstance.afterRender();\r\n  } catch (err) {\r\n    console.error(`Uncaught error in ${ name }#afterRender:`, err);\r\n  }\r\n\r\n  return blockInstance;\r\n}\r\n\r\nfunction createMixin({ name, value, match, elem, parentBlock, parentScope }) {\r\n  const Mixin = mixins[name];\r\n\r\n  new Mixin({\r\n    value,\r\n    match,\r\n    elem,\r\n    parentBlock,\r\n    parentScope\r\n  });\r\n}\r\n\r\nfunction deepCloneChildren(children, block) {\r\n  return new Arr(children || []).map((child) => {\r\n    const {\r\n      name,\r\n      attrs,\r\n      value,\r\n      children\r\n    } = child;\r\n    const newChild = {\r\n      name,\r\n      value,\r\n      attrs: { ...attrs }\r\n    };\r\n\r\n    if (block) {\r\n      newChild.block = block;\r\n    }\r\n\r\n    if (children) {\r\n      newChild.children = deepCloneChildren(children, block);\r\n    }\r\n\r\n    return newChild;\r\n  });\r\n}\r\n\r\nfunction transformDIfChildren(children) {\r\n  return new Arr(children || [])\r\n    .concat({})\r\n    .object((object, child) => {\r\n      const { name } = child;\r\n      const {\r\n        html,\r\n        ifElse\r\n      } = object;\r\n\r\n      if (name !== 'd-else-if' && name !== 'd-else') {\r\n        if (ifElse) {\r\n          html.push({\r\n            name: 'd-if',\r\n            block: ifElse.$[0].block,\r\n            children: ifElse\r\n          });\r\n\r\n          object.ifElse = null;\r\n        }\r\n\r\n        if (name === 'd-if') {\r\n          object.ifElse = new Arr([child]);\r\n        } else if (!isUndefined(name)) {\r\n          html.push(child);\r\n        }\r\n      } else {\r\n        (ifElse || html).push(child);\r\n\r\n        if (name === 'd-else' && ifElse) {\r\n          html.push({\r\n            name: 'd-if',\r\n            block: ifElse.$[0].block,\r\n            children: ifElse\r\n          });\r\n\r\n          object.ifElse = null;\r\n        }\r\n      }\r\n    }, {\r\n      html: new Arr([]),\r\n      ifElse: null\r\n    }).$.html;\r\n}\r\n\r\nfunction isInstanceOfBlock(block) {\r\n  return isPrototypeOf.call(Block, block) && isPrototypeOf.call(Block.prototype, block.prototype);\r\n}\r\n\r\nfunction isInstanceOfMixin(mixin) {\r\n  return isPrototypeOf.call(Mixin, mixin) && isPrototypeOf.call(Mixin.prototype, mixin.prototype);\r\n}\r\n\r\nfunction removeWatchers(watchersToRemove) {\r\n  watchersToRemove.forEach(({ watcher, watchers }) => {\r\n    const index = watchers.indexOf(watcher);\r\n\r\n    if (index !== -1) {\r\n      watchers.splice(index, 1);\r\n    }\r\n  });\r\n}\r\n\r\nfunction constructPrivateScope(object, type, parentScope) {\r\n  let scope = {};\r\n\r\n  if (type === 'global') {\r\n    scope = Object.create(\r\n      parentScope\r\n        ? parentScope.$$.global\r\n        : null\r\n    );\r\n  }\r\n\r\n  return new Super(object).object((scope, value, key) => {\r\n    scope[key] = {\r\n      value,\r\n      watchers: {\r\n        temp: new Arr([]),\r\n        perm: new Arr([])\r\n      }\r\n    };\r\n  }, scope).$;\r\n}\r\n\r\nfunction constructPublicScope(scope, scopeValues, privateScope) {\r\n  new Super(scope).define(new Super(scopeValues).map((value, key) => {\r\n    const scope = privateScope[key];\r\n\r\n    return {\r\n      get() {\r\n        if (evalMode) {\r\n          if (getting.indexOf(scope.watchers.temp) === -1) {\r\n            getting.push(scope.watchers.temp);\r\n          }\r\n        }\r\n\r\n        return scope.value;\r\n      },\r\n      set(value) {\r\n        if (value === scope.value) {\r\n          return;\r\n        }\r\n\r\n        if (!changed) {\r\n          changed = [];\r\n        }\r\n\r\n        const oldTempWatchers = scope.watchers.temp.slice();\r\n        const oldValue = scope.value;\r\n\r\n        scope.watchers.temp = new Arr([]);\r\n        scope.value = value;\r\n\r\n        oldTempWatchers.forEach((watcher) => {\r\n          watcher.onRemove();\r\n          watcher();\r\n        });\r\n        changed.push({\r\n          scope,\r\n          oldValue,\r\n          value\r\n        });\r\n\r\n        setTimeout(() => {\r\n          if (!changed) {\r\n            return;\r\n          }\r\n\r\n          const was = new Arr([]);\r\n\r\n          while (changed.length) {\r\n            for (let i = changed.length - 1; i >= 0; i--) {\r\n              const {\r\n                scope,\r\n                value,\r\n                oldValue\r\n              } = changed[i];\r\n\r\n              scope.watchers.perm.forEach((watcher) => {\r\n                if (was.indexOf(watcher) === -1) {\r\n                  watcher(value, oldValue);\r\n                  was.push(watcher);\r\n                }\r\n              });\r\n\r\n              changed.splice(i, 1);\r\n            }\r\n          }\r\n\r\n          changed = null;\r\n        }, 0);\r\n      }\r\n    };\r\n  }).$);\r\n}\r\n\r\nexport { Block, Mixin, initApp };\r\n","/**\r\n * @module constants/formats\r\n * @private\r\n * @description Exports different types of formatting for {@link Date#format}.\r\n */\r\n\r\nimport { Super } from '../Super';\r\nimport { Str } from '../Str';\r\n\r\nconst zero = new Str('0');\r\nconst daysOfTheWeekNames = [\r\n  'Sunday',\r\n  'Monday',\r\n  'Tuesday',\r\n  'Wednesday',\r\n  'Thursday',\r\n  'Friday',\r\n  'Saturday'\r\n];\r\nconst daysOfTheWeekAliases = new Super(daysOfTheWeekNames).map((value) => value.slice(0, 3)).$;\r\nconst monthsNames = [\r\n  'January',\r\n  'February',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'Jule',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December'\r\n];\r\nconst monthsAliases = new Super(monthsNames).map((value) => value.slice(0, 3)).$;\r\n\r\n/**\r\n * @callback module:constants/formats~matchCallback\r\n * @param {Dat} date - D-wrap of a date to apply format to.\r\n * @param {String} string - Matched applied expression.\r\n */\r\n\r\n/**\r\n * @typedef {Object} module:constants/formats~formatExpr\r\n * @property {String} format - Matched format.\r\n * @property {module:constants/formats~matchCallback} match - Callback if there was a match.\r\n */\r\n\r\n/**\r\n * @type {module:constants/formats~formatExpr[]}\r\n * @description Array of different formats.\r\n */\r\nexport default [\r\n  {\r\n    format: 'ccc',\r\n    match: (date, utc) => round(date[utc]('c'), 3)\r\n  },\r\n  {\r\n    format: 'c',\r\n    match: (date, utc) => date[utc]('c')\r\n  },\r\n  {\r\n    format: 'ss',\r\n    match: (date, utc) => round(date[utc]('s'), 2)\r\n  },\r\n  {\r\n    format: 's',\r\n    match: (date, utc) => date[utc]('s')\r\n  },\r\n  {\r\n    format: 'mm',\r\n    match: (date, utc) => round(date[utc]('m'), 2)\r\n  },\r\n  {\r\n    format: 'm',\r\n    match: (date, utc) => date[utc]('m')\r\n  },\r\n  {\r\n    format: 'hh',\r\n    match: (date, utc) => round(date[utc]('h'), 2)\r\n  },\r\n  {\r\n    format: 'h',\r\n    match: (date, utc) => date[utc]('h')\r\n  },\r\n  {\r\n    format: 'dddd',\r\n    match: (date, utc) => daysOfTheWeekNames[date[utc]('dw')]\r\n  },\r\n  {\r\n    format: 'ddd',\r\n    match: (date, utc) => daysOfTheWeekAliases[date[utc]('dw')]\r\n  },\r\n  {\r\n    format: 'dd',\r\n    match: (date, utc) => round(date[utc]('d'), 2)\r\n  },\r\n  {\r\n    format: 'd',\r\n    match: (date, utc) => date[utc]('d')\r\n  },\r\n  {\r\n    format: 'MMMM',\r\n    match: (date, utc) => monthsNames[date[utc]('M') - 1]\r\n  },\r\n  {\r\n    format: 'MMM',\r\n    match: (date, utc) => monthsAliases[date[utc]('M') - 1]\r\n  },\r\n  {\r\n    format: 'MM',\r\n    match: (date, utc) => round(date[utc]('M'), 2)\r\n  },\r\n  {\r\n    format: 'M',\r\n    match: (date, utc) => date[utc]('M')\r\n  },\r\n  {\r\n    format: 'yyyy',\r\n    match: (date, utc) => round(date[utc]('y'), 4)\r\n  },\r\n  {\r\n    format: 'yy',\r\n    match: (date, utc) => String(date[utc]('y')).slice(-2)\r\n  },\r\n  {\r\n    format: 'y',\r\n    match: (date, utc) => date[utc]('y')\r\n  }\r\n];\r\n\r\n/**\r\n * @function round\r\n * @private\r\n * @param {Number} number - Number to round.\r\n * @param {Number} digits - Number of the digits of the output.\r\n * @returns {String} String with necessary additional starting zeroes.\r\n */\r\nfunction round(number, digits) {\r\n  const string = String(number);\r\n  let zeroes = digits - string.length;\r\n\r\n  zeroes = zeroes < 0 ? 0 : zeroes;\r\n\r\n  return zero.repeat(zeroes).$ + string;\r\n}\r\n","/**\r\n * @module Dat\r\n * @private\r\n * @mixin\r\n * @description Exports Dat class.\r\n */\r\n\r\nimport { Super } from './Super';\r\nimport { Num } from './Num';\r\nimport { Str } from './Str';\r\nimport { switcher } from './Switcher';\r\nimport { constructors } from './constants';\r\nimport formats from './constants/formats';\r\nimport { isDate, iterate, Symbol, defineProperties } from './helpers';\r\n\r\n/**\r\n * @typedef {*} DateLike\r\n * @public\r\n */\r\n\r\n/**\r\n * @typedef {'c'|'s'|'m'|'h'|'d'|'w'|'M'|'y'} AddPeriod\r\n * @public\r\n */\r\n\r\n/**\r\n * @typedef {'c'|'s'|'m'|'h'|'d'|'dw'|'M'|'y'} GetPeriod\r\n * @public\r\n */\r\n\r\n/**\r\n * @typedef {'c'|'s'|'m'|'h'|'d'|'M'|'y'} OfOnePeriod\r\n * @public\r\n */\r\n\r\n/**\r\n * @typedef {'c'|'s'|'m'|'h'|'d'|'M'|'y'} SetPeriod\r\n * @public\r\n */\r\n\r\n/**\r\n * @typedef {'ccc'|'c'|'ss'|'s'|'mm'|'m'|'hh'|'h'|'dddd'|'ddd'|'dd'|'d'|'MMMM'|'MMM'|'MM'|'M'|'yyyy'|'yy'|'y'} Format\r\n * @public\r\n */\r\n\r\nconst coeffs = {\r\n  c: 1,\r\n  s: 1000,\r\n  m: 60000,\r\n  h: 3600000,\r\n  d: 86400000,\r\n  w: 604800000,\r\n  M: 2592000000,\r\n  y: 31536000000\r\n};\r\n\r\nconst getSwitcher = switcher({\r\n  c: (date, utc) => date[`${ utc }Milliseconds`](),\r\n  s: (date, utc) => date[`${ utc }Seconds`](),\r\n  m: (date, utc) => date[`${ utc }Minutes`](),\r\n  h: (date, utc) => date[`${ utc }Hours`](),\r\n  d: (date, utc) => date[`${ utc }Date`](),\r\n  dw: (date, utc) => date[`${ utc }Day`](),\r\n  M: (date, utc) => date[`${ utc }Month`]() + 1,\r\n  y: (date, utc) => date[`${ utc }FullYear`]()\r\n}, 'equals', NaN);\r\nconst setSwitcher = switcher({\r\n  c: (date, value, utc) => date[`${ utc }Milliseconds`](value),\r\n  s: (date, value, utc) => date[`${ utc }Seconds`](value),\r\n  m: (date, value, utc) => date[`${ utc }Minutes`](value),\r\n  h: (date, value, utc) => date[`${ utc }Hours`](value),\r\n  d: (date, value, utc) => date[`${ utc }Date`](value),\r\n  M: (date, value, utc) => date[`${ utc }Month`](value - 1),\r\n  y: (date, value, utc) => date[`${ utc }FullYear`](value)\r\n});\r\n\r\n/**\r\n * @class Dat\r\n * @extends Super\r\n * @public\r\n * @param {Date} [date = new Date()] - A date to wrap.\r\n * @returns {Dat} Instance of Dat.\r\n * @description Wrap of a date.\r\n *\r\n * @example\r\n * const date = new Dat(new Date());\r\n */\r\nclass Dat extends Super {\r\n  constructor(date = new Date()) {\r\n    super(date);\r\n\r\n    /**\r\n     * @member Dat#$\r\n     * @type {Date}\r\n     * @public\r\n     * @description Original date.\r\n     */\r\n  }\r\n\r\n  /**\r\n   * @method Dat#add\r\n   * @public\r\n   * @param {AddPeriod|Object.<AddPeriod, Number>} what - What to add.\r\n   * @param {Number} [number] - Number of what to add if the first argument is a period string.\r\n   * @returns {Dat} Returns this.\r\n   * @description Method for adding amounts of time to the date. Returns new instance of Dat.\r\n   *\r\n   * @example\r\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).add('c', 2).toISOString();         // '2000-01-01T00:00:00.001Z'\r\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).add({ c: 2, d: 5 }).toISOString(); // '2000-01-06T00:00:00.001Z'\r\n   */\r\n  add(what, number) {\r\n    if (arguments.length >= 2) {\r\n      what = { [what]: number };\r\n    }\r\n\r\n    return this.time(this.time() + new Super(what).sum((value, what) => coeffs[what] * value));\r\n  }\r\n\r\n  /**\r\n   * @method Dat#expires\r\n   * @public\r\n   * @param {*} [value = this] - Value to resolve after the date expires.\r\n   * @returns {Promise} New instance of Promise.\r\n   * @description Method for defining when the date expires.\r\n   *\r\n   * @example\r\n   * new Dat().add('c', 500).expires('Expired').then((value) => {\r\n   *   // After 500 milliseconds\r\n   *   console.log(value); // 'Expired'\r\n   * });\r\n   */\r\n  expires(value) {\r\n    if (!arguments.length) {\r\n      value = this;\r\n    }\r\n\r\n    return new Num(this.$ - now()).timeout(value);\r\n  }\r\n\r\n  /**\r\n   * @method Dat#format\r\n   * @public\r\n   * @param {String} string - Template for the output.\r\n   * @param {String} [prefix = ''] - If needed [all special strings]{@link Format}\r\n   * are treated as they should be prefix with prefix.\r\n   * @returns {String} Formatted string.\r\n   * @description Method for creating formatted output based on a string.\r\n   *\r\n   * @example\r\n   * new Dat('1999-12-31T23:59:59.999Z').format('Seconds: $ss, milliseconds: $ccc.', '$');\r\n   * // 'Seconds: 59, milliseconds: 999.'\r\n   */\r\n  format(string, prefix = '') {\r\n    string = new Str(new Super(string).$);\r\n    prefix = String(new Super(prefix).$);\r\n\r\n    iterate(formats, (format) => {\r\n      string = string.replaceString(prefix + format.format, format.match(this, 'get'));\r\n    });\r\n\r\n    return string.$;\r\n  }\r\n\r\n  /**\r\n   * @method Dat#formatUTC\r\n   * @public\r\n   * @param {String} string - See {@link Dat#format}.\r\n   * @param {String} [prefix = ''] - See {@link Dat#format}.\r\n   * @returns {String} Formatted string.\r\n   * @description UTC version of {@link Dat#format}.\r\n   *\r\n   * @example\r\n   * new Dat('1999-07-07T03:09:09.099Z').formatUTC(\r\n   *   `\r\n   *     Milliseconds: $ccc|$c.\r\n   *     Seconds:      $ss|$s.\r\n   *     Minutes:      $mm|$m.\r\n   *     Hours:        $hh|$h.\r\n   *     Day:          $dddd|$ddd|$dd|$d.\r\n   *     Month:        $MMMM|$MMM|$MM|$M.\r\n   *     Year:         $yyyy|$yy|$y.\r\n   *   `,\r\n   *   '$'\r\n   * );\r\n   * // Milliseconds: 099|99.\r\n   * // Seconds:      09|9.\r\n   * // Minutes:      09|9.\r\n   * // Hours:        03|3.\r\n   * // Day:          Friday|Fri|07|7.\r\n   * // Month:        July|Jul|07|7.\r\n   * // Year:         1999|99|1999.\r\n   */\r\n  formatUTC(string, prefix = '') {\r\n    string = new Str(new Super(string).$);\r\n    prefix = String(new Super(prefix).$);\r\n\r\n    iterate(formats, (format) => {\r\n      string = string.replaceString(prefix + format.format, format.match(this, 'getUTC'));\r\n    });\r\n\r\n    return string.$;\r\n  }\r\n\r\n  /**\r\n   * @method Dat#get\r\n   * @public\r\n   * @param {GetPeriod} what - What to get.\r\n   * @returns {Number} Number of what to get.\r\n   * @description Method for getting values such as seconds or minutes.\r\n   *\r\n   * @example\r\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).get('s'); // 59\r\n   */\r\n  get(what) {\r\n    return getSwitcher(what, [this.$, 'get']);\r\n  }\r\n\r\n  /**\r\n   * @method Dat#getUTC\r\n   * @public\r\n   * @param {GetPeriod} what - See {@link Dat#get}.\r\n   * @returns {Number} Number of what to get.\r\n   * @description UTC version of {@link Dat#get}.\r\n   *\r\n   * @example\r\n   * const date = new Dat(new Date('1999-12-31T23:59:59.999Z'));\r\n   *\r\n   * date.getUTC('c');  // 999\r\n   * date.getUTC('s');  // 59\r\n   * date.getUTC('m');  // 59\r\n   * date.getUTC('h');  // 23\r\n   * date.getUTC('d');  // 31\r\n   * date.getUTC('dw'); // 5\r\n   * date.getUTC('M');  // 12\r\n   * date.getUTC('y');  // 1999\r\n   */\r\n  getUTC(what) {\r\n    return getSwitcher(what, [this.$, 'getUTC']);\r\n  }\r\n\r\n  /**\r\n   * @method Dat#isAfter\r\n   * @public\r\n   * @param {DateLike} date - Date to be compared to this date.\r\n   * @returns {Boolean} If this date is after the argument one.\r\n   * @description Finds out if this date is after the argument one.\r\n   *\r\n   * @example\r\n   * new Dat(new Date(333)).isAfter(new Date(334)); // false\r\n   * new Dat(new Date(333)).isAfter(new Date(332)); // true\r\n   */\r\n  isAfter(date) {\r\n    date = new Date(new Super(date).$);\r\n\r\n    return date.getTime() < this.$.getTime();\r\n  }\r\n\r\n  /**\r\n   * @method Dat#isBefore\r\n   * @public\r\n   * @param {DateLike} date - Date to be compared to this date.\r\n   * @returns {Boolean} If this date is before the argument one.\r\n   * @description Finds out if this date is before the argument one.\r\n   *\r\n   * @example\r\n   * new Dat(new Date(333)).isBefore(new Date(334)); // true\r\n   * new Dat(new Date(333)).isBefore(new Date(332)); // false\r\n   */\r\n  isBefore(date) {\r\n    date = new Date(new Super(date).$);\r\n\r\n    return date.getTime() > this.$.getTime();\r\n  }\r\n\r\n  /**\r\n   * @method Dat#isBetween\r\n   * @public\r\n   * @param {DateLike} date1 - Start of the range.\r\n   * @param {DateLike} date2 - End of the range.\r\n   * @returns {Boolean} If this date is after date1 and before date2.\r\n   * @description Finds out if this date is after date1 and before date2.\r\n   *\r\n   * @example\r\n   * new Dat(new Date(333)).isBetween(new Date(332), new Date(334)); // true\r\n   * new Dat(new Date(333)).isBetween(new Date(334), new Date(332)); // false\r\n   */\r\n  isBetween(date1, date2) {\r\n    const time = this.$.getTime();\r\n\r\n    date1 = new Date(new Super(date1).$);\r\n    date2 = new Date(new Super(date2).$);\r\n\r\n    return time > date1.getTime() && time < date2.getTime();\r\n  }\r\n\r\n  /**\r\n   * @method Dat#isInvalid\r\n   * @public\r\n   * @returns {Boolean} If the date is invalid.\r\n   * @description Returns if the date is invalid.\r\n   *\r\n   * @example\r\n   * new Dat(new Date('a')).isInvalid(); // true\r\n   * new Dat(new Date(1)).isInvalid();   // false\r\n   */\r\n  isInvalid() {\r\n    return this.$.toString() === 'Invalid Date';\r\n  }\r\n\r\n  /**\r\n   * @method Dat#isPassed\r\n   * @public\r\n   * @returns {Boolean} If the date is passed.\r\n   * @description Returns if the date is passed.\r\n   *\r\n   * @example\r\n   * new Dat(new Date(1)).isPassed(); // true\r\n   */\r\n  isPassed() {\r\n    return this.isBefore(now());\r\n  }\r\n\r\n  /**\r\n   * @method Dat#ofOne\r\n   * @public\r\n   * @param {OfOnePeriod} what - Period to check.\r\n   * @param {DateLike} date - Date to check.\r\n   * @returns {Boolean} If two dates are of one second, minute or something else.\r\n   * @description Returns if two dates are of one second, minute or something else.\r\n   *\r\n   * @example\r\n   * new Dat(new Date('1999-12-31T23:59:59.000Z')).ofOne('s', new Date(1999-12-31T23:59:59.333Z')); // true\r\n   * new Dat(new Date('1999-12-31T23:59:59.000Z')).ofOne('s', new Date(1999-12-31T23:59:58.999Z')); // false\r\n   */\r\n  ofOne(what, date) {\r\n    if (!(what in coeffs) || what === 'w') {\r\n      return false;\r\n    }\r\n\r\n    date = new Dat(new Date(date));\r\n\r\n    let started;\r\n\r\n    return iterate(coeffs, (coeff, w) => {\r\n      if (w === what) {\r\n        started = true;\r\n      }\r\n\r\n      if (!started || w === 'w') {\r\n        return;\r\n      }\r\n\r\n      if (started && this.get(w) !== date.get(w)) {\r\n        return false;\r\n      }\r\n    }) !== false;\r\n  }\r\n\r\n  /**\r\n   * @method Dat#set\r\n   * @public\r\n   * @param {SetPeriod|Object.<SetPeriod, Number>} what - What to add.\r\n   * @param {Number} [number] - Number of what to set if the first argument is a period string.\r\n   * @returns {Dat} Returns this.\r\n   * @description Method for setting values such as seconds or minutes.\r\n   *\r\n   * @example\r\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).set('s', 58).get('s');           // 58\r\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).set({ c: 998, s: 58 }).get('c'); // 998\r\n   */\r\n  set(what, number) {\r\n    const date = this.$;\r\n\r\n    if (arguments.length >= 2) {\r\n      what = { [what]: number };\r\n    }\r\n\r\n    what = new Super(what).$;\r\n\r\n    iterate(what, (value, what) => {\r\n      setSwitcher(what, [date, value, 'set']);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Dat#setUTC\r\n   * @public\r\n   * @param {SetPeriod|Object.<SetPeriod, Number>} what - See {@link Dat#set}.\r\n   * @param {Number} [number] - See {@link Dat#set}.\r\n   * @returns {Dat} Returns this.\r\n   * @description UTC version of {@link Dat#set}.\r\n   *\r\n   * @example\r\n   * const date = new Dat(new Date('1999-12-31T23:59:59.999Z'));\r\n   *\r\n   * date.setUTC('ccc', 998).getUTC('ccc'); // 998\r\n   * date.setUTC({\r\n   *   s: 58,\r\n   *   m: 58,\r\n   *   h: 22\r\n   * });\r\n   *\r\n   * date.getUTC('s'); // 58\r\n   * date.getUTC('m'); // 58\r\n   * date.getUTC('h'); // 23\r\n   */\r\n  setUTC(what, number) {\r\n    const date = this.$;\r\n\r\n    if (arguments.length >= 2) {\r\n      what = { [what]: number };\r\n    }\r\n\r\n    what = new Super(what).$;\r\n\r\n    iterate(what, (value, what) => {\r\n      setSwitcher(what, [date, value, 'setUTC']);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Dat#setUTC\r\n   * @public\r\n   * @param {Number} [time] - Time to set.\r\n   * @returns {Dat|Number} - If the time argument is present this is returned otherwise the time is returned.\r\n   * @description Synonym for both\r\n   * [Date#getTime]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime} and\r\n   * [Date#setTime]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/setTime}.\r\n   */\r\n  time(time) {\r\n    const date = this.$;\r\n\r\n    if (arguments.length) {\r\n      date.setTime(time);\r\n    }\r\n\r\n    return date.getTime();\r\n  }\r\n\r\n  toISOString() {\r\n    return this.$.toISOString();\r\n  }\r\n\r\n  toLocaleString() {\r\n    return this.$.toLocaleString();\r\n  }\r\n\r\n  toString() {\r\n    return this.$.toString();\r\n  }\r\n\r\n  valueOf() {\r\n    return this.$.valueOf();\r\n  }\r\n}\r\ndefineProperties(Dat.prototype, {\r\n  [Symbol.toStringTag]: 'Dat'\r\n});\r\n\r\nconstructors[1].push({\r\n  check: isDate,\r\n  cls: Dat\r\n});\r\n\r\n/**\r\n * @function now\r\n * @public\r\n * @returns {Number} Number of milliseconds.\r\n * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/now\r\n * @description Synonym for\r\n * [Date.now]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/now}.\r\n */\r\nfunction now() {\r\n  return Date.now();\r\n}\r\n\r\n/**\r\n * @function date\r\n * @public\r\n * @param {DateLike} [date = new Date()] - Date-like value that is passed to the Date constructor.\r\n * @returns {Dat} New instance of Dat.\r\n * @description Synonym for new Dat(new Date(date));\r\n */\r\nfunction date(date) {\r\n  if (!arguments.length) {\r\n    return new Dat(new Date(now()));\r\n  }\r\n\r\n  date = new Super(date).$;\r\n\r\n  return new Dat(new Date(date));\r\n}\r\n\r\nexport { Dat, now, date };\r\n","/**\r\n * @module helpers/constructURL\r\n * @private\r\n * @description Exports constructURL method.\r\n */\r\n\r\nimport { Arr } from '../Arr';\r\nimport { Str } from '../Str';\r\nimport { switcher } from '../Switcher';\r\nimport { isArray, isObject, isPlainObject } from './checkTypes';\r\nimport { iterate } from './iterate';\r\n\r\n/**\r\n * @type {RegExp}\r\n * @description Absolute URL pattern.\r\n */\r\nconst absoluteURLRegexp = /^(([a-z][a-z\\d+\\-.]*:)?\\/\\/|data:[a-z]+\\/[a-z]+;base64,)/i;\r\nconst querySwitcher = switcher('call', () => new Arr([]))\r\n  .case(isArray, (prefix, query) => {\r\n    let queryParams = new Arr([]);\r\n\r\n    iterate(query, (value) => {\r\n      if (isPlainObject(value) || isArray(value)) {\r\n        queryParams = queryParams.concat(querySwitcher(value, [`${ prefix }[]`]));\r\n\r\n        return;\r\n      }\r\n\r\n      queryParams.push({\r\n        param: `${ prefix }[]`,\r\n        value\r\n      });\r\n    });\r\n\r\n    return queryParams.$;\r\n  })\r\n  .case(isPlainObject, (prefix, query) => {\r\n    let queryParams = new Arr([]);\r\n\r\n    iterate(query, (value, param) => {\r\n      if (isPlainObject(value) || isArray(value)) {\r\n        queryParams = queryParams.concat(querySwitcher(value, [prefix ? `${ prefix }[${ param }]` : param]));\r\n\r\n        return;\r\n      }\r\n\r\n      queryParams.push({\r\n        param: prefix ? `${ prefix }[${ param }]` : param,\r\n        value: isObject(value) ? JSON.stringify(value) : String(value)\r\n      });\r\n    });\r\n\r\n    return queryParams.$;\r\n  });\r\n\r\n/**\r\n * @function constructURL\r\n * @param {String} baseURL - BaseURL of the output URL.\r\n * @param {String} url - Main part of the output URL.\r\n * @param {Object} params - Params to replace in the url expressions like \":param\".\r\n * @param {Object} query - Object with query params.\r\n * @param {Object} [hash = ''] - URL hash.\r\n * @param {Object} [encodeOptions = {}] - If you need to encode something.\r\n * @param {Object} [encodeOptions.params = true] - If you need to encode params.\r\n * @param {Object} [encodeOptions.query = true] - If you need to encode query params.\r\n * @returns {String} Constructed URL.\r\n * @description Function for constructing URL from the base URL, URL, params and query params.\r\n */\r\nexport default (baseURL, url, params, query, hash = '', encodeOptions = {}) => {\r\n  const {\r\n    params: encodeParams = true,\r\n    query: encodeQuery = true\r\n  } = encodeOptions;\r\n  let URL = isAbsolute(url)\r\n    ? url\r\n    : `${ String(baseURL).replace(/\\/+$/, '') }/${ String(url).replace(/^\\/+/, '') }`;\r\n\r\n  iterate(params, (value, param) => {\r\n    URL = new Str(URL).replaceString(`:${ param }`, encode(value, encodeParams)).$;\r\n  });\r\n\r\n  const queryParams = querySwitcher(query, ['']);\r\n\r\n  if (queryParams.length) {\r\n    URL += (URL.indexOf('?') === -1 ? '?' : '&') + queryParams\r\n      .map(({ param, value }) => `${ encode(param, encodeQuery) }=${ encode(value, encodeQuery) }`)\r\n      .join('&');\r\n  }\r\n\r\n  return `${ URL }${ hash ? `#${ hash }` : '' }`;\r\n};\r\n\r\n/**\r\n * @function isAbsolute\r\n * @param {String} url - URL to check if it is absolute or not.\r\n * @returns {Boolean} If the argument URL is absolute or not.\r\n */\r\nfunction isAbsolute(url) {\r\n  return absoluteURLRegexp.test(url);\r\n}\r\n\r\n/**\r\n * @function encode\r\n * @param {String} string - String to encode using encodeURIComponent.\r\n * @param {Boolean} isEncoded - If the string should be encoded.\r\n * @returns {String} Encoded string.\r\n */\r\nfunction encode(string, isEncoded) {\r\n  return isEncoded ? encodeURIComponent(string) : string;\r\n}\r\n","/**\r\n * @module Fetch\r\n * @private\r\n * @mixin\r\n * @description Exports Fetch class.\r\n */\r\n\r\nimport { Promise } from './Promise';\r\nimport { Super } from './Super';\r\nimport { Arr } from './Arr';\r\nimport { Str } from './Str';\r\nimport {\r\n  isArray, isFunction, isString,\r\n  assign, Symbol, validate, iterate, defineProperties\r\n} from './helpers';\r\nimport constructURL from './helpers/constructURL';\r\nimport parseHeaders from './helpers/parseHeaders';\r\nimport transformData from './helpers/transformData';\r\n\r\n/**\r\n * @typedef {'get'|'post'|'delete'|'head'|'put'|'patch'} FetchMethod\r\n * @public\r\n */\r\n\r\n/**\r\n * @typedef {Object} FetchConfig\r\n * @public\r\n * @property {Array.<AfterMiddleware|FetchErrorAfterMiddleware>} [after]\r\n * @property {Object} [auth]\r\n * @property {String} [auth.username]\r\n * @property {String} [auth.password]\r\n * @property {String} [baseURL]\r\n * @property {Array.<BeforeMiddleware|FetchErrorBeforeMiddleware>} [before]\r\n * @property {*} [data]\r\n * @property {Object.<String, String[]>} [headers]\r\n * @property {FetchMethod} [method]\r\n * @property {Object} [params]\r\n * @property {Object} [query]\r\n * @property {String} [responseType]\r\n * @property {Number} [timeout]\r\n * @property {String} [url]\r\n * @property {Boolean} [withCredentials]\r\n */\r\n\r\n/**\r\n * @typedef {Object} FetchResponse\r\n * @public\r\n * @property {FetchConfig} config\r\n * @property {*} data\r\n * @property {Object.<String, String>} headers\r\n * @property {Number} status\r\n * @property {String} statusText\r\n * @property {XMLHttpRequest} xhr\r\n */\r\n\r\n/**\r\n * @callback FetchAfterMiddleware\r\n * @public\r\n * @param {FetchResponse} config - Fetch response.\r\n */\r\n\r\n/**\r\n * @callback FetchErrorAfterMiddleware\r\n * @public\r\n * @param {Error|*} err - Thrown error.\r\n * @param {FetchResponse} config - Fetch response.\r\n */\r\n\r\n/**\r\n * @callback FetchBeforeMiddleware\r\n * @public\r\n * @param {FetchConfig} config - Fetch config.\r\n */\r\n\r\n/**\r\n * @callback FetchErrorBeforeMiddleware\r\n * @public\r\n * @param {Error|*} err - Thrown error.\r\n * @param {FetchConfig} config - Fetch config.\r\n */\r\n\r\n/**\r\n * @callback FetchConfigFunction\r\n * @public\r\n * @param {FetchConfig} config\r\n */\r\n\r\nconst defaults = {\r\n  after: [],\r\n  auth: {\r\n    username: '',\r\n    password: ''\r\n  },\r\n  baseURL: global.location.origin,\r\n  before: [],\r\n  data: null,\r\n  headers: {},\r\n  method: 'get',\r\n  params: {},\r\n  query: {},\r\n  responseType: '',\r\n  timeout: 0,\r\n  url: '',\r\n  withCredentials: false\r\n};\r\nconst uploadMethods = new Arr(['post', 'put']);\r\n\r\n/**\r\n * @class Fetch\r\n * @extends Function\r\n * @public\r\n * @param {FetchConfig} [config = {}] - A number to wrap.\r\n * @returns {Fetch} Instance of Fetch.\r\n * An instance of Fetch is a function that simply calls #request with the same arguments.\r\n * @description Class for fetching data.\r\n *\r\n * @example\r\n * const fetch = new Fetch();\r\n *\r\n * fetch('/data').then((res) => {\r\n *   console.log(res);\r\n * });\r\n */\r\nclass Fetch extends Function {\r\n  constructor(config = {}) {\r\n    super();\r\n\r\n    function fetch() {\r\n      return fetch.request.apply(fetch, arguments);\r\n    }\r\n\r\n    const conf = new Super({}).deepAssign(defaults, config).$;\r\n\r\n    if (conf.before.indexOf(fetchBeforeMiddleware) === -1) {\r\n      conf.before.push(fetchBeforeMiddleware);\r\n    }\r\n\r\n    /**\r\n     * @member {FetchConfig} Fetch#$$\r\n     * @type {FetchConfig}\r\n     * @public\r\n     * @description Fetch config.\r\n     */\r\n    Object.defineProperty(fetch, '$$', { value: conf });\r\n    Object.setPrototypeOf(fetch, Fetch.prototype);\r\n\r\n    return fetch;\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#after\r\n   * @public\r\n   * @param {FetchAfterMiddleware|FetchErrorAfterMiddleware} middleware - Middleware to add.\r\n   * @param {Boolean|*} [afterAll = true] - Boolean parameter where to put the middleware.\r\n   * Truthy parameter stands for \"to the end\" and falsey for \"to the beginning\".\r\n   * @returns {Fetch} Returns this.\r\n   * @description Middleware that is called after the request.\r\n   * If the middleware has 2 or less arguments it's treated as success middleware otherwise as an error one.\r\n   * If the middleware returns a promise it becomes a part of the middleware chain.\r\n   *\r\n   * @example\r\n   * const fetch = new Fetch()\r\n   *   .after((err, res) => {\r\n   *     console.log(err);\r\n   *\r\n   *     throw err;\r\n   *   })\r\n   *   .after((res) => {\r\n   *     res.json = D(res.data).parseJSON():\r\n   *   });\r\n   */\r\n  after(middleware, afterAll = true) {\r\n    validate([middleware], ['function'], 'Fetch#after');\r\n\r\n    const { after } = this.$$;\r\n\r\n    if (afterAll) {\r\n      after.push(middleware);\r\n    } else {\r\n      after.unshift(middleware);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#before\r\n   * @public\r\n   * @param {FetchBeforeMiddleware|FetchErrorBeforeMiddleware} middleware - Middleware to add.\r\n   * @param {Boolean|*} [beforeAll = true] - Boolean parameter where to put the middleware.\r\n   * Truthy parameter stands for \"to the beginning\" and falsey for \"to the end\".\r\n   * @returns {Fetch} Returns this.\r\n   * @description Middleware that is called before the request.\r\n   * If the middleware has 2 or less arguments it's treated as success middleware otherwise as an error one.\r\n   * If the middleware returns a promise it becomes a part of the middleware chain.\r\n   *\r\n   * @example\r\n   * const fetch = new Fetch()\r\n   *   .before((err, req) => {\r\n   *     console.log(err);\r\n   *\r\n   *     throw err;\r\n   *   })\r\n   *   .before((req) => {\r\n   *     if (req.url === '/veryLongRequest') {\r\n   *       req.timeout = 30000;\r\n   *     }\r\n   *   });\r\n   */\r\n  before(middleware, beforeAll = true) {\r\n    validate([middleware], ['function'], 'Fetch#before');\r\n\r\n    const { before } = this.$$;\r\n\r\n    if (beforeAll) {\r\n      before.unshift(middleware);\r\n    } else {\r\n      before.push(middleware);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#config\r\n   * @public\r\n   * @param {String|FetchConfig|FetchConfigFunction} [property] - If it's a function\r\n   * it's called with the fetch config argument, if it's a string the value argument\r\n   * is used for assigning this property to the fetch config\r\n   * otherwise it's assigned to the fetch config.\r\n   * @param {*} [value] - See the property argument.\r\n   * @returns {Fetch|FetchConfig} If the argument is present this is returned otherwise the fetch config is returned.\r\n   * @description Method for getting and setting config.\r\n   *\r\n   * @example\r\n   * const fetch = new Fetch();\r\n   *\r\n   * fetch.config({ baseURL: 5000 });\r\n   * fetch.config().timeout; // 5000\r\n   *\r\n   * fetch.config((config) => {\r\n   *   config.baseURL += '/api';\r\n   * });\r\n   */\r\n  config(property, value) {\r\n    const conf = this.$$;\r\n\r\n    if (!arguments.length) {\r\n      return conf;\r\n    }\r\n\r\n    if (isFunction(property)) {\r\n      property(conf);\r\n    } else {\r\n      if (arguments.length >= 2) {\r\n        property = { [property]: value };\r\n      }\r\n\r\n      new Super(conf).deepAssign(property);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#delete\r\n   * @public\r\n   * @param {String} [url] - See {@link Fetch#request}.\r\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\r\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\r\n   * @description Shorthand for #request for delete requests.\r\n   *\r\n   * @example\r\n   * new Fetch().delete('/data').then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   */\r\n  delete(url, config = {}) {\r\n    if (!isString(url)) {\r\n      config = url;\r\n      url = undefined;\r\n    }\r\n\r\n    return this.request(url, assign({ method: 'delete' }, config));\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#get\r\n   * @public\r\n   * @param {String} [url] - See {@link Fetch#request}.\r\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\r\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\r\n   * @description Shorthand for #request for get requests.\r\n   *\r\n   * @example\r\n   * new Fetch().get('/data').then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   */\r\n  get(url, config = {}) {\r\n    if (!isString(url)) {\r\n      config = url;\r\n      url = undefined;\r\n    }\r\n\r\n    return this.request(url, assign({ method: 'get' }, config));\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#head\r\n   * @public\r\n   * @param {String} [url] - See {@link Fetch#request}.\r\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\r\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\r\n   * @description Shorthand for #request for head requests.\r\n   *\r\n   * @example\r\n   * new Fetch().head('/data').then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   */\r\n  head(url, config = {}) {\r\n    if (!isString(url)) {\r\n      config = url;\r\n      url = undefined;\r\n    }\r\n\r\n    return this.request(url, assign({ method: 'head' }, config));\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#headers\r\n   * @public\r\n   * @param {String|Object.<String, String|String[]>} header - A header string or an object of the following format:\r\n   * { [header]: [value1, value2, ...] }.\r\n   * @param {String|String[]} [value] - Header value. If the first argument is a string\r\n   * this has to be a header value or an array of header values.\r\n   * @returns {Fetch} Returns this.\r\n   * @description Method for setting request headers.\r\n   *\r\n   * @example\r\n   * const fetch = new Fetch()\r\n   *   .headers('Header1', 'Value')\r\n   *   .headers('Header2', ['Value1', 'Value2'])\r\n   *   .headers({\r\n   *     Header3: ['Value1', 'Value2']\r\n   *   });\r\n   */\r\n  headers(header, value) {\r\n    const { headers } = this.$$;\r\n\r\n    if (arguments.length >= 2) {\r\n      header = { [header]: value };\r\n    }\r\n\r\n    iterate(header, (value, header) => {\r\n      const array = headers[header] || [];\r\n      const toPush = isArray(value) ? value : [value];\r\n\r\n      (headers[header] = array).push.apply(array, toPush);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#instance\r\n   * @public\r\n   * @param {FetchConfig} [config] - New config if needed.\r\n   * @returns {Fetch} New instance of Fetch.\r\n   * @description Method for creating new fetch instances based on already existent.\r\n   *\r\n   * @example\r\n   * const mainFetch = new Fetch({\r\n   *   baseURL: '//other.domain.com/api',\r\n   *   withCredentials: true\r\n   * });\r\n   *\r\n   * const longFetch = mainFetch.instance({\r\n   *   timeout: 10000\r\n   * });\r\n   */\r\n  instance(config = {}) {\r\n    const dataConfig = new Super(config).hasOwn('data')\r\n      ? { data: config.data }\r\n      : {};\r\n\r\n    delete config.data;\r\n\r\n    const conf = new Super({})\r\n      .deepAssign(this.$$, config)\r\n      .assign(dataConfig)\r\n      .$;\r\n\r\n    return new Fetch(conf);\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#patch\r\n   * @public\r\n   * @param {String} [url] - See {@link Fetch#request}.\r\n   * @param {*} [data] - Additional parameter for uploading data.\r\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\r\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\r\n   * @description Shorthand for #request for head requests.\r\n   *\r\n   * @example\r\n   * new Fetch().patch('/data', { user: 'John' }).then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   */\r\n  patch(url, data = {}, config = {}) {\r\n    if (arguments.length && !isString(url)) {\r\n      config = data;\r\n      data = url;\r\n      url = undefined;\r\n    }\r\n\r\n    return this.request(url, assign({ method: 'patch', data }, config));\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#post\r\n   * @public\r\n   * @param {String} [url] - See {@link Fetch#request}.\r\n   * @param {*} [data] - Additional parameter for uploading data.\r\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\r\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\r\n   * @description Shorthand for #request for head requests.\r\n   *\r\n   * @example\r\n   * new Fetch().post('/data', { user: 'John' }).then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   */\r\n  post(url, data = {}, config = {}) {\r\n    if (arguments.length && !isString(url)) {\r\n      config = data;\r\n      data = url;\r\n      url = undefined;\r\n    }\r\n\r\n    return this.request(url, assign({ method: 'post', data }, config));\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#put\r\n   * @public\r\n   * @param {String} [url] - See {@link Fetch#request}.\r\n   * @param {*} [data] - Additional parameter for uploading data.\r\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\r\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\r\n   * @description Shorthand for #request for head requests.\r\n   *\r\n   * @example\r\n   * new Fetch().put('/data', { user: 'John' }).then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   */\r\n  put(url, data = {}, config = {}) {\r\n    if (arguments.length && !isString(url)) {\r\n      config = data;\r\n      data = url;\r\n      url = undefined;\r\n    }\r\n\r\n    return this.request(url, assign({ method: 'put', data }, config));\r\n  }\r\n\r\n  /**\r\n   * @method Fetch#request\r\n   * @public\r\n   * @param {String} [url] - URL for the request.\r\n   * @param {FetchConfig} [config] - Additional config for this particular request.\r\n   * @returns {Promise.<FetchResponse, Error>} Promise that is resolved with the request response.\r\n   * @description Main function for making requests. All request methods call this method\r\n   * including the fetch instance itself.\r\n   *\r\n   * @example\r\n   * const fetch = new Fetch();\r\n   *\r\n   * fetch.request('/data', { timeout: 1000 }).then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   *\r\n   * fetch.request({ timeout: 1000 }).then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   *\r\n   * fetch.request().then((res) => {\r\n   *   console.log(res);\r\n   * });\r\n   */\r\n  request(url, config = {}) {\r\n    if (arguments.length === 1 && !isString(url)) {\r\n      config = url;\r\n    }\r\n\r\n    const dataConfig = new Super(config).hasOwn('data')\r\n      ? { data: config.data }\r\n      : {};\r\n    const urlConfig = isString(url)\r\n      ? { url }\r\n      : {};\r\n\r\n    delete config.data;\r\n\r\n    const conf = new Super(this.$$)\r\n      .deepClone()\r\n      .deepAssign(urlConfig, config)\r\n      .assign(dataConfig)\r\n      .$;\r\n\r\n    let xhr;\r\n    let promise = Promise.resolve();\r\n\r\n    iterate(conf.before, (middleware) => {\r\n      promise = promise.then(() => {\r\n        if (middleware.length >= 2) {\r\n          return Promise.resolve();\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n          resolve(middleware(conf));\r\n        });\r\n      }, (err) => {\r\n        if (middleware.length < 2) {\r\n          return Promise.reject(err);\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n          resolve(middleware(err, conf));\r\n        });\r\n      });\r\n    });\r\n\r\n    promise = promise.then(() => new Promise((resolve, reject) => {\r\n      const {\r\n        after,\r\n        auth: {\r\n          username,\r\n          password\r\n        },\r\n        data,\r\n        headers,\r\n        method,\r\n        onprogress,\r\n        responseType,\r\n        timeout,\r\n        url,\r\n        withCredentials\r\n      } = conf;\r\n\r\n      xhr = new XMLHttpRequest();\r\n\r\n      xhr.open(method, url, true, username, password);\r\n\r\n      iterate(headers, (value, header) => {\r\n        xhr.setRequestHeader(header, value);\r\n      });\r\n\r\n      if (onprogress) {\r\n        if (uploadMethods.indexOfStrict(method) === -1) {\r\n          xhr.onprogress = onprogress;\r\n        } else {\r\n          xhr.upload.onprogress = onprogress;\r\n        }\r\n      }\r\n\r\n      xhr.onabort = () => {\r\n        reject(new Error('Request was aborted'));\r\n\r\n        xhr = null;\r\n      };\r\n\r\n      xhr.onerror = () => {\r\n        reject(new Error('Network error'));\r\n\r\n        xhr = null;\r\n      };\r\n\r\n      xhr.ontimeout = () => {\r\n        reject(new Error('Request time exceeded'));\r\n\r\n        xhr = null;\r\n      };\r\n\r\n      xhr.onreadystatechange = () => {\r\n        if (!xhr || !xhr.status || xhr.readyState !== 4) {\r\n          return;\r\n        }\r\n\r\n        const response = {\r\n          config: conf,\r\n          data: !responseType || responseType === 'text' ? xhr.responseText : xhr.response,\r\n          headers: parseHeaders(xhr.getAllResponseHeaders()),\r\n          status: xhr.status === 1223 ? 204 : xhr.status,\r\n          statusText: xhr.status === 1223 ? 'No Content' : xhr.statusText,\r\n          xhr\r\n        };\r\n\r\n        let promise = Promise.resolve();\r\n\r\n        iterate(after, (middleware) => {\r\n          promise = promise.then(() => {\r\n            if (middleware.length >= 2) {\r\n              return Promise.resolve();\r\n            }\r\n\r\n            return new Promise((resolve) => {\r\n              resolve(middleware(response));\r\n            });\r\n          }, (err) => {\r\n            if (middleware.length < 2) {\r\n              return Promise.reject(err);\r\n            }\r\n\r\n            return new Promise((resolve) => {\r\n              resolve(middleware(err, response));\r\n            });\r\n          });\r\n        });\r\n\r\n        resolve(promise\r\n          .then(() => response)\r\n          .catch((err) => {\r\n            try {\r\n              err.response = response;\r\n            } catch (e) {\r\n              throw err;\r\n            }\r\n\r\n            throw err;\r\n          })\r\n        );\r\n      };\r\n\r\n      xhr.responseType = responseType;\r\n      xhr.timeout = Number(timeout) || 0;\r\n      xhr.withCredentials = !!withCredentials;\r\n\r\n      xhr.send(data);\r\n    }));\r\n\r\n    promise.abort = function abort() {\r\n      if (xhr) {\r\n        xhr.abort();\r\n      }\r\n\r\n      return this;\r\n    };\r\n\r\n    return promise;\r\n  }\r\n}\r\n\r\ndefineProperties(Fetch.prototype, {\r\n  [Symbol.toStringTag]: 'Fetch'\r\n});\r\n\r\n/**\r\n * @function fetchBeforeMiddleware\r\n * @private\r\n * @param {FetchConfig} config\r\n * @description Built-in before middleware for url, data, method, headers construction.\r\n */\r\nfunction fetchBeforeMiddleware(config) {\r\n  const {\r\n    baseURL,\r\n    data,\r\n    headers,\r\n    method,\r\n    params,\r\n    query,\r\n    url\r\n  } = config;\r\n  const METHOD = method.toUpperCase();\r\n\r\n  config.method = METHOD;\r\n  config.url = constructURL(baseURL, url, params, query);\r\n  config.data = transformData(data, METHOD, headers);\r\n  config.headers = new Super(headers).object((headers, values, header) => {\r\n    header = new Str(header)\r\n      .toCapitalCase()\r\n      .replace(/\\s+/g, '-')\r\n      .$;\r\n\r\n    headers[header] = values.join(', ');\r\n  }).$;\r\n}\r\n\r\n/**\r\n * @const {Fetch} fetch\r\n * @type {Fetch}\r\n * @public\r\n * @description Empty instance of Fetch.\r\n */\r\nconst fetch = new Fetch();\r\n\r\nexport { Fetch, fetch };\r\n","/**\r\n * @module Router\r\n * @private\r\n * @mixin\r\n * @description Exports Router.\r\n */\r\n\r\nimport { Arr } from './Arr';\r\nimport { Elem, win } from './Elem';\r\nimport { self } from './Func';\r\nimport { Str } from './Str';\r\nimport { Super } from './Super';\r\nimport { switcher } from './Switcher';\r\nimport { assign, isNil, isRegExp, isString } from './helpers';\r\nimport constructURL from './helpers/constructURL';\r\nimport resolveURL from './helpers/resolveURL';\r\n\r\nconst Routes = new Arr([]);\r\nconst subscribers = new Super({});\r\nconst {\r\n  history,\r\n  location,\r\n  location: {\r\n    origin,\r\n    href\r\n  }\r\n} = global;\r\nlet initialized;\r\nlet pushed;\r\nlet wasRoot;\r\nlet wasDefault;\r\nlet rootRoute;\r\nlet redirectRoute;\r\nlet RedirectRoute;\r\nlet defaultRoute;\r\nlet DefaultRoute;\r\nlet currentRoute;\r\nlet currentRouteParams;\r\n\r\nconst pathSwitcher = switcher('call', () => {\r\n  throw new Error('State path must be a string, a regular expression or undefined! (at registerState)');\r\n})\r\n  .case(isRegExp, (path) => ({\r\n    path: path.source.replace(/\\\\\\//g, '/'),\r\n    url: path,\r\n    params: {}\r\n  }))\r\n  .case(isNil, () => ({\r\n    path: '/',\r\n    url: '/',\r\n    params: {}\r\n  }))\r\n  .case(isString, (path) => {\r\n    if (path.indexOf('/')) {\r\n      throw new Error('If route path is a string it must start with \"/\"! (at registerState)');\r\n    }\r\n\r\n    const index = path.indexOf('?');\r\n    const params = new Super({});\r\n    let newURL = '';\r\n    const newPath = new Str(path)\r\n      .slice(0, index === -1 ? path.length : index)\r\n      .replace(/^\\/|\\/$/g)\r\n      .split(/\\//)\r\n      .map((part, i, array) => {\r\n        if (!part && array.length > 1) {\r\n          throw new Error('If route path is a string it must not contain \"//\" or end with \"/\"! (at makeRoute)');\r\n        }\r\n\r\n        const index = part.indexOf(':');\r\n\r\n        if (index > 0) {\r\n          throw new Error('If route path is a string resource part must be either a string or an URL parameter! (at makeRoute)');\r\n        }\r\n\r\n        if (index === -1) {\r\n          return {\r\n            url: part,\r\n            value: part\r\n          };\r\n        }\r\n\r\n        const {\r\n          name,\r\n          regexp = /[^/]*/\r\n        } = resolveParameter(\r\n          part.slice(1),\r\n          'URL parameter must not be an empty string or contain characters besides \"a-zA-Z_$\"! (at makeRoute)',\r\n          'URL parameter regexp validator must be within parentheses (e.g. :userId(\\\\d+) and not contain ones)! (at makeRoute)'\r\n        );\r\n\r\n        params.$[name] = params.count;\r\n\r\n        return {\r\n          type: 'param',\r\n          url: `:${ name }`,\r\n          value: regexp\r\n        };\r\n      })\r\n      .word(({ type, url, value }) => {\r\n        let newPath;\r\n\r\n        if (type === 'param') {\r\n          newPath = `(${ value.source.replace(/\\\\\\//g, '/') })`;\r\n        } else {\r\n          newPath = new Str(value).escapeRegExp().$;\r\n        }\r\n\r\n        newURL += `/${ url }`;\r\n\r\n        return `/${ newPath }`;\r\n      });\r\n\r\n    return {\r\n      path: newPath,\r\n      url: newURL,\r\n      params: params.$\r\n    };\r\n  });\r\n\r\nclass Route {\r\n  constructor(options) {\r\n    options = options || {};\r\n\r\n    const {\r\n      name,\r\n      path = '/',\r\n      abstract = false,\r\n      parent,\r\n      decodeQuery = true,\r\n      encodeQuery = true,\r\n      decodeParams = true,\r\n      encodeParams = true\r\n    } = options || {};\r\n    const {\r\n      url: relativeURL,\r\n      path: relativePath,\r\n      params\r\n    } = pathSwitcher(path);\r\n    const query = {};\r\n\r\n    new Super(this).assign({\r\n      name,\r\n      parentName: parent,\r\n      abstract: !!abstract,\r\n      children: new Arr([]),\r\n      decodeParams: !!decodeParams,\r\n      decodeQuery: !!decodeQuery,\r\n      encodeParams: !!encodeParams,\r\n      encodeQuery: !!encodeQuery,\r\n      params,\r\n      query,\r\n      relativePath,\r\n      relativeURL\r\n    });\r\n\r\n    const index = isString(path) ? path.indexOf('?') : -1;\r\n\r\n    if (index !== -1) {\r\n      new Str(path)\r\n        .replace(/&$/)\r\n        .slice(index + 1)\r\n        .split('&')\r\n        .forEach((param) => {\r\n          const {\r\n            name,\r\n            regexp = /[\\s\\S]*/\r\n          } = resolveParameter(\r\n            param,\r\n            'Query parameter must not be an empty string or contain characters besides \"a-zA-Z_$\"! (at makeRoute)',\r\n            'Query parameter regexp validator must be within parentheses (e.g. :userId(\\\\d+)) and not contain them! (at makeRoute)'\r\n          );\r\n\r\n          query[name] = new RegExp(`^${ regexp.source.replace(/\\\\\\//g, '/') }$`);\r\n        });\r\n    }\r\n\r\n    if (name === defaultRoute && (\r\n        new Super(params).count\r\n        || new Super(query).count\r\n      )) {\r\n      throw new Error('Default route must not have URL or query params! (at makeRoute)');\r\n    }\r\n  }\r\n}\r\n\r\nconst baseRoute = new Route();\r\n\r\nfunction initRouter() {\r\n  if (initialized) {\r\n    return;\r\n  }\r\n\r\n  initialized = true;\r\n  RedirectRoute = (Routes.find(({ name }) => name === redirectRoute) || {}).value;\r\n  DefaultRoute = (Routes.find(({ name }) => name === defaultRoute) || {}).value;\r\n\r\n  if (redirectRoute && !RedirectRoute) {\r\n    throw new Error(`There is no specified fallback route (\"${ redirectRoute }\")! (at initRouter)`);\r\n  }\r\n\r\n  Routes\r\n    .forEach((route) => {\r\n      const {\r\n        parentName,\r\n        name\r\n      } = route;\r\n      const ParentName = parentName || rootRoute;\r\n      const { value: parent } = Routes.find(({ name }) => name === ParentName) || {};\r\n\r\n      if (!parent) {\r\n        throw new Error(`No such parent route (\"${ ParentName }\") found for the route (\"${ name }\")! (at initRouter)`);\r\n      }\r\n\r\n      if (!parent.abstract && name !== rootRoute) {\r\n        throw new Error(`Parent route must be abstract (for \"${ name }\")! (at initRouter)`);\r\n      }\r\n\r\n      if (name !== rootRoute) {\r\n        route.parentName = ParentName;\r\n      }\r\n\r\n      route.parent = name === rootRoute\r\n        ? baseRoute\r\n        : parent;\r\n    })\r\n    .forEach((route) => {\r\n      const {\r\n        name,\r\n        parent: {\r\n          params: parentParams,\r\n          query: parentQuery,\r\n          path\r\n        },\r\n        params,\r\n        query,\r\n        relativeURL,\r\n        relativePath\r\n      } = route;\r\n      let proto = route;\r\n      let count = 0;\r\n      let newPath = relativePath;\r\n      let newURL = '';\r\n\r\n      if (isRegExp(path)) {\r\n        throw new Error('URL regexp route cannot be extended! (at initRouter)');\r\n      }\r\n\r\n      while (proto = proto.parent) {\r\n        count += new Super(proto.params).count;\r\n        newPath = proto.relativePath + newPath;\r\n        newURL = proto.relativeURL + newURL;\r\n\r\n        proto.children.push(route);\r\n      }\r\n\r\n      newPath = new RegExp(`^${ newPath.replace(/\\/+/g, '/').replace(/\\/$/, '') || '/' }$`);\r\n      newURL = isRegExp(relativeURL)\r\n        ? newPath\r\n        : (newURL + relativeURL).replace(/\\/+/g, '/').replace(/\\/$/, '') || '/';\r\n\r\n      new Super(query).proto(parentQuery);\r\n      new Super(params)\r\n        .proto(parentParams)\r\n        .forEach((value, key, params) => {\r\n          params[key] += count;\r\n        });\r\n\r\n      if (name === defaultRoute && (\r\n          new Super(params).count\r\n          || new Super(query).count\r\n        )) {\r\n        throw new Error('Default route must not have URL or query params! (at initRouter)');\r\n      }\r\n\r\n      route.url = newURL;\r\n      route.validatePath = newPath;\r\n    });\r\n\r\n  changeRoute();\r\n\r\n  win.on({\r\n    popstate() {\r\n      if (location.href !== href) {\r\n        pushed = true;\r\n      }\r\n\r\n      if (pushed) {\r\n        changeRoute();\r\n      }\r\n    },\r\n    click(e) {\r\n      const closestLink = new Elem(e.target).closest('a');\r\n\r\n      if (closestLink.length && closestLink.attr('target') !== '_blank') {\r\n        e.preventDefault();\r\n\r\n        forward(closestLink.attr('href') || '', true);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction makeRoute(options) {\r\n  const {\r\n    name,\r\n    path,\r\n    abstract,\r\n    root,\r\n    fallbackTo,\r\n    default: isDefault\r\n  } = options || {};\r\n\r\n  if (initialized) {\r\n    console.warn('Router was already initialized (at makeRoute)');\r\n\r\n    return self;\r\n  }\r\n\r\n  if (wasRoot && root) {\r\n    throw new Error(`There can't be two root routes (\"${ rootRoute }\" and \"${ name }\")! (at makeRoute)`);\r\n  }\r\n\r\n  if (wasDefault && isDefault) {\r\n    throw new Error(`There can't be two default routes (\"${ defaultRoute }\" and \"${ name }\")! (at makeRoute)`);\r\n  }\r\n\r\n  if (!name) {\r\n    throw new Error('State must have a non-empty string \"name\" property! (at makeRoute)');\r\n  }\r\n\r\n  if (Routes.some(({ name: Name }) => Name === name)) {\r\n    throw new Error('State must have unique \"name\" property! (at makeRoute)');\r\n  }\r\n\r\n  if (root) {\r\n    wasRoot = true;\r\n    rootRoute = name;\r\n    options.parent = null;\r\n\r\n    if (fallbackTo) {\r\n      redirectRoute = fallbackTo;\r\n    }\r\n  }\r\n\r\n  if (isDefault) {\r\n    wasDefault = true;\r\n    defaultRoute = name;\r\n\r\n    if (abstract) {\r\n      throw new Error('Default route can\\'t be abstract! (at makeRoute)');\r\n    }\r\n\r\n    if (isRegExp(path)) {\r\n      throw new Error('Default route can\\'t have a regexp path! (at makeRoute)');\r\n    }\r\n  }\r\n\r\n  const route = new Route(options);\r\n\r\n  Routes.push(route);\r\n\r\n  let unsubscribe;\r\n  let routeLoaded;\r\n\r\n  return (Block) => (\r\n    class extends Block {\r\n      static template = `<div class=\"dwayne-route route-${ name }\" d-show=\"{__isCurrentRoute__}\">${ Block.template }</div>`;\r\n\r\n      constructor(opts) {\r\n        super(opts);\r\n\r\n        if (root) {\r\n          initRouter();\r\n\r\n          const router = {\r\n            buildURL(name, options = {}) {\r\n              const { value: route } = Routes.find(({ name: n }) => n === name) || {};\r\n\r\n              if (!route) {\r\n                throw new Error(`There are no routes with name \"${ name }\"! (at router.buildURL)`);\r\n              }\r\n\r\n              const {\r\n                url,\r\n                encodeParams,\r\n                encodeQuery\r\n              } = route;\r\n\r\n              if (isRegExp(url)) {\r\n                throw new Error('URL can be built only from the string URLs! (at router.buildURL)');\r\n              }\r\n\r\n              const {\r\n                params = {},\r\n                query = {},\r\n                hash = ''\r\n              } = options;\r\n\r\n              return constructURL(origin, url, params, query, hash, {\r\n                params: encodeParams,\r\n                query: encodeQuery\r\n              });\r\n            },\r\n            go(name, options) {\r\n              forward(router.buildURL(name, options), true);\r\n            },\r\n            goToURL(url) {\r\n              forward(url, true);\r\n            },\r\n            pushURL(url) {\r\n              changeHistory(url, true);\r\n            },\r\n            redirect(name, options) {\r\n              forward(router.buildURL(name, options));\r\n            },\r\n            redirectToURL(url) {\r\n              forward(url);\r\n            },\r\n            replaceURL(url) {\r\n              changeHistory(url);\r\n            }\r\n          };\r\n\r\n          this.global.router = router;\r\n        }\r\n\r\n        this.__isCurrentRoute__ = (\r\n          route === currentRoute\r\n          || route.children.indexOf(currentRoute) !== -1\r\n        );\r\n        this.args.route = currentRouteParams;\r\n\r\n        routeLoaded = false;\r\n        unsubscribe = subscribe(name, () => {\r\n          const isCurrentRoute = (\r\n            route === currentRoute\r\n            || route.children.indexOf(currentRoute) !== -1\r\n          );\r\n\r\n          if (isCurrentRoute) {\r\n            callBeforeLoad(this);\r\n          } else {\r\n            callBeforeLeave(this);\r\n          }\r\n\r\n          this.args.route = currentRouteParams;\r\n          this.__isCurrentRoute__ = isCurrentRoute;\r\n        });\r\n\r\n        if (this.__isCurrentRoute__) {\r\n          callBeforeLoad(this);\r\n        }\r\n      }\r\n\r\n      beforeRemove() {\r\n        unsubscribe();\r\n        unsubscribe = null;\r\n        callBeforeLeave(this);\r\n        super.beforeRemove();\r\n      }\r\n    }\r\n  );\r\n\r\n  function callBeforeLoad(route) {\r\n    if (route.beforeLoadRoute && !routeLoaded) {\r\n      try {\r\n        route.beforeLoadRoute();\r\n      } catch (err) {\r\n        console.error(`Uncaught error in ${ name }#beforeLeave:`, err);\r\n      }\r\n    }\r\n\r\n    routeLoaded = true;\r\n  }\r\n\r\n  function callBeforeLeave(route) {\r\n    if (route.beforeLeaveRoute && routeLoaded) {\r\n      try {\r\n        route.beforeLeaveRoute();\r\n      } catch (err) {\r\n        console.error(`Uncaught error in ${ name }#beforeLeave:`, err);\r\n      }\r\n    }\r\n\r\n    routeLoaded = false;\r\n  }\r\n}\r\n\r\nfunction subscribe(name, callback) {\r\n  subscribers.$[name] = callback;\r\n\r\n  return () => {\r\n    subscribers.delete(name);\r\n  };\r\n}\r\n\r\nfunction forward(url, push) {\r\n  changeHistory(url, push);\r\n  changeRoute();\r\n}\r\n\r\nfunction changeRoute() {\r\n  const route = findRouteByURL();\r\n\r\n  if (route) {\r\n    ({\r\n      route: currentRoute,\r\n      ...currentRouteParams\r\n    } = route);\r\n    assign(currentRouteParams, {\r\n      name: currentRoute.name,\r\n      host: location.host,\r\n      hostname: location.hostname,\r\n      href: location.href,\r\n      origin: location.origin,\r\n      pathname: location.pathname,\r\n      port: location.port,\r\n      protocol: location.protocol,\r\n      search: location.search\r\n    });\r\n  } else {\r\n    if (redirectRoute) {\r\n      const {\r\n        url,\r\n        encodeParams,\r\n        encodeQuery\r\n      } = RedirectRoute;\r\n\r\n      return forward(constructURL(origin, url, {}, {}, '', {\r\n        params: encodeParams,\r\n        query: encodeQuery\r\n      }));\r\n    }\r\n\r\n    currentRoute = null;\r\n    currentRouteParams = null;\r\n  }\r\n\r\n  subscribers.forEach((callback) => callback());\r\n}\r\n\r\nfunction findRouteByURL() {\r\n  const pathname = location.pathname || '/';\r\n  const search = location.search || '';\r\n  let urlParams;\r\n\r\n  Routes.some((route) => {\r\n    if (route.abstract) {\r\n      return;\r\n    }\r\n\r\n    const {\r\n      url: routeURL,\r\n      validatePath,\r\n      params,\r\n      query: requiredQuery,\r\n      decodeParams,\r\n      decodeQuery\r\n    } = route;\r\n    const resolved = resolveURL(decodeQuery);\r\n    const query = new Super(resolved.query);\r\n    const eventualParams = {};\r\n    const match = (\r\n      (pathname.replace(/\\/$/, '') || '/') +\r\n      (isRegExp(routeURL) ? search : '')\r\n    ).match(validatePath);\r\n\r\n    if (!match) {\r\n      return;\r\n    }\r\n\r\n    /* eslint guard-for-in: 0 */\r\n    for (const param in requiredQuery) {\r\n      if (!query.hasOwn(param) || !requiredQuery[param].test(query.$[param])) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    match.shift();\r\n\r\n    for (const param in params) {\r\n      eventualParams[param] = decode(match[params[param]], decodeParams);\r\n    }\r\n\r\n    urlParams = {\r\n      route,\r\n      params: eventualParams,\r\n      query: query.$,\r\n      hash: resolved.hash\r\n    };\r\n\r\n    return true;\r\n  });\r\n\r\n  if (urlParams) {\r\n    return urlParams;\r\n  }\r\n\r\n  if (!defaultRoute) {\r\n    return;\r\n  }\r\n\r\n  return {\r\n    route: DefaultRoute,\r\n    params: {},\r\n    ...resolveURL(DefaultRoute.decodeQuery)\r\n  };\r\n}\r\n\r\nfunction decode(string, decodeParams) {\r\n  return decodeParams\r\n    ? decodeURIComponent(string)\r\n    : string;\r\n}\r\n\r\nfunction changeHistory(url, push) {\r\n  try {\r\n    history[push ? 'pushState' : 'replaceState'](null, null, url);\r\n    pushed = true;\r\n  } catch (err) {\r\n    location.href = url;\r\n  }\r\n}\r\n\r\nfunction resolveParameter(param, nameErrorName, valueErrorName) {\r\n  const nameMatch = param.match(/^[a-z_$]+/i);\r\n\r\n  if (!nameMatch) {\r\n    throw new Error(nameErrorName);\r\n  }\r\n\r\n  const name = nameMatch[0];\r\n  const value = param.slice(name.length);\r\n  let regexp;\r\n\r\n  if (value && (value.indexOf('(') || value.indexOf(')') !== value.length - 1)) {\r\n    throw new Error(valueErrorName);\r\n  }\r\n\r\n  if (value) {\r\n    regexp = new RegExp(value.slice(1, -1));\r\n  }\r\n\r\n  return {\r\n    name,\r\n    regexp\r\n  };\r\n}\r\n\r\nexport { makeRoute };\r\n","/* eslint no-nested-ternary: 0 */\r\n/* eslint no-negated-condition: 0 */\r\nexport default typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n","/**\r\n * @module constants/appliedRegExps\r\n * @private\r\n * @description Exports different types of syntax for {@link Elem#apply}.\r\n */\r\n\r\n/**\r\n * @callback matchAppliedExprCallback\r\n * @param {Elem} elem - D-elem of an element to apply expression to.\r\n * @param {String} string - Matched applied name.\r\n * @param {String} arg - Argument within the parentheses.\r\n */\r\n\r\n/**\r\n * @type {Object.<String, matchAppliedExprCallback|Object.<String, matchAppliedExprCallback>>}\r\n * @description Object of different types of syntax.\r\n */\r\n\r\nexport const appliedRegExps = {\r\n  '#'(elem, id) {\r\n    elem.id(id);\r\n  },\r\n  '.'(elem, cls) {\r\n    elem.addClass(cls);\r\n  },\r\n  $(elem, attr, value) {\r\n    elem.attr(attr, value);\r\n  },\r\n  '@'(elem, prop, value) {\r\n    elem.css(prop, value);\r\n  },\r\n  '&'(elem, name, html) {\r\n    elem.html(html);\r\n  },\r\n  '*'(elem, name, text) {\r\n    elem.text(text);\r\n  },\r\n  '-': {\r\n    '.'(elem, cls) {\r\n      elem.removeClass(cls);\r\n    },\r\n    $(elem, attr) {\r\n      elem.removeAttr(attr);\r\n    },\r\n    '@'(elem, prop) {\r\n      elem.removeCSS(prop);\r\n    }\r\n  }\r\n};\r\n","/**\r\n * @module constants/elements\r\n * @private\r\n * @description Exports different canvas methods for {@link Elem} for creating html-elements.\r\n */\r\n\r\n/**\r\n * @const\r\n * @type {String[]}\r\n */\r\nexport const canvasGetMethods = [\r\n  /**\r\n   * @member {Function} Elem#createImageData\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {ImageData|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createImageData\r\n   */\r\n  'createImageData',\r\n\r\n  /**\r\n   * @member {Function} Elem#createLinearGradient\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {CanvasGradient|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\r\n   */\r\n  'createLinearGradient',\r\n\r\n  /**\r\n   * @member {Function} Elem#createPattern\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {CanvasPattern|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createPattern\r\n   */\r\n  'createPattern',\r\n\r\n  /**\r\n   * @member {Function} Elem#createRadialGradient\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {CanvasGradient|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createRadialGradient\r\n   */\r\n  'createRadialGradient',\r\n\r\n  /**\r\n   * @member {Function} Elem#getImageData\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {ImageData|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/getImageData\r\n   */\r\n  'getImageData',\r\n\r\n  /**\r\n   * @member {Function} Elem#getLineDash\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Number[]|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/getLineDash\r\n   */\r\n  'getLineDash',\r\n\r\n  /**\r\n   * @member {Function} Elem#isPointInPath\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Boolean|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/isPointInPath\r\n   */\r\n  'isPointInPath',\r\n\r\n  /**\r\n   * @member {Function} Elem#isPointInStroke\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Boolean|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/isPointInStroke\r\n   */\r\n  'isPointInStroke',\r\n\r\n  /**\r\n   * @member {Function} Elem#measureText\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {TextMetrics|void}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/measureText\r\n   */\r\n  'measureText'\r\n];\r\n\r\nexport const canvasRestMethods = [\r\n  /**\r\n   * @member {Function} Elem#arc\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/arc\r\n   */\r\n  'arc',\r\n\r\n  /**\r\n   * @member {Function} Elem#arcTo\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/arcTo\r\n   */\r\n  'arcTo',\r\n\r\n  /**\r\n   * @member {Function} Elem#beginPath\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/beginPath\r\n   */\r\n  'beginPath',\r\n\r\n  /**\r\n   * @member {Function} Elem#bezierCurveTo\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/bezierCurveTo\r\n   */\r\n  'bezierCurveTo',\r\n\r\n  /**\r\n   * @member {Function} Elem#clearRect\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/clearRect\r\n   */\r\n  'clearRect',\r\n\r\n  /**\r\n   * @member {Function} Elem#clip\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/clip\r\n   */\r\n  'clip',\r\n\r\n  /**\r\n   * @member {Function} Elem#closePath\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/closePath\r\n   */\r\n  'closePath',\r\n\r\n  /**\r\n   * @member {Function} Elem#drawFocusIfNeeded\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/drawFocusIfNeeded\r\n   */\r\n  'drawFocusIfNeeded',\r\n\r\n  /**\r\n   * @member {Function} Elem#drawImage\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/drawImage\r\n   */\r\n  'drawImage',\r\n\r\n  /**\r\n   * @member {Function} Elem#ellipse\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/ellipse\r\n   */\r\n  'ellipse',\r\n\r\n  /**\r\n   * @member {Function} Elem#fill\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fill\r\n   */\r\n  'fill',\r\n\r\n  /**\r\n   * @member {Function} Elem#fillRect\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fillRect\r\n   */\r\n  'fillRect',\r\n\r\n  /**\r\n   * @member {Function} Elem#fillText\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fillText\r\n   */\r\n  'fillText',\r\n\r\n  /**\r\n   * @member {Function} Elem#lineTo\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/lineTo\r\n   */\r\n  'lineTo',\r\n\r\n  /**\r\n   * @member {Function} Elem#moveTo\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/moveTo\r\n   */\r\n  'moveTo',\r\n\r\n  /**\r\n   * @member {Function} Elem#putImageData\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/putImageData\r\n   */\r\n  'putImageData',\r\n\r\n  /**\r\n   * @member {Function} Elem#quadraticCurveTo\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo\r\n   */\r\n  'quadraticCurveTo',\r\n\r\n  /**\r\n   * @member {Function} Elem#rect\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/rect\r\n   */\r\n  'rect',\r\n\r\n  /**\r\n   * @member {Function} Elem#resetTransform\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/resetTransform\r\n   */\r\n  'resetTransform',\r\n\r\n  /**\r\n   * @member {Function} Elem#restore\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/restore\r\n   */\r\n  'restore',\r\n\r\n  /**\r\n   * @member {Function} Elem#rotate\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/rotate\r\n   */\r\n  'rotate',\r\n\r\n  /**\r\n   * @member {Function} Elem#save\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/save\r\n   */\r\n  'save',\r\n\r\n  /**\r\n   * @member {Function} Elem#scale\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/scale\r\n   */\r\n  'scale',\r\n\r\n  /**\r\n   * @member {Function} Elem#setLineDash\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/setLineDash\r\n   */\r\n  'setLineDash',\r\n\r\n  /**\r\n   * @member {Function} Elem#setTransform\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/setTransform\r\n   */\r\n  'setTransform',\r\n\r\n  /**\r\n   * @member {Function} Elem#stroke\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/stroke\r\n   */\r\n  'stroke',\r\n\r\n  /**\r\n   * @member {Function} Elem#strokeRect\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/strokeRect\r\n   */\r\n  'strokeRect',\r\n\r\n  /**\r\n   * @member {Function} Elem#strokeText\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/strokeText\r\n   */\r\n  'strokeText',\r\n\r\n  /**\r\n   * @member {Function} Elem#transform\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/transform\r\n   */\r\n  'transform',\r\n\r\n  /**\r\n   * @member {Function} Elem#translate\r\n   * @type {Function}\r\n   * @param {...*} args\r\n   * @returns {Elem}\r\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/translate\r\n   */\r\n  'translate'\r\n];\r\n","/**\r\n * @module constants/constructors\r\n * @private\r\n * @description Exports constructors levels.\r\n */\r\n\r\n/**\r\n * @const\r\n * @type {Array[]}\r\n */\r\nexport const constructors = [\r\n  [],\r\n  [],\r\n  []\r\n];\r\n","/**\r\n * @module constants/elements\r\n * @private\r\n * @description Exports methods for {@link Elem} for creating html-elements.\r\n */\r\n\r\n/**\r\n * @const\r\n * @type {String[]}\r\n */\r\nexport const htmlElements = [\r\n  /**\r\n   * @member {Function} Elem#a\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'a',\r\n\r\n  /**\r\n   * @member {Function} Elem#abbr\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'abbr',\r\n\r\n  /**\r\n   * @member {Function} Elem#address\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'address',\r\n\r\n  /**\r\n   * @member {Function} Elem#area\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'area',\r\n\r\n  /**\r\n   * @member {Function} Elem#article\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'article',\r\n\r\n  /**\r\n   * @member {Function} Elem#audio\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'audio',\r\n\r\n  /**\r\n   * @member {Function} Elem#b\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'b',\r\n\r\n  /**\r\n   * @member {Function} Elem#base\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'base',\r\n\r\n  /**\r\n   * @member {Function} Elem#bdi\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'bdi',\r\n\r\n  /**\r\n   * @member {Function} Elem#bdo\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'bdo',\r\n\r\n  /**\r\n   * @member {Function} Elem#blockquote\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'blockquote',\r\n\r\n  /**\r\n   * @member {Function} Elem#body\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'body',\r\n\r\n  /**\r\n   * @member {Function} Elem#br\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'br',\r\n\r\n  /**\r\n   * @member {Function} Elem#button\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'button',\r\n\r\n  /**\r\n   * @member {Function} Elem#canvas\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'canvas',\r\n\r\n  /**\r\n   * @member {Function} Elem#caption\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'caption',\r\n\r\n  /**\r\n   * @member {Function} Elem#cite\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'cite',\r\n\r\n  /**\r\n   * @member {Function} Elem#code\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'code',\r\n\r\n  /**\r\n   * @member {Function} Elem#col\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'col',\r\n\r\n  /**\r\n   * @member {Function} Elem#colgroup\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'colgroup',\r\n\r\n  /**\r\n   * @member {Function} Elem#content\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'content',\r\n\r\n  /**\r\n   * @member {Function} Elem#datalist\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'datalist',\r\n\r\n  /**\r\n   * @member {Function} Elem#dd\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'dd',\r\n\r\n  /**\r\n   * @member {Function} Elem#del\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'del',\r\n\r\n  /**\r\n   * @member {Function} Elem#details\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'details',\r\n\r\n  /**\r\n   * @member {Function} Elem#dfn\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'dfn',\r\n\r\n  /**\r\n   * @member {Function} Elem#dialog\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'dialog',\r\n\r\n  /**\r\n   * @member {Function} Elem#div\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'div',\r\n\r\n  /**\r\n   * @member {Function} Elem#dl\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'dl',\r\n\r\n  /**\r\n   * @member {Function} Elem#dt\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'dt',\r\n\r\n  /**\r\n   * @member {Function} Elem#element\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'element',\r\n\r\n  /**\r\n   * @member {Function} Elem#em\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'em',\r\n\r\n  /**\r\n   * @member {Function} Elem#embed\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'embed',\r\n\r\n  /**\r\n   * @member {Function} Elem#fieldset\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'fieldset',\r\n\r\n  /**\r\n   * @member {Function} Elem#figcaption\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'figcaption',\r\n\r\n  /**\r\n   * @member {Function} Elem#figure\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'figure',\r\n\r\n  /**\r\n   * @member {Function} Elem#footer\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'footer',\r\n\r\n  /**\r\n   * @member {Function} Elem#form\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'form',\r\n\r\n  /**\r\n   * @member {Function} Elem#h1\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'h1',\r\n\r\n  /**\r\n   * @member {Function} Elem#h2\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'h2',\r\n\r\n  /**\r\n   * @member {Function} Elem#h3\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'h3',\r\n\r\n  /**\r\n   * @member {Function} Elem#h4\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'h4',\r\n\r\n  /**\r\n   * @member {Function} Elem#h5\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'h5',\r\n\r\n  /**\r\n   * @member {Function} Elem#h6\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'h6',\r\n\r\n  /**\r\n   * @member {Function} Elem#head\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'head',\r\n\r\n  /**\r\n   * @member {Function} Elem#header\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'header',\r\n\r\n  /**\r\n   * @member {Function} Elem#hgroup\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'hgroup',\r\n\r\n  /**\r\n   * @member {Function} Elem#hr\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'hr',\r\n\r\n  /**\r\n   * @member {Function} Elem#i\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'i',\r\n\r\n  /**\r\n   * @member {Function} Elem#iframe\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'iframe',\r\n\r\n  /**\r\n   * @member {Function} Elem#img\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'img',\r\n\r\n  /**\r\n   * @member {Function} Elem#input\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'input',\r\n\r\n  /**\r\n   * @member {Function} Elem#ins\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'ins',\r\n\r\n  /**\r\n   * @member {Function} Elem#kbd\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'kbd',\r\n\r\n  /**\r\n   * @member {Function} Elem#label\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'label',\r\n\r\n  /**\r\n   * @member {Function} Elem#legend\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'legend',\r\n\r\n  /**\r\n   * @member {Function} Elem#li\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'li',\r\n\r\n  /**\r\n   * @member {Function} Elem#link\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'link',\r\n\r\n  /**\r\n   * @member {Function} Elem#main\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'main',\r\n\r\n  /**\r\n   * @member {Function} Elem#mark\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'mark',\r\n\r\n  /**\r\n   * @member {Function} Elem#menu\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'menu',\r\n\r\n  /**\r\n   * @member {Function} Elem#menuitem\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'menuitem',\r\n\r\n  /**\r\n   * @member {Function} Elem#meta\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'meta',\r\n\r\n  /**\r\n   * @member {Function} Elem#meter\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'meter',\r\n\r\n  /**\r\n   * @member {Function} Elem#nav\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'nav',\r\n\r\n  /**\r\n   * @member {Function} Elem#noscript\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'noscript',\r\n\r\n  /**\r\n   * @member {Function} Elem#ol\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'ol',\r\n\r\n  /**\r\n   * @member {Function} Elem#optgroup\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'optgroup',\r\n\r\n  /**\r\n   * @member {Function} Elem#option\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'option',\r\n\r\n  /**\r\n   * @member {Function} Elem#output\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'output',\r\n\r\n  /**\r\n   * @member {Function} Elem#p\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'p',\r\n\r\n  /**\r\n   * @member {Function} Elem#param\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'param',\r\n\r\n  /**\r\n   * @member {Function} Elem#pre\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'pre',\r\n\r\n  /**\r\n   * @member {Function} Elem#progress\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'progress',\r\n\r\n  /**\r\n   * @member {Function} Elem#q\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'q',\r\n\r\n  /**\r\n   * @member {Function} Elem#rp\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'rp',\r\n\r\n  /**\r\n   * @member {Function} Elem#rt\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'rt',\r\n\r\n  /**\r\n   * @member {Function} Elem#rtc\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'rtc',\r\n\r\n  /**\r\n   * @member {Function} Elem#ruby\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'ruby',\r\n\r\n  /**\r\n   * @member {Function} Elem#s\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  's',\r\n\r\n  /**\r\n   * @member {Function} Elem#samp\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'samp',\r\n\r\n  /**\r\n   * @member {Function} Elem#script\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'script',\r\n\r\n  /**\r\n   * @member {Function} Elem#section\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'section',\r\n\r\n  /**\r\n   * @member {Function} Elem#select\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'select',\r\n\r\n  /**\r\n   * @member {Function} Elem#shadow\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'shadow',\r\n\r\n  /**\r\n   * @member {Function} Elem#small\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'small',\r\n\r\n  /**\r\n   * @member {Function} Elem#source\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'source',\r\n\r\n  /**\r\n   * @member {Function} Elem#span\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'span',\r\n\r\n  /**\r\n   * @member {Function} Elem#strong\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'strong',\r\n\r\n  /**\r\n   * @member {Function} Elem#style\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'style',\r\n\r\n  /**\r\n   * @member {Function} Elem#sub\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'sub',\r\n\r\n  /**\r\n   * @member {Function} Elem#summary\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'summary',\r\n\r\n  /**\r\n   * @member {Function} Elem#sup\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'sup',\r\n\r\n  /**\r\n   * @member {Function} Elem#table\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'table',\r\n\r\n  /**\r\n   * @member {Function} Elem#tbody\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'tbody',\r\n\r\n  /**\r\n   * @member {Function} Elem#td\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'td',\r\n\r\n  /**\r\n   * @member {Function} Elem#template\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'template',\r\n\r\n  /**\r\n   * @member {Function} Elem#textarea\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'textarea',\r\n\r\n  /**\r\n   * @member {Function} Elem#tfoot\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'tfoot',\r\n\r\n  /**\r\n   * @member {Function} Elem#th\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'th',\r\n\r\n  /**\r\n   * @member {Function} Elem#thead\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'thead',\r\n\r\n  /**\r\n   * @member {Function} Elem#time\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'time',\r\n\r\n  /**\r\n   * @member {Function} Elem#title\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'title',\r\n\r\n  /**\r\n   * @member {Function} Elem#tr\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'tr',\r\n\r\n  /**\r\n   * @member {Function} Elem#track\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'track',\r\n\r\n  /**\r\n   * @member {Function} Elem#u\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'u',\r\n\r\n  /**\r\n   * @member {Function} Elem#ul\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'ul',\r\n\r\n  /**\r\n   * @member {Function} Elem#var\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'var',\r\n\r\n  /**\r\n   * @member {Function} Elem#video\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'video',\r\n\r\n  /**\r\n   * @member {Function} Elem#wbr\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'wbr'\r\n];\r\n\r\nexport const svgElements = [\r\n  /**\r\n   * @member {Function} Elem#altGlyph\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'altGlyph',\r\n\r\n  /**\r\n   * @member {Function} Elem#altGlyphDef\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'altGlyphDef',\r\n\r\n  /**\r\n   * @member {Function} Elem#altGlyphItem\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'altGlyphItem',\r\n\r\n  /**\r\n   * @member {Function} Elem#animate\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'animate',\r\n\r\n  /**\r\n   * @member {Function} Elem#animateColor\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'animateColor',\r\n\r\n  /**\r\n   * @member {Function} Elem#animateMotion\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'animateMotion',\r\n\r\n  /**\r\n   * @member {Function} Elem#animateTransform\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'animateTransform',\r\n\r\n  /**\r\n   * @member {Function} Elem#circle\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'circle',\r\n\r\n  /**\r\n   * @member {Function} Elem#clipPath\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'clipPath',\r\n\r\n  /**\r\n   * @member {Function} Elem#colorProfile\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'color-profile',\r\n\r\n  /**\r\n   * @member {Function} Elem#cursor\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'cursor',\r\n\r\n  /**\r\n   * @member {Function} Elem#defs\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'defs',\r\n\r\n  /**\r\n   * @member {Function} Elem#desc\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'desc',\r\n\r\n  /**\r\n   * @member {Function} Elem#discard\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'discard',\r\n\r\n  /**\r\n   * @member {Function} Elem#ellipse\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'ellipse',\r\n\r\n  /**\r\n   * @member {Function} Elem#feBlend\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feBlend',\r\n\r\n  /**\r\n   * @member {Function} Elem#feColorMatrix\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feColorMatrix',\r\n\r\n  /**\r\n   * @member {Function} Elem#feComponentTransfer\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feComponentTransfer',\r\n\r\n  /**\r\n   * @member {Function} Elem#feComposite\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feComposite',\r\n\r\n  /**\r\n   * @member {Function} Elem#feConvolveMatrix\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feConvolveMatrix',\r\n\r\n  /**\r\n   * @member {Function} Elem#feDiffuseLighting\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feDiffuseLighting',\r\n\r\n  /**\r\n   * @member {Function} Elem#feDisplacementMap\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feDisplacementMap',\r\n\r\n  /**\r\n   * @member {Function} Elem#feDistantLight\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feDistantLight',\r\n\r\n  /**\r\n   * @member {Function} Elem#feDropShadow\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feDropShadow',\r\n\r\n  /**\r\n   * @member {Function} Elem#feFlood\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feFlood',\r\n\r\n  /**\r\n   * @member {Function} Elem#feFuncA\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feFuncA',\r\n\r\n  /**\r\n   * @member {Function} Elem#feFuncB\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feFuncB',\r\n\r\n  /**\r\n   * @member {Function} Elem#feFuncG\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feFuncG',\r\n\r\n  /**\r\n   * @member {Function} Elem#feFuncR\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feFuncR',\r\n\r\n  /**\r\n   * @member {Function} Elem#feGaussianBlur\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feGaussianBlur',\r\n\r\n  /**\r\n   * @member {Function} Elem#feImage\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feImage',\r\n\r\n  /**\r\n   * @member {Function} Elem#feMerge\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feMerge',\r\n\r\n  /**\r\n   * @member {Function} Elem#feMergeNode\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feMergeNode',\r\n\r\n  /**\r\n   * @member {Function} Elem#feMorphology\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feMorphology',\r\n\r\n  /**\r\n   * @member {Function} Elem#feOffset\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feOffset',\r\n\r\n  /**\r\n   * @member {Function} Elem#fePointLight\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'fePointLight',\r\n\r\n  /**\r\n   * @member {Function} Elem#feSpecularLighting\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feSpecularLighting',\r\n\r\n  /**\r\n   * @member {Function} Elem#feSpotLight\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feSpotLight',\r\n\r\n  /**\r\n   * @member {Function} Elem#feTile\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feTile',\r\n\r\n  /**\r\n   * @member {Function} Elem#feTurbulence\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'feTurbulence',\r\n\r\n  /**\r\n   * @member {Function} Elem#font\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'font',\r\n\r\n  /**\r\n   * @member {Function} Elem#fontFace\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'font-face',\r\n\r\n  /**\r\n   * @member {Function} Elem#fontFaceFormat\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'font-face-format',\r\n\r\n  /**\r\n   * @member {Function} Elem#fontFaceName\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'font-face-name',\r\n\r\n  /**\r\n   * @member {Function} Elem#fontFaceSrc\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'font-face-src',\r\n\r\n  /**\r\n   * @member {Function} Elem#fontFaceUri\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'font-face-uri',\r\n\r\n  /**\r\n   * @member {Function} Elem#foreignObject\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'foreignObject',\r\n\r\n  /**\r\n   * @member {Function} Elem#g\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'g',\r\n\r\n  /**\r\n   * @member {Function} Elem#glyph\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'glyph',\r\n\r\n  /**\r\n   * @member {Function} Elem#glyphRef\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'glyphRef',\r\n\r\n  /**\r\n   * @member {Function} Elem#hatch\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'hatch',\r\n\r\n  /**\r\n   * @member {Function} Elem#hatchpath\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'hatchpath',\r\n\r\n  /**\r\n   * @member {Function} Elem#hkern\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'hkern',\r\n\r\n  /**\r\n   * @member {Function} Elem#image\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'image',\r\n\r\n  /**\r\n   * @member {Function} Elem#line\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'line',\r\n\r\n  /**\r\n   * @member {Function} Elem#linearGradient\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'linearGradient',\r\n\r\n  /**\r\n   * @member {Function} Elem#marker\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'marker',\r\n\r\n  /**\r\n   * @member {Function} Elem#mask\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'mask',\r\n\r\n  /**\r\n   * @member {Function} Elem#mesh\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'mesh',\r\n\r\n  /**\r\n   * @member {Function} Elem#meshgradient\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'meshgradient',\r\n\r\n  /**\r\n   * @member {Function} Elem#meshpatch\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'meshpatch',\r\n\r\n  /**\r\n   * @member {Function} Elem#meshrow\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'meshrow',\r\n\r\n  /**\r\n   * @member {Function} Elem#metadata\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'metadata',\r\n\r\n  /**\r\n   * @member {Function} Elem#missingGlyph\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'missing-glyph',\r\n\r\n  /**\r\n   * @member {Function} Elem#mpath\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'mpath',\r\n\r\n  /**\r\n   * @member {Function} Elem#path\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'path',\r\n\r\n  /**\r\n   * @member {Function} Elem#pattern\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'pattern',\r\n\r\n  /**\r\n   * @member {Function} Elem#polygon\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'polygon',\r\n\r\n  /**\r\n   * @member {Function} Elem#polyline\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'polyline',\r\n\r\n  /**\r\n   * @member {Function} Elem#radialGradient\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'radialGradient',\r\n\r\n  /**\r\n   * @member {Function} Elem#rect\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'rect',\r\n\r\n  /**\r\n   * @member {Function} Elem#set\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'set',\r\n\r\n  /**\r\n   * @member {Function} Elem#solidcolor\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'solidcolor',\r\n\r\n  /**\r\n   * @member {Function} Elem#stop\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'stop',\r\n\r\n  /**\r\n   * @member {Function} Elem#style\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'style',\r\n\r\n  /**\r\n   * @member {Function} Elem#svg\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'svg',\r\n\r\n  /**\r\n   * @member {Function} Elem#switch\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'switch',\r\n\r\n  /**\r\n   * @member {Function} Elem#symbol\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'symbol',\r\n\r\n  /**\r\n   * @member {Function} Elem#textPath\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'textPath',\r\n\r\n  /**\r\n   * @member {Function} Elem#tref\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'tref',\r\n\r\n  /**\r\n   * @member {Function} Elem#tspan\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'tspan',\r\n\r\n  /**\r\n   * @member {Function} Elem#unknown\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'unknown',\r\n\r\n  /**\r\n   * @member {Function} Elem#use\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'use',\r\n\r\n  /**\r\n   * @member {Function} Elem#view\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'view',\r\n\r\n  /**\r\n   * @member {Function} Elem#vkern\r\n   * @type {Function}\r\n   * @param {...String} appliedExpressions\r\n   * @returns {Elem}\r\n   */\r\n  'vkern'\r\n];\r\n\r\nexport const voidElements = [\r\n  'area',\r\n  'base',\r\n  'br',\r\n  'col',\r\n  'command',\r\n  'embed',\r\n  'hr',\r\n  'img',\r\n  'input',\r\n  'keygen',\r\n  'link',\r\n  'meta',\r\n  'param',\r\n  'source',\r\n  'track',\r\n  'wbr'\r\n];\r\n","export const htmlAllowedTagSymbols = '[a-z][a-z\\\\d\\\\-_.:!@#\\\\$%\\\\^&*()\\\\[\\\\]{}\\\\\\\\=\\'\"]*';\r\nexport const htmlAllowedAttrSymbols = '[^\\\\u0000-\\\\u0020\\\\s\"\\'>/=]+';\r\n","/**\r\n * @module constants/regexpSpecialCharacters\r\n * @private\r\n * @description Exports special characters for RegExp.\r\n */\r\n\r\n/**\r\n * @const\r\n * @name module:constants/regexpSpecialCharacters~regexpSpecialCharacters\r\n * @type {String[]}\r\n */\r\nexport const regexpSpecialCharacters = [\r\n  '.',\r\n  '+', '*', '?',\r\n  '(', ')',\r\n  '[', ']',\r\n  '{', '}',\r\n  '<', '>',\r\n  '^', '$',\r\n  '!',\r\n  '=',\r\n  ':',\r\n  '-',\r\n  '|',\r\n  ',',\r\n  '\\\\'\r\n];\r\n","/**\r\n * @module constants/validateCheckExpressions\r\n * @private\r\n * @description Exports different types of validate expressions for {@link module:helpers/validate}.\r\n */\r\n\r\nimport * as methods from '../helpers/checkTypes';\r\n\r\n/**\r\n * @callback checkValidityCallback\r\n * @private\r\n * @param {*} value - Value to check.\r\n */\r\n\r\n/**\r\n * @typedef {Object} validateExpr\r\n * @private\r\n * @property {String} text - Text of the thrown error.\r\n * @property {Error} error - Type of the thrown error.\r\n * @property {checkValidityCallback} check - Callback for checking value.\r\n */\r\n\r\n/**\r\n * @type {validateExpr[]}\r\n * @private\r\n * @description Object of different types of validation.\r\n */\r\nexport const validateCheckExpressions = {\r\n  '>0': {\r\n    check: (n) => n > 0,\r\n    text: '$n argument must be positive!',\r\n    error: RangeError\r\n  },\r\n  '>=0': {\r\n    check: (n) => n >= 0,\r\n    text: '$n argument must be non-negative!',\r\n    error: RangeError\r\n  },\r\n  '<0': {\r\n    check: (n) => n < 0,\r\n    text: '$n argument must be negative!',\r\n    error: RangeError\r\n  },\r\n  '<=0': {\r\n    check: (n) => n <= 0,\r\n    text: '$n argument must be non-positive!',\r\n    error: RangeError\r\n  },\r\n  '!!': {\r\n    check: (v) => !methods.isNil(v),\r\n    text: '$n argument must be not null or undefined!',\r\n    error: TypeError\r\n  },\r\n  array: {\r\n    check: methods.isArray,\r\n    text: '$n argument must be an array!',\r\n    error: TypeError\r\n  },\r\n  'array||!': {\r\n    check: (a) => methods.isArray(a) || methods.isNil(a),\r\n    text: '$n argument must be an array, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  arrayLike: {\r\n    check: methods.isArrayLike,\r\n    text: '$n argument must be array-like!',\r\n    error: TypeError\r\n  },\r\n  'arrayLike||!': {\r\n    check: (a) => methods.isArrayLike(a) || methods.isNil(a),\r\n    text: '$n argument must be array-like, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  date: {\r\n    check: methods.isDate,\r\n    text: '$n argument must be a date!',\r\n    error: TypeError\r\n  },\r\n  'date||!': {\r\n    check: (d) => methods.isDate(d) || methods.isNil(d),\r\n    text: '$n argument must be a date, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  dateLike: {\r\n    check: methods.isDateLike,\r\n    text: '$n argument must be date-like!',\r\n    error: TypeError\r\n  },\r\n  'dateLike||!': {\r\n    check: (d) => methods.isDateLike(d) || methods.isNil(d),\r\n    text: '$n argument must be date-like, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  function: {\r\n    check: methods.isFunction,\r\n    text: '$n argument must be a function!',\r\n    error: TypeError\r\n  },\r\n  'function||!': {\r\n    check: (f) => methods.isFunction(f) || methods.isNil(f),\r\n    text: '$n argument must be a function, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  int: {\r\n    check: methods.isInteger,\r\n    text: '$n argument must be an integer!',\r\n    error: TypeError\r\n  },\r\n  'int||!': {\r\n    check: (i) => methods.isInteger(i) || methods.isNil(i),\r\n    text: '$n argument must be an integer, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  intLike: {\r\n    check: methods.isIntegerLike,\r\n    text: '$n argument must be integer-like!',\r\n    error: TypeError\r\n  },\r\n  'intLike||!': {\r\n    check: (i) => methods.isIntegerLike(i) || methods.isNil(i),\r\n    text: '$n argument must be integer-like, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  number: {\r\n    check: methods.isNumber,\r\n    text: '$n argument must be a number!',\r\n    error: TypeError\r\n  },\r\n  'number||!': {\r\n    check: (n) => methods.isNumber(n) || methods.isNil(n),\r\n    text: '$n argument must be a number, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  numberLike: {\r\n    check: methods.isNumberLike,\r\n    text: '$n argument must be number-like!',\r\n    error: TypeError\r\n  },\r\n  'numberLike||!': {\r\n    check: (n) => methods.isNumberLike(n) || methods.isNil(n),\r\n    text: '$n argument must be number-like, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  object: {\r\n    check: methods.isObject,\r\n    text: '$n argument must be an object!',\r\n    error: TypeError\r\n  },\r\n  'object||!': {\r\n    check: (o) => methods.isObject(o) || methods.isNil(o),\r\n    text: '$n argument must be an object, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  regexp: {\r\n    check: methods.isRegExp,\r\n    text: '$n argument must be a regular expression!',\r\n    error: TypeError\r\n  },\r\n  'regexp||!': {\r\n    check: (r) => methods.isRegExp(r) || methods.isNil(r),\r\n    text: '$n argument must be a regular expression, or undefined, or null!',\r\n    error: TypeError\r\n  },\r\n  string: {\r\n    check: methods.isString,\r\n    text: '$n argument must be a string!',\r\n    error: TypeError\r\n  },\r\n  'string||!': {\r\n    check: (s) => methods.isString(s) || methods.isNil(s),\r\n    text: '$n argument must be a string, or undefined, or null!',\r\n    error: TypeError\r\n  }\r\n};\r\n","/**\r\n * @module helpers/Symbol\r\n * @private\r\n * @description Exports Symbol class.\r\n */\r\n\r\nexport const Symbol = global.Symbol || {\r\n  toStringTag: 'Symbol.toStringTag',\r\n  iterator: Math.random().toString(36)\r\n};\r\n","/**\r\n * @module Promise\r\n * @private\r\n * @mixin\r\n * @description Exports Promise class.\r\n */\r\n\r\nimport { isFunction, defineProperties, Symbol } from './helpers';\r\n\r\n/**\r\n * @callback onFulfilledOrRejected\r\n * @public\r\n * @param {*} value - Promise value.\r\n * @param {Boolean} success - If the previous promise is fulfilled it's true and false if rejected.\r\n */\r\n\r\n/**\r\n * @callback onRejected\r\n * @public\r\n * @param {Error|*} err - Promise error.\r\n */\r\n\r\n/**\r\n * @callback onFulfilled\r\n * @public\r\n * @param {*} value - Promise value.\r\n */\r\n\r\nconst secret = {};\r\nconst iterator = Symbol.iterator;\r\n\r\n/**\r\n * @class Promise\r\n * @public\r\n * @param {Function} executor - Function that takes two arguments: resolve and reject functions.\r\n * Call the resolve function when you need to fulfill the promise and call the reject one\r\n * when you need to reject it.\r\n * @returns {Promise} Instance of Promise.\r\n * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\r\n * @description Class with almost identical API to\r\n * [ES6 Promise]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise}.\r\n * There is a couple differences: set Promise.onError to a function with which you want to\r\n * subscribe to a promise error and set Promise.onUnhandledRejection to a function with which\r\n * you want to subscribe to an unhandled error\r\n * (defaults to console.error.bind(console, '%s %o', 'Uncaught (in promise)')).\r\n */\r\nclass Promise {\r\n  static onError = null;\r\n  static onUnhandledRejection = console.error.bind(console, '%s %o', 'Uncaught (in promise)');\r\n\r\n  constructor(executor) {\r\n    if (!isFunction(executor)) {\r\n      throw new TypeError(`Promise resolver ${ {}.toString.call(executor) } is not a function`);\r\n    }\r\n\r\n    let hiddenStatus;\r\n    let hiddenValue;\r\n\r\n    const\tonFulfill = [];\r\n    const onReject = [];\r\n    const realPromise = this;\r\n    const hiddenPromise = {\r\n      handled: false,\r\n      get status() {\r\n        return hiddenStatus;\r\n      },\r\n      set status(value) {\r\n        hiddenStatus = value;\r\n        realPromise.status = value;\r\n      },\r\n      get value() {\r\n        return hiddenValue;\r\n      },\r\n      set value(val) {\r\n        hiddenValue = val;\r\n        realPromise.value = val;\r\n      }\r\n    };\r\n\r\n    hiddenPromise.status = 'pending';\r\n    hiddenPromise.value = undefined;\r\n\r\n    /**\r\n     * @typedef {Object} hiddenPromise\r\n     * @private\r\n     * @property {Boolean|Object} handled - If the promise is handled or not.\r\n     * @property {'pending'|'fulfilled'|'rejected'} status - Status of the promise.\r\n     * @property {*} value - Value of the promise.\r\n     */\r\n\r\n    /**\r\n     * @member {Function} hiddenPromise#handle\r\n     * @private\r\n     * @param {('reject'|'resolve')} event - Type of the event to handle.\r\n     * @param {Function} handler - Handler itself.\r\n     * @param {Function} resolve - Resolve function.\r\n     * @param {Function} reject - Reject function.\r\n     * @param {Object} secret - Secret.\r\n     * @description Private method for handling promises.\r\n     */\r\n\r\n    /**\r\n     * @member {hiddenPromise} Promise#$$\r\n     * @protected\r\n     */\r\n    defineProperties(this.$$ = {}, {\r\n      'get/set handled': {\r\n        get() {\r\n          return hiddenPromise.handled;\r\n        },\r\n        set(key) {\r\n          if (key === secret) {\r\n            hiddenPromise.handled = true;\r\n          }\r\n        }\r\n      },\r\n      handle(status, f, resolve, reject, key) {\r\n        if (key === secret) {\r\n          const proxy = isFunction(f) ? (value) => {\r\n            try {\r\n              resolve(f(value));\r\n            } catch (err) {\r\n              reject(err);\r\n            }\r\n          } : null;\r\n\r\n          if (status === 'resolve') {\r\n            onFulfill.push(proxy || ((value) => resolve(value)));\r\n          } else if (status === 'reject') {\r\n            onReject.push(proxy || ((err) => reject(err)));\r\n          }\r\n        }\r\n      },\r\n      'get status'() {\r\n        return hiddenPromise.status;\r\n      },\r\n      'get value'() {\r\n        return hiddenPromise.value;\r\n      }\r\n    });\r\n\r\n    try {\r\n      executor(resolve, reject);\r\n    } catch (err) {\r\n      reject(err);\r\n    }\r\n\r\n    function reject(err) {\r\n      if (hiddenPromise.status === 'pending') {\r\n        hiddenPromise.status = 'rejected';\r\n        hiddenPromise.value = err;\r\n\r\n        for (let i = 0, length = onReject.length; i < length; i++) {\r\n          hiddenPromise.handled = true;\r\n\r\n          onReject[i](err);\r\n        }\r\n\r\n        const {\r\n          onUnhandledRejection,\r\n          onError\r\n        } = Promise;\r\n\r\n        if (isFunction(onError)) {\r\n          onError(err);\r\n        }\r\n\r\n        setTimeout(() => {\r\n          if (!hiddenPromise.handled && isFunction(onUnhandledRejection)) {\r\n            onUnhandledRejection(err);\r\n          }\r\n        }, 1);\r\n      }\r\n    }\r\n\r\n    function resolve(value) {\r\n      if (hiddenPromise.status === 'pending') {\r\n        if (value && isFunction(value.then)) {\r\n          return value.then((value) => {\r\n            resolve(value);\r\n          }, (err) => {\r\n            reject(err);\r\n          });\r\n        }\r\n\r\n        hiddenPromise.status = 'fulfilled';\r\n        hiddenPromise.value = value;\r\n\r\n        for (let i = 0, length = onFulfill.length; i < length; i++) {\r\n          hiddenPromise.handled = true;\r\n\r\n          onFulfill[i](value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method Promise.all\r\n   * @param {(Array|Iterable).<Promise|*>} iterable - Iterable object (like array) of promises\r\n   * or any values.\r\n   * @returns {Promise} New instance of Promise.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\r\n   */\r\n  static all(iterable) {\r\n    const array = [];\r\n\r\n    let toResolve = 0;\r\n\r\n    if (iterable[iterator]) {\r\n      iterable = iterable[iterator]();\r\n\r\n      return new Promise((resolve, reject) => {\r\n        let next;\r\n        let i = 0;\r\n\r\n        while (!(next = iterable.next()).done) {\r\n          const promise = Promise.resolve(next.value);\r\n\r\n          toResolve++;\r\n\r\n          ((i) => {\r\n            promise.then((value) => {\r\n              toResolve--;\r\n              array[i] = value;\r\n\r\n              setTimeout(() => {\r\n                if (next.done && !toResolve) {\r\n                  resolve(array);\r\n                }\r\n              }, 1);\r\n            }, reject);\r\n          })(i++);\r\n        }\r\n\r\n        if (!i) {\r\n          return Promise.resolve([]);\r\n        }\r\n      });\r\n    }\r\n\r\n    const length = iterable.length;\r\n\r\n    if (!length) {\r\n      return Promise.resolve([]);\r\n    }\r\n\r\n    toResolve = length;\r\n\r\n    return new Promise((resolve, reject) => {\r\n      for (let i = 0; i < length; i++) {\r\n        const promise = Promise.resolve(iterable[i]);\r\n\r\n        promise.then((value) => {\r\n          toResolve--;\r\n          array[i] = value;\r\n\r\n          if (!toResolve) {\r\n            resolve(array);\r\n          }\r\n        }, reject);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Promise.race\r\n   * @param {(Array|Iterable).<Promise|*>} iterable - Iterable object (like array) of promises\r\n   * or any values.\r\n   * @returns {Promise} New instance of Promise.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race\r\n   */\r\n  static race(iterable) {\r\n    if (iterable[iterator]) {\r\n      iterable = iterable[iterator]();\r\n\r\n      return new Promise((resolve, reject) => {\r\n        let next;\r\n\r\n        while (!(next = iterable.next()).done) {\r\n          next.value.then(resolve, reject);\r\n        }\r\n      });\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      for (let i = 0, length = iterable.length; i < length; i++) {\r\n        iterable[i].then(resolve, reject);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Promise.reject\r\n   * @param {*} value - Value to reject.\r\n   * @returns {Promise} New instance of Promise.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/reject\r\n   */\r\n  static reject(value) {\r\n    return new Promise((resolve, reject) => {\r\n      reject(value);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @method Promise.resolve\r\n   * @param {Promise|Thenable|*} value - Promise, thenable or any value to resolve.\r\n   * @returns {Promise} New instance of Promise.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve\r\n   */\r\n  static resolve(value) {\r\n    if (value && isFunction(value.then)) {\r\n      return value;\r\n    }\r\n\r\n    return new Promise((resolve) => {\r\n      resolve(value);\r\n    });\r\n  }\r\n\r\n  abort() {}\r\n\r\n  /**\r\n   * @method Promise#catch\r\n   * @param {onRejected} onRejected - onRejected callback.\r\n   * @returns {Promise} New instance of Promise.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\r\n   */\r\n  catch(onRejected) {\r\n    return this.then(null, onRejected);\r\n  }\r\n\r\n  /**\r\n   * @method Promise#finally\r\n   * @public\r\n   * @param {onFulfilledOrRejected} onFulfilledOrRejected - onFulfilledOrRejected callback.\r\n   * @returns {Promise}\r\n   * @description Method for catching both fulfilled and rejected promises.\r\n   *\r\n   * @example\r\n   * spinner.show();\r\n   * fetchData()\r\n   *   .then((data) => {\r\n   *     // do something with data\r\n   *   })\r\n   *   .catch((err) => {\r\n   *     // handle error somehow\r\n   *   })\r\n   *   .finally(() => {\r\n   *     spinner.hide();\r\n   *   });\r\n   */\r\n  finally(onFulfilledOrRejected) {\r\n    const isFunc = isFunction(onFulfilledOrRejected);\r\n\r\n    return this.then((value) => (\r\n      Promise\r\n        .resolve(\r\n          isFunc\r\n            ? onFulfilledOrRejected(value, true)\r\n            : 0\r\n        )\r\n        .then(() => value)\r\n    ), (err) => (\r\n      Promise\r\n        .resolve(\r\n          isFunc\r\n            ? onFulfilledOrRejected(err, false)\r\n            : 0\r\n        )\r\n        .then(() => Promise.reject(err))\r\n    ));\r\n  }\r\n\r\n  /**\r\n   * @method Promise#then\r\n   * @param {onFulfilled} [onFulfilled] - onFulfilled callback.\r\n   * @param {onRejected} [onRejected] - onRejected callback.\r\n   * @returns {Promise} New instance of Promise.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\r\n   */\r\n  then(onFulfilled, onRejected) {\r\n    const promise = this.$$;\r\n\r\n    if (promise.status === 'pending') {\r\n      return new Promise((resolve, reject) => {\r\n        promise.handle('reject', onRejected, resolve, reject, secret);\r\n        promise.handle('resolve', onFulfilled, resolve, reject, secret);\r\n      });\r\n    }\r\n\r\n    promise.handled = secret;\r\n\r\n    const { value } = promise;\r\n\r\n    let method;\r\n    let handler;\r\n\r\n    if (promise.status === 'fulfilled') {\r\n      method = 'resolve';\r\n      handler = onFulfilled;\r\n    } else {\r\n      method = 'reject';\r\n      handler = onRejected;\r\n    }\r\n\r\n    if (!isFunction(handler)) {\r\n      return Promise[method](value);\r\n    }\r\n\r\n    try {\r\n      return Promise.resolve(handler(value));\r\n    } catch (err) {\r\n      return Promise.reject(err);\r\n    }\r\n  }\r\n}\r\n\r\ndefineProperties(Promise.prototype, {\r\n  [Symbol.toStringTag]: 'Promise'\r\n});\r\n\r\nexport { Promise };\r\n","/**\r\n * @module helpers/parseHeaders\r\n * @private\r\n * @description Exports parseHeaders method.\r\n */\r\n\r\nimport { Str } from '../Str';\r\nimport { iterate } from './iterate';\r\n\r\n/**\r\n * @function parseHeaders\r\n * @param {String} rawHeaders - Raw headers.\r\n * @returns {Object} Headers object\r\n * @description Function for parsing raw headers.\r\n */\r\nexport default (rawHeaders) => {\r\n  const headers = {};\r\n\r\n  iterate((rawHeaders || '').split('\\n'), (value) => {\r\n    const index = value.indexOf(':');\r\n    const key = new Str(value.substring(0, index))\r\n      .trim()\r\n      .toCamelCase().$;\r\n    const val = new Str(value.substring(index + 1)).trim().$;\r\n\r\n    if (key) {\r\n      headers[key] = (headers[key] ? `${ headers[key] }, ` : '') + val;\r\n    }\r\n  });\r\n\r\n  return headers;\r\n};\r\n","/**\r\n * @module helpers/transformData\r\n * @private\r\n * @description Exports transformData method.\r\n */\r\n\r\nimport { Arr } from '../Arr';\r\nimport { Super } from '../Super';\r\nimport { isObject, toStringTag } from './';\r\n\r\nconst notToTransform = new Arr(['FormData', 'File', 'Blob', 'ArrayBuffer', 'String', 'Number']);\r\nconst withoutBody = new Arr(['DELETE', 'GET', 'HEAD']);\r\n\r\n/**\r\n * @function transformData\r\n * @param {*} data - Data to transform\r\n * @param {String} method - HTTP method.\r\n * @param {Object} headers - Object with headers.\r\n * @returns {*} - Transformed data.\r\n */\r\nexport default (data, method, headers) => {\r\n  data = new Super(data).$;\r\n\r\n  if (withoutBody.indexOfStrict(method) !== -1) {\r\n    return null;\r\n  }\r\n\r\n  if (isObject(data) && notToTransform.indexOfStrict(toStringTag(data)) === -1) {\r\n    if (!headers.contentType) {\r\n      headers.contentType = ['application/json;charset=utf-8'];\r\n    }\r\n\r\n    return new Super(data).json();\r\n  }\r\n\r\n  return data;\r\n};\r\n","/**\r\n * @module helpers/resolveURL\r\n * @private\r\n * @description Exports Object.assign-like method.\r\n */\r\n\r\nimport { Str } from '../Str';\r\n\r\nconst { location } = global;\r\n\r\nexport default (decodeQuery) => {\r\n  const {\r\n    search: query,\r\n    hash\r\n  } = location;\r\n  const params = {\r\n    query: {},\r\n    hash: hash.replace(/^#/, '')\r\n  };\r\n\r\n  if (!query) {\r\n    return params;\r\n  }\r\n\r\n  new Str(query.replace(/^\\?/, ''))\r\n    .split('&')\r\n    .forEach((rawParam) => {\r\n      let [param, value = ''] = rawParam.split('=');\r\n\r\n      param = decodeQuery ? decodeURIComponent(param) : param;\r\n      value = decodeQuery ? decodeURIComponent(value) : value;\r\n\r\n      if (!/^[^[]+/.test(param)) {\r\n        return;\r\n      }\r\n\r\n      let paramName;\r\n      let paramObject = params.query;\r\n\r\n      new Str(param)\r\n        .match(/^[^[\\]]*|\\[[^[\\]]*]/g)\r\n        .forEach((name) => {\r\n          if (name.indexOf('[')) {\r\n            paramName = name;\r\n\r\n            return;\r\n          }\r\n\r\n          name = name.slice(1, -1);\r\n\r\n          paramObject = paramObject[paramName] = paramObject[paramName] || (name ? {} : []);\r\n          paramName = name || paramObject.length;\r\n        });\r\n\r\n      paramObject[paramName] = value;\r\n    });\r\n\r\n  return params;\r\n};\r\n","import * as statics from './lib/browser';\r\nimport { assign } from './lib/helpers/assign';\r\n\r\nconst { D } = statics;\r\n\r\nassign(D, statics);\r\n\r\ndelete D.D;\r\n\r\nglobal.D = D;\r\n"],"names":["toStringTag","object","toString","call","replace","isArray","value","isArrayLike","isFunction","length","isInteger","isBoolean","isDate","isDateLike","Date","isNaN","getTime","isElement","test","isFinite","isNumber","Number","Infinity","isIntegerLike","parseInt","isNull","isNil","isNumberLike","isObject","Object","isPlainObject","isPrimitive","proto","getPrototypeOf","constructor","isRegExp","isString","isSymbol","isUndefined","D","i","constructors","levelConstructors","k","len","cls","check","iterate","callback","array","iteratedKeys","iterated","key","hasOwnProperty","assign","target","objects","arguments","source","index","dynamicDefineProperties","properties","propertyGenerator","name","defineProperty","defineProperties","method","undefined","get","set","toArray","createNewArray","push","validate","args","options","number","checker","validateCheckExpressions","error","text","numbers","char","alphabet","string","ranges","split","range","Error","start","charCodeAt","end","String","fromCharCode","Alphabet","switcher","cases","mode","defaultValue","Switcher","when","condition","value1","value2","deepAssign","deepClone","clone","cloneSwitcher","deepEqual","o1","o2","strict","match","lastIndex","p1","p2","keys","deepEvery","n","tree","newTree","concat","deepFilter","nul","o","filtered","deepFind","result","deepForEach","deepForEachEntry","deepFreeze","freeze","deepMap","deepReduce","IV","deepSome","x","apply","noop","prop","self","rand","Math","random","floor","asc","y","Arr","blob","blobParts","BlobObject","Blob","trim","parseJSON","json","JSON","parse","dates","parsed","this","find","markup","elem","matches","rawTextSwitcher","Super","constructCloseTagRegExp","NODE_REGEX_SET","map","regex","returning","attrs","startMarkup","closeMatch","selfClosing","slice","TAG_OPEN_CLOSE","attr","ATTRIBUTE","min","NaN","tagName","RegExp","nearString","parseCharacterData","innerHTML","div","textContent","innerText","toFind","isElem","Elem","isWindow","isHTMLDocument","isDocumentFragment","isStyleRule","isCommentOrText","tag","getElem","$","emptyDiv","getName","nodeName","toLowerCase","addDwayneData","windowsDwayneData","some","element","getContext","selector","base","nativeDocument","querySelectorAll","parseHTML","html","collapseWhiteSpace","markupToJSON","template","doc","content","forEach","forEachNode","node","parent","children","parentNode","create","px","size","registerDBlock","Block","DBlock","elems","$$","found","registerDEach","createBlock","DEach","opts","item","itemName","indexName","_this","uid","constructValues","watchArgs","parentElem","uids","scope","UID","$uids","newKeys","newUIDs","evaluate","items","splice","Item","remove","after","block","shift","prev","insertAfter","values","registerDElements","DElements","_this2","mixins","watchersToRemove","child","mixin","filter","watchers","watcher","forDElements","indexOf","newContent","add","registerDIf","DIf","cond","evaluateAndWatch","if","newValue","Boolean","registerDItem","DItem","registerDSwitch","DSwitch","wasDefault","val","equals","registerDText","DText","registerDAttr","Mixin","DAttr","oldValue","removeAttr","registerDBind","DBind","off","on","registerDClass","DClass","removeClass","addClass","registerDElem","DElem","registerDHide","DHide","hide","show","registerDOn","DOn","evaluateOnce","registerDShow","DShow","registerDStyle","DStyle","removeCSS","css","registerDValidate","DValidate","validator","registerDValue","DValue","_value","type","propSwitcher","initialScopeValue","setProp","initialElemValue","getProp","listenerSwitcher","e","setValueSwitcher","getValueSwitcher","initApp","root","first","blocks","warn","attrName","isInstanceOfMixin","replacement","createComment","registerBlocks","isInstanceOfBlock","deepCloneChildren","registerBuiltIns","register","parentBlock","parentScope","svgNS","svg","localBlocks","dBlockMatch","expressionRegExp","currentMixins","_match","into","blockInstance","global","Args","locals","eventualArgs","defaultArgs","constructPrivateScope","scopeValues","DItemFound","privateScope","afterConstruct","err","afterRender","createMixin","newChild","transformDIfChildren","ifElse","isPrototypeOf","prototype","removeWatchers","constructPublicScope","define","evalMode","getting","temp","changed","oldTempWatchers","onRemove","was","perm","round","digits","zeroes","zero","repeat","now","date","Dat","isAbsolute","url","absoluteURLRegexp","encode","isEncoded","encodeURIComponent","fetchBeforeMiddleware","config","baseURL","data","headers","params","query","METHOD","toUpperCase","constructURL","transformData","header","Str","toCapitalCase","join","initRouter","initialized","Routes","redirectRoute","defaultRoute","RedirectRoute","route","parentName","ParentName","rootRoute","abstract","baseRoute","parentParams","parentQuery","path","relativeURL","relativePath","count","newPath","newURL","validatePath","location","href","pushed","closestLink","closest","preventDefault","makeRoute","callBeforeLoad","beforeLoadRoute","routeLoaded","callBeforeLeave","beforeLeaveRoute","fallbackTo","isDefault","default","wasRoot","Name","Route","unsubscribe","router","encodeParams","encodeQuery","hash","origin","buildURL","__isCurrentRoute__","currentRoute","currentRouteParams","subscribe","isCurrentRoute","delete","forward","changeRoute","findRouteByURL","host","hostname","pathname","port","protocol","search","urlParams","routeURL","requiredQuery","decodeParams","decodeQuery","resolved","resolveURL","eventualParams","param","hasOwn","decode","DefaultRoute","decodeURIComponent","changeHistory","resolveParameter","nameErrorName","valueErrorName","nameMatch","regexp","window","appliedRegExps","id","canvasGetMethods","canvasRestMethods","htmlElements","svgElements","voidElements","htmlAllowedTagSymbols","htmlAllowedAttrSymbols","regexpSpecialCharacters","RangeError","v","methods","TypeError","a","d","f","r","s","Symbol","chars","word","token","def","ret","Case","case","eventualCases","setPrototypeOf","Function","deep","sum","func","descriptors","property","descriptor","props","getter","isFrozen","replacer","space","unshift","stringify","max","obj","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","isContextObject","startKey","setter","reduce","secret","iterator","Promise","executor","reject","hiddenPromise","status","onReject","handled","onUnhandledRejection","onError","resolve","then","onFulfill","hiddenStatus","hiddenValue","realPromise","proxy","onRejected","onFulfilledOrRejected","isFunc","onFulfilled","promise","handle","handler","iterable","toResolve","next","done","console","bind","Func","called","canBeCalled","before","sync","contextLocked","context","middleware","afterAll","beforeAll","bindContext","bindArgs","times","lockContext","lockArgs","argsLocked","mark","time","timeEnd","unbindContext","unbindArgs","toRadian","PI","toDegree","ln2","LN2","ln10","LN10","Num","toDegrees","acos","asin","atan","asDegrees","cos","abort","clearTimeout","timeout","aborted","setTimeout","interval","log","power","pow","sin","tan","rej","fractionDigits","toExponential","toFixed","precision","toPrecision","abs","sqrt","cbrt","ceil","exp","ln","sign","keyOf","keyOfStrict","separator","pop","reverse","randomIndex","begin","compareFunction","sort","deleteCount","URL","progress","reader","FileReader","toReject","onprogress","onerror","onload","anchor","document","createElement","dataURL","setAttribute","click","createObjectURL","htmlSpecials","regexpSpecialsRegexp","searchString","position","revert","startsWith","escaped","symbol","searchValue","fromIndex","lastIndexOf","str","beginSlice","endSlice","substr","indexStart","indexEnd","substring","submitString","nodeSwitcher","InternalParsingError","ParsingError","throwUnexpectedError","globalIndex","elements","eventSeparator","textProperty","Node","propertyDescriptor","classes","inputElements","xmlNS","xlinkNS","xhtmlNS","typeSwitcher","ns","documentElement","namespaceURI","createElementNS","createTextNode","refSwitcher","filterSwitcher","is","innerSwitcher","paddings","borders","outerSwitcher","attrNSSwitcher","list","classList","insertAdjacentHTML","style","sheet","cssRules","rules","toHyphenCase","insertRule","dwayneData","strings","applied","setApplied","np1","attributes","getAttribute","getAttributeNS","setAttributeNS","_this4","load","isBroken","canvas","width","height","drawImage","byteString","atob","ab","ArrayBuffer","ia","Uint8Array","blur","pseudo","getComputedStyle","rule","childNodes","className","cloneNode","contains","appliedExpressions","getPropertyValue","getPropertyPriority","removeProperty","setProperty","cssText","toCamelCase","ctx","dataset","encoderOptions","toDataURL","deleteRule","event","eventInit","details","bubbles","cancelable","finalEvent","Event","createEvent","initEvent","dispatchEvent","focus","selectorText","hasAttribute","hasAttributeNS","currentDisplay","previousDisplay","insertBefore","appendChild","firstChild","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","complete","naturalWidth","naturalHeight","images","all","$elem","removeListeners","proper","broken","nextSibling","events","listeners","removeListener","listener","allListeners","removeEventListeners","has","newListener","addEventListener","removeEventListener","previousSibling","link","removeChild","removeAttribute","removeAttributeNS","2","1","created","txt","_arguments6","hasAttr","hasClass","level","validatorWrap","input","errors","validity","valid","validationMessage","validators","formErrors","form","inputs","dispatch","inputError","every","innerHeight","calcCSS","borderTopWidth","borderBottomWidth","boxSizing","paddingTop","paddingBottom","innerWidth","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","outerHeight","marginTop","marginBottom","outerWidth","marginLeft","marginRight","win","body","head","inputValue","onEvalError","originalArgs","expression","onChange","instance","forDItem","forDEach","expr","DwayneStore","store","localWatchers","newResult","watcherBlock","index1","index2","arg","DwayneBlock","isParentSignal","beforeRemove","variable","_this3","_this5","local","_this6","Blocks","afterUpdate","Mixins","daysOfTheWeekNames","daysOfTheWeekAliases","monthsNames","monthsAliases","utc","coeffs","getSwitcher","setSwitcher","what","prefix","formats","format","replaceString","date1","date2","isBefore","started","coeff","w","setTime","toISOString","toLocaleString","valueOf","querySwitcher","queryParams","encodeOptions","rawHeaders","notToTransform","withoutBody","indexOfStrict","contentType","defaults","uploadMethods","Fetch","fetch","request","conf","toPush","dataConfig","urlConfig","xhr","auth","username","password","responseType","withCredentials","XMLHttpRequest","open","setRequestHeader","upload","onabort","ontimeout","onreadystatechange","readyState","response","responseText","parseHeaders","getAllResponseHeaders","statusText","catch","send","rawParam","paramName","paramObject","subscribers","history","pathSwitcher","part","escapeRegExp","statics"],"mappings":"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","preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL2xpYi9oZWxwZXJzL3RvU3RyaW5nVGFnLmpzIiwiLi4vbGliL2hlbHBlcnMvY2hlY2tUeXBlcy5qcyIsIi4uL2xpYi9ELmpzIiwiLi4vbGliL2hlbHBlcnMvaXRlcmF0ZS5qcyIsIi4uL2xpYi9oZWxwZXJzL2Fzc2lnbi5qcyIsIi4uL2xpYi9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwiLi4vbGliL2hlbHBlcnMvdG9BcnJheS5qcyIsIi4uL2xpYi9oZWxwZXJzL3ZhbGlkYXRlLmpzIiwiLi4vbGliL0FscGhhYmV0LmpzIiwiLi4vbGliL1N3aXRjaGVyLmpzIiwiLi4vbGliL1N1cGVyLmpzIiwiLi4vbGliL0Z1bmMuanMiLCIuLi9saWIvTnVtLmpzIiwiLi4vbGliL0Fyci5qcyIsIi4uL2xpYi9CbG9iT2JqZWN0LmpzIiwiLi4vbGliL1N0ci5qcyIsIi4uL2xpYi9oZWxwZXJzL21hcmt1cFRvSlNPTi5qcyIsIi4uL2xpYi9FbGVtLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWJsb2NrLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWVhY2guanMiLCIuLi9saWIvYmxvY2tzL2QtZWxlbWVudHMuanMiLCIuLi9saWIvYmxvY2tzL2QtaWYuanMiLCIuLi9saWIvYmxvY2tzL2QtaXRlbS5qcyIsIi4uL2xpYi9ibG9ja3MvZC1zd2l0Y2guanMiLCIuLi9saWIvYmxvY2tzL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC1hdHRyLmpzIiwiLi4vbGliL21peGlucy9kLWJpbmQuanMiLCIuLi9saWIvbWl4aW5zL2QtY2xhc3MuanMiLCIuLi9saWIvbWl4aW5zL2QtZWxlbS5qcyIsIi4uL2xpYi9taXhpbnMvZC1oaWRlLmpzIiwiLi4vbGliL21peGlucy9kLW9uLmpzIiwiLi4vbGliL21peGlucy9kLXNob3cuanMiLCIuLi9saWIvbWl4aW5zL2Qtc3R5bGUuanMiLCIuLi9saWIvbWl4aW5zL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWxpZGF0ZS5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWx1ZS5qcyIsIi4uL2xpYi9CbG9jay5qcyIsIi4uL2xpYi9jb25zdGFudHMvZm9ybWF0cy5qcyIsIi4uL2xpYi9EYXQuanMiLCIuLi9saWIvaGVscGVycy9jb25zdHJ1Y3RVUkwuanMiLCIuLi9saWIvRmV0Y2guanMiLCIuLi9saWIvUm91dGVyLmpzIiwiLi4vbGliL2NvbnN0YW50cy9nbG9iYWwuanMiLCIuLi9saWIvY29uc3RhbnRzL2FwcGxpZWRSZWdFeHBzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jYW52YXNNZXRob2RzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jb25zdHJ1Y3RvcnMuanMiLCIuLi9saWIvY29uc3RhbnRzL2VsZW1lbnRzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9odG1sQWxsb3dlZFRhZ1N5bWJvbHMuanMiLCIuLi9saWIvY29uc3RhbnRzL3JlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzLmpzIiwiLi4vbGliL2NvbnN0YW50cy92YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMuanMiLCIuLi9saWIvaGVscGVycy9TeW1ib2wuanMiLCIuLi9saWIvUHJvbWlzZS5qcyIsIi4uL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIi4uL2xpYi9oZWxwZXJzL3RyYW5zZm9ybURhdGEuanMiLCIuLi9saWIvaGVscGVycy9yZXNvbHZlVVJMLmpzIiwiLi4vYnJvd3Nlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3RvU3RyaW5nVGFnXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHRvU3RyaW5nVGFnIG1ldGhvZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvU3RyaW5nVGFnXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGdldCB0b1N0cmluZ1RhZyBvZi5cclxuICogQHJldHVybnMge1N0cmluZ30gQ3V0IHN0cmluZy5cclxuICogQGRlc2NyaXB0aW9uIEN1dCBcIlR5cGVcIiBzdHJpbmcgZnJvbSBcIltvYmplY3QgVHlwZV1cIiBzdHJpbmcgdGhhdCBnb3R0ZW4gZnJvbSB7fS50b1N0cmluZyxjYWxsKG9iamVjdCkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdUYWcob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqZWN0KS5yZXBsYWNlKC9eXFxbb2JqZWN0IHxdJC9nLCAnJyk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9jaGVja1R5cGVzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBpczxUeXBlPiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHRvU3RyaW5nVGFnIH0gZnJvbSAnLi90b1N0cmluZ1RhZyc7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzQXJyYXlcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYW4gYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXkgb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNBcnJheShbXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzQXJyYXkoMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7IC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdBcnJheSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNBcnJheUxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYXJyYXktbGlrZS5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhcnJheS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIHRoZSBhcmd1bWVudCBoYXMgbm9uLW5lZ2F0aXZlIGludGVnZXIgXCJsZW5ndGhcIiBwcm9wZXJ0eSBhbmQgaXNuJ3QgYSBmdW5jdGlvbi5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzQXJyYXlMaWtlKFtdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNBcnJheUxpa2UoJycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5TGlrZSgoKSA9PiB7fSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0FycmF5TGlrZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcclxuICBpZiAoIXZhbHVlIHx8IGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcclxuICBcclxuICByZXR1cm4gaXNJbnRlZ2VyKGxlbmd0aCkgJiYgbGVuZ3RoID49IDA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNCb29sZWFuXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgYm9vbGVhbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIGJvb2xlYW4gb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNCb29sZWFuKHRydWUpOyAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNCb29sZWFuKG5ldyBCb29sZWFuKGZhbHNlKSk7IC8vIHRydWVcclxuICogaXNCb29sZWFuKG51bGwpOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Jvb2xlYW4nO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRGF0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIGRhdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBkYXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRGF0ZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRGF0ZSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNEYXRlTGlrZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBkYXRlLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZGF0ZS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIG5ldyBEYXRlKGFyZ3VtZW50KSBpcyBub3QgaW52YWxpZCBkYXRlLlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNEYXRlTGlrZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJyk7IC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGVMaWtlKHZhbHVlKSB7XHJcbiAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICFpc05hTih2YWx1ZS5nZXRUaW1lKCkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbWVudFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBlbGVtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGVsZW1lbnQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xyXG4gIHJldHVybiAvRWxlbWVudCQvLnRlc3QodG9TdHJpbmdUYWcodmFsdWUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Zpbml0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBmaW5pdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZmluaXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRmluaXRlKDApOyAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0Zpbml0ZSgnMCcpOyAgICAgIC8vIGZhbHNlXHJcbiAqIGlzRmluaXRlKEluZmluaXR5KTsgLy8gZmFsc2VcclxuICogaXNGaW5pdGUoTmFOKTsgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gIWlzTmFOKHZhbHVlKSAmJiB2YWx1ZSAhPT0gSW5maW5pdHkgJiYgdmFsdWUgIT09IC1JbmZpbml0eTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Z1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgZnVuY3Rpb24uXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiBvciBub3QuXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0Z1bmN0aW9uKCgpID0+IHt9KTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIFxyXG4gKiBjb25zdCBmdW5jID0gKCkgPT4ge307XHJcbiAqIE9iamVjdC5zZXRQcm90b3R5cGVPZihmdW5jLCB7fSk7XHJcbiAqIGlzRnVuY3Rpb24oZnVuYyk7ICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNJbnRlZ2VyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGFuIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW50ZWdlciBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlcigwKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoMC4xKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihJbmZpbml0eSk7ICAgICAgLy8gZmFsc2VcclxuICogaXNJbnRlZ2VyKE5hTik7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xyXG4gIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgJSAxID09PSAwO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSW50ZWdlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgaW50ZWdlci1saWtlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGludGVnZXItbGlrZSBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlckxpa2UoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNJbnRlZ2VyTGlrZShuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXJMaWtlKDAuMSk7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0ludGVnZXJMaWtlKCcwJyk7ICAgICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlZ2VyTGlrZSh2YWx1ZSkge1xyXG4gIHZhbHVlID0gcGFyc2VJbnQoTnVtYmVyKHZhbHVlKSk7XHJcblxyXG4gIHJldHVybiAhISh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOYU5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgTmFOLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIE5hTiBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzTmFOKDApOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKCdOYU4nKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKE5hTik7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOYU4obmV3IE51bWJlcihOYU4pKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVsbFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBudWxsLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIG51bGwgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bGwobnVsbCk7ICAgICAgLy8gdHJ1ZVxyXG4gKiBpc051bGwodW5kZWZpbmVkKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcclxuICByZXR1cm4gdmFsdWUgPT09IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOaWxcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVsbCBvciB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc05pbChudWxsKTsgICAgICAvLyB0cnVlXHJcbiAqIGlzTmlsKHVuZGVmaW5lZCk7IC8vIHRydWVcclxuICogaXNOaWwoZmFsc2UpOyAgICAgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVtYmVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNOdW1iZXIoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIobmV3IE51bWJlcigwKSk7IC8vIHRydWVcclxuICogaXNOdW1iZXIoTmFOKTsgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnTnVtYmVyJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc051bWJlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVtYmVyLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVtYmVyLWxpa2Ugb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bWJlckxpa2UoMCk7ICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKCcwJyk7ICAgICAgICAvLyB0cnVlXHJcbiAqIGlzTnVtYmVyTGlrZSgnSW5maW5pdHknKTsgLy8gdHJ1ZVxyXG4gKiBpc051bWJlckxpa2UoJ05hTicpOyAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKE5hTik7ICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXJMaWtlKHZhbHVlKSB7XHJcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ05hTicpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBcclxuICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICEhKHZhbHVlIHx8IHZhbHVlID09PSAwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc09iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBvYmplY3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0IG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNPYmplY3Qoe30pOyAgIC8vIHRydWVcclxuICogaXNPYmplY3QoMSk7ICAgIC8vIGZhbHNlXHJcbiAqIGlzT2JqZWN0KG51bGwpOyAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ09iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNQbGFpbk9iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHBsYWluIG9iamVjdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHBsYWluIG9iamVjdCBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IG9iaiA9IHt9O1xyXG4gKlxyXG4gKiBpZlBsYWluT2JqZWN0KG9iaik7IC8vIHRydWVcclxuICpcclxuICogT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgbnVsbCk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gdHJ1ZVxyXG4gKlxyXG4gKiBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCB7fSk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XHJcbiAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xyXG5cclxuICBpZiAoaXNOdWxsKHByb3RvKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25zdHJ1Y3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xyXG5cclxuICByZXR1cm4gaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiZcclxuICAgIGNvbnN0cnVjdG9yIGluc3RhbmNlb2YgY29uc3RydWN0b3IgJiZcclxuICAgIGlzTnVsbChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1ByaW1pdGl2ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBwcmltaXRpdmUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgcHJpbWl0aXZlIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNQcmltaXRpdmUoMSk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNQcmltaXRpdmUoe30pOyAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzUHJpbWl0aXZlKCcnKTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUHJpbWl0aXZlKG5ldyBOdW1iZXIoMCkpOyAvLyBmYWxzZVxyXG4gKiBpc1ByaW1pdGl2ZSh0cnVlKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShTeW1ib2woJ2ZvbycpKTsgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShudWxsKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZSh1bmRlZmluZWQpOyAgICAgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XHJcbiAgcmV0dXJuIGlzTnVsbCh2YWx1ZSkgfHwgL14obnVtYmVyfHN0cmluZ3xib29sZWFufHN5bWJvbHx1bmRlZmluZWQpJC8udGVzdCh0eXBlb2YgdmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzUmVnRXhwXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgcmVndWxhciBleHByZXNzaW9uIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNSZWdFeHAoL2Zvby8pOyAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUmVnRXhwKCcvZm9vLycpOyAgICAgICAgICAgLy8gZmFsc2VcclxuICogaXNSZWdFeHAobmV3IFJlZ0V4cCgnZm9vJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnUmVnRXhwJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1N0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHN0cmluZy5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHN0cmluZyBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzU3RyaW5nKCcwJyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNTdHJpbmcobmV3IFN0cmluZygnMCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ1N0cmluZyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTeW1ib2xcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYSBzeW1ib2wuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBzeW1ib2wgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1N5bWJvbChTeW1ib2woJzEnKSk7IC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdTeW1ib2wnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzVW5kZWZpbmVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIHVuZGVmaW5lZC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1VuZGVmaW5lZChudWxsKTsgICAgICAvLyBmYWxzZVxyXG4gKiBpc1VuZGVmaW5lZCh1bmRlZmluZWQpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcclxuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBEXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEQgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBEXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbdmFsdWVdIC0gQW55IHZhbHVlLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IFdyYXAgb2YgdGhlIGFyZ3VtZW50LlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgRC13cmFwIG9mIGFuIG9iamVjdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogRCh7fSk7ICAgICAgICAgICAgLy8gU3VwZXJcclxuICogRCgoKSA9PiB7fSk7ICAgICAgLy8gRnVuY1xyXG4gKiBEKFtdKTsgICAgICAgICAgICAvLyBBcnJcclxuICogRCgxKTsgICAgICAgICAgICAgLy8gTnVtXHJcbiAqIEQoJzEnKTsgICAgICAgICAgIC8vIFN0clxyXG4gKiBEKG5ldyBEYXRlKCkpOyAgICAvLyBEYXRcclxuICogRChkb2N1bWVudC5ib2R5KTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gRCh2YWx1ZSkge1xyXG4gIGZvciAobGV0IGkgPSBjb25zdHJ1Y3RvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIGNvbnN0IGxldmVsQ29uc3RydWN0b3JzID0gY29uc3RydWN0b3JzW2ldO1xyXG5cclxuICAgIGZvciAobGV0IGsgPSAwLCBsZW4gPSBsZXZlbENvbnN0cnVjdG9ycy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGxldmVsQ29uc3RydWN0b3JzW2tdO1xyXG5cclxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgY29uc3RydWN0b3IuY2xzKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uc3RydWN0b3IuY2hlY2sodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3Rvci5jbHModmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2hlbHBlcnMvY2hlY2tUeXBlcyc7XHJcbmV4cG9ydCB7IEQgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9pdGVyYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGl0ZXJhdGUgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGlzQXJyYXlMaWtlLCBpc1VuZGVmaW5lZCB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGlvbkNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBJdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gSXRlcmF0aW9uIGtleS5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJbml0aWFsIGl0ZXJhYmxlIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHBhcmFtIHsoT2JqZWN0fEFycmF5fG51bGx8dW5kZWZpbmVkKX0gb2JqZWN0IC0gVmFsdWUgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IElmIGNhbGxiYWNrIHJldHVybnMgbm90IHVuZGVmaW5lZCB0aGVuIGl0ZXJhdGUgcmV0dXJucyB0aGlzIHZhbHVlLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGl0ZXJhdGluZyBvdmVyIGFsbCB0eXBlcyBvZiB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXRlcmF0ZShvYmplY3QsIGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgYXJyYXkgPSBpc0FycmF5TGlrZShvYmplY3QpO1xyXG4gIGNvbnN0IGl0ZXJhdGVkS2V5cyA9IHt9O1xyXG5cclxuICBsZXQgaXRlcmF0ZWQgPSAwO1xyXG5cclxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcclxuICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhdGVkS2V5cywga2V5KSkge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlZEtleXNba2V5XSA9IHRydWU7XHJcblxyXG4gICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XHJcbiAgICAgIGlmIChhcnJheSAmJiBpdGVyYXRlZCsrID49IG9iamVjdC5sZW5ndGgpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdmFsdWUgPSBjYWxsYmFjayhvYmplY3Rba2V5XSwgYXJyYXkgPyBOdW1iZXIoa2V5KSA6IGtleSwgb2JqZWN0KTtcclxuXHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvYXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE9iamVjdC5hc3NpZ24tbGlrZSBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaXRlcmF0ZSB9IGZyb20gJy4vaXRlcmF0ZSc7XHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEBmdW5jdGlvbiBhc3NpZ25cclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBhc3NpZ24gcmVzdCBvZiBhcmd1bWVudHMgdG8uXHJcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzIC0gT2JqZWN0cyB0aGF0IGFyZSBhc3NpZ25lZCB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUYXJnZXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgLi4ub2JqZWN0cykge1xyXG4gIGl0ZXJhdGUoYXJndW1lbnRzLCAoc291cmNlLCBpbmRleCkgPT4ge1xyXG4gICAgaWYgKGluZGV4KSB7XHJcbiAgICAgIGl0ZXJhdGUoc291cmNlLCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICAgXHJcbiAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL2RlZmluZVByb3BlcnR5XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRlZmluZVByb3BlcnR5IGFuZCBkeW5hbWljRGVmaW5lUHJvcGVydGllcyBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGl0ZXJhdGUgfSBmcm9tICcuL2l0ZXJhdGUnO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSW5kZXggb2YgdGhlIGFycmF5LlxyXG4gKiBAcmV0dXJucyB7Kn0gR2VuZXJhdGVkIHByb3BlcnR5LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZHluYW1pY0RlZmluZVByb3BlcnRpZXNcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBkZWZpbmUgcHJvcGVydGllcyBmb3IuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BlcnRpZXMgLSBPYmplY3Qgd2hpY2gga2V5cyBhcmUgcHJvcGVydGllcy5cclxuICogQHBhcmFtIHtwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrfSBwcm9wZXJ0eUdlbmVyYXRvciAtIENhbGxiYWNrIGZvciBldmVyeSBwcm9wZXJ0eS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgZHluYW1pYyBjcmVhdGluZyBwcm9wZXJ0aWVzIGJhc2VkIG9uIG5hbWUgb2YgdGhlIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljRGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMsIHByb3BlcnR5R2VuZXJhdG9yKSB7XHJcbiAgaXRlcmF0ZShwcm9wZXJ0aWVzLCAobmFtZSwgaSkgPT4ge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICB2YWx1ZTogcHJvcGVydHlHZW5lcmF0b3IobmFtZSwgaSksXHJcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBUYXJnZXQgdG8gZGVmaW5lIHByb3BlcnRpZXMgZm9yLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmVlZGVkIHRvIGJlIGFzc2lnbiB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBkZWZpbmluZyBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcGVydGllcykge1xyXG4gIGl0ZXJhdGUocHJvcGVydGllcywgKG1ldGhvZCwgbmFtZSkgPT4ge1xyXG4gICAgaWYgKC9eZ2V0IC8udGVzdChuYW1lKSkge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLnJlcGxhY2UoL15nZXQgLywgJycpLCB7XHJcbiAgICAgICAgZ2V0OiBtZXRob2QsXHJcbiAgICAgICAgc2V0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvXnNldCAvLnRlc3QobmFtZSkpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZS5yZXBsYWNlKC9ec2V0IC8sICcnKSwge1xyXG4gICAgICAgIHNldDogbWV0aG9kLFxyXG4gICAgICAgIGdldDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoL15nZXRcXC9zZXQgLy50ZXN0KG5hbWUpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUucmVwbGFjZSgvXmdldFxcL3NldCAvLCAnJyksIHtcclxuICAgICAgICBnZXQ6IG1ldGhvZC5nZXQsXHJcbiAgICAgICAgc2V0OiBtZXRob2Quc2V0LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSAhPT0gJ1N5bWJvbC50b1N0cmluZ1RhZycpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICAgIHZhbHVlOiBtZXRob2QsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvdG9BcnJheVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyB0b0FycmF5IG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNTdHJpbmcgfSBmcm9tICcuL2NoZWNrVHlwZXMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdG9BcnJheVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQW55IHZhbHVlLlxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtjcmVhdGVOZXdBcnJheSA9IGZhbHNlXSAtIElmIGl0IGlzIG5lZWRlZCB0byBjcmVhdGUgbmV3IGFycmF5LlxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IENyZWF0ZSBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhcnJheSBvZiBhbnkgdmFsdWUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgY3JlYXRlTmV3QXJyYXkpIHtcclxuICBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgIWNyZWF0ZU5ld0FycmF5KSB7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhcnJheSA9IFtdO1xyXG5cclxuICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmICFpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgIGl0ZXJhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBhcnJheTtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3ZhbGlkYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHZhbGlkYXRlIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyB2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG5jb25zdCBudW1iZXJzID0gWycxc3QnLCAnMm5kJywgJzNyZCcsICc0dGgnLCAnNXRoJywgJzZ0aCcsICc3dGgnXTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdmFsaWRhdGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBBcmd1bWVudHMgb2YgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT2JqZWN0IHdpdGggdmFsaWRhdGUgcGFyYW1ldGVycy5cclxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIE5hbWUgb2YgdGhlIGZ1bmN0aW9uIHdoYXQgY2FsbGVkIHZhbGlkYXRlLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjaGVja2luZyBhcmd1bWVudHMgb2Ygb3RoZXIgZnVuY3Rpb25zLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGFyZ3MsIG9wdGlvbnMsIG5hbWUpIHtcclxuICBpdGVyYXRlKG9wdGlvbnMsIChhcnJheSwgbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIWlzQXJyYXkoYXJyYXkpKSB7XHJcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFycmF5LCAoY2hlY2tlcikgPT4ge1xyXG4gICAgICBjaGVja2VyID0gdmFsaWRhdGVDaGVja0V4cHJlc3Npb25zW2NoZWNrZXJdO1xyXG5cclxuICAgICAgaWYgKCFjaGVja2VyLmNoZWNrKGFyZ3NbbnVtYmVyXSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgY2hlY2tlci5lcnJvcihjaGVja2VyLnRleHQucmVwbGFjZSgnJG4nLCBudW1iZXJzW251bWJlcl0pICsgKG5hbWUgPyBgIChhdCAkeyBuYW1lIH0pYCA6ICcnKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEFscGhhYmV0XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBBbHBoYWJldCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc1N0cmluZywgdmFsaWRhdGUsIGRlZmluZVByb3BlcnRpZXMsIFN5bWJvbCB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ30gQ2hhclxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBvZiBvbmUgY2hhci5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtBcnJheUxpa2V9IGFscGhhYmV0IC0gQWxwaGFiZXQgdG8gd3JhcC5cclxuICogQHJldHVybnMge0FscGhhYmV0fSBJbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBhbHBoYWJldCBtYW5pcHVsYXRpb25zOiBhZGQsIGRlbGV0ZSBzeW1ib2xzLCBnZW5lcmF0ZSBhIHRva2VuIGZyb20gYW4gYWxwaGFiZXQsXHJcbiAqIGNoZWNrIGlmIGFuIGFscGhhYmV0IGNvbnRhaW5zIGEgd29yZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAqL1xyXG5jbGFzcyBBbHBoYWJldCB7XHJcbiAgY29uc3RydWN0b3IoYWxwaGFiZXQgPSBbXSkge1xyXG4gICAgY29uc3QgYSA9IHt9O1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBhbHBoYWJldC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjaGFyID0gYWxwaGFiZXRbaV07XHJcblxyXG4gICAgICBpZiAoIWNoZWNrKGNoYXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXkgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFbY2hhcl0gPSBjaGFyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7T2JqZWN0fSBBbHBoYWJldCMkJFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSBhbHBoYWJldC5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICckJCcsIHsgdmFsdWU6IGEgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFscGhhYmV0I2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLkNoYXJ9IGNoYXJzIC0gQ2hhcnMgdG8gYWRkLlxyXG4gICAqIEByZXR1cm5zIHtBbHBoYWJldH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgbGV0dGVycyB0byB0aGUgYWxwaGFiZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGFscGhhYmV0ID0gbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5hZGQoJ2QnLCAnZScpO1xyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZ2V0KCkuJDsgLy8gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxyXG4gICAqL1xyXG4gIGFkZCguLi5jaGFycykge1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGNoYXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc1tpXTtcclxuXHJcbiAgICAgIGlmICghY2hlY2soY2hhcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VhY2ggYXJndW1lbnQgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQjYWRkKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkW2NoYXJdID0gY2hhcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjY29udGFpbnNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHdvcmQgLSBXb3JkIHRvIGNoZWNrIGlmIGl0IGlzIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB3b3JkIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCB0aGF0IHJldHVybnMgaWYgYSB3b3JkIGlzIGluIGFscGhhYmV0IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgYWxwaGFiZXQgPSBuZXcgQWxwaGFiZXQoWydmJywgJ2InLCAnbycsICdhJywgJ3InXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnZm9vJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmFyJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmF6Jyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgY29udGFpbnMod29yZCkge1xyXG4gICAgdmFsaWRhdGUoW3dvcmRdLCBbJ3N0cmluZyddLCAnQWxwaGFiZXQjY29udGFpbnMnKTtcclxuXHJcbiAgICBjb25zdCBhbHBoYWJldCA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHdvcmQubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFhbHBoYWJldFt3b3JkW2ldXSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5DaGFyfSBjaGFycyAtIENoYXJzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7QWxwaGFiZXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWxldGluZyBsZXR0ZXJzIGZyb20gdGhlIGFscGhhYmV0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBhbHBoYWJldCA9IG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJywgJ2QnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5kZWxldGUoJ2EnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYicsICdjJywgJ2QnXVxyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZGVsZXRlKCdiJywgJ2QnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYyddXHJcbiAgICovXHJcbiAgZGVsZXRlKC4uLmNoYXJzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gY2hhcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hhciA9IGNoYXJzW2ldO1xyXG5cclxuICAgICAgaWYgKCFjaGVjayhjaGFyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRWFjaCBhcmd1bWVudCBtdXN0IGJlIGEgc2luZ2xlIGNoYXIhIChpbiBBbHBoYWJldCNkZWxldGUpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlbGV0ZSB0aGlzLiQkW2NoYXJdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNnZXRcclxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFdyYXAgb2YgYW4gYXJyYXkgb2YgYWxwaGFiZXQgbGV0dGVycy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIGFycmF5IG9mIGFscGhhYmV0IGxldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJ10pLmdldCgpLiQ7IC8vIFsnYScsICdiJywgJ2MnXVxyXG4gICAqL1xyXG4gIGdldCgpIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLiQkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjdG9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIFRva2VuIGxlbmd0aC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZW5lcmF0aW5nIHJhbmRvbSB0b2tlbiB3aXRoIGdpdmVuIGxlbmd0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSkudG9rZW4oNCk7IC8vICdhYmNiJ1xyXG4gICAqL1xyXG4gIHRva2VuKGxlbmd0aCkge1xyXG4gICAgdmFsaWRhdGUoW2xlbmd0aF0sIFtbJ2ludExpa2UnLCAnPjAnXV0sICdBbHBoYWJldCN0b2tlbicpO1xyXG5cclxuICAgIGNvbnN0IGFscGhhYmV0ID0gT2JqZWN0LmtleXModGhpcy4kJCk7XHJcbiAgICBjb25zdCBsZW4gPSBhbHBoYWJldC5sZW5ndGg7XHJcbiAgICBsZXQgdG9rZW4gPSAnJztcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRva2VuICs9IGFscGhhYmV0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlbildO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b2tlbjtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoQWxwaGFiZXQucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdBbHBoYWJldCdcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVjayhjaGFyKSB7XHJcbiAgcmV0dXJuIGlzU3RyaW5nKGNoYXIpICYmIGNoYXIubGVuZ3RoID09PSAxO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byBnZW5lcmF0ZSBhbiBhbHBoYWJldCBmcm9tLlxyXG4gKiBAcmV0dXJucyB7QWxwaGFiZXR9IE5ldyBpbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhbHBoYWJldCBmcm9tIGEgc3RyaW5nIHRoYXQgaGFzIGZvcm1hdCBsaWtlIHRoaXM6XHJcbiAqICcmbHQ7Y2hhcjEmZ3Q7LSZsdDtjaGFyMiZndDsgJmx0O2NoYXIzJmd0Oy0mbHQ7Y2hhcjQmZ3Q7J1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBhMSA9IGFscGhhYmV0KCdhLWMgMS0zJyk7XHJcbiAqIGNvbnN0IGEyID0gYWxwaGFiZXQoJzUtNWYtZycpO1xyXG4gKlxyXG4gKiBhMS5nZXQoKS4kOyAvLyBbJzEnLCAnMicsICczJywgJ2EnLCAnYicsICdjJ11cclxuICogYTIuZ2V0KCkuJDsgLy8gWyc1JywgJ2YnLCAnZyddXHJcbiAqL1xyXG5mdW5jdGlvbiBhbHBoYWJldChzdHJpbmcpIHtcclxuICB2YWxpZGF0ZShbc3RyaW5nXSwgWydzdHJpbmcnXSk7XHJcblxyXG4gIGNvbnN0IHJhbmdlcyA9IHN0cmluZy5zcGxpdCgvKFtcXHNcXFNdLStbXFxzXFxTXSk/L2cpO1xyXG4gIGNvbnN0IGxlbmd0aCA9IHJhbmdlcy5sZW5ndGg7XHJcbiAgY29uc3QgYWxwaGFiZXQgPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgcmFuZ2UgPSByYW5nZXNbaV07XHJcblxyXG4gICAgaWYgKCFyYW5nZSB8fCByYW5nZSA9PT0gJyAnKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkgJiYgIS9bXFxzXFxTXS0rW1xcc1xcU10vLnRlc3QocmFuZ2UpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgV3JvbmcgcGFydCBvZiB0aGUgc3RyaW5nICgkeyByYW5nZSB9KSEgKGluIGFscGhhYmV0KWApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkpIHtcclxuICAgICAgY29uc3Qgc3RhcnQgPSByYW5nZS5jaGFyQ29kZUF0KDApO1xyXG4gICAgICBjb25zdCBlbmQgPSByYW5nZS5jaGFyQ29kZUF0KDIpO1xyXG5cclxuICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBvZiB0aGUgcmFuZ2UgbXVzdCBiZSBiZWZvcmUgaXRzIGVuZCEgKGluIGFscGhhYmV0KScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBrID0gMCwgbGVuID0gZW5kIC0gc3RhcnQgKyAxOyBrIDwgbGVuOyBrKyspIHtcclxuICAgICAgICBhbHBoYWJldC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoc3RhcnQgKyBrKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyYW5nZS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgYWxwaGFiZXQucHVzaChyYW5nZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IEFscGhhYmV0KGFscGhhYmV0KTtcclxufVxyXG5cclxuZXhwb3J0IHsgQWxwaGFiZXQsIGFscGhhYmV0IH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIFN3aXRjaGVyXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBTd2l0Y2hlciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCxcclxuICBpdGVyYXRlLCBTeW1ib2wsIHRvQXJyYXksIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYm9vbGVhbid8J2VxdWFscyd8J3N0cmljdEVxdWFscyd8J2NhbGwnfSBTd2l0Y2hlck1vZGVcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHN3aXRjaGVyIG1vZGVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3dpdGNoZXJDYWxsQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufCp9IE9uIHdoYXQgdGhlIGNhbGxiYWNrIHJldHVybnMgZGVwZW5kcyBpZiB0aGUgY2FzZSBpcyBhIG1hdGNoICh0cnV0aHkgZm9yIHRoZSBtYXRjaCkuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBTd2l0Y2hlck1hdGNoQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgLSBBcmd1bWVudHMgZnJvbSB0aGUgc2Vjb25kIGFyZ3VtZW50IHRoYXQgc3dpdGNoZXIgd2FzIGNhbGxlZCB3aXRoLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gbWF0Y2hlZCAtIFN3aXRjaGVyIG1hdGNoZWQgY2FzZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIFN3aXRjaGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtPYmplY3R9IFtjYXNlcyA9IHt9XSAtIE9iamVjdCBvZiBjYXNlcy5cclxuICogQHBhcmFtIHtTd2l0Y2hlck1vZGV9IFttb2RlID0gJ2VxdWFscyddIC0gU3dpdGNoZXIgbW9kZS5cclxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAtIFN3aXRjaGVyIGRlZmF1bHQgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtTd2l0Y2hlcn0gLSBJbnN0YW5jZSBvZiBTd2l0Y2hlci5cclxuICogQGRlc2NyaXB0aW9uIFN3aXRjaGVyIGNsYXNzIGZvciBjcmVhdGluZyBmdW5jdGlvbnMgd29ya2luZyBzaW1pbGFyIHRvIHN3aXRjaCAodmFsdWUpIHt9IGNvbnN0cnVjdGlvbixcclxuICogYnV0IHdpdGggdGhlIHZhbHVlIGFzc2lnbm1lbnQuIFN3aXRjaGVyIGluc3RhbmNlIGlzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgdmFsdWUgYXJndW1lbnQgYW5kIGFuIG9wdGlvbmFsXHJcbiAqIGFyZ3MgYXJndW1lbnQuIEFyZ3Mgd2l0aCBhZGRpdGlvbmFsIHN3aXRjaGVyIHZhbHVlIGFuZCBtYXRjaGVkIGNhc2VcclxuICogYXJlIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbiBvZiB0aGUgbWF0Y2hlZCBjYXNlIChpZiBpdCBpcyBhIGZ1bmN0aW9uKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSk7XHJcbiAqIGNvbnN0IHN3aXRjaGVyID0gbmV3IFN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSwgJ3N0cmljdEVxdWFscycpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcih7XHJcbiAqICAgY2FzZTE6ICd2YWx1ZTEnLFxyXG4gKiAgIGNhc2UyOiAndmFsdWUyJ1xyXG4gKiB9LCAnc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKlxyXG4gKiAvLyBTZWUgW3N3aXRjaGVyXXtAbGluayBzd2l0Y2hlcn0gZXhhbXBsZXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIEZ1bmN0aW9uIHtcclxuICBjb25zdHJ1Y3RvcihjYXNlcyA9IHt9LCBtb2RlID0gJ2VxdWFscycsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBpZiAoaXNTdHJpbmcoY2FzZXMpKSB7XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQoYXJndW1lbnRzWzFdKSkge1xyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IG1vZGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1vZGUgPSBjYXNlcztcclxuICAgICAgY2FzZXMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBldmVudHVhbENhc2VzID0gW107XHJcblxyXG4gICAgaXRlcmF0ZShjYXNlcywgKHZhbHVlLCBDYXNlKSA9PiB7XHJcbiAgICAgIGV2ZW50dWFsQ2FzZXMucHVzaCh7IGNhc2U6IENhc2UsIHZhbHVlIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3dpdGNoZXIodmFsdWUsIGFyZ3MgPSBbXSkge1xyXG4gICAgICBjb25zdCB7IG1vZGUsIGRlZmF1bHQ6IGRlZiwgY2FzZXMgfSA9IHN3aXRjaGVyLiQkO1xyXG5cclxuICAgICAgbGV0IHJldCA9IGl0ZXJhdGUoY2FzZXMsICh7IHZhbHVlOiB2YWwsIGNhc2U6IENhc2UgfSkgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChtb2RlID09PSAnYm9vbGVhbicgJiYgQ2FzZSkgfHxcclxuICAgICAgICAgIC8qIGVzbGludCBlcWVxZXE6IDAgKi9cclxuICAgICAgICAgIChtb2RlID09PSAnZXF1YWxzJyAmJiBDYXNlID09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdzdHJpY3RFcXVhbHMnICYmIENhc2UgPT09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdjYWxsJyAmJiBDYXNlKHZhbHVlKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiB7IGNhc2U6IENhc2UsIHZhbHVlOiB2YWwgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHJldCkpIHtcclxuICAgICAgICByZXQgPSB7IHZhbHVlOiBkZWYgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJldC52YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gcmV0LnZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcmdzID0gdG9BcnJheShhcmdzLCB0cnVlKTtcclxuICAgICAgYXJncy5wdXNoKHZhbHVlLCByZXQuY2FzZSk7XHJcblxyXG4gICAgICByZXR1cm4gcmV0LnZhbHVlLmFwcGx5KG51bGwsIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBTd2l0Y2hlciMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGNhc2VzIC0gQXJyYXkgb2YgY2FzZXMuXHJcbiAgICAgKiBAcHJvcGVydHkge1N3aXRjaGVyTW9kZX0gbW9kZSAtIFN3aXRjaGVyIG1vZGUuXHJcbiAgICAgKiBAcHJvcGVydHkgeyp9IGRlZmF1bHQgLSBTd2l0Y2hlciBkZWZhdWx0IHZhbHVlLlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3dpdGNoZXIsICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBjYXNlczogZXZlbnR1YWxDYXNlcyxcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihzd2l0Y2hlciwgU3dpdGNoZXIucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gc3dpdGNoZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN3aXRjaGVyI2Nhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfFN3aXRjaGVyQ2FsbENhbGxiYWNrfEFycmF5LjwqfFN3aXRjaGVyQ2FsbENhbGxiYWNrPn0gY2FzZXMgLSBDYXNlIG9yIGFuIGFycmF5IG9mIGNhc2VzLlxyXG4gICAqIEBwYXJhbSB7KnxTd2l0Y2hlck1hdGNoQ2FsbGJhY2t9IHZhbHVlIC0gVmFsdWUgdGhhdCBoYXMgdG8gYmUgYXNzaWduZWQgb3IgYSBmdW5jdGlvblxyXG4gICAqIHRoYXQgaXMgY2FsbGVkIHdpdGggc3dpdGNoZXIgdmFsdWUsIGlmIGl0J3MgdGhlIGNhc2UuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZGVmaW5pbmcgbmV3IGNhc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5jYXNlKDIsICd0d28nKTtcclxuICAgKlxyXG4gICAqIHN3KDEpOyAvLyAnb25lJ1xyXG4gICAqIHN3KDIpOyAvLyAndHdvJ1xyXG4gICAqL1xyXG4gIGNhc2UoY2FzZXMsIHZhbHVlKSB7XHJcbiAgICBpZiAoIWlzQXJyYXkoY2FzZXMpKSB7XHJcbiAgICAgIGNhc2VzID0gW2Nhc2VzXTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGNhc2VzLCAoQ2FzZSkgPT4ge1xyXG4gICAgICB0aGlzLiQkLmNhc2VzLnB1c2goeyBjYXNlOiBDYXNlLCB2YWx1ZSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNkZWZhdWx0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gZGVmIC0gTmV3IGRlZmF1bHQgdmFsdWUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBkZWZhdWx0IHN3aXRjaGVyIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5kZWZhdWx0KCd0aHJlZScpO1xyXG4gICAqXHJcbiAgICogc3coMSk7IC8vICdvbmUnXHJcbiAgICogc3coMik7IC8vICd0aHJlZSdcclxuICAgKi9cclxuICBkZWZhdWx0KGRlZikge1xyXG4gICAgdGhpcy4kJC5kZWZhdWx0ID0gZGVmO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNtb2RlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3dpdGNoZXJNb2RlfSBtb2RlIC0gTmV3IHN3aXRjaGVyIG1vZGUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBzd2l0Y2hlciBtb2RlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAubW9kZSgnc3RyaWN0RXF1YWxzJylcclxuICAgKiAgIC5jYXNlKDEsICdudW1iZXInKVxyXG4gICAqICAgLmNhc2UoJzEnLCAnc3RyaW5nJyk7XHJcbiAgICpcclxuICAgKiBzdygxKTsgICAvLyAnbnVtYmVyJ1xyXG4gICAqIHN3KCcxJyk7IC8vICdzdHJpbmcnXHJcbiAgICovXHJcbiAgbW9kZShtb2RlKSB7XHJcbiAgICB0aGlzLiQkLm1vZGUgPSBtb2RlO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZGVmaW5lUHJvcGVydGllcyhTd2l0Y2hlci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N3aXRjaGVyJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gc3dpdGNoZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gW2Nhc2VzID0ge31dIC0gT2JqZWN0IG9mIGNhc2VzLlxyXG4gKiBAcGFyYW0ge1N3aXRjaGVyTW9kZX0gW21vZGUgPSAnZXF1YWxzJ10gLSBTd2l0Y2hlciBtb2RlLlxyXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIC0gU3dpdGNoZXIgZGVmYXVsdCB2YWx1ZS5cclxuICogQHJldHVybnMge1N3aXRjaGVyfSBOZXcgaW5zdGFuY2Ugb2YgU3dpdGNoZXIuXHJcbiAqIEBkZXNjcmlwdGlvbiBTaW1wbGUgd3JhcCBvZiBbbmV3IFN3aXRjaGVyKC4uLilde0BsaW5rIFN3aXRjaGVyfS5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICdmb28nLFxyXG4gKiAgIDI6ICdiYXInXHJcbiAqIH0pO1xyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdiYXInXHJcbiAqIHN3KDMpOyAvLyB1bmRlZmluZWRcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoKVxyXG4gKiAgIC5jYXNlKFsxLCAyXSwgJ2ZvbycpXHJcbiAqICAgLmNhc2UoMywgJ2JhcicpO1xyXG4gKiAgIFxyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdmb28nXHJcbiAqIHN3KDMpOyAvLyAnYmFyJ1xyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3cgPSBzd2l0Y2hlcignY2FsbCcpXHJcbiAqICAgLmNhc2UoaXNBcnJheSwgJ2FycmF5JylcclxuICogICAuY2FzZShpc1N0cmluZywgJ3N0cmluZycpXHJcbiAqICAgLmNhc2UoaXNOdW1iZXIsICdudW1iZXInKVxyXG4gKiAgIC5kZWZhdWx0KCdyZXN0Jyk7XHJcbiAqICAgXHJcbiAqIHN3KFtdKTsgICAgLy8gJ2FycmF5J1xyXG4gKiBzdygnZm9vJyk7IC8vICdzdHJpbmcnXHJcbiAqIHN3KDEyMyk7ICAgLy8gJ251bWJlcidcclxuICogc3coe30pOyAgICAvLyAncmVzdCdcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICh2YWx1ZSkgPT4ge1xyXG4gKiAgICAgY29uc29sZS5sb2codmFsdWUgKyAxKTtcclxuICogICB9LFxyXG4gKiAgIDI6ICgpID0+IHtcclxuICogICAgIGNvbnNvbGUubG9nKHZhbHVlIC0gMSk7XHJcbiAqICAgfVxyXG4gKiB9KTtcclxuICogXHJcbiAqIHN3KDEpOyAvLyAyXHJcbiAqIHN3KDIpOyAvLyAxXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBzdyA9IHN3aXRjaGVyKHtcclxuICogICBmaXJzdDogKGFycmF5KSA9PiBhcnJheVswXSxcclxuICogICBsYXN0OiAoYXJyYXkpID0+IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdXHJcbiAqIH0sICdlcXVhbHMnLCAoYXJyYXksIGluZGV4KSA9PiBhcnJheVtpbmRleF0pO1xyXG4gKiBjb25zdCBhcnJheSA9IFsxLCAyLCAzLCA0XTtcclxuICogXHJcbiAqIHN3KCdmaXJzdCcsIFthcnJheV0pOyAvLyAxXHJcbiAqIHN3KCdsYXN0JywgW2FycmF5XSk7ICAvLyA0XHJcbiAqIHN3KDEsIFthcnJheV0pOyAgICAgICAvLyAyXHJcbiAqIHN3KDIsIFthcnJheV0pOyAgICAgICAvLyAzXHJcbiAqL1xyXG5mdW5jdGlvbiBzd2l0Y2hlcihjYXNlcywgbW9kZSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgcmV0dXJuIG5ldyBTd2l0Y2hlciguLi5hcmd1bWVudHMpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHdoZW5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Jvb2xlYW58Kn0gY29uZGl0aW9uIC0gQ29uZGl0aW9uIHVzZWQgZm9yIHJldHVybmluZyB0aGUgcHJvcGVyIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMSAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMiAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgZmFsc2V5LlxyXG4gKiBAcmV0dXJucyB7Kn0gdmFsdWUxIG9yIHZhbHVlMi5cclxuICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAqIFt0ZXJuYXJ5IG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ubC9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29uZGl0aW9uYWxfT3BlcmF0b3J9LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogd2hlbih0cnVlLCAndHJ1ZScsICdmYWxzZScpOyAvLyAndHJ1ZSdcclxuICovXHJcbmZ1bmN0aW9uIHdoZW4oY29uZGl0aW9uLCB2YWx1ZTEsIHZhbHVlMikge1xyXG4gIHJldHVybiBjb25kaXRpb24gPyB2YWx1ZTEgOiB2YWx1ZTI7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN3aXRjaGVyLCBzd2l0Y2hlciwgd2hlbiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdXBlclxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgU3VwZXIgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRCB9IGZyb20gJy4vRCc7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzL2NvbnN0cnVjdG9ycyc7XHJcbmltcG9ydCB7XHJcbiAgaXNBcnJheSwgaXNBcnJheUxpa2UsIGlzRGF0ZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNOYU4sIGlzTnVsbCxcclxuICBpc09iamVjdCwgaXNQbGFpbk9iamVjdCwgaXNQcmltaXRpdmUsIGlzUmVnRXhwLCBpc1N0cmluZywgaXNVbmRlZmluZWQsXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2wsIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdXBlcnxBcnJ8RnVuY3xFbGVtfFN0cnxOdW18RGF0fEJsb2JPYmplY3R9IERXcmFwXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFueSBraW5kIG9mIEQtV3JhcC5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ3xOdW1iZXJ8bnVsbH0gS2V5XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEtleSB0eXBlIHVzZWQgaW4gbWFueSBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7VHJlZUVsZW1lbnRbXX0gVHJlZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRyZWVFbGVtZW50XHJcbiAqIEBwdWJsaWNcclxuICogQHByb3BlcnR5IHtLZXl9IGtleSAtIFRyZWUgZWxlbWVudCBrZXkuXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWUgLSBUcmVlIGVsZW1lbnQgdmFsdWUuXHJcbiAqIEBkZXNjcmlwdGlvbiB7QGxpbmsgVHJlZX0gZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBSZWR1Y2VDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSAtIFByZXZpb3VzIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQ3VycmVudCBpdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gQ3VycmVudCBpdGVyYXRpb24ga2V5L2luZGV4LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gZWxlbWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEpTT05DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IGtleSAtIEN1cnJlbnQgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGtleS5cclxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBPYmplY3RDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdPYmplY3QgLSBUaGUgbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVkdWNlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgLSBQcmV2aW91cyB2YWx1ZS5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3VwZXJNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAdGhpcyB7RFdyYXB9XHJcbiAqL1xyXG5cclxuY29uc3QgY2xvbmVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKG9iamVjdCkgPT4gb2JqZWN0KVxyXG4gIC5jYXNlKFxyXG4gICAgKG9iamVjdCkgPT4gbmV3IFN1cGVyKG9iamVjdCkgPT09IG9iamVjdCxcclxuICAgIChvYmplY3QpID0+IG5ldyAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkuY29uc3RydWN0b3IpKG5ldyBTdXBlcihvYmplY3QuJCkuZGVlcENsb25lKCkuJClcclxuICApXHJcbiAgLmNhc2UoaXNFbGVtZW50LCAob2JqZWN0LCBkZWVwKSA9PiBvYmplY3QuY2xvbmUoZGVlcCkpXHJcbiAgLmNhc2UoaXNEYXRlLCAob2JqZWN0KSA9PiBuZXcgRGF0ZShvYmplY3QpKVxyXG4gIC5jYXNlKGlzUmVnRXhwLCAob2JqZWN0KSA9PiBuZXcgUmVnRXhwKG9iamVjdC5zb3VyY2UsIG9iamVjdC50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSkpXHJcbiAgLmNhc2UoaXNBcnJheSwgKCkgPT4gW10pXHJcbiAgLmNhc2UoaXNQbGFpbk9iamVjdCwgKCkgPT4gKHt9KSk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN1cGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIEFuIG9iamVjdCB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEluc3RhbmNlIG9mIFN1cGVyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhbnkgdmFsdWUuIEFuZCB0aGVyZSBpcyBubyB3YXkgdG8gY3JlYXRlIGEgbmVzdGVkIHdyYXAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBTdXBlcih7fSk7IC8vIFN1cGVyXHJcbiAqL1xyXG5jbGFzcyBTdXBlciB7XHJcbiAgY29uc3RydWN0b3Iob2JqZWN0KSB7XHJcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgU3VwZXIpIHtcclxuICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgU3VwZXIjJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gV3JhcHBlZCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnJCcsIHsgdmFsdWU6IG9iamVjdCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIuYWRkU3RhdGljUHJvcGVydGllc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBwcm9wZXJ0aWVzIGtleXMgYW5kIHZhbHVlcyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHByb3BlcnR5IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFNldHMgc3RhdGljIHByb3BlcnRpZXMgZm9yIERXcmFwIGNvbnN0cnVjdG9ycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogU3VwZXIuYWRkU3RhdGljUHJvcGVydGllcygnY29vbCcsIDQyKTtcclxuICAgKiBTdXBlci5hZGRTdGF0aWNQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZFN0YXRpY1Byb3BlcnRpZXMocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmluZVByb3BlcnRpZXModGhpcywgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIG9iamVjdFxyXG4gICAqIHdpdGggcHJvcGVydGllcyBrZXlzIGFuZCB2YWx1ZXMgdmFsdWVzLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbdmFsdWVdIC0gSWYgYSBwcm9wZXJ0eSBwYXJhbWV0ZXIgaXMgYSBzdHJpbmcgdGhpcyBoYXMgdG8gYmUgYSBwcm9wZXJ0eSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTZXRzIHN0YXRpYyBwcm9wZXJ0aWVzIGZvciBEV3JhcCBwcm90b3R5cGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXMoJ2Nvb2wnLCA0Mik7XHJcbiAgICogU3VwZXIuYWRkSW5zdGFuY2VQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZEluc3RhbmNlUHJvcGVydGllcyhwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVmaW5lUHJvcGVydGllcyh0aGlzLnByb3RvdHlwZSwgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhc3NpZ25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi4oT2JqZWN0fFN1cGVyfCopfSBvYmplY3RzIC0gT2JqZWN0cyB0byBiZSBhc3NpZ25lZCB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuYXNzaWduXVxyXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiB9KS5hc3NpZ24oeyBhOiAzIH0sIHsgYzogMywgZDogNCB9LCB7IGQ6IDUgfSkuJDsgLy8geyBhOiAzLCBiOiAyLCBjOiAzLCBkOiA1IH1cclxuICAgKi9cclxuICBhc3NpZ24oLi4ub2JqZWN0cykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgaXRlcmF0ZShuZXcgU3VwZXIobykuJCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhdmVyYWdlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IG51bGxdIC0gQ2FsbGJhY2sgdGhhdCBpcyBwYXNzZWQgdG8ge0BsaW5rIFN1cGVyI3N1bX0uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXZlcmFnZSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3Igb2JqZWN0LnN1bShjYWxsYmFjaykgLyBvYmplY3QuY291bnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuYXZlcmFnZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogNSB9KS5hdmVyYWdlKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSk7IC8vIDEwXHJcbiAgICovXHJcbiAgYXZlcmFnZShjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI2F2ZXJhZ2UnKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5zdW0oY2FsbGJhY2spIC8gdGhpcy5jb3VudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjY2FsbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N1cGVyTWV0aG9kfSBmdW5jIC0gRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdpdGggdGhpcyBjb250ZXh0LlxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyAtIEFyZ3VtZW50cyB0byBiZSBjYWxsZWQgd2l0aC5cclxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJuIG9mIGZ1bmN0aW9uIGNhbGwuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGZ1bmMuY2FsbChET2JqZWN0LCAuLi5hcmdzKTtcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5jYWxsKGZ1bmN0aW9uIChiLCBjKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYiArIGM7XHJcbiAgICogfSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICBjYWxsKGZ1bmMsIC4uLmFyZ3MpIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjY2FsbCcpO1xyXG5cclxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjbG9uZVxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGFzc2lnbnMgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IHRvIGFuIGVtcHR5IG9uZSBhbmQgcmV0dXJucyB0aGUgbmV3IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyIH0gfSkuY2xvbmUoKS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogMiB9IH1cclxuICAgKi9cclxuICBjbG9uZSgpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIGZhbHNlXSk7XHJcblxyXG4gICAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgICAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY2xvbmVba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoY2xvbmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdXBlciNjb3VudFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBrZXlzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuY291bnQ7IC8vIDJcclxuICAgKi9cclxuICBnZXQgY291bnQoKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gb2JqZWN0Lmxlbmd0aCA6IE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjcmVhdGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yc10gLSBEZXNjcmlwdG9ycyBwYXNzZWQgdG8gT2JqZWN0LmNyZWF0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBELVdyYXAuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5jcmVhdGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLmNyZWF0ZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGNyZWF0ZShkZXNjcmlwdG9ycykge1xyXG4gICAgcmV0dXJuIEQoaXNQcmltaXRpdmUodGhpcy4kKSA/IHVuZGVmaW5lZCA6IE9iamVjdC5jcmVhdGUodGhpcy4kLCBkZXNjcmlwdG9ycykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwQXNzaWduXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKn0gb2JqZWN0cyAtIE9iamVjdHMgdG8gYmUgYXNzaWduZWQgdG8gdGhlIG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5kZWVwQXNzaWduKFxyXG4gICAqICAge1xyXG4gICAqICAgICBiOiB7XHJcbiAgICogICAgICAgYzogMlxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYjogMVxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYzoge1xyXG4gICAqICAgICAgICAgZDogMVxyXG4gICAqICAgICAgIH1cclxuICAgKiAgICAgfSxcclxuICAgKiAgICAgYjogMlxyXG4gICAqICAgfSxcclxuICAgKiAgIG51bGxcclxuICAgKiB9KTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICBhOiB7XHJcbiAgICogLy8gICAgIGI6IDEsXHJcbiAgICogLy8gICAgIGM6IHtcclxuICAgKiAvLyAgICAgICBkOiAxXHJcbiAgICogLy8gICAgIH1cclxuICAgKiAvLyAgIH0sXHJcbiAgICogLy8gICBiOiAyLFxyXG4gICAqIC8vIH1cclxuICAgKi9cclxuICBkZWVwQXNzaWduKC4uLm9iamVjdHMpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoaXNQcmltaXRpdmUob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgZGVlcEFzc2lnbihvYmplY3QsIG8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBDbG9uZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBEV3JhcC5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBjbG9uaW5nIG1ldGhvZC4gQ2xvbmVzIHBsYWluIG9iamVjdHMsIGFycmF5cywgcmVndWxhciBleHByZXNzaW9ucyBhbmQgZWxlbWVudHMsIHRoZSByZXN0IHN0YXlzIHRoZSBzYW1lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiBbMiwgM10sIGM6IHsgZDogNCB9IH0pLmRlZXBDbG9uZSgpLiQ7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgYTogMSxcclxuICAgKiAvLyAgIGI6IFsyLCAzXSxcclxuICAgKiAvLyAgIGM6IHsgZDogNCB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGRlZXBDbG9uZSgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZWVwQ2xvbmUodGhpcy4kKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBFcXVhbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIE9iamVjdCB0byBjb21wYXJlIHRvLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAtIElmIHRoZSBvYmplY3RzIGFyZSBkZWVwIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWVwIGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcigvMS8pLmRlZXBFcXVhbHMoLzEvKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFcXVhbHMob2JqZWN0ID0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLiQsIG9iamVjdCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRXZlcnlcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IGl0ZXJhdGlvbiBnb2VzIG9uIGFuZCBpZiBmYWxzZXkgaXQgc3RvcHMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIE90aGVyd2lzZSBmYWxzZS4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZXZlcnl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRXZlcnkoKHZhbHVlKSA9PiB2YWx1ZSA8IDQpOyAvLyB0cnVlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwRXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFdmVyeShjYWxsYmFjaywgbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgIG4gPSBjYWxsYmFjaztcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgIH0gZWxzZSBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBFdmVyeScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgcmV0dXJuIGRlZXBFdmVyeSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBhbmQgaWYgZmFsc2V5IGl0J3MgZXhjbHVkZWQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IEQtV3JhcCBvZiBmaWx0ZXJlZCBvYmplY3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgZmlsdGVyZWQgYnkgdGhlIGNhbGxiYWNrIG9iamVjdC4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZmlsdGVyfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlJTIpLiQ7ICAgICAvLyB7IGE6IDEsIGI6IHsgZDogMyB9IH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDEpLiQ7IC8vIHsgYTogMSB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlID4gMykuJDsgICAvLyB7fVxyXG4gICAqL1xyXG4gIGRlZXBGaWx0ZXIoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmlsdGVyJyk7XHJcblxyXG4gICAgY29uc3QgZmlsdGVyZWQgPSBkZWVwRmlsdGVyKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSk7XHJcblxyXG4gICAgcmV0dXJuIEQoaXNOaWwoZmlsdGVyZWQpID8gZmlsdGVyZWQgOiBmaWx0ZXJlZCB8fCB7fSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBGaW5kXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtUcmVlfG51bGx9IFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gaWYgc29tZXRoaW5nIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cmVlIG9mIHRoZSBlbGVtZW50cyBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNmaW5kfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbmQoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gMik7XHJcbiAgICogLy8gW1xyXG4gICAqIC8vICAgeyBrZXk6ICdjJywgdmFsdWU6IDIgfSxcclxuICAgKiAvLyAgIHsga2V5OiAnYicsIHZhbHVlOiB7IGM6IDIsIGQ6IDMgfSB9LFxyXG4gICAqIC8vICAgeyBrZXk6IG51bGwsIHZhbHVlOiA8aW5pdGlhbCBvYmplY3Q+IH1cclxuICAgKiAvLyBdXHJcbiAgICovXHJcbiAgZGVlcEZpbmQoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmluZCcpO1xyXG5cclxuICAgIHJldHVybiBkZWVwRmluZCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2goY2FsbGJhY2ssIG4gPSBJbmZpbml0eSkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBGb3JFYWNoJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICBkZWVwRm9yRWFjaCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqIFVubGlrZSB7QGxpbmsgU3VwZXIjZGVlcEZvckVhY2h9IHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgb24gZXZlcnkgdmFsdWUgb2YgZXZlcnkgb2JqZWN0IGluc2lkZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2hFbnRyeShjYWxsYmFjaywgbiA9IEluZmluaXR5KSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcEZvckVhY2gnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIGRlZXBGb3JFYWNoRW50cnkodGhpcy4kLCBjYWxsYmFjaywgbiwgW3sga2V5OiBudWxsLCB2YWx1ZTogdGhpcy4kIH1dKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZGVlcEZyZWV6ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZnJlZXplfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGRlZXBGcmVlemUoKSB7XHJcbiAgICBkZWVwRnJlZXplKHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBNYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gRC1XcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGEgd3JhcCBvZiBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGNhbGxiYWNrLiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNtYXB9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwTWFwKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSkuJDtcclxuICAgKiAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogOSB9IH1cclxuICAgKi9cclxuICBkZWVwTWFwKGNhbGxiYWNrLCBuID0gSW5maW5pdHkpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwTWFwJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICByZXR1cm4gRChkZWVwTWFwKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwUmVkdWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcFJlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEBwYXJhbSB7Kn0gW0lWID0gPGZpcnN0IHZhbHVlPnx1bmRlZmluZWRdIC0gSW5pdGlhbCB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7Kn0gTW9kaWZpZWQgSVYuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgbW9kaWZpZWQgSVYuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3JlZHVjZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IHsgYzogMiwgZDogMyB9IH0pLmRlZXBSZWR1Y2UoKHN1bSwgdmFsdWUpID0+IHN1bSArIHZhbHVlICogdmFsdWUsIEluZmluaXR5LCAwKTsgLy8gMTRcclxuICAgKi9cclxuICBkZWVwUmVkdWNlKGNhbGxiYWNrLCBuID0gSW5maW5pdHksIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFJlZHVjZScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG4gICAgY29uc3QgdHJlZSA9IFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHVuZGVmaW5lZCwgdHJlZSkuSVY7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHsgSVYgfSwgdHJlZSkuSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBTb21lXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIHNvbWUgb2YgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBPdGhlcndpc2UgZmFsc2UuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3NvbWV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwU29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwU29tZSgoKSA9PiB0cnVlKTsgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGRlZXBTb21lKGNhbGxiYWNrLCBuKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgbiA9IGNhbGxiYWNrO1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgfSBlbHNlIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFNvbWUnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIHJldHVybiBkZWVwU29tZSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwU3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZSB0by5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiB0aGUgb2JqZWN0cyBhcmUgZGVlcCBzdHJpY3QgZXF1YWwgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZXAgc3RyaWN0IGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcFN0cmljdEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gZmFsc2VcclxuICAgKiBuZXcgU3VwZXIoLzEvKS5kZWVwU3RyaWN0RXF1YWxzKC8xLyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICAgKi9cclxuICBkZWVwU3RyaWN0RXF1YWxzKG9iamVjdCA9IG51bGwpIHtcclxuICAgIHJldHVybiBkZWVwRXF1YWwodGhpcy4kLCBvYmplY3QsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWZpbmVcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBkZXNjcmlwdG9ycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgcHJvcGVydHkgZGVzY3JpcHRvci5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZGVmaW5lUHJvcGVydHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0eX1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LmRlZmluZVByb3BlcnRpZXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0aWVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5kZWZpbmUoJ2EnLCB7XHJcbiAgICogICB2YWx1ZTogMSxcclxuICAgKiAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAqICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICBjb25maWd1cmFibGU6IGZhbHNlXHJcbiAgICogfSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLmRlZmluZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGRlZmluZShwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogZGVzY3JpcHRvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3BlcnR5ID0gbmV3IFN1cGVyKHByb3BlcnR5KS4kO1xyXG5cclxuICAgIGlmIChpc09iamVjdCh0aGlzLiQpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuJCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IHByb3BzIC0gTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbXVsdGlwbGVcclxuICAgKiBbXCJkZWxldGVcIiBvcGVyYXRvcl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZGVsZXRlKCdjJywgJ2EnKS4kOyAvLyB7IGI6IDIgfVxyXG4gICAqL1xyXG4gIGRlbGV0ZSguLi5wcm9wcykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIHByb3BzLCAocHJvcGVydHkpID0+IHtcclxuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PScgb3BlcmF0b3IgYW5kIGZhbHNlIGlmIG5vdC4gTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBlcXVhbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKDMpLmVxdWFscygnMycpOyAgIC8vIHRydWVcclxuICAgKiBuZXcgU3VwZXIoTmFOKS5lcXVhbHMoTmFOKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGVxdWFscyhvYmplY3QpIHtcclxuICAgIGNvbnN0IG8gPSB0aGlzLiQ7XHJcblxyXG4gICAgb2JqZWN0ID0gbmV3IFN1cGVyKG9iamVjdCkuJDtcclxuXHJcbiAgICAvKiBlc2xpbnQgZXFlcWVxOiAwICovXHJcbiAgICByZXR1cm4gbyA9PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNldmVyeVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgZmFsc2V5IGl0IHN0b3BzLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmV2ZXJ5KCh2YWx1ZSkgPT4gdmFsdWUgPCA0KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAgICovXHJcbiAgZXZlcnkoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNldmVyeScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pICE9PSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBlbGVtZW50IGlzIGluY2x1ZGVkIGFuZCBpZiBmYWxzZXkgaXQncyBleGNsdWRlZC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBELVdyYXAgb2YgZmlsdGVyZWQgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGZpbHRlcmVkIGJ5IHRoZSBjYWxsYmFjayBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgLy8geyBhOiAxLCBjOiAzIH1cclxuICAgKiBuZXcgU3VwZXIobnVsbCkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBmaWx0ZXIoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmaWx0ZXInKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcblxyXG4gICAgLyogZXNsaW50IG5vLW5lc3RlZC10ZXJuYXJ5OiAwICovXHJcbiAgICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IGlzTmlsKG9iamVjdCkgPyBvYmplY3QgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEQobyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gQm9vbGVhbl0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogSWYgcmV0dXJucyB0cnV0aHkgaXRlcmF0aW9uIHN0b3BzIGFuZCBpZiBmYWxzZXkgaXQgY29udGludWVzLlxyXG4gICAqIEByZXR1cm5zIHt7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IHsga2V5LCB2YWx1ZSB9IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBmb3VuZCB7IGtleSwgdmFsdWUgfSBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5maW5kKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDIpOyAvLyB7IGtleTogJ2InLCB2YWx1ZTogMiB9XHJcbiAgICogbmV3IFN1cGVyKFsxLCAyLCAzXSkuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSAyKTsgICAgICAgICAgICAvLyB7IGtleTogMSwgdmFsdWU6IDIgfVxyXG4gICAqL1xyXG4gIGZpbmQoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI2ZpbmQnKTtcclxuXHJcbiAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4geyBrZXksIHZhbHVlIH07XHJcbiAgICAgIH1cclxuICAgIH0pIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZvckVhY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgaXRlcmF0aW5nIG92ZXIgYW55IG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5mb3JFYWNoKCh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgKiAgIG9iamVjdFtrZXldID0gdmFsdWUgKiB2YWx1ZTtcclxuICAgKiB9KS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogNSB9IH1cclxuICAgKi9cclxuICBmb3JFYWNoKGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmb3JFYWNoJyk7XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNmcmVlemVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZnJlZXplXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5mcmVlemVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9mcmVlemV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGZyZWV6ZSgpIHtcclxuICAgIE9iamVjdC5mcmVlemUodGhpcy4kKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZ2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBGdW5jdGlvbj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBnZXR0ZXJzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZ2V0dGVyXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgZ2V0dGVyIGZ1bmN0aW9uLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIGdldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IG9iamVjdDEgPSBuZXcgU3VwZXIoe30pLmdldCgnYScsICgpID0+IDEpLiQ7XHJcbiAgICogb2JqZWN0MS5hOyAvLyAxXHJcbiAgICpcclxuICAgKiBjb25zdCBvYmplY3QyID0gbmV3IFN1cGVyKHt9KS5nZXQoe1xyXG4gICAqICAgYTogKCkgPT4gMlxyXG4gICAqIH0pLiQ7XHJcbiAgICogb2JqZWN0Mi5hOyAvLyAyXHJcbiAgICovXHJcbiAgZ2V0KHByb3BlcnR5LCBnZXR0ZXIpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IGdldHRlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpdGVyYXRlKGlzT2JqZWN0KG9iamVjdCkgJiYgbmV3IFN1cGVyKHByb3BlcnR5KS4kLCAoZ2V0dGVyLCBwcm9wZXJ0eSkgPT4ge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgeyBnZXQ6IGdldHRlciB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNoYXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8Kn0ga2V5IC0gUHJvcGVydHkgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyB0aGUga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpblwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW59LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhcygnYicpOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgaGFzKGtleSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGtleSBpbiBvYmplY3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2hhc093blxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBrZXkgLSBQcm9wZXJ0eSB0byBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGl0cyBvd24ga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0I2hhc093blByb3BlcnR5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhc093bignYicpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuaGFzT3duKCdoYXNPd25Qcm9wZXJ0eScpOyAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc093bihrZXkpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjaW5zdGFuY2VvZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciAtIENvbnN0cnVjdG9yIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIGNvbnN0cnVjdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2luc3RhbmNlb2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpbnN0YW5jZW9mXCIgb3BlcmF0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9pbnN0YW5jZW9mfS5cclxuICAgKi9cclxuICBpbnN0YW5jZW9mKGNvbnN0cnVjdG9yKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kIGluc3RhbmNlb2YgY29uc3RydWN0b3I7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2lzRnJvemVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGZyb3plbi5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuaXNGcm96ZW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plbn0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZnJlZXplKCkuaXNGcm96ZW4oKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGlzRnJvemVuKCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5pc0Zyb3plbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNqc29uXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfFN0cmluZ1tdfSBbcmVwbGFjZXJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW3NwYWNlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBKU09OIHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0pTT04vc3RyaW5naWZ5XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0pTT04uc3RyaW5naWZ5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9KU09OL3N0cmluZ2lmeX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuanNvbigpOyAvLyAne1wiYVwiOjEsXCJiXCI6MixcImNcIjozfSdcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmpzb24oJyAgICAnKTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICAgIFwiYVwiOiAxLFxyXG4gICAqIC8vICAgICBcImJcIjogMixcclxuICAgKiAvLyAgICAgXCJjXCI6IDNcclxuICAgKiAvLyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5qc29uKChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICogICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICByZXR1cm4gdmFsdWUlMiA/IGtleSArIHZhbHVlMCA6IHVuZGVmaW5lZDtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHZhbHVlO1xyXG4gICAqIH0sIDIpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIFwiYVwiOiBcImExXCIsXHJcbiAgICogLy8gICBcImNcIjogXCJjM1wiXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGpzb24ocmVwbGFjZXIsIHNwYWNlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihyZXBsYWNlcikgJiYgIWlzQXJyYXkocmVwbGFjZXIpKSB7XHJcbiAgICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5LmFwcGx5KEpTT04sIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2tleU9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBmaW5kLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd8TnVtYmVyfG51bGx9IEEga2V5IG9yIGFuIGluZGV4IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIGVxdWFsIHRvIHRoZSBhcmd1bWVudCB2YWx1ZSBpbiB0aGUgb2JqZWN0LiBOYU5zIGFyZSBjb25zaWRlcmVkIHRvIGJlIGVxdWFsLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmtleU9mKDIpOyAgIC8vICdiJ1xyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2YoJzInKTsgLy8gJ2InXHJcbiAgICovXHJcbiAga2V5T2YodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IGl0ZXJhdGUodGhpcy4kLCAodmFsLCBrZXkpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlPZlN0cmljdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfE51bWJlcnxudWxsfSBBIGtleSBvciBhbiBpbmRleCBpZiBmb3VuZCBhbmQgbnVsbCBpZiBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBzdHJpY3QgZXF1YWwgdG8gdGhlIGFyZ3VtZW50IHZhbHVlIGluIHRoZSBvYmplY3QuIE5hTnMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2ZTdHJpY3QoMik7ICAgLy8gJ2InXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlPZlN0cmljdCgnMicpOyAvLyAnYidcclxuICAgKi9cclxuICBrZXlPZlN0cmljdCh2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gaXRlcmF0ZSh0aGlzLiQsICh2YWwsIGtleSkgPT4ge1xyXG4gICAgICBpZiAodmFsID09PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSBrZXlzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0LmtleXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlzKCkuJDsgLy8gWydhJywgJ2InLCAnYyddXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLmtleXMoKS4kOyAgICAgICAgICAgICAgICAgLy8gW11cclxuICAgKi9cclxuICBrZXlzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3Qua2V5cyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHdyYXAgb2YgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBjYWxsYmFjay5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5tYXAoKHZhbHVlKSA9PiB2YWx1ZSAqIDIpLiQ7IC8vIHsgYTogMiwgYjogNCwgYzogNiB9XHJcbiAgICogbmV3IFN1cGVyKG51bGwpLm1hcCgodmFsdWUpID0+IHZhbHVlICogMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBtYXAoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI21hcCcpO1xyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IG8gPSBpc0FycmF5TGlrZShvYmplY3QpID8gW10gOiBpc051bGwob2JqZWN0KSA/IG51bGwgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgb1trZXldID0gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNvbXBhcmlzb24gd2l0aCB0aGUgcHJldmlvdXMgbWF4IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt7a2V5OiBLZXksIHZhbHVlOiBOdW1iZXJ9fSBPYmplY3Qgd2l0aCBtYXggdmFsdWUgYW5kIGtleSBvZiB0aGUgbWF4IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGZpbmRpbmcgbWF4IHZhbHVlIGluIHRoZSBvYmplY3QuXHJcbiAgICogSWYgbm8gY2FsbGJhY2sgaXMgcHJlc2VudCBjb21wYXJpc29uIGlzIGJldHdlZW4gdmFsdWVzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCk7ICAgICAgICAgICAgICAgICAgICAgLy8geyBrZXk6ICdjJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCh2YWx1ZSkgPT4gNCAtIHZhbHVlKTsgLy8geyBrZXk6ICdhJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6ICdhJywgYjogJ2InLCBjOiAnYycgfSkubWF4KCk7ICAgICAgICAgICAgICAgLy8geyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1heChjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21heCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWF4LCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPiBtYXgudmFsdWUpIHtcclxuICAgICAgICBtYXgua2V5ID0ga2V5O1xyXG4gICAgICAgIG1heC52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfSkuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjbWluXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjb21wYXJpc29uIHdpdGggdGhlIHByZXZpb3VzIG1pbiB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7e2tleTogS2V5LCB2YWx1ZTogTnVtYmVyfX0gT2JqZWN0IHdpdGggbWluIHZhbHVlIGFuZCBrZXkgb2YgdGhlIG1pbiB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG1pbiB2YWx1ZSBpbiB0aGUgb2JqZWN0LlxyXG4gICAqIElmIG5vIGNhbGxiYWNrIGlzIHByZXNlbnQgY29tcGFyaXNvbiBpcyBiZXR3ZWVuIHZhbHVlcyBvZiB0aGUgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigpOyAgICAgICAgICAgICAgICAgICAgIC8vIHsga2V5OiAnYScsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigodmFsdWUpID0+IDQgLSB2YWx1ZSk7IC8vIHsga2V5OiAnYycsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAnYScsIGI6ICdiJywgYzogJ2MnIH0pLm1pbigpOyAgICAgICAgICAgICAgIC8vIHsga2V5OiBudWxsLCB2YWx1ZTogSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1pbihjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21pbicpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWluLCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPCBtaW4udmFsdWUpIHtcclxuICAgICAgICBtaW4ua2V5ID0ga2V5O1xyXG4gICAgICAgIG1pbi52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiBJbmZpbml0eSB9KS4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNvYmplY3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3RDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtPYmplY3R8Kn0gW29iamVjdCA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBXcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIFRoZSBvYmplY3QgaXMgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGludG8gdGhlIGNhbGxiYWNrLiBUaGUgb3V0cHV0IGlzIHRoaXMgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyIH0pLm9iamVjdCgob2JqZWN0LCB2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICogICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAqICAgb2JqZWN0W2tleSArIGtleV0gPSB2YWx1ZSAqIDI7XHJcbiAgICogfSkuJDsgLy8geyBhOiAxLCBhYTogMiwgYjogMiwgYmI6IDQgfVxyXG4gICAqL1xyXG4gIG9iamVjdChjYWxsYmFjaywgb2JqZWN0ID0ge30pIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI29iamVjdCcpO1xyXG5cclxuICAgIGl0ZXJhdGUodGhpcy4kLCAodmFsdWUsIGtleSwgb2JqKSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKG9iamVjdCwgdmFsdWUsIGtleSwgb2JqKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG9iamVjdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIGFzc2lnbmVkIG9iamVjdC5cclxuICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZ1xyXG4gICAqIHRoaXMgaGFzIHRvIGJlIGFuIGFzc2lnbmVkIHZhbHVlIGlmIGl0J3MgcHJlc2VudC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB8Kn0gUmV0dXJucyB0aGlzIGlmIGl0J3MgYSBzZXR0ZXIgb3IgYSB2YWx1ZSBpZiBnZXR0ZXIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBhbmQgc2V0dGluZyBwcm9wZXJ0aWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnKTsgICAgICAgICAgICAgIC8vIDFcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnLCA3KS4kOyAgICAgICAgIC8vIHsgYTogNywgYjogMiwgYzogMyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5wcm9wKHsgYTogNywgYjogOCB9KS4kOyAvLyB7IGE6IDcsIGI6IDgsIGM6IDMgfVxyXG4gICAqL1xyXG4gIHByb3AocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxICYmIGlzU3RyaW5nKHByb3BlcnR5KSkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kID8gdGhpcy4kW3Byb3BlcnR5XSA6IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmFzc2lnbihwcm9wZXJ0eSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgLSBQcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R8dW5kZWZpbmVkfSBQcm9wZXJ0eSBkZXNjcmlwdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxIH0pLnByb3BlcnR5RGVzY3JpcHRvcignYScpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIHZhbHVlOiAxLFxyXG4gICAqIC8vICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgKiAvLyAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAqIC8vICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIHByb3BlcnR5RGVzY3JpcHRvcihwcm9wZXJ0eSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBpc09iamVjdChvYmplY3QpID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KSA6IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjcHJvcGVydHlOYW1lc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmFtZXMgYXJyYXkuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuZGVmaW5lKCdjJywgeyB2YWx1ZTogMyB9KS4kOyAvLyBbJ2EnLCAnYicsICdjJ11cclxuICAgKi9cclxuICBwcm9wZXJ0eU5hbWVzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNwcm9wZXJ0eVN5bWJvbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBELVdyYXAgb2YgdGhlIG5hbWVzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5U3ltYm9sc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBbU3ltYm9sKCdmb28nKV06IDEgfSkuZGVmaW5lKFN5bWJvbCgnYmFyJyksIHsgdmFsdWU6IDIgfSkuJDsgLy8gW1N5bWJvbCgnZm9vJyksIFN5bWJvbCgnYmFyJyldXHJcbiAgICovXHJcbiAgcHJvcGVydHlTeW1ib2xzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCkgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3RvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3Byb3RvXSAtIElmIGl0J3MgcHJlc2VudCBpdCdzIHNldCBhcyBhIHByb3RvdHlwZSB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gSW4gZ2V0dGVyIG1vZGUgcmV0dXJucyB3cmFwIG9mIHRoZSBwcm90b3R5cGUgYW5kIGluIHNldHRlciBtb2RlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZ2V0UHJvdG90eXBlT2Zde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRQcm90b3R5cGVPZn1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LnNldFByb3RvdHlwZU9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qvc2V0UHJvdG90eXBlT2Z9LlxyXG4gICAqL1xyXG4gIHByb3RvKHByb3RvKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBpc0NvbnRleHRPYmplY3QgPSAhaXNOaWwob2JqZWN0KTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBpZiAoaXNDb250ZXh0T2JqZWN0ICYmIChpc09iamVjdChwcm90bykgfHwgaXNOdWxsKHByb3RvKSkpIHtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90byk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0NvbnRleHRPYmplY3QgPyBuZXcgU3VwZXIoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpIDogbmV3IFN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3JlZHVjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHsqfSBbSVYgPSA8Zmlyc3QgdmFsdWU+fHVuZGVmaW5lZF0gLSBJbml0aWFsIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHsqfSBNb2RpZmllZCBJVi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBtb2RpZmllZCBJVi4gSWYgdGhlIHNlY29uZCBhcmd1bWVudCBpcyBub3QgcHJlc2VudCBmaXJzdCB2YWx1ZSBpbiB0aGUgb2JqZWN0IGlzIHRha2VuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkucmVkdWNlKChzdW0sIHZhbHVlKSA9PiBzdW0gKyB2YWx1ZSAqIHZhbHVlLCAwKTsgLy8gMTRcclxuICAgKi9cclxuICByZWR1Y2UoY2FsbGJhY2ssIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNyZWR1Y2UnKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IHN0YXJ0S2V5O1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHN0YXJ0S2V5ID0ga2V5O1xyXG4gICAgICAgIElWID0gdmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSAhPT0gc3RhcnRLZXkpIHtcclxuICAgICAgICBJViA9IGNhbGxiYWNrKElWLCB2YWx1ZSwga2V5LCBvYmplY3QpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3NldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRnVuY3Rpb24+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgc2V0dGVycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3NldHRlcl0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHNldHRlciBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWZpbmluZyBzZXR0ZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBvYmplY3QgPSBuZXcgU3VwZXIoe30pXHJcbiAgICogICAuZ2V0KCdwdWJsaWMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICogICAgIHJldHVybiB0aGlzLl9wcml2YXRlO1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5zZXQoJ3B1YmxpYycsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsICcxJykuJDsgLy8geyBwdWJsaWM6IHVuZGVmaW5lZCB9XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsIDEpLiQ7ICAgLy8geyBwdWJsaWM6IDEsIF9wcml2YXRlOiAxIH1cclxuICAgKlxyXG4gICAqIG5ldyBTdXBlcih7fSkuc2V0KHtcclxuICAgKiAgIHB1YmxpYyh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfVxyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHNldChwcm9wZXJ0eSwgc2V0dGVyKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiBzZXR0ZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShpc09iamVjdChvYmplY3QpICYmIG5ldyBTdXBlcihwcm9wZXJ0eSkuJCwgKHNldHRlciwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgc2V0OiBzZXR0ZXIgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc29tZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRydWUgaWYgc29tZSBvZiB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLiBPdGhlcndpc2UgZmFsc2UuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuc29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5zb21lKCgpID0+IHRydWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsc2VcclxuICAgKi9cclxuICBzb21lKGNhbGxiYWNrID0gQm9vbGVhbikge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjc29tZScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KSB8fCBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PT0nIG9wZXJhdG9yIGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBzdHJpY3QgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcigzKS5zdHJpY3RFcXVhbHMoJzMnKTsgICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdXBlcihOYU4pLnN0cmljdEVxdWFscyhOYU4pOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgc3RyaWN0RXF1YWxzKG9iamVjdCkge1xyXG4gICAgY29uc3QgbyA9IHRoaXMuJDtcclxuXHJcbiAgICBvYmplY3QgPSBuZXcgU3VwZXIob2JqZWN0KS4kO1xyXG5cclxuICAgIHJldHVybiBvID09PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNzdW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gbnVsbF0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU3VtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3Igc3VtbWluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnN1bSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyA2XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5zdW0oKHZhbHVlKSA9PiB2YWx1ZSAqIHZhbHVlKTsgLy8gMTRcclxuICAgKi9cclxuICBzdW0oY2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9ufHwhJ10sICdTdXBlciNzdW0nKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZWR1Y2UoKHN1bSwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHN1bSArIE51bWJlcihjYWxsYmFjayA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkgOiB2YWx1ZSlcclxuICAgICksIDApO1xyXG4gIH1cclxuXHJcbiAgdG9KU09OKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdG9TdHJpbmdUYWdcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0b1N0cmluZyB0YWcgb2YgdGhlIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS50b1N0cmluZ1RhZzsgLy8gJ09iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoW10pLnRvU3RyaW5nVGFnOyAvLyAnQXJyYXknXHJcbiAgICogbmV3IFN1cGVyKDEpLnRvU3RyaW5nVGFnOyAgLy8gJ051bWJlcidcclxuICAgKi9cclxuICBnZXQgdG9TdHJpbmdUYWcoKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmdUYWcodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdHlwZVxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtcInR5cGVvZlwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5zdGFuY2VvZn0uLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnR5cGU7ICAgLy8gJ29iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoMSkudHlwZTsgICAgLy8gJ251bWJlcidcclxuICAgKiBuZXcgU3VwZXIoJzEnKS50eXBlOyAgLy8gJ3N0cmluZydcclxuICAgKiBuZXcgU3VwZXIodHJ1ZSkudHlwZTsgLy8gJ2Jvb2xlYW4nXHJcbiAgICovXHJcbiAgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgdmFsdWVzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdC48U3RyaW5nLCAqPn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgdmFsdWUgdG8gYmUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUsIG5vbi1jb25maWd1cmFibGUgdmFsdWVzLlxyXG4gICAqIFN5bm9ueW0gZm9yIG9iamVjdC5kZWZpbmUocHJvcGVydHksIHsgdmFsdWU6IHZhbHVlIH0pLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKCdhJywgMSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKHtcclxuICAgKiAgIGE6IDFcclxuICAgKiB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geyBhOiAxIH1cclxuICAgKi9cclxuICB2YWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUoaXNPYmplY3Qob2JqZWN0KSAmJiBuZXcgU3VwZXIocHJvcGVydHkpLiQsICh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgdmFsdWUgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgRC1XcmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkudmFsdWVzKCkuJDsgLy8gWzEsIDIsIDNdXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLnZhbHVlcygpLiQ7ICAgICAgICAgICAgICAgICAvLyBbXVxyXG4gICAqL1xyXG4gIHZhbHVlcygpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKGFycmF5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjd29yZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3IgY29uY2F0ZW5hdGluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEyMydcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKHZhbHVlKSA9PiB2YWx1ZSArIHZhbHVlKTsgLy8gJzExMjIzMydcclxuICAgKi9cclxuICB3b3JkKGNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbnx8ISddLCAnU3VwZXIjd29yZCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnJlZHVjZSgod29yZCwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHdvcmQgKyBTdHJpbmcoY2FsbGJhY2sgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpIDogdmFsdWUpXHJcbiAgICApLCAnJyk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN1cGVyLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnU3VwZXInXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwQXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IC0gT2JqZWN0IHRvIGFzc2lnbiBwcm9wZXJ0aWVzIHRvLlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBhc3NpZ24gcHJvcGVydGllcyBmcm9tLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBBc3NpZ24odGFyZ2V0LCBvYmplY3QpIHtcclxuICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmIChpc1ByaW1pdGl2ZSh0YXJnZXRba2V5XSkgfHwgIXt9Lmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgIHRhcmdldFtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzUHJpbWl0aXZlKHRhcmdldFtrZXldKSkge1xyXG4gICAgICBkZWVwQXNzaWduKHRhcmdldFtrZXldLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcENsb25lXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGNsb25lLlxyXG4gKiBAZGVzY3JpcHRpb24gRG9lcyB0aGUgZGVlcCBjbG9uaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcENsb25lKG9iamVjdCkge1xyXG4gIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIHRydWVdKTtcclxuXHJcbiAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICBjbG9uZVtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNsb25lO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFcXVhbFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG8xIC0gRmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Kn0gbzIgLSBTZWNvbmQgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RyaWN0IC0gSWYgY29tcGFyaXNvbiBzaG91bGQgYmUgc3RyaWN0IG9yIG5vdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgdGhlIG9iamVjdCBhcmUgZGVlcCBlcXVhbCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXF1YWwobzEsIG8yLCBzdHJpY3QpIHtcclxuICBpZiAobzEgPT09IG8yKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGlmIChpc05hTihvMSkgJiYgaXNOYU4obzIpICYmIGlzUHJpbWl0aXZlKG8xKSAmJiBpc1ByaW1pdGl2ZShvMikpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKG8xKSB8fCBpc05hTihvMikpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChpc1ByaW1pdGl2ZShvMSkgfHwgaXNQcmltaXRpdmUobzIpKSB7XHJcbiAgICByZXR1cm4gc3RyaWN0ID8gbzEgPT09IG8yIDogbzEgPT0gbzI7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSAmJiBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gbzEuZ2V0VGltZSgpID09PSBvMi5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSB8fCBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNSZWdFeHAobzEpICYmIGlzUmVnRXhwKG8yKSkge1xyXG4gICAgcmV0dXJuIG8xLnNvdXJjZSA9PT0gbzIuc291cmNlICYmXHJcbiAgICAgIG8xLnRvU3RyaW5nKCkubWF0Y2goL1tnaW11eV0qJC8pWzBdID09PSBvMi50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSAmJlxyXG4gICAgICBvMS5sYXN0SW5kZXggPT09IG8yLmxhc3RJbmRleDtcclxuICB9XHJcblxyXG4gIGlmIChpc1JlZ0V4cChvMSkgfHwgaXNSZWdFeHAobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoKCFpc1BsYWluT2JqZWN0KG8xKSAmJiAhaXNBcnJheShvMSkpIHx8ICghaXNQbGFpbk9iamVjdChvMikgJiYgIWlzQXJyYXkobzIpKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcDEgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YobzEpO1xyXG4gIGNvbnN0IHAyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG8xKTtcclxuXHJcbiAgaWYgKE9iamVjdC5rZXlzKG8xKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKG8yKS5sZW5ndGgpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChwMSAmJiBwMiAmJiAodG9TdHJpbmdUYWcocDEuY29uc3RydWN0b3IpICE9PSB0b1N0cmluZ1RhZyhwMi5jb25zdHJ1Y3RvcikpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvMSwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmICghKGtleSBpbiBvMikgfHwgIWRlZXBFcXVhbCh2YWx1ZSwgbzJba2V5XSwgc3RyaWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFdmVyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgbm90IGl0IHN0b3BzLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgYWxsIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXZlcnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIHJldHVybiBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICAgID8gIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgICA6ICFkZWVwRXZlcnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSlcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBGaWx0ZXJcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBpbiB0aGUgb3V0cHV0IGFuZCBpZiBub3QgaXQncyBleGNsdWRlZC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gb2JqZWN0cyBvZiBpdGVyYXRpb24uXHJcbiAqIEByZXR1cm5zIHsqfSBGaWx0ZXJlZCBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRmlsdGVyKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcbiAgY29uc3QgbnVsID0gaXNOaWwob2JqZWN0KTtcclxuICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IG51bCA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpKSB7XHJcbiAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb1trZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCkge1xyXG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IGRlZXBGaWx0ZXIodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgICBpZiAoZmlsdGVyZWQpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaChmaWx0ZXJlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IGZpbHRlcmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpZiAoYXJyYXkpIHtcclxuICAgIHJldHVybiBvLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBpZiAoIW51bCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7VHJlZXxudWxsfSAtIElmIGZvdW5kIHRoZSB3aG9sZSB0cmVlIGlzIHJldHVybmVkIGFuZCBpZiBub3QgaXQncyBudWxsIHdoYXQncyByZXR1cm5lZC5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGaW5kKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBlbmQgPSBuID09PSAxO1xyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXdUcmVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gZGVlcEZpbmQodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH0pIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRm9yRWFjaChvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVlcEZvckVhY2godmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hFbnRyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGb3JFYWNoRW50cnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKTtcclxuXHJcbiAgICBpZiAoIWVuZCAmJiAhaXNQcmltaXRpdmUodmFsdWUpKSB7XHJcbiAgICAgIGRlZXBGb3JFYWNoRW50cnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZyZWV6ZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBmcmVlemUuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmplY3QpIHtcclxuICBPYmplY3QuZnJlZXplKG9iamVjdCk7XHJcbiAgaXRlcmF0ZShvYmplY3QsIGRlZXBGcmVlemUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBNYXBcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBSZXR1cm5lZCB2YWx1ZSBpcyB1c2VkIHRvIGNyZWF0ZSB0byBuZXcgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IE5ldyBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwTWFwKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBvID0gaXNBcnJheUxpa2Uob2JqZWN0KSA/IFtdIDogaXNOaWwob2JqZWN0KSA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgb1trZXldID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgOiBkZWVwTWFwKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIG5ld1RyZWUpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwUmVkdWNlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cclxuICogQHBhcmFtIHtEZWVwUmVkdWNlQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgb24gZXZlcnkgZWxlbWVudC5cclxuICogUmV0dXJuZWQgdmFsdWUgaXMgdXNlZCB0byBjcmVhdGUgdG8gbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhcnQgLSBJZiBjYWxsYmFjayB3YXMgY2FsbGVkIGFscmVhZHkgb3Igbm90LlxyXG4gKiBAcGFyYW0ge3sgSVY6ICogfXx1bmRlZmluZWR9IElWIC0gSWYgY2FsbGJhY2sgd2FzIGNhbGxlZCBhbHJlYWR5IG9yIG5vdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3sgSVY6ICogfX0gVHJhbnNmb3JtZWQgSVYuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwUmVkdWNlKG9iamVjdCwgY2FsbGJhY2ssIG4sIHN0YXJ0LCBJViwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBpZiAoIUlWICYmIChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiAhc3RhcnQpIHtcclxuICAgICAgSVYgPSB7IElWOiB2YWx1ZSB9O1xyXG4gICAgICBzdGFydCA9IHRydWU7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIElWID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IHsgSVY6IGNhbGxiYWNrKElWLklWLCB2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpIH1cclxuICAgICAgOiBkZWVwUmVkdWNlKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIHN0YXJ0LCBJViwgbmV3VHJlZSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBJVjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwU29tZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiBzb21lIG9mIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwU29tZShvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgcmV0dXJuIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpXHJcbiAgICAgICAgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpXHJcbiAgICAgICAgOiBkZWVwU29tZSh2YWx1ZSwgY2FsbGJhY2ssIG4gLSAxLCBuZXdUcmVlKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0pIHx8IGZhbHNlO1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMF0ucHVzaCh7XHJcbiAgY2hlY2s6ICgpID0+IHRydWUsXHJcbiAgY2xzOiBTdXBlclxyXG59KTtcclxuXHJcbmV4cG9ydCB7IFN1cGVyIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEZ1bmNcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEZ1bmMgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgdmFsaWRhdGUsIHRvQXJyYXksIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllcywgaXRlcmF0ZSB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEJlZm9yZU1pZGRsZXdhcmVcclxuICogQHBhcmFtIHtBcnJheX0gYXJncyAtIFByZXZpb3VzIGFyZ3VtZW50cy5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMge0FycmF5fSAtIE5ldyBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBBZnRlck1pZGRsZXdhcmVcclxuICogQHBhcmFtIHsqfSByZXR1cm5WYWx1ZSAtIFByZXZpb3VzIHJldHVybiB2YWx1ZS5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMgeyp9IC0gTmV3IHJldHVybiB2YWx1ZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEZ1bmNcclxuICogQGV4dGVuZHMgU3VwZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuYyA9IGZ1bmN0aW9uICgpIHt9XSAtIEZ1bmN0aW9uIHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtGdW5jfSBJbnN0YW5jZSBvZiBGdW5jLlxyXG4gKiBAZGVzY3JpcHRpb24gQSB3cmFwIG9mIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhNYXRoLm1heCk7XHJcbiAqXHJcbiAqIGZ1bmMoMSwgNCwgLTIsIDUpOyAvLyA1XHJcbiAqL1xyXG5jbGFzcyBGdW5jIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKGZ1bmMgPSAoKSA9PiB7fSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm94eSgpIHtcclxuICAgICAgaWYgKCsrcHJveHkuJCQuY2FsbGVkIDwgcHJveHkuJCQuY2FuQmVDYWxsZWQpIHtcclxuICAgICAgICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIsIHN5bmMsIGNvbnRleHRMb2NrZWQgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCB7IGNvbnRleHQsIGFyZ3MgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCByZXQ7XHJcblxyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0TG9ja2VkID8gY29udGV4dCA6IGNvbnRleHQgfHwgdGhpcztcclxuICAgICAgICBhcmdzID0gYXJncy5jb25jYXQodG9BcnJheShhcmd1bWVudHMpKTtcclxuXHJcbiAgICAgICAgaWYgKHN5bmMpIHtcclxuICAgICAgICAgIGl0ZXJhdGUoYmVmb3JlLCAobWlkZGxld2FyZSkgPT4ge1xyXG4gICAgICAgICAgICBhcmdzID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHRvQXJyYXkoYXJncyksIHByb3h5KTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgdG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgICAgcmV0ID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xyXG5cclxuICAgICAgICBpdGVyYXRlKGJlZm9yZSwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKGFyZ3MpID0+IG1pZGRsZXdhcmUuY2FsbChjb250ZXh0LCB0b0FycmF5KGFyZ3MpLCBwcm94eSkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKChhcmdzKSA9PiBmdW5jLmFwcGx5KGNvbnRleHQsIHRvQXJyYXkoYXJncykpKTtcclxuXHJcbiAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKHJldCkgPT4gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge09iamVjdH0gRnVuYyMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFmdGVyIC0gQWZ0ZXIgbWlkZGxld2FyZSBhcnJheS5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3MgLSBMb2NrZWQgYW5kIGJvdW5kIGFyZ3VtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3NMb2NrZWQgLSBMb2NrZWQgYXJndW1lbnRzLlxyXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gYmVmb3JlIC0gQmVmb3JlIG1pZGRsZXdhcmUgYXJyYXkuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FsbGVkIC0gSG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FuQmVDYWxsZWQgLSBIb3cgbWFueSB0aW1lcyB0aGUgZnVuY3Rpb24gY2FuIGJlIGFjdHVhbGx5IGNhbGxlZC5cclxuICAgICAqIEBwcm9wZXJ0eSB7Kn0gY29udGV4dCAtIExvY2tlZCBvciBib3VuZCBjb250ZXh0LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBjb250ZXh0TG9ja2VkIC0gSXMgY29udGV4dCBsb2NrZWQgb3Igbm90LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBzeW5jIC0gSXMgZnVuY3Rpb24gc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBhZnRlcjogW10sXHJcbiAgICAgICAgYXJnczogW10sXHJcbiAgICAgICAgYXJnc0xvY2tlZDogW10sXHJcbiAgICAgICAgYmVmb3JlOiBbXSxcclxuICAgICAgICBjYWxsZWQ6IDAsXHJcbiAgICAgICAgY2FuQmVDYWxsZWQ6IEluZmluaXR5LFxyXG4gICAgICAgIGNvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgY29udGV4dExvY2tlZDogZmFsc2UsXHJcbiAgICAgICAgc3luYzogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBGdW5jIyRcclxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCAnJCcsIHsgdmFsdWU6IGZ1bmMgfSk7XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJveHksIEZ1bmMucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gcHJveHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYWZ0ZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtBZnRlck1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBBZnRlciBtaWRkbGV3YXJlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYWZ0ZXJBbGwgPSB0cnVlXSAtIEJvb2xlYW4gcGFyYW1ldGVyIHdoZXJlIHRvIHB1dCBtaWRkbGV3YXJlLlxyXG4gICAqIFRydXRoeSBwYXJhbWV0ZXIgc3RhbmRzIGZvciBcInRvIHRoZSBlbmRcIiBhbmQgZmFsc2V5IGZvciBcInRvIHRoZSBiZWdpbm5pbmdcIi5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBZGRzIGFmdGVyIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYWZ0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0ICogcmVzdWx0KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoNCk7ICAvLyAyNVxyXG4gICAqIGZ1bmMoLTQpOyAvLyA5XHJcbiAgICovXHJcbiAgYWZ0ZXIobWlkZGxld2FyZSwgYWZ0ZXJBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYWZ0ZXInKTtcclxuXHJcbiAgICBjb25zdCB7IGFmdGVyIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChhZnRlckFsbCkge1xyXG4gICAgICBhZnRlci5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWZ0ZXIudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNhcHBseVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIENvbnRleHQgdG8gY2FsbCB3aXRoLlxyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYXBwbHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRnVuY3Rpb24jYXBwbHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2FwcGx5fS5cclxuICAgKi9cclxuICBhcHBseShjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gKCgpID0+IHt9KS5hcHBseS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2FzeW5jXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEpID0+IGEgKyAxKS5hc3luYygpO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDVcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBhc3luYyhjb25kaXRpb24gPSB0cnVlKSB7XHJcbiAgICB0aGlzLiQkLnN5bmMgPSAhY29uZGl0aW9uO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0JlZm9yZU1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBCZWZvcmUgbWlkZGxld2FyZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2JlZm9yZUFsbCA9IHRydWVdIC0gQm9vbGVhbiBwYXJhbWV0ZXIgd2hlcmUgdG8gcHV0IG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGVuZFwiLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEFkZHMgYmVmb3JlIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYmVmb3JlKChbYXJnXSkgPT4gW2FyZyAqIGFyZ10pO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KTsgLy8gMTdcclxuICAgKiBmdW5jKDMpOyAvLyAxMFxyXG4gICAqL1xyXG4gIGJlZm9yZShtaWRkbGV3YXJlLCBiZWZvcmVBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYmVmb3JlJyk7XHJcblxyXG4gICAgY29uc3QgeyBiZWZvcmUgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGJlZm9yZUFsbCkge1xyXG4gICAgICBiZWZvcmUudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJlZm9yZS5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIENvbXBvc2l0aW9uIG9mIHtAbGluayBGdW5jI2JpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjYmluZEFyZ3N9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmEgKyBhICsgYjtcclxuICAgKiB9KS5iaW5kKHsgYTogMiB9LCAxKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgYmluZChjb250ZXh0LCAuLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuYmluZENvbnRleHQoY29udGV4dClcclxuICAgICAgLmJpbmRBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IGFyZ3MgLSBBcmd1bWVudHMgdG8gYmluZC5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCaW5kcyBhcmd1bWVudHMgaW4gYWRkaXRpb24gdG8gYWxyZWFkeSBsb2NrZWQgYW5kIGJvdW5kIG9uZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoLi4uYXJncykgPT4ge1xyXG4gICAqICAgbGV0IHN1bSA9IDA7XHJcbiAgICpcclxuICAgKiAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAqICAgICBzdW0gKz0gYXJnc1tpXTtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHN1bTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKlxyXG4gICAqIGZ1bmMuYmluZEFyZ3MoWzRdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDEwXHJcbiAgICpcclxuICAgKiBmdW5jLmJpbmRBcmdzKFs1XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxNVxyXG4gICAqL1xyXG4gIGJpbmRBcmdzKGFyZ3MpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGZ1bmMuYXJncyA9IGZ1bmMuYXJncy5jb25jYXQodG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEJpbmQgbmV3IGNvbnRleHQgaWYgaXQncyBub3QgYWxyZWFkeSBsb2NrZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgYTogMSB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQ29udGV4dCh7IGE6IDIgfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKCk7IC8vIDJcclxuICAgKi9cclxuICBiaW5kQ29udGV4dChjb250ZXh0KSB7XHJcbiAgICBjb25zdCBmdW5jID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoIWZ1bmMuY29udGV4dExvY2tlZCkge1xyXG4gICAgICBmdW5jLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbGxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBDb250ZXh0IHRvIGNhbGwgd2l0aC5cclxuICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vY2FsbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtGdW5jdGlvbiNjYWxsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9jYWxsfS5cclxuICAgKi9cclxuICBjYWxsKGNvbnRleHQsIC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiAoKCkgPT4ge30pLmNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRnVuYyNjYWxsZWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpO1xyXG4gICAqIGZ1bmMoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMuY2FsbGVkIC8vIDJcclxuICAgKi9cclxuICBnZXQgY2FsbGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCQuY2FsbGVkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbkJlQ2FsbGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lcyAtIE51bWJlciBvZiBtYXhpbXVtIHRpbWVzIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgKG1pZGRsZXdhcmVzIGFyZSBhbHNvIHRha2VuIGZvciBhIGNvdW50KS5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGxpbWl0aW5nIGNhbGwgdGltZXMgb2YgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuY2FuQmVDYWxsZWQoMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEpOyAvLyAyXHJcbiAgICogZnVuYygxKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgY2FuQmVDYWxsZWQodGltZXMpIHtcclxuICAgIHRoaXMuJCQuY2FuQmVDYWxsZWQgPSB0aW1lcztcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsaW1pdEFyZ3NUb1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGFyZ3VtZW50cyB0byBsaW1pdCB0by5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCdWlsdC1pbiBiZWZvcmUgbWlkZGxld2FyZSBmb3IgbGltaXRpbmcgbnVtYmVyIG9mIGFyZ3VtZW50c1xyXG4gICAqIHRoYXQgaXMgcHV0IHRvIHRoZSBlbmQgb2YgYmVmb3JlIG1pZGRsZXdhcmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEsIGIpID0+IFthLCBiXSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgMl1cclxuICAgKlxyXG4gICAqIGZ1bmMubGltaXRBcmdzVG8oMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgdW5kZWZpbmVkXVxyXG4gICAqL1xyXG4gIGxpbWl0QXJnc1RvKG51bWJlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuYmVmb3JlKChhcmdzKSA9PiBhcmdzLnNsaWNlKDAsIG51bWJlciksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gY29udGV4dCAtIENvbnRleHQgdG8gbG9jay5cclxuICAgKiBAcGFyYW0geyhBcnJheXxBcmd1bWVudHN8Kil9IGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9jay5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyNsb2NrQ29udGV4dH0gYW5kIHtAbGluayBGdW5jI2xvY2tBcmdzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYSArIGI7XHJcbiAgICogfSkubG9jayh7IGE6IDIgfSwgWzFdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgbG9jayhjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAubG9ja0NvbnRleHQoY29udGV4dClcclxuICAgICAgLmxvY2tBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2xvY2tBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBsb2NrLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBib3VuZCBhcmd1bWVudHMgYW5kIGFkZHMgbmV3IGFyZ3VtZW50cyB0byBhbHJlYWR5IGxvY2tlZCBvbmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyA2XHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tBcmdzKFs0XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxMFxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQXJncyhbNiwgN10pO1xyXG4gICAqIGZ1bmMubG9ja0FyZ3MoWzVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICovXHJcbiAgbG9ja0FyZ3MoYXJncykge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkID0gZnVuYy5hcmdzTG9ja2VkLmNvbmNhdCh0b0FycmF5KGFyZ3MpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrQ29udGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgLSBDb250ZXh0IHRvIGxvY2suXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9ja3MgY29udGV4dCBpZiBpdCdzIG5vdCBhbHJlYWR5IGxvY2tlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uICgpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmE7XHJcbiAgICogfSkubG9ja0NvbnRleHQoeyBhOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tDb250ZXh0KHsgYTogMiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqL1xyXG4gIGxvY2tDb250ZXh0KGNvbnRleHQpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgIGZ1bmMuY29udGV4dExvY2tlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjdGltaW5nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrIC0gQXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdG8gY29uc29sZS50aW1lKCkgYW5kIGNvbnNvbGUudGltZUVuZCgpLlxyXG4gICAqIEJ5IGRlZmF1bHQgbmFtZSBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24sIG9yIGlmIGl0J3Mgbm90IHByZXNlbnQsICdhbm9ueW1vdXMnIGlzIHVzZWQuXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gQnVpbHQtaW4gYmVmb3JlIGFuZCBhZnRlciBtaWRkbGV3YXJlcyBmb3Igbm90aW5nIGNhbGxpbmcgdGltZS5cclxuICAgKiBJbiBjYXNlIG9mIGFzeW5jaHJvbm91cyBmdW5jdGlvbnMgaXQgbm90ZXMgdGltZSBiZXR3ZWVuIGNhbGxpbmcgZnVuY3Rpb24gYW5kIHJlc29sdmluZyBvciByZWplY3RpbmcgdGhlIHJlc3VsdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKChhKSA9PiBhICsgMSlcclxuICAgKiAgIC50aW1pbmcoJ3BsdXMgMScpO1xyXG4gICAqXHJcbiAgICogZnVuYygyKTsgLy8gcGx1cyAxOiAwLjAxMG1zXHJcbiAgICpcclxuICAgKiBjb25zdCBhc3luYyA9IG5ldyBGdW5jKCgpID0+IG5ldyBQcm9taXNlKCgpID0+IHtcclxuICAgKiAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKTtcclxuICAgKiAgIH0pKVxyXG4gICAqICAgLmFzeW5jKClcclxuICAgKiAgIC50aW1pbmcoKTtcclxuICAgKlxyXG4gICAqIGFzeW5jKCk7XHJcbiAgICogLy8gQWZ0ZXIgMSBzZWNvbmQuLi5cclxuICAgKiAvLyBhbm9ueW1vdXM6IDEwMDAuMDEwbXNcclxuICAgKi9cclxuICB0aW1pbmcobWFyaykge1xyXG4gICAgbWFyayA9IGFyZ3VtZW50cy5sZW5ndGggPyBTdHJpbmcobWFyaykgOiB0aGlzLiQubmFtZSB8fCAnYW5vbnltb3VzJztcclxuXHJcbiAgICB0aGlzLmJlZm9yZSgoYXJncykgPT4ge1xyXG4gICAgICBjb25zb2xlLnRpbWUobWFyayk7XHJcblxyXG4gICAgICByZXR1cm4gYXJncztcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLmFmdGVyKChyZXQpID0+IHtcclxuICAgICAgY29uc29sZS50aW1lRW5kKG1hcmspO1xyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHRvU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuICgoKSA9PiB7fSkudG9TdHJpbmcuY2FsbCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyN1bmJpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjdW5iaW5kQXJnc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoYSkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vICsgJyAmICcgKyAgYTtcclxuICAgKiB9KS5iaW5kKHsgZm9vOiAyIH0sIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAnMiAmIDEnXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZCgpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAndW5kZWZpbmVkICYgdW5kZWZpbmVkJ1xyXG4gICAqL1xyXG4gIHVuYmluZCgpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC51bmJpbmRDb250ZXh0KClcclxuICAgICAgLnVuYmluZEFyZ3MoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyN1bmJpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBhbGwgYm91bmQgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSkuYmluZEFyZ3MoWzQsIDVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICB1bmJpbmRBcmdzKCkge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRXJhc2VzIGNvbnRleHQgaWYgaXQncyBub3QgbG9ja2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgZm9vOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgdW5iaW5kQ29udGV4dCgpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEZ1bmMucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdGdW5jJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNGdW5jdGlvbixcclxuICBjbHM6IEZ1bmNcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIG1ldGhvZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgLSBNZXRob2QgdG8gY2FsbC5cclxuICogQHBhcmFtIHsoQXJyYXl8QXJndW1lbnRzfCopfSBhcmdzIC0gQXJndW1lbnRzIHRvIGNhbGwgdGhlIG1ldGhvZCB3aXRoLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgY2FsbHMgc3RhdGVkIG1ldGhvZCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZnVuY3Rpb25cclxuICogdGhhdCBjYWxscyBzdGF0ZWQgbWV0aG9kIG9mIGl0cyBmaXJzdCBhcmd1bWVudCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogWzEuMjM0NSwgMi43ODksIDMuMTRdLm1hcChtZXRob2QoJ3RvRml4ZWQnLCBbMl0pKTsgLy8gWycxLjIzJywgJzIuNzknLCAnMy4xNCddXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXRob2QobWV0aG9kLCBhcmdzID0gW10pIHtcclxuICByZXR1cm4gKHgpID0+IHhbbWV0aG9kXS5hcHBseSh4LCB0b0FycmF5KGFyZ3MpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBub29wXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBFbXB0eSBmdW5jdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBwcm9wXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHByb3AgLSBQcm9wZXJ0eSB0byByZXR1cm4uXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdpdmVuIHByb3BlcnR5IG9mIGl0cyBmaXJzdCBhcmd1bWVudC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJuIHRoZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZ2l2ZW4gcHJvcGVydHkgb2YgaXRzIGZpcnN0IGFyZ3VtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBbJ2ZvbycsICcxMicsICc3ODkwJ10ubWFwKHByb3AoJ2xlbmd0aCcpKTsgLy8gWzMsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9wKHByb3ApIHtcclxuICByZXR1cm4gKHsgW3Byb3BdOiB2YWx1ZSB9KSA9PiB2YWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBzZWxmXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMgeyp9IEZpcnN0IGFyZ3VtZW50IGl0c2VsZi5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFsxLCAyXS5tYXAoc2VsZik7ICAgICAgICAgICAgICAgICAgICAgLy8gWzEsIDJdXHJcbiAqIFsxLCAzLCBOYU4sIDAsIDcsIG51bGxdLmZpbHRlcihzZWxmKTsgLy8gWzEsIDMsIDddXHJcbiAqL1xyXG5mdW5jdGlvbiBzZWxmKCkge1xyXG4gIHJldHVybiBhcmd1bWVudHNbMF07XHJcbn1cclxuXHJcbmV4cG9ydCB7IEZ1bmMsIG1ldGhvZCwgbm9vcCwgcHJvcCwgc2VsZiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBOdW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE51bSBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBGdW5jIH0gZnJvbSAnLi9GdW5jJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc051bWJlciwgaXNGaW5pdGUsIHRvQXJyYXksXHJcbiAgZGVmaW5lUHJvcGVydGllcywgdmFsaWRhdGUsIFN5bWJvbFxyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG5jb25zdCB0b1JhZGlhbiA9IE1hdGguUEkgLyAxODA7XHJcbmNvbnN0IHRvRGVncmVlID0gMTgwIC8gTWF0aC5QSTtcclxuY29uc3QgbG4yID0gTWF0aC5MTjI7XHJcbmNvbnN0IGxuMTAgPSBNYXRoLkxOMTA7XHJcblxyXG4vKipcclxuICogQGNsYXNzIE51bVxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyID0gMF0gLSBBIG51bWJlciB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7TnVtfSBJbnN0YW5jZSBvZiBOdW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgbnVtYmVyLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBudW0gPSBuZXcgTnVtKDEpO1xyXG4gKi9cclxuY2xhc3MgTnVtIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKG51bWJlciA9IDApIHtcclxuICAgIHN1cGVyKCtudW1iZXIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBOdW0jJFxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBudW1iZXIuXHJcbiAgICAgKi9cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fic1xyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hYnNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hYnNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWJzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgxKS5hYnM7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMSkuYWJzOyAvLyAxXHJcbiAgICovXHJcbiAgZ2V0IGFicygpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYWNvc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjY29zaW5lIG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3N9LlxyXG4gICAqL1xyXG4gIGFjb3ModG9EZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gKHRvRGVncmVlcyA/IHRvRGVncmVlIDogMSkgKiBNYXRoLmFjb3ModGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fjb3NoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYWNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWNvc2h9LlxyXG4gICAqL1xyXG4gIGdldCBhY29zaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciAtIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2FzaW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2FzaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXNpbmhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbmh9LlxyXG4gICAqL1xyXG4gIGdldCBhc2luaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciArIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI2FzaW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFt0b0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSByZXR1cm4gdmFsdWUgaXMgdHJhbnNmb3JtZWQgaW50byBkZWdyZWVzLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IEFyY3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmFzaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbn0uXHJcbiAgICovXHJcbiAgYXNpbih0b0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiAodG9EZWdyZWVzID8gdG9EZWdyZWUgOiAxKSAqIE1hdGguYXNpbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYXRhblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjc2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFufS5cclxuICAgKi9cclxuICBhdGFuKHRvRGVncmVlcykge1xyXG4gICAgcmV0dXJuICh0b0RlZ3JlZXMgPyB0b0RlZ3JlZSA6IDEpICogTWF0aC5hdGFuKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNhdGFuaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmF0YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2F0YW5ofS5cclxuICAgKi9cclxuICBnZXQgYXRhbmgoKSB7XHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgcmV0dXJuIE1hdGgubG9nKCgxICsgbnVtYmVyKSAvICgxIC0gbnVtYmVyKSkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jY2JydFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY2JydF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0fS5cclxuICAgKi9cclxuICBnZXQgY2JydCgpIHtcclxuICAgIGNvbnN0IGNicnQgPSBNYXRoLnBvdyhNYXRoLmFicyh0aGlzLiQpLCAxIC8gMyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJCA+IDAgPyBjYnJ0IDogLWNicnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNjZWlsXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5jZWlsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuY2VpbDsgIC8vIDJcclxuICAgKiBuZXcgTnVtKC0xLjEpLmNlaWw7IC8vIC0xXHJcbiAgICovXHJcbiAgZ2V0IGNlaWwoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNjb3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBDb3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Nvc30uXHJcbiAgICovXHJcbiAgY29zKGFzRGVncmVlcykge1xyXG4gICAgcmV0dXJuIE1hdGguY29zKChhc0RlZ3JlZXMgPyB0b1JhZGlhbiA6IDEpICogdGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Nvc2hcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaH0uXHJcbiAgICovXHJcbiAgZ2V0IGNvc2goKSB7XHJcbiAgICBjb25zdCBleHAgPSB0aGlzLmV4cDtcclxuXHJcbiAgICByZXR1cm4gKGV4cCArIDEgLyBleHApIC8gMjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2N1YmVcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gQ3ViZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLmN1YmU7ICAvLyA4XHJcbiAgICogbmV3IE51bSgtMykuY2VpbDsgLy8gLTI3XHJcbiAgICovXHJcbiAgZ2V0IGN1YmUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kICogdGhpcy4kICogdGhpcy4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jZXhwXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2V4cFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmV4cF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9leHB9LlxyXG4gICAqL1xyXG4gIGdldCBleHAoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5leHAodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Zsb29yXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Zsb29yXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguZmxvb3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvZmxvb3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuZmxvb3I7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMS4xKS5mbG9vcjsgLy8gLTJcclxuICAgKi9cclxuICBnZXQgZmxvb3IoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jaW50ZXJ2YWxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGV2ZXJ5IDxudW1iZXI+IG1pbGxpc2Vjb25kcy5cclxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10gLSBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgYWJvcnRzIHRoZSBpbnRlcnZhbC4gVGhlIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uIChpZiBpdCdzIG5vdCBhbHJlYWR5IGJvdW5kKVxyXG4gICAqIGlzIHRoZSBvYmplY3Qgd2l0aCB0aGUgYWJvcnQgbWV0aG9kLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zZXRJbnRlcnZhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbmFsb2d1ZSBvZiB0aGVcclxuICAgKiBbc2V0SW50ZXJ2YWxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0SW50ZXJ2YWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCB0aW1lcyA9IDA7XHJcbiAgICogbmV3IE51bSg1MCkuaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgaWYgKCsrdGltZXMgPT09IDEwKSB7XHJcbiAgICogICAgIHRoaXMuYWJvcnQoKTtcclxuICAgKiAgIH1cclxuICAgKiB9KTtcclxuICAgKi9cclxuICBpbnRlcnZhbChmdW5jLCBhcmdzID0gW10pIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnTnVtI2ludGVydmFsJyk7XHJcblxyXG4gICAgZnVuYyA9IG5ldyBGdW5jKGZ1bmMpLmJpbmRDb250ZXh0KHsgYWJvcnQgfSk7XHJcbiAgICBhcmdzID0gdG9BcnJheShhcmdzKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IGFib3J0ZWQ7XHJcbiAgICBsZXQgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gaW50ZXJ2YWwoKSB7XHJcbiAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XHJcblxyXG4gICAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIG51bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuXHJcbiAgICByZXR1cm4gYWJvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGFib3J0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgcmV0dXJuIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2xuXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZ1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZ117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2d9LlxyXG4gICAqL1xyXG4gIGdldCBsbigpIHtcclxuICAgIHJldHVybiBNYXRoLmxvZyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jbG9nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBOdW1iZXIgdG8gZ2V0IGxvZ2FyaXRobSBvZi5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBMb2dhcml0aG0gb2YgdGhlIGFyZ3VtZW50IG51bWJlciB0byB0aGUgbnVtYmVyIGJhc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGxvZ2FyaXRobSBvZiB0aGUgYXJndW1lbnQgbnVtYmVyIHRvIHRoZSBudW1iZXIgYmFzZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgyKS5sb2coMTYpOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oMykubG9nKDI0Myk7IC8vIDVcclxuICAgKi9cclxuICBsb2cobnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyKSAvIE1hdGgubG9nKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cyXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5sb2cyXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJ9LlxyXG4gICAqL1xyXG4gIGdldCBsb2cyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG4gLyBsbjI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cxMFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2cxMFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZzEwXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzEwfS5cclxuICAgKi9cclxuICBnZXQgbG9nMTAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sbiAvIGxuMTA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNwb3dcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgdG8gdGhlIDxwb3dlcj4gcG93ZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Bvd1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnBvd117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9wb3d9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnBvdyguNSk7IC8vIDJcclxuICAgKiBuZXcgTnVtKDMpLnBvdygyKTsgIC8vIDlcclxuICAgKi9cclxuICBwb3cocG93ZXIpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh0aGlzLiQsIHBvd2VyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI3Jvb3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSA8cG93ZXI+IHJvb3Qgb2YgdGhlIG51bWJlci5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbnVtYmVyLnBvdygxIC8gcG93ZXIpO1xyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnJvb3QoMik7ICAgLy8gMC41XHJcbiAgICogbmV3IE51bSgyNDMpLnJvb3QoNSk7IC8vIDNcclxuICAgKi9cclxuICByb290KHBvd2VyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5wb3codGhpcy4kLCAxIC8gcG93ZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jcm91bmRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5yb3VuZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9yb3VuZH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oMS4xKS5mbG9vcjsgIC8vIDFcclxuICAgKiBuZXcgTnVtKC0xLjEpLmZsb29yOyAvLyAtMVxyXG4gICAqIG5ldyBOdW0oMS41KS5mbG9vcjsgIC8vIDJcclxuICAgKi9cclxuICBnZXQgcm91bmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2lnblxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2lnbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWdufS5cclxuICAgKi9cclxuICBnZXQgc2lnbigpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIW51bWJlcikge1xyXG4gICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudW1iZXIgPiAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jc2luXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYXNEZWdyZWVzID0gZmFsc2VdIElmIGl0IGlzIHRydXRoeSB0aGUgbnVtYmVyIGlzIHRyZWF0ZWQgYXMgYSBkZWdyZWUgdmFsdWUuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5zaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lufS5cclxuICAgKi9cclxuICBzaW4oYXNEZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zaW4oKGFzRGVncmVlcyA/IHRvUmFkaWFuIDogMSkgKiB0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2luaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2luaF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5ofS5cclxuICAgKi9cclxuICBnZXQgc2luaCgpIHtcclxuICAgIGNvbnN0IGV4cCA9IHRoaXMuZXhwO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSAvIGV4cCkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc3FcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIHNxdWFyZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLnNxOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oLTMpLnNxOyAvLyA5XHJcbiAgICovXHJcbiAgZ2V0IHNxKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCAqIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI3NxcnRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnNxcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydH0uXHJcbiAgICovXHJcbiAgZ2V0IHNxcnQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0YW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUYW5nZW50IG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC90YW59LlxyXG4gICAqL1xyXG4gIHRhbihhc0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiBNYXRoLnRhbigoYXNEZWdyZWVzID8gdG9SYWRpYW4gOiAxKSAqIHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSN0YW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhbmhcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC50YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Rhbmh9LlxyXG4gICAqL1xyXG4gIGdldCB0YW5oKCkge1xyXG4gICAgY29uc3QgbnVtYmVyID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNGaW5pdGUobnVtYmVyKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zaWduO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV4cCA9IE1hdGguZXhwKDIgKiBudW1iZXIpO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSkgLyAoZXhwICsgMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0aW1lb3V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFZhbHVlIHRvIGJlIHJlc29sdmVkIGJ5IHRoZSBwcm9taXNlLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgY291bGQgYmUgYWJvcnRlZC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dFxyXG4gICAqIEBkZXNjcmlwdGlvbiBQcm9taXNlLWJhc2VkIGFuYWxvZ3VlIG9mXHJcbiAgICogW3NldFRpbWVvdXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oNTApLnRpbWVvdXQoJ3Jlc29sdmVkJykudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8gJ3Jlc29sdmVkJ1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogY29uc3QgcHJvbWlzZSA9IG5ldyBOdW0oNTApLnRpbWVvdXQoKTtcclxuICAgKiBwcm9taXNlLmFib3J0KCk7XHJcbiAgICovXHJcbiAgdGltZW91dCh2YWx1ZSkge1xyXG4gICAgbGV0IHRpbWVvdXQ7XHJcbiAgICBsZXQgcmVqZWN0O1xyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqKSA9PiB7XHJcbiAgICAgIHJlamVjdCA9IHJlajtcclxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy4kLCB2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm9taXNlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuXHJcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1RpbWVvdXQgd2FzIGFib3J0ZWQnKSk7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0Jhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiYXNlID0gMTBdIC0gQmFzZSB0aGF0IHRoZSBudW1iZXIgc2hvdWxkIGludmVydGVkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgaW4gPGJhc2U+IGJhc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmdcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvU3RyaW5nXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmd9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnRvQmFzZSgyKTsgLy8gMTAwXHJcbiAgICogbmV3IE51bSgzKS50b0Jhc2UoKTsgIC8vIDNcclxuICAgKi9cclxuICB0b0Jhc2UoYmFzZSA9IDEwKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKGJhc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9FeHBvbmVudGlhbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbnVtYmVyIGluIHRoZSBleHBvbmVudGlhbCBmb3JtYXQuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9FeHBvbmVudGlhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtOdW1iZXIjdG9FeHBvbmVudGlhbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL3RvRXhwb25lbnRpYWx9LlxyXG4gICAqL1xyXG4gIHRvRXhwb25lbnRpYWwoZnJhY3Rpb25EaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9FeHBvbmVudGlhbChmcmFjdGlvbkRpZ2l0cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0ZpeGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZGlnaXRzID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gRml4ZWQtcG9pbnQgZm9ybWF0dGVkIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci90b0ZpeGVkXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW051bWJlciN0b0ZpeGVkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9GaXhlZH0uXHJcbiAgICovXHJcbiAgdG9GaXhlZChkaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9GaXhlZChkaWdpdHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9QcmVjaXNpb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcmVjaXNpb25dIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgdG8gdGhlIHNwZWNpZmllZCBwcmVjaXNpb24uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb25cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvUHJlY2lzaW9uXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb259LlxyXG4gICAqL1xyXG4gIHRvUHJlY2lzaW9uKHByZWNpc2lvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b1ByZWNpc2lvbihwcmVjaXNpb24pO1xyXG4gIH1cclxuXHJcbiAgdmFsdWVPZigpIHtcclxuICAgIHJldHVybiBOdW1iZXIodGhpcy4kKTtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoTnVtLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTnVtJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNOdW1iZXIsXHJcbiAgY2xzOiBOdW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHJhbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0ID0gMF0gLSBTdGFydCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kID0gMV0gLSBFbmQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSYW5kb20gbnVtYmVyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIgaW4gdGhlIHJhbmdlIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiByYW5kKDEsIDUpOyAvLyAyLjMxNVxyXG4gKiByYW5kKDEsIDUpOyAvLyA0LjM1Njc2M1xyXG4gKi9cclxuZnVuY3Rpb24gcmFuZChzdGFydCA9IDAsIGVuZCA9IDEpIHtcclxuICByZXR1cm4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogTWF0aC5yYW5kb20oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByYW5kb21cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IHN0YXJ0IC0gU3RhcnQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGVuZCAtIEVuZCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJhbmRvbSBpbnRlZ2VyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIG51bWJlciBpbiB0aGUgcmFuZ2Ugc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHJhbmRvbSgxLCA1KTsgLy8gM1xyXG4gKiByYW5kb20oMSwgNSk7IC8vIDFcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbShzdGFydCwgZW5kKSB7XHJcbiAgdmFsaWRhdGUoW3N0YXJ0LCBlbmRdLCBbJ2ludExpa2UnLCAnaW50TGlrZSddLCAncmFuZG9tJyk7XHJcblxyXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgZmlyc3QhJywgJ3JhbmRvbScpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE1hdGguZmxvb3IocmFuZChzdGFydCwgZW5kICsgMSkpO1xyXG59XHJcblxyXG5leHBvcnQgeyBOdW0sIHJhbmQsIHJhbmRvbSB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBBcnJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEFyciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyByYW5kb20gfSBmcm9tICcuL051bSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5TGlrZSwgaXNOYU4sIGlzTnVtYmVyLCBpc1N0cmluZyxcclxuICB0b0FycmF5LCB2YWxpZGF0ZSwgaXRlcmF0ZSBhcyBpdGVyYXRvciwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXl8Kn0gQXJyYXlMaWtlXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFycmF5LWxpa2UgdHlwZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEFycmF5Q2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gaSAtIEl0ZXJhdGlvbiBpbmRleC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSXRlcmF0aW9uIGluZGV4LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgQ29tcGFyZUZ1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB4IC0gRmlyc3QgdmFsdWUgdG8gYmUgY29tcGFyZWQuXHJcbiAqIEBwYXJhbSB7Kn0geSAtIFNlY29uZCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFyclxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheSA9IFtdXSAtIEFuIGFycmF5IHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IEluc3RhbmNlIG9mIEFyci5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gYXJyYXkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBBcnIoWzEsIDJdKTtcclxuICovXHJcbmNsYXNzIEFyciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihhcnJheSA9IFtdKSB7XHJcbiAgICBzdXBlcih0b0FycmF5KGFycmF5IGluc3RhbmNlb2YgQXJyID8gYXJyYXkuJCA6IGFycmF5KSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIEFyciMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gTWFkZSBhcnJheS5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjY29uY2F0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFycnwqKX0gdmFsdWVzIC0gQXJyYXlzIG9yIGFueSBvdGhlciB2YWx1ZXMgdG8gY29uY2F0IHRoZSBhcnJheSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjY29uY2F0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXR9LlxyXG4gICAqL1xyXG4gIGNvbmNhdCguLi52YWx1ZXMpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdG9BcnJheSh0aGlzLiQsIHRydWUpO1xyXG5cclxuICAgIGl0ZXJhdG9yKGFyZ3VtZW50cywgKHZhbHVlKSA9PiB7XHJcbiAgICAgIHZhbHVlID0gbmV3IFN1cGVyKHZhbHVlKS4kO1xyXG5cclxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAhaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgaXRlcmF0b3IodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoYXJyYXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBBcnIjZmlyc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuZmlyc3Q7IC8vIDFcclxuICAgKiBuZXcgQXJyKFtdKS5maXJzdDsgICAgICAgIC8vIHVuZGVmaW5lZFxyXG4gICAqL1xyXG4gIGdldCBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLiRbMF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mfS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2YoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZignMScpOyAgICAgLy8gMFxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDNdKS5pbmRleE9mKDMpOyAgICAgICAvLyAtMVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIE5hTl0pLmluZGV4T2YoTmFOKTsgICAvLyAyXHJcbiAgICovXHJcbiAgaW5kZXhPZih2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gdGhpcy5rZXlPZih2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGtleSA9PT0gbnVsbCA/IC0xIDogTnVtYmVyKGtleSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mU3RyaWN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mU3RyaWN0fS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2ZTdHJpY3QoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgnMScpOyAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgzKTsgICAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCBOYU5dKS5pbmRleE9mU3RyaWN0KE5hTik7ICAgLy8gMlxyXG4gICAqL1xyXG4gIGluZGV4T2ZTdHJpY3QodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMua2V5T2ZTdHJpY3QodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBrZXkgPT09IG51bGwgPyAtMSA6IE51bWJlcihrZXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjam9pblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlcGFyYXRvciA9ICcsJ10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gLSBTdHJpbmcgb2Ygam9pbmVkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvam9pblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNqb2luXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9qb2lufS5cclxuICAgKi9cclxuICBqb2luKHNlcGFyYXRvcikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5qb2luLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xhc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkubGFzdDsgLy8gM1xyXG4gICAqIG5ldyBBcnIoW10pLmxhc3Q7ICAgICAgICAvLyB1bmRlZmluZWRcclxuICAgKi9cclxuICBnZXQgbGFzdCgpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xlbmd0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I2xlbmd0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RofS5cclxuICAgKi9cclxuICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNwb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgZGVsZXRlZCBlbGVtZW50LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3BvcF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wfS5cclxuICAgKi9cclxuICBwb3AoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcHVzaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IHZhbHVlcyBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHRoaXMge0Fycn1cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9wdXNoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3B1c2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3B1c2h9XHJcbiAgICogYmVzaWRlcyByZXR1cm5pbmcgdGhpcy5cclxuICAgKi9cclxuICBwdXNoKC4uLnZhbHVlcykge1xyXG4gICAgdGhpcy4kLnB1c2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmFuZG9tXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSYW5kb20gaXRlbSBvZiB0aGUgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyByYW5kb20gaXRlbXMgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDNcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDVcclxuICAgKi9cclxuICByYW5kb20oKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kW3JhbmRvbSgwLCB0aGlzLiQubGVuZ3RoIC0gMSldO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmV2ZXJzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBBIHdyYXAgb2YgdGhlIHJldmVyc2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmV2ZXJzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNyZXZlcnNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZXZlcnNlfS5cclxuICAgKi9cclxuICByZXZlcnNlKCkge1xyXG4gICAgdGhpcy4kLnJldmVyc2UoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NoaWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGRlbGV0ZWQgZWxlbWVudC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NoaWZ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NoaWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zaGlmdH0uXHJcbiAgICovXHJcbiAgc2hpZnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnNoaWZ0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzaHVmZmxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBzaHVmZmxpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDMsIDRdKS5zaHVmZmxlKCkuJDsgLy8gWzQsIDIsIDMsIDFdXHJcbiAgICogbmV3IEFycihbMSwgMiwgMywgNF0pLnNodWZmbGUoKS4kOyAvLyBbMSwgMywgNCwgMl1cclxuICAgKi9cclxuICBzaHVmZmxlKCkge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy4kLmxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gaW5kZXggKyBNYXRoLmZsb29yKChsZW5ndGggLSBpbmRleCkgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcbiAgICAgIGFycmF5W2luZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcclxuICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NsaWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbYmVnaW4gPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZCA9IGFycmF5Lmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIGEgc2xpY2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc2xpY2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NsaWNlfS5cclxuICAgKi9cclxuICBzbGljZShiZWdpbiwgZW5kKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy4kLnNsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzb3J0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Q29tcGFyZUZ1bmN0aW9ufSBbY29tcGFyZUZ1bmN0aW9uXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb3J0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NvcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvcnR9LlxyXG4gICAqL1xyXG4gIHNvcnQoY29tcGFyZUZ1bmN0aW9uKSB7XHJcbiAgICB2YWxpZGF0ZShbY29tcGFyZUZ1bmN0aW9uXSwgWydmdW5jdGlvbnx8ISddLCAnQXJyI3NvcnQnKTtcclxuXHJcbiAgICB0aGlzLiQuc29ydChjb21wYXJlRnVuY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjc29ydEFzY1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgYXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgbm9uLW51bWJlcnMgZmlyc3QsIHRoZW4gTmFOcywgdGhlbiBzb3J0ZWQgdmFsdWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnRBc2MoKS4kOyAvLyBbJzEwMCcsIE5hTiwgLTcsIDEsIDVdXHJcbiAgICovXHJcbiAgc29ydEFzYygpIHtcclxuICAgIHJldHVybiB0aGlzLnNvcnQoYXNjKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NvcnREZXNjXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgc29ydGVkIHZhbHVlcyBmaXJzdCwgdGhlbiBOYU5zLCB0aGVuIG5vbi1udW1iZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnREZXNjKCkuJDsgLy8gWzUsIDEsIC03LCBOYU4sICcxMDAnXVxyXG4gICAqL1xyXG4gIHNvcnREZXNjKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc29ydCgoeSwgeCkgPT4gYXNjKHgsIHkpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NwbGljZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2RlbGV0ZUNvdW50XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0gey4uLip9IFtpdGVtc10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIHJldHVybiB2YWx1ZSBvZiAjc3BsaWNlIGNhbGwuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc3BsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2V9LlxyXG4gICAqL1xyXG4gIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIC4uLml0ZW1zKSB7XHJcbiAgICByZXR1cm4gbmV3IEFycih0aGlzLiQuc3BsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gQ29uY2F0ZW5hdGVkIGFycmF5LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvciBhcnJheS5qb2luKCcnKS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLnN0cmluZygpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHN0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLmpvaW4oJycpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjdW5zaGlmdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3Vuc2hpZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjdW5zaGlmdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvdW5zaGlmdH1cclxuICAgKiBiZXNpZGVzIHJldHVybmluZyB0aGlzLlxyXG4gICAqL1xyXG4gIHVuc2hpZnQoLi4udmFsdWVzKSB7XHJcbiAgICB0aGlzLiQudW5zaGlmdC5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEFyci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ0FycidcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFzY1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHggLSBGaXJzdCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICogQHBhcmFtIHsqfSB5IC0gU2Vjb25kIHZhbHVlIHRvIGJlIGNvbXBhcmVkLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBXaGVyZSB0byBwdXQgdGhlIGZpcnN0IGVsZW1lbnQ6IGJlZm9yZSBvciBhZnRlci5cclxuICovXHJcbmZ1bmN0aW9uIGFzYyh4LCB5KSB7XHJcbiAgaWYgKCFpc051bWJlcih4KSAmJiAhaXNOdW1iZXIoeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih4KSkge1xyXG4gICAgcmV0dXJuIC0xO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih5KSkge1xyXG4gICAgcmV0dXJuIDE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeCkgJiYgaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKHgpKSB7XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHggLSB5O1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMV0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzQXJyYXlMaWtlLFxyXG4gIGNsczogQXJyXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhcnJheVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBMZW5ndGggb2YgdGhlIGFycmF5LlxyXG4gKiBAcGFyYW0ge0FycmF5Q2FsbGJhY2t9IFtjYWxsYmFja10gLSBJZiBpdCdzIHByZXNlbnQgaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb25cclxuICogdGhhdCByZXR1cm5zIHRoZSBlbGVtZW50IHRoYXQgaXMgcHVzaGVkIHRvIHRoZSBuZXcgYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIG5ldyBhcnJheSBmcm9tIHRoZSBsZW5ndGggdXNpbmcgb3B0aW9uYWwgY2FsbGJhY2suXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGFycmF5KDMpLiQ7ICAgICAgICAgICAgICAgLy8gWzAsIDEsIDJdXHJcbiAqIGFycmF5KDMsIChpKSA9PiBpICogMikuJDsgLy8gWzAsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBhcnJheShudW1iZXIsIGNhbGxiYWNrKSB7XHJcbiAgdmFsaWRhdGUoW251bWJlciwgY2FsbGJhY2tdLCBbWydpbnRMaWtlJywgJz49MCddLCAnZnVuY3Rpb258fCEnXSwgJ2FycmF5Jyk7XHJcblxyXG4gIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcclxuICAgIGFycmF5LnB1c2goY2FsbGJhY2sgPyBjYWxsYmFjayhpKSA6IGkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBBcnIoYXJyYXkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGl0ZXJhdGlvbnMuXHJcbiAqIEBwYXJhbSB7SXRlcmF0ZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uIHdpdGggdGhlIGl0ZXJhdGlvbiBpbmRleC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHJlcGxhY2luZyBmb3IgKC4uLikgY29uc3RydWN0aW9uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpdGVyYXRlKCk7XHJcbiAqL1xyXG5mdW5jdGlvbiBpdGVyYXRlKG51bWJlciwgY2FsbGJhY2spIHtcclxuICB2YWxpZGF0ZShbbnVtYmVyLCBjYWxsYmFja10sIFtbJ2ludExpa2UnLCAnPj0wJ10sICdmdW5jdGlvbiddLCAnaXRlcmF0ZScpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7XHJcbiAgICBjYWxsYmFjayhpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFyciwgYXJyYXksIGl0ZXJhdGUgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgQmxvYk9iamVjdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvYk9iamVjdCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi9Qcm9taXNlJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sXHJcbiAgdG9TdHJpbmdUYWcsIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllc1xyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge3sgYnVmZmVyOiBTdHJpbmcsIGJpbmFyeTogU3RyaW5nLCBkYXRhVVJMOiBTdHJpbmcsIHRleHQ6IFN0cmluZyB9fSBtZXRob2RzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBMaXN0IG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuY29uc3QgbWV0aG9kcyA9IHtcclxuICBidWZmZXI6ICdBcnJheUJ1ZmZlcicsXHJcbiAgYmluYXJ5OiAnQmluYXJ5U3RyaW5nJyxcclxuICBkYXRhVVJMOiAnRGF0YVVSTCcsXHJcbiAgdGV4dDogJ1RleHQnXHJcbn07XHJcbmNvbnN0IHsgVVJMIH0gPSBnbG9iYWw7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeygnYnVmZmVyJ3wnYmluYXJ5J3wnZGF0YVVSTCd8J3RleHQnKX0gUmVhZEJsb2JNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fEJsb2J8U3RyaW5nfSBCbG9iUGFydHNcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gQWxsb3dlZCBibG9iIHBhcnRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVhZGVyRXZlbnRMaXN0ZW5lclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgLSBGaXJlZCBldmVudC5cclxuICogQHBhcmFtIHtGaWxlUmVhZGVyfSByZWFkZXIgLSBGaWxlUmVhZGVyLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgQmxvYk9iamVjdFxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QmxvYn0gYmxvYiAtIEJsb2IgdG8gd3JhcC5cclxuICogQHJldHVybnMge0Jsb2JPYmplY3R9IEluc3RhbmNlIG9mIEJsb2JPYmplY3QuXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgYmxvYi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEJsb2JPYmplY3QobmV3IEJsb2IoWyd7XCJmb29cIjpcImJhclwifSddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XHJcbiAqL1xyXG5jbGFzcyBCbG9iT2JqZWN0IGV4dGVuZHMgU3VwZXIge1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQmxvYk9iamVjdCMkXHJcbiAgICogQHR5cGUge0Jsb2J9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBCbG9iLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtTdHJpbmd9IEJsb2JPYmplY3QjZGF0YVVSTFxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGRhdGFVUkwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGJsb2IuXHJcbiAgICovXHJcbiAgZ2V0IGRhdGFVUkwoKSB7XHJcbiAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3JlYWRBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlYWRCbG9iTWV0aG9kfSBtZXRob2QgLSBNZXRob2QgdGhhdCBpcyB1c2VkIGZvciByZWFkaW5nIGZyb20gYmxvYi5cclxuICAgKiBAcGFyYW0ge1JlYWRlckV2ZW50TGlzdGVuZXJ9IFtwcm9ncmVzc10gLSBQcm9ncmVzcyBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IGNvdWxkIGJlIGFib3J0ZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVhZGluZyBmcm9tIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnJlYWRBcygndGV4dCcpXHJcbiAgICogICAudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2codmFsdWUpOyAvLyAne1wiZm9vXCI6XCJiYXJcIn0nXHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICByZWFkQXMobWV0aG9kLCBwcm9ncmVzcykge1xyXG4gICAgaWYgKCFtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCcxc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgZm9sbG93aW5nIHZhbHVlczogYnVmZmVyLCBiaW5hcnksIGRhdGFVUkwsIHRleHQnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIGxldCB0b1JlamVjdDtcclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9ncmVzcykpIHtcclxuICAgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHByb2dyZXNzKGUsIHRoaXMpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRvUmVqZWN0ID0gcmVqZWN0O1xyXG5cclxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIGlmIChyZWFkZXIpIHtcclxuICAgICAgICAgIHJlamVjdCh0YXJnZXQuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZWFkZXJbYHJlYWRBcyR7IG1ldGhvZHNbbWV0aG9kXSB9YF0odGhpcy4kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb21pc2UuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcclxuICAgICAgdG9SZWplY3QobmV3IEVycm9yKCdSZWFkaW5nIHdhcyBhYm9ydGVkJykpO1xyXG5cclxuICAgICAgcmVhZGVyLmFib3J0KCk7XHJcblxyXG4gICAgICByZWFkZXIgPSBudWxsO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3NhdmVBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gTmFtZSB0aGF0IGlzIHVzZWQgZm9yIHNhdmluZyBmaWxlLlxyXG4gICAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igc2F2aW5nIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnNhdmVBcygnYmxvYi5qc29uJyk7XHJcbiAgICovXHJcbiAgc2F2ZUFzKG5hbWUgPSAnZG93bmxvYWQnKSB7XHJcbiAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgYW5jaG9yLmhyZWYgPSB0aGlzLmRhdGFVUkw7XHJcbiAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG5hbWUpO1xyXG4gICAgYW5jaG9yLmNsaWNrKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEJsb2JPYmplY3QucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdCbG9iT2JqZWN0J1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogKGJsb2IpID0+IC9eKEJsb2J8RmlsZSkkLy50ZXN0KHRvU3RyaW5nVGFnKGJsb2IpKSxcclxuICBjbHM6IEJsb2JPYmplY3RcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGJsb2JcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyhCbG9iUGFydHNbXXxCbG9iUGFydHMpfSBibG9iUGFydHMgLSBCbG9iIHBhcnRzIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBOZXcgaW5zdGFuY2Ugb2YgQmxvYk9iamVjdC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBibG9icyBub3QgaW52b2x2aW5nIEJsb2JPYmplY3QgYW5kIEJsb2IgY29uc3RydWN0b3JzLlxyXG4gKi9cclxuZnVuY3Rpb24gYmxvYihibG9iUGFydHMsIG9wdGlvbnMgPSB7fSkge1xyXG4gIGlmICghaXNBcnJheShibG9iUGFydHMpKSB7XHJcbiAgICBibG9iUGFydHMgPSBbYmxvYlBhcnRzXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihibG9iUGFydHMsIG9wdGlvbnMpKTtcclxufVxyXG5cclxuZXhwb3J0IHsgQmxvYk9iamVjdCwgYmxvYiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdHJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFN0ciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBEIH0gZnJvbSAnLi9EJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzLCByZWdleHBTcGVjaWFsQ2hhcmFjdGVycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0Z1bmN0aW9uLCBpc051bWJlckxpa2UsIGlzT2JqZWN0LCBpc1N0cmluZyxcclxuICB2YWxpZGF0ZSwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzLCBpdGVyYXRlXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmNvbnN0IGh0bWxTcGVjaWFscyA9IHtcclxuICAnJic6ICcmYW1wOycsXHJcbiAgJzwnOiAnJmx0OycsXHJcbiAgJz4nOiAnJmd0OydcclxufTtcclxuY29uc3QgcmVnZXhwU3BlY2lhbHNSZWdleHAgPSBuZXcgUmVnRXhwKFxyXG4gIG5ldyBTdXBlcihyZWdleHBTcGVjaWFsQ2hhcmFjdGVycylcclxuICAgIC53b3JkKCh4KSA9PiBgXFxcXCR7IHggfXxgKVxyXG4gICAgLnJlcGxhY2UoL1xcfCQvLCAnJyksXHJcbiAgJ2cnXHJcbik7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN0clxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbc3RyaW5nID0gJyddIC0gQSBzdHJpbmcgdG8gd3JhcC5cclxuICogQHJldHVybnMge1N0cn0gSW5zdGFuY2Ugb2YgU3RyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhIHN0cmluZy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgcyA9IG5ldyBOdW0oJzEnKTtcclxuICovXHJcbmNsYXNzIFN0ciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihzdHJpbmcgPSAnJykge1xyXG4gICAgc3VwZXIoYCR7IHN0cmluZyB9YCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIFN0ciMkXHJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIE9yaWdpbmFsIHN0cmluZy5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjY2FwaXRhbGl6ZUZpcnN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IENhcGl0YWxpemVkIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGNhcGl0YWxpemluZyB0aGUgZmlyc3Qgc3ltYm9sLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdmb28nKS5jYXBpdGFsaXplRmlyc3QoKS4kOyAvLyAnRm9vJ1xyXG4gICAqL1xyXG4gIGNhcGl0YWxpemVGaXJzdCgpIHtcclxuICAgIGNvbnN0IHN0cmluZyA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cihzdHJpbmcuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlbmRzV2l0aFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb24gPSBzdHJpbmcubGVuZ3RoXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHN0cmluZyBlbmRzIHdpdGggdGhlIGFyZ3VtZW50IHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjZW5kc1dpdGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aH0uXHJcbiAgICovXHJcbiAgZW5kc1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHBvc2l0aW9uID0gdGhpcy4kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuc2xpY2UoMCwgcG9zaXRpb24pXHJcbiAgICAgIC5yZXZlcnQoKVxyXG4gICAgICAuc3RhcnRzV2l0aChuZXcgU3RyKHNlYXJjaFN0cmluZykucmV2ZXJ0KCkuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlc2NhcGVIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZHMgZXNjYXBpbmcgXCImXCIsIFwiPFwiIGFuZCBcIj5cIiBzeW1ib2xzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdcIjEgPCAyXCIgJiBcIjcgPiA0XCIgYXJlIHRydWUgZXhwcmVzc2lvbnMuJykuZXNjYXBlSFRNTCgpLiQ7XHJcbiAgICogLy8gJ1wiMSAmbHQ7IDJcIiAmYW1wIFwiNyAmZ3Q7IDJcIiBhcmUgdHJ1ZSBleHByZXNzaW9ucy4nXHJcbiAgICovXHJcbiAgZXNjYXBlSFRNTCgpIHtcclxuICAgIGxldCBzdHJpbmcgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShodG1sU3BlY2lhbHMsIChlc2NhcGVkLCBzeW1ib2wpID0+IHtcclxuICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChzeW1ib2wsICdnJyksIGVzY2FwZWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBTdHIoc3RyaW5nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI2VzY2FwZVJlZ0V4cFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZXNjYXBpbmcgUmVnRXhwIHNwZWNpYWwgY2hhcmFjdGVycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignKDIxMy45OCAtIFtdIHt9KScpLmVzY2FwZVJlZ0V4cCgpLiQ7IC8vICdcXCgyMTNcXC45OCBcXC0gXFxbXFxdIFxce1xcfVxcKSdcclxuICAgKi9cclxuICBlc2NhcGVSZWdFeHAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHJlZ2V4cFNwZWNpYWxzUmVnZXhwLCAnXFxcXCQmJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNpblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBjaGVjayB0aGUgc3RyaW5nIGFzIGEgcHJvcGVydHkgaW4uXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGl0IGlzIGluIHRoZSBvYmplY3Qgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHN0cmluZyBpbiBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbih7IGE6IDEgfSk7IC8vIHRydWVcclxuICAgKiBuZXcgU3RyKCd0b0ZpeGVkJykuaW4oMSk7ICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbihudWxsKTsgICAgIC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaW4ob2JqZWN0KSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLiQgaW4gb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjaW5kZXhPZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoVmFsdWUgLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtmcm9tSW5kZXggPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBGb3VuZCBpbmRleCBvciAtMS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmRleE9mXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNpbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5kZXhPZn0uXHJcbiAgICovXHJcbiAgaW5kZXhPZihzZWFyY2hWYWx1ZSwgZnJvbUluZGV4KSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjbGFzdEluZGV4T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFZhbHVlIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZnJvbUluZGV4ID0gc3RyaW5nLmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gRm91bmQgaW5kZXggb3IgLTEuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI2xhc3RJbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2Z9LlxyXG4gICAqL1xyXG4gIGxhc3RJbmRleE9mKHNlYXJjaFZhbHVlLCBmcm9tSW5kZXgpIHtcclxuICAgIHJldHVybiB0aGlzLiQubGFzdEluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdHIjbGVuZ3RoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNsZW5ndGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9sZW5ndGh9LlxyXG4gICAqL1xyXG4gIGdldCBsZW5ndGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI21hdGNoXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ8U3VwZXJ9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjbWF0Y2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaH0uXHJcbiAgICovXHJcbiAgbWF0Y2gocmVnZXhwKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQubWF0Y2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGVhdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IHRpbWVzIC0gVGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9yZXBlYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3JlcGVhdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGVhdH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgyKS4kOyAvLyAnMTIzMTIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgwKS4kOyAvLyAnJ1xyXG4gICAqL1xyXG4gIHJlcGVhdCh0aW1lcykge1xyXG4gICAgdmFsaWRhdGUoW3RpbWVzXSwgW1snaW50TGlrZScsICc+PTAnXV0sICdTdHIjcmVwZWF0Jyk7XHJcblxyXG4gICAgdGltZXMgPSArdGltZXM7XHJcblxyXG4gICAgY29uc3Qgc3RyaW5nID0gdGhpcy4kO1xyXG5cclxuICAgIGxldCBzID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7XHJcbiAgICAgIHMgKz0gc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjcmVwbGFjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZ0V4cHxTdHJpbmd9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gW3JlcGxhY2VyID0gJyddIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvcmVwbGFjZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjcmVwbGFjZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGxhY2V9XHJcbiAgICogYmVzaWRlcyB0aGF0IHJlcGxhY2VyIGhhcyBhIGRlZmF1bHQgdmFsdWUgb2YgJycuXHJcbiAgICovXHJcbiAgcmVwbGFjZShyZWdleHAsIHJlcGxhY2VyID0gJycpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC5yZXBsYWNlKHJlZ2V4cCwgcmVwbGFjZXIpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGxhY2VTdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byByZXBsYWNlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcmVwbGFjZXIgPSAnJ10gLSBTdHJpbmcgdG8gcmVwbGFjZSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2xvYmFsIHN0cmluZyByZXBsYWNlaW5nLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCcxMjMxMjMnKS5yZXBsYWNlU3RyaW5nKCcxJywgJzQnKS4kOyAvLyAnNDIzNDIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMzEyMycpLnJlcGxhY2VTdHJpbmcoJzEnKS4kOyAgICAgIC8vICcyMzIzJ1xyXG4gICAqL1xyXG4gIHJlcGxhY2VTdHJpbmcoc3RyaW5nLCByZXBsYWNlciA9ICcnKSB7XHJcbiAgICBzdHJpbmcgPSBuZXcgU3VwZXIoc3RyaW5nKS4kO1xyXG5cclxuICAgIHZhbGlkYXRlKFtzdHJpbmddLCBbJ3N0cmluZyddLCAnU3RyI3JlcGxhY2VTdHJpbmcnKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3BsaXQoc3RyaW5nKS5qb2luKHJlcGxhY2VyKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNyZXZlcnRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciByZXZlcnRpbmcgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMzQnKS5yZXZlcnQoKS4kOyAvLyAnNDMyMSdcclxuICAgKi9cclxuICByZXZlcnQoKSB7XHJcbiAgICBjb25zdCBzdHJpbmcgPSB0aGlzLiQ7XHJcbiAgICBsZXQgc3RyID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IHN0cmluZy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBzdHIgKz0gc3RyaW5nW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHN0cik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzZWFyY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBJbmRleCBvZiB0aGUgZmlyc3QgbWF0Y2gsIGlmIGZvdW5kLCBhbmQgLTEgaWYgbm90LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3NlYXJjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc2VhcmNoXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2VhcmNofS5cclxuICAgKi9cclxuICBzZWFyY2gocmVnZXhwKSB7XHJcbiAgICB2YWxpZGF0ZShbcmVnZXhwXSwgWydyZWdleHAnXSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJC5zZWFyY2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc2xpY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiZWdpblNsaWNlID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRTbGljZSA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3NsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2V9LlxyXG4gICAqL1xyXG4gIHNsaWNlKGJlZ2luU2xpY2UsIGVuZFNsaWNlKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc2xpY2UuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3NwbGl0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7UmVnRXhwfFN0cmluZ30gW3NlcGFyYXRvcl0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0FycnxTdXBlcn0gRC1XcmFwIG9mIHRoZSBhcnJheS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3BsaXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdH0uXHJcbiAgICovXHJcbiAgc3BsaXQoc2VwYXJhdG9yKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQuc3BsaXQuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3N0YXJ0c1dpdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZyAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBhcmd1bWVudCBzdHJpbmcuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3RhcnRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3RhcnRzV2l0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGh9LlxyXG4gICAqL1xyXG4gIHN0YXJ0c1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbiA9IDApIHtcclxuICAgIHJldHVybiB0aGlzLiQuaW5kZXhPZi5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykgPT09IHBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc3Vic3RyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQgPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2xlbmd0aCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJ9LlxyXG4gICAqL1xyXG4gIHN1YnN0cihzdGFydCwgbGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3Vic3RyLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzdWJzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleFN0YXJ0ID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleEVuZCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyaW5nXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJpbmdde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJpbmd9LlxyXG4gICAqL1xyXG4gIHN1YnN0cmluZyhpbmRleFN0YXJ0LCBpbmRleEVuZCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnN1YnN0cmluZy5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9DYW1lbENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXHNcXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBjYW1lbCBjYXNlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignc3BpbmFsLWNhc2UnKS50b0NhbWVsQ2FzZSgpLiQ7ICAvLyAnc3BpbmFsQ2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0NhbWVsQ2FzZSgpLiQ7IC8vICdzbmFrZUNhc2UnXHJcbiAgICovXHJcbiAgdG9DYW1lbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoLy1bXi1dL2csIChtYXRjaCkgPT4gbWF0Y2hbMV0udG9VcHBlckNhc2UoKSlcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9Mb3dlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0NhcGl0YWxDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgY2FwaXRhbCBsZXR0ZXIgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9DYXBpdGFsQ2FzZSgpLiQ7ICAvLyAnU3BpbmFsIENhc2UnXHJcbiAgICogbmV3IFN0cignX3NuYWtlX2Nhc2VfJykudG9DYXBpdGFsQ2FzZSgpLiQ7IC8vICdTbmFrZSBDYXNlJ1xyXG4gICAqL1xyXG4gIHRvQ2FwaXRhbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHNbXFxTXS9nLCAobWF0Y2gpID0+IG1hdGNoLnRvVXBwZXJDYXNlKCkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9VcHBlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0RvdENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBkb3QgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9Eb3RDYXNlKCkuJDsgIC8vICdzcGluYWwuY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0RvdENhc2UoKS4kOyAvLyAnc25ha2UuY2FzZSdcclxuICAgKi9cclxuICB0b0RvdENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcuJylcclxuICAgICAgLnJlcGxhY2UoL1teLl0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAuJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoL1xcLisvZywgJy4nKVxyXG4gICAgICAucmVwbGFjZSgvXlxcLi8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvSHlwaGVuQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW1vdmVzIGZvbGxvd2luZyByZWdleHAgL1xcc1xcLV9cXC4vIG1ha2luZyB0aGUgc3RyaW5nIGNhbWVsIGNhc2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdjYW1lbENhc2UnKS50b1NwaW5hbENhc2UoKS4kOyAgICAvLyAnY2FtZWwtY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b1NwaW5hbENhc2UoKS4kOyAvLyAnc25ha2UtY2FzZSdcclxuICAgKi9cclxuICB0b0h5cGhlbkNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL1teLV0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAtJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL14tLywgJycpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9Mb3dlckNhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjdG9Mb3dlckNhc2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ1VQUEVSLUNBU0UnKS50b0xvd2VyQ2FzZSgpLiQ7ICAvLyAndXBwZXItY2FzZSdcclxuICAgKi9cclxuICB0b0xvd2VyQ2FzZSgpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC50b0xvd2VyQ2FzZSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU25ha2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFxzXFwtXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBzcGluYWwgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TbmFrZUNhc2UoKS4kOyAvLyAnc3BpbmFsX2Nhc2UnXHJcbiAgICogbmV3IFN0cignY2FtZWxDYXNlJykudG9TbmFrZUNhc2UoKS4kOyAgIC8vICdjYW1lbF9jYXNlJ1xyXG4gICAqL1xyXG4gIHRvU25ha2VDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodHJpbSh0aGlzLiQpXHJcbiAgICAgIC5yZXBsYWNlKC9bXFxzXFwtXy5dKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9bXl9dL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgXyR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9fKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9eXy8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU3BhY2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgc3BhY2UgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TcGFjZUNhc2UoKS4kOyAgLy8gJ3NwaW5hbCBjYXNlJ1xyXG4gICAqIG5ldyBTdHIoJ19zbmFrZV9jYXNlXycpLnRvU3BhY2VDYXNlKCkuJDsgLy8gJ3NuYWtlIGNhc2UnXHJcbiAgICovXHJcbiAgdG9TcGFjZUNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b1VwcGVyQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignbG93ZXItY2FzZScpLnRvVXBwZXJDYXNlKCkuJDsgIC8vICdMT1dFUi1DQVNFJ1xyXG4gICAqL1xyXG4gIHRvVXBwZXJDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnRvVXBwZXJDYXNlKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdHJpbVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltfS5cclxuICAgKi9cclxuICB0cmltKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdK3xbXFxzXFx1ZmVmZlxcdTAwYTBdKyQvZywgJycpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RyaW1MZWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1MZWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnR9LlxyXG4gICAqL1xyXG4gIHRyaW1MZWZ0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdKy8sICcnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0cmltUmlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltUmlnaHRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1SaWdodF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1SaWdodH0uXHJcbiAgICovXHJcbiAgdHJpbVJpZ2h0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL1tcXHNcXHVmZWZmXFx1MDBhMF0rJC8sICcnKSk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN0ci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N0cidcclxufSk7XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzU3RyaW5nLFxyXG4gIGNsczogU3RyXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdHJpbShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL15bXFxzXFwtXy5dK3xbXFxzXFwtXy5dKyQvZywgJycpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSlNPTlxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbanNvbiA9IG51bGxdIC0gU3RyaW5nIHRvIHBhcnNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLm51bWJlcnNdIC0gSWYgaXQgaXMgbmVlZGVkIHRvIHBhcnNlIG51bWJlci1saWtlIHN0cmluZ3MgYXMgbnVtYmVycy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLmRhdGVzXSAtIElmIGl0IGlzIG5lZWRlZCB0byBwYXJzZSBkYXRlLWxpa2Ugc3RyaW5nIGFzIGRhdGVzLlxyXG4gKiBEYXRlLWxpa2Ugc3RyaW5nIGlzIGNvbnNpZGVyZWQgdG8gbWF0Y2ggXlxcZFxcZFxcZFxcZC1cXGRcXGQtXFxkXFxkVFxcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkXFxkXFxkWj8kXHJcbiAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfSBbY2FsbGJhY2tdIC0gQ2FsbGJhY2sgdGhhdCBjYWxsZWQgb24gZXZlcnkgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcGFyc2luZyBqc29uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IDEgfScpLiQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHsgYTogMSB9XHJcbiAqIHBhcnNlSlNPTigneyBcImFcIjogXCIxXCIgfScsIHsgbnVtYmVyczogdHJ1ZSB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAvLyB7IG51bWJlcnM6IHRydWUgfVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IFwiMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaXCIgfScsIHsgZGF0ZXM6IHRydWUgfSkuJDsgLy8geyBhOiBEYXRlIHsuLi59IH1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlSlNPTihqc29uID0gbnVsbCwgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykge1xyXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcclxuICAgIHJldHVybiBEKEpTT04ucGFyc2UoanNvbikpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcclxuICAgIGNhbGxiYWNrID0gb3B0aW9ucztcclxuICAgIG9wdGlvbnMgPSB7fTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgbnVtYmVycywgZGF0ZXMgfSA9IG9wdGlvbnM7XHJcbiAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGRhdGVzICYmIC9eXFxkXFxkXFxkXFxkLVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGRcXGRcXGRaPyQvLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgfSBlbHNlIGlmIChudW1iZXJzICYmIGlzTnVtYmVyTGlrZSh2YWx1ZSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FsbGJhY2sgPyBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBEKHBhcnNlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN0ciwgcGFyc2VKU09OIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIG1hcmt1cFRvSlNPTiBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMsIGh0bWxBbGxvd2VkQXR0clN5bWJvbHMsIHZvaWRFbGVtZW50cyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTWFya3VwRWxlbWVudFxyXG4gKiBAcHJvcGVydHkgeydjb21tZW50J3wndGV4dCd8J2VsZW1lbnQnfSB0eXBlIC0gVHlwZSBvZiB0aGUgbm9kZS5cclxuICogQHByb3BlcnR5IHtNYXJrdXBFbGVtZW50fSBwYXJlbnQgLSBUeXBlIG9mIHRoZSBub2RlLlxyXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBTdHJpbmc+fSBhdHRycyAtIE5vZGUgYXR0cmlidXRlc1xyXG4gKiBAcHJvcGVydHkge01hcmt1cEVsZW1lbnRbXX0gY2hpbGRyZW4gLSBOb2RlIGNoaWxkcmVuLlxyXG4gKi9cclxuXHJcbmNvbnN0IHN1Ym1pdFN0cmluZyA9ICdQbGVhc2UsIHN1Ym1pdCBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vZHdheW5lanMvZHdheW5lL2lzc3Vlcy4nO1xyXG5jb25zdCBOT0RFX1JFR0VYX1NFVCA9IG5ldyBTdXBlcih7XHJcbiAgJ3RhZy1vcGVuJzogbmV3IFJlZ0V4cChgPCgkeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgfSlcXFxccypgLCAnaScpLFxyXG4gICd0YWctY2xvc2UnOiBjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChodG1sQWxsb3dlZFRhZ1N5bWJvbHMpLFxyXG4gIGNvbW1lbnQ6IC88IS0tKCg/Oi1bXlxcLT5dfFteXFwtPl0pKD86LT9bXi1dKSpbXi1dP3wpLS0+L1xyXG59KTtcclxuY29uc3QgVEFHX09QRU5fQ0xPU0UgPSAvXihcXC8/KT4vO1xyXG4vLyBjb25zdCBBVFRSSUJVVEUgPSAvXihbXlxcdTAwMDAtXFx1MDAyMFxcc1wiJz5cXC89XSspKD86XFxzKj1cXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcc1wiJ2A8Pj1dKykpP1xccyovO1xyXG5jb25zdCBBVFRSSUJVVEUgPSBuZXcgUmVnRXhwKGBeKCR7IGh0bWxBbGxvd2VkQXR0clN5bWJvbHMgfSkoPzpcXFxccyo9XFxcXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcXFxzXCInXFxgPD49XSspKT9cXFxccypgKTtcclxuY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IG5vZGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoZWxlbSkgPT4gZWxlbSlcclxuICAuY2FzZSgndGFnLW9wZW4nLCAoZWxlbSwgbm9kZSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB2YWx1ZTogbmFtZSxcclxuICAgICAgc2VsZkNsb3NpbmdcclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIG5vZGUgPSB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGF0dHJzOiBuZXcgU3VwZXIobm9kZS5hdHRycykubWFwKCh2YWx1ZSkgPT4gKFxyXG4gICAgICAgIHBhcnNlQ2hhcmFjdGVyRGF0YSh2YWx1ZSlcclxuICAgICAgKSkuJCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICBjaGlsZHJlbjogbmV3IEFycihbXSlcclxuICAgIH07XHJcblxyXG4gICAgZWxlbS5jaGlsZHJlbi5wdXNoKG5vZGUpO1xyXG5cclxuICAgIGlmICghc2VsZkNsb3NpbmcgJiYgdm9pZEVsZW1lbnRzLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XHJcbiAgICAgIGVsZW0gPSBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtO1xyXG4gIH0pXHJcbiAgLmNhc2UoJ3RhZy1jbG9zZScsIChlbGVtLCBub2RlKSA9PiB7XHJcbiAgICBpZiAoZWxlbS5uYW1lID09PSBub2RlLnZhbHVlKSB7XHJcbiAgICAgIGVsZW0gPSBlbGVtLnBhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbTtcclxuICB9KVxyXG4gIC5jYXNlKFsnY29tbWVudCcsICd0ZXh0J10sIChlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2UsIHR5cGUpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB7XHJcbiAgICAgIG5hbWU6IGAjJHsgdHlwZSB9YCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICB2YWx1ZTogbm9kZS52YWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ3RleHQnICYmIGVsZW0ubmFtZSAhPT0gJ3NjcmlwdCcgJiYgZWxlbS5uYW1lICE9PSAnc3R5bGUnKSB7XHJcbiAgICAgIGVsZW1lbnQudmFsdWUgPSBwYXJzZUNoYXJhY3RlckRhdGEoZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgICBpZiAoY29sbGFwc2VXaGl0ZVNwYWNlKSB7XHJcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IG5ldyBTdHIoZWxlbWVudC52YWx1ZSkudHJpbSgpLiQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNvbGxhcHNlV2hpdGVTcGFjZSB8fCAhL15cXHMqJC8udGVzdChlbGVtZW50LnZhbHVlKSkge1xyXG4gICAgICBlbGVtLmNoaWxkcmVuLnB1c2goZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfSk7XHJcbmNvbnN0IHJhd1RleHRTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCBmYWxzZSlcclxuICAuY2FzZShbJ3RpdGxlJywgJ3RleHRhcmVhJywgJ3N0eWxlJywgJ3NjcmlwdCddLCB0cnVlKTtcclxuXHJcbmNsYXNzIEludGVybmFsUGFyc2luZ0Vycm9yIHtcclxuICBjb25zdHJ1Y3RvcihpbmRleCkge1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUGFyc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIHR5cGUgPSAnUEFSU0lOR19FUlJPUic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrdXAgLSBNYXJrdXAgdG8gcGFyc2UgdG8gSlNPTi5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIGNvbGxhcHNlZC5cclxuICogQHJldHVybnMge0Fyci48TWFya3VwRWxlbWVudD59IE1hcmt1cCBlbGVtZW50cyBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBwYXJzaW5nIGh0bWwgYW5kIHhtbCB0byBKU09OLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKG1hcmt1cCwgY29sbGFwc2VXaGl0ZVNwYWNlKSA9PiB7XHJcbiAgY29sbGFwc2VXaGl0ZVNwYWNlID0gISFjb2xsYXBzZVdoaXRlU3BhY2U7XHJcblxyXG4gIGNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihbXSk7XHJcbiAgY29uc3Qgc3RhcnRNYXJrdXAgPSBtYXJrdXA7XHJcbiAgbGV0IGZvdW5kO1xyXG4gIGxldCBnbG9iYWxJbmRleCA9IDA7XHJcbiAgbGV0IGVsZW0gPSB7XHJcbiAgICBuYW1lOiBudWxsLFxyXG4gICAgY2hpbGRyZW46IGVsZW1lbnRzXHJcbiAgfTtcclxuXHJcbiAgd2hpbGUgKG1hcmt1cC5sZW5ndGgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGZvdW5kID0gZmluZChtYXJrdXAsIGVsZW0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEludGVybmFsUGFyc2luZ0Vycm9yKSkge1xyXG4gICAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFBhcnNpbmcgZXJyb3IgbmVhciBpbmRleCAkeyBuZWFyU3RyaW5nKHN0YXJ0TWFya3VwLCBnbG9iYWxJbmRleCArIGVyci5pbmRleCkgfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgYXR0cnMsXHJcbiAgICAgIHNlbGZDbG9zaW5nLFxyXG4gICAgICBpbmRleCxcclxuICAgICAgdmFsdWVcclxuICAgIH0gPSBmb3VuZDtcclxuXHJcbiAgICBnbG9iYWxJbmRleCArPSBpbmRleDtcclxuXHJcbiAgICBpZiAoIWluZGV4KSB7XHJcbiAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm9kZSA9IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgdmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICd0YWctb3BlbicpIHtcclxuICAgICAgbm9kZS5hdHRycyA9IGF0dHJzO1xyXG4gICAgICBub2RlLnNlbGZDbG9zaW5nID0gc2VsZkNsb3Npbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbSA9IG5vZGVTd2l0Y2hlcihub2RlLnR5cGUsIFtlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2VdKTtcclxuXHJcbiAgICBtYXJrdXAgPSBtYXJrdXAuc2xpY2UoaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnRzO1xyXG5cclxuICBmdW5jdGlvbiB0aHJvd1VuZXhwZWN0ZWRFcnJvcigpIHtcclxuICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFVuZXhwZWN0ZWQgcGFyc2luZyBlcnJvciBuZWFyIGluZGV4ICR7IG5lYXJTdHJpbmcoc3RhcnRNYXJrdXAsIGdsb2JhbEluZGV4KSB9LiAkeyBzdWJtaXRTdHJpbmcgfWApO1xyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbmQobWFya3VwLCBlbGVtKSB7XHJcbiAgY29uc3QgeyBuYW1lIH0gPSBlbGVtO1xyXG4gIGxldCBtYXRjaGVzO1xyXG5cclxuICBpZiAocmF3VGV4dFN3aXRjaGVyKG5hbWUpKSB7XHJcbiAgICBtYXRjaGVzID0gbmV3IFN1cGVyKHtcclxuICAgICAgJ3RhZy1jbG9zZSc6IG1hcmt1cC5tYXRjaChjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChuYW1lKSlcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtYXRjaGVzID0gTk9ERV9SRUdFWF9TRVQubWFwKChyZWdleCkgPT4gKFxyXG4gICAgICBtYXJrdXAubWF0Y2gocmVnZXgpXHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIGxldCBtYXRjaDtcclxuXHJcbiAgaWYgKFxyXG4gICAgbWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG1hdGNoKSA9PiAoXHJcbiAgICAgIG1hdGNoICYmIG1hdGNoLmluZGV4ID09PSAwXHJcbiAgICApKVxyXG4gICkge1xyXG4gICAgY29uc3QgcmV0dXJuaW5nID0ge1xyXG4gICAgICB0eXBlOiBtYXRjaC5rZXksXHJcbiAgICAgIGluZGV4OiBtYXRjaC52YWx1ZVswXS5sZW5ndGgsXHJcbiAgICAgIHZhbHVlOiBtYXRjaC52YWx1ZVsxXVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcblxyXG4gICAgaWYgKG1hdGNoLmtleSA9PT0gJ3RhZy1vcGVuJykge1xyXG4gICAgICBjb25zdCBzdGFydE1hcmt1cCA9IG1hcmt1cDtcclxuICAgICAgbGV0IGNsb3NlTWF0Y2g7XHJcblxyXG4gICAgICByZXR1cm5pbmcuc2VsZkNsb3NpbmcgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuaW5nLmF0dHJzID0gYXR0cnM7XHJcblxyXG4gICAgICB3aGlsZSAoXHJcbiAgICAgICAgKG1hcmt1cCA9IHN0YXJ0TWFya3VwLnNsaWNlKHJldHVybmluZy5pbmRleCkpICYmXHJcbiAgICAgICAgIShjbG9zZU1hdGNoID0gbWFya3VwLm1hdGNoKFRBR19PUEVOX0NMT1NFKSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgYXR0ciA9IG1hcmt1cC5tYXRjaChBVFRSSUJVVEUpO1xyXG5cclxuICAgICAgICBpZiAoIWF0dHIpIHtcclxuICAgICAgICAgIHJldHVybmluZy5pbmRleCArPSAxO1xyXG5cclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXR0cnNbYXR0clsxXV0gPSAoYXR0clsyXSB8fCAnJykucmVwbGFjZSgvXihcInwnKXwoXCJ8JykkL2csICcnKTtcclxuICAgICAgICByZXR1cm5pbmcuaW5kZXggKz0gYXR0clswXS5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjbG9zZU1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuaW5nLmluZGV4ICs9IGNsb3NlTWF0Y2hbMF0ubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybmluZy5zZWxmQ2xvc2luZyA9ICEhY2xvc2VNYXRjaFsxXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXR1cm5pbmc7XHJcbiAgfVxyXG5cclxuICBsZXQgeyB2YWx1ZTogaW5kZXggfSA9IG1hdGNoZXMubWluKChtYXRjaCkgPT4gKFxyXG4gICAgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IE5hTlxyXG4gICkpO1xyXG5cclxuICBpZiAoaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICBpbmRleCA9IG1hcmt1cC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogJ3RleHQnLFxyXG4gICAgaW5kZXgsXHJcbiAgICB2YWx1ZTogbWFya3VwLnNsaWNlKDAsIGluZGV4KVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdENsb3NlVGFnUmVnRXhwKHRhZ05hbWUpIHtcclxuICByZXR1cm4gbmV3IFJlZ0V4cChgPC8oJHsgdGFnTmFtZSB9KVxcXFxzKj5gLCAnaScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuZWFyU3RyaW5nKG1hcmt1cCwgaW5kZXgpIHtcclxuICByZXR1cm4gYCR7IGluZGV4IH0gKH5+fiBcIiR7IG1hcmt1cC5zbGljZShpbmRleCwgaW5kZXggKyAxNSkgfVwiIH5+fiwgdGhlIHN0cmluZyBpdHNlbGYgaXMgXCIkeyBtYXJrdXAgfVwiKWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ2hhcmFjdGVyRGF0YShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyYoXFx3K3wjeD9cXGQrKTsvZywgKG1hdGNoKSA9PiB7XHJcbiAgICBkaXYuaW5uZXJIVE1MID0gbWF0Y2g7XHJcblxyXG4gICAgcmV0dXJuIGRpdi50ZXh0Q29udGVudCB8fCBkaXYuaW5uZXJUZXh0O1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEVsZW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEVsZW0gY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgQXJyLCBhcnJheSwgaXRlcmF0ZSBhcyB0aW1lcyB9IGZyb20gJy4vQXJyJztcclxuaW1wb3J0IHsgYmxvYiB9IGZyb20gJy4vQmxvYk9iamVjdCc7XHJcbmltcG9ydCB7IG1ldGhvZCB9IGZyb20gJy4vRnVuYyc7XHJcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICcuL1Byb21pc2UnO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7XHJcbiAgY29uc3RydWN0b3JzLCBhcHBsaWVkUmVnRXhwcywgaHRtbEVsZW1lbnRzLCBzdmdFbGVtZW50cyxcclxuICBjYW52YXNHZXRNZXRob2RzLCBjYW52YXNSZXN0TWV0aG9kc1xyXG59IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLFxyXG4gIGlzSW50ZWdlciwgaXNOaWwsIGlzTnVtYmVyLCBpc051bGwsIGlzU3RyaW5nLFxyXG4gIGFzc2lnbiwgZHluYW1pY0RlZmluZVByb3BlcnRpZXMsIGRlZmluZVByb3BlcnRpZXMsIHRvQXJyYXksXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2xcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgbWFya3VwVG9KU09OIGZyb20gJy4vaGVscGVycy9tYXJrdXBUb0pTT04nO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdHJpbmd9IEVsZW1FdmVudFN0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBjb250YWluaW5nIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBjb21tYSB3aXRoIHplcm8gb3IgbW9yZSBzcGFjZXMgb3IganVzdCBzcGFjZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtVmFsdWVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSAtIE9sZCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtfSBlbGVtIC0gQ3VycmVudCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBJbmRleCBpbiB0aGUgc2V0IG9mIHRoZSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEVsZW1TZXRPZkNhbGxiYWNrXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFbGVtZW50fSBjcmVhdGVkIC0gQ3JlYXRlZCBlbGVtZW50LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgb2YgdGhlIGl0ZXJhdGVkIGVsZW1lbnQgaW4gdGhlIG9iamVjdC5cclxuICogQHBhcmFtIHtLZXl9IGtleSAtIEtleSBvZiB0aGUgaXRlcmF0ZWQgZWxlbWVudCBpbiB0aGUgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0aGF0IGlzIGl0ZXJhdGVkIG92ZXIuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEN1cnJlbnQgZWxlbWVudC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIFZhbGlkYXRlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gRWxlbWVudCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIC0gRWxlbWVudCB0byB2YWxpZGF0ZS5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGVsZW1lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBDdHhDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtTGlzdGVuZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0V2ZW50fSBlIC0gRmlyZWQgZXZlbnQuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgb24gd2hpY2ggdGhlIGxpc3RlbmVyIHdhcyBjYWxsZWQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIEluZGV4IG9mIHRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSBsaXN0ZW5lciB3YXMgY2FsbGVkLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRWxlbVJlbW92ZUxpc3RlbmVyc1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Li4uRWxlbUV2ZW50U3RyaW5nfSBldmVudHMgLSBJZiBhdCBsZWFzdCBvbmUgYXJndW1lbnQgcHJlc2VudCBvbmx5IHJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIHNwZWNpZmllZFxyXG4gKiBieSB0aGUgZXZlbnRzIGluIHRoZSBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuY29uc3QgbmF0aXZlRG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XHJcbmNvbnN0IGVtcHR5RGl2ID0gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IGV2ZW50U2VwYXJhdG9yID0gLygsfCApICovO1xyXG5jb25zdCB0ZXh0UHJvcGVydHkgPSBuZXcgU3VwZXIoTm9kZS5wcm90b3R5cGUpLnByb3BlcnR5RGVzY3JpcHRvcigndGV4dENvbnRlbnQnKSA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcclxuY29uc3QgY2xhc3NlcyA9IHt9O1xyXG5jb25zdCBhdHRycyA9IHt9O1xyXG5jb25zdCB3aW5kb3dzRHdheW5lRGF0YSA9IG5ldyBBcnIoW10pO1xyXG5jb25zdCBpbnB1dEVsZW1lbnRzID0gJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnO1xyXG5jb25zdCBjbGljayA9IG1ldGhvZCgnY2xpY2snKTtcclxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5jb25zdCB4bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyc7XHJcbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmNvbnN0IHhodG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XHJcbmNvbnN0IHR5cGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKGVsZW0sIHR5cGUpID0+IHtcclxuICBjb25zdCBucyA9IHR5cGUgPT09ICdzdmcnXHJcbiAgICA/IHN2Z05TXHJcbiAgICA6IGVsZW0ucHJvcCgnbmFtZXNwYWNlVVJJJykgfHwgbmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSB8fCB4aHRtbE5TO1xyXG5cclxuICByZXR1cm4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0eXBlKTtcclxufSlcclxuICAuY2FzZShcclxuICAgICh0eXBlKSA9PiB0eXBlID09PSAnI2NvbW1lbnQnLFxyXG4gICAgKCkgPT4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICAodHlwZSkgPT4gdHlwZSA9PT0gJyN0ZXh0JyxcclxuICAgICgpID0+IG5hdGl2ZURvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKVxyXG4gICk7XHJcbmNvbnN0IHJlZlN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICdocmVmJylcclxuICAuY2FzZShcclxuICAgIFsnaW1nJywgJ3NjcmlwdCcsICdpZnJhbWUnLCAnYXVkaW8nLCAndmlkZW8nXSxcclxuICAgICdzcmMnXHJcbiAgKVxyXG4gIC5jYXNlKFxyXG4gICAgJ2Zvcm0nLFxyXG4gICAgJ2FjdGlvbidcclxuICApO1xyXG5jb25zdCBmaWx0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKHNlbGVjdG9yKSA9PiBzZWxlY3RvcilcclxuICAuY2FzZShcclxuICAgIGlzU3RyaW5nLFxyXG4gICAgKHNlbGVjdG9yKSA9PiAoXHJcbiAgICAgIChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcilcclxuICAgIClcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICBbaXNBcnJheSwgaXNFbGVtXSxcclxuICAgIChlbGVtcykgPT4ge1xyXG4gICAgICBlbGVtcyA9IG5ldyBBcnIoZWxlbXMpO1xyXG5cclxuICAgICAgcmV0dXJuIChlbGVtKSA9PiBlbGVtcy5pbmRleE9mKGVsZW0pICE9PSAtMTtcclxuICAgIH1cclxuICApO1xyXG5jb25zdCBpbm5lclN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsIDApXHJcbiAgLmNhc2UoJ3BhZGRpbmctYm94JywgKHBhZGRpbmdzKSA9PiBwYWRkaW5ncylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIChwYWRkaW5ncywgYm9yZGVycykgPT4gcGFkZGluZ3MgKyBib3JkZXJzKTtcclxuY29uc3Qgb3V0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoYm9yZGVycywgcGFkZGluZ3MpID0+IGJvcmRlcnMgKyBwYWRkaW5ncylcclxuICAuY2FzZSgncGFkZGluZy1ib3gnLCAoYm9yZGVycykgPT4gYm9yZGVycylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIDApO1xyXG5jb25zdCBhdHRyTlNTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgbnVsbClcclxuICAuY2FzZSgoYXR0cikgPT4gYXR0ciA9PT0gJ3htbG5zJyB8fCBhdHRyID09PSAneG1sbnM6eGxpbmsnLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5uYW1lID09PSAnc3ZnJ1xyXG4gICAgICA/IHhtbE5TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpXHJcbiAgLmNhc2UoKGF0dHIpID0+IC9eeGxpbms6XFx3Ly50ZXN0KGF0dHIpLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5jbG9zZXN0KCdzdmcnKS5sZW5ndGhcclxuICAgICAgPyB4bGlua05TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBFbGVtXHJcbiAqIEBleHRlbmRzIEFyclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IFtlbGVtID0gW11dIC0gQW4gZWxlbWVudCBvciBhbiBhcnJheSBvZiBlbGVtZW50cyB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gZWxlbWVudHMgc2V0LiBBbHNvIGhhcyBhbGwgbWV0aG9kcyBmcm9tIGZyb21cclxuICogW0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0uXHJcbiAqIEdldHRlcnMgbWV0aG9kcyByZXR1cm4gdGhlIHNhbWUgYXMgbWV0aG9kcyBmcm9tIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBhbmQgdGhlIHJlc3QgcmV0dXJuIHRoaXMuXHJcbiAqIFdvcmsgZm9yIHRoZSBmaXJzdCBjYW52YXMgZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBuZXcgRWxlbShkb2N1bWVudC5ib2R5KTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNscycpKTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2xzJykpO1xyXG4gKi9cclxuY2xhc3MgRWxlbSBleHRlbmRzIEFyciB7XHJcbiAgY29uc3RydWN0b3IoZWxlbSA9IFtdKSB7XHJcbiAgICBzdXBlcigoKCkgPT4ge1xyXG4gICAgICBsZXQgZWxlbWVudCA9IGVsZW07XHJcblxyXG4gICAgICBpZiAoaXNBcnJheUxpa2UoZWxlbWVudCkgJiYgKFxyXG4gICAgICAgIGlzV2luZG93KGVsZW1lbnQpIHx8XHJcbiAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0VsZW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc1N0eWxlUnVsZShlbGVtZW50KVxyXG4gICAgICApKSB7XHJcbiAgICAgICAgZWxlbWVudCA9IFtlbGVtZW50XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ldyBBcnIodG9BcnJheShuZXcgU3VwZXIoZWxlbWVudCkuJCwgdHJ1ZSkpLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgICBpZiAoZWxlbXMuaW5kZXhPZihlbGVtKSA9PT0gLTEgJiYgKFxyXG4gICAgICAgICAgaXNFbGVtZW50KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1dpbmRvdyhlbGVtKSB8fFxyXG4gICAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbSkgfHxcclxuICAgICAgICAgIGlzRG9jdW1lbnRGcmFnbWVudChlbGVtKSB8fFxyXG4gICAgICAgICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1N0eWxlUnVsZShlbGVtKVxyXG4gICAgICAgICkpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5wdXNoKGVsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgICAgICAgZWxlbXMucHVzaC5hcHBseShlbGVtcywgZWxlbS4kKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFtdKS4kO1xyXG4gICAgfSkoKSk7XHJcblxyXG4gICAgdGhpcy4kJCA9IGVsZW07XHJcblxyXG4gICAgdGhpcy5mb3JFYWNoKGFkZER3YXluZURhdGEpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7QXJyYXkuPE5vZGV8V2luZG93Pn0gRWxlbSMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXkuPE5vZGV8V2luZG93Pn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1Y3RlZCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7Kn0gRWxlbSMkJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLihTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXSl9IGVsZW1lbnRzIC0gRWFjaCBhcmd1bWVudCBpcyBhIHNlbGVjdG9yLCBvciBFbGVtLCBvciBFbGVtZW50LCBvciBhcnJheSBvZiBFbGVtZW50cy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgZWxlbWVudHMgdG8gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEuZmluZCgnLmNsczEnKVxyXG4gICAqICAgLmFkZChlbGVtMi5maW5kKCcuY2xzMicpKVxyXG4gICAqICAgLmhpZGUoKTtcclxuICAgKi9cclxuICBhZGQoLi4uZWxlbWVudHMpIHtcclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZWxlbSkgPT4ge1xyXG4gICAgICB0b0ZpbmQoZWxlbSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4T2YoZWxlbSkgPT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLnB1c2goZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZENsYXNzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBjbGFzc2VzIC0gQ2xhc3NlcyB0byBhZGQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgY2xhc3NlcyB0byB0aGUgYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdyZWQnLCAncm91bmQnKTtcclxuICAgKi9cclxuICBhZGRDbGFzcyguLi5jbGFzc2VzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3QgPSBlbGVtLmNsYXNzTGlzdDtcclxuXHJcbiAgICAgIGl0ZXJhdGUoaXNFbGVtZW50KGVsZW0pICYmIGFyZ3VtZW50cywgKGNscykgPT4gbGlzdC5hZGQoY2xzKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiBjb21tZW50IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBjb21tZW50IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjb21tZW50IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRIVE1MKCc8ZGl2PjE8L2Rpdj4nKTtcclxuICAgKi9cclxuICBhZGRDb21tZW50KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKGVuZCA/ICdiZWZvcmVlbmQnIDogJ2FmdGVyYmVnaW4nLCBgPCEtLSR7IHRleHQgfS0tPmApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQgLSBJZiB0aGUgSFRNTCBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgaXQncyBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgSFRNTCB0byBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uYWRkSFRNTCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICovXHJcbiAgYWRkSFRNTChodG1sLCBlbmQgPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmluc2VydEFkamFjZW50SFRNTChlbmQgPyAnYmVmb3JlZW5kJyA6ICdhZnRlcmJlZ2luJywgaHRtbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciAtIFNlbGVjdG9yIGZvciB0aGUgcnVsZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjc3Mgc3R5bGVzIGludG8gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmFkZFJ1bGUoJ2ltZy1zaXplJywgJ2ltZy5zcXVhcmUnLCB7XHJcbiAgICogICB3aWR0aDogJzQwcHggIWltcG9ydGFudCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4ICFpbXBvcnRhbnQnXHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgYWRkUnVsZShuYW1lLCBzZWxlY3Rvciwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgc2hlZXQgfSA9IGVsZW07XHJcbiAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IHNoZWV0LmNzc1J1bGVzO1xyXG4gICAgICAgIGNvbnN0IHJ1bGVzID0gbmV3IFN1cGVyKHN0eWxlKS53b3JkKCh2YWx1ZSwgcHJvcGVydHkpID0+IChcclxuICAgICAgICAgIGAkeyBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKSB9OiAkeyB2YWx1ZSB9O1xcbmBcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShcclxuICAgICAgICAgIGAkeyBzZWxlY3RvciB9IHskeyBydWxlcyAmJiAnXFxuJyB9JHsgcnVsZXMgfX1gLFxyXG4gICAgICAgICAgbGVuZ3RoXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzaGVldC5jc3NSdWxlc1tsZW5ndGhdLmR3YXluZURhdGEgPSB7IG5hbWUgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSB0ZXh0IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyB0ZXh0IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRUZXh0KCcxMjMnKTtcclxuICAgKi9cclxuICBhZGRUZXh0KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpLmludG8oZWxlbSwgZW5kKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FwcGx5XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBzdHJpbmdzIC0gU3RyaW5ncyB0byBhcHBseS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgdGhhdCBpcyBhIHNob3J0aGFuZCBmb3IgbWFueSBvdGhlciBtZXRob2RzLlxyXG4gICAqIEFsbCBzaG9ydGhhbmRzIGNhbiBiZSBzZXBhcmF0ZWQgd2l0aCBzcGFjZSBhbmQgd3JpdHRlbiB3aXRoaW4gb25lIHN0cmluZy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hcHBseShcclxuICAgKiAgICcjaWQgLmMxIC5jMiBAYm9yZGVyKDFweCBzb2xpZCBibGFjaykgJGRpc2FibGVkICRhdHRyKHNvbWUgdmFsdWUpICooQ2xpY2sgbWUhKSdcclxuICAgKiApO1xyXG4gICAqIC8vIHNob3J0aGFuZCBmb3JcclxuICAgKiAvLyBlbGVtXHJcbiAgICogLy8gICAuaWQoJ2lkJylcclxuICAgKiAvLyAgIC5hZGRDbGFzcygnYzEnLCAnYzInKVxyXG4gICAqIC8vICAgLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCBibGFjaycpXHJcbiAgICogLy8gICAuYXR0cih7XHJcbiAgICogLy8gICAgIGF0dHIsICdzb21lIHZhbHVlJ1xyXG4gICAqIC8vICAgICBkaXNhYmxlZDogJydcclxuICAgKiAvLyAgIH0pXHJcbiAgICogLy8gICAudGV4dCgnQ2xpY2sgbWUhJyk7XHJcbiAgICogLy8gVGhlcmUgaXMgYSBmdWxsIGxpc3Qgb2YgcG9zc2libGUgdHlwZXMgb2Ygc3ludGF4IGJlbG93Li4uXHJcbiAgICpcclxuICAgKiBlbGVtLmFwcGx5KCcjaWQnKTsgICAgICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5pZCgnaWQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCcuYzEgLmMyJyk7ICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5hZGRDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctLmMxIC0uYzInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctQGZsb2F0IC1AZGlzcGxheScpOyAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDU1MoJ2Zsb2F0JywgJ2Rpc3BsYXknKTtcclxuICAgKiBlbGVtLmFwcGx5KCctJGExIC0kYTInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVBdHRyKCdhMScsICdhMicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyooc29tZSB0ZXh0KScpOyAgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLnRleHQoJ3NvbWUgdGV4dCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyYoPGRpdj4xPC9kaXY+KScpOyAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmh0bWwoJzxkaXY+MTwvZGl2PicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BmbG9hdChyaWdodCknKTsgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnZmxvYXQnLCAncmlnaHQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCdAdHJhbnNmb3JtKHNjYWxlKDVweCkpJyk7IC8vIHNob3J0aGFuZCBmb3IgZWxlbS5jc3MoJ3RyYW5zZm9ybScsICdzY2FsZSg1cHgpJyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbigycHggMnB4KScpOyAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4nLCAnMnB4IDJweCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BtYXJnaW5MZWZ0KDJweCknKTsgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnbWFyZ2luTGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbi1sZWZ0KDJweCknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4tbGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHIoc29tZSB2YWx1ZSknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICdzb21lIHZhbHVlJyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHInKTsgICAgICAgICAgICAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICcnKTtcclxuICAgKi9cclxuICBhcHBseSguLi5zdHJpbmdzKSB7XHJcbiAgICBsZXQgYXBwbGllZDtcclxuICAgIGxldCBzZXRBcHBsaWVkO1xyXG4gICAgbGV0IGNhbGxiYWNrO1xyXG4gICAgbGV0IG5hbWU7XHJcbiAgICBsZXQgbnAxO1xyXG4gICAgbGV0IHNsaWNlO1xyXG5cclxuICAgIG5ldyBTdHIobmV3IEFycihhcmd1bWVudHMpLmpvaW4oJyAnKSlcclxuICAgICAgLnNwbGl0KC8oXFxzKykvKVxyXG4gICAgICAuZm9yRWFjaCgoc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFhcHBsaWVkKSB7XHJcbiAgICAgICAgICBucDEgPSBzdHJpbmcuc2xpY2UoMCwgMSk7XHJcbiAgICAgICAgICBjYWxsYmFjayA9IGFwcGxpZWRSZWdFeHBzW25wMV07XHJcbiAgICAgICAgICBzbGljZSA9IDE7XHJcblxyXG4gICAgICAgICAgaWYgKGNhbGxiYWNrICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrW3N0cmluZy5zbGljZSgxLCAyKV07XHJcbiAgICAgICAgICAgIHNsaWNlID0gMjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoL15cXHMrJC8udGVzdChzdHJpbmcpIHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbmFtZSA9IHN0cmluZy5zbGljZShzbGljZSkubWF0Y2goL15bXigpXSsvKTtcclxuXHJcbiAgICAgICAgICBpZiAoIW5hbWUgJiYgKG5wMSAhPT0gJyonICYmIG5wMSAhPT0gJyYnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYXBwbGllZCA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSA/IG5hbWVbMF0gOiAnJyxcclxuICAgICAgICAgICAgYXJnczogc3RyaW5nLnNsaWNlKHNsaWNlICsgKG5hbWUgPyBuYW1lWzBdIDogJycpLmxlbmd0aCksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHNldEFwcGxpZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzZXRBcHBsaWVkKSB7XHJcbiAgICAgICAgICBhcHBsaWVkLmFyZ3MgKz0gc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhcHBsaWVkLmFyZ3MgfHwgL15cXChbXFxzXFxTXStcXCkkLy50ZXN0KGFwcGxpZWQuYXJncykpIHtcclxuICAgICAgICAgIGFwcGxpZWQuY2FsbGJhY2sodGhpcywgYXBwbGllZC5uYW1lLCBhcHBsaWVkLmFyZ3MucmVwbGFjZSgvXlxcKHxcXCkkL2csICcnKSk7XHJcbiAgICAgICAgICBhcHBsaWVkID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldEFwcGxpZWQgPSBmYWxzZTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jYXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgU3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrPn0gW2F0dHJdIC0gTmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIGdldCBvclxyXG4gICAqIGFuIG9iamVjdCBvZiB0aGUgZm9ybWF0IHsgW2F0dHJOYW1lXTogdmFsdWUsIC4uLiB9IHRvIHNldCBhdHRyaWJ1dGVzLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrfSBbdmFsdWVdIC0gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nXHJcbiAgICogaXQgc2hvdWxkIGJlIGEgdmFsdWUgdG8gc2V0IGZvciB0aGF0IGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7U3VwZXJ8U3RyaW5nfEVsZW19IElmIG5vIGFyZ3VtZW50cyBwYXNzZWQsIEQtV3JhcCBvZiBhdHRyaWJ1dGVzIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCwgaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBhdHRyaWJ1dGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmF0dHIoJ2F0dHIxJywgJ3ZhbHVlMScpOyAvLyBhdHRyaWJ1dGUgYXR0cjEgc2V0IHRvICd2YWx1ZTEnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyMScpOyAgICAgICAgICAgLy8gJ3ZhbHVlMSdcclxuICAgKiBlbGVtLmF0dHIoe1xyXG4gICAqICAgYXR0cjE6ICd2YWx1ZTMnLCAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBhdHRyMSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIGF0dHIyOiAndmFsdWUyJyAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgYXR0cjIgc2V0IHRvICd2YWx1ZTInXHJcbiAgICogfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyByZXR1cm5lZFxyXG4gICAqIGVsZW0uYXR0cigpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgYXR0cjE6ICd2YWx1ZTMnLCBhdHRyMjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGF0dHIoYXR0ciwgdmFsdWUpIHtcclxuICAgIGNvbnN0IGVsZW0gPSBnZXRFbGVtKHRoaXMpO1xyXG5cclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKGVsZW0uYXR0cmlidXRlcykub2JqZWN0KChvLCBhdHRyKSA9PiB7XHJcbiAgICAgICAgb1thdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhhdHRyKSkge1xyXG4gICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgcmV0dXJuIGlzTnVsbChucylcclxuICAgICAgICA/IGVsZW0uZ2V0QXR0cmlidXRlKGF0dHIpXHJcbiAgICAgICAgOiBlbGVtLmdldEF0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIGF0dHIgPSB7IFthdHRyXTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKGF0dHIpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICB2YWx1ZSA9IGlzRnVuY3Rpb24odmFsdWUpXHJcbiAgICAgICAgICA/IHZhbHVlKG5ldyBFbGVtKGVsZW0pLmF0dHIoa2V5KSwgZWxlbSwgaW5kZXgpXHJcbiAgICAgICAgICA6IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoaXNOaWwodmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IEVsZW0oZWxlbSkucmVtb3ZlQXR0cihrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbnMgPSBhdHRyTlNTd2l0Y2hlcihrZXksIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMobnMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNibG9iXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucyA9IHt9XSAtIE9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIGJsb2J9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxCbG9iT2JqZWN0Pn0gTmV3IGluc3RhbmNlIG9mIHByb21pc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgYSB7QGxpbmsgQmxvYk9iamVjdH0gUHJvbWlzZS4gV29ya3Mgd2l0aCBpbWFnZSBvciBjYW52YXMgZmlyc3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogaW1hZ2UuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgIC8vIEJsb2JPYmplY3RcclxuICAgKiBjYW52YXMuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgLy8gQmxvYk9iamVjdFxyXG4gICAqL1xyXG4gIGJsb2Iob3B0aW9ucyA9IHt9KSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtID0gdGhpcy5maXJzdCgpO1xyXG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGVsZW07XHJcblxyXG4gICAgICBpZiAobmFtZSAhPT0gJ2ltZycgJiYgbmFtZSAhPT0gJ2NhbnZhcycpIHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdGaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXNuXFwndCBhbiBpbWFnZSBvciBhIGNhbnZhcyEgKEVsZW0jYmxvYiknKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuYW1lID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGVsZW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtXHJcbiAgICAgICAgLmxvYWQoKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGlmIChlbGVtLmlzQnJva2VuKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ1RoZSBpbWFnZSBpcyBicm9rZW4hIChFbGVtI2Jsb2IpJykpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IG5ldyBFbGVtKG5hdGl2ZURvY3VtZW50KS5jYW52YXMoKTtcclxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWxlbS53aWR0aCgpO1xyXG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gZWxlbS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICBjYW52YXNcclxuICAgICAgICAgICAgLndpZHRoKHdpZHRoKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KGhlaWdodClcclxuICAgICAgICAgICAgLmRyYXdJbWFnZShlbGVtLiRbMF0sIDAsIDApO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUoY2FudmFzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pLnRoZW4oKGNhbnZhcykgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhVVJMID0gY2FudmFzLmRhdGFVUkwoKTtcclxuICAgICAgY29uc3QgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YVVSTC5zcGxpdCgnLCcpWzFdKTtcclxuICAgICAgY29uc3QgbGVuZ3RoID0gYnl0ZVN0cmluZy5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IGFiID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XHJcbiAgICAgIGNvbnN0IGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xyXG5cclxuICAgICAgdGltZXMobGVuZ3RoLCAoaSkgPT4ge1xyXG4gICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBibG9iKGFiLCBvcHRpb25zKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2JsdXJcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTEVsZW1lbnQjYmx1cl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJ9LlxyXG4gICAqL1xyXG4gIGJsdXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmJsdXIoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2FsY0NTU1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHNldWRvXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL1dpbmRvdy9nZXRDb21wdXRlZFN0eWxlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW2dldENvbXB1dGVkU3R5bGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0Q29tcHV0ZWRTdHlsZX0uXHJcbiAgICogUmV0dXJucyBjb21wdXRlZCBzdHlsZSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBvciB1bmRlZmluZWQuXHJcbiAgICovXHJcbiAgY2FsY0NTUyhwc2V1ZG8gPSBudWxsKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShnZXRFbGVtKHRoaXMpLCBwc2V1ZG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoYW5nZVJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNoYW5naW5nIGNzcyBzdHlsZXMgaW4gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmNoYW5nZVJ1bGUoJ2ltZy1zaXplJywge1xyXG4gICAqICAgd2lkdGg6ICc1MHB4ICFpbXBvcnRhbnQnLFxyXG4gICAqICAgaGVpZ2h0OiAnNTBweCAhaW1wb3J0YW50J1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGNoYW5nZVJ1bGUobmFtZSwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgdmFsdWU6IHJ1bGUgfSA9IG5ldyBBcnIoZWxlbS5zaGVldC5jc3NSdWxlcykuZmluZCgocnVsZSkgPT4gcnVsZS5kd2F5bmVEYXRhICYmIHJ1bGUuZHdheW5lRGF0YS5uYW1lID09PSBuYW1lKSB8fCB7fTtcclxuXHJcbiAgICAgICAgaWYgKHJ1bGUpIHtcclxuICAgICAgICAgIG5ldyBFbGVtKHJ1bGUpLmNzcyhzdHlsZSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudCAtIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciBhIHdyYXAgb2YgdGhlIHNldCBvZiB0aGUgY2hpbGRyZW5cclxuICAgKiBvZiB0aGlzIGluZGV4IG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkIG90aGVyd2lzZSBhbiBlbGVtZW50IHRvIHB1dCBpbnRvIHRoaXMgZWxlbWVudCwgYSBjb2xsZWN0aW9uXHJcbiAgICogb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBlbGVtZW50cyBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgdGhleSBhcmUgaW5zZXJ0ZWQgdG8gdGhlIHN0YXJ0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIGEgd3JhcCBvZiBjaGlsZHJlbiBvciBpbnNlcnRlZCBlbGVtZW50cy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBjaGlsZCA9IGVsZW0uY2hpbGQoMSk7XHJcbiAgICpcclxuICAgKiBlbGVtLmNoaWxkKGVsZW0yKTtcclxuICAgKiBlbGVtLmNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmNoaWxkKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgY2hpbGQoZWxlbWVudCwgZW5kID0gdHJ1ZSkge1xyXG4gICAgaWYgKGlzSW50ZWdlcihlbGVtZW50KSAmJiBlbGVtZW50ID49IDApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4oKS5lbGVtKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b0ZpbmQoZWxlbWVudCkuaW50byh0aGlzLCBlbmQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoaWxkcmVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBELVdyYXAgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBlbGVtZW50J3MgY2hpbGRyZW4uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGNoaWxkcmVuID0gZWxlbS5jaGlsZHJlbigpO1xyXG4gICAqL1xyXG4gIGNoaWxkcmVuKCkge1xyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMubGVuZ3RoID8gdGhpcy4kWzBdLmNoaWxkTm9kZXMgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xhc3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjbHNdIC0gSWYgaXQncyBwcmVzZW50IGl0IGhhcyB0byBjb250YWluIGNsYXNzIGF0dHJpYnV0ZSB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0FycnxFbGVtfSBJZiB0aGUgYXJndW1lbnQgaXMgcHJlc2VudCB0aGlzIHJldHVybmVkIG90aGVyd2lzZSBhIHdyYXAgb2YgdGhlIGNsYXNzZXMgYXJyYXkgcmV0dXJuZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZy9zZXR0aW5nIGNsYXNzZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY2xhc3MoJ2MxIGMyJyk7IC8vIGNsYXNzIHNldCB0byAnYzEgYzInXHJcbiAgICogZWxlbS5jbGFzcygpLiQ7ICAgICAgLy8gWydjMScsICdjMiddXHJcbiAgICovXHJcbiAgY2xhc3MoY2xzKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBBcnIoZ2V0RWxlbSh0aGlzKS5jbGFzc05hbWUuc3BsaXQoJyAnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbHM7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NsaWNrXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MRWxlbWVudC9jbGlja1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtIVE1MRWxlbWVudCNjbGlja117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2NsaWNrfS5cclxuICAgKi9cclxuICBjbGljaygpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uY2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xvbmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtkZWVwID0gZmFsc2VdIC0gU2VlIHRoZWUgbGluay5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jbG9uZU5vZGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTm9kZSNjbG9uZU5vZGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9Ob2RlL2Nsb25lTm9kZX0uXHJcbiAgICovXHJcbiAgY2xvbmUoZGVlcCA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChlbGVtLmNsb25lTm9kZSghIWRlZXApKTtcclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2Nsb3Nlc3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBTZXQgb2YgdGhlIGNsb3Nlc3QgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0VsZW1lbnQjY2xvc2VzdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xvc2VzdH0uXHJcbiAgICovXHJcbiAgY2xvc2VzdChzZWxlY3Rvcikge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4ge1xyXG4gICAgICB3aGlsZSAoZWxlbSkge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjb250YWluc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGZpbmQgb3V0IGlmIGl0J3Mgd2l0aGluIHRoZSBmaXJzdCBlbGVtZW50XHJcbiAgICogaW4gdGhlIHNldCBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBhcmd1bWVudCB3aXRoaW4gdGhpcyBlbGVtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgaXMgZXh0ZW5zaW9uIGZvclxyXG4gICAqIFtOb2RlI2NvbnRhaW5zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jb250YWluc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0xLmNvbnRhaW5zKGVsZW0yKTsgICAvLyB0cnVlfGZhbHNlXHJcbiAgICogZWxlbS5jb250YWlucyhzZWxlY3Rvcik7IC8vIHRydWV8ZmFsc2VcclxuICAgKi9cclxuICBjb250YWlucyhlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmNvbnRhaW5zKGdldEVsZW0oZWxlbWVudCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIFR5cGUgb2YgY3JlYXRlZCBlbGVtZW50LiBJZiB0eXBlIGlzIFwiI3RleHRcIiBhIHRleHQgbm9kZSBpcyBjcmVhdGVkLlxyXG4gICAqIElmIHR5cGUgaXMgXCIjY29tbWVudFwiIGEgY29tbWVudCBub2RlIGlzIGNyZWF0ZWQuXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9ucyAtIFN0cmluZ3MgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIEVsZW0jYXBwbHl9LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgZWxlbWVudHMgaW5zaWRlIHRoaXMgZWxlbWVudC5cclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IGFuIEVsZW1lbnQgdGhlIGVsZW1lbnQgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZSgnZGl2JywgJyNpZCAuYzEgLmMyICpTb21lIHRleHQqJyk7XHJcbiAgICpcclxuICAgKiAvLyBhbHNvIHRoZXJlIGFyZSBzaG9ydGhhbmRzIGZvciBhbG1vc3QgZXZlcnkgSFRNTC1lbGVtZW50XHJcbiAgICogZWxlbS5kaXYoKTtcclxuICAgKiBlbGVtLmlucHV0KCckdHlwZShjaGVja2JveCkgJG5hbWUoY291bnRyeSknKTtcclxuICAgKi9cclxuICBjcmVhdGUodHlwZSwgLi4uYXBwbGllZEV4cHJlc3Npb25zKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBuZXcgRWxlbSh0eXBlU3dpdGNoZXIodHlwZSwgW25ldyBFbGVtKGVsZW0pXSkpO1xyXG5cclxuICAgICAgZWxlbWVudC5pbnRvKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbXMuYWRkKGVsZW1lbnQuYXBwbHkuYXBwbHkoZWxlbWVudCwgYXBwbGllZEV4cHJlc3Npb25zKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjcmVhdGVDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiB0aGUgY29tbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0gLSB3cmFwIG9mIHRoZSBjcmVhdGVkIGNvbW1lbnRzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIGNvbW1lbnRzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSBjb21tZW50IGlzIGp1c3QgY3JlYXRlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jcmVhdGVDb21tZW50KCdjb21tZW50Jyk7XHJcbiAgICovXHJcbiAgY3JlYXRlQ29tbWVudCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuY3JlYXRlKCcjY29tbWVudCcpXHJcbiAgICAgIC50ZXh0KHRleHQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgdGV4dCBub2Rlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBjcmVhdGluZyB0ZXh0IG5vZGVzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSB0ZXh0IG5vZGUgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZVRleHQoJ3RleHQnKTtcclxuICAgKi9cclxuICBjcmVhdGVUZXh0KHRleHQpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC5jcmVhdGUoJyN0ZXh0JylcclxuICAgICAgLnRleHQodGV4dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY3NzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2s+fSBbcHJvcGVydHldIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0IG9yXHJcbiAgICogYW4gb2JqZWN0IG9mIHRoZSBmb3JtYXQgeyBbcHJvcGVydHldOiB2YWx1ZSwgLi4uIH0gdG8gc2V0IHN0eWxlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHkuXHJcbiAgICogQHJldHVybnMge1N1cGVyfFN0cmluZ3xFbGVtfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkLCBELVdyYXAgb2YgY3NzIHN0eWxlcyBvZiB0aGUgZWxlbWVudCByZXR1cm5lZCxcclxuICAgKiBpZiAxIHN0cmluZyBhcmd1bWVudCBpcyBwYXNzZWQgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBzdHlsZXMuIFN1cHBvcnRzICFpbXBvcnRhbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsgLy8gZGlzcGxheSBzZXQgdG8gJ25vbmUnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5jc3MoJ2Rpc3BsYXknKTsgICAgICAgICAvLyAnbm9uZSdcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBkaXNwbGF5OiAnaW5saW5lJywgICAgICAgICAvLyBkaXNwbGF5IHNldCB0byAnaW5saW5lJ1xyXG4gICAqICAgY3Vyc29yOiAncG9pbnRlcicgICAgICAgICAgLy8gY3Vyc29yIHNldCB0byAncG9pbnRlcidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmNzcygpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgZGlzcGxheTogJ25vbmUnLCBjdXJzb3I6ICdwb2ludGVyJyB9XHJcbiAgICovXHJcbiAgY3NzKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgbGV0IHN0eWxlID0gZ2V0RWxlbSh0aGlzKS5zdHlsZTtcclxuXHJcbiAgICBpZiAoaXNTdHlsZVJ1bGUodGhpcy4kWzBdKSkge1xyXG4gICAgICBzdHlsZSA9IHRoaXMuJFswXS5zdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdHIoc3R5bGUuY3NzVGV4dClcclxuICAgICAgICAuc3BsaXQoLzsgPy8pXHJcbiAgICAgICAgLm9iamVjdCgobywgdmFsdWUpID0+IHtcclxuICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KC86IC8pO1xyXG5cclxuICAgICAgICAgICAgb1tuZXcgU3RyKHByb3BlcnR5WzBdKS50b0NhbWVsQ2FzZSgpLiRdID0gcHJvcGVydHlbMV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkgPSBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKS4kO1xyXG5cclxuICAgICAgcmV0dXJuIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpICsgKHN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkocHJvcGVydHkpID8gJyAhaW1wb3J0YW50JyA6ICcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pICYmICFpc1N0eWxlUnVsZShlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKHByb3BlcnR5KS5mb3JFYWNoKCh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgICBwcm9wZXJ0eSA9IG5ldyBTdHIocHJvcGVydHkpLnRvSHlwaGVuQ2FzZSgpLiQ7XHJcblxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZShuZXcgRWxlbShlbGVtKS5jc3MocHJvcGVydHkpLCBlbGVtLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICBlbGVtLnN0eWxlLnNldFByb3BlcnR5KFxyXG4gICAgICAgICAgcHJvcGVydHksXHJcbiAgICAgICAgICB2YWx1ZS5yZXBsYWNlKC8gPyFpbXBvcnRhbnQkLywgJycpLFxyXG4gICAgICAgICAgLyFpbXBvcnRhbnQkLy50ZXN0KHZhbHVlKSA/ICdpbXBvcnRhbnQnIDogJydcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2N0eFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8Q3R4Q2FsbGJhY2t9IFtwcm9wZXJ0eV0gLSBJZiBwcmVzZW50IGFuZCBvYmplY3RcclxuICAgKiBpdCdzIGFzc2lnbmVkIHRvIHRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQsIGlmIGZ1bmN0aW9uXHJcbiAgICogaXQncyBjYWxsZWQgd2l0aCBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYXJndW1lbnQsIGlmIHN0cmluZ1xyXG4gICAqIHRoZSB2YWx1ZSBmcm9tIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgdXNlZCBmb3IgYXNzaWduaW5nXHJcbiAgICogdGhpcyBwcm9wZXJ0eSB0byBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYW5kIGlmIG5vdCBwcmVzZW50XHJcbiAgICogY2FudmFzIHJlbmRlcmluZyBjb250ZXh0IHJldHVybmVkLlxyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFNlZSB0aGUgcHJvcGVydHkgYXJndW1lbnQuXHJcbiAgICogQHJldHVybnMge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxFbGVtfVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgZmlyc3QgY2FudmFzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNhbnZhcy5jdHg7IC8vIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAqL1xyXG4gIGN0eChwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGxldCBjdHg7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIGN0eCA9IGVsZW0uZHdheW5lRGF0YS5jdHg7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkoY3R4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXNzaWduKGN0eCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2RhdGFcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsIFN0cmluZ3xFbGVtVmFsdWVDYWxsYmFjaz59IFtrZXldIC0gTmFtZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgKHdpdGhvdXQgZGF0YS0gcHJlZml4KVxyXG4gICAqIHRvIGdldCBvciBhbiBvYmplY3Qgb2YgdGhlIGZvcm1hdCB7IFthdHRyTmFtZV06IHZhbHVlLCAuLi4gfSB0byBzZXQgYXR0cmlidXRlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgYXR0cmlidXRlLlxyXG4gICAqIEByZXR1cm5zIHtTdXBlcnxTdHJpbmd8RWxlbX0gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCwgRC1XcmFwIG9mIGRhdGFzZXQgb2YgdGhlIGVsZW1lbnQgcmV0dXJuZWQsXHJcbiAgICogaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgcmV0dXJuZWQgb3RoZXJ3aXNlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nL3NldHRpbmcgZGF0YSBhdHRyaWJ1dGVzLiBTZWVcclxuICAgKiBbSFRNTEVsZW1lbnQjZGF0YXNldF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2RhdGFzZXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJywgJ3ZhbHVlJyk7IC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMScgYW5kIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJyk7ICAgICAgICAgIC8vICd2YWx1ZTEnXHJcbiAgICogZWxlbS5kYXRhKHtcclxuICAgKiAgIHNvbWVLZXkxOiAndmFsdWUzJywgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIHNvbWVLZXkyOiAndmFsdWUyJyAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MiBzZXQgdG8gJ3ZhbHVlMidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoKS4kOyAgICAgICAgICAgICAgICAgIC8vIHsgc29tZUtleTE6ICd2YWx1ZTMnLCBzb21lS2V5MjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGRhdGEoa2V5LCB2YWx1ZSkge1xyXG4gICAgY29uc3QgZGF0YXNldCA9IGdldEVsZW0odGhpcykuZGF0YXNldDtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdXBlcihkYXRhc2V0KS5vYmplY3QoKG8sIHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvW2tleV0gPSB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgaXNTdHJpbmcoa2V5KSkge1xyXG4gICAgICByZXR1cm4gZGF0YXNldFtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAga2V5ID0geyBba2V5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXRlcmF0ZShrZXksICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgZWxlbS5kYXRhc2V0W2tleV0gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlKGVsZW0uZGF0YXNldFtrZXldLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkYXRhVVJMXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt0eXBlID0gJ2ltYWdlL3BuZyddIC0gU2VlIHRoZSBsaW5rXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmNvZGVyT3B0aW9ucyA9IDAuOTJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IERhdGEgVVJMIGZvciB0aGUgZmlyc3QgY2FudmFzIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC90b0RhdGFVUkxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTENhbnZhc0VsZW1lbnQjdG9EYXRhVVJMXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvdG9EYXRhVVJMfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2FudmFzLmRhdGFVUkwoKTtcclxuICAgKi9cclxuICBkYXRhVVJMKHR5cGUsIGVuY29kZXJPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3R4LmNhbnZhcy50b0RhdGFVUkwuYXBwbHkoY3R4LmNhbnZhcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkZWxldGVSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlbGV0aW5nIGNzcyBzdHlsZXMgaW4gYSBzdHlsZSB0YWcuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuZGVsZXRlUnVsZSgnaW1nLXNpemUnKTtcclxuICAgKi9cclxuICBkZWxldGVSdWxlKG5hbWUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHJ1bGUgPSBuZXcgQXJyKGVsZW0uc2hlZXQuY3NzUnVsZXMpLmZpbmQoKHJ1bGUpID0+IHJ1bGUuZHdheW5lRGF0YSAmJiBydWxlLmR3YXluZURhdGEubmFtZSA9PT0gbmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChydWxlKSB7XHJcbiAgICAgICAgICBlbGVtLnNoZWV0LmRlbGV0ZVJ1bGUocnVsZS5rZXkpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZGlzcGF0Y2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RXZlbnR9IGV2ZW50IC0gRXZlbnQgb3IgYSBzdHJpbmcgKG5ldyBFdmVudChldmVudCkgaXMgY3JlYXRlZCkuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudEluaXQgPSB7fV0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZXZlbnRJbml0LmJ1YmJsZXMgPSB0cnVlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtldmVudEluaXQuY2FuY2VsYWJsZSA9IHRydWVdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZGV0YWlscyA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIGFzc2lnbmVkIHRvIHRoZSBldmVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0V2ZW50L0V2ZW50XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0V2ZW50VGFyZ2V0I2Rpc3BhdGNoRXZlbnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9kaXNwYXRjaEV2ZW50fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5kaXNwYXRjaCgnY2xpY2snKTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKCdjbGljaycsIHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGxhYmxlOiBmYWxzZSB9KTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKG5ldyBDdXN0b21FdmVudCgnY3VzdG9tLWV2ZW50JykpO1xyXG4gICAqL1xyXG4gIGRpc3BhdGNoKGV2ZW50LCBldmVudEluaXQgPSB7fSwgZGV0YWlscyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGJ1YmJsZXMgPSB0cnVlLCBjYW5jZWxhYmxlID0gdHJ1ZSB9ID0gZXZlbnRJbml0IHx8IHt9O1xyXG4gICAgbGV0IGZpbmFsRXZlbnQgPSBldmVudDtcclxuXHJcbiAgICBpZiAoIS9FdmVudCQvLnRlc3QodG9TdHJpbmdUYWcoZmluYWxFdmVudCkpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZmluYWxFdmVudCA9IG5ldyBFdmVudChmaW5hbEV2ZW50LCB7IGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGZpbmFsRXZlbnQgPSBuYXRpdmVEb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcclxuICAgICAgICBmaW5hbEV2ZW50LmluaXRFdmVudChldmVudCwgYnViYmxlcywgY2FuY2VsYWJsZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFzc2lnbihmaW5hbEV2ZW50LCBkZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmRpc3BhdGNoRXZlbnQoZmluYWxFdmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2VsZW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleCA9IDBdIC0gSW5kZXggb2YgdGhlIGVsZW1lbnQgb2YgdGhlIHNldCB0byBnZXQuIE5lZ2F0aXZlIGluZGV4IG1lYW5zIGVsZW0ubGVuZ3RoICsgaW5kZXguXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmVsZW0oMSk7IC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDFcclxuICAgKiBlbGVtLmVsZW0oKTsgIC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDBcclxuICAgKi9cclxuICBlbGVtKGluZGV4ID0gMCkge1xyXG4gICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICBpbmRleCA9IHRoaXMubGVuZ3RoICsgaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMuJFtpbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbHRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbnxFbGVtZW50W118RWxlbX0gW3NlbGVjdG9yID0gQm9vbGVhbl0gLSBJZiBpdCdzIGEgc3RyaW5nIHRoZSBtZXRob2QgZmlsdGVycyBlbGVtZW50cyB3aXRoIHRoZSBzZWxlY3RvclxyXG4gICAqIG90aGVyd2lzZSBzdXBlci5maWx0ZXIgaXMgY2FsbGVkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaWx0ZXJpbmcgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uZmlsdGVyKChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5jbG9zZXN0KCcucGFyZW50JykpO1xyXG4gICAqIGVsZW0uZmlsdGVyKGVsZW1zSW5BcnJheSk7XHJcbiAgICogZWxlbS5maWx0ZXIoZWxlbXNJbkVsZW0pO1xyXG4gICAqIGVsZW0uZmlsdGVyKCcuY2hpbGQnKTtcclxuICAgKi9cclxuICBmaWx0ZXIoc2VsZWN0b3IgPSBCb29sZWFuKSB7XHJcbiAgICByZXR1cm4gbmV3IEVsZW0oc3VwZXIuZmlsdGVyKGZpbHRlclN3aXRjaGVyKHNlbGVjdG9yKSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIC0gU2VsZWN0b3IgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7RWxlbXx7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IE5ldyBpbnN0YW5jZSBvZiBFbGVtIGlmIHNlbGVjdG9yIGlzIGEgc3RyaW5nXHJcbiAgICogb3RoZXJ3aXNlIHN1cGVyLmZpbmQgaXMgY2FsbGVkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtFbGVtZW50I3F1ZXJ5U2VsZWN0b3JBbGxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FbGVtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gICAqL1xyXG4gIGZpbmQoc2VsZWN0b3IpIHtcclxuICAgIGlmICghaXNTdHJpbmcoc2VsZWN0b3IpKSB7XHJcbiAgICAgIHJldHVybiBzdXBlci5maW5kKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChmaW5kKHNlbGVjdG9yLCBlbGVtKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNmaXJzdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGVsZW0uZWxlbSgwKS5cclxuICAgKi9cclxuICBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0oMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZmlyc3RDaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBmaXJzdCBjaGlsZCBpbiBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBmaXJzdCBjaGlsZHJlbiBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5maXJzdCgpOyAgICAgICAvLyBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5maXJzdCgnLmZvbycpOyAvLyBmaW5kIGZpcnN0IGNoaWxkIHRoYXQgaGFzIGZvbyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGZpcnN0Q2hpbGQoc2VsZWN0b3IgPSBudWxsKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgdmFsdWU6IGZvdW5kIH0gPSBuZXcgRWxlbShlbGVtKVxyXG4gICAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZm9jdXNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2ZvY3VzXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0hUTUxFbGVtZW50I2ZvY3VzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvZm9jdXN9LlxyXG4gICAqL1xyXG4gIGZvY3VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5mb2N1cygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNnZXRSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7eyBzZWxlY3RvcjogKFN0cmluZ3x2b2lkKSwgcnVsZXM6IE9iamVjdCB9fSBTZXQgb2YgdGhlIGNzcyBydWxlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHNldCBvZiB0aGUgcnVsZXMgdW5kZXIgdGhlIG5hbWUuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuYWRkUnVsZSgnaW1nLXNpemUnLCAnaW1nLnNxdWFyZScsIHtcclxuICAgKiAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4J1xyXG4gICAqIH0pO1xyXG4gICAqIHN0eWxlLmdldFJ1bGUoJ2ltZy1zaXplJyk7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgc2VsZWN0b3I6ICdpbWcuc3F1YXJlJyxcclxuICAgKiAvLyAgIHJ1bGVzOiB7XHJcbiAgICogLy8gICAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogLy8gICAgIGhlaWdodDogJzQwcHgnXHJcbiAgICogLy8gICB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGdldFJ1bGUobmFtZSkge1xyXG4gICAgbGV0IGZvdW5kID0ge1xyXG4gICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxyXG4gICAgICBydWxlczoge31cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgY29uc3QgeyB2YWx1ZTogcnVsZSB9ID0gbmV3IEFycihlbGVtLnNoZWV0LmNzc1J1bGVzKS5maW5kKChydWxlKSA9PiBydWxlLmR3YXluZURhdGEgJiYgcnVsZS5kd2F5bmVEYXRhLm5hbWUgPT09IG5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgICBpZiAocnVsZSkge1xyXG4gICAgICAgICAgZm91bmQgPSB7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiBydWxlLnNlbGVjdG9yVGV4dCxcclxuICAgICAgICAgICAgcnVsZXM6IG5ldyBFbGVtKHJ1bGUpLmNzcygpLiRcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZm91bmQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaGFzQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBoYXMgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgYXR0cmlidXRlIG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyJywgJ3ZhbHVlJykuaGFzQXR0cignYXR0cicpOyAvLyB0cnVlXHJcbiAgICogZWxlbS5yZW1vdmVBdHRyKCdhdHRyJykuaGFzQXR0cignYXR0cicpOyAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc0F0dHIoYXR0cikge1xyXG4gICAgY29uc3QgZWxlbSA9IGdldEVsZW0odGhpcyk7XHJcbiAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgIHJldHVybiBpc051bGwobnMpXHJcbiAgICAgID8gZWxlbS5oYXNBdHRyaWJ1dGUoYXR0cilcclxuICAgICAgOiBlbGVtLmhhc0F0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoYXNDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gTmFtZSBvZiB0aGUgY2xhc3MuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaGFzIHRoZSBjbGFzcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgY2xhc3Mgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7ICAgIC8vIHRydWVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaGFzQ2xhc3MoY2xzKSB7XHJcbiAgICByZXR1cm4gZ2V0RWxlbSh0aGlzKS5jbGFzc0xpc3QuY29udGFpbnMoY2xzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoZWlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbaGVpZ2h0XSAtIEhlaWdodCB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkIGhlaWdodCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaGVpZ2h0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIGhlaWdodCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIGhlaWdodC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5oZWlnaHQoMTIzKTtcclxuICAgKiBlbGVtLmhlaWdodCgpOyAvLyAxMjNcclxuICAgKi9cclxuICBoZWlnaHQoaGVpZ2h0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wLmFwcGx5KHRoaXMsIG5ldyBBcnIoYXJndW1lbnRzKS51bnNoaWZ0KCdoZWlnaHQnKS4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoaWRlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEhpZGVzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmhpZGUoKTtcclxuICAgKi9cclxuICBoaWRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50RGlzcGxheSA9IGVsZW0uY3NzKCdkaXNwbGF5Jyk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudERpc3BsYXkuaW5kZXhPZignbm9uZScpKSB7XHJcbiAgICAgICAgZWxlbS5wcm9wKCdkd2F5bmVEYXRhJykucHJldmlvdXNEaXNwbGF5ID0gY3VycmVudERpc3BsYXk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUgIWltcG9ydGFudCcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaHRtbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbaHRtbF0gLSBIVE1MIHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCBIVE1MLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBIVE1MIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyBIVE1MIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaHRtbCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIEhUTUwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaHRtbCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICogZWxlbS5odG1sKCk7IC8vICc8ZGl2PjE8L2Rpdj4nXHJcbiAgICovXHJcbiAgaHRtbChodG1sKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGdldEVsZW0odGhpcykuaW5uZXJIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmlubmVySFRNTCA9IGlzRnVuY3Rpb24oaHRtbCkgPyBodG1sKGVsZW0uaW5uZXJIVE1MLCBlbGVtLCBpbmRleCkgOiBodG1sO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBbaWRdIC0gSWQgdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBpZCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaWRzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaWQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgaWQgb3Igc2V0cyBpZHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaWQoJ3VuaXF1ZScpO1xyXG4gICAqIGVsZW0uaWQoKTsgLy8gJ3VuaXF1ZSdcclxuICAgKi9cclxuICBpZChpZCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaWQgPSBpZDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJIZWlnaHRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gR2V0dGVyIGZvciBmaW5kaW5nIGhvdyBtdWNoIGhlaWdodCBjb250ZW50IG9mIHRoZSBmaXJzdCBlbGVtZW50IGNhbiBiZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jc3Moe1xyXG4gICAqICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXHJcbiAgICogICBoZWlnaHQ6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nVG9wOiAnMnB4JyxcclxuICAgKiAgIHBhZGRpbmdCb3R0b206ICczcHgnLFxyXG4gICAqICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkIGJsYWNrJyxcclxuICAgKiAgIGJvcmRlckJvdHRvbTogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lckhlaWdodDsgLy8gMTkwXHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAuaW5uZXJIZWlnaHQ7IC8vIDIwMFxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLmlubmVySGVpZ2h0OyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5pbm5lckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIHBhZGRpbmdUb3AsXHJcbiAgICAgIHBhZGRpbmdCb3R0b21cclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJUb3BXaWR0aCkgKyBweChib3JkZXJCb3R0b21XaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdUb3ApICsgcHgocGFkZGluZ0JvdHRvbSk7XHJcblxyXG4gICAgcmV0dXJuIHB4KGhlaWdodCkgLSBpbm5lclN3aXRjaGVyKGJveFNpemluZywgW3BhZGRpbmdzLCBib3JkZXJzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggY29udGVudCBvZiB0aGUgZmlyc3QgZWxlbWVudCBjYW4gYmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lcldpZHRoOyAvLyAxOTBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ2NvbnRlbnQtYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAyMDBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ3BhZGRpbmctYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJXaWR0aCgpIHtcclxuICAgIGNvbnN0IGVsZW0gPSB0aGlzLiRbMF07XHJcblxyXG4gICAgaWYgKGlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAgIHJldHVybiBlbGVtLmlubmVyV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBib3JkZXJMZWZ0V2lkdGgsXHJcbiAgICAgIGJvcmRlclJpZ2h0V2lkdGgsXHJcbiAgICAgIGJveFNpemluZyxcclxuICAgICAgcGFkZGluZ0xlZnQsXHJcbiAgICAgIHBhZGRpbmdSaWdodCxcclxuICAgICAgd2lkdGhcclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJMZWZ0V2lkdGgpICsgcHgoYm9yZGVyUmlnaHRXaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdMZWZ0KSArIHB4KHBhZGRpbmdSaWdodCk7XHJcblxyXG4gICAgcmV0dXJuIHB4KHdpZHRoKSAtIGlubmVyU3dpdGNoZXIoYm94U2l6aW5nLCBbcGFkZGluZ3MsIGJvcmRlcnNdKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnNlcnRBZnRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGluc2VydCB0aGlzIGVsZW1lbnQgYWZ0ZXIgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYWZ0ZXIgdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudC5cclxuICAgKiBUaGUgZWxlbWVudHMgcmVtYWluIGluIHRoZSBzYW1lIG9yZGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGVsZW0yKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW5zZXJ0QWZ0ZXIoZWxlbWVudCkge1xyXG4gICAgZWxlbWVudCA9IHRvRmluZChlbGVtZW50KS5maXJzdCgpO1xyXG5cclxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xyXG5cclxuICAgIGlmICghcGFyZW50Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0KCkuJFswXTtcclxuICAgIHBhcmVudCA9IHBhcmVudC4kWzBdO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW0sIGVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaW5zZXJ0QmVmb3JlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gaW5zZXJ0IHRoaXMgZWxlbWVudCBiZWZvcmUgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYmVmb3JlIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQuXHJcbiAgICogVGhlIGVsZW1lbnRzIHJlbWFpbiBpbiB0aGUgc2FtZSBvcmRlci5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5pbnNlcnRCZWZvcmUoZWxlbTIpO1xyXG4gICAqIGVsZW0uaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEJlZm9yZSgnI2lkIGRpdi5jMScpO1xyXG4gICAqL1xyXG4gIGluc2VydEJlZm9yZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLmZpcnN0KCk7XHJcblxyXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XHJcblxyXG4gICAgaWYgKCFwYXJlbnQubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQgPSBlbGVtZW50LiRbMF07XHJcbiAgICBwYXJlbnQgPSBwYXJlbnQuJFswXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnRvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gcHV0IHRoaXMgZWxlbWVudHMgaW50byBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIC0gSWYgdGhlIGVsZW1lbnRzIHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSB0aGV5IGFyZSBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmludG8oZWxlbTIpO1xyXG4gICAqIGVsZW0uaW50byhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5pbnRvKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW50byhlbGVtZW50LCBlbmQgPSB0cnVlKSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLiRbMF07XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAhZWxlbWVudCB8fFxyXG4gICAgICBpc1dpbmRvdyhlbGVtZW50KSB8fFxyXG4gICAgICBpc0hUTUxEb2N1bWVudChlbGVtZW50KSB8fFxyXG4gICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudClcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAuc2xpY2UoKVxyXG4gICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cclxuICAgKiBJZiB0aGUgc2VsZWN0b3IgaXMgdW5kZWZpbmVkIG9yIG51bGwgYWx3YXlzIHJldHVybnMgdHJ1ZS4gSWYgaXQncyBub3QgZm9yIG5vdCBlbGVtZW50c1xyXG4gICAqIGVudHJpZXMgcmV0dXJucyBmYWxzZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRWxlbWVudCNtYXRjaGVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvRWxlbWVudC9tYXRjaGVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRDbGFzcygnY2xzJyk7XHJcbiAgICogZWxlbS5pcygnLmNscycpOyAgICAgICAgIC8vIHRydWVcclxuICAgKlxyXG4gICAqIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NscycpO1xyXG4gICAqIGVsZW0uaXMoJy5jbHMnKTsgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGlzKHNlbGVjdG9yKSB7XHJcbiAgICBpZiAoaXNOdWxsKHNlbGVjdG9yKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtID0gZ2V0RWxlbSh0aGlzKTtcclxuICAgIGNvbnN0IG1hdGNoZXMgPSAoXHJcbiAgICAgIGVsZW0ubWF0Y2hlcyB8fFxyXG4gICAgICBlbGVtLm1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgIGVsZW0ub01hdGNoZXNTZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIWlzRWxlbWVudCh0aGlzLiRbMF0pKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBTZWxlY3RvciAnJHsgc2VsZWN0b3IgfScgaXMgbm90IGEgdmFsaWQgc2VsZWN0b3IgKEVsZW0jaXMpYCk7XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaXNCcm9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBpbWFnZSBpbiB0aGUgc2V0IGlzIGJyb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGlzIGJyb2tlbi4gTm90IGltYWdlIGFuZCBub3QgbG9hZGVkIGltYWdlIGlzIGNvbnNpZGVyZWQgcHJvcGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBpbWcgPSBlbGVtLmltZygpLm9uKHtcclxuICAgKiAgICdsb2FkJzogb25sb2FkLFxyXG4gICAqICAgJ2Vycm9yJzogb25sb2FkXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBvbmxvYWQgPSAoKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhpbWcuaXNCcm9rZW4oKSk7IC8vIHRydWVcclxuICAgKiB9O1xyXG4gICAqXHJcbiAgICogaW1nLnJlZignL3NvbWUvbm9uLWV4aXN0ZW50L3NpdGUvbm90LWZvdW5kLnBuZycpO1xyXG4gICAqL1xyXG4gIGlzQnJva2VuKCkge1xyXG4gICAgbGV0IGlzQnJva2VuID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnaW1nJykge1xyXG4gICAgICAgIGlzQnJva2VuID0gISEoZWxlbS5jb21wbGV0ZSAmJiAoIWVsZW0ubmF0dXJhbFdpZHRoIHx8ICFlbGVtLm5hdHVyYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0Jyb2tlbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1dpdGhpbkRvY3VtZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXMgd2l0aGluIHRoZSBkb2N1bWVudCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBpcyB3aXRoaW4gdGhlIGRvY3VtZW50IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEVsZW0oZG9jdW1lbnQuYm9keSkuaXNXaXRoaW5Eb2N1bWVudCgpOyAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBFbGVtKGRvY3VtZW50KS5kaXYoKS5pc1dpdGhpbkRvY3VtZW50KCk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNXaXRoaW5Eb2N1bWVudCgpIHtcclxuICAgIHJldHVybiB0aGlzLmZpcnN0KCkuY2xvc2VzdCgnaHRtbCcpLmxlbmd0aCAhPT0gMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNsYXN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgZWxlbS5lbGVtKC0xKS5cclxuICAgKi9cclxuICBsYXN0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbSgtMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbGFzdENoaWxkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VsZWN0b3IgPSBudWxsXSAtIElmIHByZXNlbnQsIGZpbmRzIGxhc3QgY2hpbGQgaW4gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBsYXN0IGNoaWxkcmVuIG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmxhc3QoKTsgICAgICAgLy8gZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5sYXN0KCcuZm9vJyk7IC8vIGZpbmQgbGFzdCBjaGlsZCB0aGF0IGhhcyAnZm9vJyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGxhc3RDaGlsZChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgeyB2YWx1ZTogZm91bmQgfSA9IG5ldyBFbGVtKGVsZW0pXHJcbiAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbG9hZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48eyBwcm9wZXI6IEVsZW0sIGJyb2tlbjogRWxlbSB9Pn0gUHJvbWlzZSB3aXRoIGJyb2tlbiBhbmQgcHJvcGVyIGltYWdlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9hZHMgZWFjaCBpbWFnZSBpbiB0aGUgc2V0IGFuZCBwdXRzIGl0IHRvIHRoZSBwcm9wZXIgb3IgYnJva2VuIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBpbWFnZXMubG9hZCgpLnRoZW4oKHsgYnJva2VuIH0pID0+IHtcclxuICAgKiAgIGJyb2tlbi5maWx0ZXIoJ2ltZycpLnJlZignL2ZhbGxiYWNrLnBuZycpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGxvYWQoKSB7XHJcbiAgICBjb25zdCBpbWFnZXMgPSB7XHJcbiAgICAgIHByb3BlcjogbmV3IEVsZW0oKSxcclxuICAgICAgYnJva2VuOiBuZXcgRWxlbSgpXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChcclxuICAgICAgdGhpc1xyXG4gICAgICAgIC5maWx0ZXIoKGVsZW0pID0+IGdldE5hbWUoZWxlbSkgPT09ICdpbWcnKVxyXG4gICAgICAgIC5tYXAoKGVsZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0ICRlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICAgICAgaWYgKGVsZW0uY29tcGxldGUpIHtcclxuICAgICAgICAgICAgaW1hZ2VzWyRlbGVtLmlzQnJva2VuKCkgPyAnYnJva2VuJyA6ICdwcm9wZXInXS5wdXNoKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lcnMgPSAkZWxlbS5vbih7XHJcbiAgICAgICAgICAgICAgbG9hZCgpIHtcclxuICAgICAgICAgICAgICAgIGltYWdlcy5wcm9wZXIuYWRkKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZXJyb3IoKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZXMuYnJva2VuLmFkZChlbGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuJFxyXG4gICAgKS50aGVuKCgpID0+IGltYWdlcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbW92ZUF0dHJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgLSBBdHRyaWJ1dGUgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ZhbHVlID0gJyddIC0gVmFsdWUgdG8gc2V0IGZvciB0aGUgYXR0cmlidXRlLiBJZiBub3Qgc2V0IGF0dHJpYnV0ZSBvZiB0aGUgcHJldmlvdXMgZWxlbWVudCBvciAnJyB1c2VkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgbW92aW5nIGFuIGF0dHJpYnV0ZSBmcm9tIHByZXZpb3VzIGVsZW1lbnQgdG8gdGhlIG5leHQgb25lIChmaXJzdCBlbGVtZW50IGluIHRoaXMgc2V0KS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEubW92ZUF0dHIoJ2F0dHInLCAndmFsdWUnKTsgICAgIC8vIGF0dHJpYnV0ZSAnYXR0cicgc2V0IHRvICd2YWx1ZScgb24gZWxlbTFcclxuICAgKiBlbGVtMi5tb3ZlQXR0cignYXR0cicpOyAgICAgICAgICAgICAgLy8gYXR0cmlidXRlICdhdHRyJyByZW1vdmVkIGZyb20gZWxlbTEuIHNldCB0byAndmFsdWUnIG9uIGVsZW0yXHJcbiAgICogZWxlbTMubW92ZUF0dHIoJ2F0dHInLCAnbmV3IHZhbHVlJyk7IC8vIGF0dHJpYnV0ZSAnYXR0cicgcmVtb3ZlZCBmcm9tIGVsZW0yLiBzZXQgdG8gJ25ldyB2YWx1ZScgb24gZWxlbTNcclxuICAgKi9cclxuICBtb3ZlQXR0cihhdHRyLCB2YWx1ZSA9ICcnKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gYXR0cnNbYXR0cl07XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy5lbGVtKCk7XHJcblxyXG4gICAgaWYgKHByZXYgJiYgZWxlbS5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgdmFsdWUgPSBwcmV2LmF0dHIoYXR0cik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHByZXYucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgYXR0cnNbYXR0cl0gPSBlbGVtLmF0dHIoYXR0ciwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI21vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIG1vdmluZyBhIGNsYXNzIGZyb20gcHJldmlvdXMgZWxlbWVudCB0byB0aGUgbmV4dCBvbmUgKGZpcnN0IGVsZW1lbnQgaW4gdGhpcyBzZXQpLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtMS5tb3ZlQ2xhc3MoJ2NscycpOyAvLyBjbGFzcyAnY2xzJyBhZGRlZCB0byBlbGVtMVxyXG4gICAqIGVsZW0yLm1vdmVDbGFzcygnY2xzJyk7IC8vIGNsYXNzICdjbHMnIHJlbW92ZWQgZnJvbSBlbGVtMS4gYWRkZWQgdG8gZWxlbTFcclxuICAgKi9cclxuICBtb3ZlQ2xhc3MoY2xzKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY2xhc3Nlc1tjbHNdO1xyXG4gICAgY29uc3QgZWxlbSA9IHRoaXMuZWxlbSgpO1xyXG5cclxuICAgIGlmIChwcmV2ICYmIGVsZW0ubGVuZ3RoKSB7XHJcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoY2xzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgY2xhc3Nlc1tjbHNdID0gZWxlbS5hZGRDbGFzcyhjbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7U3RyaW5nfSBFbGVtI25hbWVcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gbm9kZU5hbWUgKGxvd2VyY2FzZWQpIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGVsZW0xID0gZWxlbS5jcmVhdGUoJ2RpdicpO1xyXG4gICAqIGVsZW0xLm5hbWUgLy8gJ2RpdidcclxuICAgKi9cclxuICBnZXQgbmFtZSgpIHtcclxuICAgIHJldHVybiBnZXROYW1lKHRoaXMuJFswXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbmV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbmV4dCBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5uZXh0KCk7ICAgICAgIC8vIGZpbmRzIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqIGVsZW0ubmV4dCgnLmZvbycpOyAvLyBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgbmV4dChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5uZXh0U2libGluZykge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNvZmZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5FbGVtRXZlbnRTdHJpbmd9IGV2ZW50cyAtIEV2ZW50cyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmVtb3ZlcyBhbGwgdGhlIGxpc3RlbmVycyBmcm9tIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHNwZWNpZmllZCBieSB0aGUgZXZlbnRzIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrJyk7XHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrLCBpbnB1dCcpO1xyXG4gICAqIGVsZW0ub2ZmKCdjbGljaywgaW5wdXQnLCAnZm9jdXMnKTtcclxuICAgKi9cclxuICBvZmYoLi4uZXZlbnRzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSBlbGVtLmR3YXluZURhdGE7XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaXRlcmF0ZShldmVudC5zcGxpdChldmVudFNlcGFyYXRvciksIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgKGxpc3RlbmVyc1tldmVudF0gfHwgbmV3IFN1cGVyKCkpLmZvckVhY2goKHsgcmVtb3ZlTGlzdGVuZXIgfSkgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtFbGVtRXZlbnRTdHJpbmd8T2JqZWN0LjxFbGVtRXZlbnRTdHJpbmd8RWxlbUxpc3RlbmVyPn0gZXZlbnQgLSBFaXRoZXIgYSB7QGxpbmsgRWxlbUV2ZW50U3RyaW5nfSBzdHJpbmdcclxuICAgKiBvciBhbiBvYmplY3Qgd2l0aCBldmVudCBrZXlzIChhIGtleSBpcyBhbHNvIEVsZW1FdmVudFN0cmluZykgYW5kIGxpc3RlbmVycyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gU2VsZWN0b3IgdG8gZmlsdGVyIGV2ZW50IHRhcmdldHMuXHJcbiAgICogQHBhcmFtIHtFbGVtTGlzdGVuZXJ9IFtsaXN0ZW5lcl0gLSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBzdHJpbmcgaXQgbXVzdCBiZSBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZvclxyXG4gICAqIHNwZWNpZmllZCBldmVudChzKS5cclxuICAgKiBAcmV0dXJucyB7RWxlbVJlbW92ZUxpc3RlbmVyc30gRnVuY3Rpb24gdGhhdCB0YWtlcyBvcHRpb25hbCBldmVudCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gQWRkcyBldmVudCBsaXN0ZW5lcnMgZm9yIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBGb3IgZGVidWdnaW5nOiBJZiB5b3UgbmVlZCB0byBrbm93IHdoYXQgbGlzdGVuZXJzIGFyZSBpbiB3b3JrIChhbmQgd2hhdCBzZWxlY3RvcnMgZmlsdGVyIHRhcmdldHMpXHJcbiAgICogeW91IGNhbiBsb29rIGF0IHRoZSBiYXNlIHByb3BlcnR5IG9mIHRoZSBvbmx5IGR3YXluZSBsaXN0ZW5lciB0aGF0IGxpc3RlbnMgZm9yIHRoZSBldmVudFxyXG4gICAqIGFuZCBmaW5kIGFsbCB3b3JraW5nIGxpc3RlbmVycyBpbiBsaXN0ZW5lci5iYXNlLmR3YXluZURhdGEubGlzdGVuZXJzW2V2ZW50XS4kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLm9uKFxyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnLFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnLFxyXG4gICAqICAgKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKVxyXG4gICAqICk7XHJcbiAgICogZWxlbS5vbihcclxuICAgKiAgICdjaGFuZ2UsIGlucHV0JyxcclxuICAgKiAgIChlLCBlbGVtLCBpbmRleCkgPT4gY29uc29sZS5sb2coZWxlbS52YWx1ZSlcclxuICAgKiApO1xyXG4gICAqIGVsZW0ub24oXHJcbiAgICogICB7XHJcbiAgICogICAgICdjaGFuZ2UsIGlucHV0JzogKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKSxcclxuICAgKiAgICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogICB9LFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnXHJcbiAgICogKTtcclxuICAgKlxyXG4gICAqIGNvbnN0IHJlbW92ZUxpc3RlbmVycyA9IGVsZW0ub24oe1xyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnOiAoZSwgZWxlbSwgaW5kZXgpID0+IGNvbnNvbGUubG9nKGVsZW0udmFsdWUpLFxyXG4gICAqICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2NsaWNrJyk7XHJcbiAgICogcmVtb3ZlTGlzdGVuZXJzKCdibHVyLCBjaGFuZ2UnKTtcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2JsdXIsIGNoYW5nZScsICdpbnB1dCcpO1xyXG4gICAqIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAqL1xyXG4gIG9uKGV2ZW50LCBzZWxlY3RvciA9IG51bGwsIGxpc3RlbmVyKSB7XHJcbiAgICBjb25zdCBhbGxMaXN0ZW5lcnMgPSBuZXcgU3VwZXIoe30pO1xyXG5cclxuICAgIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xyXG4gICAgICBsaXN0ZW5lciA9IHNlbGVjdG9yO1xyXG4gICAgICBzZWxlY3RvciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU3RyaW5nKGV2ZW50KSkge1xyXG4gICAgICBldmVudCA9IHsgW2V2ZW50XTogbGlzdGVuZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudCA9IG5ldyBTdXBlcihldmVudCkub2JqZWN0KChsaXN0ZW5lcnMsIGxpc3RlbmVyLCBldmVudCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKGV2ZW50LnNwbGl0KGV2ZW50U2VwYXJhdG9yKSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IGxpc3RlbmVyO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSAmJiAhaXNXaW5kb3coZWxlbSkgJiYgIWlzSFRNTERvY3VtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gKHdpbmRvd3NEd2F5bmVEYXRhLmZpbmQoKHsgZWxlbWVudCB9KSA9PiBlbGVtZW50ID09PSBlbGVtKSB8fCB7fSkudmFsdWUgfHwgZWxlbS5kd2F5bmVEYXRhO1xyXG5cclxuICAgICAgZXZlbnQuZm9yRWFjaCgobGlzdGVuZXIsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnNbZXZlbnRdID0gbGlzdGVuZXJzW2V2ZW50XSB8fCBuZXcgU3VwZXIoe30pLmRlZmluZSgnaW5kZXgnLCB7XHJcbiAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSByZW1vdmVFdmVudExpc3RlbmVycy5wcm9wKCdpbmRleCcpO1xyXG5cclxuICAgICAgICBpZiAoIXJlbW92ZUV2ZW50TGlzdGVuZXJzLmhhcygnbGlzdGVuZXInKSkge1xyXG4gICAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5mb3JFYWNoKCh7IHNlbGVjdG9yLCBsaXN0ZW5lciB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKG5ldyBFbGVtKGUudGFyZ2V0KS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwoZWxlbSwgZSwgZWxlbSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIG5ld0xpc3RlbmVyLmJhc2UgPSBlbGVtO1xyXG5cclxuICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbmV3TGlzdGVuZXIsIGZhbHNlKTtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlZmluZSgnbGlzdGVuZXInLCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXdMaXN0ZW5lcixcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlbGV0ZShpbmRleCk7XHJcblxyXG4gICAgICAgICAgaWYgKCFyZW1vdmVFdmVudExpc3RlbmVycy5jb3VudCkge1xyXG4gICAgICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHJlbW92ZUV2ZW50TGlzdGVuZXJzLnByb3AoJ2xpc3RlbmVyJyksIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMuZGVsZXRlKCdsaXN0ZW5lcicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFsbExpc3RlbmVycy5wcm9wKGV2ZW50LCAoYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpIHx8IG5ldyBBcnIoKSkucHVzaChyZW1vdmVMaXN0ZW5lcikpO1xyXG5cclxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5hc3NpZ24oe1xyXG4gICAgICAgICAgaW5kZXg6IGluZGV4ICsgMSxcclxuICAgICAgICAgIFtpbmRleF06IHtcclxuICAgICAgICAgICAgc2VsZWN0b3IsXHJcbiAgICAgICAgICAgIGxpc3RlbmVyLFxyXG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lclxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhldmVudCkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGl0ZXJhdGUoZXZlbnQuc3BsaXQoZXZlbnRTZXBhcmF0b3IpLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFsbExpc3RlbmVycy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpLmZvckVhY2goKHJlbW92ZUxpc3RlbmVyKSA9PiByZW1vdmVMaXN0ZW5lcigpKTtcclxuICAgICAgICAgICAgICBhbGxMaXN0ZW5lcnMuZGVsZXRlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxsTGlzdGVuZXJzLmZvckVhY2goKHJlbW92ZUxpc3RlbmVycykgPT4ge1xyXG4gICAgICAgIHJlbW92ZUxpc3RlbmVycy5mb3JFYWNoKChyZW1vdmVMaXN0ZW5lcikgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRWxlbSNvdXRlckhlaWdodFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggaGVpZ2h0IHRoZSBlbGVtZW50IGFjdHVhbGx5IGlzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcclxuICAgKiAgIGhlaWdodDogJzIwMHB4JyxcclxuICAgKiAgIHBhZGRpbmdUb3A6ICcycHgnLFxyXG4gICAqICAgcGFkZGluZ0JvdHRvbTogJzNweCcsXHJcbiAgICogICBib3JkZXJUb3A6ICcxcHggc29saWQgYmxhY2snLFxyXG4gICAqICAgYm9yZGVyQm90dG9tOiAnNHB4IHNvbGlkIGJsYWNrJ1xyXG4gICAqICAgbWFyZ2luVG9wOiAnMHB4JyxcclxuICAgKiAgIG1hcmdpbkJvdHRvbTogJzVweCdcclxuICAgKiB9KS5vdXRlckhlaWdodDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJIZWlnaHQ7IC8vIDIxNVxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLm91dGVySGVpZ2h0OyAvLyAyMTBcclxuICAgKi9cclxuICBnZXQgb3V0ZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIG1hcmdpblRvcCxcclxuICAgICAgbWFyZ2luQm90dG9tLFxyXG4gICAgICBwYWRkaW5nVG9wLFxyXG4gICAgICBwYWRkaW5nQm90dG9tXHJcbiAgICB9ID0gdGhpcy5jYWxjQ1NTKCk7XHJcbiAgICBjb25zdCBib3JkZXJzID0gcHgoYm9yZGVyVG9wV2lkdGgpICsgcHgoYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgY29uc3QgcGFkZGluZ3MgPSBweChwYWRkaW5nVG9wKSArIHB4KHBhZGRpbmdCb3R0b20pO1xyXG5cclxuICAgIHJldHVybiBweChoZWlnaHQpICsgcHgobWFyZ2luVG9wKSArIHB4KG1hcmdpbkJvdHRvbSkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jb3V0ZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggdGhlIGVsZW1lbnQgYWN0dWFsbHkgaXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiAgIG1hcmdpbkxlZnQ6ICcwcHgnLFxyXG4gICAqICAgbWFyZ2luUmlnaHQ6ICc1cHgnXHJcbiAgICogfSkub3V0ZXJXaWR0aDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjE1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdwYWRkaW5nLWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjEwXHJcbiAgICovXHJcbiAgZ2V0IG91dGVyV2lkdGgoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlcldpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgYm9yZGVyTGVmdFdpZHRoLFxyXG4gICAgICBib3JkZXJSaWdodFdpZHRoLFxyXG4gICAgICBib3hTaXppbmcsXHJcbiAgICAgIG1hcmdpbkxlZnQsXHJcbiAgICAgIG1hcmdpblJpZ2h0LFxyXG4gICAgICBwYWRkaW5nTGVmdCxcclxuICAgICAgcGFkZGluZ1JpZ2h0LFxyXG4gICAgICB3aWR0aFxyXG4gICAgfSA9IHRoaXMuY2FsY0NTUygpO1xyXG4gICAgY29uc3QgYm9yZGVycyA9IHB4KGJvcmRlckxlZnRXaWR0aCkgKyBweChib3JkZXJSaWdodFdpZHRoKTtcclxuICAgIGNvbnN0IHBhZGRpbmdzID0gcHgocGFkZGluZ0xlZnQpICsgcHgocGFkZGluZ1JpZ2h0KTtcclxuXHJcbiAgICByZXR1cm4gcHgod2lkdGgpICsgcHgobWFyZ2luTGVmdCkgKyBweChtYXJnaW5SaWdodCkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcGFyZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHJldHVybnMgd3JhcCBvZiB0aGUgc2V0IG9mIHRoZSBwYXJlbnQgZWxlbWVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICovXHJcbiAgcGFyZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4gZWxlbXMuYWRkKGVsZW0ucGFyZW50Tm9kZSksIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3BhcmVudFRyZWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHdyYXAgb2YgYWxsIHBhcmVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ucGFyZW50VHJlZSgpOyAvLyBFbGVtXHJcbiAgICovXHJcbiAgcGFyZW50VHJlZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgd2hpbGUgKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpIHtcclxuICAgICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgIH1cclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3ByZXZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gSWYgcHJlc2VudCwgZmluZHMgcHJldmlvdXMgZWxlbWVudCB0byBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ubmV4dCgpOyAgICAgICAvLyBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogZWxlbS5uZXh0KCcuZm9vJyk7IC8vIGZpbmRzIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgcHJldihzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5wcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgICBpZiAobmV3IEVsZW0oZWxlbSkuaXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZWxlbXMuYWRkKGVsZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcHJvcFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRWxlbVZhbHVlQ2FsbGJhY2t8Kj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gYXNzaWduZWQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7RWxlbVZhbHVlQ2FsbGJhY2t8Kn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nXHJcbiAgICogdGhpcyBoYXMgdG8gYmUgYW4gYXNzaWduZWQgdmFsdWUgaWYgaXQncyBwcmVzZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfCp9IFJldHVybnMgdGhpcyBpZiBpdCdzIHNldHRlciBvciBhIHZhbHVlIGlmIGdldHRlci5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgaXMgZWl0aGVyIGEgcHJvcGVydHkgZ2V0dGVyIGZvciB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogb3IgYSBzZXR0ZXIgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnLCBmYWxzZSk7XHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBwcm9wKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJFswXSA/IHRoaXMuJFswXVtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKHByb3BlcnR5LCAodmFsdWUsIHByb3ApID0+IHtcclxuICAgICAgICBlbGVtW3Byb3BdID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZShlbGVtW3Byb3BdLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZWZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2t9IFtsaW5rXSAtIElmIGl0J3MgcHJlc2VudCBsaW5rIHRvIGEgcmVzb3VyY2UuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiB0aGUgbGluayBhcmd1bWVudCBpc24ndCBwcmVzZW50IGl0J3MgYSBnZXR0ZXIgb2YgdGhlICdzcmMnIGF0dHJpYnV0ZVxyXG4gICAqIGZvciB0aGUgb25lIG9mIGZvbGxvd2luZyBlbGVtZW50czogaW1nLCBzY3JpcHQsIGlmcmFtZSwgYXVkaW8sIHZpZGVvOyBvZiB0aGUgJ2FjdGlvbicgYXR0cmlidXRlXHJcbiAgICogZm9yIGEgZm9ybSBlbGVtZW50IGFuZCBvZiB0aGUgJ2hyZWYnIGF0dHJpYnV0ZSBmb3IgdGhlIHJlc3QuIElmIGl0J3MgcHJlc2VudCBpdCdzIGEgc2V0dGVyXHJcbiAgICogb2YgdGhlIHNhbWUgYXR0cmlidXRlIGZvciBhbGwgdGhlIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHJlc291cmNlcyBsaW5rcyBhbmQgc2V0dGluZyB0aGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlZignL3NvbWUvY29vbC9pbWFnZS5wbmcnKTtcclxuICAgKiBlbGVtLnJlZigpOyAvLyAnL3NvbWUvY29vbC9pbWFnZS5wbmcnXHJcbiAgICovXHJcbiAgcmVmKGxpbmspIHtcclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKHJlZlN3aXRjaGVyKHRoaXMubmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZWxlbSA9IG5ldyBFbGVtKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbS5hdHRyKHJlZlN3aXRjaGVyKGVsZW0ubmFtZSksIGxpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgZnJvbSB0aGUgZG9jdW1lbnQuXHJcbiAgICogTm90ZTogaXQgZG9lc24ndCByZW1vdmUgdGhlbSBmcm9tIHRoZSBzZXQgc28gd2F0Y2ggb3V0IGZvciB0aGUgbWVtb3J5IGxlYWtzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZSgpO1xyXG4gICAqL1xyXG4gIHJlbW92ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXR0cmlidXRlcyAtIEF0dHJpYnV0ZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBhdHRyaWJ1dGVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUF0dHIoJ2ZvbycsICdiYXInLCAnYmF6Jyk7XHJcbiAgICovXHJcbiAgcmVtb3ZlQXR0ciguLi5hdHRyaWJ1dGVzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGF0dHIpID0+IHtcclxuICAgICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlTlMobnMsIGF0dHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZW1vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gY2xhc3NlcyAtIENsYXNzZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBjbGFzc2VzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdmb28nLCAnYmFyJywgJ2JheicpO1xyXG4gICAqL1xyXG4gIHJlbW92ZUNsYXNzKC4uLmNsYXNzZXMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgbGlzdCA9IGVsZW0uY2xhc3NMaXN0O1xyXG5cclxuICAgICAgaXRlcmF0ZShpc0VsZW1lbnQoZWxlbSkgJiYgYXJndW1lbnRzLCAoY2xzKSA9PiBsaXN0LnJlbW92ZShjbHMpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlbW92ZUNTU1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gcHJvcHMgLSBDU1MgcHJvcGVydGllcyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBhbGwgdGhlIENTUyBwcm9wZXJ0aWVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNTUygnZGlzcGxheScsICdwb3NpdGlvbicsICdtYXJnaW4nKTtcclxuICAgKi9cclxuICByZW1vdmVDU1MoLi4ucHJvcHMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoY3NzKSA9PiB7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShjc3MpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlcGxhY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbXxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byByZXBsYWNlIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiB3aXRoIGEgc2V0IG9mIGVsZW1lbnRzIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQgKEVsZW1lbnQsIHNldCBvZiBlbGVtZW50cyBvciBhIHNlbGVjdG9yIG9mIHRoZW0pLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBpcyBzaW1pbGFyIHRvXHJcbiAgICogW05vZGUjcmVwbGFjZUNoaWxkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9yZXBsYWNlQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlcGxhY2UoZWxlbTIpO1xyXG4gICAqIGVsZW0ucmVwbGFjZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5yZXBsYWNlKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgcmVwbGFjZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZmlyc3QoKS5wYXJlbnQoKTtcclxuXHJcbiAgICBpZiAoIXBhcmVudC5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGVsZW0gPSBwYXJlbnQ7XHJcbiAgICBsZXQgbWV0aG9kID0gJ2ludG8nO1xyXG4gICAgY29uc3QgbmV4dCA9IHRoaXMubmV4dCgpLmZpcnN0KCkuJFswXTtcclxuICAgIGNvbnN0IHByZXYgPSB0aGlzLnByZXYoKS5maXJzdCgpLiRbMF07XHJcblxyXG4gICAgaWYgKG5leHQpIHtcclxuICAgICAgZWxlbSA9IG5leHQ7XHJcbiAgICAgIG1ldGhvZCA9ICdpbnNlcnRCZWZvcmUnO1xyXG4gICAgfSBlbHNlIGlmIChwcmV2KSB7XHJcbiAgICAgIGVsZW0gPSBwcmV2O1xyXG4gICAgICBtZXRob2QgPSAnaW5zZXJ0QWZ0ZXInO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmlyc3QoKS5yZW1vdmUoKTtcclxuXHJcbiAgICBlbGVtZW50W21ldGhvZF0oZWxlbSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2V0T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBIVE1MIGVsZW1lbnQgdHlwZS5cclxuICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R8QXJyYXkuPCo+fSBpdGVyYXRvciAtIEEgbnVtYmVyIChob3cgbWFueSBlbGVtZW50cyB0byBjcmVhdGUgaW5zaWRlIGVhY2ggZWxlbWVudCksXHJcbiAgICogYW4gb2JqZWN0IG9yIGFuIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cclxuICAgKiBAcGFyYW0ge0VsZW1TZXRPZkNhbGxiYWNrfSBjYWxsYmFja1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIHNldCBvZiBlbGVtZW50cyBpbnNpZGUgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQgYmFzZWQgb24gYW4gYXJyYXkgb3IgYW4gb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiB0YWJsZS5zZXRPZigndHInLCBbWzEsIDJdLCBbMywgNF0sIFs1LCA2XV0sIChyb3csIGFycmF5KSA9PiB7XHJcbiAgICogICBEKHJvdykuc2V0T2YoJ3RkJywgYXJyYXksIChjb2wsIG51bWJlcikgPT4ge1xyXG4gICAqICAgICBEKGNvbCkudGV4dChudW1iZXIpO1xyXG4gICAqICAgfSk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgc2V0T2YodHlwZSwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZSh7IDI6IGNhbGxiYWNrIH0sIHsgMjogWydmdW5jdGlvbiddIH0sICdFbGVtI3NldE9mJyk7XHJcblxyXG4gICAgaXRlcmF0b3IgPSBuZXcgU3VwZXIoaXRlcmF0b3IpLiQ7XHJcblxyXG4gICAgaWYgKGlzTnVtYmVyKGl0ZXJhdG9yKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhbGlkYXRlKHsgMTogaXRlcmF0b3IgfSwgeyAxOiBbJ2ludExpa2UnLCAnPj0wJ10gfSwgJ0VsZW0jc2V0T2YnKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignMm5kIGFyZ3VtZW50IG11c3QgYmUgZWl0aGVyIG9yIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBvciBvYmplY3QhIChhdCBFbGVtI3NldE9mKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRvciA9IGFycmF5KGl0ZXJhdG9yKS4kO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGl0ZXJhdGUoaXRlcmF0b3IsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlZCA9IG5ldyBFbGVtKGVsZW0pLmNyZWF0ZSh0eXBlKTtcclxuXHJcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlZC4kWzBdLCB2YWx1ZSwga2V5LCBpdGVyYXRvciwgZWxlbSwgaW5kZXgpO1xyXG5cclxuICAgICAgICBlbGVtcy5hZGQoY3JlYXRlZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2hvd1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG93cyBhbGwgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBJZiBhbiBlbGVtZW50IHdhcyBoaWRkZW4gdXNpbmcge0BsaW5rIEVsZW0jaGlkZX0gcHJldmlvdXMgZGlzcGxheSBpcyBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uc2hvdygpO1xyXG4gICAqL1xyXG4gIHNob3coKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZHdheW5lRGF0YSB9ID0gZWxlbTtcclxuXHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChlbGVtLmNzcygnZGlzcGxheScpLmluZGV4T2YoJ25vbmUnKSA9PT0gMCkge1xyXG4gICAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgZHdheW5lRGF0YS5wcmV2aW91c0Rpc3BsYXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkd2F5bmVEYXRhLnByZXZpb3VzRGlzcGxheSA9ICcnO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbdGV4dF0gLSBUZXh0IHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCB0ZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB0ZXh0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyB0ZXh0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIHRleHQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB0ZXh0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRleHQoJzEyMycpO1xyXG4gICAqIGVsZW0udGV4dCgpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHRleHQodGV4dCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3AodGV4dFByb3BlcnR5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCB0eHQgPSBlbGVtW3RleHRQcm9wZXJ0eV07XHJcblxyXG4gICAgICBuZXcgRWxlbShlbGVtKS5wcm9wKFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eSxcclxuICAgICAgICBpc0Z1bmN0aW9uKHRleHQpXHJcbiAgICAgICAgICA/IHRleHQodHh0LCBlbGVtLCBpbmRleClcclxuICAgICAgICAgIDogdGV4dFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIEF0dHJpYnV0ZSB0byB0b2dnbGUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtjb25kaXRpb25dIC0gSWYgcHJlc2VudCBhbmQgdGhlIGNvbmRpdGlvbiBpcyB0cnV0aHkgbWV0aG9kIGFkZHMgdGhlIGF0dHJpYnV0ZVxyXG4gICAqIHdpdGggdGhlICcnIHZhbHVlIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS4gSWYgbm90IHByZXNlbnQgbWV0aG9kIGFkZHNcclxuICAgKiB0aGUgYXR0cmlidXRlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYW5kIHJlbW92ZXMgaWYgaXQgZG9lcy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHRvZ2dsaW5nIGF0dHJpYnV0ZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicpO1xyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicsIHNvbWVDb25kaXRpb24pO1xyXG4gICAqL1xyXG4gIHRvZ2dsZUF0dHIoYXR0ciwgY29uZGl0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICFlbGVtLmhhc0F0dHIoYXR0cikgOiBjb25kaXRpb24pIHtcclxuICAgICAgICBlbGVtLmF0dHIoYXR0ciwgJycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gdG9nZ2xlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHByZXNlbnQgYW5kIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5IG1ldGhvZCBhZGRzIHRoZSBjbGFzc1xyXG4gICAqIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGNsYXNzLiBJZiBub3QgcHJlc2VudCBtZXRob2QgYWRkc1xyXG4gICAqIHRoZSBjbGFzcyBpZiBpdCBkb2Vzbid0IGV4aXN0IGFuZCByZW1vdmVzIGlmIGl0IGRvZXMuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB0b2dnbGluZyBjbGFzc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnKTtcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnLCBzb21lQ29uZGl0aW9uKTtcclxuICAgKi9cclxuICB0b2dnbGVDbGFzcyhjbHMsIGNvbmRpdGlvbikge1xyXG4gICAgcmV0dXJuIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICF0aGlzLmhhc0NsYXNzKGNscykgOiBjb25kaXRpb24pXHJcbiAgICAgID8gdGhpcy5hZGRDbGFzcyhjbHMpXHJcbiAgICAgIDogdGhpcy5yZW1vdmVDbGFzcyhjbHMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRvU3RyaW5nVGFnKCkge1xyXG4gICAgcmV0dXJuIHRvU3RyaW5nVGFnKHRoaXMuJCQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3VwXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gW2xldmVsID0gMV0gLSBXaGF0IGxldmVsIHVwIGFsb25nIHRoZSB0cmVlIHNob3VsZCBiZSB0aGUgcGFyZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIGNvbGxlY3Rpb24gb2YgcGFyZW50cyBvZiBsZXZlbCAmbHQ7bGV2ZWwmZ3Q7LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnVwKCk7XHJcbiAgICogZWxlbS51cCgyKTtcclxuICAgKi9cclxuICB1cChsZXZlbCA9IDEpIHtcclxuICAgIHZhbGlkYXRlKFtsZXZlbF0sIFtbJ2ludExpa2UnLCAnPj0wJ11dLCAnRWxlbSN1cCcpO1xyXG5cclxuICAgIGxldmVsID0gTnVtYmVyKGxldmVsKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGxldCBuID0gbGV2ZWw7XHJcblxyXG4gICAgICB3aGlsZSAobi0tICYmIGVsZW0pIHtcclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSN2YWxpZGF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1ZhbGlkYXRlQ2FsbGJhY2t9IFt2YWxpZGF0b3JdIC0gSWYgcHJlc2VudCwgZnVuY3Rpb24gdGhhdCB2YWxpZGF0ZXMgaW5wdXRzLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfE9iamVjdC48U3RyaW5nLCBFcnJvcnwqPnxudWxsfVxyXG4gICAqIElmIGEgY2FsbGJhY2sgYXJndW1lbnQgcHJvdmlkZWQgcmV0dXJucyB0aGlzLiBJZiBubyBhcmd1bWVudHMgcHJvdmlkZWQgcmV0dXJucyBlaXRoZXIgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBpbnB1dCBuYW1lcyBrZXlzIGFuZCBlcnJvcnMgdmFsdWVzIG9yIG51bGwgaWYgbm8gZXJyb3JzIGZvdW5kLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBhIGNhbGxiYWNrIGFyZ3VtZW50IHByb3ZpZGVkIGFkZHMgaXQgdG8gdGhlIGVsZW1lbnQgdmFsaWRhdG9ycyBsaXN0LlxyXG4gICAqIElmIG5vIGFyZ3VtZW50cyBwcm92aWRlZCB2YWxpZGF0ZXMgZXZlcnkgaW5wdXQgZWxlbWVudCBpbiB0aGUgc2V0IHdpdGggaXRzIG93biBmdW5jdGlvbnMuXHJcbiAgICogSWYgYW4gZWxlbWVudCBpcyBhIGZvcm0gaXQgdmFsaWRhdGVzIGFsbCBpbnB1dCBlbGVtZW50cyBpbnNpZGUgaXQuIEFmdGVyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICogZmlyZXMgJ3ZhbGlkYXRlJyBldmVudCB3aXRoICd2YWxpZCcgYW5kICdlcnJvcicgKGlmIGZvcm0gaXQncyBlcnJvcnMpIHByb3BlcnRpZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGZvcm0ub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsICh2YWx1ZSwgaW5wdXQpID0+IHtcclxuICAgKiAgIGlucHV0ID0gRChpbnB1dCk7XHJcbiAgICpcclxuICAgKiAgIGlmIChOdW1iZXIodmFsdWUpICUgMykge1xyXG4gICAqICAgICBpbnB1dC5hZGRDbGFzcygnaW52YWxpZCcpO1xyXG4gICAqXHJcbiAgICogICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlIHNob3VsZCBiZSBkaXZpZGVkIGJ5IDMhJyk7XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIGlucHV0LnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgdmFsaWRhdGUodmFsaWRhdG9yKSB7XHJcbiAgICB2YWxpZGF0ZShbdmFsaWRhdG9yXSwgWydmdW5jdGlvbnx8ISddLCAnRWxlbSN2YWxpZGF0ZScpO1xyXG5cclxuICAgIGlmICh2YWxpZGF0b3IpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoeyBkd2F5bmVEYXRhIH0pID0+IHtcclxuICAgICAgICBkd2F5bmVEYXRhLnZhbGlkYXRvcnMucHVzaCh2YWxpZGF0b3IpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgU3VwZXIoeyBlcnJvcnM6IG51bGwgfSk7XHJcblxyXG4gICAgdGhpc1xyXG4gICAgICAuZmlsdGVyKGAkeyBpbnB1dEVsZW1lbnRzIH0sIGZvcm1gKVxyXG4gICAgICAuZm9yRWFjaCgoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ2Zvcm0nKSB7XHJcbiAgICAgICAgICBsZXQgZm9ybUVycm9ycyA9IHsgZXJyb3JzOiBudWxsIH07XHJcbiAgICAgICAgICBjb25zdCBmb3JtID0gbmV3IEVsZW0oZWxlbSk7XHJcbiAgICAgICAgICBjb25zdCBpbnB1dHMgPSBmb3JtLmZpbmQoaW5wdXRFbGVtZW50cyk7XHJcblxyXG4gICAgICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3JXcmFwKGlucHV0LCBpbmRleCwgZm9ybUVycm9ycyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBlcnJvcnMuZGVlcEFzc2lnbihmb3JtRXJyb3JzKTtcclxuXHJcbiAgICAgICAgICBmb3JtRXJyb3JzID0gZm9ybUVycm9ycy5lcnJvcnM7XHJcblxyXG4gICAgICAgICAgZm9ybS5kaXNwYXRjaCgndmFsaWRhdGUnLCB7fSwge1xyXG4gICAgICAgICAgICB2YWxpZDogIWZvcm1FcnJvcnMsXHJcbiAgICAgICAgICAgIGVycm9yczogZm9ybUVycm9yc1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVycm9yID0gKGZvcm1FcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdO1xyXG5cclxuICAgICAgICAgICAgbmV3IEVsZW0oaW5wdXQpLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICAgICAgdmFsaWQ6ICFpbnB1dEVycm9yLFxyXG4gICAgICAgICAgICAgIGVycm9yOiBpbnB1dEVycm9yIHx8IG51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbnB1dEVycm9yID0geyBlcnJvcnM6IG51bGwgfTtcclxuXHJcbiAgICAgICAgdmFsaWRhdG9yV3JhcChlbGVtLCBpbmRleCwgaW5wdXRFcnJvcik7XHJcbiAgICAgICAgZXJyb3JzLmRlZXBBc3NpZ24oaW5wdXRFcnJvcik7XHJcblxyXG4gICAgICAgIGlucHV0RXJyb3IgPSAoaW5wdXRFcnJvci5lcnJvcnMgfHwge30pW2VsZW0ubmFtZV07XHJcblxyXG4gICAgICAgIG5ldyBFbGVtKGVsZW0pLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICB2YWxpZDogIWlucHV0RXJyb3IsXHJcbiAgICAgICAgICBlcnJvcjogaW5wdXRFcnJvciB8fCBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRvcldyYXAoaW5wdXQsIGluZGV4LCBlcnJvcnMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkgJiYgIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXQuZHdheW5lRGF0YS52YWxpZGF0b3JzLmZvckVhY2goKHZhbGlkYXRvcikgPT4ge1xyXG4gICAgICAgICAgdmFsaWRhdG9yKGlucHV0LnZhbHVlLCBpbnB1dCwgaW5kZXgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAoZXJyb3JzLmVycm9ycyA9IGVycm9ycy5lcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdID0gZXJyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVycm9ycy5ldmVyeSgoZXJyb3IpID0+IGlzTnVsbChlcnJvcikpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlcnJvcnMuJC5lcnJvcnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jd2lkdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbd2lkdGhdIC0gV2lkdGggdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgd2lkdGhzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgd2lkdGggYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB3aWR0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS53aWR0aCgxMjMpO1xyXG4gICAqIGVsZW0ud2lkdGgoKTsgLy8gMTIzXHJcbiAgICovXHJcbiAgd2lkdGgod2lkdGgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3AuYXBwbHkodGhpcywgbmV3IEFycihhcmd1bWVudHMpLnVuc2hpZnQoJ3dpZHRoJykuJCk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEVsZW0ucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdFbGVtJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IHdpblxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiB3aW5kb3cuXHJcbiAqL1xyXG5jb25zdCB3aW4gPSBuZXcgRWxlbShnbG9iYWwpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gZG9jXHJcbiAqIEB0eXBlIHtFbGVtfVxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBFbGVtIGluc3RhbmNlIG9mIGRvY3VtZW50LlxyXG4gKi9cclxuY29uc3QgZG9jID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gaHRtbFxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuXHJcbiAqL1xyXG5jb25zdCBodG1sID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGJvZHlcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuYm9keS5cclxuICovXHJcbmNvbnN0IGJvZHkgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5ib2R5KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGhlYWRcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuaGVhZC5cclxuICovXHJcbmNvbnN0IGhlYWQgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5oZWFkKTtcclxuXHJcbmNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihodG1sRWxlbWVudHMpLmNvbmNhdChzdmdFbGVtZW50cykuJDtcclxuY29uc3QgcHJvcHMgPSBuZXcgQXJyKGVsZW1lbnRzKS5tYXAoKHR5cGUpID0+IG5ldyBTdHIodHlwZSkudG9DYW1lbENhc2UoKS4kKS4kO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIHByb3BzLCAoZWxlbSwgaSkgPT4gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLmNyZWF0ZS5hcHBseSh0aGlzLCBuZXcgQXJyKGFyZ3VtZW50cykudW5zaGlmdChlbGVtZW50c1tpXSkuJCk7XHJcbn0pO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIGNhbnZhc0dldE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICByZXR1cm4gY3R4W21ldGhvZF0uYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xyXG4gIH1cclxufSk7XHJcblxyXG5keW5hbWljRGVmaW5lUHJvcGVydGllcyhFbGVtLnByb3RvdHlwZSwgY2FudmFzUmVzdE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICBjdHhbbWV0aG9kXS5hcHBseShjdHgsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbXxTdHJpbmd9IGVsZW0gLSBFbGVtZW50LCBzZWxlY3RvciBvZiBFbGVtZW50cyBvciBFbGVtLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICovXHJcbmZ1bmN0aW9uIHRvRmluZChlbGVtKSB7XHJcbiAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfVxyXG5cclxuICBpZiAoaXNTdHJpbmcoZWxlbSkpIHtcclxuICAgIGVsZW0gPSBmaW5kKGVsZW0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQncyBFbGVtLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBFbGVtIG9yIG5vdC5cclxuICovXHJcbmZ1bmN0aW9uIGlzRWxlbSh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNXaW5kb3dcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgV2luZG93LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIFdpbmRvdy5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIFdpbmRvdyBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1dpbmRvdyh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdXaW5kb3cnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSFRNTERvY3VtZW50XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIEhUTUxEb2N1bWVudC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNIVE1MRG9jdW1lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnSFRNTERvY3VtZW50JztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnRcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBEb2N1bWVudEZyYWdtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudC5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRG9jdW1lbnRGcmFnbWVudCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTdHlsZVJ1bGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBzdHlsZSBydWxlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZS5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZSBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1N0eWxlUnVsZSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdDU1NTdHlsZVJ1bGUnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIENvbW1lbnQgb3IgVGV4dC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBDb21tZW50IG9yIFRleHQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNDb21tZW50T3JUZXh0KHZhbHVlKSB7XHJcbiAgY29uc3QgdGFnID0gdG9TdHJpbmdUYWcodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdGFnID09PSAnQ29tbWVudCcgfHwgdGFnID09PSAnVGV4dCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0RWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW19IGVsZW0gLSBFbGVtZW50IHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIGFyZ3VtZW50IG9yIGEgZmFsbGJhY2sgaWYgbmVlZGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RWxlbShlbGVtKSB7XHJcbiAgcmV0dXJuIGlzRWxlbWVudChlbGVtLiRbMF0pID8gZWxlbS4kWzBdIDogZW1wdHlEaXY7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0TmFtZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtXSAtIEVsZW1lbnQgd2hpY2ggbmFtZSBpcyBuZWVkZWQgdG8ga25vdy5cclxuICogQHJldHVybnMge1N0cmluZ30gRWxlbWVudCBuYW1lLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TmFtZShlbGVtKSB7XHJcbiAgcmV0dXJuIChlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB8fCAnJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhZGREd2F5bmVEYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgdG8gYWRkIGR3YXluZURhdGEgdG8uXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gYWRkRHdheW5lRGF0YShlbGVtKSB7XHJcbiAgaWYgKCF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW0sICdkd2F5bmVEYXRhJykgJiYgIWlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgRWxlbWVudCNkd2F5bmVEYXRhXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHByZXZpb3VzRGlzcGxheSAtIFBhcmFtZXRlciB1c2VkIGZvciBoaWRpbmcvc2hvd2luZyBlbGVtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIFN1cGVyPn0gcmVtb3ZlTGlzdGVuZXJzIC0gUGFyYW1ldGVyIHVzZWQgZm9yIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAcHJvcGVydHkge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gW2N0eF0gLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAgICAgKiBAcHJvcGVydHkge0Fycn0gdmFsaWRhdG9ycyAtIFZhbGlkYXRvcnMgYXNzaWduZWQgdG8gZWxlbWVudC5cclxuICAgICAqIEBkZXNjcmlwdGlvbiBEIGRhdGEuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtLCAnZHdheW5lRGF0YScsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBwcmV2aW91c0Rpc3BsYXk6ICcnLFxyXG4gICAgICAgIGxpc3RlbmVyczoge30sXHJcbiAgICAgICAgY3R4OiBnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJyAmJiBlbGVtLmdldENvbnRleHQoJzJkJyksXHJcbiAgICAgICAgdmFsaWRhdG9yczogbmV3IEFycihbXSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyhlbGVtKSAmJiAhd2luZG93c0R3YXluZURhdGEuc29tZSgoeyBlbGVtZW50IH0pID0+IGVsZW1lbnQgPT09IGVsZW0pKSB7XHJcbiAgICB3aW5kb3dzRHdheW5lRGF0YS5wdXNoKHtcclxuICAgICAgZWxlbWVudDogZWxlbSxcclxuICAgICAgbGlzdGVuZXJzOiB7fVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IChlbGVtKSA9PiAoXHJcbiAgICBpc0VsZW1lbnQoZWxlbSkgfHxcclxuICAgIGlzV2luZG93KGVsZW0pIHx8XHJcbiAgICBpc0hUTUxEb2N1bWVudChlbGVtKSB8fFxyXG4gICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbSkgfHxcclxuICAgIC9eKEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0KSQvLnRlc3QodG9TdHJpbmdUYWcoZWxlbSkpXHJcbiAgKSxcclxuICBjbHM6IEVsZW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGZpbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgLSBTZWxlY3RvciB0byBmaW5kLlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtiYXNlID0gZG9jdW1lbnRdIC0gQmFzZSB0byBmaW5kIGluLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gKiBbRG9jdW1lbnQjcXVlcnlTZWxlY3RvckFsbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gKi9cclxuZnVuY3Rpb24gZmluZChzZWxlY3RvciwgYmFzZSA9IG5hdGl2ZURvY3VtZW50KSB7XHJcbiAgcmV0dXJuIG5ldyBFbGVtKFxyXG4gICAgaXNFbGVtZW50KGJhc2UpIHx8IGlzSFRNTERvY3VtZW50KGJhc2UpXHJcbiAgICAgID8gYmFzZS5xdWVyeVNlbGVjdG9yQWxsKFN0cmluZyhzZWxlY3RvcikpXHJcbiAgICAgIDogW11cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSFRNTFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBwYXJzZS5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlXHJcbiAqIGNvbGxhcHNlZCBkdXJpbmcgdGhlIHBhcnNpbmcuXHJcbiAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFBhcnNlcyBIVE1MIGFuZCByZXR1cm5zIGEgd3JhcCBvZiAjZG9jdW1lbnQtZnJhZ21lbnQgY29udGFpbmluZyB0aGUgY29udGVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHBhcnNlSFRNTCgnPGRpdj4xMjM8L2Rpdj4nKTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VIVE1MKGh0bWwsIGNvbGxhcHNlV2hpdGVTcGFjZSkge1xyXG4gIGNvbnN0IGpzb24gPSBtYXJrdXBUb0pTT04oaHRtbCwgY29sbGFwc2VXaGl0ZVNwYWNlKTtcclxuICBjb25zdCB0ZW1wbGF0ZSA9IGRvYy50ZW1wbGF0ZSgpO1xyXG4gIGNvbnN0IGVsZW0gPSBuZXcgRWxlbSh0ZW1wbGF0ZS4kWzBdLmNvbnRlbnQpO1xyXG5cclxuICBqc29uLmZvckVhY2goZnVuY3Rpb24gZm9yRWFjaE5vZGUobm9kZSkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBhdHRycyxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBwYXJlbnQuZWxlbSB8fCBlbGVtO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHBhcmVudE5vZGUuY3JlYXRlKG5hbWUpO1xyXG5cclxuICAgIG5vZGUuZWxlbSA9IGVsZW1lbnQ7XHJcblxyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF0dHJzKSB7XHJcbiAgICAgIGVsZW1lbnQuYXR0cihhdHRycyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5hbWUgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgbm9kZS5lbGVtID0gbmV3IEVsZW0oZWxlbWVudC5wcm9wKCdjb250ZW50JykpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZvckVhY2hOb2RlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHB4XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBzaXplIC0gU3RyaW5nIGNvbnRhaW5pbmcgcGl4ZWxzIHZhbHVlIG9yIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2YgcGl4ZWxzLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIHBhcnNpbmcgcGl4ZWwgc3RyaW5ncy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogcHgoJzBweCcpOyAgLy8gMFxyXG4gKiBweCgnNDJweCcpOyAvLyA0MlxyXG4gKi9cclxuZnVuY3Rpb24gcHgoc2l6ZSkge1xyXG4gIHJldHVybiBOdW1iZXIoU3RyaW5nKHNpemUpLnJlcGxhY2UoL3B4JC8sICcnKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IEVsZW0sIHdpbiwgZG9jLCBodG1sLCBib2R5LCBoZWFkLCBmaW5kLCBwYXJzZUhUTUwsIHB4IH07XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRCbG9jayhCbG9jaykge1xyXG4gIGNsYXNzIERCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIiAvPic7XHJcblxyXG4gICAgZWxlbXMgPSBudWxsO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLiQkLnBhcmVudDtcclxuICAgICAgY29uc3QgeyBuYW1lIH0gPSB0aGlzLmFyZ3M7XHJcbiAgICAgIGxldCBmb3VuZDtcclxuXHJcbiAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgZm91bmQgPSBjaGlsZHJlbi5maW5kKCh7IG5hbWU6IG5vZGVOYW1lIH0pID0+IG5vZGVOYW1lID09PSBgZC1ibG9jay0keyBuYW1lIH1gKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kICYmIGZvdW5kLnZhbHVlLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1ibG9jaycsXHJcbiAgICB2YWx1ZTogREJsb2NrXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xyXG5pbXBvcnQgeyBFbGVtIH0gZnJvbSAnLi4vRWxlbSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFYWNoKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFYWNoIGV4dGVuZHMgQmxvY2sge1xyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICBpdGVtOiBpdGVtTmFtZSA9ICckaXRlbScsXHJcbiAgICAgICAgICBpbmRleDogaW5kZXhOYW1lID0gJyRpbmRleCdcclxuICAgICAgICB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG5cclxuICAgICAgYXNzaWduKHRoaXMuJCQsIHtcclxuICAgICAgICB1aWRzOiBuZXcgU3VwZXIoe30pLFxyXG4gICAgICAgIGl0ZW1zOiBuZXcgQXJyKFtdKSxcclxuICAgICAgICBVSUQ6IFN0cmluZyh0aGlzLmFyZ3MudWlkKSxcclxuICAgICAgICBpdGVtTmFtZSxcclxuICAgICAgICBpbmRleE5hbWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJSZW5kZXIoKSB7XHJcbiAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHRoaXMuYXJncy5zZXQpO1xyXG4gICAgICB0aGlzLndhdGNoQXJncygnc2V0JywgKHNldCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHNldCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdFZhbHVlcyhzZXQpIHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGVsZW1zOiB7XHJcbiAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdWlkcyxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgIFVJRFxyXG4gICAgICB9ID0gdGhpcy4kJDtcclxuICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcztcclxuICAgICAgY29uc3QgJHVpZHMgPSB1aWRzLiQ7XHJcbiAgICAgIGNvbnN0IG5ld0tleXMgPSB7fTtcclxuICAgICAgY29uc3QgbmV3VUlEcyA9IHt9O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBzY29wZVtpdGVtTmFtZV0gPSBpdGVtO1xyXG4gICAgICAgIHNjb3BlW2luZGV4TmFtZV0gPSBpbmRleDtcclxuXHJcbiAgICAgICAgY29uc3QgdWlkID0gcGFyZW50LiQkLmV2YWx1YXRlKFN0cmluZyhVSUQpLCBudWxsLCBudWxsLCBmYWxzZSwgZmFsc2UsIHRoaXMpO1xyXG5cclxuICAgICAgICBuZXdLZXlzW3VpZF0gPSBuZXdLZXlzW3VpZF0gfHwge307XHJcbiAgICAgICAgbmV3S2V5c1t1aWRdW2luZGV4XSA9IHRydWU7XHJcbiAgICAgICAgbmV3VUlEc1tpbmRleF0gPSB1aWQ7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGVbaXRlbU5hbWVdID0gbnVsbDtcclxuICAgICAgc2NvcGVbaW5kZXhOYW1lXSA9IG51bGw7XHJcblxyXG4gICAgICB1aWRzLmZvckVhY2goKGl0ZW1zLCB1aWQpID0+IHtcclxuICAgICAgICBpZiAoIW5ld0tleXNbdWlkXSkge1xyXG4gICAgICAgICAgaXRlbXMuZm9yRWFjaCgoSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXRlbXMuc3BsaWNlKE9iamVjdC5rZXlzKG5ld0tleXNbdWlkXSkubGVuZ3RoKS5mb3JFYWNoKChJdGVtKSA9PiB7XHJcbiAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBhZnRlciA9IHN0YXJ0O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCB1aWQgPSBuZXdVSURzW2luZGV4XTtcclxuICAgICAgICBsZXQgYmxvY2s7XHJcblxyXG4gICAgICAgIGlmICgkdWlkc1t1aWRdICYmICR1aWRzW3VpZF0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBibG9jayA9IG5ld0tleXNbdWlkXVtpbmRleF0gPSB1aWRzLiRbdWlkXS5zaGlmdCgpO1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaW5kZXhOYW1lXSA9IGluZGV4O1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaXRlbU5hbWVdID0gaXRlbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYmxvY2sgPSBuZXdLZXlzW3VpZF1baW5kZXhdID0gY3JlYXRlQmxvY2soe1xyXG4gICAgICAgICAgICBub2RlOiB7XHJcbiAgICAgICAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgICAgICAgIGl0ZW0sXHJcbiAgICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgICAgbmFtZTogJyNkLWl0ZW0nLFxyXG4gICAgICAgICAgICAgIGJsb2NrOiBwYXJlbnQsXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbSxcclxuICAgICAgICAgICAgcGFyZW50QmxvY2s6IHRoaXMsXHJcbiAgICAgICAgICAgIHBhcmVudFNjb3BlOiBwYXJlbnRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICBlbmRcclxuICAgICAgICB9ID0gYmxvY2suJCQuZWxlbXM7XHJcblxyXG4gICAgICAgIGlmIChzdGFydC5wcmV2KCkuJFswXSAhPT0gYWZ0ZXIuJFswXSkge1xyXG4gICAgICAgICAgY29uc3QgeyBjb250ZW50IH0gPSBibG9jay4kJC5lbGVtcztcclxuXHJcbiAgICAgICAgICBuZXcgRWxlbShbXHJcbiAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICBjb250ZW50LFxyXG4gICAgICAgICAgICBlbmRcclxuICAgICAgICAgIF0pLmluc2VydEFmdGVyKGFmdGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFmdGVyID0gZW5kO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuJCQudWlkcyA9IG5ldyBTdXBlcihuZXdLZXlzKS5tYXAoKGl0ZW1zKSA9PiAoXHJcbiAgICAgICAgbmV3IFN1cGVyKGl0ZW1zKS52YWx1ZXMoKVxyXG4gICAgICApKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1lYWNoJyxcclxuICAgIHZhbHVlOiBERWFjaFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgRWxlbSB9IGZyb20gJy4uL0VsZW0nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREVsZW1lbnRzKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFbGVtZW50cyBleHRlbmRzIEJsb2NrIHtcclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAodmFsdWUpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBjaGlsZHJlbixcclxuICAgICAgICAgIG1peGlucyxcclxuICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUsXHJcbiAgICAgICAgICBlbGVtczoge1xyXG4gICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgY29udGVudCxcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHRoaXMuJCQ7XHJcbiAgICAgICAgbGV0IGFmdGVyID0gc3RhcnQ7XHJcblxyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICBjaGlsZC5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG1peGluKSA9PiB7XHJcbiAgICAgICAgICBtaXhpbi5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udGVudC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kJC5jaGlsZHJlbiA9IG5ldyBBcnIoW10pO1xyXG4gICAgICAgIHRoaXMuJCQubWl4aW5zID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgdGhpcy4kJC53YXRjaGVyc1RvUmVtb3ZlID0gd2F0Y2hlcnNUb1JlbW92ZS5maWx0ZXIoKHsgd2F0Y2hlcnMsIHdhdGNoZXIsIGZvckRFbGVtZW50cyB9KSA9PiB7XHJcbiAgICAgICAgICBpZiAoZm9yREVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gd2F0Y2hlcnMuaW5kZXhPZih3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHdhdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBuZXcgRWxlbSgpO1xyXG5cclxuICAgICAgICBuZXcgQXJyKHZhbHVlIHx8IFtdKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgYmxvY2sgPSBjcmVhdGVCbG9jayh7XHJcbiAgICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgcGFyZW50LFxyXG4gICAgICAgICAgICBwYXJlbnRCbG9jazogdGhpcyxcclxuICAgICAgICAgICAgcGFyZW50U2NvcGU6IHRoaXNcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbXMgfSA9IGJsb2NrLiQkO1xyXG5cclxuICAgICAgICAgICAgYWZ0ZXIgPSBlbGVtcy5lbmQ7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChlbGVtcy5zdGFydCwgZWxlbXMuY29udGVudCwgZWxlbXMuZW5kKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFmdGVyID0gYmxvY2s7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChibG9jayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJCQuZWxlbXMuY29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWVsZW1lbnRzJyxcclxuICAgIHZhbHVlOiBERWxlbWVudHNcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRJZihCbG9jaykge1xyXG4gIGNsYXNzIERJZiBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIi8+JztcclxuXHJcbiAgICBpbmRleCA9IEluZmluaXR5O1xyXG4gICAgZWxlbXMgPSBudWxsO1xyXG4gICAgdmFsdWVzID0gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkLCBpKSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGF0dHJzLFxyXG4gICAgICAgIGNoaWxkcmVuXHJcbiAgICAgIH0gPSBjaGlsZDtcclxuICAgICAgY29uc3QgY29uZCA9IHRoaXMuZXZhbHVhdGVBbmRXYXRjaChuYW1lID09PSAnZC1lbHNlJyA/ICd7dHJ1ZX0nIDogYXR0cnMuaWYgfHwgJ3t0cnVlfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIGlmICghIW5ld1ZhbHVlID09PSB0aGlzLnZhbHVlcy4kW2ldKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnZhbHVlcy4kW2ldID0gISFuZXdWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGkgPiB0aGlzLmluZGV4KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaSA8IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy52YWx1ZXMuZmluZChCb29sZWFuKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kKSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gZm91bmQua2V5O1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IHRoaXMuY2hpbGRyZW4uJFtmb3VuZC5rZXldLmNoaWxkcmVuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gSW5maW5pdHk7XHJcbiAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGNvbmQgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaTtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb25kO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtaWYnLFxyXG4gICAgdmFsdWU6IERJZlxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREl0ZW0oQmxvY2spIHtcclxuICBjbGFzcyBESXRlbSBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntjaGlsZHJlbn1cIi8+JztcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnI2QtaXRlbScsXHJcbiAgICB2YWx1ZTogREl0ZW1cclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IEFyciB9IGZyb20gJy4uL0Fycic7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFN3aXRjaChCbG9jaykge1xyXG4gIGNsYXNzIERTd2l0Y2ggZXh0ZW5kcyBCbG9jayB7XHJcbiAgICBzdGF0aWMgdGVtcGxhdGUgPSAnPGQtZWxlbWVudHMgdmFsdWU9XCJ7ZWxlbXN9XCIvPic7XHJcblxyXG4gICAgaW5kZXggPSBJbmZpbml0eTtcclxuICAgIGVsZW1zID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XHJcbiAgICAgIHN1cGVyKG9wdHMpO1xyXG5cclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGFyZ3MsXHJcbiAgICAgICAgYXJnczogeyB2YWx1ZSB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG4gICAgICBsZXQgd2FzRGVmYXVsdDtcclxuXHJcbiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy5jaGlsZHJlbi5vYmplY3QoKHZhbHVlcywgY2hpbGQsIGkpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgYXR0cnMsXHJcbiAgICAgICAgICBjaGlsZHJlblxyXG4gICAgICAgIH0gPSBjaGlsZDtcclxuXHJcbiAgICAgICAgaWYgKHdhc0RlZmF1bHQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYW1lICE9PSAnZC1jYXNlJyAmJiBuYW1lICE9PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWRlZmF1bHQnKSB7XHJcbiAgICAgICAgICB3YXNEZWZhdWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2YWw7XHJcblxyXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgdmFsID0gYXJncy52YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFsID0gdGhpcy5ldmFsdWF0ZUFuZFdhdGNoKGF0dHJzLmlmIHx8ICd7dW5kZWZpbmVkfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lcXVhbHModGhpcy52YWx1ZXMuJFtpXS52YWx1ZSwgbmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlcy4kW2ldLnZhbHVlID0gbmV3VmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA+IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpIDwgdGhpcy5pbmRleCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgIHRoaXMuZWxlbXMgPSBjaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMudmFsdWVzLmZpbmQoKHsgdmFsdWUgfSkgPT4gKFxyXG4gICAgICAgICAgICAgIHRoaXMuZXF1YWxzKHZhbHVlLCBhcmdzLnZhbHVlKVxyXG4gICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBmb3VuZC5rZXk7XHJcbiAgICAgICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lcXVhbHModmFsLCB2YWx1ZSkgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsdWVzLnB1c2goe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGNoaWxkcmVuLFxyXG4gICAgICAgICAgdmFsdWU6IHZhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCBuZXcgQXJyKFtdKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICAgIHRoaXMud2F0Y2hBcmdzKCd2YWx1ZScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBjaGlsZHJlbiB9LCBpKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB2YWwgPSBuYW1lID09PSAnZC1kZWZhdWx0J1xyXG4gICAgICAgICAgICA/IG5ld1ZhbHVlXHJcbiAgICAgICAgICAgIDogdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuZXF1YWxzKHZhbCwgbmV3VmFsdWUpICYmIHRoaXMuaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyh2YWx1ZTEsIHZhbHVlMikge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKHZhbHVlMSkuZXF1YWxzKHZhbHVlMik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc3dpdGNoJyxcclxuICAgIHZhbHVlOiBEU3dpdGNoXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFRleHQoQmxvY2spIHtcclxuICBjbGFzcyBEVGV4dCBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntbeyBuYW1lOiBcXCcjdGV4dFxcJywgdmFsdWU6IHRleHQgfV19XCIvPic7XHJcblxyXG4gICAgdGV4dCA9ICcnO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLnRleHQgPSBpc05pbCh0aGlzLmFyZ3MudmFsdWUpID8gJycgOiB0aGlzLmFyZ3MudmFsdWU7XHJcblxyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAobmV3VmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnRleHQgPSBpc05pbChuZXdWYWx1ZSkgPyAnJyA6IG5ld1ZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC10ZXh0JyxcclxuICAgIHZhbHVlOiBEVGV4dFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEQXR0cihNaXhpbikge1xyXG4gIGNsYXNzIERBdHRyIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIG5ld1ZhbHVlID0gbmV3IFN1cGVyKG5ld1ZhbHVlKS4kO1xyXG5cclxuICAgICAgbmV3IFN1cGVyKG9sZFZhbHVlKS5mb3JFYWNoKCh2YWx1ZSwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghbmV3VmFsdWVbcHJvcF0pIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cihwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBlbGVtLmF0dHIobmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWF0dHInLFxyXG4gICAgdmFsdWU6IERBdHRyXHJcbiAgfTtcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREJpbmQoTWl4aW4pIHtcclxuICBjbGFzcyBEQmluZCBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGlmICh0aGlzLm9mZikge1xyXG4gICAgICAgIHRoaXMub2ZmKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMub2ZmID0gdGhpcy5lbGVtLm9uKHRoaXMubWF0Y2hbMF0sIHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1iaW5kJyxcclxuICAgIHZhbHVlOiBEQmluZFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcsIGl0ZXJhdGUgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRENsYXNzKE1peGluKSB7XG4gIGNsYXNzIERDbGFzcyBleHRlbmRzIE1peGluIHtcbiAgICBhZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcblxuICAgICAgbmV3VmFsdWUgPSBuZXcgU3VwZXIobmV3VmFsdWUpLiQ7XG4gICAgICBvbGRWYWx1ZSA9IG5ldyBTdXBlcihvbGRWYWx1ZSkuJDtcblxuICAgICAgaWYgKGlzQXJyYXkobmV3VmFsdWUpKSB7XG4gICAgICAgIGl0ZXJhdGUob2xkVmFsdWUsIChjbHMpID0+IHtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xzKSAmJiAhbmV3VmFsdWVbY2xzXSkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZXJhdGUobmV3VmFsdWUsIChjbHMpID0+IHtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xzKSkge1xuICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKG5ld1ZhbHVlKSkge1xuICAgICAgICBpZiAoaXNTdHJpbmcob2xkVmFsdWUpKSB7XG4gICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhvbGRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtLmFkZENsYXNzKG5ld1ZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QobmV3VmFsdWUpKSB7XG4gICAgICAgIGl0ZXJhdGUob2xkVmFsdWUsICh2YWwsIGNscykgPT4ge1xuICAgICAgICAgIGlmICh2YWwgJiYgIW5ld1ZhbHVlW2Nsc10pIHtcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVyYXRlKG5ld1ZhbHVlLCAodmFsLCBjbHMpID0+IHtcbiAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcob2xkVmFsdWUpKSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3Mob2xkVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KG9sZFZhbHVlKSkge1xuICAgICAgICBpdGVyYXRlKG9sZFZhbHVlLCAoY2xzKSA9PiB7XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGNscykpIHtcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvbGRWYWx1ZSkpIHtcbiAgICAgICAgaXRlcmF0ZShvbGRWYWx1ZSwgKHZhbCwgY2xzKSA9PiB7XG4gICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1jbGFzcycsXG4gICAgdmFsdWU6IERDbGFzc1xuICB9O1xufVxuIiwiaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFbGVtKE1peGluKSB7XHJcbiAgY2xhc3MgREVsZW0gZXh0ZW5kcyBNaXhpbiB7XHJcbiAgICBhZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgY29uc3QgeyBwYXJlbnQgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmIGlzU3RyaW5nKG9sZFZhbHVlKSkge1xyXG4gICAgICAgIGRlbGV0ZSBwYXJlbnRbb2xkVmFsdWVdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNTdHJpbmcobmV3VmFsdWUpKSB7XHJcbiAgICAgICAgcGFyZW50W25ld1ZhbHVlXSA9IHRoaXMuZWxlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWVsZW0nLFxyXG4gICAgdmFsdWU6IERFbGVtXHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJESGlkZShNaXhpbikge1xyXG4gIGNsYXNzIERIaWRlIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUodmFsdWUpIHtcclxuICAgICAgY29uc3QgeyBlbGVtIH0gPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgZWxlbS5oaWRlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbS5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1oaWRlJyxcclxuICAgIHZhbHVlOiBESGlkZVxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRE9uKE1peGluKSB7XHJcbiAgY2xhc3MgRE9uIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIHRoaXMuZWxlbS5vbih0aGlzLm1hdGNoWzBdLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ldmFsdWF0ZU9uY2UoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtb24nLFxyXG4gICAgdmFsdWU6IERPblxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFNob3coTWl4aW4pIHtcclxuICBjbGFzcyBEU2hvdyBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGVsZW0uc2hvdygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0uaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc2hvdycsXHJcbiAgICB2YWx1ZTogRFNob3dcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFN0eWxlKE1peGluKSB7XHJcbiAgY2xhc3MgRFN0eWxlIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIG5ld1ZhbHVlID0gbmV3IFN1cGVyKG5ld1ZhbHVlKS4kO1xyXG5cclxuICAgICAgbmV3IFN1cGVyKG9sZFZhbHVlKS5mb3JFYWNoKCh2YWx1ZSwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghbmV3VmFsdWVbcHJvcF0pIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQ1NTKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGVsZW0uY3NzKG5ld1ZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1zdHlsZScsXHJcbiAgICB2YWx1ZTogRFN0eWxlXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFRleHQoTWl4aW4pIHtcclxuICBjbGFzcyBEVGV4dCBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuZWxlbS50ZXh0KFxyXG4gICAgICAgIGlzTmlsKHZhbHVlKVxyXG4gICAgICAgICAgPyAnJ1xyXG4gICAgICAgICAgOiBgJHsgdmFsdWUgfWBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC10ZXh0JyxcclxuICAgIHZhbHVlOiBEVGV4dFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFZhbGlkYXRlKE1peGluKSB7XHJcbiAgY2xhc3MgRFZhbGlkYXRlIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5ldmFsdWF0ZU9uY2UoKTtcclxuXHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcclxuICAgICAgICBlbGVtLnZhbGlkYXRlKHZhbGlkYXRvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC12YWxpZGF0ZScsXHJcbiAgICB2YWx1ZTogRFZhbGlkYXRlXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xuaW1wb3J0IHsgc3dpdGNoZXIgfSBmcm9tICcuLi9Td2l0Y2hlcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5jb25zdCBwcm9wU3dpdGNoZXIgPSBzd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgKHR5cGUsIGVsZW0pID0+IChcbiAgZWxlbS5oYXNBdHRyKCdjb250ZW50ZWRpdGFibGUnKSB8fCBlbGVtLmhhc0F0dHIoJ2NvbnRlbnRFZGl0YWJsZScpXG4gICAgPyAndGV4dCdcbiAgICA6ICd2YWx1ZSdcbikpXG4gIC5jYXNlKCdpbnB1dCcsICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgcmV0dXJuICdmaWxlcyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGUgPT09ICdyYWRpbycgfHwgdHlwZSA9PT0gJ2NoZWNrYm94J1xuICAgICAgPyAnY2hlY2tlZCdcbiAgICAgIDogJ3ZhbHVlJztcbiAgfSk7XG5jb25zdCBzZXRWYWx1ZVN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICh2YWx1ZSkgPT4gdmFsdWUpXG4gIC5jYXNlKCdpbnB1dCcsICh2YWx1ZSwgdHlwZSwgaW5wdXRWYWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlICE9PSAncmFkaW8nICYmIHR5cGUgIT09ICdjaGVja2JveCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBpbnB1dFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGlucHV0VmFsdWUpICE9PSAtMTtcbiAgfSk7XG5jb25zdCBnZXRWYWx1ZVN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICh2YWx1ZSkgPT4gdmFsdWUpXG4gIC5jYXNlKCdpbnB1dCcsICh2YWx1ZSwgdHlwZSwgaW5wdXRWYWx1ZSwgdmFsdWVzKSA9PiB7XG4gICAgaWYgKHR5cGUgIT09ICdyYWRpbycgJiYgdHlwZSAhPT0gJ2NoZWNrYm94Jykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAncmFkaW8nKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBpbnB1dFZhbHVlXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5pbmRleE9mKGlucHV0VmFsdWUpID09PSAtMVxuICAgICAgICAgID8gbmV3IEFycih2YWx1ZXMpLmNvbmNhdChpbnB1dFZhbHVlKS4kXG4gICAgICAgICAgOiB2YWx1ZXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbaW5wdXRWYWx1ZV07XG4gICAgfVxuXG4gICAgaWYgKCFpc0FycmF5KHZhbHVlcykpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHZhbHVlcy5pbmRleE9mKGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4ubmV3IEFycih2YWx1ZXMpLnNsaWNlKDAsIGluZGV4KS4kLFxuICAgICAgICAuLi5uZXcgQXJyKHZhbHVlcykuc2xpY2UoaW5kZXggKyAxKS4kXG4gICAgICBdO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuY29uc3QgbGlzdGVuZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAnaW5wdXQnKVxuICAuY2FzZSgnc2VsZWN0JywgJ2NoYW5nZScpXG4gIC5jYXNlKCdpbnB1dCcsICh0eXBlKSA9PiAoXG4gICAgdHlwZSA9PT0gJ3JhZGlvJ1xuICAgIHx8IHR5cGUgPT09ICdjaGVja2JveCdcbiAgICB8fCB0eXBlID09PSAnY29sb3InXG4gICAgfHwgdHlwZSA9PT0gJ2ZpbGUnXG4gICAgICA/ICdjaGFuZ2UnXG4gICAgICA6ICdpbnB1dCdcbiAgKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRWYWx1ZShNaXhpbikge1xuICBjbGFzcyBEVmFsdWUgZXh0ZW5kcyBNaXhpbiB7XG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICBzdXBlcihvcHRzKTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICAkJDoge1xuICAgICAgICAgIF92YWx1ZSxcbiAgICAgICAgICBwYXJlbnRcbiAgICAgICAgfSxcbiAgICAgICAgZWxlbVxuICAgICAgfSA9IHRoaXM7XG4gICAgICBjb25zdCB0eXBlID0gZWxlbS5wcm9wKCd0eXBlJyk7XG5cbiAgICAgIHRoaXMucHJvcCA9IHByb3BTd2l0Y2hlcihlbGVtLm5hbWUsIFt0eXBlLCBlbGVtXSk7XG4gICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgICBjb25zdCBpbml0aWFsU2NvcGVWYWx1ZSA9IHBhcmVudC4kJC5ldmFsdWF0ZShgeyR7IF92YWx1ZSB9fWAsIChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFByb3AobmV3VmFsdWUpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgICBjb25zdCBpbml0aWFsRWxlbVZhbHVlID0gdGhpcy5nZXRQcm9wKGluaXRpYWxTY29wZVZhbHVlKTtcblxuICAgICAgaWYgKGlzTmlsKGluaXRpYWxTY29wZVZhbHVlKSB8fCB0eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIHBhcmVudFtfdmFsdWVdID0gaW5pdGlhbEVsZW1WYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0UHJvcChpbml0aWFsU2NvcGVWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW0ub24obGlzdGVuZXJTd2l0Y2hlcihlbGVtLm5hbWUsIFt0eXBlXSksIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZWxlbS4kWzBdKSB7XG4gICAgICAgICAgcGFyZW50W192YWx1ZV0gPSB0aGlzLmdldFByb3AocGFyZW50W192YWx1ZV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRQcm9wKHZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIHByb3AsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBpZiAocHJvcCA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGVsZW0udGV4dCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnByb3AocHJvcCwgc2V0VmFsdWVTd2l0Y2hlcihlbGVtLm5hbWUsIFt2YWx1ZSwgdHlwZSwgZWxlbS4kWzBdLnZhbHVlXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldFByb3AodmFsdWVzKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIHByb3AsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICByZXR1cm4gcHJvcCA9PT0gJ3RleHQnXG4gICAgICAgID8gZWxlbS50ZXh0KClcbiAgICAgICAgOiBnZXRWYWx1ZVN3aXRjaGVyKGVsZW0ubmFtZSwgW2VsZW0ucHJvcChwcm9wKSwgdHlwZSwgZWxlbS4kWzBdLnZhbHVlLCB2YWx1ZXNdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLXZhbHVlJyxcbiAgICB2YWx1ZTogRFZhbHVlXG4gIH07XG59XG4iLCIvKipcclxuICogQG1vZHVsZSBCbG9ja1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvY2sgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi9BcnInO1xyXG5pbXBvcnQgeyBmaW5kLCBkb2MsIEVsZW0gfSBmcm9tICcuL0VsZW0nO1xyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQge1xyXG4gIGl0ZXJhdGUsIGRlZmluZVByb3BlcnRpZXMsIHZhbGlkYXRlLFxyXG4gIGlzRnVuY3Rpb24sIGlzTmlsLCBpc1VuZGVmaW5lZFxyXG59IGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCAqIGFzIEJsb2NrcyBmcm9tICcuL2Jsb2Nrcyc7XHJcbmltcG9ydCAqIGFzIE1peGlucyBmcm9tICcuL21peGlucyc7XHJcbmltcG9ydCB7IGh0bWxBbGxvd2VkVGFnU3ltYm9scywgaHRtbEFsbG93ZWRBdHRyU3ltYm9scyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IG1hcmt1cFRvSlNPTiBmcm9tICcuL2hlbHBlcnMvbWFya3VwVG9KU09OJztcclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgV2F0Y2hlclxyXG4gKiBAcGFyYW0geyp9IG5ld1ZhbHVlIC0gTmV3IHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IG9sZFZhbHVlIC0gT2xkIHZhbHVlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgV3JhcHBlclxyXG4gKiBAcGFyYW0ge0Jsb2NrfSBCbG9jayBjbGFzcyB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7QmxvY2t9IE5ldyBCbG9jayBjbGFzcy5cclxuICovXHJcblxyXG5jb25zdCBibG9ja3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5jb25zdCBtaXhpbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5jb25zdCBpc1Byb3RvdHlwZU9mID0ge30uaXNQcm90b3R5cGVPZjtcclxuY29uc3QgdGFnTmFtZSA9IG5ldyBSZWdFeHAoYF4keyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgfSRgLCAnaScpO1xyXG5jb25zdCBhdHRyTmFtZSA9IG5ldyBSZWdFeHAoYF4keyBodG1sQWxsb3dlZEF0dHJTeW1ib2xzIH0kYCk7XHJcbmNvbnN0IGV4cHJlc3Npb25SZWdFeHAgPSAvXlxce1tcXHNcXFNdK1xcfSQvO1xyXG5jb25zdCB7IGRvY3VtZW50IH0gPSBnbG9iYWw7XHJcbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxubGV0IG9uRXZhbEVycm9yO1xyXG5sZXQgZXZhbE1vZGU7XHJcbmxldCBnZXR0aW5nO1xyXG5sZXQgY2hhbmdlZDtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgQmxvY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIEVsZW1lbnQgb3B0aW9ucy5cclxuICogQHJldHVybnMge0Jsb2NrfSBJbnN0YW5jZSBvZiBCbG9jay5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBkeW5hbWljIHRlbXBsYXRpbmcuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGltcG9ydCB7IEQsIEJsb2NrLCBpbml0QXBwLCByZWdpc3RlckJsb2NrIH0gZnJvbSAnZHdheW5lJztcclxuICpcclxuICogY2xhc3MgQXBwIGV4dGVuZHMgQmxvY2sge1xyXG4gKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8SGVsbG8gdGV4dD1cInt0ZXh0fVwiLz4nO1xyXG4gKlxyXG4gKiAgIGNvbnN0cnVjdG9yKGFyZ3MsIGNoaWxkcmVuKSB7XHJcbiAqICAgICBzdXBlcihhcmdzLCBjaGlsZHJlbik7XHJcbiAqXHJcbiAqICAgICB0aGlzLnRleHQgPSAnd29ybGQgKDApJztcclxuICogICAgIHRoaXMudGltZXMgPSAwO1xyXG4gKlxyXG4gKiAgICAgdGhpcy5zZXRJbnRlcnZhbCgpO1xyXG4gKiAgIH1cclxuICpcclxuICogICBzZXRJbnRlcnZhbCgpIHtcclxuICogICAgIEQoMTAwMCkuaW50ZXJ2YWwoKCkgPT4ge1xyXG4gKiAgICAgICB0aGlzLnRleHQgPSBgd29ybGQgKCR7ICsrdGhpcy50aW1lcyB9KWA7XHJcbiAqICAgICB9KTtcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogY2xhc3MgSGVsbG8gZXh0ZW5kcyBCbG9jayB7XHJcbiAqICAgc3RhdGljIHRlbXBsYXRlID0gJ0hlbGxvLCA8ZC10ZXh0IHZhbHVlPVwie2FyZ3MudGV4dH1cIi8+ISc7XHJcbiAqIH1cclxuICpcclxuICogQmxvY2suQXBwID0gQXBwO1xyXG4gKiBCbG9jay5IZWxsbyA9IEhlbGxvO1xyXG4gKlxyXG4gKiBpbml0QXBwKCk7XHJcbiAqL1xyXG5jbGFzcyBCbG9jayB7XHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7Qm9vbGVhbn0gW0Jsb2NrLmNvbGxhcHNlV2hpdGVTcGFjZSA9IHRydWVdXHJcbiAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiB0aGUgd2hpdGVzcGFjZSBiZXR3ZWVuIGh0bWwgZWxlbWVudHMgYW5kXHJcbiAgICogaW4gdGhlIHN0YXJ0IGFuZCB0aGUgZW5kIGluc2lkZSB0aGUgdGFnIHNob3VsZCBiZSBvbWl0dGVkIGR1cmluZyBwYXJzaW5nLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBjb2xsYXBzZVdoaXRlU3BhY2UgPSB0cnVlO1xyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtPYmplY3R9IFtCbG9jay5kZWZhdWx0QXJncyA9IHRydWVdXHJcbiAgICogQHR5cGUge09iamVjdH1cclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIFByb3ZpZGUgZGVmYXVsdCBhcmdzIGlmIHRoYXQgYXJncyBtYXkgbm90IGFwcGVhciBpbiB0aGUgYXJnc1xyXG4gICAqICh1c2luZyBcImQtcmVzdFwiKSBidXQgeW91IHVzZSB0aGVtIGluIHlvdXIgdGVtcGxhdGUgYW5kIHdhbnQgdGhlbSB0byBiZSB3YXRjaGVkLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBkZWZhdWx0QXJncyA9IHt9O1xyXG5cclxuICBzdGF0aWMgZ2V0IG9uRXZhbEVycm9yKCkge1xyXG4gICAgcmV0dXJuIG9uRXZhbEVycm9yO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldCBvbkV2YWxFcnJvcihsaXN0ZW5lcikge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgIG9uRXZhbEVycm9yID0gbGlzdGVuZXI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvbkV2YWxFcnJvciA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrLndyYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtXcmFwcGVyfSBmdW5jIC0gRnVuY3Rpb24gdGhhdCByZXR1cm5zIHdyYXBwZWQgYmxvY2suXHJcbiAgICogQHJldHVybnMge0Jsb2NrfSBOZXcgYmxvY2suXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd3JhcHBpbmcgYmxvY2tzIGludG8gYW5vdGhlciBibG9ja3MuXHJcbiAgICogSXQgaXMgY29uc2lkZXJlZCBiZXN0IHByYWN0aWNlIHRvIGp1c3QgZXh0ZW5kcyB0aGUgb2xkIGJsb2NrIHdpdGggYSBuZXcgb25lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXY+MTIzPC9kaXY+JztcclxuICAgKiB9XHJcbiAgICpcclxuICAgKiBNeUJsb2NrLndyYXAoKEJsb2NrKSA9PiB7XHJcbiAgICogICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICAgIHN0YXRpYyB0ZW1wbGF0ZSA9IGA8c2VjdGlvbiBjbGFzcz1cIndyYXBwZXJcIj4keyBCbG9jay50ZW1wbGF0ZSB9PC9zZWN0aW9uPmA7XHJcbiAgICpcclxuICAgKiAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICogICAgICAgdGhpcy5hZGRpdGlvbmFsVmFyID0gJ2FkZGl0aW9uYWwnO1xyXG4gICAqICAgICB9XHJcbiAgICogICB9O1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHN0YXRpYyB3cmFwKGZ1bmMpIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddKTtcclxuXHJcbiAgICByZXR1cm4gZnVuYyh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgYXJnczogb3JpZ2luYWxBcmdzLFxyXG4gICAgICBjaGlsZHJlbixcclxuICAgICAgYmxvY2ssXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgIHBhcmVudFNjb3BlXHJcbiAgICB9ID0gb3B0cztcclxuICAgIGNvbnN0IHdhdGNoZXJzVG9SZW1vdmUgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbWVtYmVyIHtCbG9ja30gQmxvY2sjJFxyXG4gICAgICAgKiBAdHlwZSB7QmxvY2t9XHJcbiAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMuXHJcbiAgICAgICAqL1xyXG4gICAgICAkOiB7XHJcbiAgICAgICAgdmFsdWU6IHRoaXNcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IEJsb2NrIyQkXHJcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGFyZ3MgLSBQcml2YXRlIGFyZ3Mgc2NvcGUuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7QXJyfSBjaGlsZHJlbiAtIENoaWxkIGJsb2Nrcy5cclxuICAgICAgICogQHByb3BlcnR5IHtBcnJ9IG1peGlucyAtIENoaWxkIG1peGlucy5cclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGVsZW1zIC0gRWxlbWVudHMgY29ubmVjdGVkIHRvIHRoZSBibG9jay5cclxuICAgICAgICogQHByb3BlcnR5IHtFbGVtfSBlbGVtcy5wYXJlbnQgLSBQYXJlbnQgZWxlbWVudC5cclxuICAgICAgICogQHByb3BlcnR5IHtFbGVtfSBlbGVtcy5zdGFydCAtIFN0YXJ0IGNvbW1lbnQgYmxvY2suXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMuZW5kIC0gRW5kIGNvbW1lbnQgYmxvY2suXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMuY29udGVudCAtIENvbnRlbnQgZWxlbWVudHMuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGV2YWx1YXRlIC0gRXZhbHVhdGUgZnVuY3Rpb24uXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnbG9iYWwgLSBQcml2YXRlIGdsb2JhbCBzY29wZS5cclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGxvY2FscyAtIFByaXZhdGUgbG9jYWxzIHNjb3BlLlxyXG4gICAgICAgKiBAcHJvcGVydHkge0Fycn0gd2F0Y2hlcnNUb1JlbW92ZSAtIFdhdGNoZXJzIHRvIHJlbW92ZSBiZWZvcmUgcmVtb3ZpbmcgZWxlbWVudC5cclxuICAgICAgICovXHJcbiAgICAgICQkOiB7XHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudFNjb3BlLFxyXG4gICAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgICBjaGlsZHJlbjogbmV3IEFycihbXSksXHJcbiAgICAgICAgICBtaXhpbnM6IG5ldyBBcnIoW10pLFxyXG4gICAgICAgICAgQmxvY2s6IGJsb2NrLFxyXG4gICAgICAgICAgZWxlbXM6IHtcclxuICAgICAgICAgICAgc3RhcnQ6IGRvYy5jcmVhdGVDb21tZW50KGAgJHsgbmFtZSB9OiBzdGFydCBgKSxcclxuICAgICAgICAgICAgZW5kOiBkb2MuY3JlYXRlQ29tbWVudChgICR7IG5hbWUgfTogZW5kIGApLFxyXG4gICAgICAgICAgICBjb250ZW50OiBuZXcgRWxlbSgpLFxyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlLFxyXG4gICAgICAgICAgZXZhbHVhdGU6IChleHByZXNzaW9uLCBvbkNoYW5nZSwgaW5zdGFuY2UsIGZvckRFbGVtZW50cywgZm9yREl0ZW0sIGZvckRFYWNoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXhwcmVzc2lvblJlZ0V4cC50ZXN0KGV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3Npb247XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvckRFbGVtZW50cyA9ICEhZm9yREVsZW1lbnRzO1xyXG4gICAgICAgICAgICBmb3JESXRlbSA9ICEhZm9yREl0ZW07XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoL15cXHt8XFx9JC9nLCAnJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzdG9yZSA9IChuYW1lID09PSAnI2QtaXRlbScgJiYgIWZvckRJdGVtKSB8fCBmb3JERWFjaFxyXG4gICAgICAgICAgICAgID8gKGZvckRFYWNoIHx8IHRoaXMpLiQkLnNjb3BlXHJcbiAgICAgICAgICAgICAgOiB0aGlzO1xyXG5cclxuICAgICAgICAgICAgLyogZXNsaW50IG5vLW5ldy1mdW5jOiAwICovXHJcbiAgICAgICAgICAgIGNvbnN0IHsgd2F0Y2hlcnNUb1JlbW92ZSB9ID0gaW5zdGFuY2UgPyBpbnN0YW5jZS4kJCA6IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBmdW5jID0gbmV3IEZ1bmN0aW9uKFxyXG4gICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICd3aXRoKGRvY3VtZW50LkR3YXluZVN0b3JlKXskJC5leHByPWV2YWwoXCIkJC5leHByPVwiKyQkLmV4cHIpO3JldHVybiAkJC5leHByfSdcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0ZS5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXZhbHVhdGUoKSB7XHJcbiAgICAgICAgICAgICAgbGV0IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBldmFsTW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBnZXR0aW5nID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBzdG9yZS4kJC5leHByID0gZXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5Ed2F5bmVTdG9yZSA9IHN0b3JlO1xyXG5cclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYygpO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uRXZhbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9uRXZhbEVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsV2F0Y2hlcnMgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBnZXR0aW5nLmZvckVhY2goKHdhdGNoZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdGNoZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmVzdWx0ID0gZXZhbHVhdGUuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jlc3VsdCAhPT0gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZShuZXdSZXN1bHQsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB3YXRjaGVyQmxvY2sgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yREVsZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcnNcclxuICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXIub25SZW1vdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxXYXRjaGVycy5mb3JFYWNoKCh3YXRjaGVyQmxvY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcnNcclxuICAgICAgICAgICAgICAgICAgICAgIH0gPSB3YXRjaGVyQmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleDEgPSB3YXRjaGVyc1RvUmVtb3ZlLmluZGV4T2Yod2F0Y2hlckJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4MiA9IHdhdGNoZXJzLmluZGV4T2Yod2F0Y2hlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4MSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcnNUb1JlbW92ZS5zcGxpY2UoaW5kZXgxLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgyICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaGVycy5zcGxpY2UoaW5kZXgyLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGxvY2FsV2F0Y2hlcnMucHVzaCh3YXRjaGVyQmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlLnB1c2god2F0Y2hlckJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgd2F0Y2hlcnMucHVzaCh3YXRjaGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2YWxNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnZXR0aW5nID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBzdG9yZS4kJC5leHByID0gbnVsbDtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5Ed2F5bmVTdG9yZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGFyZ3MgPSBuZXcgU3VwZXIob3JpZ2luYWxBcmdzKS5tYXAoKHZhbHVlLCBhcmcpID0+IHtcclxuICAgICAgaWYgKG5hbWUgPT09ICdkLWVhY2gnICYmIChcclxuICAgICAgICBhcmcgPT09ICdpdGVtJ1xyXG4gICAgICAgIHx8IGFyZyA9PT0gJ2luZGV4J1xyXG4gICAgICAgIHx8IGFyZyA9PT0gJ3VpZCdcclxuICAgICAgKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZm9yREVsZW1lbnRzID0gbmFtZSA9PT0gJ2QtZWxlbWVudHMnICYmIGFyZyA9PT0gJ3ZhbHVlJztcclxuXHJcbiAgICAgIHJldHVybiBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZSh2YWx1ZSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hcmdzW2FyZ10gPSB2YWx1ZTtcclxuICAgICAgfSwgdGhpcywgZm9yREVsZW1lbnRzLCBmb3JERWxlbWVudHMgJiYgcGFyZW50QmxvY2suJCQubmFtZSA9PT0gJyNkLWl0ZW0nKTtcclxuICAgIH0pLiQ7XHJcblxyXG4gICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBuZXcgQXJyKFtdKTtcclxuICAgIHRoaXMuZ2xvYmFsID0gT2JqZWN0LmNyZWF0ZShcclxuICAgICAgcGFyZW50U2NvcGVcclxuICAgICAgICA/IE9iamVjdC5jcmVhdGUocGFyZW50U2NvcGUuZ2xvYmFsKVxyXG4gICAgICAgIDogbnVsbFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLiQkLmVsZW1zLnN0YXJ0LiRbMF0uRHdheW5lQmxvY2sgPSB0aGlzO1xyXG4gICAgdGhpcy4kJC5lbGVtcy5lbmQuJFswXS5Ed2F5bmVCbG9jayA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHBhcmVudEJsb2NrKSB7XHJcbiAgICAgIHBhcmVudEJsb2NrLiQkLmNoaWxkcmVuLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI2FmdGVyQ29uc3RydWN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJcyBjYWxsZWQgYWZ0ZXIgYmxvY2sgY29uc3RydWN0aW9uIChpbmNsdWRpbmcgYWxsIHNjb3BlcylcclxuICAgKiBidXQgYmVmb3JlIHJlbmRlcmluZyB0aGUgYmxvY2sgYW5kIGl0cyBjaGlsZHJlbi5cclxuICAgKi9cclxuICBhZnRlckNvbnN0cnVjdCgpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjYWZ0ZXJSZW5kZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIElzIGNhbGxlZCBhZnRlciBibG9jayBoYXMgYmVlbiByZW5kZXJlZC5cclxuICAgKi9cclxuICBhZnRlclJlbmRlcigpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjYWZ0ZXJSZW5kZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIElzIGNhbGxlZCBiZWZvcmUgdGhlIGJsb2NrIHJlbW92YWwuXHJcbiAgICovXHJcbiAgYmVmb3JlUmVtb3ZlKCkge31cclxuXHJcbiAgZXZhbHVhdGVBbmRXYXRjaChleHByZXNzaW9uLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMuJCQucGFyZW50LiQkLmV2YWx1YXRlKGV4cHJlc3Npb24sIGNhbGxiYWNrLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIGV2YWx1YXRlT25jZShleHByZXNzaW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kJC5wYXJlbnQuJCQuZXZhbHVhdGUoZXhwcmVzc2lvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI3JlbW92ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvdCBmb3JjaW5nIHRoZSBibG9jayB0byBiZSByZW1vdmVkLiBDYWxsc1xyXG4gICAqIHJlbW92ZSBtZXRob2QgZm9yIGFsbCBvZiBpdHMgY2hpbGQgYmxvY2tzIGFuZCBjYWxscyBiZWZvcmVSZW1vdmUgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgcmVtb3ZlKGlzUGFyZW50U2lnbmFsKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICBjaGlsZHJlbixcclxuICAgICAgbWl4aW5zLFxyXG4gICAgICBlbGVtczoge1xyXG4gICAgICAgIHN0YXJ0LFxyXG4gICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgZW5kXHJcbiAgICAgIH0sXHJcbiAgICAgIHdhdGNoZXJzVG9SZW1vdmVcclxuICAgIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIHJlbW92ZVdhdGNoZXJzKHdhdGNoZXJzVG9SZW1vdmUpO1xyXG5cclxuICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgIGNoaWxkLnJlbW92ZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1peGlucy5mb3JFYWNoKChtaXhpbikgPT4ge1xyXG4gICAgICBtaXhpbi5yZW1vdmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmJlZm9yZVJlbW92ZSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuY2F1Z2h0IGVycm9yIGluIGJlZm9yZVJlbW92ZTonLCBlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNQYXJlbnRTaWduYWwgJiYgcGFyZW50QmxvY2spIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnRCbG9jay4kJC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xyXG5cclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIHBhcmVudEJsb2NrLiQkLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZXcgRWxlbShbXHJcbiAgICAgIHN0YXJ0LFxyXG4gICAgICBjb250ZW50LFxyXG4gICAgICBlbmRcclxuICAgIF0pLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gW2FyZ3NdIC0gVmFycyB0byB3YXRjaCAoYXJncywgZ2xvYmFsIG9yIGxvY2FsKS5cclxuICAgKiBAcGFyYW0ge1dhdGNoZXJ9IHdhdGNoZXIgLSBDYWxsZWQgd2hlbiB3YXRjaGVkIHZhcnMgYXJlIGNoYW5nZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIHZhcnMuIElmIG5vIHZhcnMgcGFzc2VkIGluIGFyZ3VtZW50c1xyXG4gICAqIGFsbCB2YXJzIGFyZSB0byBiZSB3YXRjaGVkLiBPdGhlcndpc2Ugc3BlY2lmaWVkIHZhcnMgd2lsbCBiZSB3YXRjaGVkLlxyXG4gICAqIFdhdGNoZXJzIHNob3VsZCBub3QgYmUgcHV0IGluc2lkZSB0aGUgY29uc3RydWN0b3IuIEl0IGlzIGNvbnNpZGVyZWQgYmVzdFxyXG4gICAqIHByYWN0aWNlIHRvIGRvIGl0IGluc2lkZSB0aGUge0BsaW5rIEJsb2NrI2FmdGVyQ29uc3RydWN0fSBtZXRob2QuXHJcbiAgICogTm90ZSB0aGF0IHRoZXNlIGV4cHJlc3Npb25zICh2YXJzLCBpLmUuIFwiYXJncy5hcmdcIikgYXJlIG5vdCB0byBiZVxyXG4gICAqIGV2YWx1YXRlZCBzbyB5b3UgY2Fubm90IHB1dCB0aGVyZSB0aGluZ3MgbGlrZSBcImFbYl1cIiBvciBhbnkganMgY29kZSxcclxuICAgKiBvbmx5IGV4cHJlc3Npb25zIGxpa2UgXCJhXCIsIFwiYlwiLCBcImFyZ3MuYVwiLCBcImFyZ3MuYlwiIGFuZCBcImdsb2JhbC5hXCIsIFwiZ2xvYmFsLmJcIi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2xhc3MgTXlCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2IC8+JztcclxuICAgKlxyXG4gICAqICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICogICAgIHRoaXMud2F0Y2goJ2EnLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2goJ2FyZ3MuYScsICdnbG9iYWwucicsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaCgoKSA9PiB7fSk7XHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqL1xyXG4gIHdhdGNoKCkge1xyXG4gICAgY29uc3Qgd2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBmb3IgKGNvbnN0IGdsb2JhbCBpbiB0aGlzLiQkLmdsb2JhbCkge1xyXG4gICAgICAgIC8qIGVzbGludCBndWFyZC1mb3ItaW46IDAgKi9cclxuICAgICAgICB0aGlzLiQkLmdsb2JhbFtnbG9iYWxdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXRlcmF0ZSh0aGlzLiQkLmFyZ3MsICh7IHdhdGNoZXJzIH0pID0+IHtcclxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGl0ZXJhdGUodGhpcy4kJC5sb2NhbHMsICh7IHdhdGNoZXJzIH0pID0+IHtcclxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAodmFyaWFibGUpID0+IHtcclxuICAgICAgaWYgKHZhcmlhYmxlID09PSB3YXRjaGVyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXJpYWJsZSA9IGAkeyB2YXJpYWJsZSB9YDtcclxuXHJcbiAgICAgIGlmICgvXmFyZ3NcXC4vLnRlc3QodmFyaWFibGUpKSB7XHJcbiAgICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZS5yZXBsYWNlKC9eYXJnc1xcLi8sICcnKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLiQkLmFyZ3NbdmFyaWFibGVdKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiQkLmFyZ3NbdmFyaWFibGVdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoL15nbG9iYWxcXC4vLnRlc3QodmFyaWFibGUpKSB7XHJcbiAgICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZS5yZXBsYWNlKC9eZ2xvYmFsXFwuLywgJycpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuJCQuZ2xvYmFsW3ZhcmlhYmxlXSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kJC5nbG9iYWxbdmFyaWFibGVdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMuJCQubG9jYWxzW3ZhcmlhYmxlXSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kJC5sb2NhbHNbdmFyaWFibGVdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaEFyZ3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IFthcmdzXSAtIEFyZ3MgdG8gd2F0Y2guXHJcbiAgICogQHBhcmFtIHtXYXRjaGVyfSB3YXRjaGVyIC0gQ2FsbGVkIHdoZW4gd2F0Y2hlZCBhcmdzIGFyZSBjaGFuZ2VkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHdhdGNoaW5nIGZvciBhcmdzLiBJZiBubyBhcmdzIHBhc3NlZCBpbiBhcmd1bWVudHNcclxuICAgKiBhbGwgYXJncyBhcmUgdG8gYmUgd2F0Y2hlZC4gT3RoZXJ3aXNlIHNwZWNpZmllZCBhcmdzIHdpbGwgYmUgd2F0Y2hlZC5cclxuICAgKiBXYXRjaGVycyBzaG91bGQgbm90IGJlIHB1dCBpbnNpZGUgdGhlIGNvbnN0cnVjdG9yLiBJdCBpcyBjb25zaWRlcmVkIGJlc3RcclxuICAgKiBwcmFjdGljZSB0byBkbyBpdCBpbnNpZGUgdGhlIHtAbGluayBCbG9jayNhZnRlckNvbnN0cnVjdH0gbWV0aG9kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXYgLz4nO1xyXG4gICAqXHJcbiAgICogICBhZnRlckNvbnN0cnVjdCgpIHtcclxuICAgKiAgICAgdGhpcy53YXRjaEFyZ3MoJ2EnLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hBcmdzKCdhJywgJ2InLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hBcmdzKCgpID0+IHt9KTtcclxuICAgKiAgIH1cclxuICAgKiB9XHJcbiAgICovXHJcbiAgd2F0Y2hBcmdzKCkge1xyXG4gICAgY29uc3Qgd2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQkLmFyZ3MsICh7IHdhdGNoZXJzIH0pID0+IHtcclxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoYXJnKSA9PiB7XHJcbiAgICAgIGlmIChhcmcgPT09IHdhdGNoZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy4kJC5hcmdzW2FyZ10pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuJCQuYXJnc1thcmddLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaEdsb2JhbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gW2dsb2JhbHNdIC0gR2xvYmFscyB0byB3YXRjaC5cclxuICAgKiBAcGFyYW0ge1dhdGNoZXJ9IHdhdGNoZXIgLSBDYWxsZWQgd2hlbiB3YXRjaGVkIGdsb2JhbHMgYXJlIGNoYW5nZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIGdsb2JhbHMuIElmIG5vIGdsb2JhbHMgcGFzc2VkIGluIGFyZ3VtZW50c1xyXG4gICAqIGFsbCBnbG9iYWxzIGFyZSB0byBiZSB3YXRjaGVkLiBPdGhlcndpc2Ugc3BlY2lmaWVkIGdsb2JhbHMgd2lsbCBiZSB3YXRjaGVkLlxyXG4gICAqIFdhdGNoZXJzIHNob3VsZCBub3QgYmUgcHV0IGluc2lkZSB0aGUgY29uc3RydWN0b3IuIEl0IGlzIGNvbnNpZGVyZWQgYmVzdFxyXG4gICAqIHByYWN0aWNlIHRvIGRvIGl0IGluc2lkZSB0aGUge0BsaW5rIEJsb2NrI2FmdGVyQ29uc3RydWN0fSBtZXRob2QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNsYXNzIE15QmxvY2sgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICBzdGF0aWMgdGVtcGxhdGUgPSAnPGRpdiAvPic7XHJcbiAgICpcclxuICAgKiAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAqICAgICB0aGlzLndhdGNoR2xvYmFsKCdhJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoR2xvYmFsKCdhJywgJ2InLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hHbG9iYWwoKCkgPT4ge30pO1xyXG4gICAqICAgfVxyXG4gICAqIH1cclxuICAgKi9cclxuICB3YXRjaEdsb2JhbHMoKSB7XHJcbiAgICBjb25zdCB3YXRjaGVyID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24od2F0Y2hlcikpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGZvciAoY29uc3QgZ2xvYmFsIGluIHRoaXMuJCQuZ2xvYmFsKSB7XHJcbiAgICAgICAgLyogZXNsaW50IGd1YXJkLWZvci1pbjogMCAqL1xyXG4gICAgICAgIHRoaXMuJCQuZ2xvYmFsW2dsb2JhbF0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0ZShhcmd1bWVudHMsIChnbG9iYWwpID0+IHtcclxuICAgICAgaWYgKGdsb2JhbCA9PT0gd2F0Y2hlcikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLiQkLmdsb2JhbFtnbG9iYWxdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkLmdsb2JhbFtnbG9iYWxdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaExvY2Fsc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gW2xvY2Fsc10gLSBMb2NhbHMgdG8gd2F0Y2guXHJcbiAgICogQHBhcmFtIHtXYXRjaGVyfSB3YXRjaGVyIC0gQ2FsbGVkIHdoZW4gd2F0Y2hlZCBsb2NhbHMgYXJlIGNoYW5nZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIGxvY2Fscy4gSWYgbm8gbG9jYWxzIHBhc3NlZCBpbiBhcmd1bWVudHNcclxuICAgKiBhbGwgbG9jYWxzIGFyZSB0byBiZSB3YXRjaGVkLiBPdGhlcndpc2Ugc3BlY2lmaWVkIGxvY2FscyB3aWxsIGJlIHdhdGNoZWQuXHJcbiAgICogV2F0Y2hlcnMgc2hvdWxkIG5vdCBiZSBwdXQgaW5zaWRlIHRoZSBjb25zdHJ1Y3Rvci4gSXQgaXMgY29uc2lkZXJlZCBiZXN0XHJcbiAgICogcHJhY3RpY2UgdG8gZG8gaXQgaW5zaWRlIHRoZSB7QGxpbmsgQmxvY2sjYWZ0ZXJDb25zdHJ1Y3R9IG1ldGhvZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2xhc3MgTXlCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2IC8+JztcclxuICAgKlxyXG4gICAqICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICogICAgIHRoaXMud2F0Y2hMb2NhbHMoJ2EnLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hMb2NhbHMoJ2EnLCAnYicsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaExvY2FscygoKSA9PiB7fSk7XHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqL1xyXG4gIHdhdGNoTG9jYWxzKCkge1xyXG4gICAgY29uc3Qgd2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQkLmxvY2FscywgKHsgd2F0Y2hlcnMgfSkgPT4ge1xyXG4gICAgICAgIHdhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0ZShhcmd1bWVudHMsIChsb2NhbCkgPT4ge1xyXG4gICAgICBpZiAobG9jYWwgPT09IHdhdGNoZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy4kJC5sb2NhbHNbbG9jYWxdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkLmxvY2Fsc1tsb2NhbF0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5zKEJsb2NrcywgQmxvY2spO1xyXG5cclxuY2xhc3MgTWl4aW4ge1xyXG4gIHN0YXRpYyBldmFsdWF0ZSA9IHRydWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIGVsZW0sXHJcbiAgICAgIG1hdGNoLFxyXG4gICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgcGFyZW50U2NvcGVcclxuICAgIH0gPSBvcHRzO1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcclxuICAgICAgJCQ6IHtcclxuICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgX3ZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgIHBhcmVudDogcGFyZW50U2NvcGUsXHJcbiAgICAgICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmU6IG5ldyBBcnIoW10pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1hdGNoID0gbmV3IEFycihtYXRjaCkuc2xpY2UoMSkuJDtcclxuICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcblxyXG4gICAgaWYgKG5ldyBTdXBlcih0aGlzKS5wcm90bygpLiQuY29uc3RydWN0b3IuZXZhbHVhdGUpIHtcclxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZXZhbHVhdGVBbmRXYXRjaCgobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgdGhpcy5hZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I29uVXBkYXRlOmAsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuYWZ0ZXJVcGRhdGUodGhpcy52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhcmVudEJsb2NrKSB7XHJcbiAgICAgIHBhcmVudEJsb2NrLiQkLm1peGlucy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWZ0ZXJVcGRhdGUoKSB7fVxyXG5cclxuICBiZWZvcmVSZW1vdmUoKSB7fVxyXG5cclxuICBldmFsdWF0ZUFuZFdhdGNoKGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIF92YWx1ZSxcclxuICAgICAgcGFyZW50XHJcbiAgICB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICByZXR1cm4gcGFyZW50LiQkLmV2YWx1YXRlKF92YWx1ZSwgY2FsbGJhY2ssIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZXZhbHVhdGVPbmNlKCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBfdmFsdWUsXHJcbiAgICAgIHBhcmVudFxyXG4gICAgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgcmV0dXJuIHBhcmVudC4kJC5ldmFsdWF0ZShfdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBNaXhpbiNyZW1vdmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3QgZm9yY2luZyB0aGUgbWl4aW4gdG8gYmUgcmVtb3ZlZC5cclxuICAgKi9cclxuICByZW1vdmUoaXNQYXJlbnRTaWduYWwpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgIHdhdGNoZXJzVG9SZW1vdmVcclxuICAgIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIHJlbW92ZVdhdGNoZXJzKHdhdGNoZXJzVG9SZW1vdmUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuYmVmb3JlUmVtb3ZlKCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgZXJyb3IgaW4gYmVmb3JlUmVtb3ZlOicsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1BhcmVudFNpZ25hbCAmJiBwYXJlbnRCbG9jaykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHBhcmVudEJsb2NrLiQkLm1peGlucy5pbmRleE9mKHRoaXMpO1xyXG5cclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIHBhcmVudEJsb2NrLiQkLm1peGlucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5zKE1peGlucywgTWl4aW4pO1xyXG5cclxuZnVuY3Rpb24gaW5pdEFwcCgpIHtcclxuICBjb25zdCByb290ID0gZmluZCgnZC1yb290JykuZmlyc3QoKTtcclxuXHJcbiAgaWYgKCFyb290Lmxlbmd0aCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBkLXJvb3QgZWxlbWVudCBpcyBmb3VuZCEgKGluaXRBcHApJyk7XHJcbiAgfVxyXG5cclxuICByZWdpc3RlckJsb2NrcyhCbG9jaywgYmxvY2tzKTtcclxuXHJcbiAgaXRlcmF0ZShNaXhpbiwgKE1peGluLCBuYW1lKSA9PiB7XHJcbiAgICBpZiAobmFtZSA9PT0gJ2V2YWx1YXRlJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKE1peGluKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFRoZSBcIiR7IG5hbWUgfVwiIG1peGluIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghYXR0ck5hbWUudGVzdChuYW1lKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYE5hbWUgXCIkeyBuYW1lIH1cIiBpcyBub3QgYWxsb3dlZCBmb3IgbWl4aW5zIHNvIHRoZSBtaXhpbiB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNJbnN0YW5jZU9mTWl4aW4oTWl4aW4pKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgbWl4aW4gZG9lcyBub3QgZXh0ZW5kIE1peGluIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIG1peGluc1tuYW1lXSA9IE1peGluO1xyXG5cclxuICAgIGRlZmluZVByb3BlcnRpZXMoTWl4aW4sIHtcclxuICAgICAgX21hdGNoOiBuZXcgUmVnRXhwKGBeJHsgbmFtZSB9KD86LShbXFxcXHNcXFxcU10rKSk/JGApXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgYmxvY2sgPSByb290LmF0dHIoJ2Jsb2NrJyk7XHJcblxyXG4gIGlmICghYmxvY2tzW2Jsb2NrXSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyBcIiR7IGJsb2NrIH1cIiBibG9jayBpcyByZWdpc3RlcmVkISAoaW5pdEFwcClgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlcGxhY2VtZW50ID0gZG9jLmNyZWF0ZUNvbW1lbnQoJyBkLXJvb3Q6IHN0YXJ0ICcpO1xyXG4gIGNvbnN0IHBhcmVudCA9IHJvb3QucGFyZW50KCk7XHJcblxyXG4gIHJlcGxhY2VtZW50LmFkZChkb2MuY3JlYXRlQ29tbWVudCgnIGQtcm9vdDogZW5kICcpKTtcclxuXHJcbiAgcm9vdC5yZXBsYWNlKHJlcGxhY2VtZW50KTtcclxuXHJcbiAgY3JlYXRlQmxvY2soe1xyXG4gICAgbm9kZToge1xyXG4gICAgICBuYW1lOiBibG9jayxcclxuICAgICAgYXR0cnM6IHt9LFxyXG4gICAgICBjaGlsZHJlbjogbmV3IEFycihbXSlcclxuICAgIH0sXHJcbiAgICBhZnRlcjogcmVwbGFjZW1lbnQuZmlyc3QoKSxcclxuICAgIHBhcmVudFxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckJsb2NrcyhCbG9jaywgYmxvY2tzKSB7XHJcbiAgaXRlcmF0ZShCbG9jaywgKEJsb2NrLCBuYW1lKSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIG5hbWUgPT09ICdjb2xsYXBzZVdoaXRlU3BhY2UnXHJcbiAgICAgIHx8IG5hbWUgPT09ICdkZWZhdWx0QXJncydcclxuICAgICAgfHwgbmFtZSA9PT0gJ3RlbXBsYXRlJ1xyXG4gICAgICB8fCBuYW1lID09PSAnd3JhcCdcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKEJsb2NrKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFRoZSBcIiR7IG5hbWUgfVwiIGJsb2NrIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGFnTmFtZS50ZXN0KG5hbWUpICYmIG5hbWUgIT09ICcjZC1pdGVtJykge1xyXG4gICAgICBjb25zb2xlLndhcm4oYE5hbWUgXCIkeyBuYW1lIH1cIiBpcyBub3QgYWxsb3dlZCBmb3IgYmxvY2tzIHNvIHRoZSBibG9jayB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNJbnN0YW5jZU9mQmxvY2soQmxvY2spKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgYmxvY2sgZG9lcyBub3QgZXh0ZW5kIEJsb2NrIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShibG9ja3MpO1xyXG5cclxuICAgIGJsb2Nrc1tuYW1lXSA9IHtcclxuICAgICAgYmxvY2s6IEJsb2NrLFxyXG4gICAgICBodG1sOiBkZWVwQ2xvbmVDaGlsZHJlbihcclxuICAgICAgICBtYXJrdXBUb0pTT04oXHJcbiAgICAgICAgICBgJHsgQmxvY2sudGVtcGxhdGUgfHwgJycgfWAsXHJcbiAgICAgICAgICBCbG9jay5jb2xsYXBzZVdoaXRlU3BhY2VcclxuICAgICAgICApXHJcbiAgICAgICksXHJcbiAgICAgIGNoaWxkcmVuXHJcbiAgICB9O1xyXG5cclxuICAgIHJlZ2lzdGVyQmxvY2tzKEJsb2NrLCBjaGlsZHJlbik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQnVpbHRJbnMoc2V0LCBwcm90bykge1xyXG4gIGl0ZXJhdGUoc2V0LCAocmVnaXN0ZXIpID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgdmFsdWVcclxuICAgIH0gPSByZWdpc3Rlcihwcm90bywgY3JlYXRlQmxvY2spO1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHsgbm9kZSwgYWZ0ZXIsIHBhcmVudCwgcGFyZW50QmxvY2ssIHBhcmVudFNjb3BlIH0pIHtcclxuICBwYXJlbnRTY29wZSA9IChub2RlICYmIG5vZGUuYmxvY2spIHx8IHBhcmVudFNjb3BlO1xyXG5cclxuICBjb25zdCBuYW1lID0gKG5vZGUgJiYgbm9kZS5uYW1lKSB8fCAnVW5rbm93bkJsb2NrJztcclxuICBjb25zdCBhcmdzID0gKG5vZGUgJiYgbm9kZS5hdHRycykgfHwge307XHJcbiAgY29uc3QgY2hpbGRyZW4gPSAobm9kZSAmJiBub2RlLmNoaWxkcmVuKSB8fCBuZXcgQXJyKFtdKTtcclxuICBjb25zdCBlbGVtID0gcGFyZW50LnByb3AoJ25hbWVzcGFjZVVSSScpID09PSBzdmdOU1xyXG4gICAgPyBkb2Muc3ZnKClcclxuICAgIDogbmV3IEVsZW0oZG9jLnRlbXBsYXRlKCkuJFswXS5jb250ZW50KTtcclxuICBjb25zdCBsb2NhbEJsb2NrcyA9IHBhcmVudFNjb3BlID8gcGFyZW50U2NvcGUuJCQuQmxvY2suY2hpbGRyZW4gOiBibG9ja3M7XHJcbiAgbGV0IGNvbnN0cnVjdG9yID0gbm9kZSAmJiBub2RlLm5hbWUgJiYgbG9jYWxCbG9ja3Nbbm9kZS5uYW1lXSA/IGxvY2FsQmxvY2tzW25vZGUubmFtZV0uYmxvY2sgOiBudWxsO1xyXG4gIGxldCBkQmxvY2tNYXRjaDtcclxuXHJcbiAgaWYgKCFjaGlsZHJlbi5sZW5ndGggJiYgKGRCbG9ja01hdGNoID0gbmFtZS5tYXRjaCgvXmQtYmxvY2stKFtcXHNcXFNdKykkLykgfHwgbmFtZSA9PT0gJ2QtYmxvY2snKSkge1xyXG4gICAgY29uc3RydWN0b3IgPSBibG9ja3NbJ2QtYmxvY2snXS5ibG9jaztcclxuXHJcbiAgICBhcmdzLm5hbWUgPSBkQmxvY2tNYXRjaCA/IGRCbG9ja01hdGNoWzFdIDogbnVsbDtcclxuICB9XHJcblxyXG4gIGlmICghY29uc3RydWN0b3IpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIGNoaWxkcmVuXHJcbiAgICB9ID0gbm9kZTtcclxuXHJcbiAgICBpZiAobmFtZSA9PT0gJyN0ZXh0JyAmJiBleHByZXNzaW9uUmVnRXhwLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgIHJldHVybiBjcmVhdGVCbG9jayh7XHJcbiAgICAgICAgbm9kZToge1xyXG4gICAgICAgICAgbmFtZTogJ2QtdGV4dCcsXHJcbiAgICAgICAgICBhdHRyczogeyB2YWx1ZSB9LFxyXG4gICAgICAgICAgY2hpbGRyZW46IG5ldyBBcnIoW10pLFxyXG4gICAgICAgICAgYmxvY2s6IHBhcmVudFNjb3BlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlcixcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgcGFyZW50U2NvcGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW0uY3JlYXRlKG5hbWUpO1xyXG4gICAgY29uc3QgY3VycmVudE1peGlucyA9IG5ldyBBcnIoW10pO1xyXG5cclxuICAgIGNvbnN0IGF0dHJzID0gbmV3IFN1cGVyKGFyZ3MpLm9iamVjdCgob2JqZWN0LCB2YWx1ZSwgYXR0cikgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaCA9IGl0ZXJhdGUobWl4aW5zLCAoTWl4aW4sIG5hbWUpID0+IHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IGF0dHIubWF0Y2goTWl4aW4uX21hdGNoKTtcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYXRjaCxcclxuICAgICAgICAgICAgbmFtZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgY3VycmVudE1peGlucy5wdXNoKHtcclxuICAgICAgICAgIG5hbWU6IG1hdGNoLm5hbWUsXHJcbiAgICAgICAgICBtYXRjaDogbWF0Y2gubWF0Y2gsXHJcbiAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgIGVsZW06IGVsZW1lbnQsXHJcbiAgICAgICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgICAgIHBhcmVudFNjb3BlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgb2JqZWN0W2F0dHJdID0gcGFyZW50U2NvcGUuJCQuZXZhbHVhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuYXR0cihhdHRyLCB2YWx1ZSk7XHJcbiAgICAgIH0sIHBhcmVudEJsb2NrKTtcclxuICAgIH0pLiQ7XHJcblxyXG4gICAgaWYgKCFpc05pbCh2YWx1ZSkpIHtcclxuICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXR0cnMpIHtcclxuICAgICAgZWxlbWVudC5hdHRyKGF0dHJzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWZ0ZXIubGVuZ3RoKSB7XHJcbiAgICAgIGVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYWZ0ZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWxlbWVudC5pbnRvKHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXIgPSBuZXcgRWxlbSgpO1xyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICB0cmFuc2Zvcm1ESWZDaGlsZHJlbihjaGlsZHJlbikuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgICBjb25zdCBibG9jayA9IGNyZWF0ZUJsb2NrKHtcclxuICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgICBwYXJlbnQ6IGVsZW1lbnQsXHJcbiAgICAgICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgICAgIHBhcmVudFNjb3BlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XHJcbiAgICAgICAgICBhZnRlciA9IGJsb2NrLiQkLmVsZW1zLmVuZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWZ0ZXIgPSBibG9jaztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnRNaXhpbnMuZm9yRWFjaCgob3B0cykgPT4ge1xyXG4gICAgICBjcmVhdGVNaXhpbihvcHRzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYmxvY2sgPSBub2RlICYmIG5vZGUubmFtZSA/IGxvY2FsQmxvY2tzW25vZGUubmFtZV0gOiBudWxsO1xyXG4gIGNvbnN0IGJsb2NrSW5zdGFuY2UgPSBuZXcgY29uc3RydWN0b3Ioe1xyXG4gICAgbmFtZSxcclxuICAgIGFyZ3MsXHJcbiAgICBjaGlsZHJlbixcclxuICAgIGJsb2NrLFxyXG4gICAgcGFyZW50LFxyXG4gICAgcGFyZW50QmxvY2ssXHJcbiAgICBwYXJlbnRTY29wZVxyXG4gIH0pO1xyXG5cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhibG9ja0luc3RhbmNlLCB7XHJcbiAgICBhcmdzOiB7XHJcbiAgICAgIHZhbHVlOiBibG9ja0luc3RhbmNlLmFyZ3NcclxuICAgIH0sXHJcbiAgICBnbG9iYWw6IHtcclxuICAgICAgdmFsdWU6IGJsb2NrSW5zdGFuY2UuZ2xvYmFsXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGxldCBodG1sID0gbmFtZSA9PT0gJ2QtZWxlbWVudHMnXHJcbiAgICA/IG5ldyBBcnIoYmxvY2tJbnN0YW5jZS5hcmdzLnZhbHVlIHx8IFtdKVxyXG4gICAgOiBkZWVwQ2xvbmVDaGlsZHJlbihibG9jay5odG1sLCBibG9ja0luc3RhbmNlKTtcclxuXHJcbiAgaWYgKG5hbWUgPT09ICdkLWVsZW1lbnRzJyAmJiBwYXJlbnRCbG9jay4kJC5uYW1lID09PSAnI2QtaXRlbScpIHtcclxuICAgIGh0bWwgPSBkZWVwQ2xvbmVDaGlsZHJlbihodG1sLCBwYXJlbnRCbG9jayk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7XHJcbiAgICAkJCxcclxuICAgIGFyZ3M6IEFyZ3MsXHJcbiAgICBnbG9iYWwsXHJcbiAgICAuLi5sb2NhbHNcclxuICB9ID0gYmxvY2tJbnN0YW5jZTtcclxuICBjb25zdCBldmVudHVhbEFyZ3MgPSB7XHJcbiAgICAuLi5jb25zdHJ1Y3Rvci5kZWZhdWx0QXJncyxcclxuICAgIC4uLkFyZ3NcclxuICB9O1xyXG5cclxuICBkZWxldGUgbG9jYWxzLiQ7XHJcbiAgZGVsZXRlIGxvY2Fscy4kJDtcclxuXHJcbiAgJCQuYXJncyA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShldmVudHVhbEFyZ3MpO1xyXG4gICQkLmxvY2FscyA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShsb2NhbHMpO1xyXG4gICQkLmdsb2JhbCA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShnbG9iYWwsICdnbG9iYWwnLCBwYXJlbnRTY29wZSk7XHJcblxyXG4gIGlmIChuYW1lID09PSAnI2QtaXRlbScpIHtcclxuICAgIGNvbnN0IHNjb3BlVmFsdWVzID0ge1xyXG4gICAgICBbbm9kZS5pdGVtTmFtZV06IG5vZGUuaXRlbSxcclxuICAgICAgW25vZGUuaW5kZXhOYW1lXTogbm9kZS5pbmRleFxyXG4gICAgfTtcclxuICAgIGxldCBwYXJlbnQgPSBibG9ja0luc3RhbmNlO1xyXG4gICAgbGV0IHNjb3BlID0gcGFyZW50U2NvcGU7XHJcbiAgICBsZXQgREl0ZW1Gb3VuZDtcclxuXHJcbiAgICB3aGlsZSAoIURJdGVtRm91bmQgJiYgKHBhcmVudCA9IHBhcmVudC4kJC5wYXJlbnRCbG9jaykpIHtcclxuICAgICAgREl0ZW1Gb3VuZCA9IHBhcmVudC4kJC5uYW1lID09PSAnI2QtaXRlbSc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKERJdGVtRm91bmQpIHtcclxuICAgICAgc2NvcGUgPSBwYXJlbnQuJCQuc2NvcGU7XHJcbiAgICB9XHJcblxyXG4gICAgJCQuQmxvY2sgPSBwYXJlbnRTY29wZS4kJC5CbG9jaztcclxuICAgICQkLnByaXZhdGVTY29wZSA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShzY29wZVZhbHVlcyk7XHJcbiAgICBjb25zdHJ1Y3RQdWJsaWNTY29wZSgkJC5zY29wZSA9IE9iamVjdC5jcmVhdGUoc2NvcGUpLCBzY29wZVZhbHVlcywgJCQucHJpdmF0ZVNjb3BlKTtcclxuICB9XHJcblxyXG4gIGlmIChuYW1lID09PSAnZC1lYWNoJykge1xyXG4gICAgJCQuc2NvcGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudFNjb3BlKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdFB1YmxpY1Njb3BlKEFyZ3MsIGV2ZW50dWFsQXJncywgJCQuYXJncyk7XHJcbiAgY29uc3RydWN0UHVibGljU2NvcGUoZ2xvYmFsLCBnbG9iYWwsICQkLmdsb2JhbCk7XHJcbiAgY29uc3RydWN0UHVibGljU2NvcGUoYmxvY2tJbnN0YW5jZSwgbG9jYWxzLCAkJC5sb2NhbHMpO1xyXG5cclxuICB0cnkge1xyXG4gICAgYmxvY2tJbnN0YW5jZS5hZnRlckNvbnN0cnVjdCgpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I2FmdGVyQ29uc3RydWN0OmAsIGVycik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBlbGVtcyA9IG5ldyBFbGVtKFtcclxuICAgICQkLmVsZW1zLnN0YXJ0LFxyXG4gICAgJCQuZWxlbXMuZW5kXHJcbiAgXSk7XHJcblxyXG4gIGlmIChhZnRlci5sZW5ndGgpIHtcclxuICAgIGVsZW1zLmluc2VydEFmdGVyKGFmdGVyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZWxlbXMuaW50byhwYXJlbnQpO1xyXG4gIH1cclxuXHJcbiAgYWZ0ZXIgPSAkJC5lbGVtcy5zdGFydDtcclxuXHJcbiAgLy8gY29uc29sZS5sb2coYmxvY2tJbnN0YW5jZSk7XHJcblxyXG4gIHRyYW5zZm9ybURJZkNoaWxkcmVuKGh0bWwpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICBjb25zdCBibG9jayA9IGNyZWF0ZUJsb2NrKHtcclxuICAgICAgbm9kZTogY2hpbGQsXHJcbiAgICAgIGFmdGVyLFxyXG4gICAgICBwYXJlbnQsXHJcbiAgICAgIHBhcmVudEJsb2NrOiBibG9ja0luc3RhbmNlLFxyXG4gICAgICBwYXJlbnRTY29wZVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQmxvY2spIHtcclxuICAgICAgY29uc3QgeyBlbGVtcyB9ID0gYmxvY2suJCQ7XHJcblxyXG4gICAgICBhZnRlciA9IGVsZW1zLmVuZDtcclxuXHJcbiAgICAgICQkLmVsZW1zLmNvbnRlbnQuYWRkKGVsZW1zLnN0YXJ0LCBlbGVtcy5jb250ZW50LCBlbGVtcy5lbmQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWZ0ZXIgPSBibG9jaztcclxuXHJcbiAgICAgICQkLmVsZW1zLmNvbnRlbnQuYWRkKGJsb2NrKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGJsb2NrSW5zdGFuY2UuYWZ0ZXJSZW5kZXIoKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNhZnRlclJlbmRlcjpgLCBlcnIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGJsb2NrSW5zdGFuY2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU1peGluKHsgbmFtZSwgdmFsdWUsIG1hdGNoLCBlbGVtLCBwYXJlbnRCbG9jaywgcGFyZW50U2NvcGUgfSkge1xyXG4gIGNvbnN0IE1peGluID0gbWl4aW5zW25hbWVdO1xyXG5cclxuICBuZXcgTWl4aW4oe1xyXG4gICAgdmFsdWUsXHJcbiAgICBtYXRjaCxcclxuICAgIGVsZW0sXHJcbiAgICBwYXJlbnRCbG9jayxcclxuICAgIHBhcmVudFNjb3BlXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZXBDbG9uZUNoaWxkcmVuKGNoaWxkcmVuLCBibG9jaykge1xyXG4gIHJldHVybiBuZXcgQXJyKGNoaWxkcmVuIHx8IFtdKS5tYXAoKGNoaWxkKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGF0dHJzLFxyXG4gICAgICB2YWx1ZSxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH0gPSBjaGlsZDtcclxuICAgIGNvbnN0IG5ld0NoaWxkID0ge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICB2YWx1ZSxcclxuICAgICAgYXR0cnM6IHsgLi4uYXR0cnMgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoYmxvY2spIHtcclxuICAgICAgbmV3Q2hpbGQuYmxvY2sgPSBibG9jaztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgbmV3Q2hpbGQuY2hpbGRyZW4gPSBkZWVwQ2xvbmVDaGlsZHJlbihjaGlsZHJlbiwgYmxvY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdDaGlsZDtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtRElmQ2hpbGRyZW4oY2hpbGRyZW4pIHtcclxuICByZXR1cm4gbmV3IEFycihjaGlsZHJlbiB8fCBbXSlcclxuICAgIC5jb25jYXQoe30pXHJcbiAgICAub2JqZWN0KChvYmplY3QsIGNoaWxkKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbmFtZSB9ID0gY2hpbGQ7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBodG1sLFxyXG4gICAgICAgIGlmRWxzZVxyXG4gICAgICB9ID0gb2JqZWN0O1xyXG5cclxuICAgICAgaWYgKG5hbWUgIT09ICdkLWVsc2UtaWYnICYmIG5hbWUgIT09ICdkLWVsc2UnKSB7XHJcbiAgICAgICAgaWYgKGlmRWxzZSkge1xyXG4gICAgICAgICAgaHRtbC5wdXNoKHtcclxuICAgICAgICAgICAgbmFtZTogJ2QtaWYnLFxyXG4gICAgICAgICAgICBibG9jazogaWZFbHNlLiRbMF0uYmxvY2ssXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBpZkVsc2VcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG9iamVjdC5pZkVsc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWlmJykge1xyXG4gICAgICAgICAgb2JqZWN0LmlmRWxzZSA9IG5ldyBBcnIoW2NoaWxkXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICghaXNVbmRlZmluZWQobmFtZSkpIHtcclxuICAgICAgICAgIGh0bWwucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIChpZkVsc2UgfHwgaHRtbCkucHVzaChjaGlsZCk7XHJcblxyXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1lbHNlJyAmJiBpZkVsc2UpIHtcclxuICAgICAgICAgIGh0bWwucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdkLWlmJyxcclxuICAgICAgICAgICAgYmxvY2s6IGlmRWxzZS4kWzBdLmJsb2NrLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogaWZFbHNlXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBvYmplY3QuaWZFbHNlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgaHRtbDogbmV3IEFycihbXSksXHJcbiAgICAgIGlmRWxzZTogbnVsbFxyXG4gICAgfSkuJC5odG1sO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0luc3RhbmNlT2ZCbG9jayhibG9jaykge1xyXG4gIHJldHVybiBpc1Byb3RvdHlwZU9mLmNhbGwoQmxvY2ssIGJsb2NrKSAmJiBpc1Byb3RvdHlwZU9mLmNhbGwoQmxvY2sucHJvdG90eXBlLCBibG9jay5wcm90b3R5cGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0luc3RhbmNlT2ZNaXhpbihtaXhpbikge1xyXG4gIHJldHVybiBpc1Byb3RvdHlwZU9mLmNhbGwoTWl4aW4sIG1peGluKSAmJiBpc1Byb3RvdHlwZU9mLmNhbGwoTWl4aW4ucHJvdG90eXBlLCBtaXhpbi5wcm90b3R5cGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVXYXRjaGVycyh3YXRjaGVyc1RvUmVtb3ZlKSB7XHJcbiAgd2F0Y2hlcnNUb1JlbW92ZS5mb3JFYWNoKCh7IHdhdGNoZXIsIHdhdGNoZXJzIH0pID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gd2F0Y2hlcnMuaW5kZXhPZih3YXRjaGVyKTtcclxuXHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIHdhdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdFByaXZhdGVTY29wZShvYmplY3QsIHR5cGUsIHBhcmVudFNjb3BlKSB7XHJcbiAgbGV0IHNjb3BlID0ge307XHJcblxyXG4gIGlmICh0eXBlID09PSAnZ2xvYmFsJykge1xyXG4gICAgc2NvcGUgPSBPYmplY3QuY3JlYXRlKFxyXG4gICAgICBwYXJlbnRTY29wZVxyXG4gICAgICAgID8gcGFyZW50U2NvcGUuJCQuZ2xvYmFsXHJcbiAgICAgICAgOiBudWxsXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBTdXBlcihvYmplY3QpLm9iamVjdCgoc2NvcGUsIHZhbHVlLCBrZXkpID0+IHtcclxuICAgIHNjb3BlW2tleV0gPSB7XHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICB3YXRjaGVyczoge1xyXG4gICAgICAgIHRlbXA6IG5ldyBBcnIoW10pLFxyXG4gICAgICAgIHBlcm06IG5ldyBBcnIoW10pXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgc2NvcGUpLiQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdFB1YmxpY1Njb3BlKHNjb3BlLCBzY29wZVZhbHVlcywgcHJpdmF0ZVNjb3BlKSB7XHJcbiAgbmV3IFN1cGVyKHNjb3BlKS5kZWZpbmUobmV3IFN1cGVyKHNjb3BlVmFsdWVzKS5tYXAoKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGNvbnN0IHNjb3BlID0gcHJpdmF0ZVNjb3BlW2tleV07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2V0KCkge1xyXG4gICAgICAgIGlmIChldmFsTW9kZSkge1xyXG4gICAgICAgICAgaWYgKGdldHRpbmcuaW5kZXhPZihzY29wZS53YXRjaGVycy50ZW1wKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgZ2V0dGluZy5wdXNoKHNjb3BlLndhdGNoZXJzLnRlbXApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNjb3BlLnZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHNjb3BlLnZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoYW5nZWQpIHtcclxuICAgICAgICAgIGNoYW5nZWQgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9sZFRlbXBXYXRjaGVycyA9IHNjb3BlLndhdGNoZXJzLnRlbXAuc2xpY2UoKTtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHNjb3BlLnZhbHVlO1xyXG5cclxuICAgICAgICBzY29wZS53YXRjaGVycy50ZW1wID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgc2NvcGUudmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgb2xkVGVtcFdhdGNoZXJzLmZvckVhY2goKHdhdGNoZXIpID0+IHtcclxuICAgICAgICAgIHdhdGNoZXIub25SZW1vdmUoKTtcclxuICAgICAgICAgIHdhdGNoZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjaGFuZ2VkLnB1c2goe1xyXG4gICAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgICBvbGRWYWx1ZSxcclxuICAgICAgICAgIHZhbHVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFjaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCB3YXMgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICAgICAgICB3aGlsZSAoY2hhbmdlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNoYW5nZWQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICBzY29wZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWVcclxuICAgICAgICAgICAgICB9ID0gY2hhbmdlZFtpXTtcclxuXHJcbiAgICAgICAgICAgICAgc2NvcGUud2F0Y2hlcnMucGVybS5mb3JFYWNoKCh3YXRjaGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2FzLmluZGV4T2Yod2F0Y2hlcikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXIodmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgd2FzLnB1c2god2F0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGNoYW5nZWQuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY2hhbmdlZCA9IG51bGw7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSkuJCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IEJsb2NrLCBNaXhpbiwgaW5pdEFwcCB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvZm9ybWF0c1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgdHlwZXMgb2YgZm9ybWF0dGluZyBmb3Ige0BsaW5rIERhdGUjZm9ybWF0fS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4uL1N1cGVyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuXHJcbmNvbnN0IHplcm8gPSBuZXcgU3RyKCcwJyk7XHJcbmNvbnN0IGRheXNPZlRoZVdlZWtOYW1lcyA9IFtcclxuICAnU3VuZGF5JyxcclxuICAnTW9uZGF5JyxcclxuICAnVHVlc2RheScsXHJcbiAgJ1dlZG5lc2RheScsXHJcbiAgJ1RodXJzZGF5JyxcclxuICAnRnJpZGF5JyxcclxuICAnU2F0dXJkYXknXHJcbl07XHJcbmNvbnN0IGRheXNPZlRoZVdlZWtBbGlhc2VzID0gbmV3IFN1cGVyKGRheXNPZlRoZVdlZWtOYW1lcykubWFwKCh2YWx1ZSkgPT4gdmFsdWUuc2xpY2UoMCwgMykpLiQ7XHJcbmNvbnN0IG1vbnRoc05hbWVzID0gW1xyXG4gICdKYW51YXJ5JyxcclxuICAnRmVicnVhcnknLFxyXG4gICdNYXJjaCcsXHJcbiAgJ0FwcmlsJyxcclxuICAnTWF5JyxcclxuICAnSnVuZScsXHJcbiAgJ0p1bGUnLFxyXG4gICdBdWd1c3QnLFxyXG4gICdTZXB0ZW1iZXInLFxyXG4gICdPY3RvYmVyJyxcclxuICAnTm92ZW1iZXInLFxyXG4gICdEZWNlbWJlcidcclxuXTtcclxuY29uc3QgbW9udGhzQWxpYXNlcyA9IG5ldyBTdXBlcihtb250aHNOYW1lcykubWFwKCh2YWx1ZSkgPT4gdmFsdWUuc2xpY2UoMCwgMykpLiQ7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIG1vZHVsZTpjb25zdGFudHMvZm9ybWF0c35tYXRjaENhbGxiYWNrXHJcbiAqIEBwYXJhbSB7RGF0fSBkYXRlIC0gRC13cmFwIG9mIGEgZGF0ZSB0byBhcHBseSBmb3JtYXQgdG8uXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBNYXRjaGVkIGFwcGxpZWQgZXhwcmVzc2lvbi5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gbW9kdWxlOmNvbnN0YW50cy9mb3JtYXRzfmZvcm1hdEV4cHJcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGZvcm1hdCAtIE1hdGNoZWQgZm9ybWF0LlxyXG4gKiBAcHJvcGVydHkge21vZHVsZTpjb25zdGFudHMvZm9ybWF0c35tYXRjaENhbGxiYWNrfSBtYXRjaCAtIENhbGxiYWNrIGlmIHRoZXJlIHdhcyBhIG1hdGNoLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bW9kdWxlOmNvbnN0YW50cy9mb3JtYXRzfmZvcm1hdEV4cHJbXX1cclxuICogQGRlc2NyaXB0aW9uIEFycmF5IG9mIGRpZmZlcmVudCBmb3JtYXRzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgW1xyXG4gIHtcclxuICAgIGZvcm1hdDogJ2NjYycsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdjJyksIDMpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdjJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ2MnKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnc3MnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgncycpLCAyKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAncycsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdzJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ21tJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ20nKSwgMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ20nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgnbScpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdoaCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdoJyksIDIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdoJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ2gnKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnZGRkZCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF5c09mVGhlV2Vla05hbWVzW2RhdGVbdXRjXSgnZHcnKV1cclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2RkZCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF5c09mVGhlV2Vla0FsaWFzZXNbZGF0ZVt1dGNdKCdkdycpXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnZGQnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgnZCcpLCAyKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnZCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdkJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ01NTU0nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IG1vbnRoc05hbWVzW2RhdGVbdXRjXSgnTScpIC0gMV1cclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ01NTScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gbW9udGhzQWxpYXNlc1tkYXRlW3V0Y10oJ00nKSAtIDFdXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdNTScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdNJyksIDIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdNJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ00nKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAneXl5eScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCd5JyksIDQpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICd5eScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gU3RyaW5nKGRhdGVbdXRjXSgneScpKS5zbGljZSgtMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ3knLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgneScpXHJcbiAgfVxyXG5dO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByb3VuZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIHRvIHJvdW5kLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gZGlnaXRzIC0gTnVtYmVyIG9mIHRoZSBkaWdpdHMgb2YgdGhlIG91dHB1dC5cclxuICogQHJldHVybnMge1N0cmluZ30gU3RyaW5nIHdpdGggbmVjZXNzYXJ5IGFkZGl0aW9uYWwgc3RhcnRpbmcgemVyb2VzLlxyXG4gKi9cclxuZnVuY3Rpb24gcm91bmQobnVtYmVyLCBkaWdpdHMpIHtcclxuICBjb25zdCBzdHJpbmcgPSBTdHJpbmcobnVtYmVyKTtcclxuICBsZXQgemVyb2VzID0gZGlnaXRzIC0gc3RyaW5nLmxlbmd0aDtcclxuXHJcbiAgemVyb2VzID0gemVyb2VzIDwgMCA/IDAgOiB6ZXJvZXM7XHJcblxyXG4gIHJldHVybiB6ZXJvLnJlcGVhdCh6ZXJvZXMpLiQgKyBzdHJpbmc7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgRGF0XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBEYXQgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgTnVtIH0gZnJvbSAnLi9OdW0nO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IGZvcm1hdHMgZnJvbSAnLi9jb25zdGFudHMvZm9ybWF0cyc7XHJcbmltcG9ydCB7IGlzRGF0ZSwgaXRlcmF0ZSwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7Kn0gRGF0ZUxpa2VcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2MnfCdzJ3wnbSd8J2gnfCdkJ3wndyd8J00nfCd5J30gQWRkUGVyaW9kXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeydjJ3wncyd8J20nfCdoJ3wnZCd8J2R3J3wnTSd8J3knfSBHZXRQZXJpb2RcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2MnfCdzJ3wnbSd8J2gnfCdkJ3wnTSd8J3knfSBPZk9uZVBlcmlvZFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYyd8J3MnfCdtJ3wnaCd8J2QnfCdNJ3wneSd9IFNldFBlcmlvZFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnY2NjJ3wnYyd8J3NzJ3wncyd8J21tJ3wnbSd8J2hoJ3wnaCd8J2RkZGQnfCdkZGQnfCdkZCd8J2QnfCdNTU1NJ3wnTU1NJ3wnTU0nfCdNJ3wneXl5eSd8J3l5J3wneSd9IEZvcm1hdFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuY29uc3QgY29lZmZzID0ge1xyXG4gIGM6IDEsXHJcbiAgczogMTAwMCxcclxuICBtOiA2MDAwMCxcclxuICBoOiAzNjAwMDAwLFxyXG4gIGQ6IDg2NDAwMDAwLFxyXG4gIHc6IDYwNDgwMDAwMCxcclxuICBNOiAyNTkyMDAwMDAwLFxyXG4gIHk6IDMxNTM2MDAwMDAwXHJcbn07XHJcblxyXG5jb25zdCBnZXRTd2l0Y2hlciA9IHN3aXRjaGVyKHtcclxuICBjOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbGxpc2Vjb25kc2BdKCksXHJcbiAgczogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1TZWNvbmRzYF0oKSxcclxuICBtOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbnV0ZXNgXSgpLFxyXG4gIGg6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9SG91cnNgXSgpLFxyXG4gIGQ6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RGF0ZWBdKCksXHJcbiAgZHc6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RGF5YF0oKSxcclxuICBNOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1vbnRoYF0oKSArIDEsXHJcbiAgeTogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1GdWxsWWVhcmBdKClcclxufSwgJ2VxdWFscycsIE5hTik7XHJcbmNvbnN0IHNldFN3aXRjaGVyID0gc3dpdGNoZXIoe1xyXG4gIGM6IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbGxpc2Vjb25kc2BdKHZhbHVlKSxcclxuICBzOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1TZWNvbmRzYF0odmFsdWUpLFxyXG4gIG06IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbnV0ZXNgXSh2YWx1ZSksXHJcbiAgaDogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9SG91cnNgXSh2YWx1ZSksXHJcbiAgZDogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RGF0ZWBdKHZhbHVlKSxcclxuICBNOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1Nb250aGBdKHZhbHVlIC0gMSksXHJcbiAgeTogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RnVsbFllYXJgXSh2YWx1ZSlcclxufSk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIERhdFxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RGF0ZX0gW2RhdGUgPSBuZXcgRGF0ZSgpXSAtIEEgZGF0ZSB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RGF0fSBJbnN0YW5jZSBvZiBEYXQuXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgZGF0ZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgZGF0ZSA9IG5ldyBEYXQobmV3IERhdGUoKSk7XHJcbiAqL1xyXG5jbGFzcyBEYXQgZXh0ZW5kcyBTdXBlciB7XHJcbiAgY29uc3RydWN0b3IoZGF0ZSA9IG5ldyBEYXRlKCkpIHtcclxuICAgIHN1cGVyKGRhdGUpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBEYXQjJFxyXG4gICAgICogQHR5cGUge0RhdGV9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gT3JpZ2luYWwgZGF0ZS5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjYWRkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7QWRkUGVyaW9kfE9iamVjdC48QWRkUGVyaW9kLCBOdW1iZXI+fSB3aGF0IC0gV2hhdCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtudW1iZXJdIC0gTnVtYmVyIG9mIHdoYXQgdG8gYWRkIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHBlcmlvZCBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge0RhdH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBhbW91bnRzIG9mIHRpbWUgdG8gdGhlIGRhdGUuIFJldHVybnMgbmV3IGluc3RhbmNlIG9mIERhdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpLmFkZCgnYycsIDIpLnRvSVNPU3RyaW5nKCk7ICAgICAgICAgLy8gJzIwMDAtMDEtMDFUMDA6MDA6MDAuMDAxWidcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuYWRkKHsgYzogMiwgZDogNSB9KS50b0lTT1N0cmluZygpOyAvLyAnMjAwMC0wMS0wNlQwMDowMDowMC4wMDFaJ1xyXG4gICAqL1xyXG4gIGFkZCh3aGF0LCBudW1iZXIpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgd2hhdCA9IHsgW3doYXRdOiBudW1iZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy50aW1lKHRoaXMudGltZSgpICsgbmV3IFN1cGVyKHdoYXQpLnN1bSgodmFsdWUsIHdoYXQpID0+IGNvZWZmc1t3aGF0XSAqIHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNleHBpcmVzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlID0gdGhpc10gLSBWYWx1ZSB0byByZXNvbHZlIGFmdGVyIHRoZSBkYXRlIGV4cGlyZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIHdoZW4gdGhlIGRhdGUgZXhwaXJlcy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdCgpLmFkZCgnYycsIDUwMCkuZXhwaXJlcygnRXhwaXJlZCcpLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICogICAvLyBBZnRlciA1MDAgbWlsbGlzZWNvbmRzXHJcbiAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vICdFeHBpcmVkJ1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGV4cGlyZXModmFsdWUpIHtcclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICB2YWx1ZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBOdW0odGhpcy4kIC0gbm93KCkpLnRpbWVvdXQodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjZm9ybWF0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBUZW1wbGF0ZSBmb3IgdGhlIG91dHB1dC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ByZWZpeCA9ICcnXSAtIElmIG5lZWRlZCBbYWxsIHNwZWNpYWwgc3RyaW5nc117QGxpbmsgRm9ybWF0fVxyXG4gICAqIGFyZSB0cmVhdGVkIGFzIHRoZXkgc2hvdWxkIGJlIHByZWZpeCB3aXRoIHByZWZpeC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBGb3JtYXR0ZWQgc3RyaW5nLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIGZvcm1hdHRlZCBvdXRwdXQgYmFzZWQgb24gYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpLmZvcm1hdCgnU2Vjb25kczogJHNzLCBtaWxsaXNlY29uZHM6ICRjY2MuJywgJyQnKTtcclxuICAgKiAvLyAnU2Vjb25kczogNTksIG1pbGxpc2Vjb25kczogOTk5LidcclxuICAgKi9cclxuICBmb3JtYXQoc3RyaW5nLCBwcmVmaXggPSAnJykge1xyXG4gICAgc3RyaW5nID0gbmV3IFN0cihuZXcgU3VwZXIoc3RyaW5nKS4kKTtcclxuICAgIHByZWZpeCA9IFN0cmluZyhuZXcgU3VwZXIocHJlZml4KS4kKTtcclxuXHJcbiAgICBpdGVyYXRlKGZvcm1hdHMsIChmb3JtYXQpID0+IHtcclxuICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2VTdHJpbmcocHJlZml4ICsgZm9ybWF0LmZvcm1hdCwgZm9ybWF0Lm1hdGNoKHRoaXMsICdnZXQnKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc3RyaW5nLiQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNmb3JtYXRVVENcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFNlZSB7QGxpbmsgRGF0I2Zvcm1hdH0uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwcmVmaXggPSAnJ10gLSBTZWUge0BsaW5rIERhdCNmb3JtYXR9LlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcuXHJcbiAgICogQGRlc2NyaXB0aW9uIFVUQyB2ZXJzaW9uIG9mIHtAbGluayBEYXQjZm9ybWF0fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdCgnMTk5OS0wNy0wN1QwMzowOTowOS4wOTlaJykuZm9ybWF0VVRDKFxyXG4gICAqICAgYFxyXG4gICAqICAgICBNaWxsaXNlY29uZHM6ICRjY2N8JGMuXHJcbiAgICogICAgIFNlY29uZHM6ICAgICAgJHNzfCRzLlxyXG4gICAqICAgICBNaW51dGVzOiAgICAgICRtbXwkbS5cclxuICAgKiAgICAgSG91cnM6ICAgICAgICAkaGh8JGguXHJcbiAgICogICAgIERheTogICAgICAgICAgJGRkZGR8JGRkZHwkZGR8JGQuXHJcbiAgICogICAgIE1vbnRoOiAgICAgICAgJE1NTU18JE1NTXwkTU18JE0uXHJcbiAgICogICAgIFllYXI6ICAgICAgICAgJHl5eXl8JHl5fCR5LlxyXG4gICAqICAgYCxcclxuICAgKiAgICckJ1xyXG4gICAqICk7XHJcbiAgICogLy8gTWlsbGlzZWNvbmRzOiAwOTl8OTkuXHJcbiAgICogLy8gU2Vjb25kczogICAgICAwOXw5LlxyXG4gICAqIC8vIE1pbnV0ZXM6ICAgICAgMDl8OS5cclxuICAgKiAvLyBIb3VyczogICAgICAgIDAzfDMuXHJcbiAgICogLy8gRGF5OiAgICAgICAgICBGcmlkYXl8RnJpfDA3fDcuXHJcbiAgICogLy8gTW9udGg6ICAgICAgICBKdWx5fEp1bHwwN3w3LlxyXG4gICAqIC8vIFllYXI6ICAgICAgICAgMTk5OXw5OXwxOTk5LlxyXG4gICAqL1xyXG4gIGZvcm1hdFVUQyhzdHJpbmcsIHByZWZpeCA9ICcnKSB7XHJcbiAgICBzdHJpbmcgPSBuZXcgU3RyKG5ldyBTdXBlcihzdHJpbmcpLiQpO1xyXG4gICAgcHJlZml4ID0gU3RyaW5nKG5ldyBTdXBlcihwcmVmaXgpLiQpO1xyXG5cclxuICAgIGl0ZXJhdGUoZm9ybWF0cywgKGZvcm1hdCkgPT4ge1xyXG4gICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZVN0cmluZyhwcmVmaXggKyBmb3JtYXQuZm9ybWF0LCBmb3JtYXQubWF0Y2godGhpcywgJ2dldFVUQycpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzdHJpbmcuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2dldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0dldFBlcmlvZH0gd2hhdCAtIFdoYXQgdG8gZ2V0LlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IE51bWJlciBvZiB3aGF0IHRvIGdldC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHZhbHVlcyBzdWNoIGFzIHNlY29uZHMgb3IgbWludXRlcy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpLmdldCgncycpOyAvLyA1OVxyXG4gICAqL1xyXG4gIGdldCh3aGF0KSB7XHJcbiAgICByZXR1cm4gZ2V0U3dpdGNoZXIod2hhdCwgW3RoaXMuJCwgJ2dldCddKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2dldFVUQ1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0dldFBlcmlvZH0gd2hhdCAtIFNlZSB7QGxpbmsgRGF0I2dldH0uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gTnVtYmVyIG9mIHdoYXQgdG8gZ2V0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBVVEMgdmVyc2lvbiBvZiB7QGxpbmsgRGF0I2dldH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGRhdGUgPSBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSk7XHJcbiAgICpcclxuICAgKiBkYXRlLmdldFVUQygnYycpOyAgLy8gOTk5XHJcbiAgICogZGF0ZS5nZXRVVEMoJ3MnKTsgIC8vIDU5XHJcbiAgICogZGF0ZS5nZXRVVEMoJ20nKTsgIC8vIDU5XHJcbiAgICogZGF0ZS5nZXRVVEMoJ2gnKTsgIC8vIDIzXHJcbiAgICogZGF0ZS5nZXRVVEMoJ2QnKTsgIC8vIDMxXHJcbiAgICogZGF0ZS5nZXRVVEMoJ2R3Jyk7IC8vIDVcclxuICAgKiBkYXRlLmdldFVUQygnTScpOyAgLy8gMTJcclxuICAgKiBkYXRlLmdldFVUQygneScpOyAgLy8gMTk5OVxyXG4gICAqL1xyXG4gIGdldFVUQyh3aGF0KSB7XHJcbiAgICByZXR1cm4gZ2V0U3dpdGNoZXIod2hhdCwgW3RoaXMuJCwgJ2dldFVUQyddKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2lzQWZ0ZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEYXRlTGlrZX0gZGF0ZSAtIERhdGUgdG8gYmUgY29tcGFyZWQgdG8gdGhpcyBkYXRlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGlzIGRhdGUgaXMgYWZ0ZXIgdGhlIGFyZ3VtZW50IG9uZS5cclxuICAgKiBAZGVzY3JpcHRpb24gRmluZHMgb3V0IGlmIHRoaXMgZGF0ZSBpcyBhZnRlciB0aGUgYXJndW1lbnQgb25lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQWZ0ZXIobmV3IERhdGUoMzM0KSk7IC8vIGZhbHNlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0FmdGVyKG5ldyBEYXRlKDMzMikpOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgaXNBZnRlcihkYXRlKSB7XHJcbiAgICBkYXRlID0gbmV3IERhdGUobmV3IFN1cGVyKGRhdGUpLiQpO1xyXG5cclxuICAgIHJldHVybiBkYXRlLmdldFRpbWUoKSA8IHRoaXMuJC5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNpc0JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RhdGVMaWtlfSBkYXRlIC0gRGF0ZSB0byBiZSBjb21wYXJlZCB0byB0aGlzIGRhdGUuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoaXMgZGF0ZSBpcyBiZWZvcmUgdGhlIGFyZ3VtZW50IG9uZS5cclxuICAgKiBAZGVzY3JpcHRpb24gRmluZHMgb3V0IGlmIHRoaXMgZGF0ZSBpcyBiZWZvcmUgdGhlIGFyZ3VtZW50IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0JlZm9yZShuZXcgRGF0ZSgzMzQpKTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMzMzKSkuaXNCZWZvcmUobmV3IERhdGUoMzMyKSk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNCZWZvcmUoZGF0ZSkge1xyXG4gICAgZGF0ZSA9IG5ldyBEYXRlKG5ldyBTdXBlcihkYXRlKS4kKTtcclxuXHJcbiAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPiB0aGlzLiQuZ2V0VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjaXNCZXR3ZWVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGF0ZUxpa2V9IGRhdGUxIC0gU3RhcnQgb2YgdGhlIHJhbmdlLlxyXG4gICAqIEBwYXJhbSB7RGF0ZUxpa2V9IGRhdGUyIC0gRW5kIG9mIHRoZSByYW5nZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhpcyBkYXRlIGlzIGFmdGVyIGRhdGUxIGFuZCBiZWZvcmUgZGF0ZTIuXHJcbiAgICogQGRlc2NyaXB0aW9uIEZpbmRzIG91dCBpZiB0aGlzIGRhdGUgaXMgYWZ0ZXIgZGF0ZTEgYW5kIGJlZm9yZSBkYXRlMi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0JldHdlZW4obmV3IERhdGUoMzMyKSwgbmV3IERhdGUoMzM0KSk7IC8vIHRydWVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQmV0d2VlbihuZXcgRGF0ZSgzMzQpLCBuZXcgRGF0ZSgzMzIpKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBpc0JldHdlZW4oZGF0ZTEsIGRhdGUyKSB7XHJcbiAgICBjb25zdCB0aW1lID0gdGhpcy4kLmdldFRpbWUoKTtcclxuXHJcbiAgICBkYXRlMSA9IG5ldyBEYXRlKG5ldyBTdXBlcihkYXRlMSkuJCk7XHJcbiAgICBkYXRlMiA9IG5ldyBEYXRlKG5ldyBTdXBlcihkYXRlMikuJCk7XHJcblxyXG4gICAgcmV0dXJuIHRpbWUgPiBkYXRlMS5nZXRUaW1lKCkgJiYgdGltZSA8IGRhdGUyLmdldFRpbWUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2lzSW52YWxpZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGRhdGUgaXMgaW52YWxpZC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZGF0ZSBpcyBpbnZhbGlkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCdhJykpLmlzSW52YWxpZCgpOyAvLyB0cnVlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgxKSkuaXNJbnZhbGlkKCk7ICAgLy8gZmFsc2VcclxuICAgKi9cclxuICBpc0ludmFsaWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKCkgPT09ICdJbnZhbGlkIERhdGUnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjaXNQYXNzZWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBkYXRlIGlzIHBhc3NlZC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZGF0ZSBpcyBwYXNzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMSkpLmlzUGFzc2VkKCk7IC8vIHRydWVcclxuICAgKi9cclxuICBpc1Bhc3NlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmlzQmVmb3JlKG5vdygpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I29mT25lXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7T2ZPbmVQZXJpb2R9IHdoYXQgLSBQZXJpb2QgdG8gY2hlY2suXHJcbiAgICogQHBhcmFtIHtEYXRlTGlrZX0gZGF0ZSAtIERhdGUgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHR3byBkYXRlcyBhcmUgb2Ygb25lIHNlY29uZCwgbWludXRlIG9yIHNvbWV0aGluZyBlbHNlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHR3byBkYXRlcyBhcmUgb2Ygb25lIHNlY29uZCwgbWludXRlIG9yIHNvbWV0aGluZyBlbHNlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5LjAwMFonKSkub2ZPbmUoJ3MnLCBuZXcgRGF0ZSgxOTk5LTEyLTMxVDIzOjU5OjU5LjMzM1onKSk7IC8vIHRydWVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5LjAwMFonKSkub2ZPbmUoJ3MnLCBuZXcgRGF0ZSgxOTk5LTEyLTMxVDIzOjU5OjU4Ljk5OVonKSk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgb2ZPbmUod2hhdCwgZGF0ZSkge1xyXG4gICAgaWYgKCEod2hhdCBpbiBjb2VmZnMpIHx8IHdoYXQgPT09ICd3Jykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0ZSA9IG5ldyBEYXQobmV3IERhdGUoZGF0ZSkpO1xyXG5cclxuICAgIGxldCBzdGFydGVkO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKGNvZWZmcywgKGNvZWZmLCB3KSA9PiB7XHJcbiAgICAgIGlmICh3ID09PSB3aGF0KSB7XHJcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghc3RhcnRlZCB8fCB3ID09PSAndycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGFydGVkICYmIHRoaXMuZ2V0KHcpICE9PSBkYXRlLmdldCh3KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSkgIT09IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjc2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U2V0UGVyaW9kfE9iamVjdC48U2V0UGVyaW9kLCBOdW1iZXI+fSB3aGF0IC0gV2hhdCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtudW1iZXJdIC0gTnVtYmVyIG9mIHdoYXQgdG8gc2V0IGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHBlcmlvZCBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge0RhdH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHNldHRpbmcgdmFsdWVzIHN1Y2ggYXMgc2Vjb25kcyBvciBtaW51dGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuc2V0KCdzJywgNTgpLmdldCgncycpOyAgICAgICAgICAgLy8gNThcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuc2V0KHsgYzogOTk4LCBzOiA1OCB9KS5nZXQoJ2MnKTsgLy8gOTk4XHJcbiAgICovXHJcbiAgc2V0KHdoYXQsIG51bWJlcikge1xyXG4gICAgY29uc3QgZGF0ZSA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHdoYXQgPSB7IFt3aGF0XTogbnVtYmVyIH07XHJcbiAgICB9XHJcblxyXG4gICAgd2hhdCA9IG5ldyBTdXBlcih3aGF0KS4kO1xyXG5cclxuICAgIGl0ZXJhdGUod2hhdCwgKHZhbHVlLCB3aGF0KSA9PiB7XHJcbiAgICAgIHNldFN3aXRjaGVyKHdoYXQsIFtkYXRlLCB2YWx1ZSwgJ3NldCddKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjc2V0VVRDXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U2V0UGVyaW9kfE9iamVjdC48U2V0UGVyaW9kLCBOdW1iZXI+fSB3aGF0IC0gU2VlIHtAbGluayBEYXQjc2V0fS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW251bWJlcl0gLSBTZWUge0BsaW5rIERhdCNzZXR9LlxyXG4gICAqIEByZXR1cm5zIHtEYXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gVVRDIHZlcnNpb24gb2Yge0BsaW5rIERhdCNzZXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBkYXRlID0gbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpO1xyXG4gICAqXHJcbiAgICogZGF0ZS5zZXRVVEMoJ2NjYycsIDk5OCkuZ2V0VVRDKCdjY2MnKTsgLy8gOTk4XHJcbiAgICogZGF0ZS5zZXRVVEMoe1xyXG4gICAqICAgczogNTgsXHJcbiAgICogICBtOiA1OCxcclxuICAgKiAgIGg6IDIyXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBkYXRlLmdldFVUQygncycpOyAvLyA1OFxyXG4gICAqIGRhdGUuZ2V0VVRDKCdtJyk7IC8vIDU4XHJcbiAgICogZGF0ZS5nZXRVVEMoJ2gnKTsgLy8gMjNcclxuICAgKi9cclxuICBzZXRVVEMod2hhdCwgbnVtYmVyKSB7XHJcbiAgICBjb25zdCBkYXRlID0gdGhpcy4kO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgd2hhdCA9IHsgW3doYXRdOiBudW1iZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICB3aGF0ID0gbmV3IFN1cGVyKHdoYXQpLiQ7XHJcblxyXG4gICAgaXRlcmF0ZSh3aGF0LCAodmFsdWUsIHdoYXQpID0+IHtcclxuICAgICAgc2V0U3dpdGNoZXIod2hhdCwgW2RhdGUsIHZhbHVlLCAnc2V0VVRDJ10pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNzZXRVVENcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lXSAtIFRpbWUgdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtEYXR8TnVtYmVyfSAtIElmIHRoZSB0aW1lIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhpcyBpcyByZXR1cm5lZCBvdGhlcndpc2UgdGhlIHRpbWUgaXMgcmV0dXJuZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGJvdGhcclxuICAgKiBbRGF0ZSNnZXRUaW1lXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL2dldFRpbWV9IGFuZFxyXG4gICAqIFtEYXRlI3NldFRpbWVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvc2V0VGltZX0uXHJcbiAgICovXHJcbiAgdGltZSh0aW1lKSB7XHJcbiAgICBjb25zdCBkYXRlID0gdGhpcy4kO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIGRhdGUuc2V0VGltZSh0aW1lKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICB0b0lTT1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9JU09TdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIHRvTG9jYWxlU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b0xvY2FsZVN0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZU9mKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC52YWx1ZU9mKCk7XHJcbiAgfVxyXG59XHJcbmRlZmluZVByb3BlcnRpZXMoRGF0LnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnRGF0J1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNEYXRlLFxyXG4gIGNsczogRGF0XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBub3dcclxuICogQHB1YmxpY1xyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxyXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvbm93XHJcbiAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gKiBbRGF0ZS5ub3dde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvbm93fS5cclxuICovXHJcbmZ1bmN0aW9uIG5vdygpIHtcclxuICByZXR1cm4gRGF0ZS5ub3coKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkYXRlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtEYXRlTGlrZX0gW2RhdGUgPSBuZXcgRGF0ZSgpXSAtIERhdGUtbGlrZSB2YWx1ZSB0aGF0IGlzIHBhc3NlZCB0byB0aGUgRGF0ZSBjb25zdHJ1Y3Rvci5cclxuICogQHJldHVybnMge0RhdH0gTmV3IGluc3RhbmNlIG9mIERhdC5cclxuICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIG5ldyBEYXQobmV3IERhdGUoZGF0ZSkpO1xyXG4gKi9cclxuZnVuY3Rpb24gZGF0ZShkYXRlKSB7XHJcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdChuZXcgRGF0ZShub3coKSkpO1xyXG4gIH1cclxuXHJcbiAgZGF0ZSA9IG5ldyBTdXBlcihkYXRlKS4kO1xyXG5cclxuICByZXR1cm4gbmV3IERhdChuZXcgRGF0ZShkYXRlKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IERhdCwgbm93LCBkYXRlIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvY29uc3RydWN0VVJMXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGNvbnN0cnVjdFVSTCBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuaW1wb3J0IHsgc3dpdGNoZXIgfSBmcm9tICcuLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGlzQXJyYXksIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0IH0gZnJvbSAnLi9jaGVja1R5cGVzJztcclxuaW1wb3J0IHsgaXRlcmF0ZSB9IGZyb20gJy4vaXRlcmF0ZSc7XHJcblxyXG4vKipcclxuICogQHR5cGUge1JlZ0V4cH1cclxuICogQGRlc2NyaXB0aW9uIEFic29sdXRlIFVSTCBwYXR0ZXJuLlxyXG4gKi9cclxuY29uc3QgYWJzb2x1dGVVUkxSZWdleHAgPSAvXigoW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcL3xkYXRhOlthLXpdK1xcL1thLXpdKztiYXNlNjQsKS9pO1xyXG5jb25zdCBxdWVyeVN3aXRjaGVyID0gc3dpdGNoZXIoJ2NhbGwnLCAoKSA9PiBuZXcgQXJyKFtdKSlcclxuICAuY2FzZShpc0FycmF5LCAocHJlZml4LCBxdWVyeSkgPT4ge1xyXG4gICAgbGV0IHF1ZXJ5UGFyYW1zID0gbmV3IEFycihbXSk7XHJcblxyXG4gICAgaXRlcmF0ZShxdWVyeSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSB8fCBpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIHF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXMuY29uY2F0KHF1ZXJ5U3dpdGNoZXIodmFsdWUsIFtgJHsgcHJlZml4IH1bXWBdKSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcXVlcnlQYXJhbXMucHVzaCh7XHJcbiAgICAgICAgcGFyYW06IGAkeyBwcmVmaXggfVtdYCxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBxdWVyeVBhcmFtcy4kO1xyXG4gIH0pXHJcbiAgLmNhc2UoaXNQbGFpbk9iamVjdCwgKHByZWZpeCwgcXVlcnkpID0+IHtcclxuICAgIGxldCBxdWVyeVBhcmFtcyA9IG5ldyBBcnIoW10pO1xyXG5cclxuICAgIGl0ZXJhdGUocXVlcnksICh2YWx1ZSwgcGFyYW0pID0+IHtcclxuICAgICAgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgcXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcy5jb25jYXQocXVlcnlTd2l0Y2hlcih2YWx1ZSwgW3ByZWZpeCA/IGAkeyBwcmVmaXggfVskeyBwYXJhbSB9XWAgOiBwYXJhbV0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBxdWVyeVBhcmFtcy5wdXNoKHtcclxuICAgICAgICBwYXJhbTogcHJlZml4ID8gYCR7IHByZWZpeCB9WyR7IHBhcmFtIH1dYCA6IHBhcmFtLFxyXG4gICAgICAgIHZhbHVlOiBpc09iamVjdCh2YWx1ZSkgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBTdHJpbmcodmFsdWUpXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHF1ZXJ5UGFyYW1zLiQ7XHJcbiAgfSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGNvbnN0cnVjdFVSTFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gYmFzZVVSTCAtIEJhc2VVUkwgb2YgdGhlIG91dHB1dCBVUkwuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSBNYWluIHBhcnQgb2YgdGhlIG91dHB1dCBVUkwuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBQYXJhbXMgdG8gcmVwbGFjZSBpbiB0aGUgdXJsIGV4cHJlc3Npb25zIGxpa2UgXCI6cGFyYW1cIi5cclxuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IC0gT2JqZWN0IHdpdGggcXVlcnkgcGFyYW1zLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2hhc2ggPSAnJ10gLSBVUkwgaGFzaC5cclxuICogQHBhcmFtIHtPYmplY3R9IFtlbmNvZGVPcHRpb25zID0ge31dIC0gSWYgeW91IG5lZWQgdG8gZW5jb2RlIHNvbWV0aGluZy5cclxuICogQHBhcmFtIHtPYmplY3R9IFtlbmNvZGVPcHRpb25zLnBhcmFtcyA9IHRydWVdIC0gSWYgeW91IG5lZWQgdG8gZW5jb2RlIHBhcmFtcy5cclxuICogQHBhcmFtIHtPYmplY3R9IFtlbmNvZGVPcHRpb25zLnF1ZXJ5ID0gdHJ1ZV0gLSBJZiB5b3UgbmVlZCB0byBlbmNvZGUgcXVlcnkgcGFyYW1zLlxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBDb25zdHJ1Y3RlZCBVUkwuXHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgY29uc3RydWN0aW5nIFVSTCBmcm9tIHRoZSBiYXNlIFVSTCwgVVJMLCBwYXJhbXMgYW5kIHF1ZXJ5IHBhcmFtcy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChiYXNlVVJMLCB1cmwsIHBhcmFtcywgcXVlcnksIGhhc2ggPSAnJywgZW5jb2RlT3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgcGFyYW1zOiBlbmNvZGVQYXJhbXMgPSB0cnVlLFxyXG4gICAgcXVlcnk6IGVuY29kZVF1ZXJ5ID0gdHJ1ZVxyXG4gIH0gPSBlbmNvZGVPcHRpb25zO1xyXG4gIGxldCBVUkwgPSBpc0Fic29sdXRlKHVybClcclxuICAgID8gdXJsXHJcbiAgICA6IGAkeyBTdHJpbmcoYmFzZVVSTCkucmVwbGFjZSgvXFwvKyQvLCAnJykgfS8keyBTdHJpbmcodXJsKS5yZXBsYWNlKC9eXFwvKy8sICcnKSB9YDtcclxuXHJcbiAgaXRlcmF0ZShwYXJhbXMsICh2YWx1ZSwgcGFyYW0pID0+IHtcclxuICAgIFVSTCA9IG5ldyBTdHIoVVJMKS5yZXBsYWNlU3RyaW5nKGA6JHsgcGFyYW0gfWAsIGVuY29kZSh2YWx1ZSwgZW5jb2RlUGFyYW1zKSkuJDtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgcXVlcnlQYXJhbXMgPSBxdWVyeVN3aXRjaGVyKHF1ZXJ5LCBbJyddKTtcclxuXHJcbiAgaWYgKHF1ZXJ5UGFyYW1zLmxlbmd0aCkge1xyXG4gICAgVVJMICs9IChVUkwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBxdWVyeVBhcmFtc1xyXG4gICAgICAubWFwKCh7IHBhcmFtLCB2YWx1ZSB9KSA9PiBgJHsgZW5jb2RlKHBhcmFtLCBlbmNvZGVRdWVyeSkgfT0keyBlbmNvZGUodmFsdWUsIGVuY29kZVF1ZXJ5KSB9YClcclxuICAgICAgLmpvaW4oJyYnKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBgJHsgVVJMIH0keyBoYXNoID8gYCMkeyBoYXNoIH1gIDogJycgfWA7XHJcbn07XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzQWJzb2x1dGVcclxuICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIFVSTCB0byBjaGVjayBpZiBpdCBpcyBhYnNvbHV0ZSBvciBub3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgVVJMIGlzIGFic29sdXRlIG9yIG5vdC5cclxuICovXHJcbmZ1bmN0aW9uIGlzQWJzb2x1dGUodXJsKSB7XHJcbiAgcmV0dXJuIGFic29sdXRlVVJMUmVnZXhwLnRlc3QodXJsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBlbmNvZGVcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byBlbmNvZGUgdXNpbmcgZW5jb2RlVVJJQ29tcG9uZW50LlxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzRW5jb2RlZCAtIElmIHRoZSBzdHJpbmcgc2hvdWxkIGJlIGVuY29kZWQuXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IEVuY29kZWQgc3RyaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlKHN0cmluZywgaXNFbmNvZGVkKSB7XHJcbiAgcmV0dXJuIGlzRW5jb2RlZCA/IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIDogc3RyaW5nO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEZldGNoXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBGZXRjaCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi9Qcm9taXNlJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi9BcnInO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7XHJcbiAgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNTdHJpbmcsXHJcbiAgYXNzaWduLCBTeW1ib2wsIHZhbGlkYXRlLCBpdGVyYXRlLCBkZWZpbmVQcm9wZXJ0aWVzXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuaW1wb3J0IGNvbnN0cnVjdFVSTCBmcm9tICcuL2hlbHBlcnMvY29uc3RydWN0VVJMJztcclxuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuL2hlbHBlcnMvcGFyc2VIZWFkZXJzJztcclxuaW1wb3J0IHRyYW5zZm9ybURhdGEgZnJvbSAnLi9oZWxwZXJzL3RyYW5zZm9ybURhdGEnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnZ2V0J3wncG9zdCd8J2RlbGV0ZSd8J2hlYWQnfCdwdXQnfCdwYXRjaCd9IEZldGNoTWV0aG9kXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gRmV0Y2hDb25maWdcclxuICogQHB1YmxpY1xyXG4gKiBAcHJvcGVydHkge0FycmF5LjxBZnRlck1pZGRsZXdhcmV8RmV0Y2hFcnJvckFmdGVyTWlkZGxld2FyZT59IFthZnRlcl1cclxuICogQHByb3BlcnR5IHtPYmplY3R9IFthdXRoXVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW2F1dGgudXNlcm5hbWVdXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbYXV0aC5wYXNzd29yZF1cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtiYXNlVVJMXVxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxCZWZvcmVNaWRkbGV3YXJlfEZldGNoRXJyb3JCZWZvcmVNaWRkbGV3YXJlPn0gW2JlZm9yZV1cclxuICogQHByb3BlcnR5IHsqfSBbZGF0YV1cclxuICogQHByb3BlcnR5IHtPYmplY3QuPFN0cmluZywgU3RyaW5nW10+fSBbaGVhZGVyc11cclxuICogQHByb3BlcnR5IHtGZXRjaE1ldGhvZH0gW21ldGhvZF1cclxuICogQHByb3BlcnR5IHtPYmplY3R9IFtwYXJhbXNdXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbcXVlcnldXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbcmVzcG9uc2VUeXBlXVxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3RpbWVvdXRdXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbdXJsXVxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFt3aXRoQ3JlZGVudGlhbHNdXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZldGNoUmVzcG9uc2VcclxuICogQHB1YmxpY1xyXG4gKiBAcHJvcGVydHkge0ZldGNoQ29uZmlnfSBjb25maWdcclxuICogQHByb3BlcnR5IHsqfSBkYXRhXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IGhlYWRlcnNcclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHN0YXR1c1xyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gc3RhdHVzVGV4dFxyXG4gKiBAcHJvcGVydHkge1hNTEh0dHBSZXF1ZXN0fSB4aHJcclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoQWZ0ZXJNaWRkbGV3YXJlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtGZXRjaFJlc3BvbnNlfSBjb25maWcgLSBGZXRjaCByZXNwb25zZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoRXJyb3JBZnRlck1pZGRsZXdhcmVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Vycm9yfCp9IGVyciAtIFRocm93biBlcnJvci5cclxuICogQHBhcmFtIHtGZXRjaFJlc3BvbnNlfSBjb25maWcgLSBGZXRjaCByZXNwb25zZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoQmVmb3JlTWlkZGxld2FyZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IGNvbmZpZyAtIEZldGNoIGNvbmZpZy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoRXJyb3JCZWZvcmVNaWRkbGV3YXJlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFcnJvcnwqfSBlcnIgLSBUaHJvd24gZXJyb3IuXHJcbiAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IGNvbmZpZyAtIEZldGNoIGNvbmZpZy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoQ29uZmlnRnVuY3Rpb25cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBjb25maWdcclxuICovXHJcblxyXG5jb25zdCBkZWZhdWx0cyA9IHtcclxuICBhZnRlcjogW10sXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgcGFzc3dvcmQ6ICcnXHJcbiAgfSxcclxuICBiYXNlVVJMOiBnbG9iYWwubG9jYXRpb24ub3JpZ2luLFxyXG4gIGJlZm9yZTogW10sXHJcbiAgZGF0YTogbnVsbCxcclxuICBoZWFkZXJzOiB7fSxcclxuICBtZXRob2Q6ICdnZXQnLFxyXG4gIHBhcmFtczoge30sXHJcbiAgcXVlcnk6IHt9LFxyXG4gIHJlc3BvbnNlVHlwZTogJycsXHJcbiAgdGltZW91dDogMCxcclxuICB1cmw6ICcnLFxyXG4gIHdpdGhDcmVkZW50aWFsczogZmFsc2VcclxufTtcclxuY29uc3QgdXBsb2FkTWV0aG9kcyA9IG5ldyBBcnIoWydwb3N0JywgJ3B1dCddKTtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgRmV0Y2hcclxuICogQGV4dGVuZHMgRnVuY3Rpb25cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnID0ge31dIC0gQSBudW1iZXIgdG8gd3JhcC5cclxuICogQHJldHVybnMge0ZldGNofSBJbnN0YW5jZSBvZiBGZXRjaC5cclxuICogQW4gaW5zdGFuY2Ugb2YgRmV0Y2ggaXMgYSBmdW5jdGlvbiB0aGF0IHNpbXBseSBjYWxscyAjcmVxdWVzdCB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cy5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBmZXRjaGluZyBkYXRhLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpO1xyXG4gKlxyXG4gKiBmZXRjaCgnL2RhdGEnKS50aGVuKChyZXMpID0+IHtcclxuICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gKiB9KTtcclxuICovXHJcbmNsYXNzIEZldGNoIGV4dGVuZHMgRnVuY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZldGNoKCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2gucmVxdWVzdC5hcHBseShmZXRjaCwgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25mID0gbmV3IFN1cGVyKHt9KS5kZWVwQXNzaWduKGRlZmF1bHRzLCBjb25maWcpLiQ7XHJcblxyXG4gICAgaWYgKGNvbmYuYmVmb3JlLmluZGV4T2YoZmV0Y2hCZWZvcmVNaWRkbGV3YXJlKSA9PT0gLTEpIHtcclxuICAgICAgY29uZi5iZWZvcmUucHVzaChmZXRjaEJlZm9yZU1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7RmV0Y2hDb25maWd9IEZldGNoIyQkXHJcbiAgICAgKiBAdHlwZSB7RmV0Y2hDb25maWd9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gRmV0Y2ggY29uZmlnLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmV0Y2gsICckJCcsIHsgdmFsdWU6IGNvbmYgfSk7XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZmV0Y2gsIEZldGNoLnByb3RvdHlwZSk7XHJcblxyXG4gICAgcmV0dXJuIGZldGNoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNhZnRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ZldGNoQWZ0ZXJNaWRkbGV3YXJlfEZldGNoRXJyb3JBZnRlck1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBNaWRkbGV3YXJlIHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2FmdGVyQWxsID0gdHJ1ZV0gLSBCb29sZWFuIHBhcmFtZXRlciB3aGVyZSB0byBwdXQgdGhlIG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGVuZFwiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiLlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNaWRkbGV3YXJlIHRoYXQgaXMgY2FsbGVkIGFmdGVyIHRoZSByZXF1ZXN0LlxyXG4gICAqIElmIHRoZSBtaWRkbGV3YXJlIGhhcyAyIG9yIGxlc3MgYXJndW1lbnRzIGl0J3MgdHJlYXRlZCBhcyBzdWNjZXNzIG1pZGRsZXdhcmUgb3RoZXJ3aXNlIGFzIGFuIGVycm9yIG9uZS5cclxuICAgKiBJZiB0aGUgbWlkZGxld2FyZSByZXR1cm5zIGEgcHJvbWlzZSBpdCBiZWNvbWVzIGEgcGFydCBvZiB0aGUgbWlkZGxld2FyZSBjaGFpbi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKVxyXG4gICAqICAgLmFmdGVyKChlcnIsIHJlcykgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAqXHJcbiAgICogICAgIHRocm93IGVycjtcclxuICAgKiAgIH0pXHJcbiAgICogICAuYWZ0ZXIoKHJlcykgPT4ge1xyXG4gICAqICAgICByZXMuanNvbiA9IEQocmVzLmRhdGEpLnBhcnNlSlNPTigpOlxyXG4gICAqICAgfSk7XHJcbiAgICovXHJcbiAgYWZ0ZXIobWlkZGxld2FyZSwgYWZ0ZXJBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0ZldGNoI2FmdGVyJyk7XHJcblxyXG4gICAgY29uc3QgeyBhZnRlciB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoYWZ0ZXJBbGwpIHtcclxuICAgICAgYWZ0ZXIucHVzaChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFmdGVyLnVuc2hpZnQobWlkZGxld2FyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ZldGNoQmVmb3JlTWlkZGxld2FyZXxGZXRjaEVycm9yQmVmb3JlTWlkZGxld2FyZX0gbWlkZGxld2FyZSAtIE1pZGRsZXdhcmUgdG8gYWRkLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYmVmb3JlQWxsID0gdHJ1ZV0gLSBCb29sZWFuIHBhcmFtZXRlciB3aGVyZSB0byBwdXQgdGhlIG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGVuZFwiLlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNaWRkbGV3YXJlIHRoYXQgaXMgY2FsbGVkIGJlZm9yZSB0aGUgcmVxdWVzdC5cclxuICAgKiBJZiB0aGUgbWlkZGxld2FyZSBoYXMgMiBvciBsZXNzIGFyZ3VtZW50cyBpdCdzIHRyZWF0ZWQgYXMgc3VjY2VzcyBtaWRkbGV3YXJlIG90aGVyd2lzZSBhcyBhbiBlcnJvciBvbmUuXHJcbiAgICogSWYgdGhlIG1pZGRsZXdhcmUgcmV0dXJucyBhIHByb21pc2UgaXQgYmVjb21lcyBhIHBhcnQgb2YgdGhlIG1pZGRsZXdhcmUgY2hhaW4uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKClcclxuICAgKiAgIC5iZWZvcmUoKGVyciwgcmVxKSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICpcclxuICAgKiAgICAgdGhyb3cgZXJyO1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5iZWZvcmUoKHJlcSkgPT4ge1xyXG4gICAqICAgICBpZiAocmVxLnVybCA9PT0gJy92ZXJ5TG9uZ1JlcXVlc3QnKSB7XHJcbiAgICogICAgICAgcmVxLnRpbWVvdXQgPSAzMDAwMDtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICovXHJcbiAgYmVmb3JlKG1pZGRsZXdhcmUsIGJlZm9yZUFsbCA9IHRydWUpIHtcclxuICAgIHZhbGlkYXRlKFttaWRkbGV3YXJlXSwgWydmdW5jdGlvbiddLCAnRmV0Y2gjYmVmb3JlJyk7XHJcblxyXG4gICAgY29uc3QgeyBiZWZvcmUgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGJlZm9yZUFsbCkge1xyXG4gICAgICBiZWZvcmUudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJlZm9yZS5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNjb25maWdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RmV0Y2hDb25maWd8RmV0Y2hDb25maWdGdW5jdGlvbn0gW3Byb3BlcnR5XSAtIElmIGl0J3MgYSBmdW5jdGlvblxyXG4gICAqIGl0J3MgY2FsbGVkIHdpdGggdGhlIGZldGNoIGNvbmZpZyBhcmd1bWVudCwgaWYgaXQncyBhIHN0cmluZyB0aGUgdmFsdWUgYXJndW1lbnRcclxuICAgKiBpcyB1c2VkIGZvciBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eSB0byB0aGUgZmV0Y2ggY29uZmlnXHJcbiAgICogb3RoZXJ3aXNlIGl0J3MgYXNzaWduZWQgdG8gdGhlIGZldGNoIGNvbmZpZy5cclxuICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gLSBTZWUgdGhlIHByb3BlcnR5IGFyZ3VtZW50LlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaHxGZXRjaENvbmZpZ30gSWYgdGhlIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhpcyBpcyByZXR1cm5lZCBvdGhlcndpc2UgdGhlIGZldGNoIGNvbmZpZyBpcyByZXR1cm5lZC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIGFuZCBzZXR0aW5nIGNvbmZpZy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKTtcclxuICAgKlxyXG4gICAqIGZldGNoLmNvbmZpZyh7IGJhc2VVUkw6IDUwMDAgfSk7XHJcbiAgICogZmV0Y2guY29uZmlnKCkudGltZW91dDsgLy8gNTAwMFxyXG4gICAqXHJcbiAgICogZmV0Y2guY29uZmlnKChjb25maWcpID0+IHtcclxuICAgKiAgIGNvbmZpZy5iYXNlVVJMICs9ICcvYXBpJztcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBjb25maWcocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBjb25zdCBjb25mID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGNvbmY7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvcGVydHkpKSB7XHJcbiAgICAgIHByb3BlcnR5KGNvbmYpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBuZXcgU3VwZXIoY29uZikuZGVlcEFzc2lnbihwcm9wZXJ0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2RlbGV0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBkZWxldGUgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLmRlbGV0ZSgnL2RhdGEnKS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgZGVsZXRlKHVybCwgY29uZmlnID0ge30pIHtcclxuICAgIGlmICghaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSB1cmw7XHJcbiAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHVybCwgYXNzaWduKHsgbWV0aG9kOiAnZGVsZXRlJyB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjZ2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGdldCByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEZldGNoKCkuZ2V0KCcvZGF0YScpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBnZXQodXJsLCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKCFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdnZXQnIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNoZWFkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGhlYWQgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLmhlYWQoJy9kYXRhJykudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGhlYWQodXJsLCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKCFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdoZWFkJyB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjaGVhZGVyc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgU3RyaW5nfFN0cmluZ1tdPn0gaGVhZGVyIC0gQSBoZWFkZXIgc3RyaW5nIG9yIGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcclxuICAgKiB7IFtoZWFkZXJdOiBbdmFsdWUxLCB2YWx1ZTIsIC4uLl0gfS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xTdHJpbmdbXX0gW3ZhbHVlXSAtIEhlYWRlciB2YWx1ZS4gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nXHJcbiAgICogdGhpcyBoYXMgdG8gYmUgYSBoZWFkZXIgdmFsdWUgb3IgYW4gYXJyYXkgb2YgaGVhZGVyIHZhbHVlcy5cclxuICAgKiBAcmV0dXJucyB7RmV0Y2h9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBzZXR0aW5nIHJlcXVlc3QgaGVhZGVycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKVxyXG4gICAqICAgLmhlYWRlcnMoJ0hlYWRlcjEnLCAnVmFsdWUnKVxyXG4gICAqICAgLmhlYWRlcnMoJ0hlYWRlcjInLCBbJ1ZhbHVlMScsICdWYWx1ZTInXSlcclxuICAgKiAgIC5oZWFkZXJzKHtcclxuICAgKiAgICAgSGVhZGVyMzogWydWYWx1ZTEnLCAnVmFsdWUyJ11cclxuICAgKiAgIH0pO1xyXG4gICAqL1xyXG4gIGhlYWRlcnMoaGVhZGVyLCB2YWx1ZSkge1xyXG4gICAgY29uc3QgeyBoZWFkZXJzIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgaGVhZGVyID0geyBbaGVhZGVyXTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGhlYWRlciwgKHZhbHVlLCBoZWFkZXIpID0+IHtcclxuICAgICAgY29uc3QgYXJyYXkgPSBoZWFkZXJzW2hlYWRlcl0gfHwgW107XHJcbiAgICAgIGNvbnN0IHRvUHVzaCA9IGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xyXG5cclxuICAgICAgKGhlYWRlcnNbaGVhZGVyXSA9IGFycmF5KS5wdXNoLmFwcGx5KGFycmF5LCB0b1B1c2gpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2luc3RhbmNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gTmV3IGNvbmZpZyBpZiBuZWVkZWQuXHJcbiAgICogQHJldHVybnMge0ZldGNofSBOZXcgaW5zdGFuY2Ugb2YgRmV0Y2guXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgbmV3IGZldGNoIGluc3RhbmNlcyBiYXNlZCBvbiBhbHJlYWR5IGV4aXN0ZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBtYWluRmV0Y2ggPSBuZXcgRmV0Y2goe1xyXG4gICAqICAgYmFzZVVSTDogJy8vb3RoZXIuZG9tYWluLmNvbS9hcGknLFxyXG4gICAqICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBjb25zdCBsb25nRmV0Y2ggPSBtYWluRmV0Y2guaW5zdGFuY2Uoe1xyXG4gICAqICAgdGltZW91dDogMTAwMDBcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBpbnN0YW5jZShjb25maWcgPSB7fSkge1xyXG4gICAgY29uc3QgZGF0YUNvbmZpZyA9IG5ldyBTdXBlcihjb25maWcpLmhhc093bignZGF0YScpXHJcbiAgICAgID8geyBkYXRhOiBjb25maWcuZGF0YSB9XHJcbiAgICAgIDoge307XHJcblxyXG4gICAgZGVsZXRlIGNvbmZpZy5kYXRhO1xyXG5cclxuICAgIGNvbnN0IGNvbmYgPSBuZXcgU3VwZXIoe30pXHJcbiAgICAgIC5kZWVwQXNzaWduKHRoaXMuJCQsIGNvbmZpZylcclxuICAgICAgLmFzc2lnbihkYXRhQ29uZmlnKVxyXG4gICAgICAuJDtcclxuXHJcbiAgICByZXR1cm4gbmV3IEZldGNoKGNvbmYpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNwYXRjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIC0gQWRkaXRpb25hbCBwYXJhbWV0ZXIgZm9yIHVwbG9hZGluZyBkYXRhLlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBoZWFkIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5wYXRjaCgnL2RhdGEnLCB7IHVzZXI6ICdKb2huJyB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgcGF0Y2godXJsLCBkYXRhID0ge30sIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiAhaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSBkYXRhO1xyXG4gICAgICBkYXRhID0gdXJsO1xyXG4gICAgICB1cmwgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIGFzc2lnbih7IG1ldGhvZDogJ3BhdGNoJywgZGF0YSB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjcG9zdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIC0gQWRkaXRpb25hbCBwYXJhbWV0ZXIgZm9yIHVwbG9hZGluZyBkYXRhLlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBoZWFkIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5wb3N0KCcvZGF0YScsIHsgdXNlcjogJ0pvaG4nIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBwb3N0KHVybCwgZGF0YSA9IHt9LCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gZGF0YTtcclxuICAgICAgZGF0YSA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdwb3N0JywgZGF0YSB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjcHV0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHsqfSBbZGF0YV0gLSBBZGRpdGlvbmFsIHBhcmFtZXRlciBmb3IgdXBsb2FkaW5nIGRhdGEuXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGhlYWQgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLnB1dCgnL2RhdGEnLCB7IHVzZXI6ICdKb2huJyB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgcHV0KHVybCwgZGF0YSA9IHt9LCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gZGF0YTtcclxuICAgICAgZGF0YSA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdwdXQnLCBkYXRhIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNyZXF1ZXN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFVSTCBmb3IgdGhlIHJlcXVlc3QuXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBBZGRpdGlvbmFsIGNvbmZpZyBmb3IgdGhpcyBwYXJ0aWN1bGFyIHJlcXVlc3QuXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdpdGggdGhlIHJlcXVlc3QgcmVzcG9uc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1haW4gZnVuY3Rpb24gZm9yIG1ha2luZyByZXF1ZXN0cy4gQWxsIHJlcXVlc3QgbWV0aG9kcyBjYWxsIHRoaXMgbWV0aG9kXHJcbiAgICogaW5jbHVkaW5nIHRoZSBmZXRjaCBpbnN0YW5jZSBpdHNlbGYuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKCk7XHJcbiAgICpcclxuICAgKiBmZXRjaC5yZXF1ZXN0KCcvZGF0YScsIHsgdGltZW91dDogMTAwMCB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmZXRjaC5yZXF1ZXN0KHsgdGltZW91dDogMTAwMCB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmZXRjaC5yZXF1ZXN0KCkudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHJlcXVlc3QodXJsLCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGFDb25maWcgPSBuZXcgU3VwZXIoY29uZmlnKS5oYXNPd24oJ2RhdGEnKVxyXG4gICAgICA/IHsgZGF0YTogY29uZmlnLmRhdGEgfVxyXG4gICAgICA6IHt9O1xyXG4gICAgY29uc3QgdXJsQ29uZmlnID0gaXNTdHJpbmcodXJsKVxyXG4gICAgICA/IHsgdXJsIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICBkZWxldGUgY29uZmlnLmRhdGE7XHJcblxyXG4gICAgY29uc3QgY29uZiA9IG5ldyBTdXBlcih0aGlzLiQkKVxyXG4gICAgICAuZGVlcENsb25lKClcclxuICAgICAgLmRlZXBBc3NpZ24odXJsQ29uZmlnLCBjb25maWcpXHJcbiAgICAgIC5hc3NpZ24oZGF0YUNvbmZpZylcclxuICAgICAgLiQ7XHJcblxyXG4gICAgbGV0IHhocjtcclxuICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblxyXG4gICAgaXRlcmF0ZShjb25mLmJlZm9yZSwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1pZGRsZXdhcmUubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgcmVzb2x2ZShtaWRkbGV3YXJlKGNvbmYpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgIGlmIChtaWRkbGV3YXJlLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKG1pZGRsZXdhcmUoZXJyLCBjb25mKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBhZnRlcixcclxuICAgICAgICBhdXRoOiB7XHJcbiAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgIHBhc3N3b3JkXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kLFxyXG4gICAgICAgIG9ucHJvZ3Jlc3MsXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlLFxyXG4gICAgICAgIHRpbWVvdXQsXHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIHdpdGhDcmVkZW50aWFsc1xyXG4gICAgICB9ID0gY29uZjtcclxuXHJcbiAgICAgIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUsIHVzZXJuYW1lLCBwYXNzd29yZCk7XHJcblxyXG4gICAgICBpdGVyYXRlKGhlYWRlcnMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XHJcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCB2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG9ucHJvZ3Jlc3MpIHtcclxuICAgICAgICBpZiAodXBsb2FkTWV0aG9kcy5pbmRleE9mU3RyaWN0KG1ldGhvZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICB4aHIub25wcm9ncmVzcyA9IG9ucHJvZ3Jlc3M7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IG9ucHJvZ3Jlc3M7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB4aHIub25hYm9ydCA9ICgpID0+IHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBhYm9ydGVkJykpO1xyXG5cclxuICAgICAgICB4aHIgPSBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKTtcclxuXHJcbiAgICAgICAgeGhyID0gbnVsbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCB0aW1lIGV4Y2VlZGVkJykpO1xyXG5cclxuICAgICAgICB4aHIgPSBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXhociB8fCAheGhyLnN0YXR1cyB8fCB4aHIucmVhZHlTdGF0ZSAhPT0gNCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XHJcbiAgICAgICAgICBjb25maWc6IGNvbmYsXHJcbiAgICAgICAgICBkYXRhOiAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8geGhyLnJlc3BvbnNlVGV4dCA6IHhoci5yZXNwb25zZSxcclxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLFxyXG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1cyxcclxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiB4aHIuc3RhdHVzVGV4dCxcclxuICAgICAgICAgIHhoclxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblxyXG4gICAgICAgIGl0ZXJhdGUoYWZ0ZXIsIChtaWRkbGV3YXJlKSA9PiB7XHJcbiAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1pZGRsZXdhcmUubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUobWlkZGxld2FyZShyZXNwb25zZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1pZGRsZXdhcmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKG1pZGRsZXdhcmUoZXJyLCByZXNwb25zZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXNvbHZlKHByb21pc2VcclxuICAgICAgICAgIC50aGVuKCgpID0+IHJlc3BvbnNlKVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBlcnIucmVzcG9uc2UgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcclxuICAgICAgeGhyLnRpbWVvdXQgPSBOdW1iZXIodGltZW91dCkgfHwgMDtcclxuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9ICEhd2l0aENyZWRlbnRpYWxzO1xyXG5cclxuICAgICAgeGhyLnNlbmQoZGF0YSk7XHJcbiAgICB9KSk7XHJcblxyXG4gICAgcHJvbWlzZS5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xyXG4gICAgICBpZiAoeGhyKSB7XHJcbiAgICAgICAgeGhyLmFib3J0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcHJvbWlzZTtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoRmV0Y2gucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdGZXRjaCdcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGZldGNoQmVmb3JlTWlkZGxld2FyZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBjb25maWdcclxuICogQGRlc2NyaXB0aW9uIEJ1aWx0LWluIGJlZm9yZSBtaWRkbGV3YXJlIGZvciB1cmwsIGRhdGEsIG1ldGhvZCwgaGVhZGVycyBjb25zdHJ1Y3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBmZXRjaEJlZm9yZU1pZGRsZXdhcmUoY29uZmlnKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgYmFzZVVSTCxcclxuICAgIGRhdGEsXHJcbiAgICBoZWFkZXJzLFxyXG4gICAgbWV0aG9kLFxyXG4gICAgcGFyYW1zLFxyXG4gICAgcXVlcnksXHJcbiAgICB1cmxcclxuICB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IE1FVEhPRCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICBjb25maWcubWV0aG9kID0gTUVUSE9EO1xyXG4gIGNvbmZpZy51cmwgPSBjb25zdHJ1Y3RVUkwoYmFzZVVSTCwgdXJsLCBwYXJhbXMsIHF1ZXJ5KTtcclxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoZGF0YSwgTUVUSE9ELCBoZWFkZXJzKTtcclxuICBjb25maWcuaGVhZGVycyA9IG5ldyBTdXBlcihoZWFkZXJzKS5vYmplY3QoKGhlYWRlcnMsIHZhbHVlcywgaGVhZGVyKSA9PiB7XHJcbiAgICBoZWFkZXIgPSBuZXcgU3RyKGhlYWRlcilcclxuICAgICAgLnRvQ2FwaXRhbENhc2UoKVxyXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpXHJcbiAgICAgIC4kO1xyXG5cclxuICAgIGhlYWRlcnNbaGVhZGVyXSA9IHZhbHVlcy5qb2luKCcsICcpO1xyXG4gIH0pLiQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0ZldGNofSBmZXRjaFxyXG4gKiBAdHlwZSB7RmV0Y2h9XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVtcHR5IGluc3RhbmNlIG9mIEZldGNoLlxyXG4gKi9cclxuY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKTtcclxuXHJcbmV4cG9ydCB7IEZldGNoLCBmZXRjaCB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBSb3V0ZXJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFJvdXRlci5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBcnIgfSBmcm9tICcuL0Fycic7XHJcbmltcG9ydCB7IEVsZW0sIHdpbiB9IGZyb20gJy4vRWxlbSc7XHJcbmltcG9ydCB7IHNlbGYgfSBmcm9tICcuL0Z1bmMnO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGFzc2lnbiwgaXNOaWwsIGlzUmVnRXhwLCBpc1N0cmluZyB9IGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCBjb25zdHJ1Y3RVUkwgZnJvbSAnLi9oZWxwZXJzL2NvbnN0cnVjdFVSTCc7XHJcbmltcG9ydCByZXNvbHZlVVJMIGZyb20gJy4vaGVscGVycy9yZXNvbHZlVVJMJztcclxuXHJcbmNvbnN0IFJvdXRlcyA9IG5ldyBBcnIoW10pO1xyXG5jb25zdCBzdWJzY3JpYmVycyA9IG5ldyBTdXBlcih7fSk7XHJcbmNvbnN0IHtcclxuICBoaXN0b3J5LFxyXG4gIGxvY2F0aW9uLFxyXG4gIGxvY2F0aW9uOiB7XHJcbiAgICBvcmlnaW4sXHJcbiAgICBocmVmXHJcbiAgfVxyXG59ID0gZ2xvYmFsO1xyXG5sZXQgaW5pdGlhbGl6ZWQ7XHJcbmxldCBwdXNoZWQ7XHJcbmxldCB3YXNSb290O1xyXG5sZXQgd2FzRGVmYXVsdDtcclxubGV0IHJvb3RSb3V0ZTtcclxubGV0IHJlZGlyZWN0Um91dGU7XHJcbmxldCBSZWRpcmVjdFJvdXRlO1xyXG5sZXQgZGVmYXVsdFJvdXRlO1xyXG5sZXQgRGVmYXVsdFJvdXRlO1xyXG5sZXQgY3VycmVudFJvdXRlO1xyXG5sZXQgY3VycmVudFJvdXRlUGFyYW1zO1xyXG5cclxuY29uc3QgcGF0aFN3aXRjaGVyID0gc3dpdGNoZXIoJ2NhbGwnLCAoKSA9PiB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBwYXRoIG11c3QgYmUgYSBzdHJpbmcsIGEgcmVndWxhciBleHByZXNzaW9uIG9yIHVuZGVmaW5lZCEgKGF0IHJlZ2lzdGVyU3RhdGUpJyk7XHJcbn0pXHJcbiAgLmNhc2UoaXNSZWdFeHAsIChwYXRoKSA9PiAoe1xyXG4gICAgcGF0aDogcGF0aC5zb3VyY2UucmVwbGFjZSgvXFxcXFxcLy9nLCAnLycpLFxyXG4gICAgdXJsOiBwYXRoLFxyXG4gICAgcGFyYW1zOiB7fVxyXG4gIH0pKVxyXG4gIC5jYXNlKGlzTmlsLCAoKSA9PiAoe1xyXG4gICAgcGF0aDogJy8nLFxyXG4gICAgdXJsOiAnLycsXHJcbiAgICBwYXJhbXM6IHt9XHJcbiAgfSkpXHJcbiAgLmNhc2UoaXNTdHJpbmcsIChwYXRoKSA9PiB7XHJcbiAgICBpZiAocGF0aC5pbmRleE9mKCcvJykpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJZiByb3V0ZSBwYXRoIGlzIGEgc3RyaW5nIGl0IG11c3Qgc3RhcnQgd2l0aCBcIi9cIiEgKGF0IHJlZ2lzdGVyU3RhdGUpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5kZXggPSBwYXRoLmluZGV4T2YoJz8nKTtcclxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBTdXBlcih7fSk7XHJcbiAgICBsZXQgbmV3VVJMID0gJyc7XHJcbiAgICBjb25zdCBuZXdQYXRoID0gbmV3IFN0cihwYXRoKVxyXG4gICAgICAuc2xpY2UoMCwgaW5kZXggPT09IC0xID8gcGF0aC5sZW5ndGggOiBpbmRleClcclxuICAgICAgLnJlcGxhY2UoL15cXC98XFwvJC9nKVxyXG4gICAgICAuc3BsaXQoL1xcLy8pXHJcbiAgICAgIC5tYXAoKHBhcnQsIGksIGFycmF5KSA9PiB7XHJcbiAgICAgICAgaWYgKCFwYXJ0ICYmIGFycmF5Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWYgcm91dGUgcGF0aCBpcyBhIHN0cmluZyBpdCBtdXN0IG5vdCBjb250YWluIFwiLy9cIiBvciBlbmQgd2l0aCBcIi9cIiEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFydC5pbmRleE9mKCc6Jyk7XHJcblxyXG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWYgcm91dGUgcGF0aCBpcyBhIHN0cmluZyByZXNvdXJjZSBwYXJ0IG11c3QgYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIFVSTCBwYXJhbWV0ZXIhIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHBhcnQsXHJcbiAgICAgICAgICAgIHZhbHVlOiBwYXJ0XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIHJlZ2V4cCA9IC9bXi9dKi9cclxuICAgICAgICB9ID0gcmVzb2x2ZVBhcmFtZXRlcihcclxuICAgICAgICAgIHBhcnQuc2xpY2UoMSksXHJcbiAgICAgICAgICAnVVJMIHBhcmFtZXRlciBtdXN0IG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcgb3IgY29udGFpbiBjaGFyYWN0ZXJzIGJlc2lkZXMgXCJhLXpBLVpfJFwiISAoYXQgbWFrZVJvdXRlKScsXHJcbiAgICAgICAgICAnVVJMIHBhcmFtZXRlciByZWdleHAgdmFsaWRhdG9yIG11c3QgYmUgd2l0aGluIHBhcmVudGhlc2VzIChlLmcuIDp1c2VySWQoXFxcXGQrKSBhbmQgbm90IGNvbnRhaW4gb25lcykhIChhdCBtYWtlUm91dGUpJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHBhcmFtcy4kW25hbWVdID0gcGFyYW1zLmNvdW50O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdHlwZTogJ3BhcmFtJyxcclxuICAgICAgICAgIHVybDogYDokeyBuYW1lIH1gLFxyXG4gICAgICAgICAgdmFsdWU6IHJlZ2V4cFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pXHJcbiAgICAgIC53b3JkKCh7IHR5cGUsIHVybCwgdmFsdWUgfSkgPT4ge1xyXG4gICAgICAgIGxldCBuZXdQYXRoO1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BhcmFtJykge1xyXG4gICAgICAgICAgbmV3UGF0aCA9IGAoJHsgdmFsdWUuc291cmNlLnJlcGxhY2UoL1xcXFxcXC8vZywgJy8nKSB9KWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG5ld1BhdGggPSBuZXcgU3RyKHZhbHVlKS5lc2NhcGVSZWdFeHAoKS4kO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmV3VVJMICs9IGAvJHsgdXJsIH1gO1xyXG5cclxuICAgICAgICByZXR1cm4gYC8keyBuZXdQYXRoIH1gO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXRoOiBuZXdQYXRoLFxyXG4gICAgICB1cmw6IG5ld1VSTCxcclxuICAgICAgcGFyYW1zOiBwYXJhbXMuJFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbmNsYXNzIFJvdXRlIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHBhdGggPSAnLycsXHJcbiAgICAgIGFic3RyYWN0ID0gZmFsc2UsXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgZGVjb2RlUXVlcnkgPSB0cnVlLFxyXG4gICAgICBlbmNvZGVRdWVyeSA9IHRydWUsXHJcbiAgICAgIGRlY29kZVBhcmFtcyA9IHRydWUsXHJcbiAgICAgIGVuY29kZVBhcmFtcyA9IHRydWVcclxuICAgIH0gPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB1cmw6IHJlbGF0aXZlVVJMLFxyXG4gICAgICBwYXRoOiByZWxhdGl2ZVBhdGgsXHJcbiAgICAgIHBhcmFtc1xyXG4gICAgfSA9IHBhdGhTd2l0Y2hlcihwYXRoKTtcclxuICAgIGNvbnN0IHF1ZXJ5ID0ge307XHJcblxyXG4gICAgbmV3IFN1cGVyKHRoaXMpLmFzc2lnbih7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHBhcmVudE5hbWU6IHBhcmVudCxcclxuICAgICAgYWJzdHJhY3Q6ICEhYWJzdHJhY3QsXHJcbiAgICAgIGNoaWxkcmVuOiBuZXcgQXJyKFtdKSxcclxuICAgICAgZGVjb2RlUGFyYW1zOiAhIWRlY29kZVBhcmFtcyxcclxuICAgICAgZGVjb2RlUXVlcnk6ICEhZGVjb2RlUXVlcnksXHJcbiAgICAgIGVuY29kZVBhcmFtczogISFlbmNvZGVQYXJhbXMsXHJcbiAgICAgIGVuY29kZVF1ZXJ5OiAhIWVuY29kZVF1ZXJ5LFxyXG4gICAgICBwYXJhbXMsXHJcbiAgICAgIHF1ZXJ5LFxyXG4gICAgICByZWxhdGl2ZVBhdGgsXHJcbiAgICAgIHJlbGF0aXZlVVJMXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBpbmRleCA9IGlzU3RyaW5nKHBhdGgpID8gcGF0aC5pbmRleE9mKCc/JykgOiAtMTtcclxuXHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIG5ldyBTdHIocGF0aClcclxuICAgICAgICAucmVwbGFjZSgvJiQvKVxyXG4gICAgICAgIC5zbGljZShpbmRleCArIDEpXHJcbiAgICAgICAgLnNwbGl0KCcmJylcclxuICAgICAgICAuZm9yRWFjaCgocGFyYW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgcmVnZXhwID0gL1tcXHNcXFNdKi9cclxuICAgICAgICAgIH0gPSByZXNvbHZlUGFyYW1ldGVyKFxyXG4gICAgICAgICAgICBwYXJhbSxcclxuICAgICAgICAgICAgJ1F1ZXJ5IHBhcmFtZXRlciBtdXN0IG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcgb3IgY29udGFpbiBjaGFyYWN0ZXJzIGJlc2lkZXMgXCJhLXpBLVpfJFwiISAoYXQgbWFrZVJvdXRlKScsXHJcbiAgICAgICAgICAgICdRdWVyeSBwYXJhbWV0ZXIgcmVnZXhwIHZhbGlkYXRvciBtdXN0IGJlIHdpdGhpbiBwYXJlbnRoZXNlcyAoZS5nLiA6dXNlcklkKFxcXFxkKykpIGFuZCBub3QgY29udGFpbiB0aGVtISAoYXQgbWFrZVJvdXRlKSdcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgcXVlcnlbbmFtZV0gPSBuZXcgUmVnRXhwKGBeJHsgcmVnZXhwLnNvdXJjZS5yZXBsYWNlKC9cXFxcXFwvL2csICcvJykgfSRgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSA9PT0gZGVmYXVsdFJvdXRlICYmIChcclxuICAgICAgICBuZXcgU3VwZXIocGFyYW1zKS5jb3VudFxyXG4gICAgICAgIHx8IG5ldyBTdXBlcihxdWVyeSkuY291bnRcclxuICAgICAgKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmF1bHQgcm91dGUgbXVzdCBub3QgaGF2ZSBVUkwgb3IgcXVlcnkgcGFyYW1zISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgYmFzZVJvdXRlID0gbmV3IFJvdXRlKCk7XHJcblxyXG5mdW5jdGlvbiBpbml0Um91dGVyKCkge1xyXG4gIGlmIChpbml0aWFsaXplZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gIFJlZGlyZWN0Um91dGUgPSAoUm91dGVzLmZpbmQoKHsgbmFtZSB9KSA9PiBuYW1lID09PSByZWRpcmVjdFJvdXRlKSB8fCB7fSkudmFsdWU7XHJcbiAgRGVmYXVsdFJvdXRlID0gKFJvdXRlcy5maW5kKCh7IG5hbWUgfSkgPT4gbmFtZSA9PT0gZGVmYXVsdFJvdXRlKSB8fCB7fSkudmFsdWU7XHJcblxyXG4gIGlmIChyZWRpcmVjdFJvdXRlICYmICFSZWRpcmVjdFJvdXRlKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHNwZWNpZmllZCBmYWxsYmFjayByb3V0ZSAoXCIkeyByZWRpcmVjdFJvdXRlIH1cIikhIChhdCBpbml0Um91dGVyKWApO1xyXG4gIH1cclxuXHJcbiAgUm91dGVzXHJcbiAgICAuZm9yRWFjaCgocm91dGUpID0+IHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIHBhcmVudE5hbWUsXHJcbiAgICAgICAgbmFtZVxyXG4gICAgICB9ID0gcm91dGU7XHJcbiAgICAgIGNvbnN0IFBhcmVudE5hbWUgPSBwYXJlbnROYW1lIHx8IHJvb3RSb3V0ZTtcclxuICAgICAgY29uc3QgeyB2YWx1ZTogcGFyZW50IH0gPSBSb3V0ZXMuZmluZCgoeyBuYW1lIH0pID0+IG5hbWUgPT09IFBhcmVudE5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgaWYgKCFwYXJlbnQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggcGFyZW50IHJvdXRlIChcIiR7IFBhcmVudE5hbWUgfVwiKSBmb3VuZCBmb3IgdGhlIHJvdXRlIChcIiR7IG5hbWUgfVwiKSEgKGF0IGluaXRSb3V0ZXIpYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghcGFyZW50LmFic3RyYWN0ICYmIG5hbWUgIT09IHJvb3RSb3V0ZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyZW50IHJvdXRlIG11c3QgYmUgYWJzdHJhY3QgKGZvciBcIiR7IG5hbWUgfVwiKSEgKGF0IGluaXRSb3V0ZXIpYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuYW1lICE9PSByb290Um91dGUpIHtcclxuICAgICAgICByb3V0ZS5wYXJlbnROYW1lID0gUGFyZW50TmFtZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcm91dGUucGFyZW50ID0gbmFtZSA9PT0gcm9vdFJvdXRlXHJcbiAgICAgICAgPyBiYXNlUm91dGVcclxuICAgICAgICA6IHBhcmVudDtcclxuICAgIH0pXHJcbiAgICAuZm9yRWFjaCgocm91dGUpID0+IHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgcGFyZW50OiB7XHJcbiAgICAgICAgICBwYXJhbXM6IHBhcmVudFBhcmFtcyxcclxuICAgICAgICAgIHF1ZXJ5OiBwYXJlbnRRdWVyeSxcclxuICAgICAgICAgIHBhdGhcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcmFtcyxcclxuICAgICAgICBxdWVyeSxcclxuICAgICAgICByZWxhdGl2ZVVSTCxcclxuICAgICAgICByZWxhdGl2ZVBhdGhcclxuICAgICAgfSA9IHJvdXRlO1xyXG4gICAgICBsZXQgcHJvdG8gPSByb3V0ZTtcclxuICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgbGV0IG5ld1BhdGggPSByZWxhdGl2ZVBhdGg7XHJcbiAgICAgIGxldCBuZXdVUkwgPSAnJztcclxuXHJcbiAgICAgIGlmIChpc1JlZ0V4cChwYXRoKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVVJMIHJlZ2V4cCByb3V0ZSBjYW5ub3QgYmUgZXh0ZW5kZWQhIChhdCBpbml0Um91dGVyKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB3aGlsZSAocHJvdG8gPSBwcm90by5wYXJlbnQpIHtcclxuICAgICAgICBjb3VudCArPSBuZXcgU3VwZXIocHJvdG8ucGFyYW1zKS5jb3VudDtcclxuICAgICAgICBuZXdQYXRoID0gcHJvdG8ucmVsYXRpdmVQYXRoICsgbmV3UGF0aDtcclxuICAgICAgICBuZXdVUkwgPSBwcm90by5yZWxhdGl2ZVVSTCArIG5ld1VSTDtcclxuXHJcbiAgICAgICAgcHJvdG8uY2hpbGRyZW4ucHVzaChyb3V0ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG5ld1BhdGggPSBuZXcgUmVnRXhwKGBeJHsgbmV3UGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJykucmVwbGFjZSgvXFwvJC8sICcnKSB8fCAnLycgfSRgKTtcclxuICAgICAgbmV3VVJMID0gaXNSZWdFeHAocmVsYXRpdmVVUkwpXHJcbiAgICAgICAgPyBuZXdQYXRoXHJcbiAgICAgICAgOiAobmV3VVJMICsgcmVsYXRpdmVVUkwpLnJlcGxhY2UoL1xcLysvZywgJy8nKS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJztcclxuXHJcbiAgICAgIG5ldyBTdXBlcihxdWVyeSkucHJvdG8ocGFyZW50UXVlcnkpO1xyXG4gICAgICBuZXcgU3VwZXIocGFyYW1zKVxyXG4gICAgICAgIC5wcm90byhwYXJlbnRQYXJhbXMpXHJcbiAgICAgICAgLmZvckVhY2goKHZhbHVlLCBrZXksIHBhcmFtcykgPT4ge1xyXG4gICAgICAgICAgcGFyYW1zW2tleV0gKz0gY291bnQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAobmFtZSA9PT0gZGVmYXVsdFJvdXRlICYmIChcclxuICAgICAgICAgIG5ldyBTdXBlcihwYXJhbXMpLmNvdW50XHJcbiAgICAgICAgICB8fCBuZXcgU3VwZXIocXVlcnkpLmNvdW50XHJcbiAgICAgICAgKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGVmYXVsdCByb3V0ZSBtdXN0IG5vdCBoYXZlIFVSTCBvciBxdWVyeSBwYXJhbXMhIChhdCBpbml0Um91dGVyKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByb3V0ZS51cmwgPSBuZXdVUkw7XHJcbiAgICAgIHJvdXRlLnZhbGlkYXRlUGF0aCA9IG5ld1BhdGg7XHJcbiAgICB9KTtcclxuXHJcbiAgY2hhbmdlUm91dGUoKTtcclxuXHJcbiAgd2luLm9uKHtcclxuICAgIHBvcHN0YXRlKCkge1xyXG4gICAgICBpZiAobG9jYXRpb24uaHJlZiAhPT0gaHJlZikge1xyXG4gICAgICAgIHB1c2hlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwdXNoZWQpIHtcclxuICAgICAgICBjaGFuZ2VSb3V0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgY2xpY2soZSkge1xyXG4gICAgICBjb25zdCBjbG9zZXN0TGluayA9IG5ldyBFbGVtKGUudGFyZ2V0KS5jbG9zZXN0KCdhJyk7XHJcblxyXG4gICAgICBpZiAoY2xvc2VzdExpbmsubGVuZ3RoICYmIGNsb3Nlc3RMaW5rLmF0dHIoJ3RhcmdldCcpICE9PSAnX2JsYW5rJykge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgZm9yd2FyZChjbG9zZXN0TGluay5hdHRyKCdocmVmJykgfHwgJycsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VSb3V0ZShvcHRpb25zKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgbmFtZSxcclxuICAgIHBhdGgsXHJcbiAgICBhYnN0cmFjdCxcclxuICAgIHJvb3QsXHJcbiAgICBmYWxsYmFja1RvLFxyXG4gICAgZGVmYXVsdDogaXNEZWZhdWx0XHJcbiAgfSA9IG9wdGlvbnMgfHwge307XHJcblxyXG4gIGlmIChpbml0aWFsaXplZCkge1xyXG4gICAgY29uc29sZS53YXJuKCdSb3V0ZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQgKGF0IG1ha2VSb3V0ZSknKTtcclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9XHJcblxyXG4gIGlmICh3YXNSb290ICYmIHJvb3QpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgY2FuJ3QgYmUgdHdvIHJvb3Qgcm91dGVzIChcIiR7IHJvb3RSb3V0ZSB9XCIgYW5kIFwiJHsgbmFtZSB9XCIpISAoYXQgbWFrZVJvdXRlKWApO1xyXG4gIH1cclxuXHJcbiAgaWYgKHdhc0RlZmF1bHQgJiYgaXNEZWZhdWx0KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGNhbid0IGJlIHR3byBkZWZhdWx0IHJvdXRlcyAoXCIkeyBkZWZhdWx0Um91dGUgfVwiIGFuZCBcIiR7IG5hbWUgfVwiKSEgKGF0IG1ha2VSb3V0ZSlgKTtcclxuICB9XHJcblxyXG4gIGlmICghbmFtZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBtdXN0IGhhdmUgYSBub24tZW1wdHkgc3RyaW5nIFwibmFtZVwiIHByb3BlcnR5ISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gIH1cclxuXHJcbiAgaWYgKFJvdXRlcy5zb21lKCh7IG5hbWU6IE5hbWUgfSkgPT4gTmFtZSA9PT0gbmFtZSkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignU3RhdGUgbXVzdCBoYXZlIHVuaXF1ZSBcIm5hbWVcIiBwcm9wZXJ0eSEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICB9XHJcblxyXG4gIGlmIChyb290KSB7XHJcbiAgICB3YXNSb290ID0gdHJ1ZTtcclxuICAgIHJvb3RSb3V0ZSA9IG5hbWU7XHJcbiAgICBvcHRpb25zLnBhcmVudCA9IG51bGw7XHJcblxyXG4gICAgaWYgKGZhbGxiYWNrVG8pIHtcclxuICAgICAgcmVkaXJlY3RSb3V0ZSA9IGZhbGxiYWNrVG87XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEZWZhdWx0KSB7XHJcbiAgICB3YXNEZWZhdWx0ID0gdHJ1ZTtcclxuICAgIGRlZmF1bHRSb3V0ZSA9IG5hbWU7XHJcblxyXG4gICAgaWYgKGFic3RyYWN0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGVmYXVsdCByb3V0ZSBjYW5cXCd0IGJlIGFic3RyYWN0ISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1JlZ0V4cChwYXRoKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmF1bHQgcm91dGUgY2FuXFwndCBoYXZlIGEgcmVnZXhwIHBhdGghIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCByb3V0ZSA9IG5ldyBSb3V0ZShvcHRpb25zKTtcclxuXHJcbiAgUm91dGVzLnB1c2gocm91dGUpO1xyXG5cclxuICBsZXQgdW5zdWJzY3JpYmU7XHJcbiAgbGV0IHJvdXRlTG9hZGVkO1xyXG5cclxuICByZXR1cm4gKEJsb2NrKSA9PiAoXHJcbiAgICBjbGFzcyBleHRlbmRzIEJsb2NrIHtcclxuICAgICAgc3RhdGljIHRlbXBsYXRlID0gYDxkaXYgY2xhc3M9XCJkd2F5bmUtcm91dGUgcm91dGUtJHsgbmFtZSB9XCIgZC1zaG93PVwie19faXNDdXJyZW50Um91dGVfX31cIj4keyBCbG9jay50ZW1wbGF0ZSB9PC9kaXY+YDtcclxuXHJcbiAgICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgICAgaWYgKHJvb3QpIHtcclxuICAgICAgICAgIGluaXRSb3V0ZXIoKTtcclxuXHJcbiAgICAgICAgICBjb25zdCByb3V0ZXIgPSB7XHJcbiAgICAgICAgICAgIGJ1aWxkVVJMKG5hbWUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHJvdXRlIH0gPSBSb3V0ZXMuZmluZCgoeyBuYW1lOiBuIH0pID0+IG4gPT09IG5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgICBpZiAoIXJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGFyZSBubyByb3V0ZXMgd2l0aCBuYW1lIFwiJHsgbmFtZSB9XCIhIChhdCByb3V0ZXIuYnVpbGRVUkwpYCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICB1cmwsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGVQYXJhbXMsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGVRdWVyeVxyXG4gICAgICAgICAgICAgIH0gPSByb3V0ZTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGlzUmVnRXhwKHVybCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVVJMIGNhbiBiZSBidWlsdCBvbmx5IGZyb20gdGhlIHN0cmluZyBVUkxzISAoYXQgcm91dGVyLmJ1aWxkVVJMKScpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zID0ge30sXHJcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgaGFzaCA9ICcnXHJcbiAgICAgICAgICAgICAgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RVUkwob3JpZ2luLCB1cmwsIHBhcmFtcywgcXVlcnksIGhhc2gsIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtczogZW5jb2RlUGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgcXVlcnk6IGVuY29kZVF1ZXJ5XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdvKG5hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICBmb3J3YXJkKHJvdXRlci5idWlsZFVSTChuYW1lLCBvcHRpb25zKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdvVG9VUkwodXJsKSB7XHJcbiAgICAgICAgICAgICAgZm9yd2FyZCh1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwdXNoVVJMKHVybCkge1xyXG4gICAgICAgICAgICAgIGNoYW5nZUhpc3RvcnkodXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVkaXJlY3QobmFtZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICAgIGZvcndhcmQocm91dGVyLmJ1aWxkVVJMKG5hbWUsIG9wdGlvbnMpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVkaXJlY3RUb1VSTCh1cmwpIHtcclxuICAgICAgICAgICAgICBmb3J3YXJkKHVybCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlcGxhY2VVUkwodXJsKSB7XHJcbiAgICAgICAgICAgICAgY2hhbmdlSGlzdG9yeSh1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHRoaXMuZ2xvYmFsLnJvdXRlciA9IHJvdXRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX19pc0N1cnJlbnRSb3V0ZV9fID0gKFxyXG4gICAgICAgICAgcm91dGUgPT09IGN1cnJlbnRSb3V0ZVxyXG4gICAgICAgICAgfHwgcm91dGUuY2hpbGRyZW4uaW5kZXhPZihjdXJyZW50Um91dGUpICE9PSAtMVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5hcmdzLnJvdXRlID0gY3VycmVudFJvdXRlUGFyYW1zO1xyXG5cclxuICAgICAgICByb3V0ZUxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKG5hbWUsICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGlzQ3VycmVudFJvdXRlID0gKFxyXG4gICAgICAgICAgICByb3V0ZSA9PT0gY3VycmVudFJvdXRlXHJcbiAgICAgICAgICAgIHx8IHJvdXRlLmNoaWxkcmVuLmluZGV4T2YoY3VycmVudFJvdXRlKSAhPT0gLTFcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKGlzQ3VycmVudFJvdXRlKSB7XHJcbiAgICAgICAgICAgIGNhbGxCZWZvcmVMb2FkKHRoaXMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FsbEJlZm9yZUxlYXZlKHRoaXMpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuYXJncy5yb3V0ZSA9IGN1cnJlbnRSb3V0ZVBhcmFtcztcclxuICAgICAgICAgIHRoaXMuX19pc0N1cnJlbnRSb3V0ZV9fID0gaXNDdXJyZW50Um91dGU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9faXNDdXJyZW50Um91dGVfXykge1xyXG4gICAgICAgICAgY2FsbEJlZm9yZUxvYWQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBiZWZvcmVSZW1vdmUoKSB7XHJcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcclxuICAgICAgICB1bnN1YnNjcmliZSA9IG51bGw7XHJcbiAgICAgICAgY2FsbEJlZm9yZUxlYXZlKHRoaXMpO1xyXG4gICAgICAgIHN1cGVyLmJlZm9yZVJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgZnVuY3Rpb24gY2FsbEJlZm9yZUxvYWQocm91dGUpIHtcclxuICAgIGlmIChyb3V0ZS5iZWZvcmVMb2FkUm91dGUgJiYgIXJvdXRlTG9hZGVkKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcm91dGUuYmVmb3JlTG9hZFJvdXRlKCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNiZWZvcmVMZWF2ZTpgLCBlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcm91dGVMb2FkZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FsbEJlZm9yZUxlYXZlKHJvdXRlKSB7XHJcbiAgICBpZiAocm91dGUuYmVmb3JlTGVhdmVSb3V0ZSAmJiByb3V0ZUxvYWRlZCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJvdXRlLmJlZm9yZUxlYXZlUm91dGUoKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I2JlZm9yZUxlYXZlOmAsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByb3V0ZUxvYWRlZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3Vic2NyaWJlKG5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgc3Vic2NyaWJlcnMuJFtuYW1lXSA9IGNhbGxiYWNrO1xyXG5cclxuICByZXR1cm4gKCkgPT4ge1xyXG4gICAgc3Vic2NyaWJlcnMuZGVsZXRlKG5hbWUpO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcndhcmQodXJsLCBwdXNoKSB7XHJcbiAgY2hhbmdlSGlzdG9yeSh1cmwsIHB1c2gpO1xyXG4gIGNoYW5nZVJvdXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVJvdXRlKCkge1xyXG4gIGNvbnN0IHJvdXRlID0gZmluZFJvdXRlQnlVUkwoKTtcclxuXHJcbiAgaWYgKHJvdXRlKSB7XHJcbiAgICAoe1xyXG4gICAgICByb3V0ZTogY3VycmVudFJvdXRlLFxyXG4gICAgICAuLi5jdXJyZW50Um91dGVQYXJhbXNcclxuICAgIH0gPSByb3V0ZSk7XHJcbiAgICBhc3NpZ24oY3VycmVudFJvdXRlUGFyYW1zLCB7XHJcbiAgICAgIG5hbWU6IGN1cnJlbnRSb3V0ZS5uYW1lLFxyXG4gICAgICBob3N0OiBsb2NhdGlvbi5ob3N0LFxyXG4gICAgICBob3N0bmFtZTogbG9jYXRpb24uaG9zdG5hbWUsXHJcbiAgICAgIGhyZWY6IGxvY2F0aW9uLmhyZWYsXHJcbiAgICAgIG9yaWdpbjogbG9jYXRpb24ub3JpZ2luLFxyXG4gICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXHJcbiAgICAgIHBvcnQ6IGxvY2F0aW9uLnBvcnQsXHJcbiAgICAgIHByb3RvY29sOiBsb2NhdGlvbi5wcm90b2NvbCxcclxuICAgICAgc2VhcmNoOiBsb2NhdGlvbi5zZWFyY2hcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAocmVkaXJlY3RSb3V0ZSkge1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIGVuY29kZVBhcmFtcyxcclxuICAgICAgICBlbmNvZGVRdWVyeVxyXG4gICAgICB9ID0gUmVkaXJlY3RSb3V0ZTtcclxuXHJcbiAgICAgIHJldHVybiBmb3J3YXJkKGNvbnN0cnVjdFVSTChvcmlnaW4sIHVybCwge30sIHt9LCAnJywge1xyXG4gICAgICAgIHBhcmFtczogZW5jb2RlUGFyYW1zLFxyXG4gICAgICAgIHF1ZXJ5OiBlbmNvZGVRdWVyeVxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3VycmVudFJvdXRlID0gbnVsbDtcclxuICAgIGN1cnJlbnRSb3V0ZVBhcmFtcyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBzdWJzY3JpYmVycy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRSb3V0ZUJ5VVJMKCkge1xyXG4gIGNvbnN0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgJy8nO1xyXG4gIGNvbnN0IHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCB8fCAnJztcclxuICBsZXQgdXJsUGFyYW1zO1xyXG5cclxuICBSb3V0ZXMuc29tZSgocm91dGUpID0+IHtcclxuICAgIGlmIChyb3V0ZS5hYnN0cmFjdCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICB1cmw6IHJvdXRlVVJMLFxyXG4gICAgICB2YWxpZGF0ZVBhdGgsXHJcbiAgICAgIHBhcmFtcyxcclxuICAgICAgcXVlcnk6IHJlcXVpcmVkUXVlcnksXHJcbiAgICAgIGRlY29kZVBhcmFtcyxcclxuICAgICAgZGVjb2RlUXVlcnlcclxuICAgIH0gPSByb3V0ZTtcclxuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVVSTChkZWNvZGVRdWVyeSk7XHJcbiAgICBjb25zdCBxdWVyeSA9IG5ldyBTdXBlcihyZXNvbHZlZC5xdWVyeSk7XHJcbiAgICBjb25zdCBldmVudHVhbFBhcmFtcyA9IHt9O1xyXG4gICAgY29uc3QgbWF0Y2ggPSAoXHJcbiAgICAgIChwYXRobmFtZS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJykgK1xyXG4gICAgICAoaXNSZWdFeHAocm91dGVVUkwpID8gc2VhcmNoIDogJycpXHJcbiAgICApLm1hdGNoKHZhbGlkYXRlUGF0aCk7XHJcblxyXG4gICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogZXNsaW50IGd1YXJkLWZvci1pbjogMCAqL1xyXG4gICAgZm9yIChjb25zdCBwYXJhbSBpbiByZXF1aXJlZFF1ZXJ5KSB7XHJcbiAgICAgIGlmICghcXVlcnkuaGFzT3duKHBhcmFtKSB8fCAhcmVxdWlyZWRRdWVyeVtwYXJhbV0udGVzdChxdWVyeS4kW3BhcmFtXSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtYXRjaC5zaGlmdCgpO1xyXG5cclxuICAgIGZvciAoY29uc3QgcGFyYW0gaW4gcGFyYW1zKSB7XHJcbiAgICAgIGV2ZW50dWFsUGFyYW1zW3BhcmFtXSA9IGRlY29kZShtYXRjaFtwYXJhbXNbcGFyYW1dXSwgZGVjb2RlUGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICB1cmxQYXJhbXMgPSB7XHJcbiAgICAgIHJvdXRlLFxyXG4gICAgICBwYXJhbXM6IGV2ZW50dWFsUGFyYW1zLFxyXG4gICAgICBxdWVyeTogcXVlcnkuJCxcclxuICAgICAgaGFzaDogcmVzb2x2ZWQuaGFzaFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgaWYgKHVybFBhcmFtcykge1xyXG4gICAgcmV0dXJuIHVybFBhcmFtcztcclxuICB9XHJcblxyXG4gIGlmICghZGVmYXVsdFJvdXRlKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcm91dGU6IERlZmF1bHRSb3V0ZSxcclxuICAgIHBhcmFtczoge30sXHJcbiAgICAuLi5yZXNvbHZlVVJMKERlZmF1bHRSb3V0ZS5kZWNvZGVRdWVyeSlcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWNvZGUoc3RyaW5nLCBkZWNvZGVQYXJhbXMpIHtcclxuICByZXR1cm4gZGVjb2RlUGFyYW1zXHJcbiAgICA/IGRlY29kZVVSSUNvbXBvbmVudChzdHJpbmcpXHJcbiAgICA6IHN0cmluZztcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlSGlzdG9yeSh1cmwsIHB1c2gpIHtcclxuICB0cnkge1xyXG4gICAgaGlzdG9yeVtwdXNoID8gJ3B1c2hTdGF0ZScgOiAncmVwbGFjZVN0YXRlJ10obnVsbCwgbnVsbCwgdXJsKTtcclxuICAgIHB1c2hlZCA9IHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVzb2x2ZVBhcmFtZXRlcihwYXJhbSwgbmFtZUVycm9yTmFtZSwgdmFsdWVFcnJvck5hbWUpIHtcclxuICBjb25zdCBuYW1lTWF0Y2ggPSBwYXJhbS5tYXRjaCgvXlthLXpfJF0rL2kpO1xyXG5cclxuICBpZiAoIW5hbWVNYXRjaCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKG5hbWVFcnJvck5hbWUpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbmFtZSA9IG5hbWVNYXRjaFswXTtcclxuICBjb25zdCB2YWx1ZSA9IHBhcmFtLnNsaWNlKG5hbWUubGVuZ3RoKTtcclxuICBsZXQgcmVnZXhwO1xyXG5cclxuICBpZiAodmFsdWUgJiYgKHZhbHVlLmluZGV4T2YoJygnKSB8fCB2YWx1ZS5pbmRleE9mKCcpJykgIT09IHZhbHVlLmxlbmd0aCAtIDEpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IodmFsdWVFcnJvck5hbWUpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHZhbHVlKSB7XHJcbiAgICByZWdleHAgPSBuZXcgUmVnRXhwKHZhbHVlLnNsaWNlKDEsIC0xKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZSxcclxuICAgIHJlZ2V4cFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB7IG1ha2VSb3V0ZSB9O1xyXG4iLCIvKiBlc2xpbnQgbm8tbmVzdGVkLXRlcm5hcnk6IDAgKi9cclxuLyogZXNsaW50IG5vLW5lZ2F0ZWQtY29uZGl0aW9uOiAwICovXHJcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9hcHBsaWVkUmVnRXhwc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgdHlwZXMgb2Ygc3ludGF4IGZvciB7QGxpbmsgRWxlbSNhcHBseX0uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBtYXRjaEFwcGxpZWRFeHByQ2FsbGJhY2tcclxuICogQHBhcmFtIHtFbGVtfSBlbGVtIC0gRC1lbGVtIG9mIGFuIGVsZW1lbnQgdG8gYXBwbHkgZXhwcmVzc2lvbiB0by5cclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIE1hdGNoZWQgYXBwbGllZCBuYW1lLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gYXJnIC0gQXJndW1lbnQgd2l0aGluIHRoZSBwYXJlbnRoZXNlcy5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGUge09iamVjdC48U3RyaW5nLCBtYXRjaEFwcGxpZWRFeHByQ2FsbGJhY2t8T2JqZWN0LjxTdHJpbmcsIG1hdGNoQXBwbGllZEV4cHJDYWxsYmFjaz4+fVxyXG4gKiBAZGVzY3JpcHRpb24gT2JqZWN0IG9mIGRpZmZlcmVudCB0eXBlcyBvZiBzeW50YXguXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IGFwcGxpZWRSZWdFeHBzID0ge1xyXG4gICcjJyhlbGVtLCBpZCkge1xyXG4gICAgZWxlbS5pZChpZCk7XHJcbiAgfSxcclxuICAnLicoZWxlbSwgY2xzKSB7XHJcbiAgICBlbGVtLmFkZENsYXNzKGNscyk7XHJcbiAgfSxcclxuICAkKGVsZW0sIGF0dHIsIHZhbHVlKSB7XHJcbiAgICBlbGVtLmF0dHIoYXR0ciwgdmFsdWUpO1xyXG4gIH0sXHJcbiAgJ0AnKGVsZW0sIHByb3AsIHZhbHVlKSB7XHJcbiAgICBlbGVtLmNzcyhwcm9wLCB2YWx1ZSk7XHJcbiAgfSxcclxuICAnJicoZWxlbSwgbmFtZSwgaHRtbCkge1xyXG4gICAgZWxlbS5odG1sKGh0bWwpO1xyXG4gIH0sXHJcbiAgJyonKGVsZW0sIG5hbWUsIHRleHQpIHtcclxuICAgIGVsZW0udGV4dCh0ZXh0KTtcclxuICB9LFxyXG4gICctJzoge1xyXG4gICAgJy4nKGVsZW0sIGNscykge1xyXG4gICAgICBlbGVtLnJlbW92ZUNsYXNzKGNscyk7XHJcbiAgICB9LFxyXG4gICAgJChlbGVtLCBhdHRyKSB7XHJcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgIH0sXHJcbiAgICAnQCcoZWxlbSwgcHJvcCkge1xyXG4gICAgICBlbGVtLnJlbW92ZUNTUyhwcm9wKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9lbGVtZW50c1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgY2FudmFzIG1ldGhvZHMgZm9yIHtAbGluayBFbGVtfSBmb3IgY3JlYXRpbmcgaHRtbC1lbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEB0eXBlIHtTdHJpbmdbXX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBjYW52YXNHZXRNZXRob2RzID0gW1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NyZWF0ZUltYWdlRGF0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NyZWF0ZUltYWdlRGF0YVxyXG4gICAqL1xyXG4gICdjcmVhdGVJbWFnZURhdGEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjcmVhdGVMaW5lYXJHcmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7Q2FudmFzR3JhZGllbnR8dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY3JlYXRlTGluZWFyR3JhZGllbnRcclxuICAgKi9cclxuICAnY3JlYXRlTGluZWFyR3JhZGllbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjcmVhdGVQYXR0ZXJuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtDYW52YXNQYXR0ZXJufHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NyZWF0ZVBhdHRlcm5cclxuICAgKi9cclxuICAnY3JlYXRlUGF0dGVybicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NyZWF0ZVJhZGlhbEdyYWRpZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtDYW52YXNHcmFkaWVudHx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jcmVhdGVSYWRpYWxHcmFkaWVudFxyXG4gICAqL1xyXG4gICdjcmVhdGVSYWRpYWxHcmFkaWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2dldEltYWdlRGF0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2dldEltYWdlRGF0YVxyXG4gICAqL1xyXG4gICdnZXRJbWFnZURhdGEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnZXRMaW5lRGFzaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyW118dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZ2V0TGluZURhc2hcclxuICAgKi9cclxuICAnZ2V0TGluZURhc2gnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpc1BvaW50SW5QYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2lzUG9pbnRJblBhdGhcclxuICAgKi9cclxuICAnaXNQb2ludEluUGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2lzUG9pbnRJblN0cm9rZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbnx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9pc1BvaW50SW5TdHJva2VcclxuICAgKi9cclxuICAnaXNQb2ludEluU3Ryb2tlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVhc3VyZVRleHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge1RleHRNZXRyaWNzfHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL21lYXN1cmVUZXh0XHJcbiAgICovXHJcbiAgJ21lYXN1cmVUZXh0J1xyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhbnZhc1Jlc3RNZXRob2RzID0gW1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FyY1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvYXJjXHJcbiAgICovXHJcbiAgJ2FyYycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FyY1RvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9hcmNUb1xyXG4gICAqL1xyXG4gICdhcmNUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JlZ2luUGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvYmVnaW5QYXRoXHJcbiAgICovXHJcbiAgJ2JlZ2luUGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JlemllckN1cnZlVG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2JlemllckN1cnZlVG9cclxuICAgKi9cclxuICAnYmV6aWVyQ3VydmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NsZWFyUmVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY2xlYXJSZWN0XHJcbiAgICovXHJcbiAgJ2NsZWFyUmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NsaXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NsaXBcclxuICAgKi9cclxuICAnY2xpcCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Nsb3NlUGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY2xvc2VQYXRoXHJcbiAgICovXHJcbiAgJ2Nsb3NlUGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RyYXdGb2N1c0lmTmVlZGVkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9kcmF3Rm9jdXNJZk5lZWRlZFxyXG4gICAqL1xyXG4gICdkcmF3Rm9jdXNJZk5lZWRlZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RyYXdJbWFnZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZHJhd0ltYWdlXHJcbiAgICovXHJcbiAgJ2RyYXdJbWFnZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2VsbGlwc2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2VsbGlwc2VcclxuICAgKi9cclxuICAnZWxsaXBzZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpbGxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxcclxuICAgKi9cclxuICAnZmlsbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpbGxSZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsUmVjdFxyXG4gICAqL1xyXG4gICdmaWxsUmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpbGxUZXh0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsVGV4dFxyXG4gICAqL1xyXG4gICdmaWxsVGV4dCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xpbmVUb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvbGluZVRvXHJcbiAgICovXHJcbiAgJ2xpbmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21vdmVUb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvbW92ZVRvXHJcbiAgICovXHJcbiAgJ21vdmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3B1dEltYWdlRGF0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcHV0SW1hZ2VEYXRhXHJcbiAgICovXHJcbiAgJ3B1dEltYWdlRGF0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3F1YWRyYXRpY0N1cnZlVG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3F1YWRyYXRpY0N1cnZlVG9cclxuICAgKi9cclxuICAncXVhZHJhdGljQ3VydmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3JlY3RcclxuICAgKi9cclxuICAncmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Jlc2V0VHJhbnNmb3JtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9yZXNldFRyYW5zZm9ybVxyXG4gICAqL1xyXG4gICdyZXNldFRyYW5zZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Jlc3RvcmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3Jlc3RvcmVcclxuICAgKi9cclxuICAncmVzdG9yZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JvdGF0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcm90YXRlXHJcbiAgICovXHJcbiAgJ3JvdGF0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NhdmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NhdmVcclxuICAgKi9cclxuICAnc2F2ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NjYWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zY2FsZVxyXG4gICAqL1xyXG4gICdzY2FsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NldExpbmVEYXNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaFxyXG4gICAqL1xyXG4gICdzZXRMaW5lRGFzaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NldFRyYW5zZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc2V0VHJhbnNmb3JtXHJcbiAgICovXHJcbiAgJ3NldFRyYW5zZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0cm9rZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc3Ryb2tlXHJcbiAgICovXHJcbiAgJ3N0cm9rZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0cm9rZVJlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3N0cm9rZVJlY3RcclxuICAgKi9cclxuICAnc3Ryb2tlUmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0cm9rZVRleHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3N0cm9rZVRleHRcclxuICAgKi9cclxuICAnc3Ryb2tlVGV4dCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyYW5zZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvdHJhbnNmb3JtXHJcbiAgICovXHJcbiAgJ3RyYW5zZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyYW5zbGF0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvdHJhbnNsYXRlXHJcbiAgICovXHJcbiAgJ3RyYW5zbGF0ZSdcclxuXTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL2NvbnN0cnVjdG9yc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBjb25zdHJ1Y3RvcnMgbGV2ZWxzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUge0FycmF5W119XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY29uc3RydWN0b3JzID0gW1xyXG4gIFtdLFxyXG4gIFtdLFxyXG4gIFtdXHJcbl07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9lbGVtZW50c1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBtZXRob2RzIGZvciB7QGxpbmsgRWxlbX0gZm9yIGNyZWF0aW5nIGh0bWwtZWxlbWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdFxyXG4gKiBAdHlwZSB7U3RyaW5nW119XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaHRtbEVsZW1lbnRzID0gW1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYWJiclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FiYnInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhZGRyZXNzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYWRkcmVzcycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FyZWFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhcmVhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYXJ0aWNsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FydGljbGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhdWRpb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2F1ZGlvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2InLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiYXNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYmFzZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JkaVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JkaScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Jkb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JkbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Jsb2NrcXVvdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdibG9ja3F1b3RlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYm9keVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JvZHknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYnV0dG9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYnV0dG9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2FudmFzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY2FudmFzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2FwdGlvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NhcHRpb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjaXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY2l0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NvZGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb2RlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29sXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY29sJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29sZ3JvdXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb2xncm91cCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NvbnRlbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb250ZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGF0YWxpc3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkYXRhbGlzdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZWxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZWwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZXRhaWxzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGV0YWlscycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RmblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RmbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RpYWxvZ1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RpYWxvZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RpdlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RpdicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RsXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2R0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZWxlbWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2VsZW1lbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNlbVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2VtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZW1iZWRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdlbWJlZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpZWxkc2V0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmllbGRzZXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmaWdjYXB0aW9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmlnY2FwdGlvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpZ3VyZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZpZ3VyZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Zvb3RlclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Zvb3RlcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Zvcm1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb3JtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoMScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2gyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoM1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2gzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoNCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2g1XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoNlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2g2JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGVhZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hlYWQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoZWFkZXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoZWFkZXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoZ3JvdXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoZ3JvdXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2knLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpZnJhbWVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpZnJhbWUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpbWdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpbWcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpbnB1dFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2lucHV0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaW5zXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaW5zJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0ja2JkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAna2JkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGFiZWxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdsYWJlbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xlZ2VuZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xlZ2VuZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xpXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsaW5rXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGluaycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21haW5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtYWluJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWFya1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21hcmsnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZW51XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVudScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lbnVpdGVtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVudWl0ZW0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXRhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWV0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21ldGVyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWV0ZXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNuYXZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICduYXYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNub3NjcmlwdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ25vc2NyaXB0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jb2xcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdvbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI29wdGdyb3VwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnb3B0Z3JvdXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNvcHRpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdvcHRpb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNvdXRwdXRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdvdXRwdXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BhcmFtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncGFyYW0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwcmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwcmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwcm9ncmVzc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3Byb2dyZXNzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3EnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNycFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3JwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdydCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3J0Y1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3J0YycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3J1YnlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdydWJ5JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3MnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzYW1wXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2FtcCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NjcmlwdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NjcmlwdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NlY3Rpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzZWN0aW9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2VsZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2VsZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2hhZG93XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2hhZG93JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc21hbGxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzbWFsbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NvdXJjZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NvdXJjZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NwYW5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzcGFuJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3Ryb25nXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3Ryb25nJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3R5bGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdHlsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N1YlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N1YicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N1bW1hcnlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdW1tYXJ5JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3VwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3VwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGFibGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0YWJsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Rib2R5XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGJvZHknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0ZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGVtcGxhdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0ZW1wbGF0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RleHRhcmVhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGV4dGFyZWEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0Zm9vdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3Rmb290JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RoZWFkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGhlYWQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0aW1lXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGltZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RpdGxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGl0bGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0clxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHJhY2tcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0cmFjaycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd1JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdWxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd1bCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3ZhclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ZhcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3ZpZGVvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndmlkZW8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN3YnJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd3YnInXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgc3ZnRWxlbWVudHMgPSBbXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYWx0R2x5cGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbHRHbHlwaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FsdEdseXBoRGVmXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYWx0R2x5cGhEZWYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbHRHbHlwaEl0ZW1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbHRHbHlwaEl0ZW0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbmltYXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYW5pbWF0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FuaW1hdGVDb2xvclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FuaW1hdGVDb2xvcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FuaW1hdGVNb3Rpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbmltYXRlTW90aW9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYW5pbWF0ZVRyYW5zZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FuaW1hdGVUcmFuc2Zvcm0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjaXJjbGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjaXJjbGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjbGlwUGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NsaXBQYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29sb3JQcm9maWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY29sb3ItcHJvZmlsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2N1cnNvclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2N1cnNvcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RlZnNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZWZzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGVzY1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Rlc2MnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkaXNjYXJkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGlzY2FyZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2VsbGlwc2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdlbGxpcHNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVCbGVuZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlQmxlbmQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUNvbG9yTWF0cml4XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVDb2xvck1hdHJpeCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlQ29tcG9uZW50VHJhbnNmZXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUNvbXBvbmVudFRyYW5zZmVyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVDb21wb3NpdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUNvbXBvc2l0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlQ29udm9sdmVNYXRyaXhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUNvbnZvbHZlTWF0cml4JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVEaWZmdXNlTGlnaHRpbmdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZURpZmZ1c2VMaWdodGluZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRGlzcGxhY2VtZW50TWFwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVEaXNwbGFjZW1lbnRNYXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZURpc3RhbnRMaWdodFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRGlzdGFudExpZ2h0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVEcm9wU2hhZG93XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVEcm9wU2hhZG93JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVGbG9vZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRmxvb2QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUZ1bmNBXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVGdW5jQScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRnVuY0JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUZ1bmNCJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVGdW5jR1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRnVuY0cnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUZ1bmNSXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVGdW5jUicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlR2F1c3NpYW5CbHVyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVHYXVzc2lhbkJsdXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUltYWdlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVJbWFnZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlTWVyZ2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZU1lcmdlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVNZXJnZU5vZGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZU1lcmdlTm9kZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlTW9ycGhvbG9neVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlTW9ycGhvbG9neScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlT2Zmc2V0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVPZmZzZXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVBvaW50TGlnaHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZVBvaW50TGlnaHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVNwZWN1bGFyTGlnaHRpbmdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZVNwZWN1bGFyTGlnaHRpbmcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVNwb3RMaWdodFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlU3BvdExpZ2h0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVUaWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVUaWxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVUdXJidWxlbmNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVUdXJidWxlbmNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb250RmFjZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQtZmFjZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRGYWNlRm9ybWF0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9udC1mYWNlLWZvcm1hdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRGYWNlTmFtZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQtZmFjZS1uYW1lJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udEZhY2VTcmNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250LWZhY2Utc3JjJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udEZhY2VVcmlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250LWZhY2UtdXJpJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9yZWlnbk9iamVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvcmVpZ25PYmplY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2dseXBoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZ2x5cGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnbHlwaFJlZlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2dseXBoUmVmJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGF0Y2hcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoYXRjaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hhdGNocGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hhdGNocGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hrZXJuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaGtlcm4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpbWFnZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ltYWdlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGluZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xpbmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsaW5lYXJHcmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xpbmVhckdyYWRpZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWFya2VyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWFya2VyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWFza1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21hc2snLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVzaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lc2hncmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lc2hncmFkaWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lc2hwYXRjaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lc2hwYXRjaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lc2hyb3dcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXNocm93JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWV0YWRhdGFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXRhZGF0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21pc3NpbmdHbHlwaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21pc3NpbmctZ2x5cGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtcGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21wYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3BhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwYXR0ZXJuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncGF0dGVybicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BvbHlnb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwb2x5Z29uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcG9seWxpbmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwb2x5bGluZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JhZGlhbEdyYWRpZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncmFkaWFsR3JhZGllbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNyZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NldFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NldCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NvbGlkY29sb3JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzb2xpZGNvbG9yJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3RvcFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N0b3AnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdHlsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N0eWxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3ZnXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3ZnJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3dpdGNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3dpdGNoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3ltYm9sXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3ltYm9sJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGV4dFBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0ZXh0UGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyZWZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0cmVmJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHNwYW5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0c3BhbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Vua25vd25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd1bmtub3duJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdXNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndXNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdmlld1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ZpZXcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN2a2VyblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ZrZXJuJ1xyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZvaWRFbGVtZW50cyA9IFtcclxuICAnYXJlYScsXHJcbiAgJ2Jhc2UnLFxyXG4gICdicicsXHJcbiAgJ2NvbCcsXHJcbiAgJ2NvbW1hbmQnLFxyXG4gICdlbWJlZCcsXHJcbiAgJ2hyJyxcclxuICAnaW1nJyxcclxuICAnaW5wdXQnLFxyXG4gICdrZXlnZW4nLFxyXG4gICdsaW5rJyxcclxuICAnbWV0YScsXHJcbiAgJ3BhcmFtJyxcclxuICAnc291cmNlJyxcclxuICAndHJhY2snLFxyXG4gICd3YnInXHJcbl07XHJcbiIsImV4cG9ydCBjb25zdCBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgPSAnW2Etel1bYS16XFxcXGRcXFxcLV8uOiFAI1xcXFwkJVxcXFxeJiooKVxcXFxbXFxcXF17fVxcXFxcXFxcPVxcJ1wiXSonO1xyXG5leHBvcnQgY29uc3QgaHRtbEFsbG93ZWRBdHRyU3ltYm9scyA9ICdbXlxcXFx1MDAwMC1cXFxcdTAwMjBcXFxcc1wiXFwnPi89XSsnO1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvcmVnZXhwU3BlY2lhbENoYXJhY3RlcnNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgc3BlY2lhbCBjaGFyYWN0ZXJzIGZvciBSZWdFeHAuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdFxyXG4gKiBAbmFtZSBtb2R1bGU6Y29uc3RhbnRzL3JlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzfnJlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzXHJcbiAqIEB0eXBlIHtTdHJpbmdbXX1cclxuICovXHJcbmV4cG9ydCBjb25zdCByZWdleHBTcGVjaWFsQ2hhcmFjdGVycyA9IFtcclxuICAnLicsXHJcbiAgJysnLCAnKicsICc/JyxcclxuICAnKCcsICcpJyxcclxuICAnWycsICddJyxcclxuICAneycsICd9JyxcclxuICAnPCcsICc+JyxcclxuICAnXicsICckJyxcclxuICAnIScsXHJcbiAgJz0nLFxyXG4gICc6JyxcclxuICAnLScsXHJcbiAgJ3wnLFxyXG4gICcsJyxcclxuICAnXFxcXCdcclxuXTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL3ZhbGlkYXRlQ2hlY2tFeHByZXNzaW9uc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgdHlwZXMgb2YgdmFsaWRhdGUgZXhwcmVzc2lvbnMgZm9yIHtAbGluayBtb2R1bGU6aGVscGVycy92YWxpZGF0ZX0uXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgbWV0aG9kcyBmcm9tICcuLi9oZWxwZXJzL2NoZWNrVHlwZXMnO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBjaGVja1ZhbGlkaXR5Q2FsbGJhY2tcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSB2YWxpZGF0ZUV4cHJcclxuICogQHByaXZhdGVcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IHRleHQgLSBUZXh0IG9mIHRoZSB0aHJvd24gZXJyb3IuXHJcbiAqIEBwcm9wZXJ0eSB7RXJyb3J9IGVycm9yIC0gVHlwZSBvZiB0aGUgdGhyb3duIGVycm9yLlxyXG4gKiBAcHJvcGVydHkge2NoZWNrVmFsaWRpdHlDYWxsYmFja30gY2hlY2sgLSBDYWxsYmFjayBmb3IgY2hlY2tpbmcgdmFsdWUuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHt2YWxpZGF0ZUV4cHJbXX1cclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIE9iamVjdCBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgdmFsaWRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMgPSB7XHJcbiAgJz4wJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBuID4gMCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIHBvc2l0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJz49MCc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbiA+PSAwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbm9uLW5lZ2F0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJzwwJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBuIDwgMCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG5lZ2F0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJzw9MCc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbiA8PSAwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbm9uLXBvc2l0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJyEhJzoge1xyXG4gICAgY2hlY2s6ICh2KSA9PiAhbWV0aG9kcy5pc05pbCh2KSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG5vdCBudWxsIG9yIHVuZGVmaW5lZCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgYXJyYXk6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzQXJyYXksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBhcnJheSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2FycmF5fHwhJzoge1xyXG4gICAgY2hlY2s6IChhKSA9PiBtZXRob2RzLmlzQXJyYXkoYSkgfHwgbWV0aG9kcy5pc05pbChhKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5LCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGFycmF5TGlrZToge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNBcnJheUxpa2UsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhcnJheS1saWtlIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnYXJyYXlMaWtlfHwhJzoge1xyXG4gICAgY2hlY2s6IChhKSA9PiBtZXRob2RzLmlzQXJyYXlMaWtlKGEpIHx8IG1ldGhvZHMuaXNOaWwoYSksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhcnJheS1saWtlLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGRhdGU6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzRGF0ZSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2RhdGV8fCEnOiB7XHJcbiAgICBjaGVjazogKGQpID0+IG1ldGhvZHMuaXNEYXRlKGQpIHx8IG1ldGhvZHMuaXNOaWwoZCksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIGRhdGUsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgZGF0ZUxpa2U6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzRGF0ZUxpa2UsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBkYXRlLWxpa2UhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdkYXRlTGlrZXx8ISc6IHtcclxuICAgIGNoZWNrOiAoZCkgPT4gbWV0aG9kcy5pc0RhdGVMaWtlKGQpIHx8IG1ldGhvZHMuaXNOaWwoZCksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBkYXRlLWxpa2UsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgZnVuY3Rpb246IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzRnVuY3Rpb24sXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnZnVuY3Rpb258fCEnOiB7XHJcbiAgICBjaGVjazogKGYpID0+IG1ldGhvZHMuaXNGdW5jdGlvbihmKSB8fCBtZXRob2RzLmlzTmlsKGYpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbiwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBpbnQ6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzSW50ZWdlcixcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIGludGVnZXIhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdpbnR8fCEnOiB7XHJcbiAgICBjaGVjazogKGkpID0+IG1ldGhvZHMuaXNJbnRlZ2VyKGkpIHx8IG1ldGhvZHMuaXNOaWwoaSksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBpbnRlZ2VyLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGludExpa2U6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzSW50ZWdlckxpa2UsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBpbnRlZ2VyLWxpa2UhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdpbnRMaWtlfHwhJzoge1xyXG4gICAgY2hlY2s6IChpKSA9PiBtZXRob2RzLmlzSW50ZWdlckxpa2UoaSkgfHwgbWV0aG9kcy5pc05pbChpKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGludGVnZXItbGlrZSwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBudW1iZXI6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzTnVtYmVyLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdudW1iZXJ8fCEnOiB7XHJcbiAgICBjaGVjazogKG4pID0+IG1ldGhvZHMuaXNOdW1iZXIobikgfHwgbWV0aG9kcy5pc05pbChuKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIG51bWJlckxpa2U6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzTnVtYmVyTGlrZSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG51bWJlci1saWtlIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnbnVtYmVyTGlrZXx8ISc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbWV0aG9kcy5pc051bWJlckxpa2UobikgfHwgbWV0aG9kcy5pc05pbChuKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG51bWJlci1saWtlLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIG9iamVjdDoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNPYmplY3QsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdvYmplY3R8fCEnOiB7XHJcbiAgICBjaGVjazogKG8pID0+IG1ldGhvZHMuaXNPYmplY3QobykgfHwgbWV0aG9kcy5pc05pbChvKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICByZWdleHA6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzUmVnRXhwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb24hJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdyZWdleHB8fCEnOiB7XHJcbiAgICBjaGVjazogKHIpID0+IG1ldGhvZHMuaXNSZWdFeHAocikgfHwgbWV0aG9kcy5pc05pbChyKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgcmVndWxhciBleHByZXNzaW9uLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIHN0cmluZzoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNTdHJpbmcsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ3N0cmluZ3x8ISc6IHtcclxuICAgIGNoZWNrOiAocykgPT4gbWV0aG9kcy5pc1N0cmluZyhzKSB8fCBtZXRob2RzLmlzTmlsKHMpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH1cclxufTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9TeW1ib2xcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgU3ltYm9sIGNsYXNzLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBTeW1ib2wgPSBnbG9iYWwuU3ltYm9sIHx8IHtcclxuICB0b1N0cmluZ1RhZzogJ1N5bWJvbC50b1N0cmluZ1RhZycsXHJcbiAgaXRlcmF0b3I6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIFByb21pc2VcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFByb21pc2UgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgZGVmaW5lUHJvcGVydGllcywgU3ltYm9sIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgb25GdWxmaWxsZWRPclJlamVjdGVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFByb21pc2UgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3VjY2VzcyAtIElmIHRoZSBwcmV2aW91cyBwcm9taXNlIGlzIGZ1bGZpbGxlZCBpdCdzIHRydWUgYW5kIGZhbHNlIGlmIHJlamVjdGVkLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgb25SZWplY3RlZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXJyb3J8Kn0gZXJyIC0gUHJvbWlzZSBlcnJvci5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIG9uRnVsZmlsbGVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFByb21pc2UgdmFsdWUuXHJcbiAqL1xyXG5cclxuY29uc3Qgc2VjcmV0ID0ge307XHJcbmNvbnN0IGl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBQcm9taXNlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgLSBGdW5jdGlvbiB0aGF0IHRha2VzIHR3byBhcmd1bWVudHM6IHJlc29sdmUgYW5kIHJlamVjdCBmdW5jdGlvbnMuXHJcbiAqIENhbGwgdGhlIHJlc29sdmUgZnVuY3Rpb24gd2hlbiB5b3UgbmVlZCB0byBmdWxmaWxsIHRoZSBwcm9taXNlIGFuZCBjYWxsIHRoZSByZWplY3Qgb25lXHJcbiAqIHdoZW4geW91IG5lZWQgdG8gcmVqZWN0IGl0LlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gSW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlXHJcbiAqIEBkZXNjcmlwdGlvbiBDbGFzcyB3aXRoIGFsbW9zdCBpZGVudGljYWwgQVBJIHRvXHJcbiAqIFtFUzYgUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZX0uXHJcbiAqIFRoZXJlIGlzIGEgY291cGxlIGRpZmZlcmVuY2VzOiBzZXQgUHJvbWlzZS5vbkVycm9yIHRvIGEgZnVuY3Rpb24gd2l0aCB3aGljaCB5b3Ugd2FudCB0b1xyXG4gKiBzdWJzY3JpYmUgdG8gYSBwcm9taXNlIGVycm9yIGFuZCBzZXQgUHJvbWlzZS5vblVuaGFuZGxlZFJlamVjdGlvbiB0byBhIGZ1bmN0aW9uIHdpdGggd2hpY2hcclxuICogeW91IHdhbnQgdG8gc3Vic2NyaWJlIHRvIGFuIHVuaGFuZGxlZCBlcnJvclxyXG4gKiAoZGVmYXVsdHMgdG8gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsICclcyAlbycsICdVbmNhdWdodCAoaW4gcHJvbWlzZSknKSkuXHJcbiAqL1xyXG5jbGFzcyBQcm9taXNlIHtcclxuICBzdGF0aWMgb25FcnJvciA9IG51bGw7XHJcbiAgc3RhdGljIG9uVW5oYW5kbGVkUmVqZWN0aW9uID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsICclcyAlbycsICdVbmNhdWdodCAoaW4gcHJvbWlzZSknKTtcclxuXHJcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcclxuICAgIGlmICghaXNGdW5jdGlvbihleGVjdXRvcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgUHJvbWlzZSByZXNvbHZlciAkeyB7fS50b1N0cmluZy5jYWxsKGV4ZWN1dG9yKSB9IGlzIG5vdCBhIGZ1bmN0aW9uYCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGhpZGRlblN0YXR1cztcclxuICAgIGxldCBoaWRkZW5WYWx1ZTtcclxuXHJcbiAgICBjb25zdFx0b25GdWxmaWxsID0gW107XHJcbiAgICBjb25zdCBvblJlamVjdCA9IFtdO1xyXG4gICAgY29uc3QgcmVhbFByb21pc2UgPSB0aGlzO1xyXG4gICAgY29uc3QgaGlkZGVuUHJvbWlzZSA9IHtcclxuICAgICAgaGFuZGxlZDogZmFsc2UsXHJcbiAgICAgIGdldCBzdGF0dXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhpZGRlblN0YXR1cztcclxuICAgICAgfSxcclxuICAgICAgc2V0IHN0YXR1cyh2YWx1ZSkge1xyXG4gICAgICAgIGhpZGRlblN0YXR1cyA9IHZhbHVlO1xyXG4gICAgICAgIHJlYWxQcm9taXNlLnN0YXR1cyA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhpZGRlblZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQgdmFsdWUodmFsKSB7XHJcbiAgICAgICAgaGlkZGVuVmFsdWUgPSB2YWw7XHJcbiAgICAgICAgcmVhbFByb21pc2UudmFsdWUgPSB2YWw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaGlkZGVuUHJvbWlzZS5zdGF0dXMgPSAncGVuZGluZyc7XHJcbiAgICBoaWRkZW5Qcm9taXNlLnZhbHVlID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gaGlkZGVuUHJvbWlzZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxPYmplY3R9IGhhbmRsZWQgLSBJZiB0aGUgcHJvbWlzZSBpcyBoYW5kbGVkIG9yIG5vdC5cclxuICAgICAqIEBwcm9wZXJ0eSB7J3BlbmRpbmcnfCdmdWxmaWxsZWQnfCdyZWplY3RlZCd9IHN0YXR1cyAtIFN0YXR1cyBvZiB0aGUgcHJvbWlzZS5cclxuICAgICAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWUgLSBWYWx1ZSBvZiB0aGUgcHJvbWlzZS5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7RnVuY3Rpb259IGhpZGRlblByb21pc2UjaGFuZGxlXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHsoJ3JlamVjdCd8J3Jlc29sdmUnKX0gZXZlbnQgLSBUeXBlIG9mIHRoZSBldmVudCB0byBoYW5kbGUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gSGFuZGxlciBpdHNlbGYuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIC0gUmVzb2x2ZSBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCAtIFJlamVjdCBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWNyZXQgLSBTZWNyZXQuXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gUHJpdmF0ZSBtZXRob2QgZm9yIGhhbmRsaW5nIHByb21pc2VzLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIHtoaWRkZW5Qcm9taXNlfSBQcm9taXNlIyQkXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIGRlZmluZVByb3BlcnRpZXModGhpcy4kJCA9IHt9LCB7XHJcbiAgICAgICdnZXQvc2V0IGhhbmRsZWQnOiB7XHJcbiAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgcmV0dXJuIGhpZGRlblByb21pc2UuaGFuZGxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldChrZXkpIHtcclxuICAgICAgICAgIGlmIChrZXkgPT09IHNlY3JldCkge1xyXG4gICAgICAgICAgICBoaWRkZW5Qcm9taXNlLmhhbmRsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlKHN0YXR1cywgZiwgcmVzb2x2ZSwgcmVqZWN0LCBrZXkpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSBzZWNyZXQpIHtcclxuICAgICAgICAgIGNvbnN0IHByb3h5ID0gaXNGdW5jdGlvbihmKSA/ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUoZih2YWx1ZSkpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ3Jlc29sdmUnKSB7XHJcbiAgICAgICAgICAgIG9uRnVsZmlsbC5wdXNoKHByb3h5IHx8ICgodmFsdWUpID0+IHJlc29sdmUodmFsdWUpKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ3JlamVjdCcpIHtcclxuICAgICAgICAgICAgb25SZWplY3QucHVzaChwcm94eSB8fCAoKGVycikgPT4gcmVqZWN0KGVycikpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdnZXQgc3RhdHVzJygpIHtcclxuICAgICAgICByZXR1cm4gaGlkZGVuUHJvbWlzZS5zdGF0dXM7XHJcbiAgICAgIH0sXHJcbiAgICAgICdnZXQgdmFsdWUnKCkge1xyXG4gICAgICAgIHJldHVybiBoaWRkZW5Qcm9taXNlLnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlamVjdChlcnIpIHtcclxuICAgICAgaWYgKGhpZGRlblByb21pc2Uuc3RhdHVzID09PSAncGVuZGluZycpIHtcclxuICAgICAgICBoaWRkZW5Qcm9taXNlLnN0YXR1cyA9ICdyZWplY3RlZCc7XHJcbiAgICAgICAgaGlkZGVuUHJvbWlzZS52YWx1ZSA9IGVycjtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IG9uUmVqZWN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBoaWRkZW5Qcm9taXNlLmhhbmRsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIG9uUmVqZWN0W2ldKGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBvblVuaGFuZGxlZFJlamVjdGlvbixcclxuICAgICAgICAgIG9uRXJyb3JcclxuICAgICAgICB9ID0gUHJvbWlzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25FcnJvcikpIHtcclxuICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFoaWRkZW5Qcm9taXNlLmhhbmRsZWQgJiYgaXNGdW5jdGlvbihvblVuaGFuZGxlZFJlamVjdGlvbikpIHtcclxuICAgICAgICAgICAgb25VbmhhbmRsZWRSZWplY3Rpb24oZXJyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcclxuICAgICAgaWYgKGhpZGRlblByb21pc2Uuc3RhdHVzID09PSAncGVuZGluZycpIHtcclxuICAgICAgICBpZiAodmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS50aGVuKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGlkZGVuUHJvbWlzZS5zdGF0dXMgPSAnZnVsZmlsbGVkJztcclxuICAgICAgICBoaWRkZW5Qcm9taXNlLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBvbkZ1bGZpbGwubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGhpZGRlblByb21pc2UuaGFuZGxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgb25GdWxmaWxsW2ldKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZS5hbGxcclxuICAgKiBAcGFyYW0geyhBcnJheXxJdGVyYWJsZSkuPFByb21pc2V8Kj59IGl0ZXJhYmxlIC0gSXRlcmFibGUgb2JqZWN0IChsaWtlIGFycmF5KSBvZiBwcm9taXNlc1xyXG4gICAqIG9yIGFueSB2YWx1ZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9hbGxcclxuICAgKi9cclxuICBzdGF0aWMgYWxsKGl0ZXJhYmxlKSB7XHJcbiAgICBjb25zdCBhcnJheSA9IFtdO1xyXG5cclxuICAgIGxldCB0b1Jlc29sdmUgPSAwO1xyXG5cclxuICAgIGlmIChpdGVyYWJsZVtpdGVyYXRvcl0pIHtcclxuICAgICAgaXRlcmFibGUgPSBpdGVyYWJsZVtpdGVyYXRvcl0oKTtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAoIShuZXh0ID0gaXRlcmFibGUubmV4dCgpKS5kb25lKSB7XHJcbiAgICAgICAgICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG5leHQudmFsdWUpO1xyXG5cclxuICAgICAgICAgIHRvUmVzb2x2ZSsrO1xyXG5cclxuICAgICAgICAgICgoaSkgPT4ge1xyXG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgdG9SZXNvbHZlLS07XHJcbiAgICAgICAgICAgICAgYXJyYXlbaV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dC5kb25lICYmICF0b1Jlc29sdmUpIHtcclxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhcnJheSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgICAgIH0sIHJlamVjdCk7XHJcbiAgICAgICAgICB9KShpKyspO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpKSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0aDtcclxuXHJcbiAgICBpZiAoIWxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcclxuICAgIH1cclxuXHJcbiAgICB0b1Jlc29sdmUgPSBsZW5ndGg7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoaXRlcmFibGVbaV0pO1xyXG5cclxuICAgICAgICBwcm9taXNlLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0b1Jlc29sdmUtLTtcclxuICAgICAgICAgIGFycmF5W2ldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKCF0b1Jlc29sdmUpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZShhcnJheSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgcmVqZWN0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UucmFjZVxyXG4gICAqIEBwYXJhbSB7KEFycmF5fEl0ZXJhYmxlKS48UHJvbWlzZXwqPn0gaXRlcmFibGUgLSBJdGVyYWJsZSBvYmplY3QgKGxpa2UgYXJyYXkpIG9mIHByb21pc2VzXHJcbiAgICogb3IgYW55IHZhbHVlcy5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL3JhY2VcclxuICAgKi9cclxuICBzdGF0aWMgcmFjZShpdGVyYWJsZSkge1xyXG4gICAgaWYgKGl0ZXJhYmxlW2l0ZXJhdG9yXSkge1xyXG4gICAgICBpdGVyYWJsZSA9IGl0ZXJhYmxlW2l0ZXJhdG9yXSgpO1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgbmV4dDtcclxuXHJcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IGl0ZXJhYmxlLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgbmV4dC52YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gaXRlcmFibGUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpdGVyYWJsZVtpXS50aGVuKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlLnJlamVjdFxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byByZWplY3QuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9yZWplY3RcclxuICAgKi9cclxuICBzdGF0aWMgcmVqZWN0KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICByZWplY3QodmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UucmVzb2x2ZVxyXG4gICAqIEBwYXJhbSB7UHJvbWlzZXxUaGVuYWJsZXwqfSB2YWx1ZSAtIFByb21pc2UsIHRoZW5hYmxlIG9yIGFueSB2YWx1ZSB0byByZXNvbHZlLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UvcmVzb2x2ZVxyXG4gICAqL1xyXG4gIHN0YXRpYyByZXNvbHZlKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS50aGVuKSkge1xyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhYm9ydCgpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZSNjYXRjaFxyXG4gICAqIEBwYXJhbSB7b25SZWplY3RlZH0gb25SZWplY3RlZCAtIG9uUmVqZWN0ZWQgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9jYXRjaFxyXG4gICAqL1xyXG4gIGNhdGNoKG9uUmVqZWN0ZWQpIHtcclxuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UjZmluYWxseVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge29uRnVsZmlsbGVkT3JSZWplY3RlZH0gb25GdWxmaWxsZWRPclJlamVjdGVkIC0gb25GdWxmaWxsZWRPclJlamVjdGVkIGNhbGxiYWNrLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNhdGNoaW5nIGJvdGggZnVsZmlsbGVkIGFuZCByZWplY3RlZCBwcm9taXNlcy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3Bpbm5lci5zaG93KCk7XHJcbiAgICogZmV0Y2hEYXRhKClcclxuICAgKiAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICogICAgIC8vIGRvIHNvbWV0aGluZyB3aXRoIGRhdGFcclxuICAgKiAgIH0pXHJcbiAgICogICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAqICAgICAvLyBoYW5kbGUgZXJyb3Igc29tZWhvd1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgKiAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICBmaW5hbGx5KG9uRnVsZmlsbGVkT3JSZWplY3RlZCkge1xyXG4gICAgY29uc3QgaXNGdW5jID0gaXNGdW5jdGlvbihvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnRoZW4oKHZhbHVlKSA9PiAoXHJcbiAgICAgIFByb21pc2VcclxuICAgICAgICAucmVzb2x2ZShcclxuICAgICAgICAgIGlzRnVuY1xyXG4gICAgICAgICAgICA/IG9uRnVsZmlsbGVkT3JSZWplY3RlZCh2YWx1ZSwgdHJ1ZSlcclxuICAgICAgICAgICAgOiAwXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHZhbHVlKVxyXG4gICAgKSwgKGVycikgPT4gKFxyXG4gICAgICBQcm9taXNlXHJcbiAgICAgICAgLnJlc29sdmUoXHJcbiAgICAgICAgICBpc0Z1bmNcclxuICAgICAgICAgICAgPyBvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQoZXJyLCBmYWxzZSlcclxuICAgICAgICAgICAgOiAwXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKCgpID0+IFByb21pc2UucmVqZWN0KGVycikpXHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZSN0aGVuXHJcbiAgICogQHBhcmFtIHtvbkZ1bGZpbGxlZH0gW29uRnVsZmlsbGVkXSAtIG9uRnVsZmlsbGVkIGNhbGxiYWNrLlxyXG4gICAqIEBwYXJhbSB7b25SZWplY3RlZH0gW29uUmVqZWN0ZWRdIC0gb25SZWplY3RlZCBjYWxsYmFjay5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL3RoZW5cclxuICAgKi9cclxuICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XHJcbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAocHJvbWlzZS5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHByb21pc2UuaGFuZGxlKCdyZWplY3QnLCBvblJlamVjdGVkLCByZXNvbHZlLCByZWplY3QsIHNlY3JldCk7XHJcbiAgICAgICAgcHJvbWlzZS5oYW5kbGUoJ3Jlc29sdmUnLCBvbkZ1bGZpbGxlZCwgcmVzb2x2ZSwgcmVqZWN0LCBzZWNyZXQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9taXNlLmhhbmRsZWQgPSBzZWNyZXQ7XHJcblxyXG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gcHJvbWlzZTtcclxuXHJcbiAgICBsZXQgbWV0aG9kO1xyXG4gICAgbGV0IGhhbmRsZXI7XHJcblxyXG4gICAgaWYgKHByb21pc2Uuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xyXG4gICAgICBtZXRob2QgPSAncmVzb2x2ZSc7XHJcbiAgICAgIGhhbmRsZXIgPSBvbkZ1bGZpbGxlZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1ldGhvZCA9ICdyZWplY3QnO1xyXG4gICAgICBoYW5kbGVyID0gb25SZWplY3RlZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24oaGFuZGxlcikpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2VbbWV0aG9kXSh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYW5kbGVyKHZhbHVlKSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFByb21pc2UucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdQcm9taXNlJ1xyXG59KTtcclxuXHJcbmV4cG9ydCB7IFByb21pc2UgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9wYXJzZUhlYWRlcnNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgcGFyc2VIZWFkZXJzIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuLi9TdHInO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gcGFyc2VIZWFkZXJzXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIC0gUmF3IGhlYWRlcnMuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgb2JqZWN0XHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgcGFyc2luZyByYXcgaGVhZGVycy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChyYXdIZWFkZXJzKSA9PiB7XHJcbiAgY29uc3QgaGVhZGVycyA9IHt9O1xyXG5cclxuICBpdGVyYXRlKChyYXdIZWFkZXJzIHx8ICcnKS5zcGxpdCgnXFxuJyksICh2YWx1ZSkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSB2YWx1ZS5pbmRleE9mKCc6Jyk7XHJcbiAgICBjb25zdCBrZXkgPSBuZXcgU3RyKHZhbHVlLnN1YnN0cmluZygwLCBpbmRleCkpXHJcbiAgICAgIC50cmltKClcclxuICAgICAgLnRvQ2FtZWxDYXNlKCkuJDtcclxuICAgIGNvbnN0IHZhbCA9IG5ldyBTdHIodmFsdWUuc3Vic3RyaW5nKGluZGV4ICsgMSkpLnRyaW0oKS4kO1xyXG5cclxuICAgIGlmIChrZXkpIHtcclxuICAgICAgaGVhZGVyc1trZXldID0gKGhlYWRlcnNba2V5XSA/IGAkeyBoZWFkZXJzW2tleV0gfSwgYCA6ICcnKSArIHZhbDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGhlYWRlcnM7XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvdHJhbnNmb3JtRGF0YVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyB0cmFuc2Zvcm1EYXRhIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4uL1N1cGVyJztcclxuaW1wb3J0IHsgaXNPYmplY3QsIHRvU3RyaW5nVGFnIH0gZnJvbSAnLi8nO1xyXG5cclxuY29uc3Qgbm90VG9UcmFuc2Zvcm0gPSBuZXcgQXJyKFsnRm9ybURhdGEnLCAnRmlsZScsICdCbG9iJywgJ0FycmF5QnVmZmVyJywgJ1N0cmluZycsICdOdW1iZXInXSk7XHJcbmNvbnN0IHdpdGhvdXRCb2R5ID0gbmV3IEFycihbJ0RFTEVURScsICdHRVQnLCAnSEVBRCddKTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdHJhbnNmb3JtRGF0YVxyXG4gKiBAcGFyYW0geyp9IGRhdGEgLSBEYXRhIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIC0gSFRUUCBtZXRob2QuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIC0gT2JqZWN0IHdpdGggaGVhZGVycy5cclxuICogQHJldHVybnMgeyp9IC0gVHJhbnNmb3JtZWQgZGF0YS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChkYXRhLCBtZXRob2QsIGhlYWRlcnMpID0+IHtcclxuICBkYXRhID0gbmV3IFN1cGVyKGRhdGEpLiQ7XHJcblxyXG4gIGlmICh3aXRob3V0Qm9keS5pbmRleE9mU3RyaWN0KG1ldGhvZCkgIT09IC0xKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGlmIChpc09iamVjdChkYXRhKSAmJiBub3RUb1RyYW5zZm9ybS5pbmRleE9mU3RyaWN0KHRvU3RyaW5nVGFnKGRhdGEpKSA9PT0gLTEpIHtcclxuICAgIGlmICghaGVhZGVycy5jb250ZW50VHlwZSkge1xyXG4gICAgICBoZWFkZXJzLmNvbnRlbnRUeXBlID0gWydhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFN1cGVyKGRhdGEpLmpzb24oKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkYXRhO1xyXG59O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3Jlc29sdmVVUkxcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgT2JqZWN0LmFzc2lnbi1saWtlIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuLi9TdHInO1xyXG5cclxuY29uc3QgeyBsb2NhdGlvbiB9ID0gZ2xvYmFsO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGRlY29kZVF1ZXJ5KSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgc2VhcmNoOiBxdWVyeSxcclxuICAgIGhhc2hcclxuICB9ID0gbG9jYXRpb247XHJcbiAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgcXVlcnk6IHt9LFxyXG4gICAgaGFzaDogaGFzaC5yZXBsYWNlKC9eIy8sICcnKVxyXG4gIH07XHJcblxyXG4gIGlmICghcXVlcnkpIHtcclxuICAgIHJldHVybiBwYXJhbXM7XHJcbiAgfVxyXG5cclxuICBuZXcgU3RyKHF1ZXJ5LnJlcGxhY2UoL15cXD8vLCAnJykpXHJcbiAgICAuc3BsaXQoJyYnKVxyXG4gICAgLmZvckVhY2goKHJhd1BhcmFtKSA9PiB7XHJcbiAgICAgIGxldCBbcGFyYW0sIHZhbHVlID0gJyddID0gcmF3UGFyYW0uc3BsaXQoJz0nKTtcclxuXHJcbiAgICAgIHBhcmFtID0gZGVjb2RlUXVlcnkgPyBkZWNvZGVVUklDb21wb25lbnQocGFyYW0pIDogcGFyYW07XHJcbiAgICAgIHZhbHVlID0gZGVjb2RlUXVlcnkgPyBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpIDogdmFsdWU7XHJcblxyXG4gICAgICBpZiAoIS9eW15bXSsvLnRlc3QocGFyYW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcGFyYW1OYW1lO1xyXG4gICAgICBsZXQgcGFyYW1PYmplY3QgPSBwYXJhbXMucXVlcnk7XHJcblxyXG4gICAgICBuZXcgU3RyKHBhcmFtKVxyXG4gICAgICAgIC5tYXRjaCgvXlteW1xcXV0qfFxcW1teW1xcXV0qXS9nKVxyXG4gICAgICAgIC5mb3JFYWNoKChuYW1lKSA9PiB7XHJcbiAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdbJykpIHtcclxuICAgICAgICAgICAgcGFyYW1OYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7XHJcblxyXG4gICAgICAgICAgcGFyYW1PYmplY3QgPSBwYXJhbU9iamVjdFtwYXJhbU5hbWVdID0gcGFyYW1PYmplY3RbcGFyYW1OYW1lXSB8fCAobmFtZSA/IHt9IDogW10pO1xyXG4gICAgICAgICAgcGFyYW1OYW1lID0gbmFtZSB8fCBwYXJhbU9iamVjdC5sZW5ndGg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBwYXJhbU9iamVjdFtwYXJhbU5hbWVdID0gdmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgcmV0dXJuIHBhcmFtcztcclxufTtcclxuIiwiaW1wb3J0ICogYXMgc3RhdGljcyBmcm9tICcuL2xpYi9icm93c2VyJztcclxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9saWIvaGVscGVycy9hc3NpZ24nO1xyXG5cclxuY29uc3QgeyBEIH0gPSBzdGF0aWNzO1xyXG5cclxuYXNzaWduKEQsIHN0YXRpY3MpO1xyXG5cclxuZGVsZXRlIEQuRDtcclxuXHJcbmdsb2JhbC5EID0gRDtcclxuIl0sIm5hbWVzIjpbInRvU3RyaW5nVGFnIiwib2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwicmVwbGFjZSIsImlzQXJyYXkiLCJ2YWx1ZSIsImlzQXJyYXlMaWtlIiwiaXNGdW5jdGlvbiIsImxlbmd0aCIsImlzSW50ZWdlciIsImlzQm9vbGVhbiIsImlzRGF0ZSIsImlzRGF0ZUxpa2UiLCJEYXRlIiwiaXNOYU4iLCJnZXRUaW1lIiwiaXNFbGVtZW50IiwidGVzdCIsImlzRmluaXRlIiwiaXNOdW1iZXIiLCJOdW1iZXIiLCJJbmZpbml0eSIsImlzSW50ZWdlckxpa2UiLCJwYXJzZUludCIsImlzTnVsbCIsImlzTmlsIiwiaXNOdW1iZXJMaWtlIiwiaXNPYmplY3QiLCJPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwiaXNQcmltaXRpdmUiLCJwcm90byIsImdldFByb3RvdHlwZU9mIiwiY29uc3RydWN0b3IiLCJpc1JlZ0V4cCIsImlzU3RyaW5nIiwiaXNTeW1ib2wiLCJpc1VuZGVmaW5lZCIsIkQiLCJpIiwiY29uc3RydWN0b3JzIiwibGV2ZWxDb25zdHJ1Y3RvcnMiLCJrIiwibGVuIiwiY2xzIiwiY2hlY2siLCJpdGVyYXRlIiwiY2FsbGJhY2siLCJhcnJheSIsIml0ZXJhdGVkS2V5cyIsIml0ZXJhdGVkIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJhc3NpZ24iLCJ0YXJnZXQiLCJvYmplY3RzIiwiYXJndW1lbnRzIiwic291cmNlIiwiaW5kZXgiLCJkeW5hbWljRGVmaW5lUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJwcm9wZXJ0eUdlbmVyYXRvciIsIm5hbWUiLCJkZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnRpZXMiLCJtZXRob2QiLCJ1bmRlZmluZWQiLCJnZXQiLCJzZXQiLCJ0b0FycmF5IiwiY3JlYXRlTmV3QXJyYXkiLCJwdXNoIiwidmFsaWRhdGUiLCJhcmdzIiwib3B0aW9ucyIsIm51bWJlciIsImNoZWNrZXIiLCJ2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMiLCJlcnJvciIsInRleHQiLCJudW1iZXJzIiwiY2hhciIsImFscGhhYmV0Iiwic3RyaW5nIiwicmFuZ2VzIiwic3BsaXQiLCJyYW5nZSIsIkVycm9yIiwic3RhcnQiLCJjaGFyQ29kZUF0IiwiZW5kIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiQWxwaGFiZXQiLCJzd2l0Y2hlciIsImNhc2VzIiwibW9kZSIsImRlZmF1bHRWYWx1ZSIsIlN3aXRjaGVyIiwid2hlbiIsImNvbmRpdGlvbiIsInZhbHVlMSIsInZhbHVlMiIsImRlZXBBc3NpZ24iLCJkZWVwQ2xvbmUiLCJjbG9uZSIsImNsb25lU3dpdGNoZXIiLCJkZWVwRXF1YWwiLCJvMSIsIm8yIiwic3RyaWN0IiwibWF0Y2giLCJsYXN0SW5kZXgiLCJwMSIsInAyIiwia2V5cyIsImRlZXBFdmVyeSIsIm4iLCJ0cmVlIiwibmV3VHJlZSIsImNvbmNhdCIsImRlZXBGaWx0ZXIiLCJudWwiLCJvIiwiZmlsdGVyZWQiLCJkZWVwRmluZCIsInJlc3VsdCIsImRlZXBGb3JFYWNoIiwiZGVlcEZvckVhY2hFbnRyeSIsImRlZXBGcmVlemUiLCJmcmVlemUiLCJkZWVwTWFwIiwiZGVlcFJlZHVjZSIsIklWIiwiZGVlcFNvbWUiLCJ4IiwiYXBwbHkiLCJub29wIiwicHJvcCIsInNlbGYiLCJyYW5kIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwiYXNjIiwieSIsIkFyciIsImJsb2IiLCJibG9iUGFydHMiLCJCbG9iT2JqZWN0IiwiQmxvYiIsInRyaW0iLCJwYXJzZUpTT04iLCJqc29uIiwiSlNPTiIsInBhcnNlIiwiZGF0ZXMiLCJwYXJzZWQiLCJ0aGlzIiwiZmluZCIsIm1hcmt1cCIsImVsZW0iLCJtYXRjaGVzIiwicmF3VGV4dFN3aXRjaGVyIiwiU3VwZXIiLCJjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cCIsIk5PREVfUkVHRVhfU0VUIiwibWFwIiwicmVnZXgiLCJyZXR1cm5pbmciLCJhdHRycyIsInN0YXJ0TWFya3VwIiwiY2xvc2VNYXRjaCIsInNlbGZDbG9zaW5nIiwic2xpY2UiLCJUQUdfT1BFTl9DTE9TRSIsImF0dHIiLCJBVFRSSUJVVEUiLCJtaW4iLCJOYU4iLCJ0YWdOYW1lIiwiUmVnRXhwIiwibmVhclN0cmluZyIsInBhcnNlQ2hhcmFjdGVyRGF0YSIsImlubmVySFRNTCIsImRpdiIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0IiwidG9GaW5kIiwiaXNFbGVtIiwiRWxlbSIsImlzV2luZG93IiwiaXNIVE1MRG9jdW1lbnQiLCJpc0RvY3VtZW50RnJhZ21lbnQiLCJpc1N0eWxlUnVsZSIsImlzQ29tbWVudE9yVGV4dCIsInRhZyIsImdldEVsZW0iLCIkIiwiZW1wdHlEaXYiLCJnZXROYW1lIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImFkZER3YXluZURhdGEiLCJ3aW5kb3dzRHdheW5lRGF0YSIsInNvbWUiLCJlbGVtZW50IiwiZ2V0Q29udGV4dCIsInNlbGVjdG9yIiwiYmFzZSIsIm5hdGl2ZURvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInBhcnNlSFRNTCIsImh0bWwiLCJjb2xsYXBzZVdoaXRlU3BhY2UiLCJtYXJrdXBUb0pTT04iLCJ0ZW1wbGF0ZSIsImRvYyIsImNvbnRlbnQiLCJmb3JFYWNoIiwiZm9yRWFjaE5vZGUiLCJub2RlIiwicGFyZW50IiwiY2hpbGRyZW4iLCJwYXJlbnROb2RlIiwiY3JlYXRlIiwicHgiLCJzaXplIiwicmVnaXN0ZXJEQmxvY2siLCJCbG9jayIsIkRCbG9jayIsImVsZW1zIiwiJCQiLCJmb3VuZCIsInJlZ2lzdGVyREVhY2giLCJjcmVhdGVCbG9jayIsIkRFYWNoIiwib3B0cyIsIml0ZW0iLCJpdGVtTmFtZSIsImluZGV4TmFtZSIsIl90aGlzIiwidWlkIiwiY29uc3RydWN0VmFsdWVzIiwid2F0Y2hBcmdzIiwicGFyZW50RWxlbSIsInVpZHMiLCJzY29wZSIsIlVJRCIsIiR1aWRzIiwibmV3S2V5cyIsIm5ld1VJRHMiLCJldmFsdWF0ZSIsIml0ZW1zIiwic3BsaWNlIiwiSXRlbSIsInJlbW92ZSIsImFmdGVyIiwiYmxvY2siLCJzaGlmdCIsInByZXYiLCJpbnNlcnRBZnRlciIsInZhbHVlcyIsInJlZ2lzdGVyREVsZW1lbnRzIiwiREVsZW1lbnRzIiwiX3RoaXMyIiwibWl4aW5zIiwid2F0Y2hlcnNUb1JlbW92ZSIsImNoaWxkIiwibWl4aW4iLCJmaWx0ZXIiLCJ3YXRjaGVycyIsIndhdGNoZXIiLCJmb3JERWxlbWVudHMiLCJpbmRleE9mIiwibmV3Q29udGVudCIsImFkZCIsInJlZ2lzdGVyRElmIiwiRElmIiwiY29uZCIsImV2YWx1YXRlQW5kV2F0Y2giLCJpZiIsIm5ld1ZhbHVlIiwiQm9vbGVhbiIsInJlZ2lzdGVyREl0ZW0iLCJESXRlbSIsInJlZ2lzdGVyRFN3aXRjaCIsIkRTd2l0Y2giLCJ3YXNEZWZhdWx0IiwidmFsIiwiZXF1YWxzIiwicmVnaXN0ZXJEVGV4dCIsIkRUZXh0IiwicmVnaXN0ZXJEQXR0ciIsIk1peGluIiwiREF0dHIiLCJvbGRWYWx1ZSIsInJlbW92ZUF0dHIiLCJyZWdpc3RlckRCaW5kIiwiREJpbmQiLCJvZmYiLCJvbiIsInJlZ2lzdGVyRENsYXNzIiwiRENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInJlZ2lzdGVyREVsZW0iLCJERWxlbSIsInJlZ2lzdGVyREhpZGUiLCJESGlkZSIsImhpZGUiLCJzaG93IiwicmVnaXN0ZXJET24iLCJET24iLCJldmFsdWF0ZU9uY2UiLCJyZWdpc3RlckRTaG93IiwiRFNob3ciLCJyZWdpc3RlckRTdHlsZSIsIkRTdHlsZSIsInJlbW92ZUNTUyIsImNzcyIsInJlZ2lzdGVyRFZhbGlkYXRlIiwiRFZhbGlkYXRlIiwidmFsaWRhdG9yIiwicmVnaXN0ZXJEVmFsdWUiLCJEVmFsdWUiLCJfdmFsdWUiLCJ0eXBlIiwicHJvcFN3aXRjaGVyIiwiaW5pdGlhbFNjb3BlVmFsdWUiLCJzZXRQcm9wIiwiaW5pdGlhbEVsZW1WYWx1ZSIsImdldFByb3AiLCJsaXN0ZW5lclN3aXRjaGVyIiwiZSIsInNldFZhbHVlU3dpdGNoZXIiLCJnZXRWYWx1ZVN3aXRjaGVyIiwiaW5pdEFwcCIsInJvb3QiLCJmaXJzdCIsImJsb2NrcyIsIndhcm4iLCJhdHRyTmFtZSIsImlzSW5zdGFuY2VPZk1peGluIiwicmVwbGFjZW1lbnQiLCJjcmVhdGVDb21tZW50IiwicmVnaXN0ZXJCbG9ja3MiLCJpc0luc3RhbmNlT2ZCbG9jayIsImRlZXBDbG9uZUNoaWxkcmVuIiwicmVnaXN0ZXJCdWlsdElucyIsInJlZ2lzdGVyIiwicGFyZW50QmxvY2siLCJwYXJlbnRTY29wZSIsInN2Z05TIiwic3ZnIiwibG9jYWxCbG9ja3MiLCJkQmxvY2tNYXRjaCIsImV4cHJlc3Npb25SZWdFeHAiLCJjdXJyZW50TWl4aW5zIiwiX21hdGNoIiwiaW50byIsImJsb2NrSW5zdGFuY2UiLCJnbG9iYWwiLCJBcmdzIiwibG9jYWxzIiwiZXZlbnR1YWxBcmdzIiwiZGVmYXVsdEFyZ3MiLCJjb25zdHJ1Y3RQcml2YXRlU2NvcGUiLCJzY29wZVZhbHVlcyIsIkRJdGVtRm91bmQiLCJwcml2YXRlU2NvcGUiLCJhZnRlckNvbnN0cnVjdCIsImVyciIsImFmdGVyUmVuZGVyIiwiY3JlYXRlTWl4aW4iLCJuZXdDaGlsZCIsInRyYW5zZm9ybURJZkNoaWxkcmVuIiwiaWZFbHNlIiwiaXNQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsInJlbW92ZVdhdGNoZXJzIiwiY29uc3RydWN0UHVibGljU2NvcGUiLCJkZWZpbmUiLCJldmFsTW9kZSIsImdldHRpbmciLCJ0ZW1wIiwiY2hhbmdlZCIsIm9sZFRlbXBXYXRjaGVycyIsIm9uUmVtb3ZlIiwid2FzIiwicGVybSIsInJvdW5kIiwiZGlnaXRzIiwiemVyb2VzIiwiemVybyIsInJlcGVhdCIsIm5vdyIsImRhdGUiLCJEYXQiLCJpc0Fic29sdXRlIiwidXJsIiwiYWJzb2x1dGVVUkxSZWdleHAiLCJlbmNvZGUiLCJpc0VuY29kZWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmZXRjaEJlZm9yZU1pZGRsZXdhcmUiLCJjb25maWciLCJiYXNlVVJMIiwiZGF0YSIsImhlYWRlcnMiLCJwYXJhbXMiLCJxdWVyeSIsIk1FVEhPRCIsInRvVXBwZXJDYXNlIiwiY29uc3RydWN0VVJMIiwidHJhbnNmb3JtRGF0YSIsImhlYWRlciIsIlN0ciIsInRvQ2FwaXRhbENhc2UiLCJqb2luIiwiaW5pdFJvdXRlciIsImluaXRpYWxpemVkIiwiUm91dGVzIiwicmVkaXJlY3RSb3V0ZSIsImRlZmF1bHRSb3V0ZSIsIlJlZGlyZWN0Um91dGUiLCJyb3V0ZSIsInBhcmVudE5hbWUiLCJQYXJlbnROYW1lIiwicm9vdFJvdXRlIiwiYWJzdHJhY3QiLCJiYXNlUm91dGUiLCJwYXJlbnRQYXJhbXMiLCJwYXJlbnRRdWVyeSIsInBhdGgiLCJyZWxhdGl2ZVVSTCIsInJlbGF0aXZlUGF0aCIsImNvdW50IiwibmV3UGF0aCIsIm5ld1VSTCIsInZhbGlkYXRlUGF0aCIsImxvY2F0aW9uIiwiaHJlZiIsInB1c2hlZCIsImNsb3Nlc3RMaW5rIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0IiwibWFrZVJvdXRlIiwiY2FsbEJlZm9yZUxvYWQiLCJiZWZvcmVMb2FkUm91dGUiLCJyb3V0ZUxvYWRlZCIsImNhbGxCZWZvcmVMZWF2ZSIsImJlZm9yZUxlYXZlUm91dGUiLCJmYWxsYmFja1RvIiwiaXNEZWZhdWx0IiwiZGVmYXVsdCIsIndhc1Jvb3QiLCJOYW1lIiwiUm91dGUiLCJ1bnN1YnNjcmliZSIsInJvdXRlciIsImVuY29kZVBhcmFtcyIsImVuY29kZVF1ZXJ5IiwiaGFzaCIsIm9yaWdpbiIsImJ1aWxkVVJMIiwiX19pc0N1cnJlbnRSb3V0ZV9fIiwiY3VycmVudFJvdXRlIiwiY3VycmVudFJvdXRlUGFyYW1zIiwic3Vic2NyaWJlIiwiaXNDdXJyZW50Um91dGUiLCJkZWxldGUiLCJmb3J3YXJkIiwiY2hhbmdlUm91dGUiLCJmaW5kUm91dGVCeVVSTCIsImhvc3QiLCJob3N0bmFtZSIsInBhdGhuYW1lIiwicG9ydCIsInByb3RvY29sIiwic2VhcmNoIiwidXJsUGFyYW1zIiwicm91dGVVUkwiLCJyZXF1aXJlZFF1ZXJ5IiwiZGVjb2RlUGFyYW1zIiwiZGVjb2RlUXVlcnkiLCJyZXNvbHZlZCIsInJlc29sdmVVUkwiLCJldmVudHVhbFBhcmFtcyIsInBhcmFtIiwiaGFzT3duIiwiZGVjb2RlIiwiRGVmYXVsdFJvdXRlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY2hhbmdlSGlzdG9yeSIsInJlc29sdmVQYXJhbWV0ZXIiLCJuYW1lRXJyb3JOYW1lIiwidmFsdWVFcnJvck5hbWUiLCJuYW1lTWF0Y2giLCJyZWdleHAiLCJ3aW5kb3ciLCJhcHBsaWVkUmVnRXhwcyIsImlkIiwiY2FudmFzR2V0TWV0aG9kcyIsImNhbnZhc1Jlc3RNZXRob2RzIiwiaHRtbEVsZW1lbnRzIiwic3ZnRWxlbWVudHMiLCJ2b2lkRWxlbWVudHMiLCJodG1sQWxsb3dlZFRhZ1N5bWJvbHMiLCJodG1sQWxsb3dlZEF0dHJTeW1ib2xzIiwicmVnZXhwU3BlY2lhbENoYXJhY3RlcnMiLCJSYW5nZUVycm9yIiwidiIsIm1ldGhvZHMiLCJUeXBlRXJyb3IiLCJhIiwiZCIsImYiLCJyIiwicyIsIlN5bWJvbCIsImNoYXJzIiwid29yZCIsInRva2VuIiwiZGVmIiwicmV0IiwiQ2FzZSIsImNhc2UiLCJldmVudHVhbENhc2VzIiwic2V0UHJvdG90eXBlT2YiLCJGdW5jdGlvbiIsImRlZXAiLCJzdW0iLCJmdW5jIiwiZGVzY3JpcHRvcnMiLCJwcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJwcm9wcyIsImdldHRlciIsImlzRnJvemVuIiwicmVwbGFjZXIiLCJzcGFjZSIsInVuc2hpZnQiLCJzdHJpbmdpZnkiLCJtYXgiLCJvYmoiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiaXNDb250ZXh0T2JqZWN0Iiwic3RhcnRLZXkiLCJzZXR0ZXIiLCJyZWR1Y2UiLCJzZWNyZXQiLCJpdGVyYXRvciIsIlByb21pc2UiLCJleGVjdXRvciIsInJlamVjdCIsImhpZGRlblByb21pc2UiLCJzdGF0dXMiLCJvblJlamVjdCIsImhhbmRsZWQiLCJvblVuaGFuZGxlZFJlamVjdGlvbiIsIm9uRXJyb3IiLCJyZXNvbHZlIiwidGhlbiIsIm9uRnVsZmlsbCIsImhpZGRlblN0YXR1cyIsImhpZGRlblZhbHVlIiwicmVhbFByb21pc2UiLCJwcm94eSIsIm9uUmVqZWN0ZWQiLCJvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQiLCJpc0Z1bmMiLCJvbkZ1bGZpbGxlZCIsInByb21pc2UiLCJoYW5kbGUiLCJoYW5kbGVyIiwiaXRlcmFibGUiLCJ0b1Jlc29sdmUiLCJuZXh0IiwiZG9uZSIsImNvbnNvbGUiLCJiaW5kIiwiRnVuYyIsImNhbGxlZCIsImNhbkJlQ2FsbGVkIiwiYmVmb3JlIiwic3luYyIsImNvbnRleHRMb2NrZWQiLCJjb250ZXh0IiwibWlkZGxld2FyZSIsImFmdGVyQWxsIiwiYmVmb3JlQWxsIiwiYmluZENvbnRleHQiLCJiaW5kQXJncyIsInRpbWVzIiwibG9ja0NvbnRleHQiLCJsb2NrQXJncyIsImFyZ3NMb2NrZWQiLCJtYXJrIiwidGltZSIsInRpbWVFbmQiLCJ1bmJpbmRDb250ZXh0IiwidW5iaW5kQXJncyIsInRvUmFkaWFuIiwiUEkiLCJ0b0RlZ3JlZSIsImxuMiIsIkxOMiIsImxuMTAiLCJMTjEwIiwiTnVtIiwidG9EZWdyZWVzIiwiYWNvcyIsImFzaW4iLCJhdGFuIiwiYXNEZWdyZWVzIiwiY29zIiwiYWJvcnQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lb3V0IiwiYWJvcnRlZCIsInNldFRpbWVvdXQiLCJpbnRlcnZhbCIsImxvZyIsInBvd2VyIiwicG93Iiwic2luIiwidGFuIiwicmVqIiwiZnJhY3Rpb25EaWdpdHMiLCJ0b0V4cG9uZW50aWFsIiwidG9GaXhlZCIsInByZWNpc2lvbiIsInRvUHJlY2lzaW9uIiwiYWJzIiwic3FydCIsImNicnQiLCJjZWlsIiwiZXhwIiwibG4iLCJzaWduIiwia2V5T2YiLCJrZXlPZlN0cmljdCIsInNlcGFyYXRvciIsInBvcCIsInJldmVyc2UiLCJyYW5kb21JbmRleCIsImJlZ2luIiwiY29tcGFyZUZ1bmN0aW9uIiwic29ydCIsImRlbGV0ZUNvdW50IiwiVVJMIiwicHJvZ3Jlc3MiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwidG9SZWplY3QiLCJvbnByb2dyZXNzIiwib25lcnJvciIsIm9ubG9hZCIsImFuY2hvciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRhdGFVUkwiLCJzZXRBdHRyaWJ1dGUiLCJjbGljayIsImNyZWF0ZU9iamVjdFVSTCIsImh0bWxTcGVjaWFscyIsInJlZ2V4cFNwZWNpYWxzUmVnZXhwIiwic2VhcmNoU3RyaW5nIiwicG9zaXRpb24iLCJyZXZlcnQiLCJzdGFydHNXaXRoIiwiZXNjYXBlZCIsInN5bWJvbCIsInNlYXJjaFZhbHVlIiwiZnJvbUluZGV4IiwibGFzdEluZGV4T2YiLCJzdHIiLCJiZWdpblNsaWNlIiwiZW5kU2xpY2UiLCJzdWJzdHIiLCJpbmRleFN0YXJ0IiwiaW5kZXhFbmQiLCJzdWJzdHJpbmciLCJzdWJtaXRTdHJpbmciLCJub2RlU3dpdGNoZXIiLCJJbnRlcm5hbFBhcnNpbmdFcnJvciIsIlBhcnNpbmdFcnJvciIsInRocm93VW5leHBlY3RlZEVycm9yIiwiZ2xvYmFsSW5kZXgiLCJlbGVtZW50cyIsImV2ZW50U2VwYXJhdG9yIiwidGV4dFByb3BlcnR5IiwiTm9kZSIsInByb3BlcnR5RGVzY3JpcHRvciIsImNsYXNzZXMiLCJpbnB1dEVsZW1lbnRzIiwieG1sTlMiLCJ4bGlua05TIiwieGh0bWxOUyIsInR5cGVTd2l0Y2hlciIsIm5zIiwiZG9jdW1lbnRFbGVtZW50IiwibmFtZXNwYWNlVVJJIiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlVGV4dE5vZGUiLCJyZWZTd2l0Y2hlciIsImZpbHRlclN3aXRjaGVyIiwiaXMiLCJpbm5lclN3aXRjaGVyIiwicGFkZGluZ3MiLCJib3JkZXJzIiwib3V0ZXJTd2l0Y2hlciIsImF0dHJOU1N3aXRjaGVyIiwibGlzdCIsImNsYXNzTGlzdCIsImluc2VydEFkamFjZW50SFRNTCIsInN0eWxlIiwic2hlZXQiLCJjc3NSdWxlcyIsInJ1bGVzIiwidG9IeXBoZW5DYXNlIiwiaW5zZXJ0UnVsZSIsImR3YXluZURhdGEiLCJzdHJpbmdzIiwiYXBwbGllZCIsInNldEFwcGxpZWQiLCJucDEiLCJhdHRyaWJ1dGVzIiwiZ2V0QXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsIl90aGlzNCIsImxvYWQiLCJpc0Jyb2tlbiIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiYnl0ZVN0cmluZyIsImF0b2IiLCJhYiIsIkFycmF5QnVmZmVyIiwiaWEiLCJVaW50OEFycmF5IiwiYmx1ciIsInBzZXVkbyIsImdldENvbXB1dGVkU3R5bGUiLCJydWxlIiwiY2hpbGROb2RlcyIsImNsYXNzTmFtZSIsImNsb25lTm9kZSIsImNvbnRhaW5zIiwiYXBwbGllZEV4cHJlc3Npb25zIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldFByb3BlcnR5UHJpb3JpdHkiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5IiwiY3NzVGV4dCIsInRvQ2FtZWxDYXNlIiwiY3R4IiwiZGF0YXNldCIsImVuY29kZXJPcHRpb25zIiwidG9EYXRhVVJMIiwiZGVsZXRlUnVsZSIsImV2ZW50IiwiZXZlbnRJbml0IiwiZGV0YWlscyIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZmluYWxFdmVudCIsIkV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZm9jdXMiLCJzZWxlY3RvclRleHQiLCJoYXNBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGVOUyIsImN1cnJlbnREaXNwbGF5IiwicHJldmlvdXNEaXNwbGF5IiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwiY29tcGxldGUiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiaW1hZ2VzIiwiYWxsIiwiJGVsZW0iLCJyZW1vdmVMaXN0ZW5lcnMiLCJwcm9wZXIiLCJicm9rZW4iLCJuZXh0U2libGluZyIsImV2ZW50cyIsImxpc3RlbmVycyIsInJlbW92ZUxpc3RlbmVyIiwibGlzdGVuZXIiLCJhbGxMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImhhcyIsIm5ld0xpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcmV2aW91c1NpYmxpbmciLCJsaW5rIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsIjIiLCIxIiwiY3JlYXRlZCIsInR4dCIsIl9hcmd1bWVudHM2IiwiaGFzQXR0ciIsImhhc0NsYXNzIiwibGV2ZWwiLCJ2YWxpZGF0b3JXcmFwIiwiaW5wdXQiLCJlcnJvcnMiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGF0b3JzIiwiZm9ybUVycm9ycyIsImZvcm0iLCJpbnB1dHMiLCJkaXNwYXRjaCIsImlucHV0RXJyb3IiLCJldmVyeSIsImlubmVySGVpZ2h0IiwiY2FsY0NTUyIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3hTaXppbmciLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImlubmVyV2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJvdXRlckhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsIm91dGVyV2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJ3aW4iLCJib2R5IiwiaGVhZCIsImlucHV0VmFsdWUiLCJvbkV2YWxFcnJvciIsIm9yaWdpbmFsQXJncyIsImV4cHJlc3Npb24iLCJvbkNoYW5nZSIsImluc3RhbmNlIiwiZm9yREl0ZW0iLCJmb3JERWFjaCIsImV4cHIiLCJEd2F5bmVTdG9yZSIsInN0b3JlIiwibG9jYWxXYXRjaGVycyIsIm5ld1Jlc3VsdCIsIndhdGNoZXJCbG9jayIsImluZGV4MSIsImluZGV4MiIsImFyZyIsIkR3YXluZUJsb2NrIiwiaXNQYXJlbnRTaWduYWwiLCJiZWZvcmVSZW1vdmUiLCJ2YXJpYWJsZSIsIl90aGlzMyIsIl90aGlzNSIsImxvY2FsIiwiX3RoaXM2IiwiQmxvY2tzIiwiYWZ0ZXJVcGRhdGUiLCJNaXhpbnMiLCJkYXlzT2ZUaGVXZWVrTmFtZXMiLCJkYXlzT2ZUaGVXZWVrQWxpYXNlcyIsIm1vbnRoc05hbWVzIiwibW9udGhzQWxpYXNlcyIsInV0YyIsImNvZWZmcyIsImdldFN3aXRjaGVyIiwic2V0U3dpdGNoZXIiLCJ3aGF0IiwicHJlZml4IiwiZm9ybWF0cyIsImZvcm1hdCIsInJlcGxhY2VTdHJpbmciLCJkYXRlMSIsImRhdGUyIiwiaXNCZWZvcmUiLCJzdGFydGVkIiwiY29lZmYiLCJ3Iiwic2V0VGltZSIsInRvSVNPU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwicXVlcnlTd2l0Y2hlciIsInF1ZXJ5UGFyYW1zIiwiZW5jb2RlT3B0aW9ucyIsInJhd0hlYWRlcnMiLCJub3RUb1RyYW5zZm9ybSIsIndpdGhvdXRCb2R5IiwiaW5kZXhPZlN0cmljdCIsImNvbnRlbnRUeXBlIiwiZGVmYXVsdHMiLCJ1cGxvYWRNZXRob2RzIiwiRmV0Y2giLCJmZXRjaCIsInJlcXVlc3QiLCJjb25mIiwidG9QdXNoIiwiZGF0YUNvbmZpZyIsInVybENvbmZpZyIsInhociIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVzcG9uc2VUeXBlIiwid2l0aENyZWRlbnRpYWxzIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInVwbG9hZCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2UiLCJyZXNwb25zZVRleHQiLCJwYXJzZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJzZW5kIiwicmF3UGFyYW0iLCJwYXJhbU5hbWUiLCJwYXJhbU9iamVjdCIsInN1YnNjcmliZXJzIiwiaGlzdG9yeSIsInBhdGhTd2l0Y2hlciIsInBhcnQiLCJlc2NhcGVSZWdFeHAiLCJzdGF0aWNzIl0sIm1hcHBpbmdzIjoid0JBWUEsU0FBZ0JBLEdBQVlDLFlBQ2hCQyxTQUFTQyxLQUFLRixHQUFRRyxRQUFRLGlCQUFrQixJQ081RCxRQUFnQkMsR0FBUUMsU0FDUSxVQUF2Qk4sRUFBWU0sR0FnQnJCLFFBQWdCQyxHQUFZRCxPQUNyQkEsR0FBU0UsRUFBV0Ys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ZCxJQU9YLElBUUEsT0FRQSxVQVFBLE9BUUEsVUFRQSxRQVFBLElBUUEsT0FRQSxNQVFBLE1BUUEsYUFRQSxPQVFBLEtBUUEsU0FRQSxTQVFBLFVBUUEsT0FRQSxPQVFBLE1BUUEsV0FRQSxVQVFBLFdBUUEsS0FRQSxNQVFBLFVBUUEsTUFRQSxTQVFBLE1BUUEsS0FRQSxLQVFBLFVBUUEsS0FRQSxRQVFBLFdBUUEsYUFRQSxTQVFBLFNBUUEsT0FRQSxLQVFBLEtBUUEsS0FRQSxLQVFBLEtBUUEsS0FRQSxPQVFBLFNBUUEsU0FRQSxLQVFBLElBUUEsU0FRQSxNQVFBLFFBUUEsTUFRQSxNQVFBLFFBUUEsU0FRQSxLQVFBLE9BUUEsT0FRQSxPQVFBLE9BUUEsV0FRQSxPQVFBLFFBUUEsTUFRQSxXQVFBLEtBUUEsV0FRQSxTQVFBLFNBUUEsSUFRQSxRQVFBLE1BUUEsV0FRQSxJQVFBLEtBUUEsS0FRQSxNQVFBLE9BUUEsSUFRQSxPQVFBLFNBUUEsVUFRQSxTQVFBLFNBUUEsUUFRQSxTQVFBLE9BUUEsU0FRQSxRQVFBLE1BUUEsVUFRQSxNQVFBLFFBUUEsUUFRQSxLQVFBLFdBUUEsV0FRQSxRQVFBLEtBUUEsUUFRQSxPQVFBLFFBUUEsS0FRQSxRQVFBLElBUUEsS0FRQSxNQVFBLFFBUUEsT0FHV0MsSUFPWCxXQVFBLGNBUUEsZUFRQSxVQVFBLGVBUUEsZ0JBUUEsbUJBUUEsU0FRQSxXQVFBLGdCQVFBLFNBUUEsT0FRQSxPQVFBLFVBUUEsVUFRQSxVQVFBLGdCQVFBLHNCQVFBLGNBUUEsbUJBUUEsb0JBUUEsb0JBUUEsaUJBUUEsZUFRQSxVQVFBLFVBUUEsVUFRQSxVQVFBLFVBUUEsaUJBUUEsVUFRQSxVQVFBLGNBUUEsZUFRQSxXQVFBLGVBUUEscUJBUUEsY0FRQSxTQVFBLGVBUUEsT0FRQSxZQVFBLG1CQVFBLGlCQVFBLGdCQVFBLGdCQVFBLGdCQVFBLElBUUEsUUFRQSxXQVFBLFFBUUEsWUFRQSxRQVFBLFFBUUEsT0FRQSxpQkFRQSxTQVFBLE9BUUEsT0FRQSxlQVFBLFlBUUEsVUFRQSxXQVFBLGdCQVFB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"}