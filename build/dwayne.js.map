{"version":3,"file":"dwayne.js","sources":["../lib/constants/global.js","../lib/constants/appliedRegExps.js","../lib/constants/canvasMethods.js","../lib/constants/constructors.js","../lib/constants/elements.js","../lib/constants/htmlAllowedTagSymbols.js","../lib/constants/regexpSpecialCharacters.js","../lib/helpers/toStringTag.js","../lib/helpers/checkTypes.js","../lib/constants/validateCheckExpressions.js","../lib/D.js","../lib/helpers/iterate.js","../lib/helpers/assign.js","../lib/helpers/defineProperty.js","../lib/helpers/Symbol.js","../lib/helpers/toArray.js","../lib/helpers/toJSON.js","../lib/helpers/validate.js","../lib/Alphabet.js","../lib/Switcher.js","../lib/Super.js","../lib/Promise.js","../lib/Func.js","../lib/Num.js","../lib/Arr.js","../lib/BlobObject.js","../lib/Str.js","../lib/helpers/markupToJSON.js","../lib/Elem.js","../lib/blocks/d-block.js","../lib/blocks/d-each.js","../lib/blocks/d-elements.js","../lib/blocks/d-if.js","../lib/blocks/d-item.js","../lib/blocks/d-switch.js","../lib/mixins/d-attr.js","../lib/mixins/d-bind.js","../lib/mixins/d-class.js","../lib/mixins/d-elem.js","../lib/mixins/d-hide.js","../lib/mixins/d-node.js","../lib/mixins/d-on.js","../lib/mixins/d-show.js","../lib/mixins/d-style.js","../lib/mixins/d-validate.js","../lib/mixins/d-value.js","../lib/helpers/parseJS.js","../lib/Block.js","../lib/constants/formats.js","../lib/Dat.js","../lib/helpers/constructURL.js","../lib/helpers/parseHeaders.js","../lib/helpers/transformData.js","../lib/Fetch.js","../lib/helpers/resolveURL.js","../lib/Router.js","../browser.js"],"sourcesContent":["/* eslint no-nested-ternary: 0 */\n/* eslint no-negated-condition: 0 */\nexport default typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n","/**\n * @module constants/appliedRegExps\n * @private\n * @description Exports different types of syntax for {@link Elem#apply}.\n */\n\n/**\n * @callback matchAppliedExprCallback\n * @param {Elem} elem - D-elem of an element to apply expression to.\n * @param {String} string - Matched applied name.\n * @param {String} arg - Argument within the parentheses.\n */\n\n/**\n * @type {Object.<String, matchAppliedExprCallback|Object.<String, matchAppliedExprCallback>>}\n * @description Object of different types of syntax.\n */\n\nexport const appliedRegExps = {\n  '#'(elem, id) {\n    elem.id(id);\n  },\n  '.'(elem, cls) {\n    elem.addClass(cls);\n  },\n  $(elem, attr, value) {\n    elem.attr(attr, value);\n  },\n  '@'(elem, prop, value) {\n    elem.css(prop, value);\n  },\n  '&'(elem, name, html) {\n    elem.html(html);\n  },\n  '*'(elem, name, text) {\n    elem.text(text);\n  },\n  '-': {\n    '.'(elem, cls) {\n      elem.removeClass(cls);\n    },\n    $(elem, attr) {\n      elem.removeAttr(attr);\n    },\n    '@'(elem, prop) {\n      elem.removeCSS(prop);\n    }\n  }\n};\n","/**\n * @module constants/elements\n * @private\n * @description Exports different canvas methods for {@link Elem} for creating html-elements.\n */\n\n/**\n * @const\n * @type {String[]}\n */\nexport const canvasGetMethods = [\n  /**\n   * @member {Function} Elem#createImageData\n   * @type {Function}\n   * @param {...*} args\n   * @returns {ImageData|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createImageData\n   */\n  'createImageData',\n\n  /**\n   * @member {Function} Elem#createLinearGradient\n   * @type {Function}\n   * @param {...*} args\n   * @returns {CanvasGradient|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\n   */\n  'createLinearGradient',\n\n  /**\n   * @member {Function} Elem#createPattern\n   * @type {Function}\n   * @param {...*} args\n   * @returns {CanvasPattern|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createPattern\n   */\n  'createPattern',\n\n  /**\n   * @member {Function} Elem#createRadialGradient\n   * @type {Function}\n   * @param {...*} args\n   * @returns {CanvasGradient|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createRadialGradient\n   */\n  'createRadialGradient',\n\n  /**\n   * @member {Function} Elem#getImageData\n   * @type {Function}\n   * @param {...*} args\n   * @returns {ImageData|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/getImageData\n   */\n  'getImageData',\n\n  /**\n   * @member {Function} Elem#getLineDash\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Number[]|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/getLineDash\n   */\n  'getLineDash',\n\n  /**\n   * @member {Function} Elem#isPointInPath\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Boolean|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/isPointInPath\n   */\n  'isPointInPath',\n\n  /**\n   * @member {Function} Elem#isPointInStroke\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Boolean|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/isPointInStroke\n   */\n  'isPointInStroke',\n\n  /**\n   * @member {Function} Elem#measureText\n   * @type {Function}\n   * @param {...*} args\n   * @returns {TextMetrics|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/measureText\n   */\n  'measureText'\n];\n\nexport const canvasRestMethods = [\n  /**\n   * @member {Function} Elem#arc\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/arc\n   */\n  'arc',\n\n  /**\n   * @member {Function} Elem#arcTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/arcTo\n   */\n  'arcTo',\n\n  /**\n   * @member {Function} Elem#beginPath\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/beginPath\n   */\n  'beginPath',\n\n  /**\n   * @member {Function} Elem#bezierCurveTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/bezierCurveTo\n   */\n  'bezierCurveTo',\n\n  /**\n   * @member {Function} Elem#clearRect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/clearRect\n   */\n  'clearRect',\n\n  /**\n   * @member {Function} Elem#clip\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/clip\n   */\n  'clip',\n\n  /**\n   * @member {Function} Elem#closePath\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/closePath\n   */\n  'closePath',\n\n  /**\n   * @member {Function} Elem#drawFocusIfNeeded\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/drawFocusIfNeeded\n   */\n  'drawFocusIfNeeded',\n\n  /**\n   * @member {Function} Elem#drawImage\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/drawImage\n   */\n  'drawImage',\n\n  /**\n   * @member {Function} Elem#ellipse\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/ellipse\n   */\n  'ellipse',\n\n  /**\n   * @member {Function} Elem#fill\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fill\n   */\n  'fill',\n\n  /**\n   * @member {Function} Elem#fillRect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fillRect\n   */\n  'fillRect',\n\n  /**\n   * @member {Function} Elem#fillText\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fillText\n   */\n  'fillText',\n\n  /**\n   * @member {Function} Elem#lineTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/lineTo\n   */\n  'lineTo',\n\n  /**\n   * @member {Function} Elem#moveTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/moveTo\n   */\n  'moveTo',\n\n  /**\n   * @member {Function} Elem#putImageData\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/putImageData\n   */\n  'putImageData',\n\n  /**\n   * @member {Function} Elem#quadraticCurveTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo\n   */\n  'quadraticCurveTo',\n\n  /**\n   * @member {Function} Elem#rect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/rect\n   */\n  'rect',\n\n  /**\n   * @member {Function} Elem#resetTransform\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/resetTransform\n   */\n  'resetTransform',\n\n  /**\n   * @member {Function} Elem#restore\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/restore\n   */\n  'restore',\n\n  /**\n   * @member {Function} Elem#rotate\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/rotate\n   */\n  'rotate',\n\n  /**\n   * @member {Function} Elem#save\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/save\n   */\n  'save',\n\n  /**\n   * @member {Function} Elem#scale\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/scale\n   */\n  'scale',\n\n  /**\n   * @member {Function} Elem#setLineDash\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/setLineDash\n   */\n  'setLineDash',\n\n  /**\n   * @member {Function} Elem#setTransform\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/setTransform\n   */\n  'setTransform',\n\n  /**\n   * @member {Function} Elem#stroke\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/stroke\n   */\n  'stroke',\n\n  /**\n   * @member {Function} Elem#strokeRect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/strokeRect\n   */\n  'strokeRect',\n\n  /**\n   * @member {Function} Elem#strokeText\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/strokeText\n   */\n  'strokeText',\n\n  /**\n   * @member {Function} Elem#transform\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/transform\n   */\n  'transform',\n\n  /**\n   * @member {Function} Elem#translate\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/translate\n   */\n  'translate'\n];\n","/**\n * @module constants/constructors\n * @private\n * @description Exports constructors levels.\n */\n\n/**\n * @const\n * @type {Array[]}\n */\nexport const constructors = [\n  [],\n  [],\n  []\n];\n","/**\n * @module constants/elements\n * @private\n * @description Exports methods for {@link Elem} for creating html-elements.\n */\n\n/**\n * @const\n * @type {String[]}\n */\nexport const htmlElements = [\n  /**\n   * @member {Function} Elem#a\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'a',\n\n  /**\n   * @member {Function} Elem#abbr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'abbr',\n\n  /**\n   * @member {Function} Elem#address\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'address',\n\n  /**\n   * @member {Function} Elem#area\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'area',\n\n  /**\n   * @member {Function} Elem#article\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'article',\n\n  /**\n   * @member {Function} Elem#audio\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'audio',\n\n  /**\n   * @member {Function} Elem#b\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'b',\n\n  /**\n   * @member {Function} Elem#base\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'base',\n\n  /**\n   * @member {Function} Elem#bdi\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'bdi',\n\n  /**\n   * @member {Function} Elem#bdo\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'bdo',\n\n  /**\n   * @member {Function} Elem#blockquote\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'blockquote',\n\n  /**\n   * @member {Function} Elem#body\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'body',\n\n  /**\n   * @member {Function} Elem#br\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'br',\n\n  /**\n   * @member {Function} Elem#button\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'button',\n\n  /**\n   * @member {Function} Elem#canvas\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'canvas',\n\n  /**\n   * @member {Function} Elem#caption\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'caption',\n\n  /**\n   * @member {Function} Elem#cite\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'cite',\n\n  /**\n   * @member {Function} Elem#code\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'code',\n\n  /**\n   * @member {Function} Elem#col\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'col',\n\n  /**\n   * @member {Function} Elem#colgroup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'colgroup',\n\n  /**\n   * @member {Function} Elem#content\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'content',\n\n  /**\n   * @member {Function} Elem#datalist\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'datalist',\n\n  /**\n   * @member {Function} Elem#dd\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dd',\n\n  /**\n   * @member {Function} Elem#del\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'del',\n\n  /**\n   * @member {Function} Elem#details\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'details',\n\n  /**\n   * @member {Function} Elem#dfn\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dfn',\n\n  /**\n   * @member {Function} Elem#dialog\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dialog',\n\n  /**\n   * @member {Function} Elem#div\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'div',\n\n  /**\n   * @member {Function} Elem#dl\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dl',\n\n  /**\n   * @member {Function} Elem#dt\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dt',\n\n  /**\n   * @member {Function} Elem#element\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'element',\n\n  /**\n   * @member {Function} Elem#em\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'em',\n\n  /**\n   * @member {Function} Elem#embed\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'embed',\n\n  /**\n   * @member {Function} Elem#fieldset\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'fieldset',\n\n  /**\n   * @member {Function} Elem#figcaption\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'figcaption',\n\n  /**\n   * @member {Function} Elem#figure\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'figure',\n\n  /**\n   * @member {Function} Elem#footer\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'footer',\n\n  /**\n   * @member {Function} Elem#form\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'form',\n\n  /**\n   * @member {Function} Elem#h1\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h1',\n\n  /**\n   * @member {Function} Elem#h2\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h2',\n\n  /**\n   * @member {Function} Elem#h3\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h3',\n\n  /**\n   * @member {Function} Elem#h4\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h4',\n\n  /**\n   * @member {Function} Elem#h5\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h5',\n\n  /**\n   * @member {Function} Elem#h6\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h6',\n\n  /**\n   * @member {Function} Elem#head\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'head',\n\n  /**\n   * @member {Function} Elem#header\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'header',\n\n  /**\n   * @member {Function} Elem#hgroup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'hgroup',\n\n  /**\n   * @member {Function} Elem#hr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'hr',\n\n  /**\n   * @member {Function} Elem#i\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'i',\n\n  /**\n   * @member {Function} Elem#iframe\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'iframe',\n\n  /**\n   * @member {Function} Elem#img\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'img',\n\n  /**\n   * @member {Function} Elem#input\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'input',\n\n  /**\n   * @member {Function} Elem#ins\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ins',\n\n  /**\n   * @member {Function} Elem#kbd\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'kbd',\n\n  /**\n   * @member {Function} Elem#label\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'label',\n\n  /**\n   * @member {Function} Elem#legend\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'legend',\n\n  /**\n   * @member {Function} Elem#li\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'li',\n\n  /**\n   * @member {Function} Elem#link\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'link',\n\n  /**\n   * @member {Function} Elem#main\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'main',\n\n  /**\n   * @member {Function} Elem#mark\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'mark',\n\n  /**\n   * @member {Function} Elem#menu\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'menu',\n\n  /**\n   * @member {Function} Elem#menuitem\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'menuitem',\n\n  /**\n   * @member {Function} Elem#meta\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'meta',\n\n  /**\n   * @member {Function} Elem#meter\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'meter',\n\n  /**\n   * @member {Function} Elem#nav\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'nav',\n\n  /**\n   * @member {Function} Elem#noscript\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'noscript',\n\n  /**\n   * @member {Function} Elem#ol\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ol',\n\n  /**\n   * @member {Function} Elem#optgroup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'optgroup',\n\n  /**\n   * @member {Function} Elem#option\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'option',\n\n  /**\n   * @member {Function} Elem#output\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'output',\n\n  /**\n   * @member {Function} Elem#p\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'p',\n\n  /**\n   * @member {Function} Elem#param\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'param',\n\n  /**\n   * @member {Function} Elem#pre\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'pre',\n\n  /**\n   * @member {Function} Elem#progress\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'progress',\n\n  /**\n   * @member {Function} Elem#q\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'q',\n\n  /**\n   * @member {Function} Elem#rp\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'rp',\n\n  /**\n   * @member {Function} Elem#rt\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'rt',\n\n  /**\n   * @member {Function} Elem#rtc\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'rtc',\n\n  /**\n   * @member {Function} Elem#ruby\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ruby',\n\n  /**\n   * @member {Function} Elem#s\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  's',\n\n  /**\n   * @member {Function} Elem#samp\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'samp',\n\n  /**\n   * @member {Function} Elem#script\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'script',\n\n  /**\n   * @member {Function} Elem#section\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'section',\n\n  /**\n   * @member {Function} Elem#select\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'select',\n\n  /**\n   * @member {Function} Elem#shadow\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'shadow',\n\n  /**\n   * @member {Function} Elem#small\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'small',\n\n  /**\n   * @member {Function} Elem#source\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'source',\n\n  /**\n   * @member {Function} Elem#span\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'span',\n\n  /**\n   * @member {Function} Elem#strong\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'strong',\n\n  /**\n   * @member {Function} Elem#style\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'style',\n\n  /**\n   * @member {Function} Elem#sub\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'sub',\n\n  /**\n   * @member {Function} Elem#summary\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'summary',\n\n  /**\n   * @member {Function} Elem#sup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'sup',\n\n  /**\n   * @member {Function} Elem#table\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'table',\n\n  /**\n   * @member {Function} Elem#tbody\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tbody',\n\n  /**\n   * @member {Function} Elem#td\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'td',\n\n  /**\n   * @member {Function} Elem#template\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'template',\n\n  /**\n   * @member {Function} Elem#textarea\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'textarea',\n\n  /**\n   * @member {Function} Elem#tfoot\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tfoot',\n\n  /**\n   * @member {Function} Elem#th\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'th',\n\n  /**\n   * @member {Function} Elem#thead\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'thead',\n\n  /**\n   * @member {Function} Elem#time\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'time',\n\n  /**\n   * @member {Function} Elem#title\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'title',\n\n  /**\n   * @member {Function} Elem#tr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tr',\n\n  /**\n   * @member {Function} Elem#track\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'track',\n\n  /**\n   * @member {Function} Elem#u\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'u',\n\n  /**\n   * @member {Function} Elem#ul\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ul',\n\n  /**\n   * @member {Function} Elem#var\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'var',\n\n  /**\n   * @member {Function} Elem#video\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'video',\n\n  /**\n   * @member {Function} Elem#wbr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'wbr'\n];\n\nexport const svgElements = [\n  /**\n   * @member {Function} Elem#altGlyph\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'altGlyph',\n\n  /**\n   * @member {Function} Elem#altGlyphDef\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'altGlyphDef',\n\n  /**\n   * @member {Function} Elem#altGlyphItem\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'altGlyphItem',\n\n  /**\n   * @member {Function} Elem#animate\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'animate',\n\n  /**\n   * @member {Function} Elem#animateColor\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'animateColor',\n\n  /**\n   * @member {Function} Elem#animateMotion\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'animateMotion',\n\n  /**\n   * @member {Function} Elem#animateTransform\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'animateTransform',\n\n  /**\n   * @member {Function} Elem#circle\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'circle',\n\n  /**\n   * @member {Function} Elem#clipPath\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'clipPath',\n\n  /**\n   * @member {Function} Elem#colorProfile\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'color-profile',\n\n  /**\n   * @member {Function} Elem#cursor\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'cursor',\n\n  /**\n   * @member {Function} Elem#defs\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'defs',\n\n  /**\n   * @member {Function} Elem#desc\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'desc',\n\n  /**\n   * @member {Function} Elem#discard\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'discard',\n\n  /**\n   * @member {Function} Elem#ellipse\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ellipse',\n\n  /**\n   * @member {Function} Elem#feBlend\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feBlend',\n\n  /**\n   * @member {Function} Elem#feColorMatrix\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feColorMatrix',\n\n  /**\n   * @member {Function} Elem#feComponentTransfer\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feComponentTransfer',\n\n  /**\n   * @member {Function} Elem#feComposite\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feComposite',\n\n  /**\n   * @member {Function} Elem#feConvolveMatrix\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feConvolveMatrix',\n\n  /**\n   * @member {Function} Elem#feDiffuseLighting\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feDiffuseLighting',\n\n  /**\n   * @member {Function} Elem#feDisplacementMap\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feDisplacementMap',\n\n  /**\n   * @member {Function} Elem#feDistantLight\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feDistantLight',\n\n  /**\n   * @member {Function} Elem#feDropShadow\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feDropShadow',\n\n  /**\n   * @member {Function} Elem#feFlood\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feFlood',\n\n  /**\n   * @member {Function} Elem#feFuncA\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feFuncA',\n\n  /**\n   * @member {Function} Elem#feFuncB\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feFuncB',\n\n  /**\n   * @member {Function} Elem#feFuncG\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feFuncG',\n\n  /**\n   * @member {Function} Elem#feFuncR\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feFuncR',\n\n  /**\n   * @member {Function} Elem#feGaussianBlur\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feGaussianBlur',\n\n  /**\n   * @member {Function} Elem#feImage\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feImage',\n\n  /**\n   * @member {Function} Elem#feMerge\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feMerge',\n\n  /**\n   * @member {Function} Elem#feMergeNode\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feMergeNode',\n\n  /**\n   * @member {Function} Elem#feMorphology\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feMorphology',\n\n  /**\n   * @member {Function} Elem#feOffset\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feOffset',\n\n  /**\n   * @member {Function} Elem#fePointLight\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'fePointLight',\n\n  /**\n   * @member {Function} Elem#feSpecularLighting\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feSpecularLighting',\n\n  /**\n   * @member {Function} Elem#feSpotLight\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feSpotLight',\n\n  /**\n   * @member {Function} Elem#feTile\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feTile',\n\n  /**\n   * @member {Function} Elem#feTurbulence\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'feTurbulence',\n\n  /**\n   * @member {Function} Elem#font\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'font',\n\n  /**\n   * @member {Function} Elem#fontFace\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'font-face',\n\n  /**\n   * @member {Function} Elem#fontFaceFormat\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'font-face-format',\n\n  /**\n   * @member {Function} Elem#fontFaceName\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'font-face-name',\n\n  /**\n   * @member {Function} Elem#fontFaceSrc\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'font-face-src',\n\n  /**\n   * @member {Function} Elem#fontFaceUri\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'font-face-uri',\n\n  /**\n   * @member {Function} Elem#foreignObject\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'foreignObject',\n\n  /**\n   * @member {Function} Elem#g\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'g',\n\n  /**\n   * @member {Function} Elem#glyph\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'glyph',\n\n  /**\n   * @member {Function} Elem#glyphRef\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'glyphRef',\n\n  /**\n   * @member {Function} Elem#hatch\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'hatch',\n\n  /**\n   * @member {Function} Elem#hatchpath\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'hatchpath',\n\n  /**\n   * @member {Function} Elem#hkern\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'hkern',\n\n  /**\n   * @member {Function} Elem#image\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'image',\n\n  /**\n   * @member {Function} Elem#line\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'line',\n\n  /**\n   * @member {Function} Elem#linearGradient\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'linearGradient',\n\n  /**\n   * @member {Function} Elem#marker\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'marker',\n\n  /**\n   * @member {Function} Elem#mask\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'mask',\n\n  /**\n   * @member {Function} Elem#mesh\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'mesh',\n\n  /**\n   * @member {Function} Elem#meshgradient\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'meshgradient',\n\n  /**\n   * @member {Function} Elem#meshpatch\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'meshpatch',\n\n  /**\n   * @member {Function} Elem#meshrow\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'meshrow',\n\n  /**\n   * @member {Function} Elem#metadata\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'metadata',\n\n  /**\n   * @member {Function} Elem#missingGlyph\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'missing-glyph',\n\n  /**\n   * @member {Function} Elem#mpath\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'mpath',\n\n  /**\n   * @member {Function} Elem#path\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'path',\n\n  /**\n   * @member {Function} Elem#pattern\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'pattern',\n\n  /**\n   * @member {Function} Elem#polygon\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'polygon',\n\n  /**\n   * @member {Function} Elem#polyline\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'polyline',\n\n  /**\n   * @member {Function} Elem#radialGradient\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'radialGradient',\n\n  /**\n   * @member {Function} Elem#rect\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'rect',\n\n  /**\n   * @member {Function} Elem#set\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'set',\n\n  /**\n   * @member {Function} Elem#solidcolor\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'solidcolor',\n\n  /**\n   * @member {Function} Elem#stop\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'stop',\n\n  /**\n   * @member {Function} Elem#style\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'style',\n\n  /**\n   * @member {Function} Elem#svg\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'svg',\n\n  /**\n   * @member {Function} Elem#switch\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'switch',\n\n  /**\n   * @member {Function} Elem#symbol\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'symbol',\n\n  /**\n   * @member {Function} Elem#textPath\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'textPath',\n\n  /**\n   * @member {Function} Elem#tref\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tref',\n\n  /**\n   * @member {Function} Elem#tspan\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tspan',\n\n  /**\n   * @member {Function} Elem#unknown\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'unknown',\n\n  /**\n   * @member {Function} Elem#use\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'use',\n\n  /**\n   * @member {Function} Elem#view\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'view',\n\n  /**\n   * @member {Function} Elem#vkern\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'vkern'\n];\n\nexport const voidElements = [\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n];\n","export const htmlAllowedTagSymbols = '[a-z][a-z\\\\d\\\\-_.:!@#\\\\$%\\\\^&*()\\\\[\\\\]{}\\\\\\\\=\\'\"]*';\nexport const htmlAllowedAttrSymbols = '[^\\\\u0000-\\\\u0020\\\\s\"\\'>/=]+';\n","/**\n * @module constants/regexpSpecialCharacters\n * @private\n * @description Exports special characters for RegExp.\n */\n\n/**\n * @const\n * @name module:constants/regexpSpecialCharacters~regexpSpecialCharacters\n * @type {String[]}\n */\nexport const regexpSpecialCharacters = [\n  '.',\n  '+', '*', '?',\n  '(', ')',\n  '[', ']',\n  '{', '}',\n  '<', '>',\n  '^', '$',\n  '!',\n  '=',\n  ':',\n  '-',\n  '|',\n  ',',\n  '\\\\'\n];\n","/**\n * @module helpers/toStringTag\n * @private\n * @description Exports toStringTag method.\n */\n\n/**\n * @function toStringTag\n * @param {*} object - Object to get toStringTag of.\n * @returns {String} Cut string.\n * @description Cut \"Type\" string from \"[object Type]\" string that gotten from {}.toString,call(object).\n */\nexport function toStringTag(object) {\n  return {}.toString.call(object).replace(/^\\[object |]$/g, '');\n}\n","/**\n * @module helpers/checkTypes\n * @private\n * @mixin\n * @description Exports is<Type> methods.\n */\n\nimport { toStringTag } from './toStringTag';\n\n/**\n * @function isArray\n * @public\n * @param {*} value - Value to check if it is an array.\n * @returns {Boolean} If the argument is an array or not.\n * \n * @example\n * isArray([]);                             // true\n * isArray(0);                              // true\n * isArray(document.querySelectorAll('*')); // false\n */\nexport function isArray(value) {\n  return toStringTag(value) === 'Array';\n}\n\n/**\n * @function isArrayLike\n * @public\n * @param {*} value - Value to check if it is array-like.\n * @returns {Boolean} If the argument is array-like or not.\n * @description Basically returns if the argument has non-negative integer \"length\" property and isn't a function.\n * \n * @example\n * isArrayLike([]);                             // true\n * isArrayLike('');                             // true\n * isArrayLike(() => {});                       // false\n * isArrayLike(document.querySelectorAll('*')); // true\n */\nexport function isArrayLike(value) {\n  if (!value || isFunction(value)) {\n    return false;\n  }\n  \n  const length = value.length;\n  \n  return isInteger(length) && length >= 0;\n}\n\n/**\n * @function isBoolean\n * @public\n * @param {*} value - Value to check if it is a boolean.\n * @returns {Boolean} If the argument is a boolean or not.\n * \n * @example\n * isBoolean(true);               // true\n * isBoolean(new Boolean(false)); // true\n * isBoolean(null);               // false\n */\nexport function isBoolean(value) {\n  return toStringTag(value) === 'Boolean';\n}\n\n/**\n * @function isDate\n * @public\n * @param {*} value - Value to check if it is a date.\n * @returns {Boolean} If the argument is a date or not.\n * \n * @example\n * isDate(new Date());                 // true\n * isDate('1999-12-31T23:59:59.999Z'); // false\n */\nexport function isDate(value) {\n  return toStringTag(value) === 'Date';\n}\n\n/**\n * @function isDateLike\n * @public\n * @param {*} value - Value to check if it is date-like.\n * @returns {Boolean} If the argument is date-like or not.\n * @description Basically returns if new Date(argument) is not invalid date.\n * \n * @example\n * isDateLike(new Date());                 // true\n * isDateLike('1999-12-31T23:59:59.999Z'); // true\n * isDateLike(0);                          // true\n */\nexport function isDateLike(value) {\n  value = new Date(value);\n  \n  return !isNaN(value.getTime());\n}\n\n/**\n * @function isElement\n * @public\n * @param {*} value - Value to check if it is an element.\n * @returns {Boolean} If the argument is element or not.\n *\n * @example\n * isElement(document.querySelector('html')); // true\n */\nexport function isElement(value) {\n  return /Element$/.test(toStringTag(value));\n}\n\n/**\n * @function isFinite\n * @public\n * @param {*} value - Value to check if it is finite.\n * @returns {Boolean} If the argument is finite or not.\n * \n * @example\n * isFinite(0);        // true\n * isFinite('0');      // false\n * isFinite(Infinity); // false\n * isFinite(NaN);      // false\n */\nexport function isFinite(value) {\n  if (!isNumber(value)) {\n    return false;\n  }\n  \n  value = Number(value);\n\n  return !isNaN(value) && value !== Infinity && value !== -Infinity;\n}\n\n/**\n * @function isFunction\n * @public\n * @param {*} value - Value to check if it is a function.\n * @returns {Boolean} If the argument is a function or not.\n * \n * @example\n * isFunction(() => {});            // true\n * \n * const func = () => {};\n * Object.setPrototypeOf(func, {});\n * isFunction(func);                // true\n */\nexport function isFunction(value) {\n  return toStringTag(value) === 'Function' || typeof value === 'function';\n}\n\n/**\n * @function isInteger\n * @public\n * @param {*} value - Value to check if it is an integer.\n * @returns {Boolean} If the argument is an integer or not.\n *\n * @example\n * isInteger(0);             // true\n * isInteger(0.1);           // false\n * isInteger(new Number(0)); // true\n * isInteger('0');           // false\n * isInteger(Infinity);      // false\n * isInteger(NaN);           // false\n */\nexport function isInteger(value) {\n  return isNumber(value) && value % 1 === 0;\n}\n\n/**\n * @function isIntegerLike\n * @public\n * @param {*} value - Value to check if it is integer-like.\n * @returns {Boolean} If the argument is integer-like or not.\n *\n * @example\n * isIntegerLike(0);             // true\n * isIntegerLike(new Number(0)); // true\n * isIntegerLike(0.1);           // false\n * isIntegerLike('0');           // true\n */\nexport function isIntegerLike(value) {\n  value = parseInt(Number(value));\n\n  return !!(value || value === 0);\n}\n\n/**\n * @function isNaN\n * @public\n * @param {*} value - Value to check if it is NaN.\n * @returns {Boolean} If the argument is NaN or not.\n *\n * @example\n * isNaN(0);               // false\n * isNaN('NaN');           // false\n * isNaN(NaN);             // true\n * isNaN(new Number(NaN)); // true\n */\nexport function isNaN(value) {\n  if (!isNumber(value)) {\n    return false;\n  }\n  \n  value = Number(value);\n\n  return value !== value;\n}\n\n/**\n * @function isNull\n * @public\n * @param {*} value - Value to check if it is null.\n * @returns {Boolean} If the argument is null or not.\n *\n * @example\n * isNull(null);      // true\n * isNull(undefined); // false\n */\nexport function isNull(value) {\n  return value === null;\n}\n\n/**\n * @function isNil\n * @public\n * @param {*} value - Value to check if it is null or undefined.\n * @returns {Boolean} If the argument is null or undefined or not.\n *\n * @example\n * isNil(null);      // true\n * isNil(undefined); // true\n * isNil(false);     // false\n */\nexport function isNil(value) {\n  return value === null || typeof value === 'undefined';\n}\n\n/**\n * @function isNumber\n * @public\n * @param {*} value - Value to check if it is a number.\n * @returns {Boolean} If the argument is a number or not.\n *\n * @example\n * isNumber(0);             // true\n * isNumber(new Number(0)); // true\n * isNumber(NaN);           // true\n * isNumber('0');           // false\n */\nexport function isNumber(value) {\n  return toStringTag(value) === 'Number';\n}\n\n/**\n * @function isNumberLike\n * @public\n * @param {*} value - Value to check if it is number-like.\n * @returns {Boolean} If the argument is number-like or not.\n *\n * @example\n * isNumberLike(0);          // true\n * isNumberLike('0');        // true\n * isNumberLike('Infinity'); // true\n * isNumberLike('NaN');      // true\n * isNumberLike(NaN);        // true\n */\nexport function isNumberLike(value) {\n  if (isNaN(value) || value === 'NaN') {\n    return true;\n  }\n  \n  value = Number(value);\n  \n  return !!(value || value === 0);\n}\n\n/**\n * @function isObject\n * @public\n * @param {*} value - Value to check if it is an object.\n * @returns {Boolean} If the argument is an object or not.\n *\n * @example\n * isObject({});   // true\n * isObject(1);    // false\n * isObject(null); // false\n */\nexport function isObject(value) {\n  return !!value && (toStringTag(value) === 'Object' || typeof value === 'object' || value instanceof Object);\n}\n\n/**\n * @function isPlainObject\n * @public\n * @param {*} value - Value to check if it is a plain object.\n * @returns {Boolean} If the argument is a plain object or not.\n *\n * @example\n * const obj = {};\n *\n * ifPlainObject(obj); // true\n *\n * Object.setPrototypeOf(object, null);\n *\n * ifPlainObject(obj); // true\n *\n * Object.setPrototypeOf(object, {});\n *\n * ifPlainObject(obj); // false\n */\nexport function isPlainObject(value) {\n  if (isPrimitive(value)) {\n    return false;\n  }\n\n  const proto = Object.getPrototypeOf(value);\n\n  if (isNull(proto)) {\n    return true;\n  }\n\n  const constructor = proto.constructor;\n\n  return isFunction(constructor) &&\n    constructor instanceof constructor &&\n    isNull(Object.getPrototypeOf(proto));\n}\n\n/**\n * @function isPrimitive\n * @public\n * @param {*} value - Value to check if it is primitive.\n * @returns {Boolean} If the argument is primitive or not.\n *\n * @example\n * isPrimitive(1);             // true\n * isPrimitive({});            // false\n * isPrimitive('');            // true\n * isPrimitive(new Number(0)); // false\n * isPrimitive(true);          // true\n * isPrimitive(Symbol('foo')); // true\n * isPrimitive(null);          // true\n * isPrimitive(undefined);     // true\n */\nexport function isPrimitive(value) {\n  return isNull(value) || /^(number|string|boolean|symbol|undefined)$/.test(typeof value);\n}\n\n/**\n * @function isRegExp\n * @public\n * @param {*} value - Value to check if it is a regular expression.\n * @returns {Boolean} If the argument is a regular expression or not.\n *\n * @example\n * isRegExp(/foo/);             // true\n * isRegExp('/foo/');           // false\n * isRegExp(new RegExp('foo')); // true\n */\nexport function isRegExp(value) {\n  return toStringTag(value) === 'RegExp';\n}\n\n/**\n * @function isString\n * @public\n * @param {*} value - Value to check if it is a string.\n * @returns {Boolean} If the argument is a string or not.\n *\n * @example\n * isString('0');             // true\n * isString(new String('0')); // true\n */\nexport function isString(value) {\n  return toStringTag(value) === 'String';\n}\n\n/**\n * @function isSymbol\n * @public\n * @param {*} value - Value to check if it is a symbol.\n * @returns {Boolean} If the argument is a symbol or not.\n *\n * @example\n * isSymbol(Symbol('1')); // true\n */\nexport function isSymbol(value) {\n  return toStringTag(value) === 'Symbol';\n}\n\n/**\n * @function isUndefined\n * @public\n * @param {*} value - Value to check if it is undefined.\n * @returns {Boolean} If the argument is undefined or not.\n *\n * @example\n * isUndefined(null);      // false\n * isUndefined(undefined); // true\n */\nexport function isUndefined(value) {\n  return typeof value === 'undefined';\n}\n","/**\n * @module constants/validateCheckExpressions\n * @private\n * @description Exports different types of validate expressions for {@link module:helpers/validate}.\n */\n\nimport * as methods from '../helpers/checkTypes';\n\n/**\n * @callback checkValidityCallback\n * @private\n * @param {*} value - Value to check.\n */\n\n/**\n * @typedef {Object} validateExpr\n * @private\n * @property {String} text - Text of the thrown error.\n * @property {Error} error - Type of the thrown error.\n * @property {checkValidityCallback} check - Callback for checking value.\n */\n\n/**\n * @type {validateExpr[]}\n * @private\n * @description Object of different types of validation.\n */\nexport const validateCheckExpressions = {\n  '>0': {\n    check: (n) => n > 0,\n    text: '$n argument must be positive!',\n    error: RangeError\n  },\n  '>=0': {\n    check: (n) => n >= 0,\n    text: '$n argument must be non-negative!',\n    error: RangeError\n  },\n  '<0': {\n    check: (n) => n < 0,\n    text: '$n argument must be negative!',\n    error: RangeError\n  },\n  '<=0': {\n    check: (n) => n <= 0,\n    text: '$n argument must be non-positive!',\n    error: RangeError\n  },\n  '!!': {\n    check: (v) => !methods.isNil(v),\n    text: '$n argument must be not null or undefined!',\n    error: TypeError\n  },\n  array: {\n    check: methods.isArray,\n    text: '$n argument must be an array!',\n    error: TypeError\n  },\n  'array||!': {\n    check: (a) => methods.isArray(a) || methods.isNil(a),\n    text: '$n argument must be an array, or undefined, or null!',\n    error: TypeError\n  },\n  arrayLike: {\n    check: methods.isArrayLike,\n    text: '$n argument must be array-like!',\n    error: TypeError\n  },\n  'arrayLike||!': {\n    check: (a) => methods.isArrayLike(a) || methods.isNil(a),\n    text: '$n argument must be array-like, or undefined, or null!',\n    error: TypeError\n  },\n  date: {\n    check: methods.isDate,\n    text: '$n argument must be a date!',\n    error: TypeError\n  },\n  'date||!': {\n    check: (d) => methods.isDate(d) || methods.isNil(d),\n    text: '$n argument must be a date, or undefined, or null!',\n    error: TypeError\n  },\n  dateLike: {\n    check: methods.isDateLike,\n    text: '$n argument must be date-like!',\n    error: TypeError\n  },\n  'dateLike||!': {\n    check: (d) => methods.isDateLike(d) || methods.isNil(d),\n    text: '$n argument must be date-like, or undefined, or null!',\n    error: TypeError\n  },\n  function: {\n    check: methods.isFunction,\n    text: '$n argument must be a function!',\n    error: TypeError\n  },\n  'function||!': {\n    check: (f) => methods.isFunction(f) || methods.isNil(f),\n    text: '$n argument must be a function, or undefined, or null!',\n    error: TypeError\n  },\n  int: {\n    check: methods.isInteger,\n    text: '$n argument must be an integer!',\n    error: TypeError\n  },\n  'int||!': {\n    check: (i) => methods.isInteger(i) || methods.isNil(i),\n    text: '$n argument must be an integer, or undefined, or null!',\n    error: TypeError\n  },\n  intLike: {\n    check: methods.isIntegerLike,\n    text: '$n argument must be integer-like!',\n    error: TypeError\n  },\n  'intLike||!': {\n    check: (i) => methods.isIntegerLike(i) || methods.isNil(i),\n    text: '$n argument must be integer-like, or undefined, or null!',\n    error: TypeError\n  },\n  number: {\n    check: methods.isNumber,\n    text: '$n argument must be a number!',\n    error: TypeError\n  },\n  'number||!': {\n    check: (n) => methods.isNumber(n) || methods.isNil(n),\n    text: '$n argument must be a number, or undefined, or null!',\n    error: TypeError\n  },\n  numberLike: {\n    check: methods.isNumberLike,\n    text: '$n argument must be number-like!',\n    error: TypeError\n  },\n  'numberLike||!': {\n    check: (n) => methods.isNumberLike(n) || methods.isNil(n),\n    text: '$n argument must be number-like, or undefined, or null!',\n    error: TypeError\n  },\n  object: {\n    check: methods.isObject,\n    text: '$n argument must be an object!',\n    error: TypeError\n  },\n  'object||!': {\n    check: (o) => methods.isObject(o) || methods.isNil(o),\n    text: '$n argument must be an object, or undefined, or null!',\n    error: TypeError\n  },\n  regexp: {\n    check: methods.isRegExp,\n    text: '$n argument must be a regular expression!',\n    error: TypeError\n  },\n  'regexp||!': {\n    check: (r) => methods.isRegExp(r) || methods.isNil(r),\n    text: '$n argument must be a regular expression, or undefined, or null!',\n    error: TypeError\n  },\n  string: {\n    check: methods.isString,\n    text: '$n argument must be a string!',\n    error: TypeError\n  },\n  'string||!': {\n    check: (s) => methods.isString(s) || methods.isNil(s),\n    text: '$n argument must be a string, or undefined, or null!',\n    error: TypeError\n  }\n};\n","/**\n * @module D\n * @private\n * @description Exports D function.\n */\n\nimport { constructors } from './constants';\n\n/**\n * @function D\n * @public\n * @param {*} [value] - Any value.\n * @returns {DWrap} Wrap of the argument.\n * @description Function for creating a D-wrap of an object.\n *\n * @example\n * D({});            // Super\n * D(() => {});      // Func\n * D([]);            // Arr\n * D(1);             // Num\n * D('1');           // Str\n * D(new Date());    // Dat\n * D(document.body); // Elem\n */\nfunction D(value) {\n  for (let i = constructors.length - 1; i >= 0; i--) {\n    const levelConstructors = constructors[i];\n\n    for (let k = 0, len = levelConstructors.length; k < len; k++) {\n      const constructor = levelConstructors[k];\n\n      if (value instanceof constructor.cls) {\n        return value;\n      }\n\n      if (constructor.check(value)) {\n        return new constructor.cls(value);\n      }\n    }\n  }\n}\n\nexport * from './helpers/checkTypes';\nexport { D };\n","/**\n * @module helpers/iterate\n * @private\n * @description Exports iterate method.\n */\n\nimport { isArrayLike, isUndefined } from './checkTypes';\n\n/**\n * @callback IterationCallback\n * @param {*} value - Iteration value.\n * @param {String|Number} key - Iteration key.\n * @param {*} object - Initial iterable object.\n */\n\n/**\n * @function iterate\n * @param {(Object|Array|null|undefined)} object - Value to iterate over.\n * @param {IterationCallback} callback - Callback that is called on every iteration.\n * @returns {*} If callback returns not undefined then iterate returns this value.\n * @description Function for iterating over all types of values.\n */\nexport function iterate(object, callback) {\n  const array = isArrayLike(object);\n  const iteratedKeys = {};\n\n  let iterated = 0;\n\n  for (const key in object) {\n    if ({}.hasOwnProperty.call(iteratedKeys, key)) {\n      continue;\n    }\n\n    iteratedKeys[key] = true;\n\n    if ({}.hasOwnProperty.call(object, key)) {\n      if (array && iterated++ >= object.length) {\n        break;\n      }\n\n      const value = callback(object[key], array ? Number(key) : key, object);\n\n      if (!isUndefined(value)) {\n        return value;\n      }\n    }\n  }\n}\n","/**\n * @module helpers/assign\n * @private\n * @description Exports Object.assign-like method.\n */\n\nimport { iterate } from './iterate';\n\n/**\n * @const\n * @function assign\n * @param {Object} target - Object to assign rest of arguments to.\n * @param {...Object} objects - Objects that are assigned to the target.\n * @returns {Object} Target.\n */\nexport function assign(target, ...objects) {\n  iterate(arguments, (source, index) => {\n    if (index) {\n      iterate(source, (value, key) => {\n        target[key] = value;\n      });\n    }\n  });\n    \n  return target;\n}\n","/**\n * @module helpers/defineProperty\n * @private\n * @description Exports defineProperty and dynamicDefineProperties methods.\n */\n\nimport { iterate } from './iterate';\n\n/**\n * @callback propertyGeneratorCallback\n * @param {String} name - Name of the property.\n * @param {Number} i - Index of the array.\n * @returns {*} Generated property.\n */\n\n/**\n * @function dynamicDefineProperties\n * @param {Object} target - Object to define properties for.\n * @param {Array} properties - Object which keys are properties.\n * @param {propertyGeneratorCallback} propertyGenerator - Callback for every property.\n * @returns {void}\n * @description Function for dynamic creating properties based on name of the method.\n */\nexport function dynamicDefineProperties(target, properties, propertyGenerator) {\n  iterate(properties, (name, i) => {\n    Object.defineProperty(target, name, {\n      value: propertyGenerator(name, i),\n      writable: true,\n      enumerable: false,\n      configurable: true\n    });\n  });\n}\n\n/**\n * @function defineProperties\n * @param {Object} target - Target to define properties for.\n * @param {Object} properties - Object with properties needed to be assign to the target.\n * @returns {void}\n * @description Function for defining properties of an object.\n */\nexport function defineProperties(target, properties) {\n  iterate(properties, (value, name) => {\n    if (/^get /.test(name)) {\n      Object.defineProperty(target, name.replace(/^get /, ''), {\n        get: value,\n        set: undefined,\n        enumerable: false,\n        configurable: true\n      });\n\n      return;\n    }\n\n    if (/^set /.test(name)) {\n      Object.defineProperty(target, name.replace(/^set /, ''), {\n        set: value,\n        get: undefined,\n        enumerable: false,\n        configurable: true\n      });\n\n      return;\n    }\n\n    if (/^get\\/set /.test(name)) {\n      Object.defineProperty(target, name.replace(/^get\\/set /, ''), {\n        get: value.get,\n        set: value.set,\n        enumerable: false,\n        configurable: true\n      });\n\n      return;\n    }\n\n    if (name !== 'Symbol.toStringTag') {\n      Object.defineProperty(target, name, {\n        value,\n        writable: true,\n        enumerable: false,\n        configurable: true\n      });\n    }\n  });\n}\n\n/**\n * @function defineUsualProperties\n * @param {Object} target - Target to define properties for.\n * @param {Object} properties - Object with properties needed to be assign to the target.\n * @returns {void}\n * @description Function for defining usual properties of an object.\n */\nexport function defineUsualProperties(target, properties) {\n  iterate(properties, (value, name) => {\n    Object.defineProperty(target, name, {\n      value,\n      writable: true,\n      enumerable: true,\n      configurable: true\n    });\n  });\n}\n\n/**\n * @function defineFrozenProperties\n * @param {Object} target - Target to define properties for.\n * @param {Object} properties - Object with properties needed to be assign to the target.\n * @returns {void}\n * @description Function for defining frozen properties of an object.\n */\nexport function defineFrozenProperties(target, properties) {\n  iterate(properties, (value, name) => {\n    Object.defineProperty(target, name, {\n      value,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  });\n}\n","/**\n * @module helpers/Symbol\n * @private\n * @description Exports Symbol class.\n */\n\nexport const Symbol = global.Symbol || {\n  toStringTag: 'Symbol.toStringTag',\n  iterator: Math.random().toString(36)\n};\n","/**\n * @module helpers/toArray\n * @private\n * @description Exports toArray method.\n */\n\nimport { isArray, isArrayLike, isString } from './checkTypes';\nimport { iterate } from './iterate';\n\n/**\n * @function toArray\n * @param {*} value - Any value.\n * @param {Boolean} [createNewArray = false] - If it is needed to create new array.\n * @returns {Array} Create array.\n * @description Function for creating an array of any value.\n */\nexport function toArray(value, createNewArray) {\n  if (isArray(value) && !createNewArray) {\n    return value;\n  }\n\n  const array = [];\n\n  if (isArrayLike(value) && !isString(value)) {\n    iterate(value, (value) => {\n      array.push(value);\n    });\n  } else {\n    array.push(value);\n  }\n\n  return array;\n}\n","/**\n * @module helpers/toJSON\n * @private\n * @description Exports toJSON method.\n */\n\nexport function toJSON(what) {\n  return JSON.stringify(what);\n}\n\nexport function parseJSON(what) {\n  return JSON.parse(what);\n}\n","/**\n * @module helpers/validate\n * @private\n * @description Exports validate method.\n */\n\nimport { validateCheckExpressions } from '../constants';\nimport { iterate } from './iterate';\nimport { isArray } from './checkTypes';\n\nconst numbers = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th'];\n\n/**\n * @function validate\n * @private\n * @param {Object} args - Arguments of function.\n * @param {Object} options - Object with validate parameters.\n * @param {String} [name] - Name of the function what called validate.\n * @returns {void}\n * @description Function for checking arguments of other functions.\n */\nexport function validate(args, options, name) {\n  iterate(options, (array, number) => {\n    if (!isArray(array)) {\n      array = [array];\n    }\n\n    iterate(array, (checker) => {\n      checker = validateCheckExpressions[checker];\n\n      if (!checker.check(args[number])) {\n        throw new checker.error(checker.text.replace('$n', numbers[number]) + (name ? ` (at ${ name })` : ''));\n      }\n    });\n  });\n}\n","/**\n * @module Alphabet\n * @private\n * @mixin\n * @description Exports Alphabet class.\n */\n\nimport { isString, validate, defineProperties, Symbol } from './helpers';\n\n/**\n * @typedef {String} Char\n * @public\n * @description A string of one char.\n */\n\n/**\n * @class Alphabet\n * @public\n * @param {ArrayLike} alphabet - Alphabet to wrap.\n * @returns {Alphabet} Instance of Alphabet.\n * @description Class for alphabet manipulations: add, delete symbols, generate a token from an alphabet,\n * check if an alphabet contains a word.\n *\n * @example\n * new Alphabet(['a', 'b', 'c']);\n */\nclass Alphabet {\n  constructor(alphabet = []) {\n    const a = {};\n\n    for (let i = 0, length = alphabet.length; i < length; i++) {\n      const char = alphabet[i];\n\n      if (!check(char)) {\n        throw new Error('Each element of an array must be a single char! (in Alphabet)');\n      }\n\n      a[char] = char;\n    }\n\n    /**\n     * @member {Object} Alphabet#$$\n     * @public\n     * @description The alphabet.\n     */\n    Object.defineProperty(this, '$$', { value: a });\n  }\n\n  /**\n   * @method Alphabet#add\n   * @public\n   * @param {...Char} chars - Chars to add.\n   * @returns {Alphabet} Returns this.\n   * @description Method for adding new letters to the alphabet.\n   *\n   * @example\n   * const alphabet = new Alphabet(['a', 'b', 'c']);\n   *\n   * alphabet.add('d', 'e');\n   *\n   * alphabet.get().$; // ['a', 'b', 'c', 'd', 'e']\n   */\n  add(...chars) {\n    for (let i = 0, length = chars.length; i < length; i++) {\n      const char = chars[i];\n\n      if (!check(char)) {\n        throw new Error('Each argument must be a single char! (in Alphabet#add)');\n      }\n\n      this.$$[char] = char;\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Alphabet#contains\n   * @public\n   * @param {String} word - Word to check if it is in the alphabet or not.\n   * @returns {Boolean} If the word in the alphabet or not.\n   * @description Method that returns if a word is in alphabet or not.\n   *\n   * @example\n   * const alphabet = new Alphabet(['f', 'b', 'o', 'a', 'r']);\n   *\n   * alphabet.contains('foo'); // true\n   * alphabet.contains('bar'); // true\n   * alphabet.contains('baz'); // false\n   */\n  contains(word) {\n    validate([word], ['string'], 'Alphabet#contains');\n\n    const alphabet = this.$$;\n\n    for (let i = 0, length = word.length; i < length; i++) {\n      if (!alphabet[word[i]]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * @method Alphabet#delete\n   * @public\n   * @param {...Char} chars - Chars to delete.\n   * @returns {Alphabet} Returns this.\n   * @description Method for deleting letters from the alphabet.\n   *\n   * @example\n   * const alphabet = new Alphabet(['a', 'b', 'c', 'd']);\n   *\n   * alphabet.delete('a');\n   *\n   * alphabet.get().$; // ['b', 'c', 'd']\n   *\n   * alphabet.delete('b', 'd');\n   *\n   * alphabet.get().$; // ['c']\n   */\n  delete(...chars) {\n    for (let i = 0, length = chars.length; i < length; i++) {\n      const char = chars[i];\n\n      if (!check(char)) {\n        throw new Error('Each argument must be a single char! (in Alphabet#delete)');\n      }\n\n      delete this.$$[char];\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Alphabet#get\n   * @returns {Array} Wrap of an array of alphabet letters.\n   * @description Method for getting array of alphabet letters.\n   *\n   * @example\n   * new Alphabet(['a', 'b', 'c']).get().$; // ['a', 'b', 'c']\n   */\n  get() {\n    return Object.keys(this.$$);\n  }\n\n  /**\n   * @method Alphabet#token\n   * @public\n   * @param {Number} length - Token length.\n   * @returns {String} Token.\n   * @description Method for generating random token with given length.\n   *\n   * @example\n   * new Alphabet(['a', 'b', 'c']).token(4); // 'abcb'\n   */\n  token(length) {\n    validate([length], [['intLike', '>0']], 'Alphabet#token');\n\n    const alphabet = Object.keys(this.$$);\n    const len = alphabet.length;\n    let token = '';\n\n    for (let i = 0; i < length; i++) {\n      token += alphabet[Math.floor(Math.random() * len)];\n    }\n\n    return token;\n  }\n}\n\ndefineProperties(Alphabet.prototype, {\n  [Symbol.toStringTag]: 'Alphabet'\n});\n\nfunction check(char) {\n  return isString(char) && char.length === 1;\n}\n\n/**\n * @function alphabet\n * @public\n * @param {String} string - String to generate an alphabet from.\n * @returns {Alphabet} New instance of Alphabet.\n * @description Function for creating an alphabet from a string that has format like this:\n * '&lt;char1&gt;-&lt;char2&gt; &lt;char3&gt;-&lt;char4&gt;'\n *\n * @example\n * const a1 = alphabet('a-c 1-3');\n * const a2 = alphabet('5-5f-g');\n *\n * a1.get().$; // ['1', '2', '3', 'a', 'b', 'c']\n * a2.get().$; // ['5', 'f', 'g']\n */\nfunction alphabet(string) {\n  validate([string], ['string']);\n\n  const ranges = string.split(/([\\s\\S]-+[\\s\\S])?/g);\n  const length = ranges.length;\n  const alphabet = [];\n\n  for (let i = 0; i < length; i++) {\n    const range = ranges[i];\n\n    if (!range || range === ' ') {\n      continue;\n    }\n\n    if (/-/.test(range) && !/[\\s\\S]-+[\\s\\S]/.test(range)) {\n      throw new Error(`Wrong part of the string (${ range })! (in alphabet)`);\n    }\n\n    if (/-/.test(range)) {\n      const start = range.charCodeAt(0);\n      const end = range.charCodeAt(2);\n\n      if (start > end) {\n        throw new Error('Start of the range must be before its end! (in alphabet)');\n      }\n\n      for (let k = 0, len = end - start + 1; k < len; k++) {\n        alphabet.push(String.fromCharCode(start + k));\n      }\n\n      continue;\n    }\n\n    if (range.length === 1) {\n      alphabet.push(range);\n    }\n  }\n\n  return new Alphabet(alphabet);\n}\n\nexport { Alphabet, alphabet };\n","/**\n * @module Switcher\n * @private\n * @mixin\n * @description Exports Switcher class.\n */\n\nimport {\n  isArray, isFunction, isString, isUndefined,\n  iterate, Symbol, toArray, defineProperties\n} from './helpers';\n\n/**\n * @typedef {'boolean'|'equals'|'strictEquals'|'call'} SwitcherMode\n * @public\n * @description Enum type of switcher modes.\n */\n\n/**\n * @callback SwitcherCallCallback\n * @public\n * @param {*} value - Switcher value.\n * @returns {Boolean|*} On what the callback returns depends if the case is a match (truthy for the match).\n */\n\n/**\n * @callback SwitcherMatchCallback\n * @public\n * @param {...*} args - Arguments from the second argument that switcher was called with.\n * @param {*} value - Switcher value.\n * @param {*} matched - Switcher matched case.\n */\n\n/**\n * @class Switcher\n * @public\n * @param {Object} [cases = {}] - Object of cases.\n * @param {SwitcherMode} [mode = 'equals'] - Switcher mode.\n * @param {*} [defaultValue] - Switcher default value.\n * @returns {Switcher} - Instance of Switcher.\n * @description Switcher class for creating functions working similar to switch (value) {} construction,\n * but with the value assignment. Switcher instance is a function that accepts a value argument and an optional\n * args argument. Args with additional switcher value and matched case\n * are passed into the function of the matched case (if it is a function).\n *\n * @example\n * const switcher = new Switcher();\n * const switcher = new Switcher({\n *   case1: 'value1',\n *   case2: 'value2'\n * });\n * const switcher = new Switcher('strictEquals');\n * const switcher = new Switcher({\n *   case1: 'value1',\n *   case2: 'value2'\n * }, 'strictEquals');\n * const switcher = new Switcher('strictEquals', 'defaultValue');\n * const switcher = new Switcher({\n *   case1: 'value1',\n *   case2: 'value2'\n * }, 'strictEquals', 'defaultValue');\n *\n * // See [switcher]{@link switcher} examples for more information.\n */\nclass Switcher extends Function {\n  constructor(cases = {}, mode = 'equals', defaultValue) {\n    super();\n\n    if (isString(cases)) {\n      if (!isUndefined(arguments[1])) {\n        defaultValue = mode;\n      }\n\n      mode = cases;\n      cases = {};\n    }\n\n    const eventualCases = [];\n\n    iterate(cases, (value, Case) => {\n      eventualCases.push({ case: Case, value });\n    });\n\n    function switcher(value, args = []) {\n      const { mode, default: def, cases } = switcher.$$;\n\n      let ret = iterate(cases, ({ value: val, case: Case }) => {\n        if (\n          (mode === 'boolean' && Case) ||\n          /* eslint eqeqeq: 0 */\n          (mode === 'equals' && Case == value) ||\n          (mode === 'strictEquals' && Case === value) ||\n          (mode === 'call' && Case(value))\n        ) {\n          return { case: Case, value: val };\n        }\n      });\n\n      if (isUndefined(ret)) {\n        ret = { value: def };\n      }\n\n      if (!isFunction(ret.value)) {\n        return ret.value;\n      }\n\n      args = toArray(args, true);\n      args.push(value, ret.case);\n\n      return ret.value.apply(null, args);\n    }\n\n    /**\n     * @member Switcher#$$\n     * @type {Object}\n     * @protected\n     * @property {Array} cases - Array of cases.\n     * @property {SwitcherMode} mode - Switcher mode.\n     * @property {*} default - Switcher default value.\n     * @description Config parameters.\n     */\n    Object.defineProperty(switcher, '$$', {\n      value: {\n        cases: eventualCases,\n        mode,\n        default: defaultValue\n      }\n    });\n    Object.setPrototypeOf(switcher, Switcher.prototype);\n\n    return switcher;\n  }\n\n  /**\n   * @method Switcher#case\n   * @public\n   * @param {*|SwitcherCallCallback|Array.<*|SwitcherCallCallback>} cases - Case or an array of cases.\n   * @param {*|SwitcherMatchCallback} value - Value that has to be assigned or a function\n   * that is called with switcher value, if it's the case.\n   * @returns {Switcher} Returns this.\n   * @description Method for defining new cases.\n   *\n   * @example\n   * const sw = new Switcher()\n   *   .case(1, 'one')\n   *   .case(2, 'two');\n   *\n   * sw(1); // 'one'\n   * sw(2); // 'two'\n   */\n  case(cases, value) {\n    if (!isArray(cases)) {\n      cases = [cases];\n    }\n\n    iterate(cases, (Case) => {\n      this.$$.cases.push({ case: Case, value });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Switcher#default\n   * @public\n   * @param {*} def - New default value.\n   * @returns {Switcher} Returns this.\n   * @description Method for redefining default switcher value.\n   *\n   * @example\n   * const sw = new Switcher()\n   *   .case(1, 'one')\n   *   .default('three');\n   *\n   * sw(1); // 'one'\n   * sw(2); // 'three'\n   */\n  default(def) {\n    this.$$.default = def;\n\n    return this;\n  }\n\n  /**\n   * @method Switcher#mode\n   * @public\n   * @param {SwitcherMode} mode - New switcher mode.\n   * @returns {Switcher} Returns this.\n   * @description Method for redefining switcher mode.\n   *\n   * @example\n   * const sw = new Switcher()\n   *   .mode('strictEquals')\n   *   .case(1, 'number')\n   *   .case('1', 'string');\n   *\n   * sw(1);   // 'number'\n   * sw('1'); // 'string'\n   */\n  mode(mode) {\n    this.$$.mode = mode;\n\n    return this;\n  }\n}\n\ndefineProperties(Switcher.prototype, {\n  [Symbol.toStringTag]: 'Switcher'\n});\n\n/**\n * @function switcher\n * @public\n * @param {Object} [cases = {}] - Object of cases.\n * @param {SwitcherMode} [mode = 'equals'] - Switcher mode.\n * @param {*} [defaultValue] - Switcher default value.\n * @returns {Switcher} New instance of Switcher.\n * @description Simple wrap of [new Switcher(...)]{@link Switcher}.\n * \n * @example\n * const sw = switcher({\n *   1: 'foo',\n *   2: 'bar'\n * });\n * sw(1); // 'foo'\n * sw(2); // 'bar'\n * sw(3); // undefined\n * \n * @example\n * const sw = switcher()\n *   .case([1, 2], 'foo')\n *   .case(3, 'bar');\n *   \n * sw(1); // 'foo'\n * sw(2); // 'foo'\n * sw(3); // 'bar'\n * \n * @example\n * const sw = switcher('call')\n *   .case(isArray, 'array')\n *   .case(isString, 'string')\n *   .case(isNumber, 'number')\n *   .default('rest');\n *   \n * sw([]);    // 'array'\n * sw('foo'); // 'string'\n * sw(123);   // 'number'\n * sw({});    // 'rest'\n * \n * @example\n * const sw = switcher({\n *   1: (value) => {\n *     console.log(value + 1);\n *   },\n *   2: () => {\n *     console.log(value - 1);\n *   }\n * });\n * \n * sw(1); // 2\n * sw(2); // 1\n * \n * @example\n * const sw = switcher({\n *   first: (array) => array[0],\n *   last: (array) => array[array.length - 1]\n * }, 'equals', (array, index) => array[index]);\n * const array = [1, 2, 3, 4];\n * \n * sw('first', [array]); // 1\n * sw('last', [array]);  // 4\n * sw(1, [array]);       // 2\n * sw(2, [array]);       // 3\n */\nfunction switcher(cases, mode, defaultValue) {\n  return new Switcher(...arguments);\n}\n\n/**\n * @function when\n * @public\n * @param {Boolean|*} condition - Condition used for returning the proper value.\n * @param {*} value1 - Value if the condition is truthy.\n * @param {*} value2 - Value if the condition is falsey.\n * @returns {*} value1 or value2.\n * @description Synonym for\n * [ternary operator]{@link https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Operators/Conditional_Operator}.\n * \n * @example\n * when(true, 'true', 'false'); // 'true'\n */\nfunction when(condition, value1, value2) {\n  return condition ? value1 : value2;\n}\n\nexport { Switcher, switcher, when };\n","/**\n * @module Super\n * @private\n * @mixin\n * @description Exports Super class.\n */\n\nimport { D } from './D';\nimport { switcher } from './Switcher';\nimport { constructors } from './constants/constructors';\nimport {\n  isArray, isArrayLike, isDate, isElement, isFunction, isNil, isNaN, isNull,\n  isObject, isPlainObject, isPrimitive, isRegExp, isString, isUndefined,\n  validate, toStringTag, iterate, Symbol, defineProperties\n} from './helpers';\n\n/**\n * @typedef {Super|Arr|Func|Elem|Str|Num|Dat|BlobObject} DWrap\n * @public\n * @description Any kind of D-Wrap.\n */\n\n/**\n * @typedef {String|Number|null} Key\n * @public\n * @description Key type used in many methods.\n */\n\n/**\n * @typedef {TreeElement[]} Tree\n * @public\n */\n\n/**\n * @typedef {Object} TreeElement\n * @public\n * @property {Key} key - Tree element key.\n * @property {*} value - Tree element value.\n * @description {@link Tree} element.\n */\n\n/**\n * @callback DeepIterationCallback\n * @public\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n * @param {Tree} tree - Tree of { key, value } elements.\n */\n\n/**\n * @callback DeepReduceCallback\n * @public\n * @param {*} previousValue - Previous value.\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n * @param {Tree} tree - Tree of { key, value } elements.\n */\n\n/**\n * @callback IterationCallback\n * @public\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n */\n\n/**\n * @callback JSONCallback\n * @public\n * @param {String|null} key - Current value.\n * @param {*} value - Current key.\n * @param {Object} object - Iteration object.\n */\n\n/**\n * @callback ObjectCallback\n * @public\n * @param {Object} newObject - The new object.\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n */\n\n/**\n * @callback ReduceCallback\n * @public\n * @param {*} previousValue - Previous value.\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n */\n\n/**\n * @callback SuperMethod\n * @public\n * @this {DWrap}\n */\n\nconst cloneSwitcher = switcher('call', (object) => object)\n  .case(\n    (object) => new Super(object) === object,\n    (object) => new (Object.getPrototypeOf(object).constructor)(new Super(object.$).deepClone().$)\n  )\n  .case(isElement, (object, deep) => object.clone(deep))\n  .case(isDate, (object) => new Date(object))\n  .case(isRegExp, (object) => new RegExp(object.source, object.toString().match(/[gimuy]*$/)[0]))\n  .case(isArray, () => [])\n  .case(isPlainObject, () => ({}));\n\n/**\n * @class Super\n * @public\n * @param {*} [object] - An object to wrap.\n * @returns {DWrap} Instance of Super.\n * @description Wrap of any value. And there is no way to create a nested wrap.\n *\n * @example\n * new Super({}); // Super\n */\nclass Super {\n  constructor(object) {\n    if (object instanceof Super) {\n      return object;\n    }\n\n    /**\n     * @member Super#$\n     * @type {*}\n     * @public\n     * @description Wrapped object.\n     */\n    Object.defineProperty(this, '$', { value: object });\n  }\n\n  /**\n   * @method Super.addStaticProperties\n   * @public\n   * @param {String|Object} property - Either a string of a property or an object\n   * with properties keys and values values.\n   * @param {Object} [value] - If a property parameter is a string this has to be a property value.\n   * @returns {this} Returns this.\n   * @description Sets static properties for DWrap constructors.\n   *\n   * @example\n   * Super.addStaticProperties('cool', 42);\n   * Super.addStaticProperties('superCool', 42*42);\n   */\n  static addStaticProperties(property, value) {\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    defineProperties(this, property);\n\n    return this;\n  }\n\n  /**\n   * @method Super.addInstanceProperties\n   * @public\n   * @param {String|Object} property - Either a string of a property or an object\n   * with properties keys and values values.\n   * @param {Object} [value] - If a property parameter is a string this has to be a property value.\n   * @returns {this} Returns this.\n   * @description Sets static properties for DWrap prototypes.\n   *\n   * @example\n   * Super.addInstanceProperties('cool', 42);\n   * Super.addInstanceProperties('superCool', 42*42);\n   */\n  static addInstanceProperties(property, value) {\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    defineProperties(this.prototype, property);\n\n    return this;\n  }\n\n  /**\n   * @method Super#assign\n   * @public\n   * @param {...(Object|Super|*)} objects - Objects to be assigned to the object.\n   * @returns {DWrap} Returns this.\n   * @description Synonym for\n   * [Object.assign]\n   * {@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).assign({ a: 3 }, { c: 3, d: 4 }, { d: 5 }).$; // { a: 3, b: 2, c: 3, d: 5 }\n   */\n  assign(...objects) {\n    const object = this.$;\n\n    iterate(object && arguments, (o) => {\n      iterate(new Super(o).$, (value, key) => {\n        object[key] = value;\n      });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#average\n   * @public\n   * @param {IterationCallback} [callback = null] - Callback that is passed to {@link Super#sum}.\n   * @returns {Number} Average value.\n   * @description Synonym for object.sum(callback) / object.count.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).average();                         // 2\n   * new Super({ a: 1, b: 2, c: 5 }).average((value) => value * value); // 10\n   */\n  average(callback = null) {\n    validate([callback], ['function||!'], 'Super#average');\n\n    return this.sum(callback) / this.count;\n  }\n\n  /**\n   * @method Super#call\n   * @public\n   * @param {SuperMethod} func - Function to be called with this context.\n   * @param {...*} args - Arguments to be called with.\n   * @returns {*} Return of function call.\n   * @description Synonym for func.call(DObject, ...args);\n   *\n   * @example\n   * new Super({ a: 1 }).call(function (b, c) {\n   *   return this.a + b + c;\n   * }, 2, 3); // 6\n   */\n  call(func, ...args) {\n    validate([func], ['function'], 'Super#call');\n\n    return func.apply(this, args);\n  }\n\n  /**\n   * @method Super#clone\n   * @returns {DWrap} New object.\n   * @description Method assigns properties of the object to an empty one and returns the new one.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2 } }).clone().$; // { a: 1, b: { c: 2 } }\n   */\n  clone() {\n    const object = this.$;\n    const clone = cloneSwitcher(object, [object, false]);\n\n    if (clone !== object) {\n      iterate(object, (value, key) => {\n        clone[key] = value;\n      });\n    }\n\n    return new this.constructor(clone);\n  }\n\n  /**\n   * @member Super#count\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Returns number of own enumerable keys of the object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).count; // 2\n   */\n  get count() {\n    const object = this.$;\n\n    if (!isObject(object)) {\n      return 0;\n    }\n\n    return isArrayLike(object) ? object.length : Object.keys(object).length;\n  }\n\n  /**\n   * @method Super#create\n   * @public\n   * @param {Object} [descriptors] - Descriptors passed to Object.create.\n   * @returns {DWrap} New instance of D-Wrap.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n   * @description Synonym for\n   * [Object.create]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/create}.\n   *\n   * @example\n   * new Super({}).create({\n   *   a: {\n   *     value: 1,\n   *     enumerable: false,\n   *     writable: true,\n   *     configurable: false\n   *   }\n   * }).$; // { a: 1 }\n   */\n  create(descriptors) {\n    return D(isPrimitive(this.$) ? undefined : Object.create(this.$, descriptors));\n  }\n\n  /**\n   * @method Super#deepAssign\n   * @public\n   * @param {...*} objects - Objects to be assigned to the object.\n   * @returns {DWrap} Returns this.\n   * @description Deep analogue of {@link Super#assign}.\n   *\n   * @example\n   * new Super({ a: 1 }).deepAssign(\n   *   {\n   *     b: {\n   *       c: 2\n   *     }\n   *   },\n   *   {\n   *     a: {\n   *       b: 1\n   *     }\n   *   },\n   *   {\n   *     a: {\n   *       c: {\n   *         d: 1\n   *       }\n   *     },\n   *     b: 2\n   *   },\n   *   null\n   * });\n   * // {\n   * //   a: {\n   * //     b: 1,\n   * //     c: {\n   * //       d: 1\n   * //     }\n   * //   },\n   * //   b: 2,\n   * // }\n   */\n  deepAssign(...objects) {\n    const object = this.$;\n\n    if (isPrimitive(object)) {\n      return this;\n    }\n\n    iterate(arguments, (o) => {\n      deepAssign(object, o);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#deepClone\n   * @public\n   * @returns {DWrap} New instance of DWrap.\n   * @description Deep cloning method. Clones plain objects, arrays, regular expressions and elements, the rest stays the same.\n   *\n   * @example\n   * new Super({ a: 1, b: [2, 3], c: { d: 4 } }).deepClone().$;\n   * // {\n   * //   a: 1,\n   * //   b: [2, 3],\n   * //   c: { d: 4 }\n   * // }\n   */\n  deepClone() {\n    return new this.constructor(deepClone(this.$));\n  }\n\n  /**\n   * @method Super#deepEquals\n   * @public\n   * @param {*} [object] - Object to compare to.\n   * @returns {Boolean} - If the objects are deep equal or not.\n   * @description Method for deep comparison of two objects.\n   *\n   * @example\n   * new Super({ a: 1 }).deepEquals({ a: '1' }); // true\n   * new Super(/1/).deepEquals(/1/);             // true\n   */\n  deepEquals(object = null) {\n    return deepEqual(this.$, object, false);\n  }\n\n  /**\n   * @method Super#deepEvery\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration goes on and if falsey it stops.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns boolean if all the callback calls returned truthy value.\n   * Otherwise false. Deep analogue of {@link Super#every}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepEvery((value) => value < 4); // true\n   * new Super({ a: {}, b: {}, c: {} }).deepEvery(() => false);              // true\n   */\n  deepEvery(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepEvery');\n\n    n = Number(n);\n\n    return deepEvery(this.$, callback, n, [{ key: null, value: this.$ }]);\n  }\n\n  /**\n   * @method Super#deepFilter\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy the element is included and if falsey it's excluded.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {DWrap} New D-Wrap of filtered object.\n   * @description Returns filtered by the callback object. Deep analogue of {@link Super#filter}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value%2).$;     // { a: 1, b: { d: 3 } }\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value === 1).$; // { a: 1 }\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value > 3).$;   // {}\n   */\n  deepFilter(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepFilter');\n\n    const filtered = deepFilter(this.$, callback, n, [{ key: null, value: this.$ }]);\n\n    return D(isNil(filtered) ? filtered : filtered || {});\n  }\n\n  /**\n   * @method Super#deepFind\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {Tree|null} Tree of { key, value } if something found and null if not.\n   * @description Returns tree of the elements if something found and null if nothing found.\n   * Deep analogue of {@link Super#find}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFind((value) => value === 2);\n   * // [\n   * //   { key: 'c', value: 2 },\n   * //   { key: 'b', value: { c: 2, d: 3 } },\n   * //   { key: null, value: <initial object> }\n   * // ]\n   */\n  deepFind(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepFind');\n\n    return deepFind(this.$, callback, n, [{ key: null, value: this.$ }]);\n  }\n\n  /**\n   * @method Super#deepForEach\n   * @public\n   * @param {DeepIterationCallback} callback - Called on each iteration.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {DWrap} Returns this.\n   * @description Method for iterating over any object. Deep analogue of {@link Super#forEach}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepForEach((value, key, object) => object[key] = value * value).$;\n   * // { a: 1, b: { c: 4, d: 9 } }\n   */\n  deepForEach(callback, n = Infinity) {\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepForEach');\n\n    n = Number(n);\n\n    deepForEach(this.$, callback, n, [{ key: null, value: this.$ }]);\n\n    return this;\n  }\n\n  /**\n   * @method Super#deepForEach\n   * @public\n   * @param {DeepIterationCallback} callback - Called on each iteration.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {DWrap} Returns this.\n   * @description Method for iterating over any object. Deep analogue of {@link Super#forEach}.\n   * Unlike {@link Super#deepForEach} the callback is called on every value of every object inside\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepForEach((value, key, object) => object[key] = value * value).$;\n   * // { a: 1, b: { c: 4, d: 9 } }\n   */\n  deepForEachEntry(callback, n = Infinity) {\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepForEach');\n\n    n = Number(n);\n\n    deepForEachEntry(this.$, callback, n, [{ key: null, value: this.$ }]);\n\n    return this;\n  }\n\n  /**\n   * @method Super#deepFreeze\n   * @public\n   * @returns {DWrap} Returns this.\n   * @description Deep analogue of {@link Super#freeze}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFreeze(); // Super\n   */\n  deepFreeze() {\n    deepFreeze(this.$);\n\n    return this;\n  }\n\n  /**\n   * @method Super#deepMap\n   * @public\n   * @param {DeepIterationCallback} callback - Called on each iteration.\n   * Return value is used for creating a new object.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {DWrap} D-Wrap of the new object.\n   * @description Returns a wrap of a new object using the callback. Deep analogue of {@link Super#map}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepMap((value) => value * value).$;\n   * // { a: 1, b: { c: 4, d: 9 } }\n   */\n  deepMap(callback, n = Infinity) {\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepMap');\n\n    n = Number(n);\n\n    return D(deepMap(this.$, callback, n, [{ key: null, value: this.$ }]));\n  }\n\n  /**\n   * @method Super#deepReduce\n   * @public\n   * @param {DeepReduceCallback} callback - Called on each iteration.\n   * Return value is passed to the next callback call.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @param {*} [IV = <first value>|undefined] - Initial value.\n   * @returns {*} Modified IV.\n   * @description Returns modified IV. Deep analogue of {@link Super#reduce}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepReduce((sum, value) => sum + value * value, Infinity, 0); // 14\n   */\n  deepReduce(callback, n = Infinity, IV) {\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepReduce');\n\n    n = Number(n);\n\n    const object = this.$;\n    const tree = [{ key: null, value: this.$ }];\n\n    if (arguments.length < 3) {\n      return deepReduce(object, callback, n, false, undefined, tree).IV;\n    }\n\n    return deepReduce(object, callback, n, false, { IV }, tree).IV;\n  }\n\n  /**\n   * @method Super#deepSome\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns true if some of the callback calls returned truthy value.\n   * Otherwise false. Deep analogue of {@link Super#some}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepSome((value) => value > 4); // false\n   * new Super({ a: {}, b: {}, c: {} }).deepSome(() => true);               // false\n   */\n  deepSome(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepSome');\n\n    n = Number(n);\n\n    return deepSome(this.$, callback, n, [{ key: null, value: this.$ }]);\n  }\n\n  /**\n   * @method Super#deepStrictEquals\n   * @public\n   * @param {*} [object] - Object to compare to.\n   * @returns {Boolean} - If the objects are deep strict equal or not.\n   * @description Method for deep strict comparison of two objects.\n   *\n   * @example\n   * new Super({ a: 1 }).deepStrictEquals({ a: '1' }); // false\n   * new Super(/1/).deepStrictEquals(/1/);             // true\n   */\n  deepStrictEquals(object = null) {\n    return deepEqual(this.$, object, true);\n  }\n\n  /**\n   * @method Super#define\n   * @param {String|Object} property - Either a string of a property or a descriptors object.\n   * @param {Object} [descriptor] - If a property parameter is a string this has to be a property descriptor.\n   * @returns {DWrap} Returns this.\n   * @description Synonym for both\n   * [Object.defineProperty]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty}\n   * and\n   * [Object.defineProperties]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties}.\n   *\n   * @example\n   * new Super({}).define('a', {\n   *   value: 1,\n   *   enumerable: false,\n   *   writable: true,\n   *   configurable: false\n   * }).$; // { a: 1 }\n   * new Super({}).define({\n   *   a: {\n   *     value: 1,\n   *     enumerable: false,\n   *     writable: true,\n   *     configurable: false\n   *   }\n   * }).$; // { a: 1 }\n   */\n  define(property, descriptor) {\n    if (arguments.length >= 2) {\n      property = { [property]: descriptor };\n    }\n\n    property = new Super(property).$;\n\n    if (isObject(this.$)) {\n      Object.defineProperties(this.$, property);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Super#delete\n   * @public\n   * @param {...String} props - List of properties to delete.\n   * @returns {DWrap} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/delete\n   * @description Synonym for multiple\n   * [\"delete\" operator]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/delete}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).delete('c', 'a').$; // { b: 2 }\n   */\n  delete(...props) {\n    const object = this.$;\n\n    iterate(object && props, (property) => {\n      delete object[property];\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#equals\n   * @public\n   * @param {*} [object] - Object to compare.\n   * @returns {Boolean} If the objects are equal or not.\n   * @description Returns true if objects are equal using '==' operator and false if not. NaNs are considered to be equal.\n   *\n   * @example\n   * new Super(3).equals('3');   // true\n   * new Super(NaN).equals(NaN); // true\n   */\n  equals(object) {\n    const o = this.$;\n\n    object = new Super(object).$;\n\n    /* eslint eqeqeq: 0 */\n    return o == object || (isNaN(o) && isNaN(object));\n  }\n\n  /**\n   * @method Super#every\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration goes on and if falsey it stops.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns boolean if all the callback calls returned truthy value.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).every((value) => value < 4); // true\n   * new Super({}).every(() => false);                            // true\n   */\n  every(callback = Boolean) {\n    validate([callback], ['function'], 'Super#every');\n\n    return iterate(this.$, (value, key, object) => {\n      if (!callback(value, key, object)) {\n        return false;\n      }\n    }) !== false;\n  }\n\n  /**\n   * @method Super#except\n   * @public\n   * @param {...String} [props] - Props to filter.\n   * @returns {DWrap} New D-Wrap of filtered object.\n   * @description Returns filter by the props object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).except('a', 'b').$; // { c: 3 }\n   * new Super(null).except('a').$;                      // {}\n   */\n  except(...props) {\n    return this.filter((value, key) => props.indexOf(key) === -1);\n  }\n\n  /**\n   * @method Super#filter\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy the element is included and if falsey it's excluded.\n   * @returns {DWrap} New D-Wrap of filtered object.\n   * @description Returns filtered by the callback object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).filter((value) => value%2).$; // { a: 1, c: 3 }\n   * new Super(null).filter((value) => value%2).$;                 // null\n   */\n  filter(callback = Boolean) {\n    validate([callback], ['function'], 'Super#filter');\n\n    const object = this.$;\n    const array = isArrayLike(object);\n\n    /* eslint no-nested-ternary: 0 */\n    const o = array ? [] : isNil(object) ? object : {};\n\n    iterate(object, (value, key) => {\n      if (callback(value, key, object)) {\n        if (array) {\n          o.push(value);\n        } else {\n          o[key] = value;\n        }\n      }\n    });\n\n    return D(o);\n  }\n\n  /**\n   * @method Super#find\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @returns {{ key: Key, value: * }|null} { key, value } if found and null if not.\n   * @description Returns found { key, value } if something found and null if nothing found.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).find((value) => value === 2); // { key: 'b', value: 2 }\n   * new Super([1, 2, 3]).find((value) => value === 2);            // { key: 1, value: 2 }\n   */\n  find(callback) {\n    validate([callback], ['function'], 'Super#find');\n\n    return iterate(this.$, (value, key, object) => {\n      if (callback(value, key, object)) {\n        return { key, value };\n      }\n    }) || null;\n  }\n\n  /**\n   * @method Super#forEach\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * @returns {DWrap} Returns this.\n   * @description Method for iterating over any object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).forEach((value, key, object) => {\n   *   object[key] = value * value;\n   * }).$; // { a: 1, b: { c: 4, d: 5 } }\n   */\n  forEach(callback) {\n    validate([callback], ['function'], 'Super#forEach');\n\n    iterate(this.$, (value, key, object) => {\n      callback(value, key, object);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#freeze\n   * @public\n   * @returns {DWrap} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n   * @description Synonym for\n   * [Object.freeze]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).freeze(); // Super\n   */\n  freeze() {\n    Object.freeze(this.$);\n\n    return this;\n  }\n\n  /**\n   * @method Super#get\n   * @public\n   * @param {String|Object.<String, Function>} property - Either a string of a property or a getters object.\n   * @param {Function} [getter] - If a property parameter is a string this has to be a getter function.\n   * @returns {DWrap} Returns this.\n   * @description Method for defining getters.\n   *\n   * @example\n   * const object1 = new Super({}).get('a', () => 1).$;\n   * object1.a; // 1\n   *\n   * const object2 = new Super({}).get({\n   *   a: () => 2\n   * }).$;\n   * object2.a; // 2\n   */\n  get(property, getter) {\n    if (arguments.length >= 2) {\n      property = { [property]: getter };\n    }\n\n    const object = this.$;\n\n    iterate(isObject(object) && new Super(property).$, (getter, property) => {\n      Object.defineProperty(object, property, { get: getter });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#has\n   * @public\n   * @param {String|*} key - Property to check.\n   * @returns {Boolean} Returns true if the object has the key and false if not.\n   * @see https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/in\n   * @description Synonym for\n   * [\"in\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/in}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).has('b'); // true\n   */\n  has(key) {\n    const object = this.$;\n\n    if (!isObject(object)) {\n      return false;\n    }\n\n    return key in object;\n  }\n\n  /**\n   * @method Super#hasOwn\n   * @public\n   * @param {String|*} key - Property to check.\n   * @returns {Boolean} Returns true if the object has its own key and false if not.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\n   * @description Synonym for\n   * [Object#hasOwnProperty]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).hasOwn('b');              // true\n   * new Super({ a: 1, b: 2, c: 3 }).hasOwn('hasOwnProperty'); // false\n   */\n  hasOwn(key) {\n    const object = this.$;\n\n    if (!isObject(object)) {\n      return false;\n    }\n\n    return {}.hasOwnProperty.call(object, key);\n  }\n\n  /**\n   * @method Super#instanceof\n   * @public\n   * @param {Function} constructor - Constructor to check.\n   * @returns {Boolean} If the object is an instance of constructor.\n   * @see https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof\n   * @description Synonym for\n   * [\"instanceof\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof}.\n   */\n  instanceof(constructor) {\n    return this.$ instanceof constructor;\n  }\n\n  /**\n   * @method Super#isFrozen\n   * @public\n   * @returns {Boolean} If the object is frozen.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen\n   * @description Synonym for\n   * [Object.isFrozen]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen}.\n   *\n   * @example\n   * new Super({}).freeze().isFrozen(); // true\n   */\n  isFrozen() {\n    return Object.isFrozen(this.$);\n  }\n\n  /**\n   * @method Super#json\n   * @public\n   * @param {JSONCallback|String[]} [replacer] - See the link.\n   * @param {String|Number} [space] - See the link.\n   * @returns {String} JSON string.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\n   * @description Synonym for\n   * [JSON.stringify]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).json(); // '{\"a\":1,\"b\":2,\"c\":3}'\n   * new Super({ a: 1, b: 2, c: 3 }).json('    ');\n   * // {\n   * //     \"a\": 1,\n   * //     \"b\": 2,\n   * //     \"c\": 3\n   * // }\n   * new Super({ a: 1, b: 2, c: 3 }).json((key, value) => {\n   *   if (typeof value === 'number') {\n   *     return value%2 ? key + value0 : undefined;\n   *   }\n   *\n   *   return value;\n   * }, 2);\n   * // {\n   * //   \"a\": \"a1\",\n   * //   \"c\": \"c3\"\n   * // }\n   */\n  json(replacer, space) {\n    if (arguments.length === 1 && !isFunction(replacer) && !isArray(replacer)) {\n      [].unshift.call(arguments, null);\n    }\n\n    [].unshift.call(arguments, this.$);\n\n    return JSON.stringify.apply(JSON, arguments);\n  }\n\n  /**\n   * @method Super#keyOf\n   * @public\n   * @param {*} value - Value to find.\n   * @returns {String|Number|null} A key or an index if found and null if not.\n   * @description Method for finding equal to the argument value in the object. NaNs are considered to be equal.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).keyOf(2);   // 'b'\n   * new Super({ a: 1, b: 2, c: 3 }).keyOf('2'); // 'b'\n   */\n  keyOf(value) {\n    const key = iterate(this.$, (val, key) => {\n      if (val == value || (isNaN(val) && isNaN(value))) {\n        return key;\n      }\n    });\n\n    return isUndefined(key) ? null : key;\n  }\n\n  /**\n   * @method Super#keyOfStrict\n   * @public\n   * @param {*} value - Value to find.\n   * @returns {String|Number|null} A key or an index if found and null if not.\n   * @description Method for finding strict equal to the argument value in the object. NaNs are considered to be equal.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).keyOfStrict(2);   // 'b'\n   * new Super({ a: 1, b: 2, c: 3 }).keyOfStrict('2'); // 'b'\n   */\n  keyOfStrict(value) {\n    const key = iterate(this.$, (val, key) => {\n      if (val === value || (isNaN(val) && isNaN(value))) {\n        return key;\n      }\n    });\n\n    return isUndefined(key) ? null : key;\n  }\n\n  /**\n   * @method Super#keys\n   * @public\n   * @returns {DWrap} A wrap of the keys array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\n   * @description Synonym for\n   * [Object.keys]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).keys().$; // ['a', 'b', 'c']\n   * new Super(null).keys().$;                 // []\n   */\n  keys() {\n    const object = this.$;\n\n    return D(isObject(object) ? Object.keys(object) : []);\n  }\n\n  /**\n   * @method Super#map\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * Return value is used for creating a new object.\n   * @returns {DWrap} D-Wrap of the new object.\n   * @description Returns a wrap of a new object using the callback.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).map((value) => value * 2).$; // { a: 2, b: 4, c: 6 }\n   * new Super(null).map((value) => value * 2).$;                 // null\n   */\n  map(callback) {\n    validate([callback], ['function'], 'Super#map');\n\n    const object = this.$;\n    const o = isArrayLike(object) ? [] : isNull(object) ? null : {};\n\n    iterate(object, (value, key) => {\n      o[key] = callback(value, key, object);\n    });\n\n    return D(o);\n  }\n\n  /**\n   * @method Super#max\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * Return value is used for comparison with the previous max value.\n   * @returns {{key: Key, value: Number}} Object with max value and key of the max value.\n   * @description Method for finding max value in the object.\n   * If no callback is present comparison is between values of the object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).max();                     // { key: 'c', value: 3 }\n   * new Super({ a: 1, b: 2, c: 3 }).max((value) => 4 - value); // { key: 'a', value: 3 }\n   * new Super({ a: 'a', b: 'b', c: 'c' }).max();               // { key: null, value: -Infinity }\n   */\n  max(callback = null) {\n    validate([callback], ['function||!'], 'Super#max');\n\n    return this.object((max, value, key, object) => {\n      const val = Number(callback ? callback(value, key, object) : value);\n\n      if (val > max.value) {\n        max.key = key;\n        max.value = val;\n      }\n    }, { key: null, value: -Infinity }).$;\n  }\n\n  /**\n   * @method Super#min\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * Return value is used for comparison with the previous min value.\n   * @returns {{key: Key, value: Number}} Object with min value and key of the min value.\n   * @description Method for finding min value in the object.\n   * If no callback is present comparison is between values of the object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).min();                     // { key: 'a', value: 1 }\n   * new Super({ a: 1, b: 2, c: 3 }).min((value) => 4 - value); // { key: 'c', value: 1 }\n   * new Super({ a: 'a', b: 'b', c: 'c' }).min();               // { key: null, value: Infinity }\n   */\n  min(callback = null) {\n    validate([callback], ['function||!'], 'Super#min');\n\n    return this.object((min, value, key, object) => {\n      const val = Number(callback ? callback(value, key, object) : value);\n\n      if (val < min.value) {\n        min.key = key;\n        min.value = val;\n      }\n    }, { key: null, value: Infinity }).$;\n  }\n\n  /**\n   * @method Super#object\n   * @public\n   * @param {ObjectCallback} callback - Called on each iteration.\n   * @param {Object|*} [object = {}] - Object that is passed to the callback.\n   * @returns {DWrap} Wrap of the new object.\n   * @description Type of {@link Super#reduce}.\n   * The object is passed as an argument into the callback. The output is this object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).object((object, value, key) => {\n   *   object[key] = value;\n   *   object[key + key] = value * 2;\n   * }).$; // { a: 1, aa: 2, b: 2, bb: 4 }\n   */\n  object(callback, object = {}) {\n    validate([callback], ['function'], 'Super#object');\n\n    iterate(this.$, (value, key, obj) => {\n      callback(object, value, key, obj);\n    });\n\n    return D(object);\n  }\n\n  /**\n   * @method Super#prop\n   * @public\n   * @param {String|Object.<String, *>} property - Either a string of a property or an assigned object.\n   * @param {*} [value] - If a property parameter is a string\n   * this has to be an assigned value if it's present.\n   * @returns {DWrap|*} Returns this if it's a setter or a value if getter.\n   * @description Method for getting and setting properties.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).prop('a');              // 1\n   * new Super({ a: 1, b: 2, c: 3 }).prop('a', 7).$;         // { a: 7, b: 2, c: 3 }\n   * new Super({ a: 1, b: 2, c: 3 }).prop({ a: 7, b: 8 }).$; // { a: 7, b: 8, c: 3 }\n   */\n  prop(property, value) {\n    if (arguments.length <= 1 && isString(property)) {\n      return this.$ ? this.$[property] : undefined;\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.assign(property);\n  }\n\n  /**\n   * @method Super#propertyDescriptor\n   * @public\n   * @param {String} property - Property of the object.\n   * @returns {Object|undefined} Property descriptor.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n   * @descriptor Synonym for\n   * [Object.getOwnPropertyDescriptor]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor}.\n   *\n   * @example\n   * new Super({ a: 1 }).propertyDescriptor('a');\n   * // {\n   * //   value: 1,\n   * //   enumerable: true,\n   * //   writable: true,\n   * //   configurable: true\n   * // }\n   */\n  propertyDescriptor(property) {\n    const object = this.$;\n\n    return isObject(object) ? Object.getOwnPropertyDescriptor(object, property) : undefined;\n  }\n\n  /**\n   * @method Super#propertyNames\n   * @public\n   * @returns {DWrap} D-Wrap of the names array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames\n   * @descriptor Synonym for\n   * [Object.getOwnPropertyNames]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).define('c', { value: 3 }).$; // ['a', 'b', 'c']\n   */\n  propertyNames() {\n    const object = this.$;\n\n    return D(isObject(object) ? Object.getOwnPropertyNames(object) : []);\n  }\n\n  /**\n   * @method Super#propertySymbols\n   * @public\n   * @returns {DWrap} D-Wrap of the names array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols\n   * @descriptor Synonym for\n   * [Object.getOwnPropertySymbols]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols}.\n   *\n   * @example\n   * new Super({ [Symbol('foo')]: 1 }).define(Symbol('bar'), { value: 2 }).$; // [Symbol('foo'), Symbol('bar')]\n   */\n  propertySymbols() {\n    const object = this.$;\n\n    return D(isObject(object) ? Object.getOwnPropertySymbols(object) : []);\n  }\n\n  /**\n   * @method Super#proto\n   * @public\n   * @param {*} [proto] - If it's present it's set as a prototype to the object.\n   * @returns {DWrap} In getter mode returns wrap of the prototype and in setter mode returns this.\n   * @description Synonym for both\n   * [Object.getPrototypeOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf}\n   * and\n   * [Object.setPrototypeOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf}.\n   */\n  proto(proto) {\n    const object = this.$;\n    const isContextObject = !isNil(object);\n\n    if (arguments.length) {\n      if (isContextObject && (isObject(proto) || isNull(proto))) {\n        Object.setPrototypeOf(object, proto);\n      }\n\n      return this;\n    }\n\n    return isContextObject ? new Super(Object.getPrototypeOf(object)) : new Super();\n  }\n\n  /**\n   * @method Super#reduce\n   * @public\n   * @param {ReduceCallback} callback - Called on each iteration.\n   * Return value is passed to the next callback call.\n   * @param {*} [IV = <first value>|undefined] - Initial value.\n   * @returns {*} Modified IV.\n   * @description Returns modified IV. If the second argument is not present first value in the object is taken\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).reduce((sum, value) => sum + value * value, 0); // 14\n   */\n  reduce(callback, IV) {\n    validate([callback], ['function'], 'Super#reduce');\n\n    const object = this.$;\n\n    let startKey;\n\n    if (arguments.length === 1) {\n      iterate(object, (value, key) => {\n        startKey = key;\n        IV = value;\n\n        return true;\n      });\n    }\n\n    iterate(object, (value, key) => {\n      if (key !== startKey) {\n        IV = callback(IV, value, key, object);\n      }\n    });\n\n    return IV;\n  }\n\n  /**\n   * @method Super#set\n   * @public\n   * @param {String|Object.<String, Function>} property - Either a string of a property or a setters object.\n   * @param {Function} [setter] - If a property parameter is a string this has to be a setter function.\n   * @returns {DWrap} Returns this.\n   * @description Method for defining setters.\n   *\n   * @example\n   * const object = new Super({})\n   *   .get('public', function () {\n   *     return this._private;\n   *   })\n   *   .set('public', function (value) {\n   *     if (typeof value === 'number') {\n   *       this._private = value;\n   *     }\n   *   });\n   * object.prop('public', '1').$; // { public: undefined }\n   * object.prop('public', 1).$;   // { public: 1, _private: 1 }\n   *\n   * new Super({}).set({\n   *   public(value) {\n   *     if (typeof value === 'number') {\n   *       this._private = value;\n   *     }\n   *   }\n   * });\n   */\n  set(property, setter) {\n    if (arguments.length >= 2) {\n      property = { [property]: setter };\n    }\n\n    const object = this.$;\n\n    iterate(isObject(object) && new Super(property).$, (setter, property) => {\n      Object.defineProperty(object, property, { set: setter });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#some\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns true if some of the callback calls returned truthy value. Otherwise false.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).some((value) => value > 4); // false\n   * new Super({}).some(() => true);                             // false\n   */\n  some(callback = Boolean) {\n    validate([callback], ['function'], 'Super#some');\n\n    return iterate(this.$, (value, key, object) => {\n      if (callback(value, key, object)) {\n        return true;\n      }\n    }) || false;\n  }\n\n  /**\n   * @method Super#strictEquals\n   * @public\n   * @param {*} [object] - Object to compare.\n   * @returns {Boolean} If the objects are equal or not.\n   * @description Returns true if objects are equal using '===' operator and false if not.\n   * NaNs are considered to be strict equal.\n   *\n   * @example\n   * new Super(3).strictEquals('3');   // false\n   * new Super(NaN).strictEquals(NaN); // true\n   */\n  strictEquals(object) {\n    const o = this.$;\n\n    object = new Super(object).$;\n\n    return o === object || (isNaN(o) && isNaN(object));\n  }\n\n  /**\n   * @method Super#sum\n   * @public\n   * @param {IterationCallback} [callback = null] - Called on each iteration.\n   * @returns {Number} Sum.\n   * @description Type of {@link Super#reduce}.\n   * If the callback is present it's used for summing. If not the value is used.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).sum();                         // 6\n   * new Super({ a: 1, b: 2, c: 3 }).sum((value) => value * value); // 14\n   */\n  sum(callback = null) {\n    validate([callback], ['function||!'], 'Super#sum');\n\n    return this.reduce((sum, value, key, object) => (\n      sum + Number(callback ? callback(value, key, object) : value)\n    ), 0);\n  }\n\n  toJSON() {\n    return this.$;\n  }\n\n  /**\n   * @member Super#toStringTag\n   * @type {String}\n   * @public\n   * @readonly\n   * @description Returns toString tag of the object.\n   *\n   * @example\n   * new Super({}).toStringTag; // 'Object'\n   * new Super([]).toStringTag; // 'Array'\n   * new Super(1).toStringTag;  // 'Number'\n   */\n  get toStringTag() {\n    return toStringTag(this.$);\n  }\n\n  /**\n   * @member Super#type\n   * @type {String}\n   * @public\n   * @readonly\n   * @description Synonym for\n   * [\"typeof\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof}..\n   *\n   * @example\n   * new Super({}).type;   // 'object'\n   * new Super(1).type;    // 'number'\n   * new Super('1').type;  // 'string'\n   * new Super(true).type; // 'boolean'\n   */\n  get type() {\n    return typeof this.$;\n  }\n\n  /**\n   * @method Super#value\n   * @public\n   * @param {String|Object.<String, *>} property - Either a string of a property or a values object.\n   * @param {Object.<String, *>} [value] - If a property parameter is a string this has to be a value to be set.\n   * @returns {DWrap} Returns this.\n   * @description Method for defining non-enumerable, non-writable, non-configurable values.\n   * Synonym for object.define(property, { value: value }).\n   *\n   * @example\n   * new Super({}).value('a', 1).$; // { a: 1 }\n   * new Super({}).value({\n   *   a: 1\n   * }).$;                          // { a: 1 }\n   */\n  value(property, value) {\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    const object = this.$;\n\n    iterate(isObject(object) && new Super(property).$, (value, property) => {\n      Object.defineProperty(object, property, { value });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#values\n   * @public\n   * @returns {DWrap} A wrap of the values array.\n   * @description Returns D-Wrap of the values array.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).values().$; // [1, 2, 3]\n   * new Super(null).values().$;                 // []\n   */\n  values() {\n    const array = [];\n\n    iterate(this.$, (value) => {\n      array.push(value);\n    });\n\n    return D(array);\n  }\n\n  /**\n   * @method Super#word\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * @returns {String} Concatenated string.\n   * @description Type of {@link Super#reduce}.\n   * If the callback is present it's used for concatenating. If not the value is used.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).word();                         // '123'\n   * new Super({ a: 1, b: 2, c: 3 }).word((value) => value + value); // '112233'\n   */\n  word(callback = null) {\n    validate([callback], ['function||!'], 'Super#word');\n\n    return this.reduce((word, value, key, object) => (\n      word + String(callback ? callback(value, key, object) : value)\n    ), '');\n  }\n}\n\ndefineProperties(Super.prototype, {\n  [Symbol.toStringTag]: 'Super'\n});\n\n/**\n * @function deepAssign\n * @private\n * @param {*} target - Object to assign properties to.\n * @param {*} object - Object to assign properties from.\n * @returns {void}\n */\nfunction deepAssign(target, object) {\n  iterate(object, (value, key) => {\n    if (isPrimitive(target[key]) || !{}.hasOwnProperty.call(target, key)) {\n      target[key] = deepClone(value);\n\n      return;\n    }\n\n    if (!isPrimitive(target[key])) {\n      deepAssign(target[key], value);\n    }\n  });\n}\n\n/**\n * @function deepClone\n * @private\n * @param {*} object - Object to clone.\n * @description Does the deep cloning.\n */\nfunction deepClone(object) {\n  const clone = cloneSwitcher(object, [object, true]);\n\n  if (clone !== object) {\n    iterate(object, (value, key) => {\n      clone[key] = deepClone(value);\n    });\n  }\n\n  return clone;\n}\n\n/**\n * @function deepEqual\n * @private\n * @param {*} o1 - First object to compare.\n * @param {*} o2 - Second object to compare.\n * @param {Boolean} strict - If comparison should be strict or not.\n * @returns {Boolean} - If the object are deep equal or not.\n */\nfunction deepEqual(o1, o2, strict) {\n  if (o1 === o2) {\n    return true;\n  }\n\n  if (isNaN(o1) && isNaN(o2) && isPrimitive(o1) && isPrimitive(o2)) {\n    return true;\n  }\n\n  if (isNaN(o1) || isNaN(o2)) {\n    return false;\n  }\n\n  if (isPrimitive(o1) || isPrimitive(o2)) {\n    return strict ? o1 === o2 : o1 == o2;\n  }\n\n  if (isDate(o1) && isDate(o2)) {\n    return o1.getTime() === o2.getTime();\n  }\n\n  if (isDate(o1) || isDate(o2)) {\n    return false;\n  }\n\n  if (isRegExp(o1) && isRegExp(o2)) {\n    return o1.source === o2.source &&\n      o1.toString().match(/[gimuy]*$/)[0] === o2.toString().match(/[gimuy]*$/)[0] &&\n      o1.lastIndex === o2.lastIndex;\n  }\n\n  if (isRegExp(o1) || isRegExp(o2)) {\n    return false;\n  }\n\n  if ((!isPlainObject(o1) && !isArray(o1)) || (!isPlainObject(o2) && !isArray(o2))) {\n    return false;\n  }\n\n  const p1 = Object.getPrototypeOf(o1);\n  const p2 = Object.getPrototypeOf(o1);\n\n  if (Object.keys(o1).length !== Object.keys(o2).length) {\n    return false;\n  }\n\n  if (p1 && p2 && (toStringTag(p1.constructor) !== toStringTag(p2.constructor))) {\n    return false;\n  }\n\n  return iterate(o1, (value, key) => {\n    if (!(key in o2) || !deepEqual(value, o2[key], strict)) {\n      return false;\n    }\n  }) !== false;\n}\n\n/**\n * @function deepEvery\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the iteration goes on and if not it stops.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {Boolean} - If all the callback calls returned truthy value.\n */\nfunction deepEvery(object, callback, n, tree) {\n  const end = n === 1;\n\n  return iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (\n      end || isPrimitive(value)\n        ? !callback(value, key, object, newTree)\n        : !deepEvery(value, callback, n - 1, newTree)\n    ) {\n      return false;\n    }\n  }) !== false;\n}\n\n/**\n * @function deepFilter\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the element is included in the output and if not it's excluded.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {*} Filtered object.\n */\nfunction deepFilter(object, callback, n, tree) {\n  const array = isArrayLike(object);\n  const nul = isNil(object);\n  const o = array ? [] : nul ? object : {};\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if ((end || isPrimitive(value)) && callback(value, key, object, newTree)) {\n      if (array) {\n        o.push(value);\n      } else {\n        o[key] = value;\n      }\n\n      return;\n    }\n\n    if (!end) {\n      const filtered = deepFilter(value, callback, n - 1, newTree);\n\n      if (filtered) {\n        if (array) {\n          o.push(filtered);\n        } else {\n          o[key] = filtered;\n        }\n      }\n    }\n  });\n\n  if (array) {\n    return o.length ? o : undefined;\n  }\n\n  if (!nul) {\n    return Object.keys(o).length ? o : undefined;\n  }\n\n  return o;\n}\n\n/**\n * @function deepFind\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the iteration stops and if not it continues.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {Tree|null} - If found the whole tree is returned and if not it's null what's returned.\n */\nfunction deepFind(object, callback, n, tree) {\n  const end = n === 1;\n\n  return iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (end || isPrimitive(value)) {\n      if (callback(value, key, object, newTree)) {\n        return newTree;\n      }\n\n      return;\n    }\n\n    const result = deepFind(value, callback, n - 1, newTree);\n\n    if (result) {\n      return result;\n    }\n  }) || null;\n}\n\n/**\n * @function deepForEach\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {void}\n */\nfunction deepForEach(object, callback, n, tree) {\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (end || isPrimitive(value)) {\n      callback(value, key, object, newTree);\n    } else {\n      deepForEach(value, callback, n - 1, newTree);\n    }\n  });\n}\n\n/**\n * @function deepForEachEntry\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {void}\n */\nfunction deepForEachEntry(object, callback, n, tree) {\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    callback(value, key, object, newTree);\n\n    if (!end && !isPrimitive(value)) {\n      deepForEachEntry(value, callback, n - 1, newTree);\n    }\n  });\n}\n\n/**\n * @function deepFreeze\n * @private\n * @param {*} object - Object to freeze.\n * @returns {void}\n */\nfunction deepFreeze(object) {\n  Object.freeze(object);\n  iterate(object, deepFreeze);\n}\n\n/**\n * @function deepMap\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * Returned value is used to create to new object.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {*} New object.\n */\nfunction deepMap(object, callback, n, tree) {\n  const o = isArrayLike(object) ? [] : isNil(object) ? object : {};\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    o[key] = end || isPrimitive(value)\n      ? callback(value, key, object, newTree)\n      : deepMap(value, callback, n - 1, newTree);\n  });\n\n  return o;\n}\n\n/**\n * @function deepReduce\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepReduceCallback} callback - Callback that is called on every element.\n * Returned value is used to create to new object.\n * @param {Number} n - Depth of iteration.\n * @param {Boolean} start - If callback was called already or not.\n * @param {{ IV: * }|undefined} IV - If callback was called already or not.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {{ IV: * }} Transformed IV.\n */\nfunction deepReduce(object, callback, n, start, IV, tree) {\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    if (!IV && (end || isPrimitive(value)) && !start) {\n      IV = { IV: value };\n      start = true;\n\n      return;\n    }\n\n    const newTree = [{ key, value }].concat(tree);\n\n    IV = end || isPrimitive(value)\n      ? { IV: callback(IV.IV, value, key, object, newTree) }\n      : deepReduce(value, callback, n - 1, start, IV, newTree);\n  });\n\n  return IV;\n}\n\n/**\n * @function deepSome\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the iteration stops and if not it continues.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {Boolean} - If some of the callback calls returned truthy value.\n */\nfunction deepSome(object, callback, n, tree) {\n  const end = n === 1;\n\n  return iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (\n      end || isPrimitive(value)\n        ? callback(value, key, object, newTree)\n        : deepSome(value, callback, n - 1, newTree)\n    ) {\n      return true;\n    }\n  }) || false;\n}\n\nconstructors[0].push({\n  check: () => true,\n  cls: Super\n});\n\nexport { Super };\n","/**\n * @module Promise\n * @private\n * @mixin\n * @description Exports Promise class.\n */\n\nimport { isFunction, defineProperties, Symbol } from './helpers';\n\n/**\n * @callback onFulfilledOrRejected\n * @public\n * @param {*} value - Promise value.\n * @param {Boolean} success - If the previous promise is fulfilled it's true and false if rejected.\n */\n\n/**\n * @callback onRejected\n * @public\n * @param {Error|*} err - Promise error.\n */\n\n/**\n * @callback onFulfilled\n * @public\n * @param {*} value - Promise value.\n */\n\nconst secret = {};\nconst iterator = Symbol.iterator;\n\n/**\n * @class Promise\n * @public\n * @param {Function} executor - Function that takes two arguments: resolve and reject functions.\n * Call the resolve function when you need to fulfill the promise and call the reject one\n * when you need to reject it.\n * @returns {Promise} Instance of Promise.\n * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\n * @description Class with almost identical API to\n * [ES6 Promise]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise}.\n * There is a couple differences: set Promise.onError to a function with which you want to\n * subscribe to a promise error and set Promise.onUnhandledRejection to a function with which\n * you want to subscribe to an unhandled error\n * (defaults to console.error.bind(console, '%s %o', 'Uncaught (in promise)')).\n */\nclass Promise {\n  static onError = null;\n  static onUnhandledRejection = console.error.bind(console, '%s %o', 'Uncaught (in promise)');\n\n  constructor(executor) {\n    if (!isFunction(executor)) {\n      throw new TypeError(`Promise resolver ${ {}.toString.call(executor) } is not a function`);\n    }\n\n    let hiddenStatus;\n    let hiddenValue;\n\n    const\tonFulfill = [];\n    const onReject = [];\n    const realPromise = this;\n    const hiddenPromise = {\n      handled: false,\n      get status() {\n        return hiddenStatus;\n      },\n      set status(value) {\n        hiddenStatus = value;\n        realPromise.status = value;\n      },\n      get value() {\n        return hiddenValue;\n      },\n      set value(val) {\n        hiddenValue = val;\n        realPromise.value = val;\n      }\n    };\n\n    hiddenPromise.status = 'pending';\n    hiddenPromise.value = undefined;\n\n    /**\n     * @typedef {Object} hiddenPromise\n     * @private\n     * @property {Boolean|Object} handled - If the promise is handled or not.\n     * @property {'pending'|'fulfilled'|'rejected'} status - Status of the promise.\n     * @property {*} value - Value of the promise.\n     */\n\n    /**\n     * @member {Function} hiddenPromise#handle\n     * @private\n     * @param {('reject'|'resolve')} event - Type of the event to handle.\n     * @param {Function} handler - Handler itself.\n     * @param {Function} resolve - Resolve function.\n     * @param {Function} reject - Reject function.\n     * @param {Object} secret - Secret.\n     * @description Private method for handling promises.\n     */\n\n    /**\n     * @member {hiddenPromise} Promise#$$\n     * @protected\n     */\n    defineProperties(this.$$ = {}, {\n      'get/set handled': {\n        get() {\n          return hiddenPromise.handled;\n        },\n        set(key) {\n          if (key === secret) {\n            hiddenPromise.handled = true;\n          }\n        }\n      },\n      handle(status, f, resolve, reject, key) {\n        if (key === secret) {\n          const proxy = isFunction(f) ? (value) => {\n            try {\n              resolve(f(value));\n            } catch (err) {\n              reject(err);\n            }\n          } : null;\n\n          if (status === 'resolve') {\n            onFulfill.push(proxy || ((value) => resolve(value)));\n          } else if (status === 'reject') {\n            onReject.push(proxy || ((err) => reject(err)));\n          }\n        }\n      },\n      'get status'() {\n        return hiddenPromise.status;\n      },\n      'get value'() {\n        return hiddenPromise.value;\n      }\n    });\n\n    try {\n      executor(resolve, reject);\n    } catch (err) {\n      reject(err);\n    }\n\n    function reject(err) {\n      if (hiddenPromise.status === 'pending') {\n        hiddenPromise.status = 'rejected';\n        hiddenPromise.value = err;\n\n        for (let i = 0, length = onReject.length; i < length; i++) {\n          hiddenPromise.handled = true;\n\n          onReject[i](err);\n        }\n\n        const {\n          onUnhandledRejection,\n          onError\n        } = Promise;\n\n        if (isFunction(onError)) {\n          onError(err);\n        }\n\n        setTimeout(() => {\n          if (!hiddenPromise.handled && isFunction(onUnhandledRejection)) {\n            onUnhandledRejection(err);\n          }\n        }, 1);\n      }\n    }\n\n    function resolve(value) {\n      if (hiddenPromise.status === 'pending') {\n        if (value && isFunction(value.then)) {\n          return value.then((value) => {\n            resolve(value);\n          }, (err) => {\n            reject(err);\n          });\n        }\n\n        hiddenPromise.status = 'fulfilled';\n        hiddenPromise.value = value;\n\n        for (let i = 0, length = onFulfill.length; i < length; i++) {\n          hiddenPromise.handled = true;\n\n          onFulfill[i](value);\n        }\n      }\n    }\n  }\n\n  /**\n   * @method Promise.all\n   * @param {(Array|Iterable).<Promise|*>} iterable - Iterable object (like array) of promises\n   * or any values.\n   * @returns {Promise} New instance of Promise.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\n   */\n  static all(iterable) {\n    const array = [];\n\n    let toResolve = 0;\n\n    if (iterable[iterator]) {\n      iterable = iterable[iterator]();\n\n      return new Promise((resolve, reject) => {\n        let next;\n        let i = 0;\n\n        while (!(next = iterable.next()).done) {\n          const promise = Promise.resolve(next.value);\n\n          toResolve++;\n\n          ((i) => {\n            promise.then((value) => {\n              toResolve--;\n              array[i] = value;\n\n              setTimeout(() => {\n                if (next.done && !toResolve) {\n                  resolve(array);\n                }\n              }, 1);\n            }, reject);\n          })(i++);\n        }\n\n        if (!i) {\n          return Promise.resolve([]);\n        }\n      });\n    }\n\n    const length = iterable.length;\n\n    if (!length) {\n      return Promise.resolve([]);\n    }\n\n    toResolve = length;\n\n    return new Promise((resolve, reject) => {\n      for (let i = 0; i < length; i++) {\n        const promise = Promise.resolve(iterable[i]);\n\n        promise.then((value) => {\n          toResolve--;\n          array[i] = value;\n\n          if (!toResolve) {\n            resolve(array);\n          }\n        }, reject);\n      }\n    });\n  }\n\n  /**\n   * @method Promise.race\n   * @param {(Array|Iterable).<Promise|*>} iterable - Iterable object (like array) of promises\n   * or any values.\n   * @returns {Promise} New instance of Promise.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/race\n   */\n  static race(iterable) {\n    if (iterable[iterator]) {\n      iterable = iterable[iterator]();\n\n      return new Promise((resolve, reject) => {\n        let next;\n\n        while (!(next = iterable.next()).done) {\n          next.value.then(resolve, reject);\n        }\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      for (let i = 0, length = iterable.length; i < length; i++) {\n        iterable[i].then(resolve, reject);\n      }\n    });\n  }\n\n  /**\n   * @method Promise.reject\n   * @param {*} value - Value to reject.\n   * @returns {Promise} New instance of Promise.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/reject\n   */\n  static reject(value) {\n    return new Promise((resolve, reject) => {\n      reject(value);\n    });\n  }\n\n  /**\n   * @method Promise.resolve\n   * @param {Promise|Thenable|*} value - Promise, thenable or any value to resolve.\n   * @returns {Promise} New instance of Promise.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/resolve\n   */\n  static resolve(value) {\n    if (value && isFunction(value.then)) {\n      return value;\n    }\n\n    return new Promise((resolve) => {\n      resolve(value);\n    });\n  }\n\n  abort() {}\n\n  /**\n   * @method Promise#catch\n   * @param {onRejected} onRejected - onRejected callback.\n   * @returns {Promise} New instance of Promise.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\n   */\n  catch(onRejected) {\n    return this.then(null, onRejected);\n  }\n\n  /**\n   * @method Promise#finally\n   * @public\n   * @param {onFulfilledOrRejected} onFulfilledOrRejected - onFulfilledOrRejected callback.\n   * @returns {Promise}\n   * @description Method for catching both fulfilled and rejected promises.\n   *\n   * @example\n   * spinner.show();\n   * fetchData()\n   *   .then((data) => {\n   *     // do something with data\n   *   })\n   *   .catch((err) => {\n   *     // handle error somehow\n   *   })\n   *   .finally(() => {\n   *     spinner.hide();\n   *   });\n   */\n  finally(onFulfilledOrRejected) {\n    const isFunc = isFunction(onFulfilledOrRejected);\n\n    return this.then((value) => (\n      Promise\n        .resolve(\n          isFunc\n            ? onFulfilledOrRejected(value, true)\n            : 0\n        )\n        .then(() => value)\n    ), (err) => (\n      Promise\n        .resolve(\n          isFunc\n            ? onFulfilledOrRejected(err, false)\n            : 0\n        )\n        .then(() => Promise.reject(err))\n    ));\n  }\n\n  /**\n   * @method Promise#then\n   * @param {onFulfilled} [onFulfilled] - onFulfilled callback.\n   * @param {onRejected} [onRejected] - onRejected callback.\n   * @returns {Promise} New instance of Promise.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\n   */\n  then(onFulfilled, onRejected) {\n    const promise = this.$$;\n\n    if (promise.status === 'pending') {\n      return new Promise((resolve, reject) => {\n        promise.handle('reject', onRejected, resolve, reject, secret);\n        promise.handle('resolve', onFulfilled, resolve, reject, secret);\n      });\n    }\n\n    promise.handled = secret;\n\n    const { value } = promise;\n\n    let method;\n    let handler;\n\n    if (promise.status === 'fulfilled') {\n      method = 'resolve';\n      handler = onFulfilled;\n    } else {\n      method = 'reject';\n      handler = onRejected;\n    }\n\n    if (!isFunction(handler)) {\n      return Promise[method](value);\n    }\n\n    try {\n      return Promise.resolve(handler(value));\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  }\n}\n\ndefineProperties(Promise.prototype, {\n  [Symbol.toStringTag]: 'Promise'\n});\n\nexport { Promise };\n","/**\n * @module Func\n * @private\n * @mixin\n * @description Exports Func class.\n */\n\nimport { Super } from './Super';\nimport { Promise } from './Promise';\nimport { constructors } from './constants';\nimport { isFunction, validate, toArray, Symbol, defineProperties, iterate } from './helpers';\n\n/**\n * @callback BeforeMiddleware\n * @param {Array} args - Previous arguments.\n * @param {Func} func - This function.\n * @returns {Array} - New arguments.\n */\n\n/**\n * @callback AfterMiddleware\n * @param {*} returnValue - Previous return value.\n * @param {Func} func - This function.\n * @returns {*} - New return value.\n */\n\n/**\n * @class Func\n * @extends Super\n * @public\n * @param {Function} [func = function () {}] - Function to wrap.\n * @returns {Func} Instance of Func.\n * @description A wrap of a function.\n *\n * @example\n * const func = new Func(Math.max);\n *\n * func(1, 4, -2, 5); // 5\n */\nclass Func extends Super {\n  constructor(func = () => {}) {\n    super();\n\n    function proxy() {\n      if (++proxy.$$.called < proxy.$$.canBeCalled) {\n        const { before, after, sync, contextLocked } = proxy.$$;\n        let { context, args } = proxy.$$;\n        let ret;\n\n        context = contextLocked ? context : context || this;\n        args = args.concat(toArray(arguments));\n\n        if (sync) {\n          iterate(before, (middleware) => {\n            args = middleware.call(context, toArray(args), proxy);\n          });\n\n          ret = func.apply(context, toArray(args));\n\n          iterate(after, (middleware) => {\n            ret = middleware.call(context, ret, proxy);\n          });\n\n          return ret;\n        }\n\n        let promise = Promise.resolve(args);\n\n        iterate(before, (middleware) => {\n          promise = promise.then((args) => middleware.call(context, toArray(args), proxy));\n        });\n\n        promise = promise.then((args) => func.apply(context, toArray(args)));\n\n        iterate(after, (middleware) => {\n          promise = promise.then((ret) => middleware.call(context, ret, proxy));\n        });\n\n        return promise;\n      }\n    }\n\n    /**\n     * @member {Object} Func#$$\n     * @type {Object}\n     * @protected\n     * @property {Array} after - After middleware array.\n     * @property {Array} args - Locked and bound arguments.\n     * @property {Array} argsLocked - Locked arguments.\n     * @property {Array} before - Before middleware array.\n     * @property {Number} called - How many times the function was called.\n     * @property {Number} canBeCalled - How many times the function can be actually called.\n     * @property {*} context - Locked or bound context.\n     * @property {Boolean} contextLocked - Is context locked or not.\n     * @property {Boolean} sync - Is function synchronous or not.\n     * @description Config parameters.\n     */\n    Object.defineProperty(proxy, '$$', {\n      value: {\n        after: [],\n        args: [],\n        argsLocked: [],\n        before: [],\n        called: 0,\n        canBeCalled: Infinity,\n        context: null,\n        contextLocked: false,\n        sync: true\n      }\n    });\n\n    /**\n     * @member {Function} Func#$\n     * @type {Function}\n     * @public\n     * @description Original function.\n     */\n    Object.defineProperty(proxy, '$', { value: func });\n    Object.setPrototypeOf(proxy, Func.prototype);\n\n    return proxy;\n  }\n\n  /**\n   * @method Func#after\n   * @public\n   * @param {AfterMiddleware} middleware - After middleware.\n   * @param {Boolean|*} [afterAll = true] - Boolean parameter where to put middleware.\n   * Truthy parameter stands for \"to the end\" and falsey for \"to the beginning\".\n   * @returns {Func} Returns this.\n   * @description Adds after middleware.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .after((result) => result * result);\n   *\n   * func(4);  // 25\n   * func(-4); // 9\n   */\n  after(middleware, afterAll = true) {\n    validate([middleware], ['function'], 'Func#after');\n\n    const { after } = this.$$;\n\n    if (afterAll) {\n      after.push(middleware);\n    } else {\n      after.unshift(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#apply\n   * @public\n   * @param {*} [context] - Context to call with.\n   * @param {(Array|Arguments)} [args] - Arguments to call with.\n   * @returns {*} Return of function call.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\n   * @description Synonym for\n   * [Function#apply]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/apply}.\n   */\n  apply(context, args) {\n    return (() => {}).apply.apply(this, arguments);\n  }\n\n  /**\n   * @method Func#async\n   * @public\n   * @param {Boolean|*} [condition] - If the function should be synchronous or not.\n   * @returns {Func} Returns this.\n   * @description If the function should be synchronous or not.\n   *\n   * @example\n   * const func = new Func((a) => a + 1).async();\n   *\n   * func(4).then((result) => {\n   *   console.log(result); // 5\n   * });\n   */\n  async(condition = true) {\n    this.$$.sync = !condition;\n\n    return this;\n  }\n\n  /**\n   * @method Func#before\n   * @public\n   * @param {BeforeMiddleware} middleware - Before middleware.\n   * @param {Boolean|*} [beforeAll = true] - Boolean parameter where to put middleware.\n   * Truthy parameter stands for \"to the beginning\" and falsey for \"to the end\".\n   * @returns {Func} Returns this.\n   * @description Adds before middleware.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .before(([arg]) => [arg * arg]);\n   *\n   * func(4); // 17\n   * func(3); // 10\n   */\n  before(middleware, beforeAll = true) {\n    validate([middleware], ['function'], 'Func#before');\n\n    const { before } = this.$$;\n\n    if (beforeAll) {\n      before.unshift(middleware);\n    } else {\n      before.push(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#bind\n   * @public\n   * @param {*} context - Context to bind.\n   * @param {...(Array|Arguments|*)} args - Arguments to bind.\n   * @returns {Func} Returns this.\n   * @description Composition of {@link Func#bindContext} and {@link Func#bindArgs}.\n   *\n   * @example\n   * const func = new Func(function (a, b) {\n   *   return this.a + a + b;\n   * }).bind({ a: 2 }, 1);\n   *\n   * func(1); // 4\n   * func(3); // 6\n   */\n  bind(context, ...args) {\n    return this\n      .bindContext(context)\n      .bindArgs(args);\n  }\n\n  /**\n   * @method Func#bindArgs\n   * @public\n   * @param {(Array|Arguments)} args - Arguments to bind.\n   * @returns {Func} Returns this.\n   * @description Binds arguments in addition to already locked and bound ones.\n   *\n   * @example\n   * const func = new Func((...args) => {\n   *   let sum = 0;\n   *\n   *   for (let i = 0; i < args.length; i++) {\n   *     sum += args[i];\n   *   }\n   *\n   *   return sum;\n   * });\n   *\n   * func(1, 2, 3); // 6\n   *\n   * func.bindArgs([4]);\n   *\n   * func(1, 2, 3); // 10\n   *\n   * func.bindArgs([5]);\n   *\n   * func(1, 2, 3); // 15\n   */\n  bindArgs(args) {\n    const func = this.$$;\n\n    func.args = func.args.concat(toArray(args));\n\n    return this;\n  }\n\n  /**\n   * @method Func#bindContext\n   * @public\n   * @param {*} context - Context to bind.\n   * @returns {Func} Returns this.\n   * @description Bind new context if it's not already locked.\n   *\n   * @example\n   * const func = new Func(function () {\n   *   return this.a;\n   * }).bindContext({ a: 1 });\n   *\n   * func(); // 1\n   *\n   * func.bindContext({ a: 2 });\n   *\n   * func(); // 2\n   */\n  bindContext(context) {\n    const func = this.$$;\n\n    if (!func.contextLocked) {\n      func.context = context;\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#call\n   * @public\n   * @param {*} [context] - Context to call with.\n   * @param {...*} [args] - Arguments to call with.\n   * @returns {*} Return of function call.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/call\n   * @description Synonym for\n   * [Function#call]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/call}.\n   */\n  call(context, ...args) {\n    return (() => {}).call.apply(this, arguments);\n  }\n\n  /**\n   * @member {Number} Func#called\n   * @public\n   * @readonly\n   * @description Returns how many times the function was called.\n   *\n   * @example\n   * const func = new Func((a) => a + 1);\n   *\n   * func();\n   * func();\n   *\n   * func.called // 2\n   */\n  get called() {\n    return this.$$.called;\n  }\n\n  /**\n   * @method Func#canBeCalled\n   * @public\n   * @param {Number} times - Number of maximum times the function is called (middlewares are also taken for a count).\n   * @returns {Func} Returns this.\n   * @description Method for limiting call times of function.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .canBeCalled(1);\n   *\n   * func(1); // 2\n   * func(1); // undefined\n   */\n  canBeCalled(times) {\n    this.$$.canBeCalled = times;\n\n    return this;\n  }\n\n  /**\n   * @method Func#limitArgsTo\n   * @public\n   * @param {Number} number - Number of arguments to limit to.\n   * @returns {Func} Returns this.\n   * @description Built-in before middleware for limiting number of arguments\n   * that is put to the end of before middlewares.\n   *\n   * @example\n   * const func = new Func((a, b) => [a, b]);\n   *\n   * func(1, 2); // [1, 2]\n   *\n   * func.limitArgsTo(1);\n   *\n   * func(1, 2); // [1, undefined]\n   */\n  limitArgsTo(number) {\n    return this.before((args) => args.slice(0, number), false);\n  }\n\n  /**\n   * @method Func#lock\n   * @public\n   * @param {*} context - Context to lock.\n   * @param {(Array|Arguments|*)} args - Arguments to lock.\n   * @returns {Func} Returns this.\n   * @description Composition of {@link Func#lockContext} and {@link Func#lockArgs}.\n   *\n   * @example\n   * const func = new Func(function (a, b) {\n   *   return this.a + a + b;\n   * }).lock({ a: 2 }, [1]);\n   *\n   * func(1); // 4\n   * func(3); // 6\n   */\n  lock(context, args) {\n    return this\n      .lockContext(context)\n      .lockArgs(args);\n  }\n\n  /**\n   * @method Func#lockArgs\n   * @public\n   * @param {(Array|Arguments|*)} args - Arguments to lock.\n   * @returns {Func} Returns this.\n   * @description Erases bound arguments and adds new arguments to already locked ones.\n   *\n   * @example\n   * const func = new Func((...args) => {\n   *   let sum = 0;\n   *\n   *   for (let i = 0; i < args.length; i++) {\n   *     sum += args[i];\n   *   }\n   *\n   *   return sum;\n   * });\n   *\n   * func(1, 2, 3); // 6\n   *\n   * func.lockArgs([4]);\n   *\n   * func(1, 2, 3); // 10\n   *\n   * func.bindArgs([6, 7]);\n   * func.lockArgs([5]);\n   *\n   * func(1, 2, 3); // 15\n   */\n  lockArgs(args) {\n    const func = this.$$;\n\n    func.args = func.argsLocked = func.argsLocked.concat(toArray(args));\n\n    return this;\n  }\n\n  /**\n   * @method Func#lockContext\n   * @public\n   * @param {*} context - Context to lock.\n   * @returns {Func} Returns this.\n   * @description Locks context if it's not already locked.\n   *\n   * @example\n   * const func = new Func(function () {\n   *   return this.a;\n   * }).lockContext({ a: 1 });\n   *\n   * func(); // 1\n   *\n   * func.lockContext({ a: 2 });\n   *\n   * func(); // 1\n   */\n  lockContext(context) {\n    const func = this.$$;\n\n    if (!func.contextLocked) {\n      func.context = context;\n      func.contextLocked = true;\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#timing\n   * @public\n   * @param {String} mark - Argument that is passed to console.time() and console.timeEnd().\n   * By default name of the original function, or if it's not present, 'anonymous' is used.\n   * @returns {Func} Returns this.\n   * @description Built-in before and after middlewares for noting calling time.\n   * In case of asynchronous functions it notes time between calling function and resolving or rejecting the result.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .timing('plus 1');\n   *\n   * func(2); // plus 1: 0.010ms\n   *\n   * const async = new Func(() => new Promise(() => {\n   *     setTimeout(resolve, 1000);\n   *   }))\n   *   .async()\n   *   .timing();\n   *\n   * async();\n   * // After 1 second...\n   * // anonymous: 1000.010ms\n   */\n  timing(mark) {\n    mark = arguments.length ? String(mark) : this.$.name || 'anonymous';\n\n    this.before((args) => {\n      console.time(mark);\n\n      return args;\n    }, false);\n\n    this.after((ret) => {\n      console.timeEnd(mark);\n\n      return ret;\n    }, false);\n\n    return this;\n  }\n\n  toString() {\n    return (() => {}).toString.call(this.$);\n  }\n\n  /**\n   * @method Func#unbind\n   * @public\n   * @returns {Func} Returns this.\n   * @description Composition of {@link Func#unbindContext} and {@link Func#unbindArgs}.\n   *\n   * @example\n   * const func = new Func(function (a) {\n   *   return this.foo + ' & ' +  a;\n   * }).bind({ foo: 2 }, 1);\n   *\n   * func(); // '2 & 1'\n   *\n   * func.unbind();\n   *\n   * func(); // 'undefined & undefined'\n   */\n  unbind() {\n    return this\n      .unbindContext()\n      .unbindArgs();\n  }\n\n  /**\n   * @method Func#unbindArgs\n   * @public\n   * @returns {Func} Returns this.\n   * @description Erases all bound arguments.\n   *\n   * @example\n   * const func = new Func((...args) => {\n   *   let sum = 0;\n   *\n   *   for (let i = 0; i < args.length; i++) {\n   *     sum += args[i];\n   *   }\n   *\n   *   return sum;\n   * }).bindArgs([4, 5]);\n   *\n   * func(1, 2, 3); // 15\n   *\n   * func.unbindArgs();\n   *\n   * func(1, 2, 3); // 6\n   */\n  unbindArgs() {\n    const func = this.$$;\n\n    func.args = func.argsLocked;\n\n    return this;\n  }\n\n  /**\n   * @method Func#unbindContext\n   * @public\n   * @returns {Func} Returns this.\n   * @description Erases context if it's not locked.\n   *\n   * @example\n   * const func = new Func(function () {\n   *   return this.foo;\n   * }).bindContext({ foo: 1 });\n   *\n   * func(); // 1\n   *\n   * func.unbindArgs();\n   *\n   * func(); // undefined\n   */\n  unbindContext() {\n    const func = this.$$;\n\n    if (!func.contextLocked) {\n      func.context = null;\n    }\n\n    return this;\n  }\n}\n\ndefineProperties(Func.prototype, {\n  [Symbol.toStringTag]: 'Func'\n});\n\nconstructors[1].push({\n  check: isFunction,\n  cls: Func\n});\n\n/**\n * @function method\n * @public\n * @param {String} method - Method to call.\n * @param {(Array|Arguments|*)} args - Arguments to call the method with.\n * @returns {Function} Function that calls stated method with given arguments.\n * @description Function that returns the function\n * that calls stated method of its first argument with given arguments.\n *\n * @example\n * [1.2345, 2.789, 3.14].map(method('toFixed', [2])); // ['1.23', '2.79', '3.14']\n */\nfunction method(method, args = []) {\n  return (x) => x[method].apply(x, toArray(args));\n}\n\n/**\n * @function noop\n * @public\n * @returns {void}\n * @description Empty function.\n */\nfunction noop() {}\n\n/**\n * @function prop\n * @public\n * @param {String} prop - Property to return.\n * @returns {Function} Function that returns given property of its first argument.\n * @description Function that return the function that returns given property of its first argument.\n *\n * @example\n * ['foo', '12', '7890'].map(prop('length')); // [3, 2, 4]\n */\nfunction prop(prop) {\n  return ({ [prop]: value }) => value;\n}\n\n/**\n * @function self\n * @public\n * @returns {*} First argument itself.\n * @description Function that returns the first argument.\n *\n * @example\n * [1, 2].map(self);                     // [1, 2]\n * [1, 3, NaN, 0, 7, null].filter(self); // [1, 3, 7]\n */\nfunction self() {\n  return arguments[0];\n}\n\nexport { Func, method, noop, prop, self };\n","/**\n * @module Num\n * @private\n * @mixin\n * @description Exports Num class.\n */\n\nimport { Super } from './Super';\nimport { Func } from './Func';\nimport { Promise } from './Promise';\nimport { constructors } from './constants';\nimport {\n  isNumber, isFinite, toArray,\n  defineProperties, validate, Symbol\n} from './helpers';\n\nconst toRadian = Math.PI / 180;\nconst toDegree = 180 / Math.PI;\nconst ln2 = Math.LN2;\nconst ln10 = Math.LN10;\n\n/**\n * @class Num\n * @extends Super\n * @public\n * @param {Number} [number = 0] - A number to wrap.\n * @returns {Num} Instance of Num.\n * @description Wrap of a number.\n *\n * @example\n * const num = new Num(1);\n */\nclass Num extends Super {\n  constructor(number = 0) {\n    super(+number);\n\n    /**\n     * @member Num#$\n     * @type {Number}\n     * @public\n     * @description Original number.\n     */\n  }\n\n  /**\n   * @member Num#abs\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/abs\n   * @description Synonym for\n   * [Math.abs]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/abs}.\n   *\n   * @example\n   * new Num(1).abs;  // 1\n   * new Num(-1).abs; // 1\n   */\n  get abs() {\n    return Math.abs(this.$);\n  }\n\n  /**\n   * @method Num#acos\n   * @public\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\n   * @returns {Number} Arccosine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acos\n   * @description Synonym for\n   * [Math.acos]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acos}.\n   */\n  acos(toDegrees) {\n    return (toDegrees ? toDegree : 1) * Math.acos(this.$);\n  }\n\n  /**\n   * @member Num#acosh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acosh\n   * @description Synonym for\n   * [Math.acosh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acosh}.\n   */\n  get acosh() {\n    const number = this.$;\n\n    return Math.log(number + Math.sqrt(number * number - 1));\n  }\n\n  /**\n   * @member Num#asinh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asinh\n   * @description Synonym for\n   * [Math.asinh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asinh}.\n   */\n  get asinh() {\n    const number = this.$;\n\n    return Math.log(number + Math.sqrt(number * number + 1));\n  }\n\n  /**\n   * @method Num#asin\n   * @public\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\n   * @returns {Number} Arcsine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asin\n   * @description Synonym for\n   * [Math.asin]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asin}.\n   */\n  asin(toDegrees) {\n    return (toDegrees ? toDegree : 1) * Math.asin(this.$);\n  }\n\n  /**\n   * @method Num#atan\n   * @public\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\n   * @returns {Number} Arcsine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atan\n   * @description Synonym for\n   * [Math.atan]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atan}.\n   */\n  atan(toDegrees) {\n    return (toDegrees ? toDegree : 1) * Math.atan(this.$);\n  }\n\n  /**\n   * @member Num#atanh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atanh\n   * @description Synonym for\n   * [Math.atanh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atanh}.\n   */\n  get atanh() {\n    const number = this.$;\n\n    return Math.log((1 + number) / (1 - number)) / 2;\n  }\n\n  /**\n   * @member Num#cbrt\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cbrt\n   * @description Synonym for\n   * [Math.cbrt]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cbrt}.\n   */\n  get cbrt() {\n    const cbrt = Math.pow(Math.abs(this.$), 1 / 3);\n\n    return this.$ > 0 ? cbrt : -cbrt;\n  }\n\n  /**\n   * @member Num#ceil\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil\n   * @description Synonym for\n   * [Math.ceil]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil}.\n   *\n   * @example\n   * new Num(1.1).ceil;  // 2\n   * new Num(-1.1).ceil; // -1\n   */\n  get ceil() {\n    return Math.ceil(this.$);\n  }\n\n  /**\n   * @method Num#cos\n   * @public\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\n   * @returns {Number} Cosine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cos\n   * @description Synonym for\n   * [Math.cos]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cos}.\n   */\n  cos(asDegrees) {\n    return Math.cos((asDegrees ? toRadian : 1) * this.$);\n  }\n\n  /**\n   * @member Num#cosh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cosh\n   * @description Synonym for\n   * [Math.cosh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cosh}.\n   */\n  get cosh() {\n    const exp = this.exp;\n\n    return (exp + 1 / exp) / 2;\n  }\n\n  /**\n   * @member Num#cube\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Cube of the number.\n   *\n   * @example\n   * new Num(2).cube;  // 8\n   * new Num(-3).ceil; // -27\n   */\n  get cube() {\n    return this.$ * this.$ * this.$;\n  }\n\n  /**\n   * @member Num#exp\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/exp\n   * @description Synonym for\n   * [Math.exp]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/exp}.\n   */\n  get exp() {\n    return Math.exp(this.$);\n  }\n\n  /**\n   * @member Num#floor\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/floor\n   * @description Synonym for\n   * [Math.floor]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/floor}.\n   *\n   * @example\n   * new Num(1.1).floor;  // 1\n   * new Num(-1.1).floor; // -2\n   */\n  get floor() {\n    return Math.floor(this.$);\n  }\n\n  /**\n   * @method Num#interval\n   * @public\n   * @param {Function} func - Function that is called every <number> milliseconds.\n   * @param {Array} [args] - Arguments passed to the function.\n   * @returns {Function} Function that aborts the interval. The context of the function (if it's not already bound)\n   * is the object with the abort method.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/setInterval\n   * @description Analogue of the\n   * [setInterval]{@link https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setInterval}.\n   *\n   * @example\n   * const times = 0;\n   * new Num(50).interval(function () {\n   *   if (++times === 10) {\n   *     this.abort();\n   *   }\n   * });\n   */\n  interval(func, args = []) {\n    validate([func], ['function'], 'Num#interval');\n\n    func = new Func(func).bindContext({ abort });\n    args = toArray(args);\n\n    const number = this.$;\n\n    let aborted;\n    let timeout = setTimeout(function interval() {\n      if (!aborted) {\n        func.apply(null, args);\n\n        if (!aborted) {\n          timeout = setTimeout(interval, number);\n        }\n      }\n    }, 0);\n\n    return abort;\n\n    function abort() {\n      aborted = true;\n\n      return clearTimeout(timeout);\n    }\n  }\n\n  /**\n   * @member Num#ln\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log\n   * @description Synonym for\n   * [Math.log]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log}.\n   */\n  get ln() {\n    return Math.log(this.$);\n  }\n\n  /**\n   * @method Num#log\n   * @public\n   * @param {Number} number - Number to get logarithm of.\n   * @returns {Number} Logarithm of the argument number to the number base.\n   * @description Returns the logarithm of the argument number to the number base.\n   *\n   * @example\n   * new Num(2).log(16);  // 4\n   * new Num(3).log(243); // 5\n   */\n  log(number) {\n    return Math.log(number) / Math.log(this.$);\n  }\n\n  /**\n   * @member Num#log2\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log2\n   * @description Synonym for\n   * [Math.log2]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log2}.\n   */\n  get log2() {\n    return this.ln / ln2;\n  }\n\n  /**\n   * @member Num#log10\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log10\n   * @description Synonym for\n   * [Math.log10]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log10}.\n   */\n  get log10() {\n    return this.ln / ln10;\n  }\n\n  /**\n   * @method Num#pow\n   * @public\n   * @param {Number} power - Power the number should be raised to.\n   * @returns {Number} The number to the <power> power.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/pow\n   * @description Synonym for\n   * [Math.pow]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/pow}.\n   *\n   * @example\n   * new Num(4).pow(.5); // 2\n   * new Num(3).pow(2);  // 9\n   */\n  pow(power) {\n    return Math.pow(this.$, power);\n  }\n\n  /**\n   * @method Num#root\n   * @public\n   * @param {Number} power - Power the number should be raised to.\n   * @returns {Number} The <power> root of the number.\n   * @description Synonym for number.pow(1 / power);\n   *\n   * @example\n   * new Num(4).root(2);   // 0.5\n   * new Num(243).root(5); // 3\n   */\n  root(power) {\n    return Math.pow(this.$, 1 / power);\n  }\n\n  /**\n   * @member Num#round\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/round\n   * @description Synonym for\n   * [Math.round]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/round}.\n   *\n   * @example\n   * new Num(1.1).floor;  // 1\n   * new Num(-1.1).floor; // -1\n   * new Num(1.5).floor;  // 2\n   */\n  get round() {\n    return Math.round(this.$);\n  }\n\n  /**\n   * @member Num#sign\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n   * @description Synonym for\n   * [Math.sign]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sign}.\n   */\n  get sign() {\n    const number = this.$;\n\n    if (!number) {\n      return number;\n    }\n\n    return number > 0 ? 1 : -1;\n  }\n\n  /**\n   * @method Num#sin\n   * @public\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\n   * @returns {Number} Sine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sin\n   * @description Synonym for\n   * [Math.sin]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sin}.\n   */\n  sin(asDegrees) {\n    return Math.sin((asDegrees ? toRadian : 1) * this.$);\n  }\n\n  /**\n   * @member Num#sinh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sinh\n   * @description Synonym for\n   * [Math.sinh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sinh}.\n   */\n  get sinh() {\n    const exp = this.exp;\n\n    return (exp - 1 / exp) / 2;\n  }\n\n  /**\n   * @member Num#sq\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description The square of the number.\n   *\n   * @example\n   * new Num(2).sq;  // 4\n   * new Num(-3).sq; // 9\n   */\n  get sq() {\n    return this.$ * this.$;\n  }\n\n  /**\n   * @member Num#sqrt\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sqrt\n   * @description Synonym for\n   * [Math.sqrt]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sqrt}.\n   */\n  get sqrt() {\n    return Math.sqrt(this.$);\n  }\n\n  /**\n   * @method Num#tan\n   * @public\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\n   * @returns {Number} Tangent of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tan\n   * @description Synonym for\n   * [Math.tan]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tan}.\n   */\n  tan(asDegrees) {\n    return Math.tan((asDegrees ? toRadian : 1) * this.$);\n  }\n\n  /**\n   * @member Num#tanh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tanh\n   * @description Synonym for\n   * [Math.tanh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tanh}.\n   */\n  get tanh() {\n    const number = this.$;\n\n    if (!isFinite(number)) {\n      return this.sign;\n    }\n\n    const exp = Math.exp(2 * number);\n\n    return (exp - 1) / (exp + 1);\n  }\n\n  /**\n   * @method Num#timeout\n   * @public\n   * @param {*} [value] - Value to be resolved by the promise.\n   * @returns {Promise} Promise that could be aborted.\n   * @see https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setTimeout\n   * @description Promise-based analogue of\n   * [setTimeout]{@link https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setTimeout}.\n   *\n   * @example\n   * new Num(50).timeout('resolved').then((value) => {\n   *   console.log(value); // 'resolved'\n   * });\n   *\n   * const promise = new Num(50).timeout();\n   * promise.abort();\n   */\n  timeout(value) {\n    let timeout;\n    let reject;\n\n    const promise = new Promise((resolve, rej) => {\n      reject = rej;\n      timeout = setTimeout(resolve, this.$, value);\n    });\n\n    promise.abort = function abort() {\n      clearTimeout(timeout);\n\n      reject(new Error('Timeout was aborted'));\n\n      return this;\n    };\n\n    return promise;\n  }\n\n  /**\n   * @method Num#toBase\n   * @public\n   * @param {Number} [base = 10] - Base that the number should inverted to.\n   * @returns {String} A string representation of the number in <base> base.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toString\n   * @description Synonym for\n   * [Number#toString]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toString}.\n   *\n   * @example\n   * new Num(4).toBase(2); // 100\n   * new Num(3).toBase();  // 3\n   */\n  toBase(base = 10) {\n    return this.$.toString(base);\n  }\n\n  /**\n   * @method Num#toExponential\n   * @public\n   * @param {Number} [fractionDigits] - See the link.\n   * @returns {String} A string representation of the number in the exponential format.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential\n   * @description Synonym for\n   * [Number#toExponential]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential}.\n   */\n  toExponential(fractionDigits) {\n    return this.$.toExponential(fractionDigits);\n  }\n\n  /**\n   * @method Num#toFixed\n   * @public\n   * @param {Number} [digits = 0] - See the link.\n   * @returns {String} Fixed-point formatted number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed\n   * @description Synonym for\n   * [Number#toFixed]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed}.\n   */\n  toFixed(digits) {\n    return this.$.toFixed(digits);\n  }\n\n  /**\n   * @method Num#toPrecision\n   * @public\n   * @param {Number} [precision] - See the link.\n   * @returns {String} A string representation of the number to the specified precision.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision\n   * @description Synonym for\n   * [Number#toPrecision]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision}.\n   */\n  toPrecision(precision) {\n    return this.$.toPrecision(precision);\n  }\n\n  valueOf() {\n    return Number(this.$);\n  }\n}\n\ndefineProperties(Num.prototype, {\n  [Symbol.toStringTag]: 'Num'\n});\n\nconstructors[1].push({\n  check: isNumber,\n  cls: Num\n});\n\n/**\n * @function rand\n * @public\n * @param {Number} [start = 0] - Start of the range.\n * @param {Number} [end = 1] - End of the range.\n * @returns {Number} Random number.\n * @description Returns a random number in the range specified by the arguments.\n *\n * @example\n * rand(1, 5); // 2.315\n * rand(1, 5); // 4.356763\n */\nfunction rand(start = 0, end = 1) {\n  return start + (end - start) * Math.random();\n}\n\n/**\n * @function random\n * @public\n * @param {Integer} start - Start of the range.\n * @param {Integer} end - End of the range.\n * @returns {Number} Random integer.\n * @description Returns a random integer number in the range specified by the arguments.\n *\n * @example\n * random(1, 5); // 3\n * random(1, 5); // 1\n */\nfunction random(start, end) {\n  validate([start, end], ['intLike', 'intLike'], 'random');\n\n  if (end <= start) {\n    throw new Error('The second argument must be greater than the first!', 'random');\n  }\n\n  return Math.floor(rand(start, end + 1));\n}\n\nexport { Num, rand, random };\n","/**\n * @module Arr\n * @private\n * @mixin\n * @description Exports Arr class.\n */\n\nimport { random } from './Num';\nimport { Super } from './Super';\nimport { constructors } from './constants';\nimport {\n  isArrayLike, isNaN, isNumber, isString,\n  toArray, validate, iterate as iterator, Symbol, defineProperties\n} from './helpers';\n\n/**\n * @typedef {Array|*} ArrayLike\n * @public\n * @description Array-like type.\n */\n\n/**\n * @callback ArrayCallback\n * @public\n * @param {Number} i - Iteration index.\n */\n\n/**\n * @callback IterateCallback\n * @public\n * @param {Number} i - Iteration index.\n */\n\n/**\n * @callback CompareFunction\n * @public\n * @param {*} x - First value to be compared.\n * @param {*} y - Second value to be compared.\n */\n\n/**\n * @class Arr\n * @extends Super\n * @public\n * @param {Array} [array = []] - An array to wrap.\n * @returns {Arr} Instance of Arr.\n * @description Wrap of an array.\n *\n * @example\n * new Arr([1, 2]);\n */\nclass Arr extends Super {\n  constructor(array = []) {\n    super(toArray(array instanceof Arr ? array.$ : array));\n\n    /**\n     * @member Arr#$\n     * @type {Array}\n     * @public\n     * @description Made array.\n     */\n  }\n\n  /**\n   * @method Arr#concat\n   * @public\n   * @param {...(Array|Arr|*)} values - Arrays or any other values to concat the array with.\n   * @returns {Arr} New instance of Arr.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/concat\n   * @description Synonym for\n   * [Array#concat]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/concat}.\n   */\n  concat(...values) {\n    const array = toArray(this.$, true);\n\n    iterator(arguments, (value) => {\n      value = new Super(value).$;\n\n      if (isArrayLike(value) && !isString(value)) {\n        iterator(value, (value) => {\n          array.push(value);\n        });\n\n        return;\n      }\n\n      array.push(value);\n    });\n\n    return new this.constructor(array);\n  }\n\n  /**\n   * @member Arr#first\n   * @type {*}\n   * @public\n   * @readonly\n   * @description Returns the first element of the array.\n   *\n   * @example\n   * new Arr([1, 2, 3]).first; // 1\n   * new Arr([]).first;        // undefined\n   */\n  get first() {\n    return this.$[0];\n  }\n\n  /**\n   * @method Super#forEachReverse\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * @returns {Arr} Returns this.\n   * @description Method for iterating over any object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).forEach((value, key, object) => {\n   *   object[key] = value * value;\n   * }).$; // { a: 1, b: { c: 4, d: 5 } }\n   */\n  forEachReverse(callback) {\n    validate([callback], ['function'], 'Arr#forEachReverse');\n\n    const array = this.$;\n\n    for (let i = array.length - 1; i >= 0; i--) {\n      callback(array[i], i, array);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Arr#includes\n   * @public\n   * @param {*} value - Value to search.\n   * @returns {Boolean} If the array includes the value.\n   * @description Synonym for array.indexOfStrict(value) !== -1.\n   *\n   * @example\n   * new Arr([1, 2, 3]).includes(1);       // true\n   * new Arr([1, 2, 3]).includes('1');     // false\n   * new Arr([1, 2, 3]).includes(3);       // true\n   * new Arr([1, 2, NaN]).includes(NaN);   // true\n   */\n  includes(value) {\n    return this.indexOfStrict(value) !== -1;\n  }\n\n  /**\n   * @method Arr#indexOf\n   * @public\n   * @param {*} value - Value to search.\n   * @returns {Number} Index of the argument.\n   * @description Almost the same as {@link Super#keyOf}. The difference is that if the value is not found\n   * -1 returned instead of null and if found Number(key) returned.\n   *\n   * @example\n   * new Arr([1, 2, 3]).indexOf(1);       // 0\n   * new Arr([1, 2, 3]).indexOf('1');     // 0\n   * new Arr([1, 2, 3]).indexOf(3);       // -1\n   * new Arr([1, 2, NaN]).indexOf(NaN);   // 2\n   */\n  indexOf(value) {\n    const key = this.keyOf(value);\n\n    return key === null ? -1 : Number(key);\n  }\n\n  /**\n   * @method Arr#indexOfStrict\n   * @public\n   * @param {*} value - Value to search.\n   * @returns {Number} Index of the argument.\n   * @description Almost the same as {@link Super#keyOfStrict}. The difference is that if the value is not found\n   * -1 returned instead of null and if found Number(key) returned.\n   *\n   * @example\n   * new Arr([1, 2, 3]).indexOfStrict(1);       // 0\n   * new Arr([1, 2, 3]).indexOfStrict('1');     // -1\n   * new Arr([1, 2, 3]).indexOfStrict(3);       // -1\n   * new Arr([1, 2, NaN]).indexOfStrict(NaN);   // 2\n   */\n  indexOfStrict(value) {\n    const key = this.keyOfStrict(value);\n\n    return key === null ? -1 : Number(key);\n  }\n\n  /**\n   * @method Arr#join\n   * @public\n   * @param {String} [separator = ','] - See the link.\n   * @returns {String} - String of joined array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/join\n   * @description Synonym for\n   * [Array#join]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/join}.\n   */\n  join(separator) {\n    return this.$.join.apply(this.$, arguments);\n  }\n\n  /**\n   * @member Arr#last\n   * @type {*}\n   * @public\n   * @readonly\n   * @description The last element of the array.\n   *\n   * @example\n   * new Arr([1, 2, 3]).last; // 3\n   * new Arr([]).last;        // undefined\n   */\n  get last() {\n    const array = this.$;\n\n    return array[array.length - 1];\n  }\n\n  /**\n   * @member Arr#length\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/length\n   * @description Synonym for\n   * [Array#length]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/length}.\n   */\n  get length() {\n    return this.$.length;\n  }\n\n  /**\n   * @method Arr#pop\n   * @public\n   * @returns {*} Returns deleted element.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/pop\n   * @description Synonym for\n   * [Array#pop]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/pop}.\n   */\n  pop() {\n    return this.$.pop();\n  }\n\n  /**\n   * @method Arr#push\n   * @public\n   * @param {...*} values - See the link.\n   * @this {Arr}\n   * @returns {Arr} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push\n   * @description Synonym for\n   * [Array#push]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push}\n   * besides returning this.\n   */\n  push(...values) {\n    this.$.push.apply(this.$, arguments);\n\n    return this;\n  }\n\n  /**\n   * @method Arr#pushArray\n   * @public\n   * @param {Array} array - Array to push.\n   * @this {Arr}\n   * @returns {Arr} Returns this.\n   * @description Method for pushing an array into another.\n   */\n  pushArray(array) {\n    this.$.push.apply(this.$, array);\n\n    return this;\n  }\n\n  /**\n   * @method Arr#random\n   * @public\n   * @returns {*} Random item of the array.\n   * @description Method for getting random items of the array.\n   *\n   * @example\n   * new Arr([1, 5, 3]).random(); // 3\n   * new Arr([1, 5, 3]).random(); // 5\n   */\n  random() {\n    return this.$[random(0, this.$.length - 1)];\n  }\n\n  /**\n   * @method Arr#reverse\n   * @public\n   * @returns {Arr} A wrap of the reversed array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse\n   * @description Synonym for\n   * [Array#reverse]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse}.\n   */\n  reverse() {\n    this.$.reverse();\n\n    return this;\n  }\n\n  /**\n   * @method Arr#shift\n   * @public\n   * @returns {*} Returns deleted element.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/shift\n   * @description Synonym for\n   * [Array#shift]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/shift}.\n   */\n  shift() {\n    return this.$.shift();\n  }\n\n  /**\n   * @method Arr#shuffle\n   * @public\n   * @returns {Arr} Returns this.\n   * @description Method for shuffling.\n   *\n   * @example\n   * new Arr([1, 2, 3, 4]).shuffle().$; // [4, 2, 3, 1]\n   * new Arr([1, 2, 3, 4]).shuffle().$; // [1, 3, 4, 2]\n   */\n  shuffle() {\n    const length = this.$.length;\n\n    return this.forEach((value, index, array) => {\n      const randomIndex = index + Math.floor((length - index) * Math.random());\n\n      array[index] = array[randomIndex];\n      array[randomIndex] = value;\n    });\n  }\n\n  /**\n   * @method Arr#slice\n   * @public\n   * @param {Number} [begin = 0] - See the link.\n   * @param {Number} [end = array.length] - See the link.\n   * @returns {Arr} A wrap of a sliced array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\n   * @description Synonym for\n   * [Array#slice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice}.\n   */\n  slice(begin, end) {\n    return new this.constructor(this.$.slice.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Arr#sort\n   * @public\n   * @param {CompareFunction} [compareFunction] - See the link.\n   * @returns {Arr} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n   * @description Synonym for\n   * [Array#sort]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/sort}.\n   */\n  sort(compareFunction) {\n    validate([compareFunction], ['function||!'], 'Arr#sort');\n\n    this.$.sort(compareFunction);\n\n    return this;\n  }\n\n  /**\n   * @method Arr#sortAsc\n   * @public\n   * @returns {Arr} Returns this.\n   * @description Method for ascending sorting. Puts non-numbers first, then NaNs, then sorted values.\n   *\n   * @example\n   * new Arr([NaN, 1, -7, '100', 5]).sortAsc().$; // ['100', NaN, -7, 1, 5]\n   */\n  sortAsc() {\n    return this.sort(asc);\n  }\n\n  /**\n   * @method Arr#sortDesc\n   * @public\n   * @returns {Arr} Returns this.\n   * @description Method for descending sorting. Puts sorted values first, then NaNs, then non-numbers.\n   *\n   * @example\n   * new Arr([NaN, 1, -7, '100', 5]).sortDesc().$; // [5, 1, -7, NaN, '100']\n   */\n  sortDesc() {\n    return this.sort((y, x) => asc(x, y));\n  }\n\n  /**\n   * @method Arr#splice\n   * @public\n   * @param {Number} [start] - See the link.\n   * @param {Number} [deleteCount] - See the link.\n   * @param {...*} [items] - See the link.\n   * @returns {Arr} A wrap of return value of #splice call.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n   * @description Synonym for\n   * [Array#splice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice}.\n   */\n  splice(start, deleteCount, ...items) {\n    return new Arr(this.$.splice.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Arr#string\n   * @public\n   * @returns {String} Concatenated array.\n   * @description Synonym for array.join('').\n   *\n   * @example\n   * new Arr([1, 2, 3]).string(); // '123'\n   */\n  string() {\n    return this.join('');\n  }\n\n  /**\n   * @method Arr#unshift\n   * @public\n   * @param {...*} [values] - See the link.\n   * @returns {Arr} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift\n   * @description Synonym for\n   * [Array#unshift]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift}\n   * besides returning this.\n   */\n  unshift(...values) {\n    this.$.unshift.apply(this.$, arguments);\n\n    return this;\n  }\n}\n\ndefineProperties(Arr.prototype, {\n  [Symbol.toStringTag]: 'Arr'\n});\n\n/**\n * @function asc\n * @private\n * @param {*} x - First value to be compared.\n * @param {*} y - Second value to be compared.\n * @returns {Number} Where to put the first element: before or after.\n */\nfunction asc(x, y) {\n  if (!isNumber(x) && !isNumber(y)) {\n    return 0;\n  }\n\n  if (!isNumber(x)) {\n    return -1;\n  }\n\n  if (!isNumber(y)) {\n    return 1;\n  }\n\n  if (isNaN(x) && isNaN(y)) {\n    return 0;\n  }\n\n  if (isNaN(x)) {\n    return -1;\n  }\n\n  if (isNaN(y)) {\n    return 1;\n  }\n\n  return x - y;\n}\n\nconstructors[1].push({\n  check: isArrayLike,\n  cls: Arr\n});\n\n/**\n * @function array\n * @public\n * @param {Number} number - Length of the array.\n * @param {ArrayCallback} [callback] - If it's present it has to be a function\n * that returns the element that is pushed to the new array.\n * @returns {Arr} New instance of Arr.\n * @description Method for creating new array from the length using optional callback.\n *\n * @example\n * array(3).$;               // [0, 1, 2]\n * array(3, (i) => i * 2).$; // [0, 2, 4]\n */\nfunction array(number, callback) {\n  validate([number, callback], [['intLike', '>=0'], 'function||!'], 'array');\n\n  const array = [];\n\n  for (let i = 0; i < number; i++) {\n    array.push(callback ? callback(i) : i);\n  }\n\n  return new Arr(array);\n}\n\n/**\n * @function iterate\n * @public\n * @param {Number} number - Number of iterations.\n * @param {IterateCallback} callback - Callback that is called on each iteration with the iteration index.\n * @returns {void}\n * @description Method for replacing for (...) construction.\n *\n * @example\n * iterate();\n */\nfunction iterate(number, callback) {\n  validate([number, callback], [['intLike', '>=0'], 'function'], 'iterate');\n\n  for (let i = 0; i < number; i++) {\n    callback(i);\n  }\n}\n\nexport { Arr, array, iterate };\n","/**\n * @module BlobObject\n * @private\n * @mixin\n * @description Exports BlobObject class.\n */\n\nimport { Super } from './Super';\nimport { Promise } from './Promise';\nimport { constructors } from './constants';\nimport {\n  isArray, isFunction,\n  toStringTag, Symbol, defineProperties\n} from './helpers';\n\n/**\n * @typedef {{ buffer: String, binary: String, dataURL: String, text: String }} methods\n * @private\n * @description List of read blob methods.\n */\nconst methods = {\n  buffer: 'ArrayBuffer',\n  binary: 'BinaryString',\n  dataURL: 'DataURL',\n  text: 'Text'\n};\nconst { URL } = global;\n\n/**\n * @typedef {('buffer'|'binary'|'dataURL'|'text')} ReadBlobMethod\n * @public\n * @description Enum type of read blob methods.\n */\n\n/**\n * @typedef {ArrayBuffer|ArrayBufferView|Blob|String} BlobParts\n * @public\n * @description Allowed blob parts.\n */\n\n/**\n * @callback ReaderEventListener\n * @public\n * @param {Event} e - Fired event.\n * @param {FileReader} reader - FileReader.\n */\n\n/**\n * @class BlobObject\n * @extends Super\n * @public\n * @param {Blob} blob - Blob to wrap.\n * @returns {BlobObject} Instance of BlobObject.\n * @description Wrap of a blob.\n *\n * @example\n * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }));\n */\nclass BlobObject extends Super {\n  /**\n   * @member BlobObject#$\n   * @type {Blob}\n   * @public\n   * @description Original Blob.\n   */\n\n  /**\n   * @member {String} BlobObject#dataURL\n   * @type {String}\n   * @public\n   * @readonly\n   * @description Returns dataURL representation of the blob.\n   */\n  get dataURL() {\n    return URL.createObjectURL(this.$);\n  }\n\n  /**\n   * @method BlobObject#readAs\n   * @public\n   * @param {ReadBlobMethod} method - Method that is used for reading from blob.\n   * @param {ReaderEventListener} [progress] - Progress listener.\n   * @returns {Promise} Promise that could be aborted.\n   * @description Method for reading from blobs.\n   *\n   * @example\n   * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }))\n   *   .readAs('text')\n   *   .then((value) => {\n   *     console.log(value); // '{\"foo\":\"bar\"}'\n   *   });\n   */\n  readAs(method, progress) {\n    if (!methods[method]) {\n      throw new Error('1st argument must be one of following values: buffer, binary, dataURL, text');\n    }\n\n    let reader = new FileReader();\n    let toReject;\n\n    if (isFunction(progress)) {\n      reader.onprogress = function (e) {\n        progress(e, this);\n      };\n    }\n\n    const promise = new Promise((resolve, reject) => {\n      toReject = reject;\n\n      reader.onerror = ({ target }) => {\n        if (reader) {\n          reject(target.error);\n        }\n      };\n\n      reader.onload = ({ target }) => {\n        resolve(target.result);\n      };\n\n      reader[`readAs${ methods[method] }`](this.$);\n    });\n\n    promise.abort = function abort() {\n      toReject(new Error('Reading was aborted'));\n\n      reader.abort();\n\n      reader = null;\n\n      return this;\n    };\n\n    return promise;\n  }\n\n  /**\n   * @method BlobObject#saveAs\n   * @public\n   * @param {String} [name] - Name that is used for saving file.\n   * @returns {BlobObject} Returns this.\n   * @description Method for saving blobs.\n   *\n   * @example\n   * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }))\n   *   .saveAs('blob.json');\n   */\n  saveAs(name = 'download') {\n    const anchor = document.createElement('a');\n\n    anchor.href = this.dataURL;\n    anchor.setAttribute('download', name);\n    anchor.click();\n\n    return this;\n  }\n}\n\ndefineProperties(BlobObject.prototype, {\n  [Symbol.toStringTag]: 'BlobObject'\n});\n\nconstructors[1].push({\n  check: (blob) => /^(Blob|File)$/.test(toStringTag(blob)),\n  cls: BlobObject\n});\n\n/**\n * @function blob\n * @public\n * @param {(BlobParts[]|BlobParts)} blobParts - Blob parts that are passed to\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob} constructor.\n * @param {Object} [options] - Options that are passed to\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob} constructor.\n * @returns {BlobObject} New instance of BlobObject.\n * @description Function for creating blobs not involving BlobObject and Blob constructors.\n */\nfunction blob(blobParts, options = {}) {\n  if (!isArray(blobParts)) {\n    blobParts = [blobParts];\n  }\n\n  return new BlobObject(new Blob(blobParts, options));\n}\n\nexport { BlobObject, blob };\n","/**\n * @module Str\n * @private\n * @mixin\n * @description Exports Str class.\n */\n\nimport { D } from './D';\nimport { Super } from './Super';\nimport { constructors, regexpSpecialCharacters } from './constants';\nimport {\n  isFunction, isNumberLike, isObject, isString,\n  validate, Symbol, defineProperties, iterate\n} from './helpers';\n\nconst htmlSpecials = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\nconst regexpSpecialsRegexp = new RegExp(\n  new Super(regexpSpecialCharacters)\n    .word((x) => `\\\\${ x }|`)\n    .replace(/\\|$/, ''),\n  'g'\n);\n\n/**\n * @class Str\n * @extends Super\n * @public\n * @param {String} [string = ''] - A string to wrap.\n * @returns {Str} Instance of Str.\n * @description Wrap of a string.\n *\n * @example\n * const s = new Num('1');\n */\nclass Str extends Super {\n  constructor(string = '') {\n    super(`${ string }`);\n\n    /**\n     * @member Str#$\n     * @type {String}\n     * @public\n     * @description Original string.\n     */\n  }\n\n  /**\n   * @method Str#capitalizeFirst\n   * @public\n   * @returns {Str} Capitalized string.\n   * @description Method capitalizing the first symbol.\n   *\n   * @example\n   * new Str('foo').capitalizeFirst().$; // 'Foo'\n   */\n  capitalizeFirst() {\n    const string = this.$;\n\n    return new Str(string.slice(0, 1).toUpperCase() + string.slice(1));\n  }\n\n  /**\n   * @method Str#endsWith\n   * @public\n   * @param {String} searchString - See the link.\n   * @param {Number} [position = string.length] - See the link.\n   * @returns {Boolean} If the string ends with the argument string.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n   * @description Synonym for\n   * [String#endsWith]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith}.\n   */\n  endsWith(searchString, position) {\n    if (arguments.length < 2) {\n      position = this.$.length;\n    }\n\n    return this\n      .slice(0, position)\n      .revert()\n      .startsWith(new Str(searchString).revert().$);\n  }\n\n  /**\n   * @method Str#escapeHTML\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Methods escaping \"&\", \"<\" and \">\" symbols.\n   *\n   * @example\n   * new Str('\"1 < 2\" & \"7 > 4\" are true expressions.').escapeHTML().$;\n   * // '\"1 &lt; 2\" &amp \"7 &gt; 2\" are true expressions.'\n   */\n  escapeHTML() {\n    let string = this.$;\n\n    iterate(htmlSpecials, (escaped, symbol) => {\n      string = string.replace(new RegExp(symbol, 'g'), escaped);\n    });\n\n    return new Str(string);\n  }\n\n  /**\n   * @method Str#escapeRegExp\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Method escaping RegExp special characters.\n   *\n   * @example\n   * new Str('(213.98 - [] {})').escapeRegExp().$; // '\\(213\\.98 \\- \\[\\] \\{\\}\\)'\n   */\n  escapeRegExp() {\n    return this.replace(regexpSpecialsRegexp, '\\\\$&');\n  }\n\n  /**\n   * @method Str#in\n   * @public\n   * @param {*} object - Object to check the string as a property in.\n   * @returns {Boolean} If it is in the object or not.\n   * @description Returns string in object.\n   *\n   * @example\n   * new Str('a').in({ a: 1 }); // true\n   * new Str('toFixed').in(1);  // false\n   * new Str('a').in(null);     // false\n   */\n  in(object) {\n    if (!isObject(object)) {\n      return false;\n    }\n\n    return this.$ in object;\n  }\n\n  /**\n   * @method Str#indexOf\n   * @public\n   * @param {String} searchValue - See the link.\n   * @param {Number} [fromIndex = 0] - See the link.\n   * @returns {Number} Found index or -1.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\n   * @description Synonym for\n   * [String#indexOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf}.\n   */\n  indexOf(searchValue, fromIndex) {\n    return this.$.indexOf.apply(this.$, arguments);\n  }\n\n  /**\n   * @method Str#lastIndexOf\n   * @public\n   * @param {String} searchValue - See the link.\n   * @param {Number} [fromIndex = string.length] - See the link.\n   * @returns {Number} Found index or -1.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf\n   * @description Synonym for\n   * [String#lastIndexOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf}.\n   */\n  lastIndexOf(searchValue, fromIndex) {\n    return this.$.lastIndexOf.apply(this.$, arguments);\n  }\n\n  /**\n   * @member Str#length\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/length\n   * @description Synonym for\n   * [String#length]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/length}.\n   */\n  get length() {\n    return this.$.length;\n  }\n\n  /**\n   * @method Str#match\n   * @public\n   * @returns {Arr|Super} D-Wrap of found match.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/match\n   * @description Synonym for\n   * [String#match]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/match}.\n   */\n  match(regexp) {\n    return D(this.$.match.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#repeat\n   * @public\n   * @param {Integer} times - Times to repeat the string.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\n   * @description Synonym for\n   * [String#repeat]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/repeat}.\n   *\n   * @example\n   * new Str('123').repeat(2).$; // '123123'\n   * new Str('123').repeat(0).$; // ''\n   */\n  repeat(times) {\n    validate([times], [['intLike', '>=0']], 'Str#repeat');\n\n    times = +times;\n\n    const string = this.$;\n\n    let s = '';\n\n    for (let i = 0; i < times; i++) {\n      s += string;\n    }\n\n    return new Str(s);\n  }\n\n  /**\n   * @method Str#replace\n   * @public\n   * @param {RegExp|String} regexp - See the link.\n   * @param {String|Function} [replacer = ''] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/replace\n   * @description Synonym for\n   * [String#replace]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/replace}\n   * besides that replacer has a default value of ''.\n   */\n  replace(regexp, replacer = '') {\n    return new Str(this.$.replace(regexp, replacer));\n  }\n\n  /**\n   * @method Str#replaceString\n   * @public\n   * @param {String} string - String to replace.\n   * @param {String} [replacer = ''] - String to replace with.\n   * @returns {Str} New instance of Str.\n   * @description Method for global string replaceing.\n   *\n   * @example\n   * new Str('123123').replaceString('1', '4').$; // '423423'\n   * new Str('123123').replaceString('1').$;      // '2323'\n   */\n  replaceString(string, replacer = '') {\n    string = new Super(string).$;\n\n    validate([string], ['string'], 'Str#replaceString');\n\n    return new Str(this.$.split(string).join(replacer));\n  }\n\n  /**\n   * @method Str#revert\n   * @public\n   * @returns {Str} New instance of string.\n   * @description Method for reverting a string.\n   *\n   * @example\n   * new Str('1234').revert().$; // '4321'\n   */\n  revert() {\n    const string = this.$;\n    let str = '';\n\n    for (let i = string.length - 1; i >= 0; i--) {\n      str += string[i];\n    }\n\n    return new Str(str);\n  }\n\n  /**\n   * @method Str#search\n   * @public\n   * @param {RegExp} regexp - See the link.\n   * @returns {Number} Index of the first match, if found, and -1 if not.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/search\n   * @description Synonym for\n   * [String#search]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/search}.\n   */\n  search(regexp) {\n    validate([regexp], ['regexp']);\n\n    return this.$.search.apply(this.$, arguments);\n  }\n\n  /**\n   * @method Str#slice\n   * @public\n   * @param {Number} [beginSlice = 0] - See the link.\n   * @param {Number} [endSlice = string.length] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/slice\n   * @description Synonym for\n   * [String#slice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/slice}.\n   */\n  slice(beginSlice, endSlice) {\n    return new Str(this.$.slice.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#split\n   * @public\n   * @param {RegExp|String} [separator] - See the link.\n   * @returns {Arr|Super} D-Wrap of the array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/split\n   * @description Synonym for\n   * [String#split]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/split}.\n   */\n  split(separator) {\n    return D(this.$.split.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#startsWith\n   * @public\n   * @param {String} searchString - See the link.\n   * @param {Number} [position = 0] - See the link.\n   * @returns {Boolean} If the string ends with the argument string.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n   * @description Synonym for\n   * [String#startsWith]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith}.\n   */\n  startsWith(searchString, position = 0) {\n    return this.$.indexOf.apply(this.$, arguments) === position;\n  }\n\n  /**\n   * @method Str#substr\n   * @public\n   * @param {Number} [start = 0] - See the link.\n   * @param {Number} [length = string.length] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substr\n   * @description Synonym for\n   * [String#substr]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substr}.\n   */\n  substr(start, length) {\n    return new Str(this.$.substr.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#substring\n   * @public\n   * @param {Number} [indexStart = 0] - See the link.\n   * @param {Number} [indexEnd = string.length] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substring\n   * @description Synonym for\n   * [String#substring]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substring}.\n   */\n  substring(indexStart, indexEnd) {\n    return new Str(this.$.substring.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#toCamelCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\s\\-_\\./ making the string camel cased.\n   *\n   * @example\n   * new Str('spinal-case').toCamelCase().$;  // 'spinalCase'\n   * new Str('_snake_case_').toCamelCase().$; // 'snakeCase'\n   */\n  toCamelCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_.]+/g, '-')\n      .replace(/-[^-]/g, (match) => match[1].toUpperCase())\n      .replace(/^[\\S]/, (match) => match.toLowerCase())\n    );\n  }\n\n  /**\n   * @method Str#toCapitalCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\-_\\./ making the string capital letter cased.\n   *\n   * @example\n   * new Str('spinal-case').toCapitalCase().$;  // 'Spinal Case'\n   * new Str('_snake_case_').toCapitalCase().$; // 'Snake Case'\n   */\n  toCapitalCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_.]+/g, ' ')\n      .replace(/[\\S]/g, (match) => (\n        match.toLowerCase() === match ? match : ` ${ match }`\n      ))\n      .replace(/\\s[\\S]/g, (match) => match.toUpperCase())\n      .replace(/\\s+/g, ' ')\n      .replace(/^\\s/, '')\n      .replace(/^[\\S]/, (match) => match.toUpperCase())\n    );\n  }\n\n  /**\n   * @method Str#toDotCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\-_\\./ making the string dot cased.\n   *\n   * @example\n   * new Str('spinal-case').toDotCase().$;  // 'spinal.case'\n   * new Str('_snake_case_').toDotCase().$; // 'snake.case'\n   */\n  toDotCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_.]+/g, '.')\n      .replace(/[^.]/g, (match) => (\n        match.toLowerCase() === match ? match : `.${ match }`\n      ))\n      .replace(/\\.+/g, '.')\n      .replace(/^\\./, '')\n      .toLowerCase()\n    );\n  }\n\n  /**\n   * @method Str#toHyphenCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\s\\-_\\./ making the string camel cased.\n   *\n   * @example\n   * new Str('camelCase').toSpinalCase().$;    // 'camel-case'\n   * new Str('_snake_case_').toSpinalCase().$; // 'snake-case'\n   */\n  toHyphenCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_.]+/g, '-')\n      .replace(/[^-]/g, (match) => (\n        match.toLowerCase() === match ? match : `-${ match }`\n      ))\n      .replace(/-+/g, '-')\n      .replace(/^-/, '')\n      .toLowerCase()\n    );\n  }\n\n  /**\n   * @method Str#toLowerCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase\n   * @description Synonym for\n   * [String#toLowerCase]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase}.\n   *\n   * @example\n   * new Str('UPPER-CASE').toLowerCase().$;  // 'upper-case'\n   */\n  toLowerCase() {\n    return new Str(this.$.toLowerCase());\n  }\n\n  /**\n   * @method Str#toSnakeCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\s\\-\\./ making the string spinal cased.\n   *\n   * @example\n   * new Str('spinal-case').toSnakeCase().$; // 'spinal_case'\n   * new Str('camelCase').toSnakeCase().$;   // 'camel_case'\n   */\n  toSnakeCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_.]+/g, '_')\n      .replace(/[^_]/g, (match) => (\n        match.toLowerCase() === match ? match : `_${ match }`\n      ))\n      .replace(/_+/g, '_')\n      .replace(/^_/, '')\n      .toLowerCase()\n    );\n  }\n\n  /**\n   * @method Str#toSpaceCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\-_\\./ making the string space cased.\n   *\n   * @example\n   * new Str('spinal-case').toSpaceCase().$;  // 'spinal case'\n   * new Str('_snake_case_').toSpaceCase().$; // 'snake case'\n   */\n  toSpaceCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_.]+/g, ' ')\n      .replace(/[\\S]/g, (match) => (\n        match.toLowerCase() === match ? match : ` ${ match }`\n      ))\n      .replace(/\\s+/g, ' ')\n      .replace(/^\\s/, '')\n      .toLowerCase()\n    );\n  }\n\n  toString() {\n    return this.$;\n  }\n\n  /**\n   * @method Str#toUpperCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase\n   * @description Synonym for\n   * [String#toUpperCase]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase}.\n   *\n   * @example\n   * new Str('lower-case').toUpperCase().$;  // 'LOWER-CASE'\n   */\n  toUpperCase() {\n    return new Str(this.$.toUpperCase());\n  }\n\n  /**\n   * @method Str#trim\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trim\n   * @description Synonym for\n   * [String#trim]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trim}.\n   */\n  trim() {\n    return new Str(this.$.replace(/^[\\s\\ufeff\\u00a0]+|[\\s\\ufeff\\u00a0]+$/g, ''));\n  }\n\n  /**\n   * @method Str#trimLeft\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimLeft\n   * @description Synonym for\n   * [String#trimLeft]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimLeft}.\n   */\n  trimLeft() {\n    return new Str(this.$.replace(/^[\\s\\ufeff\\u00a0]+/, ''));\n  }\n\n  /**\n   * @method Str#trimRight\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimRight\n   * @description Synonym for\n   * [String#trimRight]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimRight}.\n   */\n  trimRight() {\n    return new Str(this.$.replace(/[\\s\\ufeff\\u00a0]+$/, ''));\n  }\n}\n\ndefineProperties(Str.prototype, {\n  [Symbol.toStringTag]: 'Str'\n});\n\nconstructors[2].push({\n  check: isString,\n  cls: Str\n});\n\nfunction trim(string) {\n  return string.replace(/^[\\s\\-_.]+|[\\s\\-_.]+$/g, '');\n}\n\n/**\n * @function parseJSON\n * @public\n * @param {String} [json = null] - String to parse.\n * @param {Object} [options] - Options.\n * @param {Boolean|*} [options.numbers] - If it is needed to parse number-like strings as numbers.\n * @param {Boolean|*} [options.dates] - If it is needed to parse date-like string as dates.\n * Date-like string is considered to match ^\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\dZ?$\n * @param {JSONCallback} [callback] - Callback that called on every iteration.\n * @returns {DWrap} D-Wrap of found match.\n * @description Method for parsing json.\n *\n * @example\n * parseJSON('{ \"a\": 1 }').$;                                           // { a: 1 }\n * parseJSON('{ \"a\": \"1\" }', { numbers: true }).$;                      // { numbers: true }\n * parseJSON('{ \"a\": \"1999-12-31T23:59:59.999Z\" }', { dates: true }).$; // { a: Date {...} }\n */\nfunction parseJSON(json = null, options = {}, callback) {\n  if (arguments.length <= 1) {\n    return D(JSON.parse(json));\n  }\n\n  if (isFunction(options)) {\n    callback = options;\n    options = {};\n  }\n\n  const { numbers, dates } = options;\n  const parsed = JSON.parse(json, function (key, value) {\n    if (dates && /^\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\dZ?$/.test(value)) {\n      value = new Date(value);\n    } else if (numbers && isNumberLike(value) && isString(value)) {\n      value = Number(value);\n    }\n\n    return callback ? callback.apply(this, arguments) : value;\n  });\n\n  return D(parsed);\n}\n\nexport { Str, parseJSON };\n","/**\n * @module helpers/markupToJSON\n * @private\n * @description Exports markupToJSON method.\n */\n\nimport { Arr } from '../Arr';\nimport { Str } from '../Str';\nimport { Super } from '../Super';\nimport { switcher } from '../Switcher';\nimport { htmlAllowedTagSymbols, htmlAllowedAttrSymbols, voidElements } from '../constants';\nimport { isUndefined } from './checkTypes';\n\n/**\n * @typedef {Object} MarkupElement\n * @property {'comment'|'text'|'element'} type - Type of the node.\n * @property {MarkupElement} parent - Type of the node.\n * @property {Object.<String, String>} attrs - Node attributes\n * @property {MarkupElement[]} children - Node children.\n */\n\nconst submitString = 'Please, submit an issue at https://github.com/dwaynejs/dwayne/issues/new, if needed.';\nconst NODE_REGEX_SET = new Super({\n  'tag-open': new RegExp(`<(${ htmlAllowedTagSymbols })\\\\s*`, 'i'),\n  'tag-close': constructCloseTagRegExp(htmlAllowedTagSymbols),\n  comment: /<!--((?:-[^\\->]|[^\\->])(?:-?[^-])*[^-]?|)-->/\n});\nconst TAG_OPEN_CLOSE = /^(\\/?)>/;\n// const ATTRIBUTE = /^([^\\u0000-\\u0020\\s\"'>\\/=]+)(?:\\s*=\\s*('[^']*'|\"[^\"]*\"|[^\\s\"'`<>=]+))?\\s*/;\nconst ATTRIBUTE = new RegExp(`^(${ htmlAllowedAttrSymbols })(?:\\\\s*=\\\\s*('[^']*'|\"[^\"]*\"|[^\\\\s\"'\\`<>=]+))?\\\\s*`);\nconst div = document.createElement('div');\nconst nodeSwitcher = switcher('strictEquals', (elem) => elem)\n  .case('tag-open', (elem, node) => {\n    const {\n      value: name,\n      selfClosing\n    } = node;\n\n    node = {\n      name,\n      attrs: new Super(node.attrs).map((value) => (\n        value === true\n          ? value\n          : parseCharacterData(value)\n      )).$,\n      parent: elem,\n      children: new Arr([])\n    };\n\n    elem.children.push(node);\n\n    if (!selfClosing && voidElements.indexOf(name) === -1) {\n      elem = node;\n    }\n\n    return elem;\n  })\n  .case('tag-close', (elem, node) => {\n    if (elem.name === node.value) {\n      elem = elem.parent;\n    }\n\n    return elem;\n  })\n  .case(['comment', 'text'], (elem, node, collapseWhiteSpace, type) => {\n    const element = {\n      name: `#${ type }`,\n      parent: elem,\n      value: node.value\n    };\n\n    if (type === 'text' && elem.name !== 'script' && elem.name !== 'style') {\n      element.value = parseCharacterData(element.value);\n\n      if (collapseWhiteSpace) {\n        element.value = new Str(element.value).trim().$;\n      }\n    }\n\n    if (!collapseWhiteSpace || !/^\\s*$/.test(element.value)) {\n      elem.children.push(element);\n    }\n\n    return elem;\n  });\nconst rawTextSwitcher = switcher('strictEquals', false)\n  .case(['title', 'textarea', 'style', 'script'], true);\n\nclass InternalParsingError {\n  constructor(index) {\n    this.index = index;\n  }\n}\n\nclass ParsingError extends Error {\n  type = 'PARSING_ERROR';\n}\n\n/**\n * @function markupToJSON\n * @private\n * @param {String} markup - Markup to parse to JSON.\n * @param {Boolean} [collapseWhiteSpace = false] - If the whitespace should be collapsed.\n * @returns {Arr.<MarkupElement>} Markup elements array.\n * @description Function for parsing html and xml to JSON.\n */\nexport default (markup, collapseWhiteSpace) => {\n  collapseWhiteSpace = !!collapseWhiteSpace;\n\n  const elements = new Arr([]);\n  const startMarkup = markup;\n  let found;\n  let globalIndex = 0;\n  let elem = {\n    name: null,\n    children: elements\n  };\n\n  while (markup.length) {\n    try {\n      found = find(markup, elem);\n    } catch (err) {\n      if (!(err instanceof InternalParsingError)) {\n        throwUnexpectedError();\n      }\n\n      throw new ParsingError(`Parsing error near index ${ nearString(startMarkup, globalIndex + err.index) }`);\n    }\n\n    const {\n      type,\n      attrs,\n      selfClosing,\n      index,\n      value\n    } = found;\n\n    globalIndex += index;\n\n    if (!index) {\n      throwUnexpectedError();\n    }\n\n    const node = {\n      type,\n      value\n    };\n\n    if (type === 'tag-open') {\n      node.attrs = attrs;\n      node.selfClosing = selfClosing;\n    }\n\n    elem = nodeSwitcher(node.type, [elem, node, collapseWhiteSpace]);\n\n    markup = markup.slice(index);\n  }\n\n  return elements;\n\n  function throwUnexpectedError() {\n    throw new ParsingError(`Unexpected parsing error near index ${ nearString(startMarkup, globalIndex) }. ${ submitString }`);\n  }\n};\n\nfunction find(markup, elem) {\n  const { name } = elem;\n  let matches;\n\n  if (rawTextSwitcher(name)) {\n    matches = new Super({\n      'tag-close': markup.match(constructCloseTagRegExp(name))\n    });\n  } else {\n    matches = NODE_REGEX_SET.map((regex) => (\n      markup.match(regex)\n    ));\n  }\n\n  let match;\n\n  if (\n    match = matches.find((match) => (\n      match && match.index === 0\n    ))\n  ) {\n    const returning = {\n      type: match.key,\n      index: match.value[0].length,\n      value: match.value[1]\n    };\n    const attrs = {};\n\n    if (match.key === 'tag-open') {\n      const startMarkup = markup;\n      let closeMatch;\n\n      returning.selfClosing = false;\n      returning.attrs = attrs;\n\n      while (\n        (markup = startMarkup.slice(returning.index)) &&\n        !(closeMatch = markup.match(TAG_OPEN_CLOSE))\n      ) {\n        const attr = markup.match(ATTRIBUTE);\n\n        if (!attr) {\n          returning.index += 1;\n\n          continue;\n        }\n\n        attrs[attr[1]] = isUndefined(attr[2])\n          ? true\n          : attr[2].replace(/^(\"|')|(\"|')$/g, '');\n        returning.index += attr[0].length;\n      }\n\n      if (closeMatch) {\n        returning.index += closeMatch[0].length;\n        returning.selfClosing = !!closeMatch[1];\n      }\n    }\n\n    return returning;\n  }\n\n  let { value: index } = matches.min((match) => (\n    match ? match.index : NaN\n  ));\n\n  if (index === Infinity) {\n    index = markup.length;\n  }\n\n  return {\n    type: 'text',\n    index,\n    value: markup.slice(0, index)\n  };\n}\n\nfunction constructCloseTagRegExp(tagName) {\n  return new RegExp(`</(${ tagName })\\\\s*>`, 'i');\n}\n\nfunction nearString(markup, index) {\n  return `${ index } (~~~ \"${ markup.slice(index, index + 15) }\" ~~~, the string itself is \"${ markup }\")`;\n}\n\nfunction parseCharacterData(string) {\n  return string.replace(/&(\\w+|#x?\\d+);/g, (match) => {\n    div.innerHTML = match;\n\n    return div.textContent || div.innerText;\n  });\n}\n","/**\n * @module Elem\n * @private\n * @mixin\n * @description Exports Elem class.\n */\n\nimport { Super } from './Super';\nimport { Arr, array, iterate as times } from './Arr';\nimport { blob } from './BlobObject';\nimport { method } from './Func';\nimport { Promise } from './Promise';\nimport { Str } from './Str';\nimport { switcher } from './Switcher';\nimport {\n  constructors, appliedRegExps, htmlElements, svgElements,\n  canvasGetMethods, canvasRestMethods\n} from './constants';\nimport {\n  isArray, isArrayLike, isElement, isFunction,\n  isInteger, isNil, isNumber, isNull, isString,\n  assign, dynamicDefineProperties, defineProperties, toArray,\n  validate, toStringTag, iterate, Symbol\n} from './helpers';\nimport markupToJSON from './helpers/markupToJSON';\n\n/**\n * @typedef {String} ElemEventString\n * @public\n * @description A string containing events separated by a comma with zero or more spaces or just spaces.\n */\n\n/**\n * @callback ElemValueCallback\n * @public\n * @param {String} value - Old value.\n * @param {Elem} elem - Current element.\n * @param {Number} index - Index in the set of the elements.\n */\n\n/**\n * @callback ElemSetOfCallback\n * @public\n * @param {Element} created - Created element.\n * @param {*} value - Value of the iterated element in the object.\n * @param {Key} key - Key of the iterated element in the object.\n * @param {*} object - Object that is iterated over.\n * @param {Element} elem - Current element.\n * @param {Number} index - Index of the current element.\n */\n\n/**\n * @callback ValidateCallback\n * @public\n * @param {*} value - Element value.\n * @param {Element} elem - Element to validate.\n * @param {Number} index - Index of the element.\n */\n\n/**\n * @callback CtxCallback\n * @public\n * @param {CanvasRenderingContext2D} ctx - Canvas rendering context.\n */\n\n/**\n * @callback ElemListener\n * @public\n * @param {Event} e - Fired event.\n * @param {Element} elem - Element on which the listener was called.\n * @param {Number} index - Index of the element on which the listener was called.\n */\n\n/**\n * @callback ElemRemoveListeners\n * @public\n * @param {...ElemEventString} events - If at least one argument present only removes event listeners specified\n * by the events in the arguments.\n */\n\nconst nativeDocument = global.document;\nconst emptyDiv = nativeDocument.createElement('div');\nconst eventSeparator = /(,| ) */;\nconst textProperty = new Super(Node.prototype).propertyDescriptor('textContent') ? 'textContent' : 'innerText';\nconst classes = {};\nconst attrs = {};\nconst windowsDwayneData = new Arr([]);\nconst inputElements = 'input, select, textarea, datalist, keygen, output';\nconst click = method('click');\nconst svgNS = 'http://www.w3.org/2000/svg';\nconst xmlNS = 'http://www.w3.org/2000/xmlns/';\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xhtmlNS = 'http://www.w3.org/1999/xhtml';\nconst typeSwitcher = switcher('call', (elem, type) => {\n  const ns = type === 'svg'\n    ? svgNS\n    : elem.prop('namespaceURI') || nativeDocument.documentElement.namespaceURI || xhtmlNS;\n\n  return nativeDocument.createElementNS(ns, type);\n})\n  .case(\n    (type) => type === '#comment',\n    () => nativeDocument.createComment('')\n  )\n  .case(\n    (type) => type === '#text',\n    () => nativeDocument.createTextNode('')\n  );\nconst refSwitcher = switcher('strictEquals', 'href')\n  .case(\n    ['img', 'script', 'iframe', 'audio', 'video'],\n    'src'\n  )\n  .case(\n    'form',\n    'action'\n  );\nconst filterSwitcher = switcher('call', (selector) => selector)\n  .case(\n    isString,\n    (selector) => (\n      (elem) => new Elem(elem).is(selector)\n    )\n  )\n  .case(\n    [isArray, isElem],\n    (elems) => {\n      elems = new Arr(elems);\n\n      return (elem) => elems.indexOf(elem) !== -1;\n    }\n  );\nconst innerSwitcher = switcher('strictEquals', 0)\n  .case('padding-box', (paddings) => paddings)\n  .case('border-box', (paddings, borders) => paddings + borders);\nconst outerSwitcher = switcher('strictEquals', (borders, paddings) => borders + paddings)\n  .case('padding-box', (borders) => borders)\n  .case('border-box', 0);\nconst attrNSSwitcher = switcher('call', null)\n  .case((attr) => attr === 'xmlns' || attr === 'xmlns:xlink', (elem) => (\n    elem.name === 'svg'\n      ? xmlNS\n      : null\n  ))\n  .case((attr) => /^xlink:\\w/.test(attr), (elem) => (\n    elem.closest('svg').length\n      ? xlinkNS\n      : null\n  ));\n\n/**\n * @class Elem\n * @extends Arr\n * @public\n * @param {Element|Element[]} [elem = []] - An element or an array of elements to wrap.\n * @returns {Elem} Instance of Elem.\n * @description Wrap of an elements set. Also has all methods from from\n * [CanvasRenderingContext2D]{@link https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D}.\n * Getters methods return the same as methods from CanvasRenderingContext2D and the rest return this.\n * Work for the first canvas element in the set.\n *\n * @example\n * new Elem(document.body);\n * new Elem(document.querySelectorAll('.cls'));\n * new Elem(document.getElementsByClassName('cls'));\n */\nclass Elem extends Arr {\n  constructor(elem = []) {\n    super((() => {\n      let element = elem;\n\n      if (isArrayLike(element) && (\n        isWindow(element) ||\n        isHTMLDocument(element) ||\n        isDocumentFragment(element) ||\n        isElement(element) ||\n        isCommentOrText(element) ||\n        isStyleRule(element)\n      )) {\n        element = [element];\n      }\n\n      return new Arr(toArray(new Super(element).$, true)).object((elems, elem) => {\n        if (elems.indexOf(elem) === -1 && (\n          isElement(elem) ||\n          isWindow(elem) ||\n          isHTMLDocument(elem) ||\n          isDocumentFragment(elem) ||\n          isCommentOrText(elem) ||\n          isStyleRule(elem)\n        )) {\n          return elems.push(elem);\n        }\n\n        if (isElem(elem)) {\n          elems.push.apply(elems, elem.$);\n        }\n      }, []).$;\n    })());\n\n    this.$$ = elem;\n\n    this.forEach(addDwayneData);\n\n    /**\n     * @member {Array.<Node|Window>} Elem#$\n     * @type {Array.<Node|Window>}\n     * @public\n     * @description Constructed element set.\n     */\n\n    /**\n     * @member {*} Elem#$$\n     * @type {*}\n     * @public\n     * @description Initial element set.\n     */\n  }\n\n  /**\n   * @method Elem#add\n   * @public\n   * @param {...(String|Elem|Element|Element[])} elements - Each argument is a selector, or Elem, or Element, or array of Elements.\n   * @returns {Elem} Returns this.\n   * @description Method for adding new elements to the set.\n   *\n   * @example\n   * elem1.find('.cls1')\n   *   .add(elem2.find('.cls2'))\n   *   .hide();\n   */\n  add(...elements) {\n    iterate(arguments, (elem) => {\n      toFind(elem).forEach((elem) => {\n        if (this.indexOf(elem) === -1) {\n          this.push(elem);\n        }\n      });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#addClass\n   * @public\n   * @param {...String} classes - Classes to add.\n   * @returns {Elem} Returns this.\n   * @description Method for adding classes to the all the elements in the set.\n   *\n   * @example\n   * elem.addClass('red', 'round');\n   */\n  addClass(...classes) {\n    return this.forEach((elem) => {\n      const list = elem.classList;\n\n      iterate(isElement(elem) && arguments, (cls) => list.add(cls));\n    });\n  }\n\n  /**\n   * @method Elem#addComment\n   * @public\n   * @param {String} text - Text of comment to add.\n   * @param {Boolean} end - If the comment should be inserted to the end. If false it's inserted to the start.\n   * @returns {Elem} Returns this.\n   * @description Method for adding comment to all the elements in the set.\n   *\n   * @example\n   * elem.addHTML('<div>1</div>');\n   */\n  addComment(text, end = true) {\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.insertAdjacentHTML(end ? 'beforeend' : 'afterbegin', `<!--${ text }-->`);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#addHTML\n   * @public\n   * @param {String} html - HTML to add.\n   * @param {Boolean} end - If the HTML should be inserted to the end. If false it's inserted to the start.\n   * @returns {Elem} Returns this.\n   * @description Method for adding HTML to all the elements in the set.\n   *\n   * @example\n   * elem.addHTML('<div>1</div>');\n   */\n  addHTML(html, end = true) {\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.insertAdjacentHTML(end ? 'beforeend' : 'afterbegin', html);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#addRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @param {String} selector - Selector for the rule\n   * @param {Object.<String, String>} style - Style for the selector.\n   * @returns {Elem} Returns this.\n   * @description Method for adding css styles into the first style tag in the set.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.addRule('img-size', 'img.square', {\n   *   width: '40px !important',\n   *   height: '40px !important'\n   * });\n   */\n  addRule(name, selector, style) {\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const { sheet } = elem;\n        const { length } = sheet.cssRules;\n        const rules = new Super(style).word((value, property) => (\n          `${ new Str(property).toHyphenCase() }: ${ value };\\n`\n        ));\n\n        sheet.insertRule(\n          `${ selector } {${ rules && '\\n' }${ rules }}`,\n          length\n        );\n        sheet.cssRules[length].dwayneData = { name };\n\n        return true;\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#addText\n   * @public\n   * @param {String} text - Text to add.\n   * @param {Boolean} end - If the text should be inserted to the end. If false it's inserted to the start.\n   * @returns {Elem} Returns this.\n   * @description Method for adding text to all the elements in the set.\n   *\n   * @example\n   * elem.addText('123');\n   */\n  addText(text, end = true) {\n    return this.forEach((elem) => {\n      new Elem(nativeDocument.createTextNode(text)).into(elem, end);\n    });\n  }\n\n  /**\n   * @method Elem#apply\n   * @public\n   * @param {...String} strings - Strings to apply.\n   * @returns {Elem} Returns this.\n   * @description Method that is a shorthand for many other methods.\n   * All shorthands can be separated with space and written within one string.\n   *\n   * @example\n   * elem.apply(\n   *   '#id .c1 .c2 @border(1px solid black) $disabled $attr(some value) *(Click me!)'\n   * );\n   * // shorthand for\n   * // elem\n   * //   .id('id')\n   * //   .addClass('c1', 'c2')\n   * //   .css('border', '1px solid black')\n   * //   .attr({\n   * //     attr, 'some value'\n   * //     disabled: ''\n   * //   })\n   * //   .text('Click me!');\n   * // There is a full list of possible types of syntax below...\n   *\n   * elem.apply('#id');                    // shorthand for elem.id('id');\n   * elem.apply('.c1 .c2');                // shorthand for elem.addClass('c1', 'c2');\n   * elem.apply('-.c1 -.c2');              // shorthand for elem.removeClass('c1', 'c2');\n   * elem.apply('-@float -@display');      // shorthand for elem.removeCSS('float', 'display');\n   * elem.apply('-$a1 -$a2');              // shorthand for elem.removeAttr('a1', 'a2');\n   * elem.apply('*(some text)');           // shorthand for elem.text('some text');\n   * elem.apply('&(<div>1</div>)');        // shorthand for elem.html('<div>1</div>');\n   * elem.apply('@float(right)');          // shorthand for elem.css('float', 'right');\n   * elem.apply('@transform(scale(5px))'); // shorthand for elem.css('transform', 'scale(5px)');\n   * elem.apply('@margin(2px 2px)');       // shorthand for elem.css('margin', '2px 2px');\n   * elem.apply('@marginLeft(2px)');       // shorthand for elem.css('marginLeft', '2px 2px');\n   * elem.apply('@margin-left(2px)');      // shorthand for elem.css('margin-left', '2px 2px');\n   * elem.apply('$attr(some value)');      // shorthand for elem.attr('attr', 'some value');\n   * elem.apply('$attr');                  // shorthand for elem.attr('attr', '');\n   */\n  apply(...strings) {\n    let applied;\n    let setApplied;\n    let callback;\n    let name;\n    let np1;\n    let slice;\n\n    new Str(new Arr(arguments).join(' '))\n      .split(/(\\s+)/)\n      .forEach((string) => {\n        if (!applied) {\n          np1 = string.slice(0, 1);\n          callback = appliedRegExps[np1];\n          slice = 1;\n\n          if (callback && !isFunction(callback)) {\n            callback = callback[string.slice(1, 2)];\n            slice = 2;\n          }\n\n          if (/^\\s+$/.test(string) || !callback) {\n            return;\n          }\n\n          name = string.slice(slice).match(/^[^()]+/);\n\n          if (!name && (np1 !== '*' && np1 !== '&')) {\n            return;\n          }\n\n          applied = {\n            name: name ? name[0] : '',\n            args: string.slice(slice + (name ? name[0] : '').length),\n            callback\n          };\n\n          setApplied = true;\n        }\n\n        if (!setApplied) {\n          applied.args += string;\n        }\n\n        if (!applied.args || /^\\([\\s\\S]+\\)$/.test(applied.args)) {\n          applied.callback(this, applied.name, applied.args.replace(/^\\(|\\)$/g, ''));\n          applied = null;\n        }\n\n        setApplied = false;\n      });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#attr\n   * @public\n   * @param {String|Object.<String, String|ElemValueCallback>} [attr] - Name of the attribute to get or\n   * an object of the format { [attrName]: value, ... } to set attributes.\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string\n   * it should be a value to set for that attribute.\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of attributes of the first element in the set\n   * returned, if 1 string argument is passed the value of the attribute of the first element in the set\n   * returned otherwise returns this.\n   * @description Method for getting/setting attributes.\n   *\n   * @example\n   * elem.attr('attr1', 'value1'); // attribute attr1 set to 'value1' and this returned\n   * elem.attr('attr1');           // 'value1'\n   * elem.attr({\n   *   attr1: 'value3',            // attribute attr1 set to 'value3'\n   *   attr2: 'value2'             // attribute attr2 set to 'value2'\n   * });                           // this returned\n   * elem.attr().$;                // { attr1: 'value3', attr2: 'value2' }\n   */\n  attr(attr, value) {\n    const elem = getElem(this);\n\n    if (!arguments.length) {\n      return new Super(elem.attributes).object((o, attr) => {\n        o[attr.name] = attr.value;\n      });\n    }\n\n    if (arguments.length <= 1 && isString(attr)) {\n      const ns = attrNSSwitcher(attr, [new Elem(elem)]);\n\n      return isNull(ns)\n        ? elem.getAttribute(attr)\n        : elem.getAttributeNS(ns, attr);\n    }\n\n    if (arguments.length >= 2) {\n      attr = { [attr]: value };\n    }\n\n    return this.forEach((elem, index) => {\n      if (!isElement(elem)) {\n        return;\n      }\n\n      new Super(attr).forEach((value, key) => {\n        if (isNil(value) || value === false) {\n          return new Elem(elem).removeAttr(key);\n        }\n\n        if (isFunction(value)) {\n          value = value(new Elem(elem).attr(key), elem, index);\n        }\n\n        if (isNil(value) || value === false) {\n          return new Elem(elem).removeAttr(key);\n        }\n\n        value = value === true ? '' : value;\n\n        const ns = attrNSSwitcher(key, [new Elem(elem)]);\n\n        if (isNull(ns)) {\n          elem.setAttribute(key, value);\n        } else {\n          elem.setAttributeNS(ns, key, value);\n        }\n      });\n    });\n  }\n\n  /**\n   * @method Elem#blob\n   * @public\n   * @param {Object} [options = {}] - Options that are passed into {@link blob}.\n   * @returns {Promise.<BlobObject>} New instance of promise.\n   * @description Returns a {@link BlobObject} Promise. Works with image or canvas first element.\n   *\n   * @example\n   * image.blob().then((blob) => console.log(blob));  // BlobObject\n   * canvas.blob().then((blob) => console.log(blob)); // BlobObject\n   */\n  blob(options = {}) {\n    return new Promise((resolve, reject) => {\n      const elem = this.first();\n      const { name } = elem;\n\n      if (name !== 'img' && name !== 'canvas') {\n        reject(new Error('First element in the set isn\\'t an image or a canvas! (Elem#blob)'));\n      }\n\n      if (name === 'canvas') {\n        return resolve(elem);\n      }\n\n      elem\n        .load()\n        .then(() => {\n          if (elem.isBroken()) {\n            return reject(new Error('The image is broken! (Elem#blob)'));\n          }\n\n          const canvas = new Elem(nativeDocument).canvas();\n          const width = elem.width();\n          const height = elem.height();\n\n          canvas\n            .width(width)\n            .height(height)\n            .drawImage(elem.$[0], 0, 0);\n\n          resolve(canvas);\n        });\n    }).then((canvas) => {\n      const dataURL = canvas.dataURL();\n      const byteString = atob(dataURL.split(',')[1]);\n      const length = byteString.length;\n      const ab = new ArrayBuffer(length);\n      const ia = new Uint8Array(ab);\n\n      times(length, (i) => {\n        ia[i] = byteString.charCodeAt(i);\n      });\n\n      return blob(ab, options);\n    });\n  }\n\n  /**\n   * @method Elem#blur\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/blur\n   * @description Synonym for\n   * [HTMLElement#blur]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/blur}.\n   */\n  blur() {\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.blur();\n      }\n    });\n  }\n\n  /**\n   * @method Elem#calcCSS\n   * @param {String} [pseudo] - See the link.\n   * @returns {CSSStyleDeclaration} See the link.\n   * @see https://developer.mozilla.org/en/docs/Web/API/Window/getComputedStyle\n   * @description Synonym for\n   * [getComputedStyle]{@link https://developer.mozilla.org/en/docs/Web/API/Window/getComputedStyle}.\n   * Returns computed style for the first element in the set or undefined.\n   */\n  calcCSS(pseudo = null) {\n    return getComputedStyle(getElem(this), pseudo);\n  }\n\n  /**\n   * @method Elem#changeRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @param {Object.<String, String>} style - Style for the selector.\n   * @returns {Elem} Returns this.\n   * @description Method for changing css styles in the first style tag in the set.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.changeRule('img-size', {\n   *   width: '50px !important',\n   *   height: '50px !important'\n   * });\n   */\n  changeRule(name, style) {\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const { value: rule } = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name) || {};\n\n        if (rule) {\n          new Elem(rule).css(style);\n\n          return true;\n        }\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#child\n   * @public\n   * @param {Number|String|Elem|Element|Element[]} element - If the argument is a number a wrap of the set of the children\n   * of this index of each element in the set returned otherwise an element to put into this element, a collection\n   * or a selector of it.\n   * @param {Boolean} end - If the elements should be inserted to the end. If false they are inserted to the start.\n   * @returns {Elem} Returns a wrap of children or inserted elements.\n   * @description Method is similar to\n   * [Node#appendChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/appendChild}.\n   *\n   * @example\n   * const child = elem.child(1);\n   *\n   * elem.child(elem2);\n   * elem.child(document.getElementById('id'));\n   * elem.child('#id div.c1');\n   */\n  child(element, end = true) {\n    if (isInteger(element) && element >= 0) {\n      return this.children().elem(element);\n    }\n\n    return toFind(element).into(this, end);\n  }\n\n  /**\n   * @method Elem#children\n   * @public\n   * @returns {Elem} D-Wrap of the children of the first element in the set.\n   * @description Method for getting element's children.\n   *\n   * @example\n   * const children = elem.children();\n   */\n  children() {\n    return new Elem(this.length ? this.$[0].childNodes : []);\n  }\n\n  /**\n   * @method Elem#class\n   * @public\n   * @param {String} [cls] - If it's present it has to contain class attribute to set.\n   * @returns {Arr|Elem} If the argument is present this returned otherwise a wrap of the classes array returned.\n   * @description Method for getting/setting classes.\n   *\n   * @example\n   * elem.class('c1 c2'); // class set to 'c1 c2'\n   * elem.class().$;      // ['c1', 'c2']\n   */\n  class(cls) {\n    if (!arguments.length) {\n      return new Arr(getElem(this).className.split(' '));\n    }\n\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.className = cls;\n      }\n    });\n  }\n\n  /**\n   * @method Elem#click\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/click\n   * @description Synonym for\n   * [HTMLElement#click]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/click}.\n   */\n  click() {\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.click();\n      }\n    });\n  }\n\n  /**\n   * @method Elem#clone\n   * @public\n   * @param {Boolean|*} [deep = false] - See thee link.\n   * @returns {Elem} New instance of Elem.\n   * @see https://developer.mozilla.org/en/docs/Web/API/Node/cloneNode\n   * @description Synonym for\n   * [Node#cloneNode]{@link https://developer.mozilla.org/en/docs/Web/API/Node/cloneNode}.\n   */\n  clone(deep = false) {\n    return this.object((elems, elem) => {\n      elems.add(elem.cloneNode(!!deep));\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#closest\n   * @public\n   * @param {String} selector - See the link.\n   * @returns {Elem} Set of the closest elements.\n   * @description Synonym for\n   * [Element#closest]{@link https://developer.mozilla.org/en/docs/Web/API/Element/closest}.\n   */\n  closest(selector) {\n    return this.object((elems, elem) => {\n      while (elem) {\n        if (new Elem(elem).is(selector)) {\n          return elems.add(elem);\n        }\n\n        elem = elem.parentNode;\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#contains\n   * @public\n   * @param {String|Elem|Element} element - Element to find out if it's within the first element\n   * in the set or a selector of it.\n   * @returns {Boolean} Returns if the argument within this element.\n   * @description Method is extension for\n   * [Node#contains]{@link https://developer.mozilla.org/en/docs/Web/API/Node/contains}.\n   *\n   * @example\n   * elem1.contains(elem2);   // true|false\n   * elem.contains(selector); // true|false\n   */\n  contains(element) {\n    element = toFind(element);\n\n    return getElem(this).contains(getElem(element));\n  }\n\n  /**\n   * @method Elem#create\n   * @public\n   * @param {String} type - Type of created element. If type is \"#text\" a text node is created.\n   * If type is \"#comment\" a comment node is created.\n   * @param {...String} appliedExpressions - Strings that are passed into {@link Elem#apply}.\n   * @returns {Elem} New instance of Elem - wrap of the created elements.\n   * @description Method for creating elements inside this element.\n   * If this element is not an Element the element is just created.\n   *\n   * @example\n   * elem.create('div', '#id .c1 .c2 *Some text*');\n   *\n   * // also there are shorthands for almost every HTML-element\n   * elem.div();\n   * elem.input('$type(checkbox) $name(country)');\n   */\n  create(type, ...appliedExpressions) {\n    return this.object((elems, elem) => {\n      const element = new Elem(typeSwitcher(type, [new Elem(elem)]));\n\n      element.into(elem);\n\n      elems.add(element.apply.apply(element, appliedExpressions));\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#createComment\n   * @public\n   * @param {String} text - Text of the comment.\n   * @returns {Elem} New instance of Elem - wrap of the created comments.\n   * @description Method for creating comments inside this element.\n   * If this element is not an Element the comment is just created.\n   *\n   * @example\n   * elem.createComment('comment');\n   */\n  createComment(text) {\n    return this\n      .create('#comment')\n      .text(text);\n  }\n\n  /**\n   * @method Elem#createText\n   * @public\n   * @param {String} text - Text.\n   * @returns {Elem} New instance of Elem - wrap of the created text nodes.\n   * @description Method for creating text nodes inside this element.\n   * If this element is not an Element the text node is just created.\n   *\n   * @example\n   * elem.createText('text');\n   */\n  createText(text) {\n    return this\n      .create('#text')\n      .text(text);\n  }\n\n  /**\n   * @method Elem#css\n   * @public\n   * @param {String|Object.<String, String|ElemValueCallback>} [property] - Name of the property to get or\n   * an object of the format { [property]: value, ... } to set styles.\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string it should be a value to set for that property.\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of css styles of the element returned,\n   * if 1 string argument is passed the value of the property returned otherwise returns this.\n   * @description Method for getting/setting styles. Supports !important.\n   *\n   * @example\n   * elem.css('display', 'none'); // display set to 'none' and this returned\n   * elem.css('display');         // 'none'\n   * elem.css({\n   *   display: 'inline',         // display set to 'inline'\n   *   cursor: 'pointer'          // cursor set to 'pointer'\n   * });                          // this returned\n   * elem.css().$;                // { display: 'none', cursor: 'pointer' }\n   */\n  css(property, value) {\n    let style = getElem(this).style;\n\n    if (isStyleRule(this.$[0])) {\n      style = this.$[0].style;\n    }\n\n    if (!arguments.length) {\n      return new Str(style.cssText)\n        .split(/; ?/)\n        .object((o, value) => {\n          if (value) {\n            property = value.split(/: /);\n\n            o[new Str(property[0]).toCamelCase().$] = property[1];\n          }\n        });\n    }\n\n    if (arguments.length <= 1 && isString(property)) {\n      property = new Str(property).toHyphenCase().$;\n\n      return style.getPropertyValue(property) + (style.getPropertyPriority(property) ? ' !important' : '');\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.forEach((elem, index) => {\n      if (!isElement(elem) && !isStyleRule(elem)) {\n        return;\n      }\n\n      new Super(property).forEach((value, property) => {\n        if (isNil(value)) {\n          return new Elem(elem).removeCSS(property);\n        }\n\n        property = new Str(property).toHyphenCase().$;\n\n        if (isFunction(value)) {\n          value = value(new Elem(elem).css(property), elem, index);\n        }\n\n        if (isNil(value)) {\n          return new Elem(elem).removeAttr(key);\n        }\n\n        elem.style.removeProperty(property);\n        elem.style.setProperty(\n          property,\n          value.replace(/ ?!important$/, ''),\n          /!important$/.test(value) ? 'important' : ''\n        );\n      });\n    });\n  }\n\n  /**\n   * @method Elem#ctx\n   * @public\n   * @param {String|Object|CtxCallback} [property] - If present and object\n   * it's assigned to the canvas rendering context, if function\n   * it's called with canvas rendering context argument, if string\n   * the value from the second argument is used for assigning\n   * this property to canvas rendering context and if not present\n   * canvas rendering context returned.\n   * @param {*} [value] - See the property argument.\n   * @returns {CanvasRenderingContext2D|Elem}\n   * @description Rendering context of the first canvas in the set.\n   *\n   * @example\n   * canvas.ctx; // CanvasRenderingContext2D\n   */\n  ctx(property, value) {\n    let ctx;\n\n    this.some((elem) => {\n      if (getName(elem) === 'canvas') {\n        ctx = elem.dwayneData.ctx;\n\n        return true;\n      }\n    });\n\n    if (!arguments.length) {\n      return ctx;\n    }\n\n    if (!ctx) {\n      return this;\n    }\n\n    if (isFunction(property)) {\n      property(ctx);\n    } else {\n      if (arguments.length >= 2) {\n        property = { [property]: value };\n      }\n\n      assign(ctx, property);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Elem#data\n   * @public\n   * @param {String|Object.<String, String|ElemValueCallback>} [key] - Name of the data attribute (without data- prefix)\n   * to get or an object of the format { [attrName]: value, ... } to set attributes.\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string it should be a value to set for that attribute.\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of dataset of the element returned,\n   * if 1 string argument is passed the value of the data attribute returned otherwise returns this.\n   * @description Method for getting/setting data attributes. See\n   * [HTMLElement#dataset]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/dataset}.\n   *\n   * @example\n   * elem.data('someKey1', 'value'); // attribute data-some-key1 set to 'value1' and this returned\n   * elem.data('someKey1');          // 'value1'\n   * elem.data({\n   *   someKey1: 'value3',           // attribute data-some-key1 set to 'value3'\n   *   someKey2: 'value2'            // attribute data-some-key2 set to 'value2'\n   * });                             // this returned\n   * elem.data().$;                  // { someKey1: 'value3', someKey2: 'value2' }\n   */\n  data(key, value) {\n    const dataset = getElem(this).dataset;\n\n    if (!arguments.length) {\n      return new Super(dataset).object((o, value, key) => {\n        o[key] = value;\n      });\n    }\n\n    if (arguments.length === 1 && isString(key)) {\n      return dataset[key];\n    }\n\n    if (arguments.length >= 2) {\n      key = { [key]: value };\n    }\n\n    return this.forEach((elem, index) => {\n      if (!isElement(elem)) {\n        return;\n      }\n\n      iterate(key, (value, key) => {\n        elem.dataset[key] = isFunction(value) ? value(elem.dataset[key], elem, index) : value;\n      });\n    });\n  }\n\n  /**\n   * @method Elem#dataURL\n   * @param {String} [type = 'image/png'] - See the link\n   * @param {Number} [encoderOptions = 0.92] - See the link.\n   * @returns {String} Data URL for the first canvas element in the set.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/toDataURL\n   * @description Synonym for\n   * [HTMLCanvasElement#toDataURL]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/toDataURL}.\n   *\n   * @example\n   * canvas.dataURL();\n   */\n  dataURL(type, encoderOptions) {\n    const ctx = this.ctx();\n\n    if (!ctx) {\n      return '';\n    }\n\n    return ctx.canvas.toDataURL.apply(ctx.canvas, arguments);\n  }\n\n  /**\n   * @method Elem#deleteRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @returns {Elem} Returns this.\n   * @description Method for deleting css styles in a style tag.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.deleteRule('img-size');\n   */\n  deleteRule(name) {\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const rule = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name);\n\n        if (rule) {\n          elem.sheet.deleteRule(rule.key);\n\n          return true;\n        }\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#dispatch\n   * @public\n   * @param {String|Event} event - Event or a string (new Event(event) is created).\n   * @param {Object} [eventInit = {}] - See the link.\n   * @param {Boolean} [eventInit.bubbles = true] - See the link.\n   * @param {Boolean} [eventInit.cancelable = true] - See the link.\n   * @param {Object} [details = {}] - Object that is assigned to the event.\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/Event/Event\n   * @description Synonym for\n   * [EventTarget#dispatchEvent]{@link https://developer.mozilla.org/en/docs/Web/API/EventTarget/dispatchEvent}.\n   *\n   * @example\n   * elem.dispatch('click');\n   * elem.dispatch('click', { bubbles: false, cancellable: false });\n   * elem.dispatch(new CustomEvent('custom-event'));\n   */\n  dispatch(event, eventInit = {}, details = {}) {\n    const { bubbles = true, cancelable = true } = eventInit || {};\n    let finalEvent = event;\n\n    if (!/Event$/.test(toStringTag(finalEvent))) {\n      try {\n        finalEvent = new Event(finalEvent, { bubbles, cancelable });\n      } catch (err) {\n        finalEvent = nativeDocument.createEvent('Event');\n        finalEvent.initEvent(event, bubbles, cancelable);\n      }\n\n      assign(finalEvent, details);\n    }\n\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.dispatchEvent(finalEvent);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#elem\n   * @public\n   * @param {Number} [index = 0] - Index of the element of the set to get. Negative index means elem.length + index.\n   * @returns {Elem} New instance of Elem.\n   *\n   * @example\n   * elem.elem(1); // a wrap of the element in the set that has index 1\n   * elem.elem();  // a wrap of the element in the set that has index 0\n   */\n  elem(index = 0) {\n    if (index < 0) {\n      index = this.length + index;\n    }\n\n    return new Elem(this.$[index]);\n  }\n\n  /**\n   * @method Elem#filter\n   * @public\n   * @param {String|Function|Element[]|Elem} [selector = Boolean] - If it's a string the method filters elements with the selector\n   * otherwise super.filter is called.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for filtering elements.\n   *\n   * @example\n   * elem.filter((elem) => new Elem(elem).closest('.parent'));\n   * elem.filter(elemsInArray);\n   * elem.filter(elemsInElem);\n   * elem.filter('.child');\n   */\n  filter(selector = Boolean) {\n    return new Elem(super.filter(filterSwitcher(selector)));\n  }\n\n  /**\n   * @method Elem#find\n   * @public\n   * @param {String|Function} selector - Selector to find.\n   * @returns {Elem|{ key: Key, value: * }|null} New instance of Elem if selector is a string\n   * otherwise super.find is called.\n   * @description Synonym for\n   * [Element#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Element/querySelectorAll}.\n   */\n  find(selector) {\n    if (!isString(selector)) {\n      return super.find(selector);\n    }\n\n    return this.object((elems, elem) => {\n      elems.add(find(selector, elem));\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#first\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Synonym for elem.elem(0).\n   */\n  first() {\n    return this.elem(0);\n  }\n\n  /**\n   * @method Elem#firstChild\n   * @public\n   * @param {String} [selector = null] - If present, finds first child in every elem that matches the selector.\n   * If not, finds first child of each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding first children of each element in the set.\n   *\n   * @example\n   * elem.first();       // finds first child of each element in the elem set\n   * elem.first('.foo'); // find first child that has foo class of each element in the set\n   */\n  firstChild(selector = null) {\n    return this.object((elems, elem) => {\n      const { value: found } = new Elem(elem)\n        .children()\n        .find((elem) => new Elem(elem).is(selector)) || {};\n\n      elems.add(found);\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#focus\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/focus\n   * @description Synonym for\n   * [HTMLElement#focus]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/focus}.\n   */\n  focus() {\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.focus();\n      }\n    });\n  }\n\n  /**\n   * @method Elem#getRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @returns {{ selector: (String|void), rules: Object }} Set of the css rules.\n   * @description Method for getting set of the rules under the name.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.addRule('img-size', 'img.square', {\n   *   width: '40px',\n   *   height: '40px'\n   * });\n   * style.getRule('img-size');\n   * // {\n   * //   selector: 'img.square',\n   * //   rules: {\n   * //     width: '40px',\n   * //     height: '40px'\n   * //   }\n   * // }\n   */\n  getRule(name) {\n    let found = {\n      selector: undefined,\n      rules: {}\n    };\n\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const { value: rule } = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name) || {};\n\n        if (rule) {\n          found = {\n            selector: rule.selectorText,\n            rules: new Elem(rule).css().$\n          };\n\n          return true;\n        }\n      }\n    });\n\n    return found;\n  }\n\n  /**\n   * @method Elem#hasAttr\n   * @public\n   * @param {String} attr - Name of the attribute.\n   * @returns {Boolean} If the first element in the set has the attribute.\n   * @description Method that returns if the first element in the set has the attribute or not.\n   *\n   * @example\n   * elem.attr('attr', 'value').hasAttr('attr'); // true\n   * elem.removeAttr('attr').hasAttr('attr');    // false\n   */\n  hasAttr(attr) {\n    const elem = getElem(this);\n    const ns = attrNSSwitcher(attr, [new Elem(elem)]);\n\n    return isNull(ns)\n      ? elem.hasAttribute(attr)\n      : elem.hasAttributeNS(ns, attr);\n  }\n\n  /**\n   * @method Elem#hasClass\n   * @public\n   * @param {String} cls - Name of the class.\n   * @returns {Boolean} If the first element in the set has the class.\n   * @description Method that returns if the first element in the set has the class or not.\n   *\n   * @example\n   * elem.addClass('cls').hasClass('cls');    // true\n   * elem.removeClass('cls').hasClass('cls'); // false\n   */\n  hasClass(cls) {\n    return getElem(this).classList.contains(cls);\n  }\n\n  /**\n   * @method Elem#height\n   * @public\n   * @param {*|ElemValueCallback} [height] - Height to set.\n   * @returns {Elem|String} If no arguments passed height of the first element in the set returned.\n   * Otherwise all elements heights in the set are set to the height argument.\n   * @description Gets or sets height.\n   *\n   * @example\n   * elem.height(123);\n   * elem.height(); // 123\n   */\n  height(height) {\n    return this.prop.apply(this, new Arr(arguments).unshift('height').$);\n  }\n\n  /**\n   * @method Elem#hide\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Hides all elements in the set.\n   *\n   * @example\n   * elem.hide();\n   */\n  hide() {\n    return this.forEach((elem) => {\n      elem = new Elem(elem);\n\n      const currentDisplay = elem.css('display');\n\n      if (currentDisplay.indexOf('none')) {\n        elem.prop('dwayneData').previousDisplay = currentDisplay;\n      }\n\n      elem.css('display', 'none !important');\n    });\n  }\n\n  /**\n   * @method Elem#html\n   * @public\n   * @param {String|ElemValueCallback|*} [html] - HTML to write instead of current HTML.\n   * @returns {Elem|String} If no arguments passed HTML of the first element in the set returned.\n   * Otherwise all elements HTML in the set are set to the html argument.\n   * @description Gets or sets HTML.\n   *\n   * @example\n   * elem.html('<div>1</div>');\n   * elem.html(); // '<div>1</div>'\n   */\n  html(html) {\n    if (!arguments.length) {\n      return getElem(this).innerHTML;\n    }\n\n    return this.forEach((elem, index) => {\n      if (isElement(elem)) {\n        elem.innerHTML = isFunction(html) ? html(elem.innerHTML, elem, index) : html;\n      }\n    });\n  }\n\n  /**\n   * @method Elem#id\n   * @public\n   * @param {String|*} [id] - Id to set.\n   * @returns {Elem|String} If no arguments passed id of the first element in the set returned.\n   * Otherwise all elements ids in the set are set to the id argument.\n   * @description Gets id or sets ids.\n   *\n   * @example\n   * elem.id('unique');\n   * elem.id(); // 'unique'\n   */\n  id(id) {\n    if (!arguments.length) {\n      return getElem(this).id;\n    }\n\n    return this.forEach((elem) => {\n      if (isElement(elem)) {\n        elem.id = id;\n      }\n    });\n  }\n\n  /**\n   * @member {Number} Elem#innerHeight\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Getter for finding how much height content of the first element can be.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   height: '200px',\n   *   paddingTop: '2px',\n   *   paddingBottom: '3px',\n   *   borderTop: '1px solid black',\n   *   borderBottom: '4px solid black'\n   * }).innerHeight; // 190\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .innerHeight; // 200\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .innerHeight; // 195\n   */\n  get innerHeight() {\n    const elem = this.$[0];\n\n    if (isWindow(elem)) {\n      return elem.innerHeight;\n    }\n\n    const {\n      borderTopWidth,\n      borderBottomWidth,\n      boxSizing,\n      height,\n      paddingTop,\n      paddingBottom\n    } = this.calcCSS();\n    const borders = px(borderTopWidth) + px(borderBottomWidth);\n    const paddings = px(paddingTop) + px(paddingBottom);\n\n    return px(height) - innerSwitcher(boxSizing, [paddings, borders]);\n  }\n\n  /**\n   * @member {Number} Elem#innerWidth\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Getter for finding how much width content of the first element can be.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   width: '200px',\n   *   paddingLeft: '2px',\n   *   paddingRight: '3px',\n   *   borderLeft: '1px solid black',\n   *   borderRight: '4px solid black'\n   * }).innerWidth; // 190\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .innerWidth; // 200\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .innerWidth; // 195\n   */\n  get innerWidth() {\n    const elem = this.$[0];\n\n    if (isWindow(elem)) {\n      return elem.innerWidth;\n    }\n\n    const {\n      borderLeftWidth,\n      borderRightWidth,\n      boxSizing,\n      paddingLeft,\n      paddingRight,\n      width\n    } = this.calcCSS();\n    const borders = px(borderLeftWidth) + px(borderRightWidth);\n    const paddings = px(paddingLeft) + px(paddingRight);\n\n    return px(width) - innerSwitcher(boxSizing, [paddings, borders]);\n  }\n\n  /**\n   * @method Elem#insertAfter\n   * @public\n   * @param {String|Elem|Element} element - Element to insert this element after or a selector of it.\n   * @returns {Elem} Returns this.\n   * @description Puts the elements from the set after the element specified by the argument.\n   * The elements remain in the same order.\n   *\n   * @example\n   * elem.insertAfter(elem2);\n   * elem.insertAfter(document.getElementById('id'));\n   * elem.insertAfter('#id div.c1');\n   */\n  insertAfter(element) {\n    element = toFind(element).first();\n\n    let parent = element.parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    element = element.next().$[0];\n    parent = parent.$[0];\n\n    return this.forEach((elem) => {\n      if (element) {\n        parent.insertBefore(elem, element);\n      } else {\n        parent.appendChild(elem);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#insertBefore\n   * @public\n   * @param {String|Elem|Element} element - Element to insert this element before or a selector of it.\n   * @returns {Elem} Returns this.\n   * @description Puts the elements from the set before the element specified by the argument.\n   * The elements remain in the same order.\n   *\n   * @example\n   * elem.insertBefore(elem2);\n   * elem.insertBefore(document.getElementById('id'));\n   * elem.insertBefore('#id div.c1');\n   */\n  insertBefore(element) {\n    element = toFind(element).first();\n\n    let parent = element.parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    element = element.$[0];\n    parent = parent.$[0];\n\n    return this.forEach((elem) => {\n      parent.insertBefore(elem, element);\n    });\n  }\n\n  /**\n   * @method Elem#into\n   * @public\n   * @param {String|Elem|Element} element - Element to put this elements into or a selector of it.\n   * @param {Boolean} end - If the elements should be inserted to the end. If false they are inserted to the start.\n   * @returns {Elem} Returns this.\n   * @description Method is similar to\n   * [Node#appendChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/appendChild}.\n   *\n   * @example\n   * elem.into(elem2);\n   * elem.into(document.getElementById('id'));\n   * elem.into('#id div.c1');\n   */\n  into(element, end = true) {\n    element = toFind(element).$[0];\n\n    if (\n      !element ||\n      isWindow(element) ||\n      isHTMLDocument(element) ||\n      isCommentOrText(element)\n    ) {\n      return this;\n    }\n\n    if (!end && element.firstChild) {\n      return this.forEachReverse((elem) => {\n        element.insertBefore(elem, element.firstChild);\n      });\n    }\n\n    return this.forEach((elem) => {\n      element.appendChild(elem);\n    });\n  }\n\n  /**\n   * @method Elem#is\n   * @public\n   * @param {String} selector\n   * @returns {Boolean} If the first element in the set matches the selector.\n   * If the selector is undefined or null always returns true. If it's not for not elements\n   * entries returns false.\n   * @description Synonym for\n   * [Element#matches]{@link https://developer.mozilla.org/en/docs/Web/API/Element/matches}.\n   *\n   * @example\n   * elem.addClass('cls');\n   * elem.is('.cls');         // true\n   *\n   * elem.removeClass('cls');\n   * elem.is('.cls');         // false\n   */\n  is(selector) {\n    if (isNull(selector)) {\n      return true;\n    }\n\n    const elem = getElem(this);\n    const matches = (\n      elem.matches ||\n      elem.matchesSelector ||\n      elem.webkitMatchesSelector ||\n      elem.mozMatchesSelector ||\n      elem.msMatchesSelector ||\n      elem.oMatchesSelector\n    );\n\n    if (!isElement(this.$[0])) {\n      return false;\n    }\n\n    try {\n      return matches.call(elem, selector);\n    } catch (err) {\n      console.error(`Selector '${ selector }' is not a valid selector (Elem#is)`);\n\n      return false;\n    }\n  }\n\n  /**\n   * @method Elem#isBroken\n   * @public\n   * @returns {Boolean} If the first image in the set is broken.\n   * @description Returns if the first element in the set is broken. Not image and not loaded image is considered proper.\n   *\n   * @example\n   * const img = elem.img().on({\n   *   'load': onload,\n   *   'error': onload\n   * });\n   *\n   * onload = () => {\n   *   console.log(img.isBroken()); // true\n   * };\n   *\n   * img.ref('/some/non-existent/site/not-found.png');\n   */\n  isBroken() {\n    let isBroken = false;\n\n    this.some((elem) => {\n      if (getName(elem) === 'img') {\n        isBroken = !!(elem.complete && (!elem.naturalWidth || !elem.naturalHeight));\n\n        return true;\n      }\n    });\n\n    return isBroken;\n  }\n\n  /**\n   * @method Elem#isWithinDocument\n   * @public\n   * @returns {Boolean} Returns if the first element in the set is within the document or not.\n   * @description Returns if the first element in the set is within the document or not.\n   *\n   * @example\n   * new Elem(document.body).isWithinDocument();  // true\n   * new Elem(document).div().isWithinDocument(); // false\n   */\n  isWithinDocument() {\n    return this.first().closest('html').length !== 0;\n  }\n\n  /**\n   * @method Elem#last\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Synonym for elem.elem(-1).\n   */\n  last() {\n    return this.elem(-1);\n  }\n\n  /**\n   * @method Elem#lastChild\n   * @public\n   * @param {String} [selector = null] - If present, finds last child in every elem that matches the selector.\n   * If not, finds last child of each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding last children of each element in the set.\n   *\n   * @example\n   * elem.last();       // finds last child of each element in the elem set\n   * elem.last('.foo'); // find last child that has 'foo' class of each element in the set\n   */\n  lastChild(selector = null) {\n    return this.object((elems, elem) => {\n      const { value: found } = new Elem(elem)\n        .children()\n        .reverse()\n        .find((elem) => new Elem(elem).is(selector)) || {};\n\n      elems.add(found);\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#load\n   * @public\n   * @returns {Promise.<{ proper: Elem, broken: Elem }>} Promise with broken and proper images.\n   * @description Loads each image in the set and puts it to the proper or broken array.\n   *\n   * @example\n   * images.load().then(({ broken }) => {\n   *   broken.filter('img').ref('/fallback.png');\n   * });\n   */\n  load() {\n    const images = {\n      proper: new Elem(),\n      broken: new Elem()\n    };\n\n    return Promise.all(\n      this\n        .filter((elem) => getName(elem) === 'img')\n        .map((elem) => {\n          const $elem = new Elem(elem);\n\n          if (elem.complete) {\n            images[$elem.isBroken() ? 'broken' : 'proper'].push(elem);\n\n            return;\n          }\n\n          return new Promise((resolve) => {\n            const removeListeners = $elem.on({\n              load() {\n                images.proper.add(elem);\n\n                removeListeners();\n                resolve();\n              },\n              error() {\n                images.broken.add(elem);\n\n                removeListeners();\n                resolve();\n              }\n            });\n          });\n        })\n        .$\n    ).then(() => images);\n  }\n\n  /**\n   * @method Elem#moveAttr\n   * @public\n   * @param {String} attr - Attribute to move to the first element.\n   * @param {String} [value = ''] - Value to set for the attribute. If not set attribute of the previous element or '' used.\n   * @returns {Elem} Returns this.\n   * @description Method for moving an attribute from previous element to the next one (first element in this set).\n   *\n   * @example\n   * elem1.moveAttr('attr', 'value');     // attribute 'attr' set to 'value' on elem1\n   * elem2.moveAttr('attr');              // attribute 'attr' removed from elem1. set to 'value' on elem2\n   * elem3.moveAttr('attr', 'new value'); // attribute 'attr' removed from elem2. set to 'new value' on elem3\n   */\n  moveAttr(attr, value = '') {\n    const prev = attrs[attr];\n    const elem = this.elem();\n\n    if (prev && elem.length) {\n      if (arguments.length < 2) {\n        value = prev.attr(attr);\n      }\n\n      prev.removeAttr(attr);\n    }\n\n    if (elem.length) {\n      attrs[attr] = elem.attr(attr, value);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Elem#moveClass\n   * @public\n   * @param {String} cls - Class to move to the first element.\n   * @returns {Elem} Returns this.\n   * @description Method for moving a class from previous element to the next one (first element in this set).\n   *\n   * @example\n   * elem1.moveClass('cls'); // class 'cls' added to elem1\n   * elem2.moveClass('cls'); // class 'cls' removed from elem1. added to elem1\n   */\n  moveClass(cls) {\n    const prev = classes[cls];\n    const elem = this.elem();\n\n    if (prev && elem.length) {\n      prev.removeClass(cls);\n    }\n\n    if (elem.length) {\n      classes[cls] = elem.addClass(cls);\n    }\n\n    return this;\n  }\n\n  /**\n   * @member {String} Elem#name\n   * @type {String}\n   * @public\n   * @readonly\n   * @description nodeName (lowercased) of the first element in the set.\n   *\n   * @example\n   * const elem1 = elem.create('div');\n   * elem1.name // 'div'\n   */\n  get name() {\n    return getName(this.$[0]);\n  }\n\n  /**\n   * @method Elem#next\n   * @public\n   * @param {String} [selector = null] - If present, finds next element to every elem that matches the selector.\n   * If not, finds next element to each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding next element to each element in the set.\n   *\n   * @example\n   * elem.next();       // finds next element to each element in the set\n   * elem.next('.foo'); // finds next element to each element that has 'foo' class\n   */\n  next(selector = null) {\n    return this.object((elems, elem) => {\n      /* eslint no-cond-assign: 0 */\n      while (elem = elem.nextSibling) {\n        if (new Elem(elem).is(selector)) {\n          return elems.add(elem);\n        }\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#off\n   * @public\n   * @param {...ElemEventString} events - Events to remove.\n   * @returns {Elem} Returns this.\n   * @description Method that removes all the listeners from each element in the set specified by the events arguments.\n   *\n   * @example\n   * elem.off('click');\n   * elem.off('click, input');\n   * elem.off('click, input', 'focus');\n   */\n  off(...events) {\n    return this.forEach((elem) => {\n      const { listeners } = elem.dwayneData;\n\n      iterate(arguments, (event) => {\n        iterate(event.split(eventSeparator), (event) => {\n          (listeners[event] || new Super()).forEach(({ removeListener }) => removeListener());\n        });\n      });\n    });\n  }\n\n  /**\n   * @method Elem#on\n   * @public\n   * @param {ElemEventString|Object.<ElemEventString|ElemListener>} event - Either a {@link ElemEventString} string\n   * or an object with event keys (a key is also ElemEventString) and listeners values.\n   * @param {String} [selector = null] - Selector to filter event targets.\n   * @param {ElemListener} [listener] - If the first argument is a string it must be a listener function for\n   * specified event(s).\n   * @returns {ElemRemoveListeners} Function that takes optional event argument.\n   * @description Adds event listeners for all the elements in the set.\n   * For debugging: If you need to know what listeners are in work (and what selectors filter targets)\n   * you can look at the base property of the only dwayne listener that listens for the event\n   * and find all working listeners in listener.base.dwayneData.listeners[event].$.\n   *\n   * @example\n   * elem.on(\n   *   'change, input',\n   *   'input, select, textarea, datalist, keygen, output',\n   *   (e, elem, index) => console.log(elem.value)\n   * );\n   * elem.on(\n   *   'change, input',\n   *   (e, elem, index) => console.log(elem.value)\n   * );\n   * elem.on(\n   *   {\n   *     'change, input': (e, elem, index) => console.log(elem.value),\n   *     'blur': () => console.log('blur')\n   *   },\n   *   'input, select, textarea, datalist, keygen, output'\n   * );\n   *\n   * const removeListeners = elem.on({\n   *   'change, input': (e, elem, index) => console.log(elem.value),\n   *   'blur': () => console.log('blur')\n   * });\n   *\n   * removeListeners('click');\n   * removeListeners('blur, change');\n   * removeListeners('blur, change', 'input');\n   * removeListeners();\n   */\n  on(event, selector = null, listener) {\n    const allListeners = new Super({});\n\n    if (isFunction(selector)) {\n      listener = selector;\n      selector = null;\n    }\n\n    if (isString(event)) {\n      event = { [event]: listener };\n    }\n\n    event = new Super(event).object((listeners, listener, event) => {\n      iterate(event.split(eventSeparator), (event) => {\n        listeners[event] = listener;\n      });\n    });\n\n    this.forEach((elem) => {\n      if (!isElement(elem) && !isWindow(elem) && !isHTMLDocument(elem)) {\n        return;\n      }\n\n      const { listeners } = (windowsDwayneData.find(({ element }) => element === elem) || {}).value || elem.dwayneData;\n\n      event.forEach((listener, event) => {\n        const removeEventListeners = listeners[event] = listeners[event] || new Super({}).define('index', {\n          value: 0,\n          configurable: true,\n          writable: true\n        });\n        const index = removeEventListeners.prop('index');\n\n        if (!removeEventListeners.has('listener')) {\n          const newListener = (e) => {\n            removeEventListeners.forEach(({ selector, listener }) => {\n              if (new Elem(e.target).is(selector)) {\n                listener.call(elem, e, elem, index);\n              }\n            });\n          };\n\n          newListener.base = elem;\n\n          elem.addEventListener(event, newListener, false);\n          removeEventListeners.define('listener', {\n            value: newListener,\n            configurable: true,\n            writable: true\n          });\n        }\n\n        const removeListener = () => {\n          removeEventListeners.delete(index);\n\n          if (!removeEventListeners.count) {\n            elem.removeEventListener(event, removeEventListeners.prop('listener'), false);\n            removeEventListeners.delete('listener');\n          }\n        };\n\n        allListeners.prop(event, (allListeners.prop(event) || new Arr()).push(removeListener));\n\n        removeEventListeners.assign({\n          index: index + 1,\n          [index]: {\n            selector,\n            listener,\n            removeListener\n          }\n        });\n      });\n    });\n\n    return function removeEventListeners(event) {\n      if (arguments.length) {\n        iterate(arguments, (event) => {\n          iterate(event.split(eventSeparator), (event) => {\n            if (allListeners.has(event)) {\n              allListeners.prop(event).forEach((removeListener) => removeListener());\n              allListeners.delete(event);\n            }\n          });\n        });\n\n        return;\n      }\n\n      allListeners.forEach((removeListeners) => {\n        removeListeners.forEach((removeListener) => removeListener());\n      });\n    };\n  }\n\n  /**\n   * @member {Number} Elem#outerHeight\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Getter for finding how much height the element actually is.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   height: '200px',\n   *   paddingTop: '2px',\n   *   paddingBottom: '3px',\n   *   borderTop: '1px solid black',\n   *   borderBottom: '4px solid black'\n   *   marginTop: '0px',\n   *   marginBottom: '5px'\n   * }).outerHeight; // 205\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .outerHeight; // 215\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .outerHeight; // 210\n   */\n  get outerHeight() {\n    const elem = this.$[0];\n\n    if (isWindow(elem)) {\n      return elem.outerHeight;\n    }\n\n    const {\n      borderTopWidth,\n      borderBottomWidth,\n      boxSizing,\n      height,\n      marginTop,\n      marginBottom,\n      paddingTop,\n      paddingBottom\n    } = this.calcCSS();\n    const borders = px(borderTopWidth) + px(borderBottomWidth);\n    const paddings = px(paddingTop) + px(paddingBottom);\n\n    return px(height) + px(marginTop) + px(marginBottom) + outerSwitcher(boxSizing, [borders, paddings]);\n  }\n\n  /**\n   * @member {Number} Elem#outerWidth\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Getter for finding how much width the element actually is.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   width: '200px',\n   *   paddingLeft: '2px',\n   *   paddingRight: '3px',\n   *   borderLeft: '1px solid black',\n   *   borderRight: '4px solid black'\n   *   marginLeft: '0px',\n   *   marginRight: '5px'\n   * }).outerWidth; // 205\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .outerWidth; // 215\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .outerWidth; // 210\n   */\n  get outerWidth() {\n    const elem = this.$[0];\n\n    if (isWindow(elem)) {\n      return elem.outerWidth;\n    }\n\n    const {\n      borderLeftWidth,\n      borderRightWidth,\n      boxSizing,\n      marginLeft,\n      marginRight,\n      paddingLeft,\n      paddingRight,\n      width\n    } = this.calcCSS();\n    const borders = px(borderLeftWidth) + px(borderRightWidth);\n    const paddings = px(paddingLeft) + px(paddingRight);\n\n    return px(width) + px(marginLeft) + px(marginRight) + outerSwitcher(boxSizing, [borders, paddings]);\n  }\n\n  /**\n   * @method Elem#parent\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Method returns wrap of the set of the parent elements of each element in the set.\n   */\n  parent() {\n    return this.object((elems, elem) => elems.add(elem.parentNode), new Elem());\n  }\n\n  /**\n   * @method Elem#parentTree\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Returns wrap of all parents of each element in the set.\n   *\n   * @example\n   * elem.parentTree(); // Elem\n   */\n  parentTree() {\n    return this.object((elems, elem) => {\n      while (elem = elem.parentNode) {\n        elems.add(elem);\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#prev\n   * @public\n   * @param {String} [selector = null] - If present, finds previous element to every elem that matches the selector.\n   * If not, finds previous element to each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding previous element to each element in the set.\n   *\n   * @example\n   * elem.next();       // finds previous element to each element in the set\n   * elem.next('.foo'); // finds previous element to each element that has 'foo' class\n   */\n  prev(selector = null) {\n    return this.object((elems, elem) => {\n      /* eslint no-cond-assign: 0 */\n      while (elem = elem.previousSibling) {\n        if (new Elem(elem).is(selector)) {\n          return elems.add(elem);\n        }\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#prop\n   * @public\n   * @param {String|Object.<String, ElemValueCallback|*>} property - Either a string of a property or an assigned object.\n   * @param {ElemValueCallback|*} [value] - If a property parameter is a string\n   * this has to be an assigned value if it's present.\n   * @returns {Elem|*} Returns this if it's setter or a value if getter.\n   * @description Method that is either a property getter for the first element in the set\n   * or a setter for every element in the set.\n   *\n   * @example\n   * elem.prop('draggable', false);\n   * elem.prop('draggable'); // false\n   */\n  prop(property, value) {\n    if (arguments.length <= 1 && isString(property)) {\n      return this.$[0] ? this.$[0][property] : undefined;\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.forEach((elem, index) => {\n      iterate(property, (value, prop) => {\n        elem[prop] = isFunction(value) ? value(elem[prop], elem, index) : value;\n      });\n    });\n  }\n\n  /**\n   * @method Elem#ref\n   * @public\n   * @param {String|ElemValueCallback} [link] - If it's present link to a resource.\n   * @returns {Elem|String} If the link argument isn't present it's a getter of the 'src' attribute\n   * for the one of following elements: img, script, iframe, audio, video; of the 'action' attribute\n   * for a form element and of the 'href' attribute for the rest. If it's present it's a setter\n   * of the same attribute for all the element in the set.\n   * @description Method for getting resources links and setting them.\n   *\n   * @example\n   * elem.ref('/some/cool/image.png');\n   * elem.ref(); // '/some/cool/image.png'\n   */\n  ref(link) {\n    if (!arguments.length) {\n      return this.attr(refSwitcher(this.name));\n    }\n\n    return this.forEach((elem) => {\n      elem = new Elem(elem);\n\n      elem.attr(refSwitcher(elem.name), link);\n    });\n  }\n\n  /**\n   * @method Elem#remove\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Removes all the elements from the set from the document.\n   * Note: it doesn't remove them from the set so watch out for the memory leaks.\n   *\n   * @example\n   * elem.remove();\n   */\n  remove() {\n    return this.forEach((elem) => {\n      const parent = elem.parentNode;\n\n      if (parent) {\n        parent.removeChild(elem);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#removeAttr\n   * @public\n   * @param {...String} attributes - Attributes to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the attributes from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeAttr('foo', 'bar', 'baz');\n   */\n  removeAttr(...attributes) {\n    return this.forEach((elem) => {\n      if (!isElement(elem)) {\n        return;\n      }\n\n      iterate(arguments, (attr) => {\n        const ns = attrNSSwitcher(attr, [new Elem(elem)]);\n\n        if (isNull(ns)) {\n          elem.removeAttribute(attr);\n        } else {\n          elem.removeAttributeNS(ns, attr);\n        }\n      });\n    });\n  }\n\n  /**\n   * @method Elem#removeClass\n   * @public\n   * @param {...String} classes - Classes to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the classes from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeClass('foo', 'bar', 'baz');\n   */\n  removeClass(...classes) {\n    return this.forEach((elem) => {\n      const list = elem.classList;\n\n      iterate(isElement(elem) && arguments, (cls) => list.remove(cls));\n    });\n  }\n\n  /**\n   * @method Elem#removeCSS\n   * @public\n   * @param {...String} props - CSS properties to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the CSS properties from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeCSS('display', 'position', 'margin');\n   */\n  removeCSS(...props) {\n    return this.forEach((elem) => {\n      if (!isElement(elem)) {\n        return;\n      }\n\n      iterate(arguments, (css) => {\n        elem.style.removeProperty(css);\n      });\n    });\n  }\n\n  /**\n   * @method Elem#replace\n   * @public\n   * @param {String|Elem|Element} element - Element to replace the first element in the set\n   * with a set of elements specified by the argument (Element, set of elements or a selector of them).\n   * @returns {Elem} Returns this.\n   * @description Method is similar to\n   * [Node#replaceChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/replaceChild}.\n   *\n   * @example\n   * elem.replace(elem2);\n   * elem.replace(document.getElementById('id'));\n   * elem.replace('#id div.c1');\n   */\n  replace(element) {\n    element = toFind(element);\n\n    const parent = this.first().parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    let elem = parent;\n    let method = 'into';\n    const next = this.next().first().$[0];\n    const prev = this.prev().first().$[0];\n\n    if (next) {\n      elem = next;\n      method = 'insertBefore';\n    } else if (prev) {\n      elem = prev;\n      method = 'insertAfter';\n    }\n\n    this.first().remove();\n\n    element[method](elem);\n  }\n\n  /**\n   * @method Elem#setOf\n   * @public\n   * @param {String} type - HTML element type.\n   * @param {Number|Object|Array.<*>} iterator - A number (how many elements to create inside each element),\n   * an object or an array to iterate over.\n   * @param {ElemSetOfCallback} callback\n   * @returns {Elem} New instance of Elem.\n   * @description Function for creating set of elements inside each element in the set based on an array or an object.\n   *\n   * @example\n   * table.setOf('tr', [[1, 2], [3, 4], [5, 6]], (row, array) => {\n   *   D(row).setOf('td', array, (col, number) => {\n   *     D(col).text(number);\n   *   });\n   * });\n   */\n  setOf(type, iterator, callback) {\n    validate({ 2: callback }, { 2: ['function'] }, 'Elem#setOf');\n\n    iterator = new Super(iterator).$;\n\n    if (isNumber(iterator)) {\n      try {\n        validate({ 1: iterator }, { 1: ['intLike', '>=0'] }, 'Elem#setOf');\n      } catch (e) {\n        throw new Error('2nd argument must be either or non-negative integer, or object! (at Elem#setOf)');\n      }\n\n      iterator = array(iterator).$;\n    }\n\n    return this.object((elems, elem, index) => {\n      iterate(iterator, (value, key) => {\n        const created = new Elem(elem).create(type);\n\n        callback(created.$[0], value, key, iterator, elem, index);\n\n        elems.add(created);\n      });\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#show\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Shows all elements in the set.\n   * If an element was hidden using {@link Elem#hide} previous display is set.\n   *\n   * @example\n   * elem.show();\n   */\n  show() {\n    return this.forEach((elem) => {\n      const { dwayneData } = elem;\n\n      elem = new Elem(elem);\n\n      if (elem.css('display').indexOf('none') === 0) {\n        elem.css('display', dwayneData.previousDisplay);\n      }\n\n      dwayneData.previousDisplay = '';\n    });\n  }\n\n  /**\n   * @method Elem#text\n   * @public\n   * @param {String|ElemValueCallback|*} [text] - Text to write instead of current text.\n   * @returns {Elem|String} If no arguments passed text of the first element in the set returned.\n   * Otherwise all elements texts in the set are set to the text argument.\n   * @description Gets or sets text.\n   *\n   * @example\n   * elem.text('123');\n   * elem.text(); // '123'\n   */\n  text(text) {\n    if (!arguments.length) {\n      return this.prop(textProperty);\n    }\n\n    return this.forEach((elem, index) => {\n      const txt = elem[textProperty];\n\n      new Elem(elem).prop(\n        textProperty,\n        isFunction(text)\n          ? text(txt, elem, index)\n          : text\n      );\n    });\n  }\n\n  /**\n   * @method Elem#toggleAttr\n   * @public\n   * @param {String} attr - Attribute to toggle.\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the attribute\n   * with the '' value and if falsey method removes the attribute. If not present method adds\n   * the attribute if it doesn't exist and removes if it does.\n   * @returns {Elem} Returns this.\n   * @description Method for toggling attributes.\n   *\n   * @example\n   * elem.toggleAttr('attr');\n   * elem.toggleAttr('attr', someCondition);\n   */\n  toggleAttr(attr, condition) {\n    return this.forEach((elem) => {\n      elem = new Elem(elem);\n\n      if (arguments.length < 2 ? !elem.hasAttr(attr) : condition) {\n        elem.attr(attr, '');\n      } else {\n        elem.removeAttr(attr);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#toggleAttr\n   * @public\n   * @param {String} cls - Class to toggle.\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the class\n   * and if falsey method removes the class. If not present method adds\n   * the class if it doesn't exist and removes if it does.\n   * @returns {Elem} Returns this.\n   * @description Method for toggling classes.\n   *\n   * @example\n   * elem.toggleClass('cls');\n   * elem.toggleClass('cls', someCondition);\n   */\n  toggleClass(cls, condition) {\n    return (arguments.length < 2 ? !this.hasClass(cls) : condition)\n      ? this.addClass(cls)\n      : this.removeClass(cls);\n  }\n\n  get toStringTag() {\n    return toStringTag(this.$$);\n  }\n\n  /**\n   * @method Elem#up\n   * @public\n   * @param {Integer} [level = 1] - What level up along the tree should be the parent.\n   * @returns {Elem} New instance of Elem.\n   * @description Creates a collection of parents of level &lt;level&gt;.\n   *\n   * @example\n   * elem.up();\n   * elem.up(2);\n   */\n  up(level = 1) {\n    validate([level], [['intLike', '>=0']], 'Elem#up');\n\n    level = Number(level);\n\n    return this.object((elems, elem) => {\n      let n = level;\n\n      while (n-- && elem) {\n        elem = elem.parentNode;\n      }\n\n      elems.add(elem);\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#validate\n   * @public\n   * @param {ValidateCallback} [validator] - If present, function that validates inputs.\n   * @returns {Elem|Object.<String, Error|*>|null}\n   * If a callback argument provided returns this. If no arguments provided returns either an object\n   * with input names keys and errors values or null if no errors found.\n   * @description If a callback argument provided adds it to the element validators list.\n   * If no arguments provided validates every input element in the set with its own functions.\n   * If an element is a form it validates all input elements inside it. After the validation\n   * fires 'validate' event with 'valid' and 'error' (if form it's errors) properties.\n   *\n   * @example\n   * form.on('input change', 'input', (value, input) => {\n   *   input = D(input);\n   *\n   *   if (Number(value) % 3) {\n   *     input.addClass('invalid');\n   *\n   *     throw new Error('The value should be divided by 3!');\n   *   }\n   *\n   *   input.removeClass('invalid');\n   * });\n   */\n  validate(validator) {\n    validate([validator], ['function||!'], 'Elem#validate');\n\n    if (validator) {\n      return this.forEach(({ dwayneData }) => {\n        dwayneData.validators.push(validator);\n      });\n    }\n\n    const errors = new Super({ errors: null });\n\n    this\n      .filter(`${ inputElements }, form`)\n      .forEach((elem, index) => {\n        if (getName(elem) === 'form') {\n          let formErrors = { errors: null };\n          const form = new Elem(elem);\n          const inputs = form.find(inputElements);\n\n          inputs.forEach((input, index) => {\n            validatorWrap(input, index, formErrors);\n          });\n\n          errors.deepAssign(formErrors);\n\n          formErrors = formErrors.errors;\n\n          form.dispatch('validate', {}, {\n            valid: !formErrors,\n            errors: formErrors\n          });\n\n          return inputs.forEach((input) => {\n            const inputError = (formErrors || {})[input.name];\n\n            new Elem(input).dispatch('validate', {}, {\n              valid: !inputError,\n              error: inputError || null\n            });\n          });\n        }\n\n        let inputError = { errors: null };\n\n        validatorWrap(elem, index, inputError);\n        errors.deepAssign(inputError);\n\n        inputError = (inputError.errors || {})[elem.name];\n\n        new Elem(elem).dispatch('validate', {}, {\n          valid: !inputError,\n          error: inputError || null\n        });\n      });\n\n    function validatorWrap(input, index, errors) {\n      try {\n        if (input.validity && !input.validity.valid) {\n          throw new Error(input.validationMessage);\n        }\n\n        input.dwayneData.validators.forEach((validator) => {\n          validator(input.value, input, index);\n        });\n      } catch (err) {\n        (errors.errors = errors.errors || {})[input.name] = err;\n      }\n    }\n\n    if (errors.every((error) => isNull(error))) {\n      return null;\n    }\n\n    return errors.$.errors;\n  }\n\n  /**\n   * @method Elem#width\n   * @public\n   * @param {*|ElemValueCallback} [width] - Width to set.\n   * @returns {Elem|String} If no arguments passed width of the first element in the set returned.\n   * Otherwise all elements widths in the set are set to the width argument.\n   * @description Gets or sets width.\n   *\n   * @example\n   * elem.width(123);\n   * elem.width(); // 123\n   */\n  width(width) {\n    return this.prop.apply(this, new Arr(arguments).unshift('width').$);\n  }\n}\n\ndefineProperties(Elem.prototype, {\n  [Symbol.toStringTag]: 'Elem'\n});\n\n/**\n * @const {Elem} win\n * @type {Elem}\n * @public\n * @description Elem instance of window.\n */\nconst win = new Elem(global);\n\n/**\n * @const {Elem} doc\n * @type {Elem}\n * @public\n * @description Elem instance of document.\n */\nconst doc = new Elem(nativeDocument);\n\n/**\n * @const {Elem} html\n * @type {Elem}\n * @public\n * @description Elem instance of document.documentElement.\n */\nconst html = new Elem(nativeDocument.documentElement);\n\n/**\n * @const {Elem} body\n * @type {Elem}\n * @public\n * @description Elem instance of document.body.\n */\nconst body = new Elem(nativeDocument.body);\n\n/**\n * @const {Elem} head\n * @type {Elem}\n * @public\n * @description Elem instance of document.head.\n */\nconst head = new Elem(nativeDocument.head);\n\nconst elements = new Arr(htmlElements).concat(svgElements).$;\nconst props = new Arr(elements).map((type) => new Str(type).toCamelCase().$).$;\n\ndynamicDefineProperties(Elem.prototype, props, (elem, i) => function () {\n  return this.create.apply(this, new Arr(arguments).unshift(elements[i]).$);\n});\n\ndynamicDefineProperties(Elem.prototype, canvasGetMethods, (method) => function () {\n  const ctx = this.ctx();\n\n  if (ctx) {\n    return ctx[method].apply(ctx, arguments);\n  }\n});\n\ndynamicDefineProperties(Elem.prototype, canvasRestMethods, (method) => function () {\n  const ctx = this.ctx();\n\n  if (ctx) {\n    ctx[method].apply(ctx, arguments);\n  }\n\n  return this;\n});\n\n/**\n * @function toFind\n * @private\n * @param {Element|Elem|String} elem - Element, selector of Elements or Elem.\n * @returns {Elem} Instance of Elem.\n */\nfunction toFind(elem) {\n  if (isElem(elem)) {\n    return elem;\n  }\n\n  if (isString(elem)) {\n    elem = find(elem);\n  }\n\n  return new Elem(elem);\n}\n\n/**\n * @function isElem\n * @private\n * @param {*} value - Value to check if it's Elem.\n * @returns {Boolean} If the value is Elem.\n * @description Returns if the value is Elem or not.\n */\nfunction isElem(value) {\n  return value instanceof Elem;\n}\n\n/**\n * @function isWindow\n * @private\n * @param {*} value - Value to check if it's Window.\n * @returns {Boolean} If the value is Window.\n * @description Returns if the value is Window or not.\n */\nfunction isWindow(value) {\n  return toStringTag(value) === 'Window';\n}\n\n/**\n * @function isHTMLDocument\n * @private\n * @param {*} value - Value to check if it's HTMLDocument.\n * @returns {Boolean} If the value is HTMLDocument.\n * @description Returns if the value is HTMLDocument or not.\n */\nfunction isHTMLDocument(value) {\n  return toStringTag(value) === 'HTMLDocument';\n}\n\n/**\n * @function isDocumentFragment\n * @private\n * @param {*} value - Value to check if it's a DocumentFragment.\n * @returns {Boolean} If the value is a DocumentFragment.\n * @description Returns if the value is a DocumentFragment or not.\n */\nfunction isDocumentFragment(value) {\n  return toStringTag(value) === 'DocumentFragment';\n}\n\n/**\n * @function isStyleRule\n * @private\n * @param {*} value - Value to check if it's a style rule.\n * @returns {Boolean} If the value is a style rule.\n * @description Returns if the value is a style rule or not.\n */\nfunction isStyleRule(value) {\n  return toStringTag(value) === 'CSSStyleRule';\n}\n\n/**\n * @function\n * @private\n * @param {*} value - Value to check if it's Comment or Text.\n * @returns {Boolean} If the value is HTMLDocument.\n * @description Returns if the value is Comment or Text or not.\n */\nfunction isCommentOrText(value) {\n  const tag = toStringTag(value);\n\n  return tag === 'Comment' || tag === 'Text';\n}\n\n/**\n * @function getElem\n * @private\n * @param {Elem} elem - Element to check.\n * @returns {Element} The argument or a fallback if needed.\n */\nfunction getElem(elem) {\n  return isElement(elem.$[0]) ? elem.$[0] : emptyDiv;\n}\n\n/**\n * @function getName\n * @private\n * @param {Element} [elem] - Element which name is needed to know.\n * @returns {String} Element name.\n */\nfunction getName(elem) {\n  return (elem && elem.nodeName && elem.nodeName.toLowerCase()) || '';\n}\n\n/**\n * @function addDwayneData\n * @private\n * @param {Element} elem - Element to add dwayneData to.\n * @returns {void}\n */\nfunction addDwayneData(elem) {\n  if (!{}.hasOwnProperty.call(elem, 'dwayneData') && !isWindow(elem)) {\n    /**\n     * @member Element#dwayneData\n     * @type {Object}\n     * @protected\n     * @property {String} previousDisplay - Parameter used for hiding/showing elements.\n     * @property {Object.<String, Super>} removeListeners - Parameter used for remove event listeners.\n     * @property {CanvasRenderingContext2D} [ctx] - Canvas rendering context.\n     * @property {Arr} validators - Validators assigned to element.\n     * @description D data.\n     */\n    Object.defineProperty(elem, 'dwayneData', {\n      value: {\n        previousDisplay: '',\n        listeners: {},\n        ctx: getName(elem) === 'canvas' && elem.getContext('2d'),\n        validators: new Arr([])\n      }\n    });\n  } else if (isWindow(elem) && !windowsDwayneData.some(({ element }) => element === elem)) {\n    windowsDwayneData.push({\n      element: elem,\n      listeners: {}\n    });\n  }\n}\n\nconstructors[2].push({\n  check: (elem) => (\n    isElement(elem) ||\n    isWindow(elem) ||\n    isHTMLDocument(elem) ||\n    isCommentOrText(elem) ||\n    isDocumentFragment(elem) ||\n    /^(HTMLCollection|NodeList)$/.test(toStringTag(elem))\n  ),\n  cls: Elem\n});\n\n/**\n * @function find\n * @public\n * @param {String} selector - Selector to find.\n * @param {Element} [base = document] - Base to find in.\n * @returns {Elem} New instance of Elem.\n * @description Synonym for\n * [Document#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Document/querySelectorAll}.\n */\nfunction find(selector, base = nativeDocument) {\n  return new Elem(\n    isElement(base) || isHTMLDocument(base)\n      ? base.querySelectorAll(String(selector))\n      : []\n  );\n}\n\n/**\n * @function parseHTML\n * @public\n * @param {String} html - HTML to parse.\n * @param {Boolean} [collapseWhiteSpace = false] - If the whitespace should be\n * collapsed during the parsing.\n * @returns {Elem} New instance of Elem.\n * @description Parses HTML and returns a wrap of #document-fragment containing the contents.\n *\n * @example\n * parseHTML('<div>123</div>'); // Elem\n */\nfunction parseHTML(html, collapseWhiteSpace) {\n  const json = markupToJSON(html, collapseWhiteSpace);\n  const template = doc.template();\n  const elem = new Elem(template.$[0].content);\n\n  json.forEach(function forEachNode(node) {\n    const {\n      name,\n      attrs,\n      value,\n      parent,\n      children\n    } = node;\n\n    const parentNode = parent.elem || elem;\n    const element = parentNode.create(name);\n\n    node.elem = element;\n\n    if (value) {\n      element.text(value);\n    }\n\n    if (attrs) {\n      element.attr(new Super(attrs).map((value) => (\n        value === true ? '' : value\n      )).$);\n    }\n\n    if (name === 'template') {\n      node.elem = new Elem(element.prop('content'));\n    }\n\n    if (children) {\n      children.forEach(forEachNode);\n    }\n  });\n\n  return new Elem(elem);\n}\n\n/**\n * @function px\n * @public\n * @param {String|Number} size - String containing pixels value or a number.\n * @returns {Number} Number of pixels.\n * @description Function for parsing pixel strings.\n *\n * @example\n * px('0px');  // 0\n * px('42px'); // 42\n */\nfunction px(size) {\n  return Number(String(size).replace(/px$/, ''));\n}\n\nexport { Elem, win, doc, html, body, head, find, parseHTML, px };\n","export function registerDBlock(Block) {\n  class DBlock extends Block {\n    static template = '<d-elements value=\"{elems}\" />';\n\n    afterConstruct() {\n      this.watch('args.children', this.constructChildren);\n      this.constructChildren();\n    }\n\n    constructChildren = () => {\n      const {\n        parentScope: { children },\n        dBlockName\n      } = this.$$;\n      const {\n        children: argsChildren\n      } = this.args;\n      const eventualChildren = argsChildren || children;\n      let found;\n\n      if (dBlockName) {\n        found = children.find(({ name: nodeName }) => nodeName === `d-block-${ dBlockName }`);\n\n        this.elems = found && found.value.children.length\n          ? found.value.children\n          : null;\n      } else {\n        this.elems = eventualChildren;\n      }\n    };\n  }\n\n  return {\n    name: 'd-block',\n    value: DBlock\n  };\n}\n","import { Arr } from '../Arr';\nimport { Super } from '../Super';\nimport {\n  assign, iterate,\n  isArray, isFunction\n} from '../helpers';\n\nexport function registerDEach(Block, createBlock) {\n  class DEach extends Block {\n    constructor(opts) {\n      super(opts);\n\n      const {\n        args: {\n          item: itemName = '$item',\n          index: indexName = '$index'\n        }\n      } = this;\n\n      assign(this.$$, {\n        uids: new Super({}),\n        items: new Arr([]),\n        UID: this.args.uid || 'undefined',\n        itemName,\n        indexName\n      });\n    }\n\n    afterRender() {\n      this.constructValues();\n      this.watch('args.set', 'args.sortBy', 'args.filterBy', this.constructValues);\n    }\n\n    constructValues = () => {\n      const {\n        uids,\n        parentScope,\n        parentElem,\n        scope,\n        itemName,\n        indexName,\n        UID\n      } = this.$$;\n      const {\n        children,\n        args: { sortBy }\n      } = this;\n      const $uids = uids.$;\n      const newKeys = {};\n      const newUIDs = {};\n      let {\n        set,\n        filterBy\n      } = this.args;\n\n      if (isArray(set) && isFunction(sortBy)) {\n        set = new Arr(set)\n          .slice()\n          .sort(sortBy)\n          .$;\n      }\n\n      if (isFunction(filterBy)) {\n        filterBy = [filterBy];\n      }\n\n      if (isArray(filterBy)) {\n        iterate(filterBy, (filter) => {\n          set = new Super(set).filter(filter).$;\n        });\n      }\n\n      new Super(set).forEach((item, index) => {\n        scope[itemName] = item;\n        scope[indexName] = index;\n\n        const uid = parentScope.$$.evaluate(UID, null, null, false, false, this);\n\n        newKeys[uid] = newKeys[uid] || {};\n        newKeys[uid][index] = true;\n        newUIDs[index] = uid;\n      });\n\n      scope[itemName] = null;\n      scope[indexName] = null;\n\n      uids.forEach((items, uid) => {\n        if (!newKeys[uid]) {\n          items.forEach((Item) => {\n            Item.$$.remove();\n          });\n\n          return;\n        }\n\n        items.splice(Object.keys(newKeys[uid]).length).forEach((Item) => {\n          Item.$$.remove();\n        });\n      });\n\n      let prevBlock;\n\n      new Super(set).forEach((item, index) => {\n        const uid = newUIDs[index];\n        let block;\n\n        if ($uids[uid] && $uids[uid].length) {\n          block = newKeys[uid][index] = uids.$[uid].shift();\n          block.$$.scope[indexName] = index;\n          block.$$.scope[itemName] = item;\n\n          if (block.$$.prevBlock !== prevBlock && prevBlock) {\n            prevBlock.$$.insertAfterIt(block.$$.content, true);\n          }\n        } else {\n          block = newKeys[uid][index] = createBlock({\n            node: {\n              itemName,\n              indexName,\n              item,\n              index,\n              name: '#d-item',\n              block: parentScope,\n              children\n            },\n            parent: this,\n            parentElem,\n            parentBlock: this,\n            prevBlock\n          });\n        }\n\n        block.$$.prevBlock = prevBlock;\n        prevBlock = block;\n      });\n\n      this.$$.uids = new Super(newKeys).map((items) => (\n        new Super(items).values()\n      ));\n    };\n  }\n\n  return {\n    name: 'd-each',\n    value: DEach\n  };\n}\n","import { Arr } from '../Arr';\nimport { Elem } from '../Elem';\n\nexport function registerDElements(Block, createBlock) {\n  class DElements extends Block {\n    afterConstruct() {\n      const { parentElem } = this.$$;\n\n      this.watch('args.value', (value) => {\n        const {\n          children,\n          mixins,\n          parent,\n          watchersToRemove,\n          content\n        } = this.$$;\n\n        children.forEach((child) => {\n          child.$$.remove(true);\n        });\n        mixins.forEach((mixin) => {\n          mixin.$$.remove(true);\n        });\n        content.remove();\n\n        if (parent instanceof Block) {\n          parent.$$.removeContent(content);\n        }\n\n        this.$$.children = new Arr([]);\n        this.$$.mixins = new Arr([]);\n        this.$$.watchersToRemove = watchersToRemove.filter(({ watchers, watcher, forDElements }) => {\n          if (forDElements) {\n            return true;\n          }\n\n          const index = watchers.indexOf(watcher);\n\n          if (index !== -1) {\n            watchers.splice(index, 1);\n          }\n        });\n        this.$$.content = new Elem();\n\n        let prevBlock;\n\n        new Arr(value || []).forEach((child) => {\n          prevBlock = createBlock({\n            node: child,\n            parent: this,\n            parentElem,\n            parentBlock: this,\n            prevBlock\n          });\n        });\n      });\n    }\n  }\n\n  return {\n    name: 'd-elements',\n    value: DElements\n  };\n}\n","export function registerDIf(Block) {\n  class DIf extends Block {\n    static template = '<d-elements value=\"{elems}\"/>';\n\n    constructor(opts) {\n      super(opts);\n\n      const { parentScope } = this.$$;\n      let index = Infinity;\n      const values = this.children.map((child, i) => {\n        const {\n          name,\n          attrs,\n          children\n        } = child;\n        let cond = attrs.if;\n\n        if (name !== 'd-else' && cond) {\n          cond = parentScope.$$.evaluate(cond, (newValue) => {\n            if (!!newValue === values.$[i]) {\n              return;\n            }\n\n            values.$[i] = !!newValue;\n\n            if (i > index) {\n              return;\n            }\n\n            if (i < index) {\n              index = i;\n              this.elems = children;\n\n              return;\n            }\n\n            const found = values.find(Boolean);\n\n            if (found) {\n              index = found.key;\n              this.elems = this.children.$[found.key].children;\n            } else {\n              index = Infinity;\n              this.elems = null;\n            }\n          }, this);\n        } else {\n          cond = true;\n        }\n\n        if (cond && index === Infinity) {\n          index = i;\n          this.elems = children;\n        }\n\n        return !!cond;\n      });\n    }\n  }\n\n  return {\n    name: 'd-if',\n    value: DIf\n  };\n}\n","export function registerDItem(Block) {\n  class DItem extends Block {\n    static template = '<d-elements value=\"{children}\"/>';\n  }\n\n  return {\n    name: '#d-item',\n    value: DItem\n  };\n}\n","import { Arr } from '../Arr';\nimport { Super } from '../Super';\n\nexport function registerDSwitch(Block) {\n  class DSwitch extends Block {\n    static template = '<d-elements value=\"{elems}\"/>';\n\n    index = Infinity;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        $$: { parentScope },\n        args,\n        args: { value }\n      } = this;\n      let wasDefault;\n\n      this.values = this.children.object((values, child, i) => {\n        const {\n          name,\n          attrs,\n          children\n        } = child;\n        let val = attrs.if;\n\n        if (wasDefault) {\n          return;\n        }\n\n        if (name !== 'd-case' && name !== 'd-default') {\n          return;\n        }\n\n        if (name === 'd-default') {\n          wasDefault = true;\n        }\n\n        if (name === 'd-default') {\n          val = args.value;\n        } else if (val) {\n          val = parentScope.$$.evaluate(val, (newValue) => {\n            if (this.equals(this.values.$[i].value, newValue)) {\n              return;\n            }\n\n            this.values.$[i].value = newValue;\n\n            if (i > this.index) {\n              return;\n            }\n\n            if (i < this.index) {\n              this.index = i;\n              this.elems = children;\n\n              return;\n            }\n\n            const found = this.values.find(({ value }) => (\n              this.equals(value, args.value)\n            ));\n\n            if (found) {\n              this.index = found.key;\n              this.elems = found.value.children;\n            } else {\n              this.index = Infinity;\n              this.elems = null;\n            }\n          }, this);\n        } else {\n          val = undefined;\n        }\n\n        if (this.equals(val, value) && this.index === Infinity) {\n          this.index = i;\n          this.elems = children;\n        }\n\n        values.push({\n          name,\n          children,\n          value: val\n        });\n      }, new Arr([]));\n    }\n\n    afterConstruct() {\n      this.watch('args.value', (newValue) => {\n        this.index = Infinity;\n        this.values.forEach(({ name, value, children }, i) => {\n          const val = name === 'd-default'\n            ? newValue\n            : value;\n\n          if (this.equals(val, newValue) && this.index === Infinity) {\n            this.index = i;\n            this.elems = children;\n          }\n        });\n\n        if (this.index === Infinity) {\n          this.elems = null;\n        }\n      });\n    }\n\n    equals(value1, value2) {\n      return new Super(value1).equals(value2);\n    }\n  }\n\n  return {\n    name: 'd-switch',\n    value: DSwitch\n  };\n}\n","import { Super } from '../Super';\n\nexport function registerDAttr(Mixin) {\n  class DAttr extends Mixin {\n    afterUpdate(newValue, oldValue) {\n      const { elem } = this;\n\n      newValue = new Super(newValue || {}).$;\n\n      new Super(oldValue).forEach((value, prop) => {\n        if (!newValue[prop]) {\n          elem.removeAttr(prop);\n        }\n      });\n      elem.attr(newValue);\n    }\n  }\n\n  return {\n    name: 'd-attr',\n    value: DAttr\n  };\n}\n\n","import { isFunction } from '../helpers';\n\nexport function registerDBind(Mixin) {\n  class DBind extends Mixin {\n    afterUpdate(value) {\n      if (this.off) {\n        this.off();\n      }\n\n      if (!isFunction(value)) {\n        return;\n      }\n\n      this.off = this.elem.on(this.match[0], value);\n    }\n  }\n\n  return {\n    name: 'd-bind',\n    value: DBind\n  };\n}\n","import { Super } from '../Super';\nimport { isArray, isString, iterate } from '../helpers';\n\nexport function registerDClass(Mixin) {\n  class DClass extends Mixin {\n    classes = [];\n\n    afterUpdate(newValue) {\n      const {\n        elem,\n        classes\n      } = this;\n      const newClasses = [];\n\n      newValue = new Super(newValue).$;\n\n      if (isString(newValue)) {\n        newValue = newValue.split(/\\s+/);\n      }\n\n      if (isArray(newValue)) {\n        iterate(classes, (cls) => {\n          if (newValue.indexOf(cls) === -1) {\n            elem.removeClass(cls);\n          }\n        });\n        iterate(newValue, (cls) => {\n          if (isString(cls)) {\n            newClasses.push(cls);\n            elem.addClass(cls);\n          }\n        });\n      } else {\n        iterate(classes, (cls) => {\n          if (!newValue || !newValue[cls]) {\n            elem.removeClass(cls);\n          }\n        });\n        iterate(newValue, (val, cls) => {\n          if (val) {\n            newClasses.push(cls);\n            elem.addClass(cls);\n          }\n        });\n      }\n\n      this.classes = newClasses;\n    }\n  }\n\n  return {\n    name: 'd-class',\n    value: DClass\n  };\n}\n","import { isFunction, isString } from '../helpers';\n\nexport function registerDElem(Mixin) {\n  class DElem extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        block,\n        elem\n      } = this;\n      const value = this.evaluateOnce();\n\n      if (isFunction(value)) {\n        value(elem);\n      } else if (isString(value)) {\n        block[value] = elem;\n      }\n    }\n  }\n\n  return {\n    name: 'd-elem',\n    value: DElem\n  };\n}\n","export function registerDHide(Mixin) {\n  class DHide extends Mixin {\n    afterUpdate(value) {\n      const { elem } = this;\n\n      if (value) {\n        elem.hide();\n      } else {\n        elem.show();\n      }\n    }\n  }\n\n  return {\n    name: 'd-hide',\n    value: DHide\n  };\n}\n","import { isFunction, isString } from '../helpers';\n\nexport function registerDNode(Mixin) {\n  class DNode extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        block,\n        node\n      } = this;\n      const value = this.evaluateOnce();\n\n      if (isFunction(value)) {\n        value(node);\n      } else if (isString(value)) {\n        block[value] = node;\n      }\n    }\n  }\n\n  return {\n    name: 'd-node',\n    value: DNode\n  };\n}\n","export function registerDOn(Mixin) {\n  class DOn extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      this.elem.on(this.match[0], () => {\n        this.evaluateOnce();\n      });\n    }\n  }\n\n  return {\n    name: 'd-on',\n    value: DOn\n  };\n}\n","export function registerDShow(Mixin) {\n  class DShow extends Mixin {\n    afterUpdate(value) {\n      const { elem } = this;\n\n      if (value) {\n        elem.show();\n      } else {\n        elem.hide();\n      }\n    }\n  }\n\n  return {\n    name: 'd-show',\n    value: DShow\n  };\n}\n","import { Super } from '../Super';\n\nexport function registerDStyle(Mixin) {\n  class DStyle extends Mixin {\n    afterUpdate(newValue, oldValue) {\n      const { elem } = this;\n\n      newValue = new Super(newValue || {}).$;\n\n      new Super(oldValue).forEach((value, prop) => {\n        if (!newValue[prop]) {\n          elem.removeCSS(prop);\n        }\n      });\n      elem.css(newValue);\n    }\n  }\n\n  return {\n    name: 'd-style',\n    value: DStyle\n  };\n}\n","import { switcher } from '../Switcher';\nimport { isFunction } from '../helpers';\n\nconst listenerSwitcher = switcher('strictEquals', 'input')\n  .case('form', 'input, change')\n  .case('select', 'change')\n  .case('input', (type) => (\n    type === 'radio'\n    || type === 'checkbox'\n    || type === 'color'\n    || type === 'file'\n      ? 'change'\n      : 'change input'\n  ));\n\nexport function registerDValidate(Mixin) {\n  class DValidate extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const { elem } = this;\n      const validator = this.evaluateOnce();\n\n      if (isFunction(validator)) {\n        elem.validate(validator);\n      } else if (validator === true) {\n        elem.on(listenerSwitcher(elem.name, [elem.prop('type')]), () => {\n          elem.validate();\n        });\n      }\n    }\n  }\n\n  return {\n    name: 'd-validate',\n    value: DValidate\n  };\n}\n","import { Arr } from '../Arr';\nimport { switcher } from '../Switcher';\nimport { isArray, isFunction, isNil } from '../helpers';\n\nconst propSwitcher = switcher('strictEquals', (type, elem) => (\n  elem.hasAttr('contenteditable') || elem.hasAttr('contentEditable')\n    ? 'text'\n    : 'value'\n))\n  .case('select', (type, elem) => (\n    elem.hasAttr('multiple')\n      ? 'multiple-select'\n      : 'value'\n  ))\n  .case('input', (type) => {\n    if (type === 'file') {\n      return 'files';\n    }\n\n    return type === 'radio' || type === 'checkbox'\n      ? 'checked'\n      : 'value';\n  });\nconst setValueSwitcher = switcher('strictEquals', (value) => value)\n  .case('input', (value, type, inputValue) => {\n    if (type !== 'radio' && type !== 'checkbox') {\n      return value;\n    }\n\n    if (type === 'radio') {\n      return value === inputValue;\n    }\n\n    return value.indexOf(inputValue) !== -1;\n  });\nconst getValueSwitcher = switcher('strictEquals', (value) => value)\n  .case('select', (value, type, inputValue, values, elem, options) => {\n    if (!elem.hasAttr('multiple')) {\n      return value;\n    }\n\n    return options\n      .object((values, { selected, value }) => {\n        if (selected && values.indexOf(value) === -1) {\n          values.push(value);\n        }\n      }, [])\n      .$;\n  })\n  .case('input', (value, type, inputValue, values, elem, options, init) => {\n    if (type !== 'radio' && type !== 'checkbox') {\n      return value;\n    }\n\n    if (type === 'radio') {\n      return value\n        ? inputValue\n        : null;\n    }\n\n    if (!value && init) {\n      return values;\n    }\n\n    if (value) {\n      if (values) {\n        return values.indexOf(inputValue) === -1\n          ? new Arr(values).concat(inputValue).$\n          : values;\n      }\n\n      return [inputValue];\n    }\n\n    if (!isArray(values)) {\n      return [];\n    }\n\n    const index = values.indexOf(inputValue);\n\n    if (index !== -1) {\n      return [\n        ...new Arr(values).slice(0, index).$,\n        ...new Arr(values).slice(index + 1).$\n      ];\n    }\n\n    return values;\n  });\nconst listenerSwitcher = switcher('strictEquals', 'input')\n  .case('select', 'change')\n  .case('input', (type) => (\n    type === 'radio'\n    || type === 'checkbox'\n    || type === 'color'\n    || type === 'file'\n      ? 'change'\n      : 'change input'\n  ));\n\nexport function registerDValue(Mixin) {\n  class DValue extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        block,\n        elem,\n        node\n      } = this;\n      const name = elem.name;\n      const type = elem.prop('type');\n      const value = this.evaluateOnce();\n      let initialScopeValue = null;\n\n      this.prop = propSwitcher(name, [type, elem]);\n      this.name = name;\n      this.type = type;\n      this.value = value;\n      this.options = elem.find('option');\n\n      if (!isFunction(value)) {\n        initialScopeValue = block.$$.evaluate(`$.${ value }`, (newValue) => {\n          if (this.currentValue !== newValue) {\n            this.currentValue = newValue;\n            this.setProp(newValue);\n          }\n        }, this);\n      }\n\n      const initialElemValue = this.getProp(initialScopeValue, true);\n      const isInitialScopeValueNull = isNil(initialScopeValue);\n      const isCheckbox = type === 'checkbox';\n      const changeScope = () => {\n        this.currentValue = this.getProp(this.currentValue);\n        this.changeScope();\n      };\n\n      if (isInitialScopeValueNull || isCheckbox) {\n        this.currentValue = initialElemValue;\n        this.changeScope();\n\n        if (!isInitialScopeValueNull && isCheckbox) {\n          this.setProp(initialScopeValue);\n        }\n      } else {\n        this.currentValue = initialScopeValue;\n        this.setProp(initialScopeValue);\n      }\n\n      elem.on(listenerSwitcher(name, [type]), (e) => {\n        if (e.target === node) {\n          changeScope();\n        }\n      });\n      elem.closest('form').on('reset', () => {\n        setTimeout(changeScope, 0);\n      });\n    }\n\n    changeScope() {\n      const {\n        block,\n        value,\n        currentValue\n      } = this;\n\n      if (isFunction(value)) {\n        value(currentValue);\n      } else {\n        block[value] = currentValue;\n      }\n    }\n\n    setProp(value) {\n      const {\n        elem,\n        name,\n        prop,\n        type,\n        node,\n        options\n      } = this;\n\n      if (prop === 'text') {\n        elem.text(value);\n      } else if (prop === 'multiple-select') {\n        options.forEach((option) => {\n          option.selected = value.indexOf(option.value) !== -1;\n        });\n      } else {\n        elem.prop(prop, setValueSwitcher(name, [value, type, node.value]));\n      }\n    }\n\n    getProp(values, init) {\n      const {\n        elem,\n        name,\n        prop,\n        type,\n        node,\n        options\n      } = this;\n\n      return prop === 'text'\n        ? elem.text()\n        : getValueSwitcher(name, [elem.prop(prop), type, node.value, values, elem, options, init]);\n    }\n  }\n\n  return {\n    name: 'd-value',\n    value: DValue\n  };\n}\n","const emptySpaceRegExp = /^\\s+/;\nconst anyEmptySpaceRegExp = /\\s+/g;\nconst anyEscapedExpressionRegExp = /\\\\[\\s\\S]/g;\nconst anyDoubleQuoteRegExp = /\"/g;\nconst anyNewLineRegExp = /\\r\\n|\\r|\\n/g;\nconst anyCommaEmptySpace = /\\s*,\\s*/;\nconst properEscapedRegExp = /\\\\|u|n|f|r|t|b|v|`[0-7]/;\n\nconst simpleExpressionRegExp = /^(?:true|false|null|undefined)/;\nconst variableRegExp = /^[a-zA-Z_$][a-zA-Z0-9_$]*/;\nconst numberRegExp = /^(?:NaN|-?(?:(?:\\d+|\\d*\\.\\d+)(?:[E|e][+|\\-]?\\d+)?|Infinity))/;\nconst stringRegExp = /^(?:\"(?:(?:\\\\[\\s\\S])|[^\"\\n\\\\])*\"|'(?:(?:\\\\[\\s\\S])|[^'\\n\\\\])*')/;\nconst regexpRegExp = /^\\/(?:(?:\\\\[\\s\\S])|[^\\/\\n\\\\])+\\/[gimuy]*/;\nconst arrowFunctionRegExp = /^(?:(?:\\(\\s*((?:[a-zA-Z_$][a-zA-Z0-9_$]*\\s*,\\s*)?(?:[a-zA-Z_$][a-zA-Z0-9_$]*)?)\\s*\\))|([a-zA-Z_$][a-zA-Z0-9_$]*))\\s*=>/;\nconst templateStringContentRegExp = /^(?:(?:\\\\[\\s\\S])|\\$(?!\\{)|[^`$\\\\])+/;\nconst operatorRegExp = /^(?:(?:>>>|>>|<<)=?|&&|\\|\\||,|(?:\\+|-|\\*|\\/|%|&|\\||\\^|<|>|==)=?|=)/;\nconst pointOperatorRegExp = /^\\.[a-zA-Z_$][a-zA-Z0-9_$]*/;\nconst propertyRegExp = /^((?:\"(?:(?:\\\\[\\s\\S])|[^\"\\n\\\\])*\"|'(?:(?:\\\\[\\s\\S])|[^'\\n\\\\])*'|[a-zA-Z_$][a-zA-Z0-9_$]*))\\s*:/;\nconst shorthandPropertyRegExp = /^([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*(?=,|})(,?)/;\nconst unaryOperatorRegExp = /^(?:-|~|\\+|!)/;\n\nconst EXPRESSION = 'expression';\nconst END_OF_FUNC_BODY = 'end of function body';\nconst submitString = 'Please, submit an issue at https://github.com/dwaynejs/dwayne/issues/new, if needed.';\n\nfunction parseJS(string, wholeString, curlyError) {\n  curlyError = !!curlyError;\n\n  const initialString = string;\n  const expected = {\n    expression: true,\n    closingExpressions: [],\n    functionScope: {}\n  };\n  const variables = {};\n  const { closingExpressions } = expected;\n  let expression = '';\n  let index = 0;\n\n  while (string.length) {\n    let spaceMatch;\n    let match;\n    let toConcat = '';\n    let matched;\n    let isEmptySpace;\n    let {\n      type: properType,\n      symbol: properSymbol\n    } = closingExpressions[closingExpressions.length - 1] || {};\n    const firstSymbol = string[0];\n\n    if ((spaceMatch = string.match(emptySpaceRegExp)) && !expected.templateString) {\n      isEmptySpace = true;\n      match = spaceMatch[0];\n    } else {\n      if (expected.expression) {\n        match = string.match(arrowFunctionRegExp);\n\n        if (match) {\n          const vars = (match[2] || match[1]).split(anyCommaEmptySpace);\n          const variables = [];\n          const newFunctionVars = Object.create(expected.functionScope);\n\n          for (let i = 0, length = vars.length; i < length; i++) {\n            const variable = vars[i];\n\n            if (variable) {\n              variables.push(variable);\n              newFunctionVars[variable] = true;\n            }\n          }\n\n          toConcat = `function(${ variables.join(',') }){return `;\n          expected.functionScope = newFunctionVars;\n          closingExpressions.push({\n            type: 'any',\n            symbol: END_OF_FUNC_BODY\n          }, {\n            type: 'any',\n            symbol: EXPRESSION\n          });\n        } else if (firstSymbol === '(') {\n          match = '(';\n          closingExpressions.push({\n            type: 'paren',\n            symbol: ')'\n          });\n        } else if (firstSymbol === '[') {\n          match = '[';\n          closingExpressions.push({\n            type: 'array',\n            symbol: ']'\n          });\n        } else if (firstSymbol === '`') {\n          match = '`';\n          toConcat = '(\"\"';\n          expected.templateString = true;\n          closingExpressions.push({\n            type: 'templateString',\n            symbol: '`'\n          });\n\n          delete expected.expression;\n        } else if (firstSymbol === '{') {\n          match = '{';\n          expected.objectProperty = true;\n          closingExpressions.push({\n            type: 'object',\n            symbol: '}'\n          });\n\n          delete expected.expression;\n        } else {\n          match = string.match(unaryOperatorRegExp);\n\n          if (match) {\n            toConcat = match[0].replace(anyEmptySpaceRegExp, ' ');\n          } else {\n            match = string.match(simpleExpressionRegExp);\n\n            if (!match) {\n              match = string.match(numberRegExp);\n\n              if (!match) {\n                match = string.match(stringRegExp);\n\n                if (!match) {\n                  match = string.match(regexpRegExp);\n\n                  if (!match) {\n                    match = string.match(variableRegExp);\n\n                    if (match) {\n                      const variable = match[0];\n\n                      if (!expected.functionScope[variable]) {\n                        variables[variable] = true;\n                      }\n\n                      toConcat = getVariable(variable, expected.functionScope);\n                    }\n                  }\n                }\n              }\n            }\n\n            if (match) {\n              expected.operator = true;\n              matched = EXPRESSION;\n\n              delete expected.expression;\n            }\n          }\n        }\n      } else if (expected.templateString) {\n        match = string.match(templateStringContentRegExp);\n\n        if (match) {\n          const string = match[0]\n            .replace(anyEscapedExpressionRegExp, (match) => {\n              const second = match[1];\n\n              return properEscapedRegExp.test(second)\n                ? match\n                : second;\n            })\n            .replace(anyDoubleQuoteRegExp, '\\\\\"')\n            .replace(anyNewLineRegExp, (match) => {\n              if (match === '\\r\\n') {\n                match = '\\\\r\\\\n';\n              } else if (match === '\\r') {\n                match = '\\\\r';\n              } else {\n                match = '\\\\n';\n              }\n\n              return `\"+\"${ match }\"+\"`;\n            });\n\n          toConcat = `+\"${ string }\"`;\n        } else if (firstSymbol === '`') {\n          match = '`';\n          matched = EXPRESSION;\n          toConcat = ')';\n          expected.operator = true;\n          closingExpressions.pop();\n\n          delete expected.templateString;\n        } else if (string.slice(0, 2) === '${') {\n          match = '${';\n          toConcat = '+(';\n          expected.expression = true;\n          closingExpressions.push({\n            type: 'templateString',\n            symbol: '}'\n          }, {\n            type: 'any',\n            symbol: EXPRESSION\n          });\n\n          delete expected.templateString;\n        }\n      } else if (expected.objectProperty) {\n        match = string.match(propertyRegExp);\n\n        if (match) {\n          toConcat = `${ match[1] }:`;\n          expected.expression = true;\n          closingExpressions.push({\n            type: 'any',\n            symbol: EXPRESSION\n          });\n\n          delete expected.objectProperty;\n        } else {\n          match = string.match(shorthandPropertyRegExp);\n\n          if (match) {\n            const variable = match[1];\n\n            if (!expected.functionScope[variable]) {\n              variables[variable] = true;\n            }\n\n            toConcat = `${ variable }:${ getVariable(variable, expected.functionScope) }${ match[2] }`;\n\n            if (!match[2]) {\n              expected.operator = true;\n\n              delete expected.objectProperty;\n            }\n          }\n        }\n      } else if (expected.operator) {\n        if (firstSymbol === ')' || firstSymbol === ']' || firstSymbol === '}' || firstSymbol === ',') {\n          toConcat = closeFunctionBody(expected);\n\n          ({\n            type: properType,\n            symbol: properSymbol\n          } = closingExpressions[closingExpressions.length - 1] || {});\n        }\n\n        if (firstSymbol === '(') {\n          match = '(';\n          expected.expression = true;\n          closingExpressions.push({\n            type: 'call',\n            symbol: ')'\n          });\n\n          delete expected.operator;\n        } else if (firstSymbol === '?') {\n          match = '?';\n          expected.expression = true;\n          closingExpressions.push({\n            type: 'ternary',\n            symbol: ':'\n          }, {\n            type: 'any',\n            symbol: EXPRESSION\n          });\n\n          delete expected.operator;\n        } else if (firstSymbol === ':' && properSymbol === ':') {\n          match = ':';\n          expected.expression = true;\n          closingExpressions.pop();\n\n          delete expected.operator;\n        } else if (firstSymbol === '[') {\n          match = '[';\n          expected.expression = true;\n          closingExpressions.push({\n            type: 'property',\n            symbol: ']'\n          }, {\n            type: 'any',\n            symbol: EXPRESSION\n          });\n\n          delete expected.operator;\n        } else if (firstSymbol === '}' && properSymbol === '}' && properType === 'templateString') {\n          match = firstSymbol;\n          toConcat += ')';\n          expected.templateString = true;\n          closingExpressions.pop();\n\n          delete expected.operator;\n        } else if (firstSymbol === ']' && properSymbol === ']' && properType === 'property') {\n          match = firstSymbol;\n          toConcat += firstSymbol;\n          matched = EXPRESSION;\n          closingExpressions.pop();\n        } else if (firstSymbol === ')' && properSymbol === ')' && properType === 'paren') {\n          match = firstSymbol;\n          toConcat += firstSymbol;\n          matched = EXPRESSION;\n          closingExpressions.pop();\n        } else if (firstSymbol === ',' && properSymbol === '}' && properType === 'object') {\n          match = firstSymbol;\n          toConcat += firstSymbol;\n          matched = EXPRESSION;\n          expected.objectProperty = true;\n\n          delete expected.operator;\n        } else {\n          match = string.match(pointOperatorRegExp);\n\n          if (match) {\n            matched = EXPRESSION;\n          } else {\n            match = string.match(operatorRegExp);\n\n            if (match) {\n              toConcat += match[0].replace(anyEmptySpaceRegExp, ' ');\n              expected.expression = true;\n              closingExpressions.push({\n                type: 'any',\n                symbol: EXPRESSION\n              });\n\n              delete expected.operator;\n            }\n          }\n        }\n      }\n\n      if (!match) {\n        if (firstSymbol === ')' || firstSymbol === ']' || firstSymbol === '}') {\n          toConcat += closeFunctionBody(expected);\n\n          ({\n            type: properType,\n            symbol: properSymbol\n          } = closingExpressions[closingExpressions.length - 1] || {});\n        }\n\n        let closingBrace;\n\n        if (properSymbol === ')' && firstSymbol === ')' && properType === 'call') {\n          closingBrace = true;\n\n          delete expected.expression;\n        } else if (properSymbol === ']' && firstSymbol === ']' && properType === 'array') {\n          closingBrace = true;\n\n          delete expected.expression;\n        } else if (firstSymbol === '}' && properSymbol === '}' && properType === 'object') {\n          closingBrace = true;\n\n          delete expected.objectProperty;\n        }\n\n        if (closingBrace) {\n          match = firstSymbol;\n          toConcat += firstSymbol;\n          expected.operator = true;\n          matched = EXPRESSION;\n          closingExpressions.pop();\n        }\n      }\n\n      if (\n        matched === EXPRESSION\n        && closingExpressions.length\n        && closingExpressions[closingExpressions.length - 1].symbol === EXPRESSION\n      ) {\n        closingExpressions.pop();\n      }\n    }\n\n    const noMatch = !match || !match[0];\n    const curlyIndex = string.indexOf('}');\n\n    if (noMatch && (curlyIndex > 0 || curlyError)) {\n      const expressionString = curlyError\n        ? initialString\n        : initialString.slice(0, initialString.length - string.length + curlyIndex);\n\n      throw new Error(\n        `Syntax error near ~~~ \"${ initialString.slice(index, index + 15) }\" ~~~ (index: ${ index }, ${ constructErrorInfo(expressionString, wholeString, closingExpressions, curlyError) }`\n      );\n    } else if (noMatch && curlyIndex === 0) {\n      expression += toConcat;\n\n      break;\n    } else if (noMatch && curlyIndex === -1) {\n      return null;\n    }\n\n    match = typeof match === 'string' ? match : match[0];\n\n    if (!isEmptySpace) {\n      expression += toConcat || match;\n    }\n\n    string = string.slice(match.length);\n    index += match.length;\n  }\n\n  expression += closeFunctionBody(expected);\n\n  if (closingExpressions.length) {\n    const expressionString = initialString.slice(0, initialString.length - string.length);\n\n    throw new Error(`Unexpected end of input (${ constructErrorInfo(expressionString, wholeString, closingExpressions, curlyError) }`);\n  }\n\n  if (!string.length && !curlyError) {\n    return null;\n  }\n\n  return {\n    expression,\n    variables,\n    rest: string.slice(1)\n  };\n}\n\nfunction getVariable(name, functionScope) {\n  return functionScope[name]\n    ? name\n    : `$.${ name }`;\n}\n\nfunction closeFunctionBody(expected) {\n  const { closingExpressions } = expected;\n  let toConcat = '';\n\n  while (\n    closingExpressions[closingExpressions.length - 1]\n    && closingExpressions[closingExpressions.length - 1].symbol === END_OF_FUNC_BODY\n  ) {\n    toConcat += '}';\n    expected.functionScope = Object.getPrototypeOf(expected.functionScope);\n    closingExpressions.pop();\n\n    if (\n      closingExpressions.length\n      && closingExpressions[closingExpressions.length - 1].symbol === EXPRESSION\n    ) {\n      closingExpressions.pop();\n    }\n  }\n\n  return toConcat;\n}\n\nfunction constructErrorInfo(expressionString, wholeString, closingExpressions, curlyError) {\n  let { symbol: last } = closingExpressions[closingExpressions.length - 1] || {};\n  let wholeStringString = '';\n\n  if (last && last !== EXPRESSION && last !== END_OF_FUNC_BODY) {\n    last = `\"${ last }\"`;\n  }\n\n  if (!curlyError) {\n    wholeStringString = `, whole string: \"${ wholeString }\"`;\n  }\n\n  const lastString = last\n    ? `expected ${ last }, `\n    : '';\n\n  return `${ lastString }initial expression: \"${ expressionString }\"${ wholeStringString }). ${ submitString }`;\n}\n\nexport default parseJS;\n","/**\n * @module Block\n * @private\n * @mixin\n * @description Exports Block class.\n */\n\nimport { Arr } from './Arr';\nimport { doc, Elem } from './Elem';\nimport { Str } from './Str';\nimport { Super } from './Super';\nimport {\n  defineUsualProperties, defineFrozenProperties,\n  assign, iterate, validate, toJSON, parseJSON,\n  isFunction, isNil, isString, isUndefined\n} from './helpers';\nimport * as Blocks from './blocks';\nimport * as Mixins from './mixins';\nimport { htmlAllowedTagSymbols, htmlAllowedAttrSymbols } from './constants';\nimport markupToJSON from './helpers/markupToJSON';\nimport parseJS from './helpers/parseJS';\n\n/**\n * @typedef {Error} EvaluationError\n * @public\n * @property {String} expression - Expression which has been evaluated with the error.\n * @property {Block} block - Block in context of which the expression has been evaluated with the error.\n */\n\n/**\n * @callback Watcher\n * @public\n * @param {*} newValue - New value.\n * @param {*} oldValue - Old value.\n */\n\n/**\n * @callback Wrapper\n * @public\n * @param {Block} Block class to wrap.\n * @returns {Block} New Block class.\n */\n\n/**\n * @callback AfterUpdate\n * @public\n * @param {*} newValue - New value.\n * @param {*} oldValue - Old value.\n * @param {*} mixin - Mixin instance.\n */\n\nconst rootBlocks = Object.create(null);\nconst rootMixins = Object.create(null);\nconst isPrototypeOf = {}.isPrototypeOf;\nconst tagName = new RegExp(`^${ htmlAllowedTagSymbols }$`, 'i');\nconst attrName = new RegExp(`^${ htmlAllowedAttrSymbols }$`);\nconst svgNS = 'http://www.w3.org/2000/svg';\nconst curlyBracketRegExp = /\\{/;\nconst dRestRegExp = /^d-rest(?:-|$)/;\nconst afterElem = new Elem();\nlet evalMode;\nlet getting;\nlet changed;\n\n/**\n * @class Block\n * @public\n * @param {Object} opts - Element options.\n * @returns {Block} Instance of Block.\n * @description Class for dynamic templating.\n *\n * @example\n * import { D, Block, initApp, registerBlock } from 'dwayne';\n *\n * class App extends Block {\n *   static template = '<Hello text=\"{text}\"/>';\n *\n *   constructor(args, children) {\n *     super(args, children);\n *\n *     this.text = 'world (0)';\n *     this.times = 0;\n *\n *     this.setInterval();\n *   }\n *\n *   setInterval() {\n *     D(1000).interval(() => {\n *       this.text = `world (${ ++this.times })`;\n *     });\n *   }\n * }\n *\n * class Hello extends Block {\n *   static template = 'Hello, {args.text}!';\n * }\n *\n * Block.register('App', App);\n * Block.register('Hello', 'Hello, {args.text}!');\n *\n * initApp('App', document.getElementById('root'));\n */\nclass Block {\n  static _blocks = Object.create(rootBlocks);\n  static _mixins = Object.create(rootMixins);\n\n  /**\n   * @member {Boolean} [Block.collapseWhiteSpace = true]\n   * @type {Boolean}\n   * @public\n   * @description If the whitespace between html elements and\n   * in the start and the end inside the tag should be omitted during parsing.\n   */\n  static collapseWhiteSpace = true;\n\n  /**\n   * @member {Boolean} [Block.defaultArgs = null]\n   * @type {Boolean}\n   * @public\n   * @description If the whitespace between html elements and\n   * in the start and the end inside the tag should be omitted during parsing.\n   */\n  static defaultArgs = null;\n\n  /**\n   * @member {String} [Block.template = '']\n   * @type {String}\n   * @public\n   * @description Block template.\n   */\n  static template = '';\n\n  /**\n   * @method Block.onEvalError\n   * @public\n   * @param {EvaluationError} err - The method is called when an evaluation error occurs.\n   */\n  static onEvalError(err) {\n    console.error(`Eval error (evaluating \"${ err.expression }\" in context of block \"${ err.block.$$.name }\"):`, err);\n  }\n\n  static getBlocks() {\n    return new Super({ ...this._blocks });\n  }\n\n  static getMixins() {\n    return new Super({ ...this._mixins });\n  }\n\n  /**\n   * @method Block.block\n   * @public\n   * @param {String} name - Block or mixin name.\n   * @param {String|Block} Subclass - Subclass of Block or template string of it.\n   * @returns {void}\n   * @description Register block in the namespace of this.\n   */\n  static block(name, Subclass) {\n    const _this = new Super(this);\n\n    if (isString(Subclass)) {\n      Subclass = class extends Block {\n        static template = Subclass;\n      };\n    }\n\n    if (!isInstanceOfBlock(Subclass)) {\n      console.warn(`The \"${ name }\" class does not extend Block and will not be registered (Block.block)`);\n\n      return;\n    }\n\n    if (rootBlocks[name]) {\n      console.warn(`The \"${ name }\" block is a built-in block so the block will not be registered (Block.block)`);\n\n      return;\n    }\n\n    if (!tagName.test(name)) {\n      console.warn(`Name \"${ name }\" is not allowed for blocks so the block will not be registered (Block.block)`);\n\n      return;\n    }\n\n    if (!_this.hasOwn('_blocks')) {\n      this._blocks = Object.create(_this.proto().$._blocks);\n    }\n\n    const variables = {};\n\n    Subclass._html = transformDIfChildren(\n      transformJSExpressions(\n        markupToJSON(\n          `${ Subclass.template || '' }`,\n          Subclass.collapseWhiteSpace\n        ),\n        variables\n      )\n    );\n    Subclass._variables = new Super(variables).keys();\n\n    if (new Super(Subclass).hasOwn('defaultArgs')) {\n      new Super(Subclass.defaultArgs).proto(null);\n    }\n\n    this._blocks[name] = Subclass;\n  }\n\n  /**\n   * @method Block.mixin\n   * @public\n   * @param {String} name - Block or mixin name.\n   * @param {Mixin|AfterUpdate} Subclass - Subclass of Mixin or AfterUpdate callback.\n   * @returns {void}\n   * @description Register mixin in the namespace of this.\n   */\n  static mixin(name, Subclass) {\n    const _this = new Super(this);\n\n    if (isFunction(Subclass) && !isInstanceOfMixin(Subclass)) {\n      const afterUpdate = Subclass;\n\n      Subclass = class extends Mixin {\n        afterUpdate(newValue, oldValue) {\n          afterUpdate.call(this, newValue, oldValue, this);\n        }\n      };\n    }\n\n    if (!isInstanceOfMixin(Subclass)) {\n      console.warn(`The \"${ name }\" class does not extend Mixin and will not be registered (Block.mixin)`);\n\n      return;\n    }\n\n    if (rootMixins[name]) {\n      console.warn(`The \"${ name }\" mixin is a built-in mixin so the mixin will not be registered (Block.mixin)`);\n\n      return;\n    }\n\n    if (!attrName.test(name)) {\n      console.warn(`Name \"${ name }\" is not allowed for mixins so the mixin will not be registered (Block.mixin)`);\n\n      return;\n    }\n\n    if (!_this.hasOwn('_mixins')) {\n      this._mixins = Object.create(_this.proto().$._mixins);\n    }\n\n    Subclass._match = new RegExp(`^${ new Str(name).escapeRegExp().$ }(?:-([\\\\s\\\\S]+))?$`);\n\n    this._mixins[name] = Subclass;\n  }\n\n  /**\n   * @method Block.wrap\n   * @public\n   * @param {...Wrapper} wrappers - Functions that return wrapped block.\n   * @returns {Block} New block.\n   * @description Method for wrapping blocks into another blocks.\n   * It is considered best practice to just extends the old block with a new one.\n   *\n   * @example\n   * class MyBlock extends Block {\n   *   static template = '<div>123</div>';\n   * }\n   *\n   * MyBlock.wrap((Block) => {\n   *   return class extends Block {\n   *     static template = `<section class=\"wrapper\">${ Block.template }</section>`;\n   *\n   *     constructor(opts) {\n   *       super(opts);\n   *\n   *       this.additionalVar = 'additional';\n   *     }\n   *   };\n   * });\n   */\n  static wrap(...wrappers) {\n    return new Arr(arguments).reduce((block, wrapper) => wrapper(block), this);\n  }\n\n  constructor(opts) {\n    const {\n      name,\n      args: originalArgs,\n      dBlockName,\n      children,\n      parent,\n      parentElem,\n      parentBlock,\n      parentScope,\n      prevBlock\n    } = opts;\n    const watchersToRemove = new Arr([]);\n    const constructor = new Super(this).proto().$.constructor;\n    const childrenBlocks = new Arr([]);\n    const mixins = new Arr([]);\n    const isParentBlock = parent instanceof Block;\n\n    defineFrozenProperties(this, {\n      /**\n       * @member {Block} Block#$\n       * @type {Block}\n       * @public\n       * @description This.\n       */\n      $: this,\n\n      /**\n       * @member {Object} Block#$$\n       * @type {Object}\n       * @protected\n       * @property {Object} args - Private args scope.\n       * @property {Arr} children - Child blocks.\n       * @property {Arr} mixins - Child mixins.\n       * @property {Elem} parentElem - Parent element.\n       * @property {Elem} content - Content elements.\n       * @property {Function} evaluate - Evaluate function.\n       * @property {Object} global - Private global scope.\n       * @property {Object} locals - Private locals scope.\n       * @property {Arr} watchersToRemove - Watchers to remove before removing element.\n       */\n      $$: {\n        name,\n        dBlockName,\n        parent,\n        parentElem,\n        parentScope,\n        parentBlock,\n        content: new Elem(),\n        ns: constructor,\n        children: childrenBlocks,\n        mixins,\n        prevBlock,\n        watchersToRemove,\n        evaluate: (expression, onChange, instance, forDElements, forDItem, forDEach) => {\n          forDElements = !!forDElements;\n          forDItem = !!forDItem;\n\n          const scope = (name === '#d-item' && !forDItem) || forDEach\n            ? (forDEach || this).$$.scope\n            : this;\n          const { watchersToRemove } = instance ? instance.$$ : {};\n          let func;\n\n          try {\n            func = new Function('$', `return ${ expression }`);\n          } catch (err) {\n            throw new Error(`Syntax error (in \"${ expression }\" in context of block \"${ this.$$.name }\"): ${ err.message }`);\n          }\n\n          /* eslint no-new-func: 0 */\n          const evaluate = () => {\n            let result;\n\n            if (onChange) {\n              evalMode = true;\n              getting = new Arr([]);\n            }\n\n            try {\n              result = func(scope);\n            } catch (err) {\n              err.expression = expression;\n              err.block = this;\n              constructor.onEvalError(err);\n            }\n\n            if (onChange) {\n              const localWatchers = new Arr([]);\n\n              getting.forEach((watchers) => {\n                const watcher = () => {\n                  const newResult = evaluate();\n\n                  if (newResult !== result) {\n                    onChange(newResult, result);\n                  }\n                };\n                const watcherBlock = {\n                  forDElements,\n                  watcher,\n                  watchers\n                };\n\n                watcher.onRemove = () => {\n                  localWatchers.forEach((watcherBlock) => {\n                    const {\n                      watcher,\n                      watchers\n                    } = watcherBlock;\n                    const index1 = watchersToRemove.indexOf(watcherBlock);\n                    const index2 = watchers.indexOf(watcher);\n\n                    if (index1 !== -1) {\n                      watchersToRemove.splice(index1, 1);\n                    }\n\n                    if (index2 !== -1) {\n                      watchers.splice(index2, 1);\n                    }\n                  });\n                };\n\n                localWatchers.push(watcherBlock);\n                watchersToRemove.push(watcherBlock);\n                watchers.push(watcher);\n              });\n\n              evalMode = false;\n              getting = new Arr([]);\n            }\n\n            return result;\n          };\n\n          return evaluate();\n        },\n        remove: (isParentSignal) => {\n          removeWatchers(watchersToRemove);\n\n          childrenBlocks.forEach((child) => {\n            child.$$.remove(true);\n          });\n\n          mixins.forEach((mixin) => {\n            mixin.$$.remove(true);\n          });\n\n          try {\n            this.beforeRemove();\n          } catch (err) {\n            console.error(`Uncaught error in ${ name }#beforeRemove:`, err);\n          }\n\n          if (!isParentSignal && isParentBlock) {\n            parent.$$.removeContent(this.$$.content);\n          }\n\n          if (!isParentSignal && parentBlock) {\n            const index = parentBlock.$$.children.indexOf(this);\n\n            if (index !== -1) {\n              parentBlock.$$.children.splice(index, 1);\n            }\n          }\n\n          this.$$.content.remove();\n        },\n        addContent: (contentToAdd, notRecursive) => {\n          const index = this.$$.content.indexOf(contentToAdd.$[0].previousSibling) + 1;\n\n          if (index === 0) {\n            this.$$.content = contentToAdd\n              .slice()\n              .pushArray(this.$$.content.$);\n          } else {\n            this.$$.content = this.$$.content\n              .slice(0, index)\n              .pushArray(contentToAdd.$)\n              .pushArray(this.$$.content.slice(index).$);\n          }\n\n          if (isParentBlock && !notRecursive) {\n            parent.$$.addContent(contentToAdd);\n          }\n        },\n        moveContent: (contentToMove, after) => {\n          const index = this.$$.content.indexOf(contentToMove.$[0]);\n          const indexToPut = this.$$.content.indexOf(after.$[0]) + 1;\n\n          if (indexToPut === 0) {\n            this.$$.content = contentToMove\n              .slice()\n              .pushArray(this.$$.content.slice(indexToPut, index).$)\n              .pushArray(this.$$.content.slice(index + contentToMove.length).$);\n          } else if (index > indexToPut) {\n            this.$$.content = this.$$.content\n              .slice(0, indexToPut)\n              .pushArray(contentToMove.$)\n              .pushArray(this.$$.content.slice(indexToPut, index).$)\n              .pushArray(this.$$.content.slice(index + contentToMove.length).$);\n          } else {\n            this.$$.content = this.$$.content\n              .slice(0, index)\n              .pushArray(this.$$.content.slice(index + contentToMove.length, indexToPut).$)\n              .pushArray(contentToMove.$)\n              .pushArray(this.$$.content.slice(indexToPut).$);\n          }\n\n          if (isParentBlock && indexToPut) {\n            parent.$$.moveContent(contentToMove, after);\n          }\n        },\n        removeContent: (contentToRemove) => {\n          this.$$.content = this.$$.content.filter((elem) => (\n            contentToRemove.indexOf(elem) === -1\n          ));\n\n          if (isParentBlock) {\n            parent.$$.removeContent(contentToRemove);\n          }\n        },\n        insertInStartOfIt: (contentToInsert, moveFlag) => {\n          const { prevBlock } = this.$$;\n          let after = afterElem;\n\n          if (prevBlock instanceof Block) {\n            after = prevBlock.$$.insertAfterIt(contentToInsert, moveFlag);\n          } else if (prevBlock) {\n            after = prevBlock;\n            contentToInsert.insertAfter(prevBlock);\n\n            if (isParentBlock) {\n              if (moveFlag) {\n                parent.$$.moveContent(contentToInsert, after);\n              } else {\n                parent.$$.addContent(contentToInsert, true);\n              }\n            }\n          } else if (isParentBlock) {\n            const { prevBlock } = parent.$$;\n\n            if (prevBlock) {\n              if (prevBlock instanceof Block) {\n                after = prevBlock.$$.insertAfterIt(contentToInsert, moveFlag);\n              } else {\n                after = prevBlock;\n                contentToInsert.insertAfter(prevBlock);\n              }\n\n              if (moveFlag) {\n                parent.$$.moveContent(contentToInsert, after);\n              } else {\n                parent.$$.addContent(contentToInsert, true);\n              }\n            } else {\n              after = parent.$$.insertInStartOfIt(contentToInsert, moveFlag);\n            }\n          } else {\n            contentToInsert.into(parentElem, false);\n          }\n\n          if (moveFlag) {\n            this.$$.moveContent(contentToInsert, after);\n          } else {\n            this.$$.addContent(contentToInsert, true);\n          }\n\n          return after;\n        },\n        insertAfterIt: (contentToInsert, moveFlag) => {\n          const { prevBlock } = this.$$;\n          let after = afterElem;\n          let tryToAddOrMove;\n\n          if (this.$$.content.length) {\n            after = this.$$.content.last();\n            tryToAddOrMove = true;\n            contentToInsert.insertAfter(after);\n          } else if (prevBlock instanceof Block) {\n            after = prevBlock.$$.insertAfterIt(contentToInsert, moveFlag);\n          } else if (prevBlock) {\n            after = prevBlock;\n            tryToAddOrMove = true;\n            contentToInsert.insertAfter(prevBlock);\n          } else if (isParentBlock) {\n            after = parent.$$.insertInStartOfIt(contentToInsert, moveFlag);\n          } else {\n            contentToInsert.into(parentElem, false);\n          }\n\n          if (isParentBlock && tryToAddOrMove) {\n            if (moveFlag) {\n              parent.$$.moveContent(contentToInsert, after);\n            } else {\n              parent.$$.addContent(contentToInsert);\n            }\n          }\n\n          return after;\n        }\n      }\n    });\n\n    constructor._variables.forEach((variable) => {\n      this[variable] = isUndefined(this[variable]) ? undefined : this[variable];\n    });\n\n    const argsObject = Object.create(null);\n    const $argsObject = new Super(argsObject);\n    let args = Object.create(constructor.defaultArgs || null);\n\n    new Super(originalArgs).forEach((value, arg) => {\n      if (value === true) {\n        value = 'true';\n      }\n\n      const localArgs = args = Object.create(args);\n\n      if (dRestRegExp.test(arg)) {\n        const restArgs = parentScope.$$.evaluate(value, (value) => {\n          iterate(localArgs, (value, arg) => {\n            delete localArgs[arg];\n          });\n          defineUsualProperties(localArgs, transformRestArgs(\n            transformArgs(value, name)\n          ));\n          calculateArgs(args, argsObject, $argsObject);\n        }, this);\n\n        return defineUsualProperties(localArgs, transformRestArgs(\n          transformArgs(restArgs, name)\n        ));\n      }\n\n      const forDElements = name === 'd-elements' && arg === 'value';\n\n      defineUsualProperties(localArgs, {\n        [arg]: parentScope.$$.evaluate(value, (value) => {\n          localArgs[arg] = value;\n          calculateArgs(args, argsObject, $argsObject);\n        }, this, forDElements, forDElements && parentBlock.$$.name === '#d-item')\n      });\n    });\n\n    const realArgs = {};\n\n    for (const arg in args) {\n      realArgs[arg] = args[arg];\n    }\n\n    defineFrozenProperties(this, {\n      /**\n       * @member {Object} Block#args\n       * @type {Object}\n       * @public\n       */\n      args: argsObject,\n\n      /**\n       * @member {Object} Block#children\n       * @type {Object}\n       * @public\n       */\n      children: children || new Arr([]),\n\n      /**\n       * @member {Object} Block#global\n       * @type {Object}\n       * @public\n       */\n      global: Object.create(\n        parentScope\n          ? Object.create(parentScope.global)\n          : null\n      )\n    });\n\n    calculateArgs(args, argsObject, $argsObject);\n\n    if (parentBlock) {\n      parentBlock.$$.children.push(this);\n    }\n  }\n\n  /**\n   * @method Block#afterConstruct\n   * @public\n   * @description Is called after block construction (including all scopes)\n   * but before rendering the block and its children.\n   */\n  afterConstruct() {}\n\n  /**\n   * @method Block#afterRender\n   * @public\n   * @description Is called after block has been rendered.\n   */\n  afterRender() {}\n\n  /**\n   * @method Block#afterRender\n   * @public\n   * @description Is called before the block removal.\n   */\n  beforeRemove() {}\n\n  /**\n   * @method Block#evaluateAndWatch\n   * @public\n   * @param {String} expression - Expression to evaluate.\n   * @param {Watcher} callback - Callback which is called when the expression value is changed.\n   * @returns {*} Evaluation result.\n   * @description Method for evaluating an expression in context of the block and watching for the changes.\n   */\n  evaluateAndWatch(expression, callback) {\n    validate([expression], ['string']);\n\n    ({ expression } = parseJS(expression, expression, true));\n\n    return this.$$.parentScope.$$.evaluate(expression, callback, this);\n  }\n\n  /**\n   * @method Block#evaluateOnce\n   * @public\n   * @param {String} expression - Expression to evaluate.\n   * @returns {*} Evaluation result.\n   * @description Method for evaluating an expression in context of the block once.\n   */\n  evaluateOnce(expression) {\n    validate([expression], ['string']);\n\n    ({ expression } = parseJS(expression, expression, true));\n\n    return this.$$.parentScope.$$.evaluate(expression);\n  }\n\n  /**\n   * @method Block#watch\n   * @public\n   * @param {...('args'|'globals'|String)} [vars] - Vars to watch (args, global or local).\n   * If no specified all locals, args and globals are to be watched.\n   * If the 'args' string all args are to be watched.\n   * If the 'global' string all globals are to be watched.\n   * @param {Watcher} watcher - Called when watched vars are changed.\n   * @description Method for watching for vars. If no vars passed in arguments\n   * all vars are to be watched. If the 'args' string is in the arguments all args are to be watched.\n   * If the 'global' string is in the arguments all globals are to be watched.\n   * Otherwise specified vars will be watched.\n   * Watchers should not be put inside the constructor. It is considered best\n   * practice to do it inside the {@link Block#afterConstruct} method.\n   * Note that these expressions (vars, i.e. \"args.arg\") are not to be\n   * evaluated so you cannot put there things like \"a[b]\" or any js code,\n   * only expressions like \"a\", \"b\", \"args.a\", \"args.b\" and \"global.a\", \"global.b\".\n   * Also note that if there are more than one var that are changed at once (synchronously)\n   * the watcher is called only once.\n   *\n   * @example\n   * class MyBlock extends Block {\n   *   static template = '<div />';\n   *\n   *   afterConstruct() {\n   *     this.watch('a', () => {});\n   *     this.watch('args.a', 'global.r', () => {});\n   *     this.watch(() => {});\n   *   }\n   * }\n   */\n  watch() {\n    const watcher = arguments[arguments.length - 1];\n\n    if (!isFunction(watcher)) {\n      return;\n    }\n\n    if (arguments.length === 1) {\n      watchForAllGlobals(this, watcher);\n      watchForAllArgs(this, watcher);\n\n      return iterate(this.$$.locals, ({ watchers }, local) => {\n        watchers.perm.push((newValue, oldValue) => {\n          watcher(newValue, oldValue, local, 'locals');\n        });\n      });\n    }\n\n    iterate(arguments, (variable) => {\n      if (variable === watcher) {\n        return;\n      }\n\n      variable = `${ variable }`;\n\n      if (variable === 'args') {\n        return watchForAllArgs(this, watcher);\n      }\n\n      if (variable === 'global') {\n        return watchForAllGlobals(this, watcher);\n      }\n\n      if (/^args\\./.test(variable)) {\n        variable = variable.replace(/^args\\./, '');\n\n        if (!this.$$.args[variable]) {\n          return;\n        }\n\n        this.$$.args[variable].watchers.perm.push(watcher);\n\n        return;\n      }\n\n      if (/^global\\./.test(variable)) {\n        variable = variable.replace(/^global\\./, '');\n\n        if (!this.$$.global[variable]) {\n          return;\n        }\n\n        this.$$.global[variable].watchers.perm.push(watcher);\n\n        return;\n      }\n\n      if (!this.$$.locals[variable]) {\n        return;\n      }\n\n      this.$$.locals[variable].watchers.perm.push(watcher);\n    });\n  }\n}\n\nnew Super(Block.prototype).proto(null);\n\nregisterBuiltIns(Blocks, rootBlocks, Block);\n\nconst blocks = Block._blocks;\n\nclass Mixin {\n  static evaluate = true;\n\n  constructor(opts) {\n    const {\n      name,\n      value,\n      elem,\n      match,\n      parentBlock,\n      parentScope\n    } = opts;\n    const watchersToRemove = new Arr([]);\n\n    defineFrozenProperties(this, {\n      $$: {\n        name,\n        _value: value,\n        parentScope,\n        parentBlock,\n        watchersToRemove,\n        remove: (isParentSignal) => {\n          removeWatchers(watchersToRemove);\n\n          try {\n            this.beforeRemove();\n          } catch (err) {\n            console.error(`Uncaught error in ${ name }#beforeRemove:`, err);\n          }\n\n          if (!isParentSignal && parentBlock) {\n            const index = parentBlock.$$.mixins.indexOf(this);\n\n            if (index !== -1) {\n              parentBlock.$$.mixins.splice(index, 1);\n            }\n          }\n        }\n      }\n    });\n\n    this.match = new Arr(match).slice(1).$;\n    this.block = parentScope;\n    this.elem = elem;\n    this.node = elem.$[0];\n\n    if (parentBlock) {\n      parentBlock.$$.mixins.push(this);\n    }\n  }\n\n  afterUpdate() {}\n\n  beforeRemove() {}\n\n  /**\n   * @method Block#evaluateAndWatch\n   * @public\n   * @param {Watcher} callback - Callback which is called when the mixin value is changed.\n   * @returns {*} Evaluation result.\n   * @description Method for evaluating the mixin value and watching for the changes.\n   */\n  evaluateAndWatch(callback) {\n    const {\n      _value,\n      parentScope\n    } = this.$$;\n\n    return parentScope.$$.evaluate(_value, callback, this);\n  }\n\n  /**\n   * @method Block#evaluateOnce\n   * @public\n   * @returns {*} Evaluation result.\n   * @description Method for evaluating the mixin value once.\n   */\n  evaluateOnce() {\n    const {\n      _value,\n      parentScope\n    } = this.$$;\n\n    return parentScope.$$.evaluate(_value);\n  }\n}\n\nregisterBuiltIns(Mixins, rootMixins, Mixin);\n\nconst mixins = Block._mixins;\n\nfunction initApp(block, node) {\n  if (!blocks[block]) {\n    throw new Error(`No \"${ block }\" block is registered! (initApp)`);\n  }\n\n  const parentElem = new Elem(node);\n\n  parentElem.html('');\n\n  parentElem.$[0].DwayneRootBlock = createBlock({\n    node: {\n      name: block,\n      attrs: {},\n      children: new Arr([])\n    },\n    parent: parentElem,\n    parentElem\n  });\n  parentElem.attr('dwayne-root', block);\n}\n\nfunction registerBuiltIns(set, scope, proto) {\n  iterate(set, (register) => {\n    const {\n      name,\n      value\n    } = register(proto, createBlock);\n\n    if (proto === Block) {\n      const variables = {};\n\n      value._html = transformJSExpressions(\n        markupToJSON(\n          `${ value.template || '' }`,\n          value.collapseWhiteSpace\n        ),\n        variables\n      );\n      value._variables = new Super(variables).keys();\n    } else {\n      value._match = new RegExp(`^${ new Str(name).escapeRegExp().$ }(?:-([\\\\s\\\\S]+))?$`);\n    }\n\n    scope[name] = value;\n  });\n}\n\nfunction createBlock({ node, parent, parentElem, parentBlock, prevBlock }) {\n  const parentScope = node.block;\n  const args = node.attrs || {};\n  const children = node.children || new Arr([]);\n  const elem = parentElem.prop('namespaceURI') === svgNS\n    ? doc.svg()\n    : new Elem(doc.template().$[0].content);\n  const localBlocks = parentScope ? parentScope.$$.ns._blocks : blocks;\n  const localMixins = parentScope ? parentScope.$$.ns._mixins : mixins;\n  let name = node.name || 'UnknownBlock';\n  let constructor = node.name && localBlocks[node.name];\n  let dBlockMatch;\n  let dBlockName;\n\n  if (!children.length && ((dBlockMatch = name.match(/^d-block-([\\s\\S]+)$/)) || name === 'd-block') && !args.name) {\n    constructor = blocks['d-block'];\n    dBlockName = dBlockMatch ? dBlockMatch[1] : null;\n  } else if (name === 'd-block' && args.name) {\n    name = parentScope.$$.evaluate(args.name);\n    constructor = localBlocks[name];\n\n    delete args.name;\n  }\n\n  if (!constructor) {\n    const {\n      value,\n      children\n    } = node;\n\n    const element = elem.create(name);\n    const currentMixins = new Arr([]);\n\n    const attrs = new Super(args).object((object, value, attr) => {\n      let match;\n\n      for (const name in localMixins) {\n        const Mixin = localMixins[name];\n        const localMatch = attr.match(Mixin._match);\n\n        if (localMatch) {\n          match = {\n            match: localMatch,\n            Mixin,\n            name\n          };\n\n          break;\n        }\n      }\n\n      if (match) {\n        currentMixins.push({\n          name: match.name,\n          Mixin: match.Mixin,\n          match: match.match,\n          value: value === '\"\"' ? 'true' : value,\n          elem: element,\n          parentBlock,\n          parentScope\n        });\n\n        return;\n      }\n\n      object[attr] = parentScope.$$.evaluate(value, (value) => {\n        element.attr(attr, value);\n      }, parentBlock);\n    }).$;\n\n    if (name === '#comment') {\n      element.text(value);\n    }\n\n    if (name === '#text') {\n      let text = parentScope.$$.evaluate(value, (value) => {\n        if (isNil(value)) {\n          value = '';\n        }\n\n        element.text(`${ value }`);\n      }, parentBlock);\n\n      if (isNil(text)) {\n        text = '';\n      }\n\n      element.text(`${ text }`);\n    }\n\n    if (attrs) {\n      element.attr(attrs);\n    }\n\n    if (children) {\n      const parentElem = name === 'template'\n        ? new Elem(element.$[0].content)\n        : element;\n      let prevBlock;\n\n      children.forEach((child) => {\n        prevBlock = createBlock({\n          node: child,\n          parent: parentElem,\n          parentElem,\n          parentBlock,\n          prevBlock\n        });\n      });\n    }\n\n    currentMixins.forEach((opts) => {\n      createMixin(opts);\n    });\n\n    const isParentBlock = parent instanceof Block;\n\n    if (prevBlock instanceof Block) {\n      prevBlock.$$.insertAfterIt(element, false);\n    } else if (prevBlock) {\n      element.insertAfter(prevBlock);\n\n      if (isParentBlock) {\n        parent.$$.addContent(element);\n      }\n    } else if (isParentBlock) {\n      parent.$$.insertInStartOfIt(element, false);\n    } else {\n      element.into(parentElem, false);\n    }\n\n    return element;\n  }\n\n  const blockInstance = new constructor({\n    name,\n    args: transformArgs(args, name),\n    dBlockName,\n    children,\n    parent,\n    parentElem,\n    parentBlock,\n    parentScope,\n    prevBlock\n  });\n\n  const {\n    $$,\n    args: Args,\n    global,\n    ...locals\n  } = blockInstance;\n  let html;\n\n  if (name === 'd-elements' && parentBlock.$$.name === '#d-item') {\n    html = deepCloneChildren(Args.value, parentBlock);\n  } else if (name === 'd-elements') {\n    html = new Arr(Args.value || []);\n  } else {\n    html = deepCloneChildren(constructor._html, blockInstance);\n  }\n\n  delete locals.$$;\n\n  $$.args = constructPrivateScope(Args);\n  $$.locals = constructPrivateScope(locals);\n  $$.global = constructPrivateScope(global, 'global', parentScope);\n\n  if (name === '#d-item') {\n    const scopeValues = {\n      [node.itemName]: node.item,\n      [node.indexName]: node.index\n    };\n    let parent = blockInstance;\n    let scope = parentScope;\n    let DItemFound;\n\n    while (!DItemFound && parent !== parentScope && (parent = parent.$$.parentBlock)) {\n      DItemFound = parent.$$.name === '#d-item';\n    }\n\n    if (DItemFound) {\n      scope = parent.$$.scope;\n    }\n\n    $$.ns = parentScope.$$.ns;\n    $$.privateScope = constructPrivateScope(scopeValues);\n    constructPublicScope($$.scope = Object.create(scope), scopeValues, $$.privateScope);\n  }\n\n  if (name === 'd-each') {\n    $$.scope = Object.create(parentScope.$$.name === '#d-item' ? parentScope.$$.scope : parentScope, {\n      [Args.item || '$item']: {\n        value: null,\n        writable: true\n      },\n      [Args.index || '$index']: {\n        value: null,\n        writable: true\n      }\n    });\n  }\n\n  constructPublicScope(Args, Args, $$.args);\n  constructPublicScope(global, global, $$.global);\n  constructPublicScope(blockInstance, locals, $$.locals);\n\n  try {\n    blockInstance.afterConstruct();\n  } catch (err) {\n    console.error(`Uncaught error in ${ name }#afterConstruct:`, err);\n  }\n\n  prevBlock = undefined;\n\n  html.forEach((child) => {\n    prevBlock = createBlock({\n      node: child,\n      parent: blockInstance,\n      parentElem,\n      parentBlock: blockInstance,\n      prevBlock\n    });\n  });\n\n  try {\n    blockInstance.afterRender();\n  } catch (err) {\n    console.error(`Uncaught error in ${ name }#afterRender:`, err);\n  }\n\n  return blockInstance;\n}\n\nfunction createMixin({ name, Mixin, value, match, elem, parentBlock, parentScope }) {\n  const mixin = new Mixin({\n    name,\n    value,\n    match,\n    elem,\n    parentBlock,\n    parentScope\n  });\n\n  if (Mixin.evaluate) {\n    const value = mixin.value = mixin.evaluateAndWatch((newValue, oldValue) => {\n      mixin.value = newValue;\n\n      try {\n        mixin.afterUpdate(newValue, oldValue);\n      } catch (err) {\n        console.error(`Uncaught error in ${ name }#afterUpdate:`, err);\n      }\n    });\n\n    mixin.afterUpdate(value);\n  }\n}\n\nfunction deepCloneChildren(children, block) {\n  return new Arr(children || []).map((child) => {\n    const {\n      name,\n      attrs,\n      value,\n      children\n    } = child;\n    const newChild = {\n      name,\n      value,\n      attrs: { ...attrs }\n    };\n\n    if (block) {\n      newChild.block = block;\n    }\n\n    if (children) {\n      newChild.children = deepCloneChildren(children, block);\n    }\n\n    return newChild;\n  });\n}\n\nfunction transformDIfChildren(children) {\n  return new Arr(children || [])\n    .concat({})\n    .object((object, child) => {\n      const { name } = child;\n      const {\n        html,\n        ifElse\n      } = object;\n\n      if (name !== 'd-else-if' && name !== 'd-else') {\n        if (ifElse) {\n          html.push({\n            name: 'd-if',\n            block: ifElse.$[0].block,\n            children: ifElse\n          });\n\n          object.ifElse = null;\n        }\n\n        if (name === 'd-if') {\n          object.ifElse = new Arr([child]);\n        } else if (name) {\n          html.push(child);\n        }\n      } else {\n        (ifElse || html).push(child);\n\n        if (name === 'd-else' && ifElse) {\n          html.push({\n            name: 'd-if',\n            block: ifElse.$[0].block,\n            children: ifElse\n          });\n\n          object.ifElse = null;\n        }\n      }\n\n      if (name) {\n        child.children = transformDIfChildren(child.children);\n      }\n    }, {\n      html: new Arr([]),\n      ifElse: null\n    }).$.html;\n}\n\nfunction transformJSExpressions(children, variables, exclude = {}) {\n  return new Arr(children || []).object((children, child) => {\n    const {\n      name,\n      attrs,\n      children: ownChildren,\n      value: initialValue\n    } = child;\n    const isDEach = name === 'd-each';\n    let { value } = child;\n    let excludeLocal = {};\n\n    if (isDEach) {\n      excludeLocal = {\n        [child.attrs.item || '$item']: true,\n        [child.attrs.index || '$index']: true\n      };\n    }\n\n    child.attrs = new Super(attrs).map((value, attr) => {\n      if (value === true) {\n        return true;\n      }\n\n      if (value[0] !== '{' || value[value.length - 1] !== '}') {\n        return toJSON(value);\n      }\n\n      const parsed = parseJS(value.slice(1, -1), value, true);\n\n      if (!parsed) {\n        return toJSON(value);\n      }\n\n      if (parsed.rest) {\n        throw new Error('Attribute, mixin and argument computed values must be of the format \"{<js_expression>}\"');\n      }\n\n      const isUID = attr === 'uid';\n\n      const usedVariables = new Super(parsed.variables).filter((value, variable) => {\n        if (isDEach && isUID && excludeLocal[variable]) {\n          return;\n        }\n\n        if (!exclude[variable]) {\n          return true;\n        }\n      }).$;\n\n      assign(variables, usedVariables);\n\n      return parsed.expression;\n    }).$;\n\n    if (name !== '#text') {\n      exclude = {\n        ...exclude,\n        ...excludeLocal\n      };\n\n      if (ownChildren) {\n        child.children = transformJSExpressions(ownChildren, variables, exclude);\n      }\n\n      children.push(child);\n\n      return;\n    }\n\n    while (value.length) {\n      const match = value.match(curlyBracketRegExp);\n\n      if (!match) {\n        children.push({\n          name: '#text',\n          value: toJSON(value)\n        });\n\n        break;\n      }\n\n      const { index } = match;\n\n      if (index) {\n        children.push({\n          name: '#text',\n          value: toJSON(value.slice(0, index))\n        });\n        value = value.slice(index);\n      }\n\n      const parsed = parseJS(value.slice(1), initialValue);\n\n      if (!parsed) {\n        children.push({\n          name: '#text',\n          value: toJSON(value)\n        });\n\n        break;\n      }\n\n      const usedVariables = new Super(parsed.variables).filter((value, variable) => {\n        if (!exclude[variable]) {\n          return true;\n        }\n      }).$;\n\n      assign(variables, usedVariables);\n\n      children.push({\n        name: '#text',\n        value: parsed.expression\n      });\n      value = parsed.rest;\n    }\n  }, new Arr([]));\n}\n\nfunction isInstanceOfBlock(block) {\n  return isPrototypeOf.call(Block, block) && isPrototypeOf.call(Block.prototype, block.prototype);\n}\n\nfunction isInstanceOfMixin(mixin) {\n  return isPrototypeOf.call(Mixin, mixin) && isPrototypeOf.call(Mixin.prototype, mixin.prototype);\n}\n\nfunction removeWatchers(watchersToRemove) {\n  watchersToRemove.forEach(({ watcher, watchers }) => {\n    const index = watchers.indexOf(watcher);\n\n    if (index !== -1) {\n      watchers.splice(index, 1);\n    }\n  });\n}\n\nfunction constructPrivateScope(object, type, parentScope) {\n  let scope = {};\n\n  if (type === 'global') {\n    scope = Object.create(\n      parentScope\n        ? parentScope.$$.global\n        : null\n    );\n  }\n\n  return new Super(object).object((scope, value, key) => {\n    scope[key] = {\n      value,\n      watchers: {\n        temp: new Arr([]),\n        perm: new Arr([])\n      }\n    };\n  }, scope).$;\n}\n\nfunction constructPublicScope(scope, scopeValues, privateScope) {\n  new Super(scope).define(new Super(scopeValues).map((value, key) => {\n    const scope = privateScope[key];\n\n    return {\n      configurable: false,\n      enumerable: true,\n      get() {\n        if (evalMode) {\n          if (getting.indexOf(scope.watchers.temp) === -1) {\n            getting.push(scope.watchers.temp);\n          }\n        }\n\n        return scope.value;\n      },\n      set(value) {\n        if (value === scope.value) {\n          return;\n        }\n\n        if (!changed) {\n          changed = [];\n        }\n\n        const oldTempWatchers = scope.watchers.temp.slice();\n        const oldValue = scope.value;\n\n        scope.watchers.temp = new Arr([]);\n        scope.value = value;\n\n        oldTempWatchers.forEach((watcher) => {\n          watcher.onRemove();\n          watcher();\n        });\n        changed.push({\n          scope,\n          oldValue,\n          value\n        });\n\n        setTimeout(() => {\n          if (!changed) {\n            return;\n          }\n\n          const was = new Arr([]);\n          const values = [];\n\n          for (let i = changed.length - 1; i >= 0; i--) {\n            const {\n              scope,\n              value,\n              oldValue\n            } = changed[i];\n\n            scope.watchers.perm.forEach((watcher) => {\n              const index = was.indexOf(watcher);\n\n              if (index === -1) {\n                was.push(watcher);\n                values.push({\n                  value,\n                  oldValue\n                });\n              } else {\n                values[index].oldValue = oldValue;\n              }\n            });\n\n            changed.splice(i, 1);\n          }\n\n          changed = null;\n\n          was.forEach((watcher, i) => {\n            const {\n              value,\n              oldValue\n            } = values[i];\n\n            watcher(value, oldValue);\n          });\n        }, 0);\n      }\n    };\n  }).$);\n}\n\nfunction watchForAllGlobals(block, watcher) {\n  const {\n    global: globals,\n    watchersToRemove\n  } = block.$$;\n\n  for (const global in globals) {\n    /* eslint guard-for-in: 0 */\n    const watchers = globals[global].watchers.perm;\n\n    watchers.push(watcher);\n    watchersToRemove.push({\n      watcher,\n      watchers\n    });\n  }\n}\n\nfunction watchForAllArgs(block, watcher) {\n  iterate(block.$$.args, ({ watchers }) => {\n    watchers.perm.push(watcher);\n  });\n}\n\nfunction calculateArgs(args, argsObject, $argsObject) {\n  $argsObject.propertyNames().forEach((arg) => {\n    if (!(arg in args)) {\n      argsObject[arg] = undefined;\n    }\n  });\n\n  for (const arg in args) {\n    argsObject[arg] = args[arg];\n  }\n}\n\nfunction transformArgs(args, name) {\n  const isDEach = name === 'd-each';\n\n  return new Super(args).map((value, arg) => {\n    if (isDEach && arg === 'uid') {\n      return toJSON(value);\n    }\n\n    return value;\n  }).$;\n}\n\nfunction transformRestArgs(args) {\n  return new Super(args).object((args, value, arg) => {\n    if (dRestRegExp.test(arg)) {\n      assign(args, transformRestArgs(value));\n    } else {\n      args[arg] = value;\n    }\n  }).$;\n}\n\nexport { Block, Mixin, initApp };\n","/**\n * @module constants/formats\n * @private\n * @description Exports different types of formatting for {@link Date#format}.\n */\n\nimport { Super } from '../Super';\nimport { Str } from '../Str';\n\nconst zero = new Str('0');\nconst daysOfTheWeekNames = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n];\nconst daysOfTheWeekAliases = new Super(daysOfTheWeekNames).map((value) => value.slice(0, 3)).$;\nconst monthsNames = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'Jule',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n];\nconst monthsAliases = new Super(monthsNames).map((value) => value.slice(0, 3)).$;\n\n/**\n * @callback module:constants/formats~matchCallback\n * @param {Dat} date - D-wrap of a date to apply format to.\n * @param {String} string - Matched applied expression.\n */\n\n/**\n * @typedef {Object} module:constants/formats~formatExpr\n * @property {String} format - Matched format.\n * @property {module:constants/formats~matchCallback} match - Callback if there was a match.\n */\n\n/**\n * @type {module:constants/formats~formatExpr[]}\n * @description Array of different formats.\n */\nexport default [\n  {\n    format: 'ccc',\n    match: (date, utc) => round(date[utc]('c'), 3)\n  },\n  {\n    format: 'c',\n    match: (date, utc) => date[utc]('c')\n  },\n  {\n    format: 'ss',\n    match: (date, utc) => round(date[utc]('s'), 2)\n  },\n  {\n    format: 's',\n    match: (date, utc) => date[utc]('s')\n  },\n  {\n    format: 'mm',\n    match: (date, utc) => round(date[utc]('m'), 2)\n  },\n  {\n    format: 'm',\n    match: (date, utc) => date[utc]('m')\n  },\n  {\n    format: 'hh',\n    match: (date, utc) => round(date[utc]('h'), 2)\n  },\n  {\n    format: 'h',\n    match: (date, utc) => date[utc]('h')\n  },\n  {\n    format: 'dddd',\n    match: (date, utc) => daysOfTheWeekNames[date[utc]('dw')]\n  },\n  {\n    format: 'ddd',\n    match: (date, utc) => daysOfTheWeekAliases[date[utc]('dw')]\n  },\n  {\n    format: 'dd',\n    match: (date, utc) => round(date[utc]('d'), 2)\n  },\n  {\n    format: 'd',\n    match: (date, utc) => date[utc]('d')\n  },\n  {\n    format: 'MMMM',\n    match: (date, utc) => monthsNames[date[utc]('M') - 1]\n  },\n  {\n    format: 'MMM',\n    match: (date, utc) => monthsAliases[date[utc]('M') - 1]\n  },\n  {\n    format: 'MM',\n    match: (date, utc) => round(date[utc]('M'), 2)\n  },\n  {\n    format: 'M',\n    match: (date, utc) => date[utc]('M')\n  },\n  {\n    format: 'yyyy',\n    match: (date, utc) => round(date[utc]('y'), 4)\n  },\n  {\n    format: 'yy',\n    match: (date, utc) => String(date[utc]('y')).slice(-2)\n  },\n  {\n    format: 'y',\n    match: (date, utc) => date[utc]('y')\n  }\n];\n\n/**\n * @function round\n * @private\n * @param {Number} number - Number to round.\n * @param {Number} digits - Number of the digits of the output.\n * @returns {String} String with necessary additional starting zeroes.\n */\nfunction round(number, digits) {\n  const string = String(number);\n  let zeroes = digits - string.length;\n\n  zeroes = zeroes < 0 ? 0 : zeroes;\n\n  return zero.repeat(zeroes).$ + string;\n}\n","/**\n * @module Dat\n * @private\n * @mixin\n * @description Exports Dat class.\n */\n\nimport { Super } from './Super';\nimport { Num } from './Num';\nimport { Str } from './Str';\nimport { switcher } from './Switcher';\nimport { constructors } from './constants';\nimport formats from './constants/formats';\nimport { isDate, iterate, Symbol, defineProperties } from './helpers';\n\n/**\n * @typedef {*} DateLike\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'w'|'M'|'y'} AddPeriod\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'dw'|'M'|'y'} GetPeriod\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'M'|'y'} OfOnePeriod\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'M'|'y'} SetPeriod\n * @public\n */\n\n/**\n * @typedef {'ccc'|'c'|'ss'|'s'|'mm'|'m'|'hh'|'h'|'dddd'|'ddd'|'dd'|'d'|'MMMM'|'MMM'|'MM'|'M'|'yyyy'|'yy'|'y'} Format\n * @public\n */\n\nconst coeffs = {\n  c: 1,\n  s: 1000,\n  m: 60000,\n  h: 3600000,\n  d: 86400000,\n  w: 604800000,\n  M: 2592000000,\n  y: 31536000000\n};\n\nconst getSwitcher = switcher({\n  c: (date, utc) => date[`${ utc }Milliseconds`](),\n  s: (date, utc) => date[`${ utc }Seconds`](),\n  m: (date, utc) => date[`${ utc }Minutes`](),\n  h: (date, utc) => date[`${ utc }Hours`](),\n  d: (date, utc) => date[`${ utc }Date`](),\n  dw: (date, utc) => date[`${ utc }Day`](),\n  M: (date, utc) => date[`${ utc }Month`]() + 1,\n  y: (date, utc) => date[`${ utc }FullYear`]()\n}, 'equals', NaN);\nconst setSwitcher = switcher({\n  c: (date, value, utc) => date[`${ utc }Milliseconds`](value),\n  s: (date, value, utc) => date[`${ utc }Seconds`](value),\n  m: (date, value, utc) => date[`${ utc }Minutes`](value),\n  h: (date, value, utc) => date[`${ utc }Hours`](value),\n  d: (date, value, utc) => date[`${ utc }Date`](value),\n  M: (date, value, utc) => date[`${ utc }Month`](value - 1),\n  y: (date, value, utc) => date[`${ utc }FullYear`](value)\n});\n\n/**\n * @class Dat\n * @extends Super\n * @public\n * @param {Date} [date = new Date()] - A date to wrap.\n * @returns {Dat} Instance of Dat.\n * @description Wrap of a date.\n *\n * @example\n * const date = new Dat(new Date());\n */\nclass Dat extends Super {\n  constructor(date = new Date()) {\n    super(date);\n\n    /**\n     * @member Dat#$\n     * @type {Date}\n     * @public\n     * @description Original date.\n     */\n  }\n\n  /**\n   * @method Dat#add\n   * @public\n   * @param {AddPeriod|Object.<AddPeriod, Number>} what - What to add.\n   * @param {Number} [number] - Number of what to add if the first argument is a period string.\n   * @returns {Dat} Returns this.\n   * @description Method for adding amounts of time to the date. Returns new instance of Dat.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).add('c', 2).toISOString();         // '2000-01-01T00:00:00.001Z'\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).add({ c: 2, d: 5 }).toISOString(); // '2000-01-06T00:00:00.001Z'\n   */\n  add(what, number) {\n    if (arguments.length >= 2) {\n      what = { [what]: number };\n    }\n\n    return this.time(this.time() + new Super(what).sum((value, what) => coeffs[what] * value));\n  }\n\n  /**\n   * @method Dat#expires\n   * @public\n   * @param {*} [value = this] - Value to resolve after the date expires.\n   * @returns {Promise} New instance of Promise.\n   * @description Method for defining when the date expires.\n   *\n   * @example\n   * new Dat().add('c', 500).expires('Expired').then((value) => {\n   *   // After 500 milliseconds\n   *   console.log(value); // 'Expired'\n   * });\n   */\n  expires(value) {\n    if (!arguments.length) {\n      value = this;\n    }\n\n    return new Num(this.$ - now()).timeout(value);\n  }\n\n  /**\n   * @method Dat#format\n   * @public\n   * @param {String} string - Template for the output.\n   * @param {String} [prefix = ''] - If needed [all special strings]{@link Format}\n   * are treated as they should be prefix with prefix.\n   * @returns {String} Formatted string.\n   * @description Method for creating formatted output based on a string.\n   *\n   * @example\n   * new Dat('1999-12-31T23:59:59.999Z').format('Seconds: $ss, milliseconds: $ccc.', '$');\n   * // 'Seconds: 59, milliseconds: 999.'\n   */\n  format(string, prefix = '') {\n    string = new Str(new Super(string).$);\n    prefix = String(new Super(prefix).$);\n\n    iterate(formats, (format) => {\n      string = string.replaceString(prefix + format.format, format.match(this, 'get'));\n    });\n\n    return string.$;\n  }\n\n  /**\n   * @method Dat#formatUTC\n   * @public\n   * @param {String} string - See {@link Dat#format}.\n   * @param {String} [prefix = ''] - See {@link Dat#format}.\n   * @returns {String} Formatted string.\n   * @description UTC version of {@link Dat#format}.\n   *\n   * @example\n   * new Dat('1999-07-07T03:09:09.099Z').formatUTC(\n   *   `\n   *     Milliseconds: $ccc|$c.\n   *     Seconds:      $ss|$s.\n   *     Minutes:      $mm|$m.\n   *     Hours:        $hh|$h.\n   *     Day:          $dddd|$ddd|$dd|$d.\n   *     Month:        $MMMM|$MMM|$MM|$M.\n   *     Year:         $yyyy|$yy|$y.\n   *   `,\n   *   '$'\n   * );\n   * // Milliseconds: 099|99.\n   * // Seconds:      09|9.\n   * // Minutes:      09|9.\n   * // Hours:        03|3.\n   * // Day:          Friday|Fri|07|7.\n   * // Month:        July|Jul|07|7.\n   * // Year:         1999|99|1999.\n   */\n  formatUTC(string, prefix = '') {\n    string = new Str(new Super(string).$);\n    prefix = String(new Super(prefix).$);\n\n    iterate(formats, (format) => {\n      string = string.replaceString(prefix + format.format, format.match(this, 'getUTC'));\n    });\n\n    return string.$;\n  }\n\n  /**\n   * @method Dat#get\n   * @public\n   * @param {GetPeriod} what - What to get.\n   * @returns {Number} Number of what to get.\n   * @description Method for getting values such as seconds or minutes.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).get('s'); // 59\n   */\n  get(what) {\n    return getSwitcher(what, [this.$, 'get']);\n  }\n\n  /**\n   * @method Dat#getUTC\n   * @public\n   * @param {GetPeriod} what - See {@link Dat#get}.\n   * @returns {Number} Number of what to get.\n   * @description UTC version of {@link Dat#get}.\n   *\n   * @example\n   * const date = new Dat(new Date('1999-12-31T23:59:59.999Z'));\n   *\n   * date.getUTC('c');  // 999\n   * date.getUTC('s');  // 59\n   * date.getUTC('m');  // 59\n   * date.getUTC('h');  // 23\n   * date.getUTC('d');  // 31\n   * date.getUTC('dw'); // 5\n   * date.getUTC('M');  // 12\n   * date.getUTC('y');  // 1999\n   */\n  getUTC(what) {\n    return getSwitcher(what, [this.$, 'getUTC']);\n  }\n\n  /**\n   * @method Dat#isAfter\n   * @public\n   * @param {DateLike} date - Date to be compared to this date.\n   * @returns {Boolean} If this date is after the argument one.\n   * @description Finds out if this date is after the argument one.\n   *\n   * @example\n   * new Dat(new Date(333)).isAfter(new Date(334)); // false\n   * new Dat(new Date(333)).isAfter(new Date(332)); // true\n   */\n  isAfter(date) {\n    date = new Date(new Super(date).$);\n\n    return date.getTime() < this.$.getTime();\n  }\n\n  /**\n   * @method Dat#isBefore\n   * @public\n   * @param {DateLike} date - Date to be compared to this date.\n   * @returns {Boolean} If this date is before the argument one.\n   * @description Finds out if this date is before the argument one.\n   *\n   * @example\n   * new Dat(new Date(333)).isBefore(new Date(334)); // true\n   * new Dat(new Date(333)).isBefore(new Date(332)); // false\n   */\n  isBefore(date) {\n    date = new Date(new Super(date).$);\n\n    return date.getTime() > this.$.getTime();\n  }\n\n  /**\n   * @method Dat#isBetween\n   * @public\n   * @param {DateLike} date1 - Start of the range.\n   * @param {DateLike} date2 - End of the range.\n   * @returns {Boolean} If this date is after date1 and before date2.\n   * @description Finds out if this date is after date1 and before date2.\n   *\n   * @example\n   * new Dat(new Date(333)).isBetween(new Date(332), new Date(334)); // true\n   * new Dat(new Date(333)).isBetween(new Date(334), new Date(332)); // false\n   */\n  isBetween(date1, date2) {\n    const time = this.$.getTime();\n\n    date1 = new Date(new Super(date1).$);\n    date2 = new Date(new Super(date2).$);\n\n    return time > date1.getTime() && time < date2.getTime();\n  }\n\n  /**\n   * @method Dat#isInvalid\n   * @public\n   * @returns {Boolean} If the date is invalid.\n   * @description Returns if the date is invalid.\n   *\n   * @example\n   * new Dat(new Date('a')).isInvalid(); // true\n   * new Dat(new Date(1)).isInvalid();   // false\n   */\n  isInvalid() {\n    return this.$.toString() === 'Invalid Date';\n  }\n\n  /**\n   * @method Dat#isPassed\n   * @public\n   * @returns {Boolean} If the date is passed.\n   * @description Returns if the date is passed.\n   *\n   * @example\n   * new Dat(new Date(1)).isPassed(); // true\n   */\n  isPassed() {\n    return this.isBefore(now());\n  }\n\n  /**\n   * @method Dat#ofOne\n   * @public\n   * @param {OfOnePeriod} what - Period to check.\n   * @param {DateLike} date - Date to check.\n   * @returns {Boolean} If two dates are of one second, minute or something else.\n   * @description Returns if two dates are of one second, minute or something else.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.000Z')).ofOne('s', new Date(1999-12-31T23:59:59.333Z')); // true\n   * new Dat(new Date('1999-12-31T23:59:59.000Z')).ofOne('s', new Date(1999-12-31T23:59:58.999Z')); // false\n   */\n  ofOne(what, date) {\n    if (!(what in coeffs) || what === 'w') {\n      return false;\n    }\n\n    date = new Dat(new Date(date));\n\n    let started;\n\n    return iterate(coeffs, (coeff, w) => {\n      if (w === what) {\n        started = true;\n      }\n\n      if (!started || w === 'w') {\n        return;\n      }\n\n      if (started && this.get(w) !== date.get(w)) {\n        return false;\n      }\n    }) !== false;\n  }\n\n  /**\n   * @method Dat#set\n   * @public\n   * @param {SetPeriod|Object.<SetPeriod, Number>} what - What to add.\n   * @param {Number} [number] - Number of what to set if the first argument is a period string.\n   * @returns {Dat} Returns this.\n   * @description Method for setting values such as seconds or minutes.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).set('s', 58).get('s');           // 58\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).set({ c: 998, s: 58 }).get('c'); // 998\n   */\n  set(what, number) {\n    const date = this.$;\n\n    if (arguments.length >= 2) {\n      what = { [what]: number };\n    }\n\n    what = new Super(what).$;\n\n    iterate(what, (value, what) => {\n      setSwitcher(what, [date, value, 'set']);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Dat#setUTC\n   * @public\n   * @param {SetPeriod|Object.<SetPeriod, Number>} what - See {@link Dat#set}.\n   * @param {Number} [number] - See {@link Dat#set}.\n   * @returns {Dat} Returns this.\n   * @description UTC version of {@link Dat#set}.\n   *\n   * @example\n   * const date = new Dat(new Date('1999-12-31T23:59:59.999Z'));\n   *\n   * date.setUTC('ccc', 998).getUTC('ccc'); // 998\n   * date.setUTC({\n   *   s: 58,\n   *   m: 58,\n   *   h: 22\n   * });\n   *\n   * date.getUTC('s'); // 58\n   * date.getUTC('m'); // 58\n   * date.getUTC('h'); // 23\n   */\n  setUTC(what, number) {\n    const date = this.$;\n\n    if (arguments.length >= 2) {\n      what = { [what]: number };\n    }\n\n    what = new Super(what).$;\n\n    iterate(what, (value, what) => {\n      setSwitcher(what, [date, value, 'setUTC']);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Dat#setUTC\n   * @public\n   * @param {Number} [time] - Time to set.\n   * @returns {Dat|Number} - If the time argument is present this is returned otherwise the time is returned.\n   * @description Synonym for both\n   * [Date#getTime]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime} and\n   * [Date#setTime]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/setTime}.\n   */\n  time(time) {\n    const date = this.$;\n\n    if (arguments.length) {\n      date.setTime(time);\n    }\n\n    return date.getTime();\n  }\n\n  toISOString() {\n    return this.$.toISOString();\n  }\n\n  toLocaleString() {\n    return this.$.toLocaleString();\n  }\n\n  toString() {\n    return this.$.toString();\n  }\n\n  valueOf() {\n    return this.$.valueOf();\n  }\n}\ndefineProperties(Dat.prototype, {\n  [Symbol.toStringTag]: 'Dat'\n});\n\nconstructors[1].push({\n  check: isDate,\n  cls: Dat\n});\n\n/**\n * @function now\n * @public\n * @returns {Number} Number of milliseconds.\n * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/now\n * @description Synonym for\n * [Date.now]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/now}.\n */\nfunction now() {\n  return Date.now();\n}\n\n/**\n * @function date\n * @public\n * @param {DateLike} [date = new Date()] - Date-like value that is passed to the Date constructor.\n * @returns {Dat} New instance of Dat.\n * @description Synonym for new Dat(new Date(date));\n */\nfunction date(date) {\n  if (!arguments.length) {\n    return new Dat(new Date(now()));\n  }\n\n  date = new Super(date).$;\n\n  return new Dat(new Date(date));\n}\n\nexport { Dat, now, date };\n","/**\n * @module helpers/constructURL\n * @private\n * @description Exports constructURL method.\n */\n\nimport { Arr } from '../Arr';\nimport { Str } from '../Str';\nimport { switcher } from '../Switcher';\nimport { isArray, isObject, isPlainObject } from './checkTypes';\nimport { iterate } from './iterate';\n\n/**\n * @type {RegExp}\n * @description Absolute URL pattern.\n */\nconst absoluteURLRegexp = /^(([a-z][a-z\\d+\\-.]*:)?\\/\\/|data:[a-z]+\\/[a-z]+;base64,)/i;\nconst querySwitcher = switcher('call', () => new Arr([]))\n  .case(isArray, (prefix, query) => {\n    let queryParams = new Arr([]);\n\n    iterate(query, (value) => {\n      if (isPlainObject(value) || isArray(value)) {\n        queryParams = queryParams.concat(querySwitcher(value, [`${ prefix }[]`]));\n\n        return;\n      }\n\n      queryParams.push({\n        param: `${ prefix }[]`,\n        value\n      });\n    });\n\n    return queryParams.$;\n  })\n  .case(isPlainObject, (prefix, query) => {\n    let queryParams = new Arr([]);\n\n    iterate(query, (value, param) => {\n      if (isPlainObject(value) || isArray(value)) {\n        queryParams = queryParams.concat(querySwitcher(value, [prefix ? `${ prefix }[${ param }]` : param]));\n\n        return;\n      }\n\n      queryParams.push({\n        param: prefix ? `${ prefix }[${ param }]` : param,\n        value: isObject(value) ? JSON.stringify(value) : String(value)\n      });\n    });\n\n    return queryParams.$;\n  });\n\n/**\n * @function constructURL\n * @param {String} baseURL - BaseURL of the output URL.\n * @param {String} url - Main part of the output URL.\n * @param {Object} params - Params to replace in the url expressions like \":param\".\n * @param {Object} query - Object with query params.\n * @param {Object} [hash = ''] - URL hash.\n * @param {Object} [encodeOptions = {}] - If you need to encode something.\n * @param {Object} [encodeOptions.params = true] - If you need to encode params.\n * @param {Object} [encodeOptions.query = true] - If you need to encode query params.\n * @returns {String} Constructed URL.\n * @description Function for constructing URL from the base URL, URL, params and query params.\n */\nexport default (baseURL, url, params, query, hash = '', encodeOptions = {}) => {\n  const {\n    params: encodeParams = true,\n    query: encodeQuery = true\n  } = encodeOptions;\n  let URL = isAbsolute(url)\n    ? url\n    : `${ String(baseURL).replace(/\\/+$/, '') }/${ String(url).replace(/^\\/+/, '') }`;\n\n  iterate(params, (value, param) => {\n    URL = new Str(URL).replaceString(`:${ param }`, encode(value, encodeParams)).$;\n  });\n\n  const queryParams = querySwitcher(query, ['']);\n\n  if (queryParams.length) {\n    URL += (URL.indexOf('?') === -1 ? '?' : '&') + queryParams\n      .map(({ param, value }) => `${ encode(param, encodeQuery) }=${ encode(value, encodeQuery) }`)\n      .join('&');\n  }\n\n  return `${ URL }${ hash ? `#${ hash }` : '' }`;\n};\n\n/**\n * @function isAbsolute\n * @param {String} url - URL to check if it is absolute or not.\n * @returns {Boolean} If the argument URL is absolute or not.\n */\nfunction isAbsolute(url) {\n  return absoluteURLRegexp.test(url);\n}\n\n/**\n * @function encode\n * @param {String} string - String to encode using encodeURIComponent.\n * @param {Boolean} isEncoded - If the string should be encoded.\n * @returns {String} Encoded string.\n */\nfunction encode(string, isEncoded) {\n  return isEncoded ? encodeURIComponent(string) : string;\n}\n","/**\n * @module helpers/parseHeaders\n * @private\n * @description Exports parseHeaders method.\n */\n\nimport { Str } from '../Str';\nimport { iterate } from './iterate';\n\n/**\n * @function parseHeaders\n * @param {String} rawHeaders - Raw headers.\n * @returns {Object} Headers object\n * @description Function for parsing raw headers.\n */\nexport default (rawHeaders) => {\n  const headers = {};\n\n  iterate((rawHeaders || '').split('\\n'), (value) => {\n    const index = value.indexOf(':');\n    const key = new Str(value.substring(0, index))\n      .trim()\n      .toCamelCase().$;\n    const val = new Str(value.substring(index + 1)).trim().$;\n\n    if (key) {\n      headers[key] = (headers[key] ? `${ headers[key] }, ` : '') + val;\n    }\n  });\n\n  return headers;\n};\n","/**\n * @module helpers/transformData\n * @private\n * @description Exports transformData method.\n */\n\nimport { Arr } from '../Arr';\nimport { Super } from '../Super';\nimport { isObject, toStringTag } from './';\n\nconst notToTransform = new Arr(['FormData', 'File', 'Blob', 'ArrayBuffer', 'String', 'Number']);\nconst withoutBody = new Arr(['DELETE', 'GET', 'HEAD']);\n\n/**\n * @function transformData\n * @param {*} data - Data to transform\n * @param {String} method - HTTP method.\n * @param {Object} headers - Object with headers.\n * @returns {*} - Transformed data.\n */\nexport default (data, method, headers) => {\n  data = new Super(data).$;\n\n  if (withoutBody.indexOfStrict(method) !== -1) {\n    return null;\n  }\n\n  if (isObject(data) && notToTransform.indexOfStrict(toStringTag(data)) === -1) {\n    if (!headers.contentType) {\n      headers.contentType = ['application/json;charset=utf-8'];\n    }\n\n    return new Super(data).json();\n  }\n\n  return data;\n};\n","/**\n * @module Fetch\n * @private\n * @mixin\n * @description Exports Fetch class.\n */\n\nimport { Promise } from './Promise';\nimport { Super } from './Super';\nimport { Arr } from './Arr';\nimport { Str } from './Str';\nimport {\n  isArray, isFunction, isString,\n  assign, Symbol, validate, iterate, defineProperties\n} from './helpers';\nimport constructURL from './helpers/constructURL';\nimport parseHeaders from './helpers/parseHeaders';\nimport transformData from './helpers/transformData';\n\n/**\n * @typedef {'get'|'post'|'delete'|'head'|'put'|'patch'} FetchMethod\n * @public\n */\n\n/**\n * @typedef {Object} FetchConfig\n * @public\n * @property {Array.<AfterMiddleware|FetchErrorAfterMiddleware>} [after]\n * @property {Object} [auth]\n * @property {String} [auth.username]\n * @property {String} [auth.password]\n * @property {String} [baseURL]\n * @property {Array.<BeforeMiddleware|FetchErrorBeforeMiddleware>} [before]\n * @property {*} [data]\n * @property {Object.<String, String[]>} [headers]\n * @property {FetchMethod} [method]\n * @property {Object} [params]\n * @property {Object} [query]\n * @property {String} [responseType]\n * @property {Number} [timeout]\n * @property {String} [url]\n * @property {Boolean} [withCredentials]\n */\n\n/**\n * @typedef {Object} FetchResponse\n * @public\n * @property {FetchConfig} config\n * @property {*} data\n * @property {Object.<String, String>} headers\n * @property {Number} status\n * @property {String} statusText\n * @property {XMLHttpRequest} xhr\n */\n\n/**\n * @callback FetchAfterMiddleware\n * @public\n * @param {FetchResponse} config - Fetch response.\n */\n\n/**\n * @callback FetchErrorAfterMiddleware\n * @public\n * @param {Error|*} err - Thrown error.\n * @param {FetchResponse} config - Fetch response.\n */\n\n/**\n * @callback FetchBeforeMiddleware\n * @public\n * @param {FetchConfig} config - Fetch config.\n */\n\n/**\n * @callback FetchErrorBeforeMiddleware\n * @public\n * @param {Error|*} err - Thrown error.\n * @param {FetchConfig} config - Fetch config.\n */\n\n/**\n * @callback FetchConfigFunction\n * @public\n * @param {FetchConfig} config\n */\n\nconst defaults = {\n  after: [],\n  auth: {\n    username: '',\n    password: ''\n  },\n  baseURL: global.location.origin,\n  before: [],\n  data: null,\n  headers: {},\n  method: 'get',\n  params: {},\n  query: {},\n  responseType: '',\n  timeout: 0,\n  url: '',\n  withCredentials: false\n};\nconst uploadMethods = new Arr(['post', 'put']);\n\n/**\n * @class Fetch\n * @extends Function\n * @public\n * @param {FetchConfig} [config = {}] - A number to wrap.\n * @returns {Fetch} Instance of Fetch.\n * An instance of Fetch is a function that simply calls #request with the same arguments.\n * @description Class for fetching data.\n *\n * @example\n * const fetch = new Fetch();\n *\n * fetch('/data').then((res) => {\n *   console.log(res);\n * });\n */\nclass Fetch extends Function {\n  constructor(config = {}) {\n    super();\n\n    function fetch() {\n      return fetch.request.apply(fetch, arguments);\n    }\n\n    const conf = new Super({}).deepAssign(defaults, config).$;\n\n    if (conf.before.indexOf(fetchBeforeMiddleware) === -1) {\n      conf.before.push(fetchBeforeMiddleware);\n    }\n\n    /**\n     * @member {FetchConfig} Fetch#$$\n     * @type {FetchConfig}\n     * @public\n     * @description Fetch config.\n     */\n    Object.defineProperty(fetch, '$$', { value: conf });\n    Object.setPrototypeOf(fetch, Fetch.prototype);\n\n    return fetch;\n  }\n\n  /**\n   * @method Fetch#after\n   * @public\n   * @param {FetchAfterMiddleware|FetchErrorAfterMiddleware} middleware - Middleware to add.\n   * @param {Boolean|*} [afterAll = true] - Boolean parameter where to put the middleware.\n   * Truthy parameter stands for \"to the end\" and falsey for \"to the beginning\".\n   * @returns {Fetch} Returns this.\n   * @description Middleware that is called after the request.\n   * If the middleware has 2 or less arguments it's treated as success middleware otherwise as an error one.\n   * If the middleware returns a promise it becomes a part of the middleware chain.\n   *\n   * @example\n   * const fetch = new Fetch()\n   *   .after((err, res) => {\n   *     console.log(err);\n   *\n   *     throw err;\n   *   })\n   *   .after((res) => {\n   *     res.json = D(res.data).parseJSON():\n   *   });\n   */\n  after(middleware, afterAll = true) {\n    validate([middleware], ['function'], 'Fetch#after');\n\n    const { after } = this.$$;\n\n    if (afterAll) {\n      after.push(middleware);\n    } else {\n      after.unshift(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#before\n   * @public\n   * @param {FetchBeforeMiddleware|FetchErrorBeforeMiddleware} middleware - Middleware to add.\n   * @param {Boolean|*} [beforeAll = true] - Boolean parameter where to put the middleware.\n   * Truthy parameter stands for \"to the beginning\" and falsey for \"to the end\".\n   * @returns {Fetch} Returns this.\n   * @description Middleware that is called before the request.\n   * If the middleware has 2 or less arguments it's treated as success middleware otherwise as an error one.\n   * If the middleware returns a promise it becomes a part of the middleware chain.\n   *\n   * @example\n   * const fetch = new Fetch()\n   *   .before((err, req) => {\n   *     console.log(err);\n   *\n   *     throw err;\n   *   })\n   *   .before((req) => {\n   *     if (req.url === '/veryLongRequest') {\n   *       req.timeout = 30000;\n   *     }\n   *   });\n   */\n  before(middleware, beforeAll = true) {\n    validate([middleware], ['function'], 'Fetch#before');\n\n    const { before } = this.$$;\n\n    if (beforeAll) {\n      before.unshift(middleware);\n    } else {\n      before.push(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#config\n   * @public\n   * @param {String|FetchConfig|FetchConfigFunction} [property] - If it's a function\n   * it's called with the fetch config argument, if it's a string the value argument\n   * is used for assigning this property to the fetch config\n   * otherwise it's assigned to the fetch config.\n   * @param {*} [value] - See the property argument.\n   * @returns {Fetch|FetchConfig} If the argument is present this is returned otherwise the fetch config is returned.\n   * @description Method for getting and setting config.\n   *\n   * @example\n   * const fetch = new Fetch();\n   *\n   * fetch.config({ baseURL: 5000 });\n   * fetch.config().timeout; // 5000\n   *\n   * fetch.config((config) => {\n   *   config.baseURL += '/api';\n   * });\n   */\n  config(property, value) {\n    const conf = this.$$;\n\n    if (!arguments.length) {\n      return conf;\n    }\n\n    if (isFunction(property)) {\n      property(conf);\n    } else {\n      if (arguments.length >= 2) {\n        property = { [property]: value };\n      }\n\n      new Super(conf).deepAssign(property);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#delete\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for delete requests.\n   *\n   * @example\n   * new Fetch().delete('/data').then((res) => {\n   *   console.log(res);\n   * });\n   */\n  delete(url, config = {}) {\n    if (!isString(url)) {\n      config = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'delete' }, config));\n  }\n\n  /**\n   * @method Fetch#get\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for get requests.\n   *\n   * @example\n   * new Fetch().get('/data').then((res) => {\n   *   console.log(res);\n   * });\n   */\n  get(url, config = {}) {\n    if (!isString(url)) {\n      config = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'get' }, config));\n  }\n\n  /**\n   * @method Fetch#head\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().head('/data').then((res) => {\n   *   console.log(res);\n   * });\n   */\n  head(url, config = {}) {\n    if (!isString(url)) {\n      config = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'head' }, config));\n  }\n\n  /**\n   * @method Fetch#headers\n   * @public\n   * @param {String|Object.<String, String|String[]>} header - A header string or an object of the following format:\n   * { [header]: [value1, value2, ...] }.\n   * @param {String|String[]} [value] - Header value. If the first argument is a string\n   * this has to be a header value or an array of header values.\n   * @returns {Fetch} Returns this.\n   * @description Method for setting request headers.\n   *\n   * @example\n   * const fetch = new Fetch()\n   *   .headers('Header1', 'Value')\n   *   .headers('Header2', ['Value1', 'Value2'])\n   *   .headers({\n   *     Header3: ['Value1', 'Value2']\n   *   });\n   */\n  headers(header, value) {\n    const { headers } = this.$$;\n\n    if (arguments.length >= 2) {\n      header = { [header]: value };\n    }\n\n    iterate(header, (value, header) => {\n      const array = headers[header] || [];\n      const toPush = isArray(value) ? value : [value];\n\n      (headers[header] = array).push.apply(array, toPush);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#instance\n   * @public\n   * @param {FetchConfig} [config] - New config if needed.\n   * @returns {Fetch} New instance of Fetch.\n   * @description Method for creating new fetch instances based on already existent.\n   *\n   * @example\n   * const mainFetch = new Fetch({\n   *   baseURL: '//other.domain.com/api',\n   *   withCredentials: true\n   * });\n   *\n   * const longFetch = mainFetch.instance({\n   *   timeout: 10000\n   * });\n   */\n  instance(config = {}) {\n    const dataConfig = new Super(config).hasOwn('data')\n      ? { data: config.data }\n      : {};\n\n    delete config.data;\n\n    const conf = new Super({})\n      .deepAssign(this.$$, config)\n      .assign(dataConfig)\n      .$;\n\n    return new Fetch(conf);\n  }\n\n  /**\n   * @method Fetch#patch\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {*} [data] - Additional parameter for uploading data.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().patch('/data', { user: 'John' }).then((res) => {\n   *   console.log(res);\n   * });\n   */\n  patch(url, data = {}, config = {}) {\n    if (arguments.length && !isString(url)) {\n      config = data;\n      data = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'patch', data }, config));\n  }\n\n  /**\n   * @method Fetch#post\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {*} [data] - Additional parameter for uploading data.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().post('/data', { user: 'John' }).then((res) => {\n   *   console.log(res);\n   * });\n   */\n  post(url, data = {}, config = {}) {\n    if (arguments.length && !isString(url)) {\n      config = data;\n      data = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'post', data }, config));\n  }\n\n  /**\n   * @method Fetch#put\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {*} [data] - Additional parameter for uploading data.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().put('/data', { user: 'John' }).then((res) => {\n   *   console.log(res);\n   * });\n   */\n  put(url, data = {}, config = {}) {\n    if (arguments.length && !isString(url)) {\n      config = data;\n      data = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'put', data }, config));\n  }\n\n  /**\n   * @method Fetch#request\n   * @public\n   * @param {String} [url] - URL for the request.\n   * @param {FetchConfig} [config] - Additional config for this particular request.\n   * @returns {Promise.<FetchResponse, Error>} Promise that is resolved with the request response.\n   * @description Main function for making requests. All request methods call this method\n   * including the fetch instance itself.\n   *\n   * @example\n   * const fetch = new Fetch();\n   *\n   * fetch.request('/data', { timeout: 1000 }).then((res) => {\n   *   console.log(res);\n   * });\n   *\n   * fetch.request({ timeout: 1000 }).then((res) => {\n   *   console.log(res);\n   * });\n   *\n   * fetch.request().then((res) => {\n   *   console.log(res);\n   * });\n   */\n  request(url, config = {}) {\n    if (arguments.length === 1 && !isString(url)) {\n      config = url;\n    }\n\n    const dataConfig = new Super(config).hasOwn('data')\n      ? { data: config.data }\n      : {};\n    const urlConfig = isString(url)\n      ? { url }\n      : {};\n\n    delete config.data;\n\n    const conf = new Super(this.$$)\n      .deepClone()\n      .deepAssign(urlConfig, config)\n      .assign(dataConfig)\n      .$;\n\n    let xhr;\n    let promise = Promise.resolve();\n\n    iterate(conf.before, (middleware) => {\n      promise = promise.then(() => {\n        if (middleware.length >= 2) {\n          return Promise.resolve();\n        }\n\n        return new Promise((resolve) => {\n          resolve(middleware(conf));\n        });\n      }, (err) => {\n        if (middleware.length < 2) {\n          return Promise.reject(err);\n        }\n\n        return new Promise((resolve) => {\n          resolve(middleware(err, conf));\n        });\n      });\n    });\n\n    promise = promise.then(() => new Promise((resolve, reject) => {\n      const {\n        after,\n        auth: {\n          username,\n          password\n        },\n        data,\n        headers,\n        method,\n        onprogress,\n        responseType,\n        timeout,\n        url,\n        withCredentials\n      } = conf;\n\n      xhr = new XMLHttpRequest();\n\n      xhr.open(method, url, true, username, password);\n\n      iterate(headers, (value, header) => {\n        xhr.setRequestHeader(header, value);\n      });\n\n      if (onprogress) {\n        if (uploadMethods.indexOfStrict(method) === -1) {\n          xhr.onprogress = onprogress;\n        } else {\n          xhr.upload.onprogress = onprogress;\n        }\n      }\n\n      xhr.onabort = () => {\n        const error = new Error('Request was aborted');\n\n        error.type = 'ABORT_ERROR';\n\n        reject(error);\n\n        xhr = null;\n      };\n\n      xhr.onerror = () => {\n        const error = new Error('Network error');\n\n        error.type = 'NETWORK_ERROR';\n\n        reject(error);\n\n        xhr = null;\n      };\n\n      xhr.ontimeout = () => {\n        const error = new Error('Request time exceeded');\n\n        error.type = 'TIMEOUT_ERROR';\n\n        reject(error);\n\n        xhr = null;\n      };\n\n      xhr.onreadystatechange = () => {\n        if (!xhr || !xhr.status || xhr.readyState !== 4) {\n          return;\n        }\n\n        const response = {\n          config: conf,\n          data: !responseType || responseType === 'text' ? xhr.responseText : xhr.response,\n          headers: parseHeaders(xhr.getAllResponseHeaders()),\n          status: xhr.status === 1223 ? 204 : xhr.status,\n          statusText: xhr.status === 1223 ? 'No Content' : xhr.statusText,\n          xhr\n        };\n\n        let promise = Promise.resolve();\n\n        iterate(after, (middleware) => {\n          promise = promise.then(() => {\n            if (middleware.length >= 2) {\n              return Promise.resolve();\n            }\n\n            return new Promise((resolve) => {\n              resolve(middleware(response));\n            });\n          }, (err) => {\n            if (middleware.length < 2) {\n              return Promise.reject(err);\n            }\n\n            return new Promise((resolve) => {\n              resolve(middleware(err, response));\n            });\n          });\n        });\n\n        resolve(promise\n          .then(() => response)\n          .catch((err) => {\n            try {\n              err.response = response;\n            } catch (e) {\n              throw err;\n            }\n\n            throw err;\n          })\n        );\n      };\n\n      xhr.responseType = responseType;\n      xhr.timeout = Number(timeout) || 0;\n      xhr.withCredentials = !!withCredentials;\n\n      xhr.send(data);\n    }));\n\n    promise.abort = function abort() {\n      if (xhr) {\n        xhr.abort();\n      }\n\n      return this;\n    };\n\n    return promise;\n  }\n}\n\ndefineProperties(Fetch.prototype, {\n  [Symbol.toStringTag]: 'Fetch'\n});\n\n/**\n * @function fetchBeforeMiddleware\n * @private\n * @param {FetchConfig} config\n * @description Built-in before middleware for url, data, method, headers construction.\n */\nfunction fetchBeforeMiddleware(config) {\n  const {\n    baseURL,\n    data,\n    headers,\n    method,\n    params,\n    query,\n    url\n  } = config;\n  const METHOD = method.toUpperCase();\n\n  config.method = METHOD;\n  config.url = constructURL(baseURL, url, params, query);\n  config.data = transformData(data, METHOD, headers);\n  config.headers = new Super(headers).object((headers, values, header) => {\n    header = new Str(header)\n      .toCapitalCase()\n      .replace(/\\s+/g, '-')\n      .$;\n\n    headers[header] = values.join(', ');\n  }).$;\n}\n\n/**\n * @const {Fetch} fetch\n * @type {Fetch}\n * @public\n * @description Empty instance of Fetch.\n */\nconst fetch = new Fetch();\n\nexport { Fetch, fetch };\n","/**\n * @module helpers/resolveURL\n * @private\n * @description Exports Object.assign-like method.\n */\n\nimport { Str } from '../Str';\n\nconst { location } = global;\n\nexport default (decodeQuery) => {\n  const {\n    search: query,\n    hash\n  } = location;\n  const params = {\n    query: {},\n    hash: hash.replace(/^#/, '')\n  };\n\n  if (!query) {\n    return params;\n  }\n\n  new Str(query.replace(/^\\?/, ''))\n    .split('&')\n    .forEach((rawParam) => {\n      let [param, value = ''] = rawParam.split('=');\n\n      param = decodeQuery ? decodeURIComponent(param) : param;\n      value = decodeQuery ? decodeURIComponent(value) : value;\n\n      if (!/^[^[]+/.test(param)) {\n        return;\n      }\n\n      let paramName;\n      let paramObject = params.query;\n\n      new Str(param)\n        .match(/^[^[\\]]*|\\[[^[\\]]*]/g)\n        .forEach((name) => {\n          if (name.indexOf('[')) {\n            paramName = name;\n\n            return;\n          }\n\n          name = name.slice(1, -1);\n\n          paramObject = paramObject[paramName] = paramObject[paramName] || (name ? {} : []);\n          paramName = name || paramObject.length;\n        });\n\n      paramObject[paramName] = value;\n    });\n\n  return params;\n};\n","/**\n * @module Router\n * @private\n * @mixin\n * @description Exports Router.\n */\n\nimport { Arr } from './Arr';\nimport { Elem, win } from './Elem';\nimport { self } from './Func';\nimport { Str } from './Str';\nimport { Super } from './Super';\nimport { switcher } from './Switcher';\nimport { assign, isNil, isRegExp, isString } from './helpers';\nimport constructURL from './helpers/constructURL';\nimport resolveURL from './helpers/resolveURL';\n\nconst Routes = new Arr([]);\nconst currentRoutes = new Arr([]);\nconst subscribers = {};\nconst {\n  history,\n  location,\n  location: {\n    href: initialURL\n  }\n} = global;\nlet initialized;\nlet pushed;\nlet wasRoot;\nlet wasDefault;\nlet rootRoute;\nlet redirectRoute;\nlet redirectRouteIsNeededToPush = false;\nlet RedirectRoute;\nlet defaultRoute;\nlet DefaultRoute;\nlet currentRoute;\nlet currentRouteParams;\n\nconst pathSwitcher = switcher('call', () => {\n  throw new Error('State path must be a string, a regular expression or undefined! (at registerState)');\n})\n  .case(isRegExp, (path) => ({\n    path: path.source.replace(/\\\\\\//g, '/'),\n    url: path,\n    params: {}\n  }))\n  .case(isNil, () => ({\n    path: '/',\n    url: '/',\n    params: {}\n  }))\n  .case(isString, (path) => {\n    if (path.indexOf('/')) {\n      throw new Error('If route path is a string it must start with \"/\"! (at registerState)');\n    }\n\n    const index = path.indexOf('?');\n    const params = new Super({});\n    let newURL = '';\n    const newPath = new Str(path)\n      .slice(0, index === -1 ? path.length : index)\n      .replace(/^\\/|\\/$/g)\n      .split(/\\//)\n      .map((part, i, array) => {\n        if (!part && array.length > 1) {\n          throw new Error('If route path is a string it must not contain \"//\" or end with \"/\"! (at makeRoute)');\n        }\n\n        const index = part.indexOf(':');\n\n        if (index > 0) {\n          throw new Error('If route path is a string resource part must be either a string or an URL parameter! (at makeRoute)');\n        }\n\n        if (index === -1) {\n          return {\n            url: part,\n            value: part\n          };\n        }\n\n        const {\n          name,\n          regexp = /[^/]*/\n        } = resolveParameter(\n          part.slice(1),\n          'URL parameter must not be an empty string or contain characters besides \"a-zA-Z_$\"! (at makeRoute)',\n          'URL parameter regexp validator must be within parentheses (e.g. :userId(\\\\d+) and not contain ones)! (at makeRoute)'\n        );\n\n        params.$[name] = params.count;\n\n        return {\n          type: 'param',\n          url: `:${ name }`,\n          value: regexp\n        };\n      })\n      .word(({ type, url, value }) => {\n        let newPath;\n\n        if (type === 'param') {\n          newPath = `(${ value.source.replace(/\\\\\\//g, '/') })`;\n        } else {\n          newPath = new Str(value).escapeRegExp().$;\n        }\n\n        newURL += `/${ url }`;\n\n        return `/${ newPath }`;\n      });\n\n    return {\n      path: newPath,\n      url: newURL,\n      params: params.$\n    };\n  });\n\nconst router = {\n  buildURL,\n  go,\n  goToURL,\n  pushURL,\n  redirect,\n  redirectToURL,\n  replaceURL\n};\n\nclass Route {\n  constructor(options) {\n    options = options || {};\n\n    const {\n      name,\n      path = '/',\n      abstract = false,\n      parent,\n      decodeQuery = true,\n      encodeQuery = true,\n      decodeParams = true,\n      encodeParams = true\n    } = options || {};\n    const {\n      url: relativeURL,\n      path: relativePath,\n      params\n    } = pathSwitcher(path);\n    const query = {};\n\n    new Super(this).assign({\n      name,\n      parentName: parent,\n      abstract: !!abstract,\n      children: new Arr([]),\n      decodeParams: !!decodeParams,\n      decodeQuery: !!decodeQuery,\n      encodeParams: !!encodeParams,\n      encodeQuery: !!encodeQuery,\n      params,\n      query,\n      relativePath,\n      relativeURL\n    });\n\n    const index = isString(path)\n      ? path.indexOf('?')\n      : -1;\n\n    if (index !== -1) {\n      new Str(path)\n        .replace(/&$/)\n        .slice(index + 1)\n        .split('&')\n        .forEach((param) => {\n          const {\n            name,\n            regexp = /[\\s\\S]*/\n          } = resolveParameter(\n            param,\n            'Query parameter must not be an empty string or contain characters besides \"a-zA-Z_$\"! (at makeRoute)',\n            'Query parameter regexp validator must be within parentheses (e.g. :userId(\\\\d+)) and not contain them! (at makeRoute)'\n          );\n\n          query[name] = new RegExp(`^${ regexp.source.replace(/\\\\\\//g, '/') }$`);\n        });\n    }\n\n    if (name === defaultRoute && (\n        new Super(params).count\n        || new Super(query).count\n      )) {\n      throw new Error('Default route must not have URL or query params! (at makeRoute)');\n    }\n  }\n}\n\nconst baseRoute = new Route();\n\nfunction initRouter() {\n  if (initialized) {\n    return;\n  }\n\n  initialized = true;\n  RedirectRoute = (Routes.find(({ name }) => name === redirectRoute) || {}).value;\n  DefaultRoute = (Routes.find(({ name }) => name === defaultRoute) || {}).value;\n\n  if (redirectRoute && !RedirectRoute) {\n    throw new Error(`There is no specified fallback route (\"${ redirectRoute }\")! (at initRouter)`);\n  }\n\n  Routes\n    .forEach((route) => {\n      const {\n        parentName,\n        name\n      } = route;\n      const ParentName = parentName || rootRoute;\n      const { value: parent } = Routes.find(({ name }) => name === ParentName) || {};\n\n      if (!parent) {\n        throw new Error(`No such parent route (\"${ ParentName }\") found for the route (\"${ name }\")! (at initRouter)`);\n      }\n\n      if (!parent.abstract && name !== rootRoute) {\n        throw new Error(`Parent route must be abstract (for \"${ name }\")! (at initRouter)`);\n      }\n\n      if (name !== rootRoute) {\n        route.parentName = ParentName;\n      }\n\n      route.parent = name === rootRoute\n        ? baseRoute\n        : parent;\n    })\n    .forEach((route) => {\n      const {\n        name,\n        parent: {\n          params: parentParams,\n          query: parentQuery,\n          path\n        },\n        params,\n        query,\n        relativeURL,\n        relativePath\n      } = route;\n      let proto = route;\n      let count = 0;\n      let newPath = relativePath;\n      let newURL = '';\n\n      if (isRegExp(path)) {\n        throw new Error('URL regexp route cannot be extended! (at initRouter)');\n      }\n\n      while (proto = proto.parent) {\n        count += new Super(proto.params).count;\n        newPath = proto.relativePath + newPath;\n        newURL = proto.relativeURL + newURL;\n\n        proto.children.push(route);\n      }\n\n      newPath = new RegExp(`^${ newPath.replace(/\\/+/g, '/').replace(/\\/$/, '') || '/' }$`);\n      newURL = isRegExp(relativeURL)\n        ? newPath\n        : (newURL + relativeURL).replace(/\\/+/g, '/').replace(/\\/$/, '') || '/';\n\n      new Super(query).proto(parentQuery);\n      new Super(params)\n        .proto(parentParams)\n        .forEach((value, key, params) => {\n          params[key] += count;\n        });\n\n      if (name === defaultRoute && (\n          new Super(params).count\n          || new Super(query).count\n        )) {\n        throw new Error('Default route must not have URL or query params! (at initRouter)');\n      }\n\n      route.url = newURL;\n      route.validatePath = newPath;\n    });\n\n  changeRoute();\n\n  win.on({\n    popstate() {\n      if (location.href !== initialURL) {\n        pushed = true;\n      }\n\n      if (pushed) {\n        changeRoute();\n      }\n    },\n    click(e) {\n      const closestLink = new Elem(e.target).closest('a');\n\n      if (closestLink.length && closestLink.attr('target') !== '_blank') {\n        const push = !closestLink.hasAttr('replace');\n\n        e.preventDefault();\n\n        forward(closestLink.attr('href') || '', push);\n      }\n    }\n  });\n}\n\nfunction makeRoute(options) {\n  return (Block) => {\n    options = assign({}, options, Block.routerOptions);\n\n    const {\n      name,\n      path,\n      abstract,\n      root,\n      fallbackTo,\n      replace = true,\n      default: isDefault\n    } = options || {};\n\n    if (initialized) {\n      console.warn('Router was already initialized (at makeRoute)');\n\n      return self;\n    }\n\n    if (wasRoot && root) {\n      throw new Error(`There can't be two root routes (\"${ rootRoute }\" and \"${ name }\")! (at makeRoute)`);\n    }\n\n    if (wasDefault && isDefault) {\n      throw new Error(`There can't be two default routes (\"${ defaultRoute }\" and \"${ name }\")! (at makeRoute)`);\n    }\n\n    if (!name) {\n      throw new Error('State must have a non-empty string \"name\" property! (at makeRoute)');\n    }\n\n    if (Routes.some(({ name: Name }) => Name === name)) {\n      throw new Error('State must have unique \"name\" property! (at makeRoute)');\n    }\n\n    if (root) {\n      wasRoot = true;\n      rootRoute = name;\n      options.parent = null;\n\n      if (fallbackTo) {\n        redirectRoute = fallbackTo;\n        redirectRouteIsNeededToPush = !replace;\n      }\n    }\n\n    if (isDefault) {\n      wasDefault = true;\n      defaultRoute = name;\n\n      if (abstract) {\n        throw new Error('Default route can\\'t be abstract! (at makeRoute)');\n      }\n\n      if (isRegExp(path)) {\n        throw new Error('Default route can\\'t have a regexp path! (at makeRoute)');\n      }\n    }\n\n    const route = new Route(options);\n\n    Routes.push(route);\n\n    let unsubscribe;\n    let routeLoaded;\n\n    return class extends Block {\n      /* eslint prefer-template: 0 */\n      static template = '<d-if if=\"{__wasRouteActive__}\">'\n        + '<div'\n        + `  class=\"dwayne-route route-${ name + (abstract ? ' abstract-route' : '') }\"`\n        + '  d-class=\"{{ \\'active-route\\': __isCurrentRoute__ }}\"'\n        + '  d-show=\"{__isCurrentRoute__}\"'\n        + '>'\n        + Block.template\n        + '</div>'\n        + '</d-if>';\n\n      constructor(opts) {\n        super(opts);\n\n        if (root) {\n          initRouter();\n\n          this.global.router = router;\n        }\n\n        this.__routerInstance__ = route;\n        this.__isCurrentRoute__ = currentRoutes.includes(route);\n        this.__wasRouteActive__ = this.__isCurrentRoute__;\n        this.args.route = currentRouteParams;\n\n        routeLoaded = false;\n        unsubscribe = subscribe(name, (action) => {\n          const isCurrentRoute = action !== 'leave';\n\n          this.__isCurrentRoute__ = isCurrentRoute;\n\n          if (isCurrentRoute) {\n            this.__wasRouteActive__ = true;\n            this.args.route = currentRouteParams;\n          }\n\n          if (action === 'load') {\n            callBeforeLoad(this);\n          } else if (action === 'leave') {\n            callBeforeLeave(this);\n          }\n        });\n\n        if (this.__isCurrentRoute__) {\n          callBeforeLoad(this);\n        }\n      }\n\n      beforeRemove() {\n        unsubscribe();\n        unsubscribe = null;\n        callBeforeLeave(this);\n        super.beforeRemove();\n      }\n    };\n\n    function callBeforeLoad(route) {\n      if (routeLoaded) {\n        return;\n      }\n\n      const block = {\n        $$: {\n          children: new Arr([route])\n        }\n      };\n      let wasRoute;\n\n      block.$$.children.forEach(function beforeLoad(block) {\n        if (block.__routerInstance__) {\n          if (wasRoute) {\n            return;\n          }\n\n          wasRoute = true;\n        }\n\n        const {\n          name,\n          children,\n          mixins\n        } = block.$$;\n\n        if (children) {\n          children.forEach(beforeLoad);\n        }\n\n        if (mixins) {\n          mixins.forEach(beforeLoad);\n        }\n\n        if (block.beforeLoadRoute) {\n          try {\n            block.beforeLoadRoute();\n          } catch (err) {\n            console.error(`Uncaught error in ${ name }#beforeLoad:`, err);\n          }\n        }\n      });\n\n      routeLoaded = true;\n    }\n\n    function callBeforeLeave(route) {\n      if (!routeLoaded) {\n        return;\n      }\n\n      const block = {\n        $$: {\n          children: new Arr([route])\n        }\n      };\n      let wasRoute;\n\n      block.$$.children.forEach(function beforeLeave(block) {\n        if (block.__routerInstance__) {\n          if (wasRoute) {\n            return;\n          }\n\n          wasRoute = true;\n        }\n\n        const {\n          name,\n          children,\n          mixins\n        } = block.$$;\n\n        if (children) {\n          children.forEach(beforeLeave);\n        }\n\n        if (mixins) {\n          mixins.forEach(beforeLeave);\n        }\n\n        if (block.beforeLeaveRoute) {\n          try {\n            block.beforeLeaveRoute();\n          } catch (err) {\n            console.error(`Uncaught error in ${ name }#beforeLeave:`, err);\n          }\n        }\n      });\n\n      routeLoaded = false;\n    }\n  };\n}\n\nfunction subscribe(name, callback) {\n  subscribers[name] = callback;\n\n  return () => {\n    delete subscribers[name];\n  };\n}\n\nfunction forward(url, push) {\n  changeHistory(url, push);\n  changeRoute();\n}\n\nfunction changeRoute() {\n  const route = findRouteByURL();\n\n  if (route) {\n    ({\n      route: currentRoute,\n      ...currentRouteParams\n    } = route);\n    assign(currentRouteParams, {\n      name: currentRoute.name,\n      host: location.host,\n      hostname: location.hostname,\n      href: location.href,\n      origin: location.origin,\n      pathname: location.pathname,\n      port: location.port,\n      protocol: location.protocol,\n      search: location.search\n    });\n  } else {\n    if (redirectRoute) {\n      const {\n        url,\n        encodeParams,\n        encodeQuery\n      } = RedirectRoute;\n\n      return forward(constructURL('', url, {}, {}, '', {\n        params: encodeParams,\n        query: encodeQuery\n      }), redirectRouteIsNeededToPush);\n    }\n\n    currentRoute = null;\n    currentRouteParams = null;\n  }\n\n  const routesToLeave = new Arr([]);\n  const routesToLoad = new Arr([]);\n  let parent;\n\n  while (currentRoutes.length && !parent) {\n    const route = currentRoutes.pop();\n\n    if (route.children.includes(currentRoute)) {\n      currentRoutes.push(route);\n      parent = route;\n    } else {\n      routesToLeave.push(route);\n    }\n  }\n\n  if (currentRoute) {\n    let currentParent = currentRoute;\n\n    while (currentParent !== parent && currentParent !== baseRoute) {\n      routesToLoad.unshift(currentParent);\n      currentParent = currentParent.parent;\n    }\n\n    currentRoutes.push(...routesToLoad.$);\n  }\n\n  routesToLeave.forEach(({ name }) => {\n    if (subscribers[name]) {\n      subscribers[name]('leave');\n    }\n  });\n  currentRoutes.forEach((route) => {\n    const { name } = route;\n\n    if (subscribers[name]) {\n      subscribers[name](\n        routesToLoad.includes(route)\n          ? 'load'\n          : 'update'\n      );\n    }\n  });\n}\n\nfunction findRouteByURL() {\n  const pathname = location.pathname || '/';\n  const search = location.search || '';\n  let urlParams;\n\n  Routes.some((route) => {\n    if (route.abstract) {\n      return;\n    }\n\n    const {\n      url: routeURL,\n      validatePath,\n      params,\n      query: requiredQuery,\n      decodeParams,\n      decodeQuery\n    } = route;\n    const resolved = resolveURL(decodeQuery);\n    const query = new Super(resolved.query);\n    const eventualParams = {};\n    const match = (\n      (pathname.replace(/\\/$/, '') || '/') +\n      (isRegExp(routeURL) ? search : '')\n    ).match(validatePath);\n\n    if (!match) {\n      return;\n    }\n\n    /* eslint guard-for-in: 0 */\n    for (const param in requiredQuery) {\n      if (!query.hasOwn(param) || !requiredQuery[param].test(query.$[param])) {\n        return;\n      }\n    }\n\n    match.shift();\n\n    for (const param in params) {\n      eventualParams[param] = decode(match[params[param]], decodeParams);\n    }\n\n    urlParams = {\n      route,\n      params: eventualParams,\n      query: query.$,\n      hash: resolved.hash\n    };\n\n    return true;\n  });\n\n  if (urlParams) {\n    return urlParams;\n  }\n\n  if (!defaultRoute) {\n    return;\n  }\n\n  return {\n    route: DefaultRoute,\n    params: {},\n    ...resolveURL(DefaultRoute.decodeQuery)\n  };\n}\n\nfunction decode(string, decodeParams) {\n  return decodeParams\n    ? decodeURIComponent(string)\n    : string;\n}\n\nfunction changeHistory(url, push) {\n  try {\n    history[push ? 'pushState' : 'replaceState'](null, null, url);\n    pushed = true;\n  } catch (err) {\n    location.href = url;\n  }\n}\n\nfunction resolveParameter(param, nameErrorName, valueErrorName) {\n  const nameMatch = param.match(/^[a-z_$]+/i);\n\n  if (!nameMatch) {\n    throw new Error(nameErrorName);\n  }\n\n  const name = nameMatch[0];\n  const value = param.slice(name.length);\n  let regexp;\n\n  if (value && (value.indexOf('(') || value.indexOf(')') !== value.length - 1)) {\n    throw new Error(valueErrorName);\n  }\n\n  if (value) {\n    regexp = new RegExp(value.slice(1, -1));\n  }\n\n  return {\n    name,\n    regexp\n  };\n}\n\nfunction buildURL(name, options = {}) {\n  const { value: route } = Routes.find(({ name: n }) => n === name) || {};\n\n  if (!route) {\n    throw new Error(`There are no routes with name \"${ name }\"! (at router.buildURL)`);\n  }\n\n  const {\n    url,\n    encodeParams,\n    encodeQuery\n  } = route;\n\n  if (isRegExp(url)) {\n    throw new Error('URL can be built only from the string URLs! (at router.buildURL)');\n  }\n\n  const {\n    params = {},\n    query = {},\n    hash = ''\n  } = options;\n\n  return constructURL('', url, params, query, hash, {\n    params: encodeParams,\n    query: encodeQuery\n  });\n}\n\nfunction go(name, options) {\n  forward(buildURL(name, options), true);\n}\n\nfunction goToURL(url) {\n  forward(url, true);\n}\n\nfunction pushURL(url) {\n  changeHistory(url, true);\n}\n\nfunction redirect(name, options) {\n  forward(buildURL(name, options));\n}\n\nfunction redirectToURL(url) {\n  forward(url);\n}\n\nfunction replaceURL(url) {\n  changeHistory(url);\n}\n\nexport { makeRoute, router };\n","import * as statics from './lib/browser';\nimport { assign } from './lib/helpers/assign';\n\nconst { D } = statics;\n\nassign(D, statics);\n\ndelete D.D;\n\nglobal.D = D;\n"],"names":["window","global","self","appliedRegExps","elem","id","cls","addClass","attr","value","prop","css","name","html","text","removeClass","removeAttr","removeCSS","canvasGetMethods","canvasRestMethods","constructors","htmlElements","svgElements","voidElements","htmlAllowedTagSymbols","htmlAllowedAttrSymbols","regexpSpecialCharacters","toStringTag","object","toString","call","replace","isArray","isArrayLike","isFunction","length","isInteger","isBoolean","isDate","isDateLike","Date","isNaN","getTime","isElement","test","isFinite","isNumber","Number","Infinity","isIntegerLike","parseInt","isNull","isNil","isNumberLike","isObject","Object","isPlainObject","isPrimitive","proto","getPrototypeOf","constructor","isRegExp","isString","isSymbol","isUndefined","validateCheckExpressions","n","RangeError","v","methods","TypeError","a","d","f","i","o","r","s","D","levelConstructors","k","len","check","iterate","callback","array","iteratedKeys","iterated","key","hasOwnProperty","assign","target","objects","arguments","source","index","dynamicDefineProperties","properties","propertyGenerator","defineProperty","defineProperties","undefined","get","set","defineUsualProperties","defineFrozenProperties","Symbol","Math","random","toArray","createNewArray","push","toJSON","what","JSON","stringify","numbers","validate","args","options","number","checker","error","Alphabet","alphabet","char","Error","chars","$$","word","keys","token","floor","prototype","string","ranges","split","range","start","charCodeAt","end","String","fromCharCode","Switcher","cases","mode","defaultValue","eventualCases","Case","case","switcher","def","default","ret","val","apply","setPrototypeOf","Function","when","condition","value1","value2","cloneSwitcher","Super","$","deepClone","deep","clone","RegExp","match","sum","count","func","descriptors","create","deepEqual","Boolean","deepEvery","filtered","deepFilter","deepFind","deepMap","IV","tree","deepReduce","deepSome","property","descriptor","props","filter","indexOf","freeze","getter","isFrozen","replacer","space","unshift","max","min","obj","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","isContextObject","startKey","setter","reduce","deepAssign","o1","o2","strict","lastIndex","p1","p2","newTree","concat","nul","result","deepForEach","deepForEachEntry","deepFreeze","secret","iterator","Promise","executor","hiddenStatus","hiddenValue","onFulfill","onReject","realPromise","hiddenPromise","status","handled","resolve","reject","proxy","err","onUnhandledRejection","onError","then","onRejected","onFulfilledOrRejected","isFunc","onFulfilled","promise","handle","method","handler","iterable","toResolve","next","done","console","bind","Func","called","canBeCalled","before","after","sync","contextLocked","context","middleware","afterAll","beforeAll","bindContext","bindArgs","times","slice","lockContext","lockArgs","argsLocked","mark","time","timeEnd","unbindContext","unbindArgs","x","noop","toRadian","PI","toDegree","ln2","LN2","ln10","LN10","Num","toDegrees","acos","asin","atan","asDegrees","cos","abort","aborted","timeout","setTimeout","interval","clearTimeout","log","power","pow","sin","tan","rej","base","fractionDigits","toExponential","digits","toFixed","precision","toPrecision","abs","sqrt","cbrt","ceil","exp","ln","round","sign","rand","Arr","values","indexOfStrict","keyOf","keyOfStrict","separator","join","pop","reverse","shift","forEach","randomIndex","begin","compareFunction","sort","asc","y","deleteCount","items","splice","URL","BlobObject","progress","reader","FileReader","toReject","onprogress","e","onerror","onload","anchor","document","createElement","href","dataURL","setAttribute","click","createObjectURL","blob","blobParts","Blob","htmlSpecials","regexpSpecialsRegexp","Str","toUpperCase","searchString","position","revert","startsWith","escaped","symbol","searchValue","fromIndex","lastIndexOf","regexp","str","search","beginSlice","endSlice","substr","indexStart","indexEnd","substring","trim","toLowerCase","parseJSON","json","parse","dates","parsed","submitString","NODE_REGEX_SET","constructCloseTagRegExp","TAG_OPEN_CLOSE","ATTRIBUTE","div","nodeSwitcher","node","selfClosing","attrs","map","parseCharacterData","children","parent","collapseWhiteSpace","type","element","rawTextSwitcher","InternalParsingError","ParsingError","markup","elements","startMarkup","found","globalIndex","find","nearString","throwUnexpectedError","matches","regex","returning","closeMatch","NaN","tagName","innerHTML","textContent","innerText","nativeDocument","emptyDiv","eventSeparator","textProperty","Node","propertyDescriptor","classes","windowsDwayneData","inputElements","svgNS","xmlNS","xlinkNS","xhtmlNS","typeSwitcher","ns","documentElement","namespaceURI","createElementNS","createComment","createTextNode","refSwitcher","filterSwitcher","selector","Elem","is","isElem","elems","innerSwitcher","paddings","borders","outerSwitcher","attrNSSwitcher","closest","isWindow","isHTMLDocument","isDocumentFragment","isCommentOrText","isStyleRule","addDwayneData","list","classList","add","insertAdjacentHTML","style","some","getName","sheet","cssRules","rules","toHyphenCase","insertRule","dwayneData","into","strings","applied","setApplied","np1","getElem","attributes","getAttribute","getAttributeNS","setAttributeNS","first","load","isBroken","canvas","width","height","drawImage","byteString","atob","ab","ArrayBuffer","ia","Uint8Array","blur","pseudo","getComputedStyle","rule","toFind","childNodes","className","cloneNode","parentNode","contains","appliedExpressions","cssText","toCamelCase","getPropertyValue","getPropertyPriority","removeProperty","setProperty","ctx","dataset","encoderOptions","toDataURL","deleteRule","event","eventInit","details","bubbles","cancelable","finalEvent","Event","createEvent","initEvent","dispatchEvent","focus","selectorText","hasAttribute","hasAttributeNS","currentDisplay","previousDisplay","insertBefore","appendChild","firstChild","forEachReverse","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","complete","naturalWidth","naturalHeight","images","all","$elem","removeListeners","on","proper","broken","prev","nextSibling","events","listeners","removeListener","listener","allListeners","removeEventListeners","define","has","newListener","addEventListener","delete","removeEventListener","previousSibling","link","removeChild","removeAttribute","removeAttributeNS","remove","created","txt","hasAttr","hasClass","level","validator","validators","errors","formErrors","form","inputs","input","dispatch","inputError","validatorWrap","validity","valid","validationMessage","every","innerHeight","calcCSS","borderTopWidth","borderBottomWidth","boxSizing","paddingTop","paddingBottom","px","innerWidth","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","outerHeight","marginTop","marginBottom","outerWidth","marginLeft","marginRight","win","doc","body","head","tag","nodeName","getContext","querySelectorAll","parseHTML","markupToJSON","template","content","forEachNode","size","registerDBlock","Block","DBlock","constructChildren","parentScope","dBlockName","argsChildren","eventualChildren","watch","registerDEach","createBlock","DEach","opts","item","itemName","indexName","uid","constructValues","uids","parentElem","scope","UID","sortBy","$uids","newKeys","newUIDs","filterBy","evaluate","Item","prevBlock","block","insertAfterIt","registerDElements","DElements","mixins","watchersToRemove","child","mixin","removeContent","watchers","watcher","forDElements","registerDIf","DIf","cond","if","newValue","registerDItem","DItem","registerDSwitch","DSwitch","wasDefault","equals","registerDAttr","Mixin","DAttr","oldValue","registerDBind","DBind","off","registerDClass","DClass","newClasses","registerDElem","DElem","evaluateOnce","registerDHide","DHide","hide","show","registerDNode","DNode","registerDOn","DOn","registerDShow","DShow","registerDStyle","DStyle","listenerSwitcher","registerDValidate","DValidate","propSwitcher","setValueSwitcher","inputValue","getValueSwitcher","selected","init","registerDValue","DValue","initialScopeValue","currentValue","setProp","initialElemValue","getProp","isInitialScopeValueNull","isCheckbox","changeScope","option","emptySpaceRegExp","anyEmptySpaceRegExp","anyEscapedExpressionRegExp","anyDoubleQuoteRegExp","anyNewLineRegExp","anyCommaEmptySpace","properEscapedRegExp","simpleExpressionRegExp","variableRegExp","numberRegExp","stringRegExp","regexpRegExp","arrowFunctionRegExp","templateStringContentRegExp","operatorRegExp","pointOperatorRegExp","propertyRegExp","shorthandPropertyRegExp","unaryOperatorRegExp","EXPRESSION","END_OF_FUNC_BODY","parseJS","wholeString","curlyError","initialString","expected","variables","closingExpressions","expression","spaceMatch","toConcat","matched","isEmptySpace","properType","properSymbol","firstSymbol","templateString","vars","newFunctionVars","functionScope","variable","objectProperty","getVariable","operator","second","closeFunctionBody","closingBrace","noMatch","curlyIndex","expressionString","constructErrorInfo","last","wholeStringString","lastString","rootBlocks","rootMixins","isPrototypeOf","attrName","curlyBracketRegExp","dRestRegExp","afterElem","evalMode","getting","changed","_blocks","_mixins","Subclass","_this","isInstanceOfBlock","warn","hasOwn","_html","transformDIfChildren","transformJSExpressions","_variables","defaultArgs","isInstanceOfMixin","afterUpdate","_match","escapeRegExp","wrappers","wrapper","originalArgs","parentBlock","childrenBlocks","isParentBlock","onChange","instance","forDItem","forDEach","message","onEvalError","localWatchers","newResult","watcherBlock","onRemove","index1","index2","isParentSignal","beforeRemove","contentToAdd","notRecursive","pushArray","addContent","contentToMove","indexToPut","moveContent","contentToRemove","contentToInsert","moveFlag","insertAfter","insertInStartOfIt","tryToAddOrMove","argsObject","$argsObject","arg","localArgs","restArgs","transformRestArgs","transformArgs","realArgs","locals","local","perm","watchForAllArgs","watchForAllGlobals","registerBuiltIns","Blocks","blocks","_value","Mixins","initApp","DwayneRootBlock","register","svg","localBlocks","localMixins","dBlockMatch","currentMixins","localMatch","blockInstance","Args","deepCloneChildren","constructPrivateScope","scopeValues","DItemFound","privateScope","afterConstruct","afterRender","createMixin","evaluateAndWatch","newChild","ifElse","exclude","ownChildren","initialValue","isDEach","excludeLocal","rest","isUID","usedVariables","removeWatchers","constructPublicScope","temp","oldTempWatchers","was","globals","calculateArgs","propertyNames","zero","daysOfTheWeekNames","daysOfTheWeekAliases","monthsNames","monthsAliases","date","utc","zeroes","repeat","coeffs","getSwitcher","setSwitcher","Dat","now","prefix","formats","format","replaceString","date1","date2","isBefore","started","coeff","w","setTime","toISOString","toLocaleString","valueOf","absoluteURLRegexp","querySwitcher","query","queryParams","param","baseURL","url","params","hash","encodeOptions","encodeParams","encodeQuery","isAbsolute","encode","isEncoded","encodeURIComponent","rawHeaders","headers","notToTransform","withoutBody","data","contentType","defaults","location","origin","uploadMethods","Fetch","config","fetch","request","conf","fetchBeforeMiddleware","header","toPush","dataConfig","urlConfig","xhr","auth","username","password","responseType","withCredentials","XMLHttpRequest","open","setRequestHeader","upload","onabort","ontimeout","onreadystatechange","readyState","response","responseText","parseHeaders","getAllResponseHeaders","statusText","catch","send","METHOD","constructURL","transformData","toCapitalCase","decodeQuery","rawParam","decodeURIComponent","paramName","paramObject","Routes","currentRoutes","subscribers","history","initialURL","initialized","pushed","wasRoot","rootRoute","redirectRoute","redirectRouteIsNeededToPush","RedirectRoute","defaultRoute","DefaultRoute","currentRoute","currentRouteParams","pathSwitcher","path","newURL","newPath","part","resolveParameter","router","Route","abstract","decodeParams","relativeURL","relativePath","baseRoute","initRouter","route","parentName","ParentName","parentParams","parentQuery","validatePath","closestLink","preventDefault","makeRoute","routerOptions","root","fallbackTo","isDefault","Name","unsubscribe","routeLoaded","__routerInstance__","__isCurrentRoute__","includes","__wasRouteActive__","subscribe","action","isCurrentRoute","callBeforeLoad","wasRoute","beforeLoad","beforeLoadRoute","callBeforeLeave","beforeLeave","beforeLeaveRoute","forward","changeRoute","findRouteByURL","host","hostname","pathname","port","protocol","routesToLeave","routesToLoad","currentParent","urlParams","routeURL","requiredQuery","resolved","resolveURL","eventualParams","decode","changeHistory","nameErrorName","valueErrorName","nameMatch","buildURL","go","goToURL","pushURL","redirect","redirectToURL","replaceURL","statics"],"mappings":"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"}