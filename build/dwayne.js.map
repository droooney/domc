{"version":3,"file":"dwayne.js","sources":["../src/global.js","../src/utils/array.js","../src/utils/object.js","../src/utils/defineProperty.js","../src/utils/toStringTag.js","../src/utils/is.js","../src/utils/escapeRegex.js","../src/utils/objectStatics.js","../src/utils/toCase.js","../src/Elem.js","../src/blocks/d-block.js","../src/blocks/d-each.js","../src/blocks/d-elements.js","../src/blocks/d-if.js","../src/blocks/d-item.js","../src/blocks/d-switch.js","../src/mixins/d-attr.js","../src/mixins/d-bind.js","../src/mixins/d-class.js","../src/mixins/d-elem.js","../src/mixins/d-hide.js","../src/mixins/d-node.js","../src/mixins/d-on.js","../src/mixins/d-show.js","../src/mixins/d-style.js","../src/mixins/d-value.js","../src/Block.js"],"sourcesContent":["/* eslint no-nested-ternary: 0 */\n/* eslint no-negated-condition: 0 */\nexport default typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n","export function collectFromArray(array, callback, initialValue = {}) {\n  iterateArray(array, (value, index) => {\n    callback(initialValue, value, index, array);\n  });\n\n  return initialValue;\n}\n\nexport function findInArray(array, callback) {\n  for (let i = 0, length = array.length; i < length; i++) {\n    const value = array[i];\n\n    if (callback(value, i, array)) {\n      return {\n        key: i,\n        value\n      };\n    }\n  }\n}\n\nexport function iterateArray(array, callback) {\n  for (let i = 0, length = array.length; i < length; i++) {\n    callback(array[i], i, array);\n  }\n}\n\nexport function removeArrayElem(array, elem) {\n  const index = array.indexOf(elem);\n\n  if (index !== -1) {\n    array.splice(index, 1);\n  }\n}\n\nexport function toObjectKeys(array) {\n  return collectFromArray(array, addKey);\n}\n\nfunction addKey(vars, variable) {\n  vars[variable] = true;\n}\n","import { iterateArray } from './array';\n\nconst {\n  hasOwnProperty: has\n} = {};\n\n/**\n * @const\n * @function assign\n * @param {Object} target - Object to assign rest of arguments to.\n * @param {...Object} objects - Objects that are assigned to the target.\n * @returns {Object} Target.\n */\nexport function assign(target, ...objects) {\n  iterateArray(arguments, (source, index) => {\n    if (index) {\n      iterateObject(source, (value, key) => {\n        target[key] = value;\n      });\n    }\n  });\n\n  return target;\n}\n\nexport function collectFromObject(object, callback, initialValue = {}) {\n  iterateObject(object, (value, key) => {\n    callback(initialValue, value, key, object);\n  });\n\n  return initialValue;\n}\n\nexport function hasOwnProperty(object, key) {\n  return object::has(key);\n}\n\nexport function iterateObject(object, callback) {\n  for (const key in object) {\n    if (hasOwnProperty(object, key)) {\n      callback(object[key], key, object);\n    }\n  }\n}\n\nexport function mapObject(object, callback) {\n  const newObject = {};\n\n  iterateObject(object, (value, key) => {\n    newObject[key] = callback(value, key, object);\n  });\n\n  return newObject;\n}\n","import { iterateObject } from './object';\n\n/**\n * @function defineProperties\n * @param {Object} target - Target to define properties for.\n * @param {Object} properties - Object with properties needed to be assign to the target.\n * @returns {void}\n * @description Function for defining properties of an object.\n */\nexport const { defineProperties } = Object;\n\nexport function definePrototypeProperties(target, properties) {\n  iterateObject(properties, (value, name) => {\n    Object.defineProperty(target, name, {\n      value,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    });\n  });\n}\n\n/**\n * @function defineFrozenProperties\n * @param {Object} target - Target to define properties for.\n * @param {Object} properties - Object with properties needed to be assign to the target.\n * @returns {void}\n * @description Function for defining frozen properties of an object.\n */\nexport function defineFrozenProperties(target, properties) {\n  iterateObject(properties, (value, name) => {\n    Object.defineProperty(target, name, {\n      value,\n      writable: false,\n      enumerable: false,\n      configurable: false\n    });\n  });\n}\n","import { definePrototypeProperties } from './defineProperty';\n\nconst { Symbol } = global;\nconst { toString } = {};\n\n/**\n * @function toStringTag\n * @param {*} object - Object to get toStringTag of.\n * @returns {String} Cut string.\n * @description Cut \"Type\" string from \"[object Type]\" string that gotten from {}.toString,call(object).\n */\nexport function toStringTag(object) {\n  return object::toString().slice(8, -1);\n}\n\nexport function setToStringTag(object, tag) {\n  if (Symbol && Symbol.toStringTag) {\n    definePrototypeProperties(object.prototype, {\n      [Symbol.toStringTag]: tag\n    });\n  }\n}\n","/**\n * @module helpers/checkTypes\n * @private\n * @mixin\n * @description Exports is<Type> methods.\n */\n\nimport { toStringTag } from './toStringTag';\n\n/**\n * @function isArray\n * @public\n * @param {*} value - Value to check if it is an array.\n * @returns {Boolean} If the argument is an array or not.\n * \n * @example\n * isArray([]);                             // true\n * isArray(0);                              // true\n * isArray(document.querySelectorAll('*')); // false\n */\nexport const { isArray } = Array;\n\n/**\n * @function isFunction\n * @public\n * @param {*} value - Value to check if it is a function.\n * @returns {Boolean} If the argument is a function or not.\n * \n * @example\n * isFunction(() => {});            // true\n * \n * const func = () => {};\n * Object.setPrototypeOf(func, {});\n * isFunction(func);                // true\n */\nexport function isFunction(value) {\n  return toStringTag(value) === 'Function' || typeof value === 'function';\n}\n\n/**\n * @function isNil\n * @public\n * @param {*} value - Value to check if it is null or undefined.\n * @returns {Boolean} If the argument is null or undefined or not.\n *\n * @example\n * isNil(null);      // true\n * isNil(undefined); // true\n * isNil(false);     // false\n */\nexport function isNil(value) {\n  /* eslint eqeqeq: 0 */\n  return value == null;\n}\n\n/**\n * @function isString\n * @public\n * @param {*} value - Value to check if it is a string.\n * @returns {Boolean} If the argument is a string or not.\n *\n * @example\n * isString('0');             // true\n * isString(new String('0')); // true\n */\nexport function isString(value) {\n  return toStringTag(value) === 'String';\n}\n","const regexpSpecialCharacters = [\n  '.',\n  '+', '*', '?',\n  '(', ')',\n  '[', ']',\n  '{', '}',\n  '<', '>',\n  '^', '$',\n  '!',\n  '=',\n  ':',\n  '-',\n  '|',\n  ',',\n  '\\\\'\n];\nconst regexpSpecialsRegexp = new RegExp(\n  regexpSpecialCharacters\n    .map((s) => `\\\\${ s }`)\n    .join('|'),\n  'g'\n);\n\nexport function escapeRegex(string) {\n  return string.replace(regexpSpecialsRegexp, '\\\\$&');\n}\n","export const {\n  create,\n  keys,\n  getPrototypeOf: getProto\n} = Object;\n\nexport const setProto = Object.setPrototypeOf || ((target, proto) => {\n  /* eslint no-proto: 0 */\n  target.__proto__ = proto;\n});\n","const DASHED_SYMBOL_REGEX = /-[a-z]/g;\nconst UPPERCASED_SYMBOL_REGEX = /[A-Z]/g;\n\nexport function toCamelCase(value) {\n  return value.replace(DASHED_SYMBOL_REGEX, capitalize);\n}\n\nexport function toHyphenCase(value) {\n  return value.replace(UPPERCASED_SYMBOL_REGEX, hyphenize);\n}\n\nfunction capitalize(match) {\n  return match[1].toUpperCase();\n}\n\nfunction hyphenize(match) {\n  return `-${ match[0].toLowerCase() }`;\n}\n","import {\n  isArray, isNil, isString,\n  assign, definePrototypeProperties,\n  defineProperties,\n  collectFromArray, collectFromObject,\n  iterateArray, iterateObject,\n  toCamelCase, toHyphenCase, toStringTag,\n  setToStringTag, setProto\n} from './utils';\n\n/**\n * @typedef {String} ElemEventString\n * @public\n * @description A string containing events separated by a comma with zero or more spaces or just spaces.\n */\n\n/**\n * @callback ElemListener\n * @public\n * @param {Event} e - Fired event.\n * @param {Element} elem - Element on which the listener was called.\n * @param {Number} index - Index of the element on which the listener was called.\n */\n\n/**\n * @callback ElemRemoveListeners\n * @public\n * @param {...ElemEventString} events - If at least one argument present only removes event listeners specified\n * by the events in the arguments.\n */\n\nconst {\n  document = {},\n  Symbol\n} = global;\nconst HIDE_CLASS = '__dwayne-hidden__';\nconst EVENT_SEPARATOR_REGEX = /(?:,| ) */;\nconst CSS_STYLES_SEPARATOR_REGEX = /; ?/;\nconst CSS_PROP_VALUE_SEPARATOR_REGEX = /: /;\nconst CSS_IMPORTANT_REGEX = / ?!important$/;\nconst EVENT_REGEX = /Event$/;\nconst ELEMENT_REGEX = /Element$/;\nconst HTML_COLLECTION_REGEX = /^(HTMLCollection|NodeList)$/;\nconst X_LINK_ATTR_REGEX = /^xlink:\\w/;\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nconst XML_NS = 'http://www.w3.org/2000/xmlns/';\nconst X_LINK_NS = 'http://www.w3.org/1999/xlink';\nconst XHTML_NS = 'http://www.w3.org/1999/xhtml';\nconst emptyCollection = [];\n\n/**\n * @class Elem\n * @extends Array\n * @public\n * @param {Element|Element[]} [elem = []] - An element or an array of elements to wrap.\n * @returns {Elem} Instance of Elem.\n * @description Wrap of an elements set.\n *\n * @example\n * new Elem(document.body);\n * new Elem(document.querySelectorAll('.cls'));\n * new Elem(document.getElementsByClassName('cls'));\n */\nclass Elem extends [].constructor {\n  static addMethods(property, value) {\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    definePrototypeProperties(this.prototype, property);\n\n    return this;\n  }\n\n  constructor(elem = emptyCollection) {\n    super();\n\n    if (!isElementsCollection(elem)) {\n      elem = [elem];\n    }\n\n    setProto(this, Elem.prototype);\n\n    iterateArray(elem, (elem) => {\n      if (!isElementsCollection(elem)) {\n        elem = [elem];\n      }\n\n      iterateArray(elem, (elem) => {\n        if (!this.includes(elem) && isValidNode(elem)) {\n          this.push(elem);\n        }\n      });\n    });\n  }\n\n  /**\n   * @method Elem#add\n   * @public\n   * @param {...(Elem|Element|Element[])} elements - Each argument is a Elem, or Element, or array of Elements.\n   * @returns {Elem} Returns this.\n   * @description Method for adding new elements to the set.\n   *\n   * @example\n   * elem1.find('.cls1')\n   *   .add(elem2.find('.cls2'))\n   *   .hide();\n   */\n  add() {\n    const elems = this.slice();\n\n    iterateArray(arguments, (elem) => {\n      if (!isElementsCollection(elem)) {\n        elem = [elem];\n      }\n\n      iterateArray(elem, (elem) => {\n        if (!elems.includes(elem) && isValidNode(elem)) {\n          elems.push(elem);\n        }\n      });\n    });\n\n    return elems;\n  }\n\n  /**\n   * @method Elem#addClass\n   * @public\n   * @param {...String} classes - Classes to add.\n   * @returns {Elem} Returns this.\n   * @description Method for adding classes to the all the elements in the set.\n   *\n   * @example\n   * elem.addClass('red', 'round');\n   */\n  addClass() {\n    return this.forEach((elem) => {\n      const list = elem.classList;\n\n      iterateArray(arguments, (cls) => list.add(cls));\n    });\n  }\n\n  /**\n   * @method Elem#attr\n   * @public\n   * @param {String|Object.<String, String>} [attr] - Name of the attribute to get or\n   * an object of the format { [attrName]: value, ... } to set attributes.\n   * @param {String} [value] - If the first argument is a string\n   * it should be a value to set for that attribute.\n   * @returns {Object|String|Elem} If no arguments passed, D-Wrap of attributes of the first element in the set\n   * returned, if 1 string argument is passed the value of the attribute of the first element in the set\n   * returned otherwise returns this.\n   * @description Method for getting/setting attributes.\n   *\n   * @example\n   * elem.attr('attr1', 'value1'); // attribute attr1 set to 'value1' and this returned\n   * elem.attr('attr1');           // 'value1'\n   * elem.attr({\n   *   attr1: 'value3',            // attribute attr1 set to 'value3'\n   *   attr2: 'value2'             // attribute attr2 set to 'value2'\n   * });                           // this returned\n   * elem.attr();                  // { attr1: 'value3', attr2: 'value2' }\n   */\n  attr(attr, value) {\n    const elem = this[0];\n\n    if (!arguments.length) {\n      if (!elem) {\n        return {};\n      }\n\n      return collectFromObject(elem.attributes, addAttr);\n    }\n\n    if (arguments.length <= 1 && isString(attr)) {\n      if (!elem) {\n        return null;\n      }\n\n      const ns = getAttrNS(attr, elem);\n\n      return ns\n        ? elem.getAttributeNS(ns, attr)\n        : elem.getAttribute(attr);\n    }\n\n    if (arguments.length >= 2) {\n      attr = { [attr]: value };\n    }\n\n    return this.forEach((elem) => {\n      iterateObject(attr, (value, key) => {\n        if (isNil(value) || value === false) {\n          return new Elem(elem).removeAttr(key);\n        }\n\n        value = value === true ? '' : value;\n\n        const ns = getAttrNS(key, elem);\n\n        if (ns) {\n          elem.setAttributeNS(ns, key, value);\n        } else {\n          elem.setAttribute(key, value);\n        }\n      });\n    });\n  }\n\n  /**\n   * @method Elem#children\n   * @public\n   * @returns {Elem} D-Wrap of the children of the first element in the set.\n   * @description Method for getting element's children.\n   *\n   * @example\n   * const children = elem.children();\n   */\n  children() {\n    return new Elem(this.length ? this[0].childNodes : []);\n  }\n\n  /**\n   * @method Elem#closest\n   * @public\n   * @param {String} selector - See the link.\n   * @returns {Elem} Set of the closest elements.\n   * @description Synonym for\n   * [Element#closest]{@link https://developer.mozilla.org/en/docs/Web/API/Element/closest}.\n   */\n  closest(selector) {\n    return this.collect((add, elem) => {\n      while (elem) {\n        if (new Elem(elem).is(selector)) {\n          return add(elem);\n        }\n\n        elem = elem.parentNode;\n      }\n    });\n  }\n\n  collect(callback) {\n    const elements = [];\n    const cb = ::elements.push;\n\n    this.forEach((elem, index) => {\n      callback(cb, elem, index, this);\n    });\n\n    return new Elem(elements);\n  }\n\n  /**\n   * @method Elem#contains\n   * @public\n   * @param {Elem|Element} element - Element to find out if it's within the first element in the set.\n   * @returns {Boolean} Returns if the argument within this element.\n   * @description Method is extension for\n   * [Node#contains]{@link https://developer.mozilla.org/en/docs/Web/API/Node/contains}.\n   *\n   * @example\n   * elem.contains(elem2);   // true|false\n   */\n  contains(element) {\n    const parent = this[0];\n    const child = toElem(element)[0];\n\n    return !parent || !child\n      ? false\n      : parent.contains(child);\n  }\n\n  /**\n   * @method Elem#create\n   * @public\n   * @param {String} type - Type of created element. If type is \"#text\" a text node is created.\n   * If type is \"#comment\" a comment node is created.\n   * @returns {Elem} New instance of Elem - wrap of the created elements.\n   * @description Method for creating elements inside this element.\n   * If this element is not an Element the element is just created.\n   *\n   * @example\n   * elem.create('div');\n   */\n  create(type) {\n    return this.collect((add, elem) => {\n      let el = null;\n      const isText = type === '#text';\n      const document = isHTMLDocument(elem)\n        ? elem\n        : elem.ownerDocument;\n\n      if (isText || type === '#comment') {\n        el = isText\n          ? document.createTextNode('')\n          : document.createComment('');\n      } else {\n        const ns = type === 'svg'\n          ? SVG_NS\n          : elem.namespaceURI || document.documentElement.namespaceURI || XHTML_NS;\n\n        el = document.createElementNS(ns, type);\n      }\n\n      add(new Elem(el).into(elem));\n    });\n  }\n\n  /**\n   * @method Elem#createComment\n   * @public\n   * @param {String} text - Text of the comment.\n   * @returns {Elem} New instance of Elem - wrap of the created comments.\n   * @description Method for creating comments inside this element.\n   * If this element is not an Element the comment is just created.\n   *\n   * @example\n   * elem.createComment('comment');\n   */\n  createComment(text) {\n    return this\n      .create('#comment')\n      .text(text);\n  }\n\n  /**\n   * @method Elem#createText\n   * @public\n   * @param {String} text - Text.\n   * @returns {Elem} New instance of Elem - wrap of the created text nodes.\n   * @description Method for creating text nodes inside this element.\n   * If this element is not an Element the text node is just created.\n   *\n   * @example\n   * elem.createText('text');\n   */\n  createText(text) {\n    return this\n      .create('#text')\n      .text(text);\n  }\n\n  /**\n   * @method Elem#css\n   * @public\n   * @param {String|Object.<String, String>} [property] - Name of the property to get or\n   * an object of the format { [property]: value, ... } to set styles.\n   * @param {String} [value] - If the first argument is a string it should be a value to set for that property.\n   * @returns {Object|String|Elem} If no arguments passed, D-Wrap of css styles of the element returned,\n   * if 1 string argument is passed the value of the property returned otherwise returns this.\n   * @description Method for getting/setting styles. Supports !important.\n   *\n   * @example\n   * elem.css('display', 'none'); // display set to 'none' and this returned\n   * elem.css('display');         // 'none'\n   * elem.css({\n   *   display: 'inline',         // display set to 'inline'\n   *   cursor: 'pointer'          // cursor set to 'pointer'\n   * });                          // this returned\n   * elem.css();                  // { display: 'none', cursor: 'pointer' }\n   */\n  css(property, value) {\n    const { style } = this[0] || {};\n\n    if (!arguments.length) {\n      if (!style) {\n        return {};\n      }\n\n      return collectFromArray(style.cssText.split(CSS_STYLES_SEPARATOR_REGEX), addCSSProp);\n    }\n\n    if (arguments.length <= 1 && isString(property)) {\n      if (!style) {\n        return '';\n      }\n\n      property = toHyphenCase(property);\n\n      return style.getPropertyValue(property) + (style.getPropertyPriority(property) ? ' !important' : '');\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.forEach((elem) => {\n      iterateObject(property, (value, property) => {\n        property = toHyphenCase(property);\n\n        if (isNil(value) || value === false) {\n          return new Elem(elem).removeCSS(property);\n        }\n\n        elem.style.removeProperty(property);\n        elem.style.setProperty(\n          property,\n          value.replace(CSS_IMPORTANT_REGEX, ''),\n          CSS_IMPORTANT_REGEX.test(value) ? 'important' : ''\n        );\n      });\n    });\n  }\n\n  /**\n   * @method Elem#data\n   * @public\n   * @param {String|Object.<String, String>} [key] - Name of the data attribute (without data- prefix)\n   * to get or an object of the format { [attrName]: value, ... } to set attributes.\n   * @param {String} [value] - If the first argument is a string it should be a value to set for that attribute.\n   * @returns {Object|String|Elem} If no arguments passed, D-Wrap of dataset of the element returned,\n   * if 1 string argument is passed the value of the data attribute returned otherwise returns this.\n   * @description Method for getting/setting data attributes. See\n   * [HTMLElement#dataset]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/dataset}.\n   *\n   * @example\n   * elem.data('someKey1', 'value'); // attribute data-some-key1 set to 'value1' and this returned\n   * elem.data('someKey1');          // 'value1'\n   * elem.data({\n   *   someKey1: 'value3',           // attribute data-some-key1 set to 'value3'\n   *   someKey2: 'value2'            // attribute data-some-key2 set to 'value2'\n   * });                             // this returned\n   * elem.data();                    // { someKey1: 'value3', someKey2: 'value2' }\n   */\n  data(key, value) {\n    const { dataset } = this[0] || {};\n\n    if (!arguments.length) {\n      if (!dataset) {\n        return {};\n      }\n\n      return collectFromObject(dataset, addDataAttr);\n    }\n\n    if (arguments.length === 1 && isString(key)) {\n      if (!dataset) {\n        return;\n      }\n\n      return dataset[key];\n    }\n\n    if (arguments.length >= 2) {\n      key = { [key]: value };\n    }\n\n    return this.forEach((elem) => {\n      iterateObject(key, (value, key) => {\n        elem.dataset[key] = value;\n      });\n    });\n  }\n\n  /**\n   * @method Elem#dispatch\n   * @public\n   * @param {String|Event} event - Event or a string (new Event(event) is created).\n   * @param {Object} [details = {}] - Object that is assigned to the event.\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/Event/Event\n   * @description Synonym for\n   * [EventTarget#dispatchEvent]{@link https://developer.mozilla.org/en/docs/Web/API/EventTarget/dispatchEvent}.\n   *\n   * @example\n   * elem.dispatch('click');\n   * elem.dispatch('click', { bubbles: false, cancellable: false, data: 1 });\n   * elem.dispatch(new CustomEvent('custom-event'));\n   */\n  dispatch(event, details = {}) {\n    const {\n      bubbles = true,\n      cancelable = true,\n      ...realDetails\n    } = details || {};\n    let finalEvent = event;\n\n    if (!EVENT_REGEX.test(toStringTag(finalEvent))) {\n      try {\n        finalEvent = new Event(finalEvent, { bubbles, cancelable });\n        assign(finalEvent, realDetails);\n      } catch (err) {}\n    }\n\n    return this.forEach((elem) => {\n      if (!EVENT_REGEX.test(toStringTag(finalEvent))) {\n        const document = isHTMLDocument(elem)\n          ? elem\n          : elem.ownerDocument;\n\n        finalEvent = document.createEvent('Event');\n        finalEvent.initEvent(event, bubbles, cancelable);\n\n        assign(finalEvent, realDetails);\n      }\n\n      elem.dispatchEvent(finalEvent);\n    });\n  }\n\n  /**\n   * @method Elem#elem\n   * @public\n   * @param {Number} [index = 0] - Index of the element of the set to get. Negative index means elem.length + index.\n   * @returns {Elem} New instance of Elem.\n   *\n   * @example\n   * elem.elem(1); // a wrap of the element in the set that has index 1\n   * elem.elem();  // a wrap of the element in the set that has index 0\n   */\n  elem(index = 0) {\n    if (index < 0) {\n      index = this.length + index;\n    }\n\n    return new Elem(this[index]);\n  }\n\n  /**\n   * @method Elem#filter\n   * @public\n   * @param {IterationCallback} [filterFn = Boolean] - Filter function\n   * @returns {Elem} New instance of Elem.\n   * @description Method for filtering elements.\n   *\n   * @example\n   * elem.filter((elem) => new Elem(elem).closest('.parent'));\n   */\n  filter(filterFn = Boolean) {\n    return this.collect((add, elem, index) => {\n      if (filterFn(elem, index, this)) {\n        add(elem);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#find\n   * @public\n   * @param {String} selector - Selector to find.\n   * @returns {Elem} New instance of Elem.\n   * @description Synonym for\n   * [Element#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Element/querySelectorAll}.\n   */\n  find(selector) {\n    return this.collect((add, elem) => {\n      add(find(selector, elem));\n    });\n  }\n\n  /**\n   * @method Elem#forEach\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * @returns {Elem} Returns this.\n   * @description Method for iterating over the set.\n   *\n   * @example\n   * find('.cls').forEach((element, index, set) => {\n   *   // do something\n   * });\n   */\n  forEach(callback) {\n    iterateArray(this, (value, key) => {\n      callback(value, key, this);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#hasAttr\n   * @public\n   * @param {String} attr - Name of the attribute.\n   * @returns {Boolean} If the first element in the set has the attribute.\n   * @description Method that returns if the first element in the set has the attribute or not.\n   *\n   * @example\n   * elem.attr('attr', 'value').hasAttr('attr'); // true\n   * elem.removeAttr('attr').hasAttr('attr');    // false\n   */\n  hasAttr(attr) {\n    const elem = this[0];\n\n    if (!elem) {\n      return false;\n    }\n\n    const ns = getAttrNS(attr, elem);\n\n    return ns\n      ? elem.hasAttributeNS(ns, attr)\n      : elem.hasAttribute(attr);\n  }\n\n  /**\n   * @method Elem#hasClass\n   * @public\n   * @param {String} cls - Name of the class.\n   * @returns {Boolean} If the first element in the set has the class.\n   * @description Method that returns if the first element in the set has the class or not.\n   *\n   * @example\n   * elem.addClass('cls').hasClass('cls');    // true\n   * elem.removeClass('cls').hasClass('cls'); // false\n   */\n  hasClass(cls) {\n    const elem = this[0];\n\n    return elem\n      ? elem.classList.contains(cls)\n      : false;\n  }\n\n  /**\n   * @method Elem#hide\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Hides all elements in the set.\n   *\n   * @example\n   * elem.hide();\n   */\n  hide() {\n    return this.forEach(hide);\n  }\n\n  /**\n   * @method Elem#html\n   * @public\n   * @param {String|*} [html] - HTML to write instead of current HTML.\n   * @returns {Elem|String} If no arguments passed HTML of the first element in the set returned.\n   * Otherwise all elements HTML in the set are set to the html argument.\n   * @description Gets or sets HTML.\n   *\n   * @example\n   * elem.html('<div>1</div>');\n   * elem.html(); // '<div>1</div>'\n   */\n  html(html) {\n    if (!arguments.length) {\n      const elem = this[0];\n\n      return elem\n        ? elem.innerHTML\n        : '';\n    }\n\n    return this.forEach((elem) => {\n      elem.innerHTML = html;\n    });\n  }\n\n  includes(elem) {\n    return this.indexOf(elem) !== -1;\n  }\n\n  /**\n   * @method Elem#insertAfter\n   * @public\n   * @param {Elem|Element} element - Element to insert this element after.\n   * @returns {Elem} Returns this.\n   * @description Puts the elements from the set after the element specified by the argument.\n   * The elements remain in the same order.\n   *\n   * @example\n   * elem.insertAfter(elem2);\n   * elem.insertAfter(document.getElementById('id'));\n   * elem.insertAfter('#id div.c1');\n   */\n  insertAfter(element) {\n    element = toElem(element).elem(0);\n\n    let parent = element.parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    element = element.next()[0];\n    parent = parent[0];\n\n    return this.forEach((elem) => {\n      if (elem === element) {\n        element = element.nextSibling;\n\n        return;\n      }\n\n      if (element) {\n        parent.insertBefore(elem, element);\n      } else {\n        parent.appendChild(elem);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#insertBefore\n   * @public\n   * @param {Elem|Element} element - Element to insert this element before.\n   * @returns {Elem} Returns this.\n   * @description Puts the elements from the set before the element specified by the argument.\n   * The elements remain in the same order.\n   *\n   * @example\n   * elem.insertBefore(elem2);\n   * elem.insertBefore(document.getElementById('id'));\n   * elem.insertBefore('#id div.c1');\n   */\n  insertBefore(element) {\n    element = toElem(element).elem(0);\n\n    let parent = element.parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    element = element[0];\n    parent = parent[0];\n\n    return this.forEach((elem) => {\n      parent.insertBefore(elem, element);\n    });\n  }\n\n  /**\n   * @method Elem#into\n   * @public\n   * @param {Elem|Element} element - Element to put this elements into.\n   * @param {Boolean} end - If the elements should be inserted to the end. If false they are inserted to the start.\n   * @returns {Elem} Returns this.\n   * @description Method is similar to\n   * [Node#appendChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/appendChild}.\n   *\n   * @example\n   * elem.into(elem2);\n   * elem.into(document.getElementById('id'));\n   * elem.into('#id div.c1');\n   */\n  into(element, end = true) {\n    element = toElem(element)[0];\n\n    if (\n      !element\n      || isHTMLDocument(element)\n    ) {\n      return this;\n    }\n\n    if (!end && element.firstChild) {\n      for (let i = this.length - 1; i >= 0; i--) {\n        element.insertBefore(this[i], element.firstChild);\n      }\n\n      return this;\n    }\n\n    return this.forEach((elem) => {\n      element.appendChild(elem);\n    });\n  }\n\n  /**\n   * @method Elem#is\n   * @public\n   * @param {String} selector\n   * @returns {Boolean} If the first element in the set matches the selector.\n   * @description Synonym for\n   * [Element#matches]{@link https://developer.mozilla.org/en/docs/Web/API/Element/matches}.\n   *\n   * @example\n   * elem.addClass('cls');\n   * elem.is('.cls');         // true\n   *\n   * elem.removeClass('cls');\n   * elem.is('.cls');         // false\n   */\n  is(selector) {\n    if (!this.length) {\n      return false;\n    }\n\n    const elem = this[0];\n    const matches = (\n      elem.matches\n      || elem.matchesSelector\n      || elem.webkitMatchesSelector\n      || elem.mozMatchesSelector\n      || elem.msMatchesSelector\n      || elem.oMatchesSelector\n    );\n\n    try {\n      return matches.call(elem, selector);\n    } catch (err) {\n      console.error(`Selector '${ selector }' is not a valid selector (Elem#is)`);\n\n      return false;\n    }\n  }\n\n  /**\n   * @method Elem#name\n   * @public\n   * @returns {String} nodeName (lowercased) of the first element in the set.\n   * @description Method for getting name of the first element in the set.\n   *\n   * @example\n   * const elem1 = elem.create('div');\n   * elem1.name() // 'div'\n   */\n  name() {\n    return getName(this[0]);\n  }\n\n  /**\n   * @method Elem#next\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding next element to each element in the set.\n   *\n   * @example\n   * elem.next(); // finds next element to each element in the set\n   */\n  next() {\n    return this.collect(addNext);\n  }\n\n  /**\n   * @method Elem#on\n   * @public\n   * @param {ElemEventString|Object.<ElemEventString|ElemListener>} event - Either a {@link ElemEventString} string\n   * or an object with event keys (a key is also ElemEventString) and listeners values.\n   * @param {ElemListener} [listener] - If the first argument is a string it must be a listener function for\n   * specified event(s).\n   * @returns {ElemRemoveListeners} Function that takes optional event argument.\n   * @description Adds event listeners for all the elements in the set.\n   *\n   * @example\n   * elem.on(\n   *   'change, input',\n   *   'input, select, textarea, datalist, keygen, output',\n   *   (e, elem, index) => console.log(elem.value)\n   * );\n   * elem.on(\n   *   'change, input',\n   *   (e, elem, index) => console.log(elem.value)\n   * );\n   * elem.on(\n   *   {\n   *     'change, input': (e, elem, index) => console.log(elem.value),\n   *     'blur': () => console.log('blur')\n   *   },\n   *   'input, select, textarea, datalist, keygen, output'\n   * );\n   *\n   * const removeListeners = elem.on({\n   *   'change, input': (e, elem, index) => console.log(elem.value),\n   *   'blur': () => console.log('blur')\n   * });\n   *\n   * removeListeners('click');\n   * removeListeners('blur, change');\n   * removeListeners('blur, change', 'input');\n   * removeListeners();\n   */\n  on(event, listener) {\n    if (isString(event)) {\n      event = { [event]: listener };\n    }\n\n    const newEvents = {};\n    const allListeners = {};\n\n    iterateObject(event, (listener, event) => {\n      iterateArray(event.split(EVENT_SEPARATOR_REGEX), (event) => {\n        (newEvents[event] = newEvents[event] || []).push(listener);\n      });\n    });\n\n    this.forEach((elem) => {\n      iterateObject(newEvents, (listeners, event) => {\n        iterateArray(listeners, (listener) => {\n          elem.addEventListener(event, listener, false);\n          (allListeners[event] = allListeners[event] || []).push(() => {\n            elem.removeEventListener(event, listener);\n          });\n        });\n      });\n    });\n\n    return function removeEventListeners(event) {\n      if (arguments.length) {\n        iterateArray(arguments, (event) => {\n          iterateArray(event.split(EVENT_SEPARATOR_REGEX), (event) => {\n            const removeListeners = allListeners[event];\n\n            if (removeListeners) {\n              iterateArray(removeListeners, (removeListener) => removeListener());\n\n              delete allListeners[event];\n            }\n          });\n        });\n      } else {\n        iterateObject(allListeners, (removeListeners, event) => {\n          iterateArray(removeListeners, (removeListener) => removeListener());\n\n          delete allListeners[event];\n        });\n      }\n    };\n  }\n\n  /**\n   * @method Elem#parent\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Method returns wrap of the set of the parent elements of each element in the set.\n   */\n  parent() {\n    return this.collect(addParent);\n  }\n\n  /**\n   * @method Elem#prev\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding previous element to each element in the set.\n   *\n   * @example\n   * elem.prev(); // finds previous element to each element in the set\n   */\n  prev() {\n    return this.collect(addPrev);\n  }\n\n  /**\n   * @method Elem#prop\n   * @public\n   * @param {String|Object.<String, *>} property - Either a string of a property or an assigned object.\n   * @param {*} [value] - If a property parameter is a string\n   * this has to be an assigned value if it's present.\n   * @returns {Elem|*} Returns this if it's setter or a value if getter.\n   * @description Method that is either a property getter for the first element in the set\n   * or a setter for every element in the set.\n   *\n   * @example\n   * elem.prop('draggable', false);\n   * elem.prop('draggable'); // false\n   */\n  prop(property, value) {\n    if (arguments.length <= 1 && isString(property)) {\n      return this[0] ? this[0][property] : undefined;\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.forEach((elem) => {\n      iterateObject(property, (value, prop) => {\n        elem[prop] = value;\n      });\n    });\n  }\n\n  /**\n   * @method Elem#remove\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Removes all the elements from the set from the document.\n   * Note: it doesn't remove them from the set so watch out for the memory leaks.\n   *\n   * @example\n   * elem.remove();\n   */\n  remove() {\n    return this.forEach(remove);\n  }\n\n  /**\n   * @method Elem#removeAttr\n   * @public\n   * @param {...String} attributes - Attributes to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the attributes from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeAttr('foo', 'bar', 'baz');\n   */\n  removeAttr() {\n    return this.forEach((elem) => {\n      iterateArray(arguments, (attr) => {\n        const ns = getAttrNS(attr, elem);\n\n        if (ns) {\n          elem.removeAttributeNS(ns, attr);\n        } else {\n          elem.removeAttribute(attr);\n        }\n      });\n    });\n  }\n\n  /**\n   * @method Elem#removeClass\n   * @public\n   * @param {...String} classes - Classes to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the classes from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeClass('foo', 'bar', 'baz');\n   */\n  removeClass() {\n    return this.forEach((elem) => {\n      const list = elem.classList;\n\n      iterateArray(arguments, (cls) => list.remove(cls));\n    });\n  }\n\n  /**\n   * @method Elem#removeCSS\n   * @public\n   * @param {...String} props - CSS properties to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the CSS properties from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeCSS('display', 'position', 'margin');\n   */\n  removeCSS() {\n    return this.forEach((elem) => {\n      iterateArray(arguments, (css) => {\n        elem.style.removeProperty(toHyphenCase(css));\n      });\n    });\n  }\n\n  /**\n   * @method Elem#replace\n   * @public\n   * @param {Elem|Element} element - Element to replace the first element in the set\n   * with a set of elements specified by the argument (Element or Elem).\n   * @returns {Elem} Returns this.\n   * @description Method is similar to\n   * [Node#replaceChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/replaceChild}.\n   *\n   * @example\n   * elem.replace(elem2);\n   * elem.replace(document.getElementById('id'));\n   * elem.replace('#id div.c1');\n   */\n  replace(element) {\n    element = toElem(element);\n\n    const first = this.elem(0);\n    const parent = first.parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    let elem = parent;\n    let method = 'into';\n    const next = first.next()[0];\n    const prev = first.prev()[0];\n\n    if (next) {\n      elem = next;\n      method = 'insertBefore';\n    } else if (prev) {\n      elem = prev;\n      method = 'insertAfter';\n    }\n\n    first.remove();\n\n    element[method](elem);\n  }\n\n  /**\n   * @method Elem#show\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Shows all elements in the set.\n   * If an element was hidden using {@link Elem#hide} previous display is set.\n   *\n   * @example\n   * elem.show();\n   */\n  show() {\n    return this.forEach(show);\n  }\n\n  slice() {\n    return new Elem(super.slice.apply(this, arguments));\n  }\n\n  /**\n   * @method Elem#text\n   * @public\n   * @param {String|*} [text] - Text to write instead of current text.\n   * @returns {Elem|String} If no arguments passed text of the first element in the set returned.\n   * Otherwise all elements texts in the set are set to the text argument.\n   * @description Gets or sets text.\n   *\n   * @example\n   * elem.text('123');\n   * elem.text(); // '123'\n   */\n  text(text) {\n    if (!arguments.length) {\n      return this.prop('textContent');\n    }\n\n    return this.forEach((elem) => {\n      elem.textContent = text;\n    });\n  }\n\n  /**\n   * @method Elem#toggleAttr\n   * @public\n   * @param {String} attr - Attribute to toggle.\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the attribute\n   * with the '' value and if falsey method removes the attribute. If not present method adds\n   * the attribute if it doesn't exist and removes if it does.\n   * @returns {Elem} Returns this.\n   * @description Method for toggling attributes.\n   *\n   * @example\n   * elem.toggleAttr('attr');\n   * elem.toggleAttr('attr', someCondition);\n   */\n  toggleAttr(attr, condition) {\n    return this.forEach((elem) => {\n      elem = new Elem(elem);\n\n      if (arguments.length < 2 ? !elem.hasAttr(attr) : condition) {\n        elem.attr(attr, '');\n      } else {\n        elem.removeAttr(attr);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#toggleClass\n   * @public\n   * @param {String} cls - Class to toggle.\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the class\n   * and if falsey method removes the class. If not present method adds\n   * the class if it doesn't exist and removes if it does.\n   * @returns {Elem} Returns this.\n   * @description Method for toggling classes.\n   *\n   * @example\n   * elem.toggleClass('cls');\n   * elem.toggleClass('cls', someCondition);\n   */\n  toggleClass(cls, condition) {\n    return this.forEach((elem) => {\n      const { classList } = elem;\n\n      classList.toggle(cls, arguments.length < 2 ? !classList.contains(cls) : condition);\n    });\n  }\n}\n\nsetToStringTag(Elem, 'Elem');\n\nif (Symbol && Symbol.species) {\n  defineProperties(Elem, {\n    [Symbol.species]: {\n      get() {\n        return Array;\n      }\n    }\n  });\n}\n\n/**\n * @const {Elem} doc\n * @type {Elem}\n * @public\n * @description Elem instance of document.\n */\nconst doc = new Elem(document);\n\n/**\n * @const {Elem} html\n * @type {Elem}\n * @public\n * @description Elem instance of document.documentElement.\n */\nconst html = new Elem(document.documentElement);\n\n/**\n * @const {Elem} body\n * @type {Elem}\n * @public\n * @description Elem instance of document.body.\n */\nconst body = new Elem(document.body);\n\n/**\n * @const {Elem} head\n * @type {Elem}\n * @public\n * @description Elem instance of document.head.\n */\nconst head = new Elem(document.head);\n\n/**\n * @function toElem\n * @private\n * @param {Element|Elem} elem - Element or Elem.\n * @returns {Elem} Instance of Elem.\n */\nfunction toElem(elem) {\n  return isElem(elem)\n    ? elem\n    : new Elem(elem);\n}\n\n/**\n * @function isElem\n * @private\n * @param {*} value - Value to check if it's Elem.\n * @returns {Boolean} If the value is Elem.\n * @description Returns if the value is Elem or not.\n */\nfunction isElem(value) {\n  return value instanceof Elem;\n}\n\n/**\n * @function isHTMLDocument\n * @private\n * @param {*} value - Value to check if it's HTMLDocument.\n * @returns {Boolean} If the value is HTMLDocument.\n * @description Returns if the value is HTMLDocument or not.\n */\nfunction isHTMLDocument(value) {\n  return toStringTag(value) === 'HTMLDocument';\n}\n\n/**\n * @function isElementsCollection\n * @private\n * @param {*} value - Value to check if it's Comment or Text.\n * @returns {Boolean} If the value is HTMLDocument.\n * @description Returns if the value is Comment or Text or not.\n */\nfunction isElementsCollection(value) {\n  return (\n    HTML_COLLECTION_REGEX.test(toStringTag(value))\n    || isElem(value)\n    || isArray(value)\n  );\n}\n\nfunction isValidNode(value) {\n  const tag = toStringTag(value);\n\n  return (\n    ELEMENT_REGEX.test(tag)\n    || tag === 'HTMLDocument'\n    || tag === 'Text'\n    || tag === 'DocumentFragment'\n    || tag === 'Comment'\n  );\n}\n\n/**\n * @function getName\n * @private\n * @param {Element} [elem] - Element which name is needed to know.\n * @returns {String} Element name.\n */\nfunction getName(elem) {\n  return (elem && elem.nodeName && elem.nodeName.toLowerCase()) || '';\n}\n\nfunction getAttrNS(attr, elem) {\n  if (attr === 'xmlns' || attr === 'xmlns:xlink') {\n    return elem.nodeName === 'SVG'\n      ? XML_NS\n      : null;\n  }\n\n  if (X_LINK_ATTR_REGEX.test(attr)) {\n    return new Elem(elem).closest('svg').length\n      ? X_LINK_NS\n      : null;\n  }\n}\n\nfunction createHideStyleNode(head) {\n  const style = head.find(`style#${ HIDE_CLASS }`);\n\n  if (style.length) {\n    return;\n  }\n\n  head\n    .create('style')\n    .prop('id', HIDE_CLASS)\n    .text(`.${ HIDE_CLASS }{display:none !important;}`);\n}\n\nfunction addAttr(attrs, attr) {\n  attrs[attr.name] = attr.value;\n}\n\nfunction addCSSProp(css, value) {\n  if (value) {\n    const property = value.split(CSS_PROP_VALUE_SEPARATOR_REGEX);\n\n    css[toCamelCase(property[0])] = property[1];\n  }\n}\n\nfunction addDataAttr(data, value, key) {\n  data[key] = value;\n}\n\nfunction hide(elem) {\n  createHideStyleNode(new Elem(elem.ownerDocument.head));\n  new Elem(elem).addClass(HIDE_CLASS);\n}\n\nfunction addNext(add, elem) {\n  add(elem.nextSibling);\n}\n\nfunction addParent(add, elem) {\n  add(elem.parentNode);\n}\n\nfunction addPrev(add, elem) {\n  add(elem.previousSibling);\n}\n\nfunction remove(elem) {\n  const parent = elem.parentNode;\n\n  if (parent) {\n    parent.removeChild(elem);\n  }\n}\n\nfunction show(elem) {\n  new Elem(elem).removeClass(HIDE_CLASS);\n}\n\n/**\n * @function find\n * @public\n * @param {String} selector - Selector to find.\n * @param {Element} [base = document] - Base to find in.\n * @returns {Elem} New instance of Elem.\n * @description Synonym for\n * [Document#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Document/querySelectorAll}.\n */\nfunction find(selector, base = document) {\n  return new Elem(base.querySelectorAll(String(selector)));\n}\n\ncreateHideStyleNode(head);\n\nexport { Elem, doc, html, body, head, find };\n","import { findInArray } from '../utils';\n\nexport function registerDBlock(Block) {\n  class DBlock extends Block {\n    static template = html`\n      <d-elements\n        value=\"{elems}\"\n        parentScope=\"{ParentScope}\"\n        parentTemplate=\"{ParentTemplate}\"\n      />\n    `;\n\n    afterConstruct() {\n      const {\n        parentScope: {\n          $$: {\n            parentScope: parentParentScope,\n            parentTemplate: parentParentTemplate,\n            argsChildren: children\n          }\n        },\n        argsChildren: ownChildren,\n        parentTemplate,\n        dBlockName\n      } = this.$$;\n      let found;\n\n      if (ownChildren.length) {\n        return;\n      }\n\n      this.ParentScope = parentParentScope;\n      this.ParentTemplate = parentParentTemplate;\n\n      if (dBlockName) {\n        found = findInArray(children, ({ name: nodeName }) => nodeName === `d-block:${ dBlockName }`);\n\n        if (!found) {\n          let parent = this;\n\n          /* eslint no-empty: 0 */\n          while (\n            (parent = parent.$$.parentScope)\n            && !(found = findInArray(parent.$$.dBlocks, ({ $$: { dBlockName: DBlockName } }) => DBlockName === dBlockName))\n            && parent.$$.parentScope.$$.name === '#d-item'\n          ) {}\n\n          if (found) {\n            this.ParentScope = parent;\n            this.ParentTemplate = parentTemplate;\n            found.value = {\n              children: found.value.$$.argsChildren\n            };\n          }\n        }\n\n        this.elems = found && found.value.children.length\n          ? found.value.children\n          : null;\n      } else {\n        this.elems = children;\n      }\n    }\n  }\n\n  return {\n    name: 'd-block',\n    value: DBlock\n  };\n}\n","import {\n  assign, iterateArray, iterateObject,\n  isArray, isFunction\n} from '../utils';\n\nconst watchArgs = js`[\n  args.set,\n  args.filterBy,\n  args.sortBy\n]`;\n\nexport function registerDEach(Block, createBlock) {\n  class DEach extends Block {\n    constructor(opts) {\n      super(opts);\n\n      const {\n        args: {\n          item: itemName = '$item',\n          index: indexName = '$index'\n        }\n      } = this;\n\n      assign(this.$$, {\n        itemsByUIDs: {},\n        UID: this.args.uid || undefined,\n        itemName,\n        indexName\n      });\n    }\n\n    afterRender() {\n      this.evaluateAndWatch(watchArgs, this.renderSet);\n      this.renderSet();\n    }\n\n    renderSet = () => {\n      const {\n        argsChildren,\n        itemsByUIDs,\n        parentScope,\n        parentElem,\n        parentTemplate,\n        scope,\n        itemName,\n        indexName,\n        UID\n      } = this.$$;\n      const {\n        args: { sortBy }\n      } = this;\n      const newItemsByUIDs = {};\n      const newUIDsCounter = {};\n      const newUIDs = {};\n      let {\n        set,\n        filterBy\n      } = this.args;\n      const isArr = isArray(set);\n      const iterate = isArr\n        ? iterateArray\n        : iterateObject;\n\n      if (isArr && isFunction(sortBy)) {\n        set = set\n          .slice()\n          .sort(sortBy);\n      }\n\n      if (isFunction(filterBy)) {\n        filterBy = [filterBy];\n      }\n\n      if (isArray(filterBy)) {\n        iterateArray(filterBy, (filter) => {\n          set = set.filter(filter);\n        });\n      }\n\n      iterate(set, (item, index) => {\n        scope[itemName] = item;\n        scope[indexName] = index;\n\n        const uid = parentScope.$$.evaluate(UID, null, null, false, false, this);\n\n        newUIDsCounter[uid] = (newUIDsCounter[uid] || 0) + 1;\n        newUIDs[index] = uid;\n      });\n\n      scope[itemName] = null;\n      scope[indexName] = null;\n\n      iterateObject(itemsByUIDs, (items, uid) => {\n        if (!newUIDsCounter[uid]) {\n          iterateArray(items, remove);\n\n          return;\n        }\n\n        iterateArray(items.splice(newUIDsCounter[uid]), remove);\n      });\n\n      let prevBlock;\n\n      iterate(set, (item, index) => {\n        const uid = newUIDs[index];\n        let block;\n\n        if (itemsByUIDs[uid] && itemsByUIDs[uid].length) {\n          block = itemsByUIDs[uid].shift();\n          block.$$.scope[indexName] = index;\n          block.$$.scope[itemName] = item;\n\n          if (block.$$.prevBlock !== prevBlock && prevBlock) {\n            prevBlock.$$.insertAfterIt(block.$$.content, true);\n          }\n        } else {\n          block = createBlock({\n            node: {\n              itemName,\n              indexName,\n              item,\n              index,\n              name: '#d-item',\n              children: argsChildren\n            },\n            parent: this,\n            parentElem,\n            parentBlock: this,\n            parentScope,\n            parentTemplate,\n            prevBlock\n          });\n        }\n\n        (newItemsByUIDs[uid] = newItemsByUIDs[uid] || []).push(block);\n        block.$$.prevBlock = prevBlock;\n        prevBlock = block;\n      });\n\n      this.$$.itemsByUIDs = newItemsByUIDs;\n    };\n  }\n\n  return {\n    name: 'd-each',\n    value: DEach\n  };\n}\n\nfunction remove(item) {\n  item.$$.remove();\n}\n","import { Elem } from '../Elem';\nimport { iterateArray, removeArrayElem } from '../utils';\n\nconst watchArgs = js`args.value`;\n\nexport function registerDElements(Block, createBlock) {\n  class DElements extends Block {\n    afterConstruct() {\n      const { parentElem } = this.$$;\n      const {\n        parentScope,\n        parentTemplate\n      } = this.args;\n\n      this.$$.evaluate(watchArgs, () => {\n        const {\n          children,\n          mixins,\n          parent,\n          watchersToRemove,\n          content\n        } = this.$$;\n        const { value } = this.args;\n\n        iterateArray(children, removeWithParentSignal);\n        iterateArray(mixins, removeWithParentSignal);\n        content.remove();\n\n        if (parent instanceof Block) {\n          parent.$$.removeContent(content);\n        }\n\n        this.$$.children = [];\n        this.$$.mixins = [];\n        this.$$.watchersToRemove = watchersToRemove.filter(({ watchers, watcher, forDElements }) => {\n          if (forDElements) {\n            return true;\n          }\n\n          removeArrayElem(watchers, watcher);\n        });\n        this.$$.content = new Elem();\n\n        let prevBlock;\n\n        iterateArray(value || [], (child) => {\n          prevBlock = createBlock({\n            node: child,\n            parent: this,\n            parentElem,\n            parentBlock: this,\n            parentScope,\n            parentTemplate,\n            prevBlock\n          });\n        });\n      }, this, true);\n    }\n  }\n\n  return {\n    name: 'd-elements',\n    value: DElements\n  };\n}\n\nfunction removeWithParentSignal(item) {\n  item.$$.remove(true);\n}\n","import { findInArray } from '../utils';\n\nexport function registerDIf(Block) {\n  class DIf extends Block {\n    static template = html`\n      <d-elements\n        value=\"{elems}\"\n        parentScope=\"{$$.parentScope}\"\n        parentTemplate=\"{$$.parentTemplate}\"\n      />\n    `;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        parentScope,\n        argsChildren\n      } = this.$$;\n      let index = Infinity;\n      const values = argsChildren.map((child, i) => {\n        const {\n          name,\n          attrs = {},\n          children\n        } = child;\n        let cond = attrs.if;\n\n        if (name !== 'd-else' && cond) {\n          cond = parentScope.$$.evaluate(cond, (newValue) => {\n            if (!!newValue === values[i]) {\n              return;\n            }\n\n            values[i] = !!newValue;\n\n            if (i > index) {\n              return;\n            }\n\n            if (i < index) {\n              index = i;\n              this.elems = children;\n\n              return;\n            }\n\n            const found = findInArray(values, Boolean);\n\n            if (found) {\n              index = found.key;\n              this.elems = argsChildren[found.key].children;\n            } else {\n              index = Infinity;\n              this.elems = null;\n            }\n          }, this);\n        } else {\n          cond = true;\n        }\n\n        if (cond && index === Infinity) {\n          index = i;\n          this.elems = children;\n        }\n\n        return !!cond;\n      });\n    }\n  }\n\n  return {\n    name: 'd-if',\n    value: DIf\n  };\n}\n","export function registerDItem(Block) {\n  class DItem extends Block {\n    static template = html`\n      <d-elements\n        value=\"{$$.argsChildren}\"\n        parentScope=\"{this}\"\n        parentTemplate=\"{$$.parentTemplate}\"\n      />\n    `;\n  }\n\n  return {\n    name: '#d-item',\n    value: DItem\n  };\n}\n","import { collectFromArray, findInArray, iterateArray } from '../utils';\n\nconst watchArgs = js`args.value`;\n\nexport function registerDSwitch(Block) {\n  class DSwitch extends Block {\n    static template = html`\n      <d-elements\n        value=\"{elems}\"\n        parentScope=\"{$$.parentScope}\"\n        parentTemplate=\"{$$.parentTemplate}\"\n      />\n    `;\n\n    index = Infinity;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        $$: {\n          argsChildren,\n          parentScope\n        },\n        args,\n        args: { value }\n      } = this;\n      let wasDefault;\n\n      this.values = collectFromArray(argsChildren, (values, child, i) => {\n        const {\n          name,\n          attrs,\n          children\n        } = child;\n        let val = attrs.if;\n\n        if (wasDefault) {\n          return;\n        }\n\n        if (name !== 'd-case' && name !== 'd-default') {\n          return;\n        }\n\n        if (name === 'd-default') {\n          wasDefault = true;\n        }\n\n        if (name === 'd-default') {\n          val = value;\n        } else if (val) {\n          val = parentScope.$$.evaluate(val, (newValue) => {\n            if (this.equals(this.values[i].value, newValue)) {\n              return;\n            }\n\n            this.values[i].value = newValue;\n\n            if (i > this.index) {\n              return;\n            }\n\n            if (i < this.index) {\n              this.index = i;\n              this.elems = children;\n\n              return;\n            }\n\n            const found = findInArray(this.values, ({ value }) => (\n              this.equals(value, args.value)\n            ));\n\n            if (found) {\n              this.index = found.key;\n              this.elems = found.value.children;\n            } else {\n              this.index = Infinity;\n              this.elems = null;\n            }\n          }, this);\n        } else {\n          val = undefined;\n        }\n\n        if (this.equals(val, value) && this.index === Infinity) {\n          this.index = i;\n          this.elems = children;\n        }\n\n        values.push({\n          name,\n          children,\n          value: val\n        });\n      }, []);\n    }\n\n    afterConstruct() {\n      this.evaluateAndWatch(watchArgs, () => {\n        const {\n          value: newValue\n        } = this.args;\n\n        this.index = Infinity;\n\n        iterateArray(this.values, ({ name, value, children }, i) => {\n          const val = name === 'd-default'\n            ? newValue\n            : value;\n\n          if (this.equals(val, newValue) && this.index === Infinity) {\n            this.index = i;\n            this.elems = children;\n          }\n        });\n\n        if (this.index === Infinity) {\n          this.elems = null;\n        }\n      });\n    }\n\n    equals(value1, value2) {\n      return value1 === value2;\n    }\n  }\n\n  return {\n    name: 'd-switch',\n    value: DSwitch\n  };\n}\n","import { collectFromObject, iterateObject, keys } from '../utils';\n\nexport function registerDAttr(Mixin) {\n  class DAttr extends Mixin {\n    attrs = {};\n\n    afterUpdate(newValue) {\n      const {\n        elem,\n        args,\n        attrs\n      } = this;\n\n      if (args) {\n        newValue = collectFromObject(args, (attrs, attr) => {\n          attrs[attr] = newValue;\n        });\n      }\n\n      iterateObject(attrs, (value, prop) => {\n        if (!(prop in newValue)) {\n          elem.removeAttr(prop);\n        }\n      });\n      elem.attr(newValue);\n\n      this.attrs = newValue;\n    }\n\n    beforeRemove() {\n      const {\n        elem,\n        attrs\n      } = this;\n\n      elem.removeAttr.apply(elem, keys(attrs));\n    }\n  }\n\n  return {\n    name: 'd-attr',\n    value: DAttr\n  };\n}\n\n","import { isFunction } from '../utils';\n\nexport function registerDBind(Mixin) {\n  class DBind extends Mixin {\n    afterUpdate(value) {\n      if (this.off) {\n        this.off();\n      }\n\n      if (!isFunction(value)) {\n        return;\n      }\n\n      if (this.args) {\n        this.off = this.elem.on(this.args.join(','), value);\n      } else {\n        console.error('Provide \"d-bind\" mixin with an event names (like \"d-bind(click)\" or \"d-bind(keyup, keypress)\")!');\n      }\n    }\n\n    beforeRemove() {\n      const { off } = this;\n\n      if (off) {\n        off();\n      }\n    }\n  }\n\n  return {\n    name: 'd-bind',\n    value: DBind\n  };\n}\n","import {\n  isArray, isString,\n  iterateArray, iterateObject\n} from '../utils';\n\nconst EMPTY_SPACE_REGEX = /\\s+/;\n\nexport function registerDClass(Mixin) {\n  class DClass extends Mixin {\n    classes = [];\n\n    afterUpdate(newValue) {\n      const {\n        elem,\n        args,\n        classes\n      } = this;\n      const newClasses = [];\n\n      if (args) {\n        newValue = newValue\n          ? args\n          : [];\n      }\n\n      if (isString(newValue)) {\n        newValue = newValue.split(EMPTY_SPACE_REGEX);\n      }\n\n      if (isArray(newValue)) {\n        iterateArray(classes, (cls) => {\n          if (newValue.indexOf(cls) === -1) {\n            elem.removeClass(cls);\n          }\n        });\n        iterateArray(newValue, (cls) => {\n          if (isString(cls)) {\n            newClasses.push(cls);\n            elem.addClass(cls);\n          }\n        });\n      } else {\n        iterateArray(classes, (cls) => {\n          if (!newValue || !newValue[cls]) {\n            elem.removeClass(cls);\n          }\n        });\n        iterateObject(newValue, (val, cls) => {\n          if (val) {\n            newClasses.push(cls);\n            elem.addClass(cls);\n          }\n        });\n      }\n\n      this.classes = newClasses;\n    }\n\n    beforeRemove() {\n      const {\n        elem,\n        classes\n      } = this;\n\n      elem.removeClass.apply(elem, classes);\n    }\n  }\n\n  return {\n    name: 'd-class',\n    value: DClass\n  };\n}\n","import { isFunction, isString } from '../utils';\n\nexport function registerDElem(Mixin, createBlock, Block) {\n  class DElem extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        args,\n        parentTemplate,\n        elem\n      } = this;\n      let scope = parentTemplate;\n      let value = this.evaluateOnce();\n\n      if (args) {\n        scope = value instanceof Block\n          ? value\n          : parentTemplate;\n        value = args[0];\n      }\n\n      if (isFunction(value)) {\n        value(elem);\n      } else if (isString(value)) {\n        scope[value] = elem;\n      }\n    }\n  }\n\n  return {\n    name: 'd-elem',\n    value: DElem\n  };\n}\n","export function registerDHide(Mixin) {\n  class DHide extends Mixin {\n    afterUpdate(value) {\n      const { elem } = this;\n\n      if (value) {\n        elem.hide();\n      } else {\n        elem.show();\n      }\n    }\n\n    beforeRemove() {\n      this.elem.show();\n    }\n  }\n\n  return {\n    name: 'd-hide',\n    value: DHide\n  };\n}\n","import { isFunction, isString } from '../utils';\n\nexport function registerDNode(Mixin, createBlock, Block) {\n  class DNode extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        args,\n        parentTemplate,\n        node\n      } = this;\n      let scope = parentTemplate;\n      let value = this.evaluateOnce();\n\n      if (args) {\n        scope = value instanceof Block\n          ? value\n          : parentTemplate;\n        value = args[0];\n      }\n\n      if (isFunction(value)) {\n        value(node);\n      } else if (isString(value)) {\n        scope[value] = node;\n      }\n    }\n  }\n\n  return {\n    name: 'd-node',\n    value: DNode\n  };\n}\n","export function registerDOn(Mixin) {\n  class DOn extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      if (this.args) {\n        this.off = this.elem.on(this.args.join(','), () => {\n          this.evaluateOnce();\n        });\n      } else {\n        console.error('Provide \"d-on\" mixin with an event names (like \"d-on(click)\" or \"d-on(keyup, keypress)\")!');\n      }\n    }\n\n    beforeRemove() {\n      const { off } = this;\n\n      if (off) {\n        off();\n      }\n    }\n  }\n\n  return {\n    name: 'd-on',\n    value: DOn\n  };\n}\n","export function registerDShow(Mixin) {\n  class DShow extends Mixin {\n    afterUpdate(value) {\n      const { elem } = this;\n\n      if (value) {\n        elem.show();\n      } else {\n        elem.hide();\n      }\n    }\n\n    beforeRemove() {\n      this.elem.show();\n    }\n  }\n\n  return {\n    name: 'd-show',\n    value: DShow\n  };\n}\n","import {\n  isString, iterateObject, keys,\n  collectFromObject, collectFromArray\n} from '../utils';\n\nconst CSS_STYLES_SEPARATOR_REGEX = /; ?/;\n\nexport function registerDStyle(Mixin) {\n  class DStyle extends Mixin {\n    css = {};\n\n    afterUpdate(newValue, oldValue) {\n      const {\n        elem,\n        args,\n        css\n      } = this;\n\n      if (args) {\n        newValue = collectFromObject(args, (css, prop) => {\n          css[prop] = newValue;\n        });\n      }\n\n      if (isString(newValue)) {\n        newValue = collectFromArray(\n          newValue\n            .split(CSS_STYLES_SEPARATOR_REGEX)\n            .filter(Boolean),\n          addCSSProp\n        );\n      }\n\n      iterateObject(css, (value, prop) => {\n        if (!newValue[prop]) {\n          elem.removeCSS(prop);\n        }\n      });\n      elem.css(newValue);\n\n      this.css = newValue;\n    }\n\n    beforeRemove() {\n      const {\n        elem,\n        css\n      } = this;\n\n      elem.removeCSS.apply(elem, keys(css));\n    }\n  }\n\n  return {\n    name: 'd-style',\n    value: DStyle\n  };\n}\n\nfunction addCSSProp(css, item) {\n  const [prop, value] = item;\n\n  css[prop] = value;\n}\n","import {\n  isArray, isFunction, isNil,\n  collectFromArray\n} from '../utils';\n\nexport function registerDValue(Mixin, createBlock, Block) {\n  class DValue extends Mixin {\n    static evaluate = false;\n\n    constructor(opts) {\n      super(opts);\n\n      const {\n        args,\n        parentTemplate,\n        elem,\n        node\n      } = this;\n      const name = elem.name();\n      const type = elem.prop('type');\n      const value = this.evaluateOnce();\n      let initialScopeValue = null;\n\n      this.prop = getProp(name, type, elem);\n      this.name = name;\n      this.type = type;\n      this.value = value;\n      this.options = elem.find('option');\n      this.scope = parentTemplate;\n\n      if (args) {\n        this.name = args[0];\n        this.scope = value instanceof Block\n          ? value\n          : parentTemplate;\n      }\n\n      if (!isFunction(value)) {\n        initialScopeValue = this.scope.$$.evaluate(getEvalFunction(value), (newValue) => {\n          if (this.currentValue !== newValue) {\n            this.currentValue = newValue;\n            this.setProp(newValue);\n          }\n        }, this);\n      }\n\n      const initialElemValue = this.getProp(initialScopeValue, true);\n      const isInitialScopeValueNull = isNil(initialScopeValue);\n      const isCheckbox = type === 'checkbox';\n      const changeScope = () => {\n        this.currentValue = this.getProp(this.currentValue);\n        this.changeScope();\n      };\n\n      if (isInitialScopeValueNull || isCheckbox) {\n        this.currentValue = initialElemValue;\n        this.changeScope();\n\n        if (!isInitialScopeValueNull && isCheckbox) {\n          this.setProp(initialScopeValue);\n        }\n      } else {\n        this.currentValue = initialScopeValue;\n        this.setProp(initialScopeValue);\n      }\n\n      this.offElemListener = elem.on(getListenerName(name, type), (e) => {\n        if (e.target === node) {\n          changeScope();\n        }\n      });\n      this.offFormListener = elem.closest('form').on('reset', () => {\n        setTimeout(changeScope, 0);\n      });\n    }\n\n    changeScope() {\n      const {\n        scope,\n        value,\n        currentValue\n      } = this;\n\n      if (isFunction(value)) {\n        value(currentValue);\n      } else {\n        scope[value] = currentValue;\n      }\n    }\n\n    setProp(value) {\n      const {\n        elem,\n        name,\n        prop,\n        type,\n        node,\n        options\n      } = this;\n\n      if (prop === 'text') {\n        elem.text(value);\n      } else if (prop === 'multiple-select') {\n        options.forEach((option) => {\n          option.selected = value.indexOf(option.value) !== -1;\n        });\n      } else {\n        elem.prop(prop, getValueForSetting(name, value, type, node.value));\n      }\n    }\n\n    getProp(values, init) {\n      const {\n        elem,\n        name,\n        prop,\n        type,\n        node,\n        options\n      } = this;\n\n      return prop === 'text'\n        ? elem.text()\n        : getValueForGetting(name, elem.prop(prop), type, node.value, values, options, init, prop === 'multiple-select');\n    }\n\n    beforeRemove() {\n      this.offElemListener();\n      this.offFormListener();\n    }\n  }\n\n  return {\n    name: 'd-value',\n    value: DValue\n  };\n}\n\nfunction getProp(name, type, elem) {\n  switch (name) {\n    case 'select': {\n      return elem.hasAttr('multiple')\n        ? 'multiple-select'\n        : 'value';\n    }\n\n    case 'input': {\n      if (type === 'file') {\n        return 'files';\n      }\n\n      return type === 'radio' || type === 'checkbox'\n        ? 'checked'\n        : 'value';\n    }\n\n    default: {\n      return elem.hasAttr('contentEditable')\n        ? 'text'\n        : 'value';\n    }\n  }\n}\n\nfunction getValueForSetting(name, value, type, inputValue) {\n  if (name !== 'input') {\n    return value;\n  }\n\n  const isRadio = type === 'radio';\n\n  if (!isRadio && type !== 'checkbox') {\n    return value;\n  }\n\n  return isRadio\n    ? value === inputValue\n    : value.indexOf(inputValue) !== -1;\n}\n\nfunction getValueForGetting(name, value, type, inputValue, values, options, init, isMultiple) {\n  switch (name) {\n    case 'select': {\n      if (!isMultiple) {\n        return value;\n      }\n\n      return collectFromArray(options, addValue, []);\n    }\n\n    case 'input': {\n      if (type !== 'radio' && type !== 'checkbox') {\n        return value;\n      }\n\n      if (type === 'radio') {\n        return value\n          ? inputValue\n          : null;\n      }\n\n      if (!value && init) {\n        return values;\n      }\n\n      if (value) {\n        if (values) {\n          return values.indexOf(inputValue) === -1\n            ? values.concat(inputValue)\n            : values;\n        }\n\n        return [inputValue];\n      }\n\n      if (!isArray(values)) {\n        return [];\n      }\n\n      const index = values.indexOf(inputValue);\n\n      if (index !== -1) {\n        return [\n          ...values.slice(0, index),\n          ...values.slice(index + 1)\n        ];\n      }\n\n      return values;\n    }\n\n    default: {\n      return value;\n    }\n  }\n}\n\nfunction getListenerName(name, type) {\n  switch (name) {\n    case 'select': {\n      return 'change';\n    }\n\n    case 'input': {\n      return (\n        type === 'radio'\n        || type === 'checkbox'\n        || type === 'color'\n        || type === 'file'\n      )\n        ? 'change'\n        : 'change input';\n    }\n\n    default: {\n      return 'input';\n    }\n  }\n}\n\nfunction getEvalFunction(value) {\n  return (scope) => scope[value];\n}\n\nfunction addValue(values, { selected, value }) {\n  if (selected && values.indexOf(value) === -1) {\n    values.push(value);\n  }\n}\n","/**\n * @module Block\n * @private\n * @mixin\n * @description Exports Block class.\n */\n\nimport { Elem } from './Elem';\nimport {\n  defineFrozenProperties, defineProperties,\n  assign, escapeRegex, mapObject,\n  toObjectKeys, collectFromObject,\n  iterateArray, iterateObject,\n  isFunction, isNil, isArray,\n  setToStringTag, hasOwnProperty,\n  removeArrayElem, create,\n  getProto, setProto, keys\n} from './utils';\nimport * as Blocks from './blocks';\nimport * as Mixins from './mixins';\n\n/**\n * @typedef {Error} EvaluationError\n * @public\n * @property {String} expression - Expression which has been evaluated with the error.\n * @property {Block} block - Block in context of which the expression has been evaluated with the error.\n */\n\n/**\n * @callback Watcher\n * @public\n * @param {*} newValue - New value.\n * @param {*} oldValue - Old value.\n */\n\n/**\n * @callback VarsWatcher\n * @public\n */\n\n/**\n * @callback Wrapper\n * @public\n * @param {Block} Block class to wrap.\n * @returns {Block} New Block class.\n */\n\n/**\n * @callback AfterUpdate\n * @public\n * @param {*} newValue - New value.\n * @param {*} oldValue - Old value.\n * @param {*} mixin - Mixin instance.\n */\n\n/**\n * @callback BlockRegisterHook\n * @public\n * @param {Block} Block - Registering block.\n * @param {String} name - Block name.\n * @returns Return value is used for registering the block.\n * If Block subclass returned it's registered instead of the initial block, otherwise\n * the initial block is used.\n */\n\n/**\n * @callback MixinRegisterHook\n * @public\n * @param {Block} Mixin - Registering mixin.\n * @param {String} name - Mixin name.\n * @returns Return value is used for registering the mixin.\n * If Mixin subclass returned it's registered instead of the initial mixin, otherwise\n * the initial mixin is used.\n */\n\nconst rootBlocks = create(null);\nconst rootMixins = create(null);\nconst blockHooks = [];\nconst mixinHooks = [];\nconst { isPrototypeOf } = {};\nconst TAG_NAME_REGEX = /^[a-z][a-z\\d\\-_.:!@#$%^&*()[\\]{}='\"\\\\]*$/i;\nconst ATTR_NAME_REGEX = /^[\\u0000-\\u0020\\s'\">/=]+$/;\nconst SVG_NS = 'http://www.w3.org/2000/svg';\nconst D_REST_REGEX = /^d-rest(?:#|$)/;\nconst WATCHED_ARG_PREFIX_REGEX = /^args\\./;\nconst WATCHED_GLOBAL_PREFIX_REGEX = /^globals\\./;\nconst NAMED_D_BLOCK_REGEX = /^d-block:([\\s\\S]+)$/;\nconst COMMA_REGEX = /,/;\nconst afterElem = new Elem();\nconst emptyChildren = [];\nconst emptyAttrs = {};\nlet evalMode;\nlet getting = [];\nlet changed;\n\n/**\n * @class Block\n * @public\n * @param {Object} opts - Element options.\n * @returns {Block} Instance of Block.\n * @description Class for dynamic templating.\n *\n * @example\n * import { D, Block, initApp } from 'dwayne';\n *\n * class App extends Block {\n *   static template = '<Hello text=\"{text}\"/>';\n *\n *   constructor(opts) {\n *     super(opts);\n *\n *     this.text = 'world (0)';\n *     this.times = 0;\n *\n *     this.setInterval();\n *   }\n *\n *   setInterval() {\n *     D(1000).interval(() => {\n *       this.text = `world (${ ++this.times })`;\n *     });\n *   }\n * }\n *\n * Block.block('App', App);\n * Block.block('Hello', 'Hello, {args.text}!');\n *\n * initApp('App', document.getElementById('root'));\n */\nclass Block {\n  static _blocks = create(rootBlocks);\n  static _mixins = create(rootMixins);\n\n  /**\n   * @member {Object} [Block.defaultArgs = null]\n   * @type {Object}\n   * @public\n   * @description Block default args.\n   */\n  static defaultArgs = null;\n\n  /**\n   * @member {Object} [Block.defaultLocals = null]\n   * @type {Object}\n   * @public\n   * @description Block default locals.\n   */\n  static defaultLocals = null;\n\n  /**\n   * @member {Object} [Block.template = { vars: [], value: [] }]\n   * @type {Object}\n   * @public\n   * @description Block template.\n   */\n  static template = {\n    vars: [],\n    value: []\n  };\n\n  /**\n   * @method Block.onEvalError\n   * @public\n   * @param {EvaluationError} err - The method is called when an evaluation error occurs.\n   */\n  static onEvalError(err) {\n    console.error(`Eval error (evaluating \"${ err.expression }\" in context of block \"${ err.block.$$.name }\"):`, err);\n  }\n\n  /**\n   * @method Block.beforeRegisterBlock\n   * @public\n   * @param {BlockRegisterHook} hook - Block register hook.\n   */\n  static beforeRegisterBlock(hook) {\n    blockHooks.push(hook);\n\n    return () => {\n      removeArrayElem(blockHooks, hook);\n    };\n  }\n\n  /**\n   * @method Block.beforeRegisterMixin\n   * @public\n   * @param {MixinRegisterHook} hook - Mixin register hook.\n   */\n  static beforeRegisterMixin(hook) {\n    mixinHooks.push(hook);\n\n    return () => {\n      removeArrayElem(mixinHooks, hook);\n    };\n  }\n\n  /**\n   * @method Block.block\n   * @public\n   * @param {String} name - Block or mixin name.\n   * @param {Template|typeof Block} Subclass - Subclass of Block or template string of it.\n   * @returns {typeof Block|undefined} Returns registered Block or undefined if the block hasn't been registered.\n   * @description Register block in the namespace of this.\n   */\n  static block(name, Subclass) {\n    if (isFunction(Subclass) && !isInstanceOf(Block, Subclass)) {\n      const constructor = Subclass;\n\n      Subclass = class extends Block {\n        constructor(opts) {\n          super(opts);\n\n          this::constructor(opts);\n        }\n      };\n    }\n\n    if (!isFunction(Subclass) && isArray(Subclass)) {\n      Subclass = class extends Block {\n        static template = {\n          vars: [],\n          value: Subclass\n        };\n      };\n    }\n\n    if (!isFunction(Subclass) && Subclass.vars && Subclass.value) {\n      Subclass = class extends Block {\n        static template = Subclass;\n      };\n    }\n\n    if (!isFunction(Subclass)) {\n      console.warn(`Block must be a string (representing a block template), a function or a class that extends Block class (name: \"${ name }\") (Block.block)`);\n\n      return;\n    }\n\n    if (!isInstanceOf(Block, Subclass)) {\n      extendBlock(Subclass);\n    }\n\n    if (rootBlocks[name]) {\n      console.warn(`The \"${ name }\" block is a built-in block so the block will not be registered (Block.block)`);\n\n      return;\n    }\n\n    if (!TAG_NAME_REGEX.test(name)) {\n      console.warn(`Name \"${ name }\" is not allowed for blocks so the block will not be registered (Block.block)`);\n\n      return;\n    }\n\n    if (!hasOwnProperty(this, '_blocks')) {\n      this._blocks = create(getProto(this)._blocks);\n    }\n\n    if (!hasOwnProperty(this, 'defaultLocals')) {\n      this.defaultLocals = {};\n    }\n\n    if (!hasOwnProperty(this, 'defaultArgs')) {\n      this.defaultArgs = create(null);\n    }\n\n    try {\n      Subclass = blockHooks.reduce((returnValue, hook) => {\n        const currentReturnValue = hook(returnValue, name, this);\n\n        return isInstanceOf(Block, currentReturnValue)\n          ? currentReturnValue\n          : returnValue;\n      }, Subclass);\n    } catch (err) {\n      console.error('Uncaught error in \"beforeRegisterBlock\" hook:', err);\n    }\n\n    const {\n      vars,\n      value\n    } = Subclass.template;\n\n    Subclass._html = value;\n    Subclass._vars = vars;\n\n    if (hasOwnProperty(Subclass, 'defaultArgs')) {\n      setProto(Subclass.defaultArgs, null);\n    }\n\n    this._blocks[name] = Subclass;\n\n    return Subclass;\n  }\n\n  /**\n   * @method Block.mixin\n   * @public\n   * @param {String} name - Block or mixin name.\n   * @param {typeof Mixin|AfterUpdate} Subclass - Subclass of Mixin or AfterUpdate callback.\n   * @returns {typeof Mixin|undefined} Returns registered Block or undefined if the block hasn't been registered.\n   * @description Register mixin in the namespace of this.\n   */\n  static mixin(name, Subclass) {\n    if (isFunction(Subclass) && !isInstanceOf(Mixin, Subclass)) {\n      const afterUpdate = Subclass;\n\n      Subclass = class extends Mixin {\n        afterUpdate(newValue, oldValue) {\n          this::afterUpdate(newValue, oldValue, this);\n        }\n      };\n    }\n\n    if (!isInstanceOf(Mixin, Subclass)) {\n      console.warn(`The \"${ name }\" class does not extend Mixin and will not be registered (Block.mixin)`);\n\n      return;\n    }\n\n    if (rootMixins[name]) {\n      console.warn(`The \"${ name }\" mixin is a built-in mixin so the mixin will not be registered (Block.mixin)`);\n\n      return;\n    }\n\n    if (!ATTR_NAME_REGEX.test(name)) {\n      console.warn(`Name \"${ name }\" is not allowed for mixins so the mixin will not be registered (Block.mixin)`);\n\n      return;\n    }\n\n    if (!hasOwnProperty(this, '_mixins')) {\n      this._mixins = create(getProto(this)._mixins);\n    }\n\n    try {\n      Subclass = mixinHooks.reduce((returnValue, hook) => {\n        const currentReturnValue = hook(returnValue, name, this);\n\n        return isInstanceOf(Mixin, currentReturnValue)\n          ? currentReturnValue\n          : returnValue;\n      }, Subclass);\n    } catch (err) {\n      console.error('Uncaught error in \"beforeRegisterMixin\" hook:', err);\n    }\n\n    Subclass._match = constructMixinRegExp(name);\n\n    this._mixins[name] = Subclass;\n\n    return Subclass;\n  }\n\n  /**\n   * @method Block.wrap\n   * @public\n   * @param {...Wrapper} wrappers - Functions that return wrapped block.\n   * @returns {typeof Block} New block.\n   * @description Method for wrapping blocks into another blocks.\n   * It is considered best practice to just extends the old block with a new one.\n   *\n   * @example\n   * class MyBlock extends Block {\n   *   static template = '<div>123</div>';\n   * }\n   *\n   * MyBlock.wrap((Block) => {\n   *   return class extends Block {\n   *     static template = `<section class=\"wrapper\">${ Block.template }</section>`;\n   *\n   *     constructor(opts) {\n   *       super(opts);\n   *\n   *       this.additionalVar = 'additional';\n   *     }\n   *   };\n   * });\n   */\n  static wrap(...wrappers) {\n    return wrappers.reduce(wrapBlock, this);\n  }\n\n  constructor(opts) {\n    const {\n      name,\n      args: originalArgs,\n      dBlockName,\n      children,\n      parent,\n      parentElem,\n      parentBlock,\n      parentScope,\n      parentTemplate,\n      prevBlock\n    } = opts;\n    const watchersToRemove = [];\n    const constructor = getProto(this).constructor;\n    const childrenBlocks = [];\n    const mixins = [];\n    const isParentBlock = parent instanceof Block;\n\n    defineFrozenProperties(this, {\n      /**\n       * @member {Block} Block#$\n       * @type {Block}\n       * @public\n       * @description This.\n       */\n      $: this,\n\n      /**\n       * @member {Object} Block#$$\n       * @type {Object}\n       * @protected\n       * @property {Object} args - Private args scope.\n       * @property {Object[]} argsChildren - Block args children.\n       * @property {Block[]} children - Child blocks.\n       * @property {Mixin[]} mixins - Child mixins.\n       * @property {Elem} parentElem - Parent element.\n       * @property {Elem} content - Content elements.\n       * @property {Function} evaluate - Evaluate function.\n       * @property {Object} globals - Private globals scope.\n       * @property {Object} locals - Private locals scope.\n       * @property {Object[]} watchersToRemove - Watchers to remove before removing element.\n       */\n      $$: {\n        name,\n        dBlockName,\n        dBlocks: [],\n        parent,\n        parentElem,\n        parentScope,\n        parentBlock,\n        parentTemplate,\n        content: new Elem(),\n        ns: constructor,\n        argsChildren: children,\n        children: childrenBlocks,\n        mixins,\n        prevBlock,\n        watchersToRemove,\n        isRemoved: false,\n        evaluate: (func, onChange, targetBlock, forDElements, forDItem, forDEach) => {\n          if (!isFunction(func)) {\n            return func;\n          }\n\n          forDElements = !!forDElements;\n          forDItem = !!forDItem;\n\n          const scope = (name === '#d-item' && !forDItem) || forDEach\n            ? (forDEach || this).$$.scope\n            : this;\n          const { watchersToRemove } = targetBlock ? targetBlock.$$ : {};\n          const onChangeFlag = !!onChange;\n\n          const evaluate = () => {\n            let result;\n\n            if (onChangeFlag) {\n              evalMode = true;\n              getting = [];\n            }\n\n            try {\n              result = func(scope);\n            } catch (err) {\n              err.expression = func.expression;\n              err.original = func.original;\n              err.block = this;\n\n              if (isFunction(constructor.onEvalError)) {\n                try {\n                  constructor.onEvalError(err);\n                } catch (e) {\n                  console.error('Uncaught error in onEvalError:', e);\n                }\n              }\n            }\n\n            if (onChangeFlag) {\n              const localWatchers = [];\n\n              iterateArray(getting, (watchers) => {\n                const watcher = () => {\n                  const newResult = evaluate();\n\n                  if (newResult !== result && !targetBlock.$$.isRemoved) {\n                    onChange(newResult, result);\n                  }\n                };\n                const watcherBlock = {\n                  forDElements,\n                  watcher,\n                  watchers\n                };\n\n                watcher.onRemove = () => {\n                  iterateArray(localWatchers, (watcherBlock) => {\n                    const {\n                      watcher,\n                      watchers\n                    } = watcherBlock;\n\n                    removeArrayElem(watchersToRemove, watcherBlock);\n                    removeArrayElem(watchers, watcher);\n                  });\n                };\n\n                localWatchers.push(watcherBlock);\n                watchersToRemove.push(watcherBlock);\n                watchers.push(watcher);\n              });\n\n              evalMode = false;\n              getting = [];\n            }\n\n            return result;\n          };\n\n          return evaluate();\n        },\n        remove: (isParentSignal) => {\n          this.$$.isRemoved = true;\n\n          removeWatchers(watchersToRemove);\n\n          iterateArray(childrenBlocks, removeWithParentSignal);\n\n          iterateArray(mixins, removeWithParentSignal);\n\n          try {\n            this.beforeRemove();\n          } catch (err) {\n            console.error(`Uncaught error in ${ name }#beforeRemove:`, err);\n          }\n\n          if (!isParentSignal && isParentBlock) {\n            parent.$$.removeContent(this.$$.content);\n          }\n\n          if (!isParentSignal && parentBlock) {\n            removeArrayElem(parentBlock.$$.children, this);\n          }\n\n          this.$$.content.remove();\n        },\n        addContent: (contentToAdd, notRecursive) => {\n          const index = this.$$.content.indexOf(contentToAdd[0].previousSibling) + 1;\n\n          if (index === 0) {\n            this.$$.content = contentToAdd.add(this.$$.content);\n          } else {\n            this.$$.content = this.$$.content\n              .slice(0, index)\n              .add(contentToAdd, this.$$.content.slice(index));\n          }\n\n          if (isParentBlock && !notRecursive) {\n            parent.$$.addContent(contentToAdd);\n          }\n        },\n        moveContent: (contentToMove, after) => {\n          const index = this.$$.content.indexOf(contentToMove[0]);\n          const indexToPut = this.$$.content.indexOf(after[0]) + 1;\n\n          if (indexToPut === 0) {\n            this.$$.content = contentToMove.add(\n              this.$$.content.slice(indexToPut, index),\n              this.$$.content.slice(index + contentToMove.length)\n            );\n          } else if (index > indexToPut) {\n            this.$$.content = this.$$.content\n              .slice(0, indexToPut)\n              .add(\n                contentToMove,\n                this.$$.content.slice(indexToPut, index),\n                this.$$.content.slice(index + contentToMove.length)\n              );\n          } else {\n            this.$$.content = this.$$.content\n              .slice(0, index)\n              .add(\n                this.$$.content.slice(index + contentToMove.length, indexToPut),\n                contentToMove,\n                this.$$.content.slice(indexToPut)\n              );\n          }\n\n          if (isParentBlock && indexToPut) {\n            parent.$$.moveContent(contentToMove, after);\n          }\n        },\n        removeContent: (contentToRemove) => {\n          this.$$.content = this.$$.content.filter((elem) => (\n            contentToRemove.indexOf(elem) === -1\n          ));\n\n          if (isParentBlock) {\n            parent.$$.removeContent(contentToRemove);\n          }\n        },\n        insertInStartOfIt: (contentToInsert, moveFlag) => {\n          const { prevBlock } = this.$$;\n          let after = afterElem;\n\n          if (prevBlock instanceof Block) {\n            after = prevBlock.$$.insertAfterIt(contentToInsert, moveFlag);\n          } else if (prevBlock) {\n            after = prevBlock;\n            contentToInsert.insertAfter(prevBlock);\n\n            if (isParentBlock) {\n              if (moveFlag) {\n                parent.$$.moveContent(contentToInsert, after);\n              } else {\n                parent.$$.addContent(contentToInsert, true);\n              }\n            }\n          } else if (isParentBlock) {\n            const { prevBlock } = parent.$$;\n\n            if (prevBlock) {\n              let notRecursive;\n\n              if (prevBlock instanceof Block) {\n                after = prevBlock.$$.insertAfterIt(contentToInsert, moveFlag);\n                notRecursive = true;\n              } else {\n                after = prevBlock;\n                notRecursive = false;\n                contentToInsert.insertAfter(prevBlock);\n              }\n\n              if (moveFlag) {\n                parent.$$.moveContent(contentToInsert, after);\n              } else {\n                parent.$$.addContent(contentToInsert, notRecursive);\n              }\n            } else {\n              after = parent.$$.insertInStartOfIt(contentToInsert, moveFlag);\n            }\n          } else {\n            contentToInsert.into(parentElem, false);\n          }\n\n          if (moveFlag) {\n            this.$$.moveContent(contentToInsert, after);\n          } else {\n            this.$$.addContent(contentToInsert, true);\n          }\n\n          return after;\n        },\n        insertAfterIt: (contentToInsert, moveFlag) => {\n          const { prevBlock } = this.$$;\n          let after = afterElem;\n          let tryToAddOrMove;\n\n          if (this.$$.content.length) {\n            after = this.$$.content.elem(-1);\n            tryToAddOrMove = true;\n            contentToInsert.insertAfter(after);\n          } else if (prevBlock instanceof Block) {\n            after = prevBlock.$$.insertAfterIt(contentToInsert, moveFlag);\n          } else if (prevBlock) {\n            after = prevBlock;\n            tryToAddOrMove = true;\n            contentToInsert.insertAfter(prevBlock);\n          } else if (isParentBlock) {\n            after = parent.$$.insertInStartOfIt(contentToInsert, moveFlag);\n          } else {\n            contentToInsert.into(parentElem, false);\n          }\n\n          if (isParentBlock && tryToAddOrMove) {\n            if (moveFlag) {\n              parent.$$.moveContent(contentToInsert, after);\n            } else {\n              parent.$$.addContent(contentToInsert);\n            }\n          }\n\n          return after;\n        }\n      }\n    });\n\n    iterateObject(constructor.defaultLocals, (value, variable) => {\n      this[variable] = value;\n    });\n    iterateArray(constructor._vars, (variable) => {\n      this[variable] = this[variable];\n    });\n\n    const argsObject = create(null);\n    let args = create(constructor.defaultArgs || null);\n    let wasDRest;\n\n    iterateObject(originalArgs, (value, arg) => {\n      const isDRest = D_REST_REGEX.test(arg);\n      const localArgs = isDRest || wasDRest\n        ? create(args)\n        : args;\n\n      args = localArgs;\n\n      if (isDRest) {\n        const restArgs = parentScope.$$.evaluate(value, (value) => {\n          iterateObject(localArgs, cleanProperty);\n          assign(localArgs, transformRestArgs(value));\n          calculateArgs(args, argsObject);\n        }, this);\n\n        wasDRest = true;\n\n        return assign(localArgs, transformRestArgs(restArgs));\n      }\n\n      const isDElements = name === 'd-elements';\n      const forDElements = isDElements && arg === 'value';\n\n      wasDRest = false;\n\n      if (name !== 'd-each' || arg !== 'uid') {\n        value = parentScope.$$.evaluate(value, (value) => {\n          localArgs[arg] = value;\n          calculateArgs(args, argsObject);\n        }, this, forDElements, isDElements && parentBlock.$$.name === '#d-item');\n      }\n\n      localArgs[arg] = value;\n    });\n\n    defineFrozenProperties(this, {\n      /**\n       * @member {Object} Block#args\n       * @type {Object}\n       * @public\n       */\n      args: argsObject,\n\n      /**\n       * @member {Object} Block#globals\n       * @type {Object}\n       * @public\n       */\n      globals: create(\n        parentScope\n          ? parentScope.globals\n          : null\n      ),\n\n      /**\n       * @member {Block|undefined} Block#parentScope\n       * @type {Block|undefined}\n       * @public\n       */\n      parentScope,\n\n      /**\n       * @member {Block|undefined} Block#parentTemplate\n       * @type {Block|undefined}\n       * @public\n       */\n      parentTemplate\n    });\n\n    calculateArgs(args, argsObject);\n\n    if (parentBlock) {\n      parentBlock.$$.children.push(this);\n    }\n  }\n\n  /**\n   * @method Block#afterConstruct\n   * @public\n   * @description Is called after block construction (including all scopes)\n   * but before rendering the block and its children.\n   */\n  afterConstruct() {}\n\n  /**\n   * @method Block#afterRender\n   * @public\n   * @description Is called after block has been rendered.\n   */\n  afterRender() {}\n\n  /**\n   * @method Block#beforeRemove\n   * @public\n   * @description Is called before the block removal.\n   */\n  beforeRemove() {}\n\n  /**\n   * @method Block#getContent\n   * @public\n   * @returns {Elem}\n   * @description Returns contents of the block.\n   */\n  getContent() {\n    return this.$$.content.slice();\n  }\n\n  /**\n   * @method Block#evaluateAndWatch\n   * @public\n   * @param {Function} func - Function to evaluate.\n   * @param {Watcher} callback - Callback which is called when the expression value is changed.\n   * @returns {*} Evaluation result.\n   * @description Method for evaluating an expression in context of the block and watching for the changes.\n   */\n  evaluateAndWatch(func, callback) {\n    return this.$$.evaluate(func, callback, this);\n  }\n\n  /**\n   * @method Block#watch\n   * @public\n   * @param {...('args'|'globals'|String)} [vars] - Vars to watch (args, globals or locals).\n   * If no specified all locals, args and globals are to be watched.\n   * If the 'args' string all args are to be watched.\n   * If the 'globals' string all globals are to be watched.\n   * @param {VarsWatcher} watcher - Called when watched vars are changed.\n   * @description Method for watching for vars. If no vars passed in arguments\n   * all vars are to be watched. If the 'args' string is in the arguments all args are to be watched.\n   * If the 'globals' string is in the arguments all globals are to be watched.\n   * Otherwise specified vars will be watched.\n   * Watchers should not be put inside the constructor. It is considered best\n   * practice to do it inside the {@link Block#afterConstruct} method.\n   * Note that these expressions (vars, i.e. \"args.arg\") are not to be\n   * evaluated so you cannot put there things like \"a[b]\" or any js code,\n   * only expressions like \"a\", \"b\", \"args.a\", \"args.b\" and \"globals.a\", \"globals.b\".\n   * Also note that if there are more than one var that are changed at once (synchronously)\n   * the watcher is called only once.\n   * Note that the watcher is executed right away because in most cases\n   * this behaviour is very convenient.\n   *\n   * @example\n   * class MyBlock extends Block {\n   *   static template = '<div />';\n   *\n   *   afterConstruct() {\n   *     this.watch('a', () => {});\n   *     this.watch('args.a', 'globals.r', () => {});\n   *     this.watch(() => {});\n   *   }\n   * }\n   */\n  watch(...vars) {\n    const oldWatcher = arguments[arguments.length - 1];\n\n    if (!isFunction(oldWatcher)) {\n      console.warn(`The last argument (watcher) wasn't specified (${ this.$$.name }#watch)`);\n\n      return;\n    }\n\n    const watcher = () => {\n      oldWatcher();\n    };\n\n    if (arguments.length === 1) {\n      watchForAllLocals(this, watcher);\n      watchForAllArgs(this, watcher);\n      watchForAllGlobals(this, watcher);\n\n      oldWatcher();\n\n      return;\n    }\n\n    iterateArray(arguments, (variable) => {\n      if (variable === oldWatcher) {\n        return;\n      }\n\n      variable = `${ variable }`;\n\n      if (variable === '$') {\n        return watchForAllLocals(this, watcher);\n      }\n\n      if (variable === 'args') {\n        return watchForAllArgs(this, watcher);\n      }\n\n      if (variable === 'globals') {\n        return watchForAllGlobals(this, watcher);\n      }\n\n      if (WATCHED_ARG_PREFIX_REGEX.test(variable)) {\n        variable = variable.replace(WATCHED_ARG_PREFIX_REGEX, '');\n\n        if (!this.$$.args[variable]) {\n          return;\n        }\n\n        this.$$.args[variable].watchers.perm.push(watcher);\n\n        return;\n      }\n\n      if (WATCHED_GLOBAL_PREFIX_REGEX.test(variable)) {\n        variable = variable.replace(WATCHED_GLOBAL_PREFIX_REGEX, '');\n\n        if (!this.$$.globals[variable]) {\n          return;\n        }\n\n        const { watchers } = this.$$.globals[variable];\n\n        watchers.perm.push(watcher);\n        this.$$.watchersToRemove.push({\n          watcher,\n          watchers\n        });\n\n        return;\n      }\n\n      if (!this.$$.locals[variable]) {\n        return;\n      }\n\n      this.$$.locals[variable].watchers.perm.push(watcher);\n    });\n\n    oldWatcher();\n  }\n}\n\nsetToStringTag(Block, 'Block');\nsetProto(Block.prototype, null);\n\nregisterBuiltIns(Blocks, rootBlocks, Block);\n\nconst blocks = Block._blocks;\n\nclass Mixin {\n  static evaluate = true;\n\n  /**\n   * @method Mixin.wrap\n   * @public\n   * @param {...Wrapper} wrappers - Functions that return wrapped mixin.\n   * @returns {Mixin} New mixin.\n   * @description Method for wrapping mixins.\n   * It is considered best practice to just extends the old mixin with a new one.\n   */\n  static wrap(...wrappers) {\n    return wrappers.reduce(wrapMixin, this);\n  }\n\n  constructor(opts) {\n    const {\n      name,\n      value,\n      dynamic,\n      elem,\n      args,\n      comment,\n      parentBlock,\n      parentScope,\n      parentTemplate\n    } = opts;\n    const watchersToRemove = [];\n    const watchers = [];\n\n    defineFrozenProperties(this, {\n      $$: {\n        name,\n        _value: value,\n        value,\n        isDynamic: dynamic,\n        parentScope,\n        parentBlock,\n        parentTemplate,\n        watchers,\n        watchersToRemove,\n        isRemoved: false,\n        evaluate: (watcher) => {\n          const {\n            isDynamic,\n            value,\n            _value\n          } = this.$$;\n          const currentValue = isDynamic\n            ? value\n            : parentScope.$$.evaluate(_value);\n\n          if (watcher) {\n            watchers.push(watcher);\n          }\n\n          return currentValue;\n        },\n        remove: (isParentSignal) => {\n          this.$$.isRemoved = true;\n\n          removeWatchers(watchersToRemove);\n\n          try {\n            this.beforeRemove();\n          } catch (err) {\n            console.error(`Uncaught error in ${ name }#beforeRemove:`, err);\n          }\n\n          if (!isParentSignal && parentBlock) {\n            removeArrayElem(parentBlock.$$.mixins, this);\n          }\n        }\n      }\n    });\n\n    this.args = args;\n    this.comment = comment;\n    this.parentScope = parentScope;\n    this.parentTemplate = parentTemplate;\n    this.elem = elem;\n    this.node = elem[0];\n\n    if (parentBlock) {\n      parentBlock.$$.mixins.push(this);\n    }\n  }\n\n  afterUpdate() {}\n\n  beforeRemove() {}\n\n  /**\n   * @method Block#evaluateAndWatch\n   * @public\n   * @param {Watcher} callback - Callback which is called when the mixin value is changed.\n   * @returns {*} Evaluation result.\n   * @description Method for evaluating the mixin value and watching for the changes.\n   */\n  evaluateAndWatch(callback) {\n    return this.$$.evaluate(callback);\n  }\n\n  /**\n   * @method Block#evaluateOnce\n   * @public\n   * @returns {*} Evaluation result.\n   * @description Method for evaluating the mixin value once.\n   */\n  evaluateOnce() {\n    return this.$$.evaluate();\n  }\n}\n\nsetToStringTag(Mixin, 'Mixin');\n\nregisterBuiltIns(Mixins, rootMixins, Mixin);\n\nconst mixins = Block._mixins;\n\nfunction initApp(html, node) {\n  const parentElem = new Elem(node).elem(0);\n\n  if (!parentElem.length) {\n    throw new Error('No valid element to insert the app into was given! (initApp)');\n  }\n\n  if (parentElem.prop('DwayneRootBlock')) {\n    throw new Error('There already exists a Dwayne app inside the given element! (initApp)');\n  }\n\n  if (isArray(html)) {\n    html = {\n      vars: [],\n      value: html\n    };\n  }\n\n  class RootBlock extends Block {\n    static _vars = html.vars;\n    static _html = html.value\n  }\n\n  const block = createBlock({\n    node: {\n      name: '#RootBlock'\n    },\n    Constructor: RootBlock,\n    parent: parentElem,\n    parentElem\n  });\n\n  parentElem\n    .prop('DwayneRootBlock', block)\n    .attr('dwayne-root', '');\n}\n\nfunction removeApp(node) {\n  const elem = new Elem(node);\n\n  if (!elem.length) {\n    throw new Error('No valid element to remove the app from was given! (removeApp)');\n  }\n\n  const { DwayneRootBlock } = elem[0];\n\n  if (!DwayneRootBlock) {\n    throw new Error('No app registered inside the given element! (removeApp)');\n  }\n\n  DwayneRootBlock.$$.remove();\n  elem.removeAttr('dwayne-root');\n\n  delete elem[0].DwayneRootBlock;\n}\n\nfunction registerBuiltIns(set, scope, proto) {\n  iterateObject(set, (register) => {\n    const {\n      name,\n      value\n    } = register(proto, createBlock, Block);\n\n    if (proto === Block) {\n      const {\n        vars,\n        value: html\n      } = value.template;\n\n      value._html = html;\n      value._vars = vars;\n    } else {\n      value._match = constructMixinRegExp(name);\n    }\n\n    scope[name] = value;\n  });\n}\n\nfunction createBlock({ node, Constructor, parent, parentElem, parentBlock, parentScope, parentTemplate, prevBlock }) {\n  const doc = new Elem(parentElem[0].ownerDocument);\n  const elem = parentElem[0].namespaceURI === SVG_NS\n    ? doc.create('svg')\n    : doc;\n  const localBlocks = parentScope ? parentScope.$$.ns._blocks : blocks;\n  const localMixins = parentScope ? parentScope.$$.ns._mixins : mixins;\n  let children = node.children = node.children || emptyChildren;\n  let args = node.attrs = node.attrs || emptyAttrs;\n  let name = node.name || 'UnknownBlock';\n  let constructor = Constructor || (node.name && localBlocks[node.name]);\n  let dBlockMatch;\n  let dBlockName;\n  let dBlockArgs;\n  let dBlockChildren;\n  let dElementsName;\n\n  if (name === 'd-block' && args.name) {\n    name = 'd-elements';\n    constructor = localBlocks[name];\n    dElementsName = args.name;\n    dBlockArgs = args;\n    dBlockChildren = children;\n    children = emptyChildren;\n\n    delete args.name;\n    args = {};\n  } else if (name === 'd-block' && hasOwnProperty(args, 'constructor')) {\n    name = 'UnknownBlock';\n    constructor = parentScope.$$.evaluate(args.constructor);\n\n    if (isFunction(constructor)) {\n      delete args.constructor;\n    } else {\n      constructor = null;\n    }\n  } else if ((dBlockMatch = name.match(NAMED_D_BLOCK_REGEX)) || name === 'd-block') {\n    constructor = blocks['d-block'];\n    dBlockName = dBlockMatch ? dBlockMatch[1] : null;\n  }\n\n  let blockInstance;\n\n  if (constructor) {\n    try {\n      blockInstance = new constructor({\n        name,\n        args,\n        dBlockName,\n        children,\n        parent,\n        parentElem,\n        parentBlock,\n        parentScope,\n        parentTemplate,\n        prevBlock\n      });\n    } catch (err) {\n      console.error(`Uncaught error in new ${ name }:`, err);\n      constructor = null;\n    }\n  }\n\n  if (!constructor) {\n    const {\n      value,\n      children\n    } = node;\n\n    const element = elem.create(name);\n    const currentAttrs = create(null);\n    let attrs = create(null);\n    let wasDRest;\n    const mixinDefaultOpts = {\n      elem: element,\n      parentBlock,\n      parentScope,\n      parentTemplate\n    };\n\n    iterateObject(args, (value, attr) => {\n      const isDRest = D_REST_REGEX.test(attr);\n      const localAttrs = isDRest || wasDRest\n        ? create(attrs)\n        : attrs;\n\n      attrs = localAttrs;\n\n      if (isDRest) {\n        const restAttrs = parentScope.$$.evaluate(value, (value) => {\n          setTimeout(() => {\n            iterateObject(localAttrs, cleanProperty);\n            assign(localAttrs, transformRestAttrs(\n              value, localMixins, mixinDefaultOpts\n            ));\n            calculateAttrs(attrs, currentAttrs, element, false);\n          }, 0);\n        }, parentBlock);\n\n        wasDRest = true;\n\n        return assign(localAttrs, transformRestAttrs(\n          restAttrs, localMixins, mixinDefaultOpts\n        ));\n      }\n\n      const match = mixinMatch(localMixins, attr);\n\n      wasDRest = false;\n\n      if (match) {\n        if (value === true) {\n          value = 'true';\n        }\n\n        localAttrs[attr] = {\n          type: 'mixin',\n          dynamic: false,\n          opts: {\n            value,\n            ...match,\n            ...mixinDefaultOpts\n          },\n          value\n        };\n\n        return;\n      }\n\n      localAttrs[attr] = {\n        type: 'attr',\n        value: parentScope.$$.evaluate(value, (value) => {\n          localAttrs[attr] = {\n            type: 'attr',\n            value\n          };\n          calculateAttrs(attrs, currentAttrs, element, false);\n        }, parentBlock)\n      };\n    });\n\n    const createMixins = calculateAttrs(attrs, currentAttrs, element, true);\n\n    if (name === '#comment') {\n      element.text(value);\n    }\n\n    if (name === '#text') {\n      if (isFunction(value)) {\n        let text = parentScope.$$.evaluate(value, (value) => {\n          if (isNil(value)) {\n            value = '';\n          }\n\n          element.text(`${ value }`);\n        }, parentBlock);\n\n        if (isNil(text)) {\n          text = '';\n        }\n\n        element.text(`${ text }`);\n      } else {\n        element.text(value);\n      }\n    }\n\n    if (children) {\n      const parentElem = name === 'template'\n        ? new Elem(element[0].content)\n        : element;\n      let prevBlock;\n\n      iterateArray(children, (child) => {\n        prevBlock = createBlock({\n          node: child,\n          parent: parentElem,\n          parentElem,\n          parentBlock,\n          parentScope,\n          parentTemplate,\n          prevBlock\n        });\n      });\n    }\n\n    const isParentBlock = parent instanceof Block;\n\n    if (prevBlock instanceof Block) {\n      prevBlock.$$.insertAfterIt(element, false);\n    } else if (prevBlock) {\n      element.insertAfter(prevBlock);\n\n      if (isParentBlock) {\n        parent.$$.addContent(element);\n      }\n    } else if (isParentBlock) {\n      parent.$$.insertInStartOfIt(element, false);\n    } else {\n      element.into(parentElem, false);\n    }\n\n    createMixins();\n\n    return element;\n  }\n\n  const {\n    $$,\n    args: Args,\n    globals,\n    ...locals\n  } = blockInstance;\n\n  if (dBlockMatch || name === 'd-block') {\n    parentScope.$$.dBlocks.push(blockInstance);\n  }\n\n  if (dBlockArgs) {\n    node = {\n      attrs: dBlockArgs,\n      children: dBlockChildren\n    };\n    node.name = parentScope.$$.evaluate(dElementsName, (newName) => {\n      node.name = newName;\n\n      Args.value = [node];\n    }, blockInstance, true);\n\n    Args.value = [node];\n    Args.parentScope = parentScope;\n  }\n\n  const html = name === 'd-elements'\n    ? Args.value || []\n    : constructor._html;\n\n  $$.args = constructPrivateScope(Args);\n  $$.locals = constructPrivateScope(locals);\n  $$.globals = constructPrivateScope(globals, 'globals', parentScope);\n\n  if (name === '#d-item') {\n    const scopeValues = {\n      [node.itemName]: node.item,\n      [node.indexName]: node.index\n    };\n    const scope = parentScope.$$.name === '#d-item'\n      ? parentScope.$$.scope\n      : parentScope;\n\n    $$.ns = parentScope.$$.ns;\n    $$.privateScope = constructPrivateScope(scopeValues);\n    constructPublicScope($$.scope = create(scope), scopeValues, $$.privateScope);\n  }\n\n  if (name === 'd-each') {\n    $$.scope = create(parentScope.$$.name === '#d-item' ? parentScope.$$.scope : parentScope, {\n      [Args.item || '$item']: {\n        value: null,\n        writable: true\n      },\n      [Args.index || '$index']: {\n        value: null,\n        writable: true\n      }\n    });\n  }\n\n  constructPublicScope(Args, Args, $$.args);\n  constructPublicScope(globals, globals, $$.globals);\n  constructPublicScope(blockInstance, locals, $$.locals);\n\n  try {\n    blockInstance.afterConstruct();\n  } catch (err) {\n    console.error(`Uncaught error in ${ name }#afterConstruct:`, err);\n  }\n\n  prevBlock = undefined;\n  parentScope = name === 'd-elements'\n    ? Args.parentScope\n    : blockInstance;\n  parentTemplate = name === 'd-elements'\n    ? Args.parentTemplate\n    : blockInstance;\n\n  iterateArray(html, (child) => {\n    prevBlock = createBlock({\n      node: child,\n      parent: blockInstance,\n      parentElem,\n      parentBlock: blockInstance,\n      parentScope,\n      parentTemplate,\n      prevBlock\n    });\n  });\n\n  try {\n    blockInstance.afterRender();\n  } catch (err) {\n    console.error(`Uncaught error in ${ name }#afterRender:`, err);\n  }\n\n  return blockInstance;\n}\n\nfunction createMixin({ name, Mixin, dynamic, value, args, comment, elem, parentBlock, parentScope, parentTemplate }) {\n  const mixin = new Mixin({\n    name,\n    value,\n    dynamic,\n    args,\n    comment,\n    elem,\n    parentBlock,\n    parentScope,\n    parentTemplate\n  });\n\n  if (Mixin.evaluate) {\n    const value = mixin.value = mixin.evaluateAndWatch((newValue, oldValue) => {\n      mixin.value = newValue;\n\n      try {\n        mixin.afterUpdate(newValue, oldValue);\n      } catch (err) {\n        console.error(`Uncaught error in ${ name }#afterUpdate:`, err);\n      }\n    });\n\n    mixin.afterUpdate(value);\n  }\n\n  return mixin;\n}\n\nfunction isInstanceOf(Class, Subclass) {\n  return Class::isPrototypeOf(Subclass) && Class.prototype::isPrototypeOf(Subclass.prototype);\n}\n\nfunction removeWatchers(watchersToRemove) {\n  iterateArray(watchersToRemove, removeWatcher);\n}\n\nfunction constructPrivateScope(object, type, parentScope) {\n  let scope = {};\n\n  if (type === 'globals') {\n    scope = create(\n      parentScope\n        ? parentScope.$$.globals\n        : null\n    );\n  }\n\n  return collectFromObject(object, (scope, value, key) => {\n    scope[key] = {\n      value,\n      watchers: {\n        temp: [],\n        perm: []\n      }\n    };\n  }, scope);\n}\n\nfunction constructPublicScope(scope, scopeValues, privateScope) {\n  defineProperties(scope, mapObject(scopeValues, (value, key) => {\n    const scope = privateScope[key];\n    const { watchers } = scope;\n\n    return {\n      configurable: false,\n      enumerable: true,\n      get() {\n        if (evalMode) {\n          if (getting.indexOf(watchers.temp) === -1) {\n            getting.push(watchers.temp);\n          }\n        }\n\n        return scope.value;\n      },\n      set(value) {\n        if (value === scope.value) {\n          return;\n        }\n\n        if (!changed) {\n          changed = [];\n        }\n\n        const oldTempWatchers = watchers.temp.slice();\n        const oldValue = scope.value;\n\n        watchers.temp = [];\n        scope.value = value;\n\n        iterateArray(oldTempWatchers, removeTempWatcher);\n        changed.push({\n          scope,\n          oldValue,\n          value\n        });\n\n        setTimeout(() => {\n          if (!changed) {\n            return;\n          }\n\n          const was = [];\n          const values = [];\n\n          for (let i = changed.length - 1; i >= 0; i--) {\n            const {\n              scope,\n              value,\n              oldValue\n            } = changed[i];\n\n            iterateArray(scope.watchers.perm, (watcher) => {\n              const index = was.indexOf(watcher);\n\n              if (index === -1) {\n                was.push(watcher);\n                values.push({\n                  value,\n                  oldValue\n                });\n              } else {\n                values[index].oldValue = oldValue;\n              }\n            });\n\n            changed.splice(i, 1);\n          }\n\n          changed = null;\n\n          iterateArray(was, (watcher, i) => {\n            const {\n              value,\n              oldValue\n            } = values[i];\n\n            watcher(value, oldValue);\n          });\n        }, 0);\n      }\n    };\n  }));\n}\n\nfunction watchForAllLocals(block, watcher) {\n  iterateObject(block.$$.locals, ({ watchers }) => {\n    watchers.perm.push(watcher);\n  });\n}\n\nfunction watchForAllGlobals(block, watcher) {\n  const {\n    globals,\n    watchersToRemove\n  } = block.$$;\n\n  for (const glob in globals) {\n    /* eslint guard-for-in: 0 */\n    const watchers = globals[glob].watchers.perm;\n\n    watchers.push(watcher);\n    watchersToRemove.push({\n      watcher,\n      watchers\n    });\n  }\n}\n\nfunction watchForAllArgs(block, watcher) {\n  iterateObject(block.$$.args, ({ watchers }) => {\n    watchers.perm.push(watcher);\n  });\n}\n\nfunction calculateArgs(args, argsObject) {\n  iterateArray(keys(argsObject), (arg) => {\n    if (!(arg in args)) {\n      argsObject[arg] = undefined;\n    }\n  });\n\n  for (const arg in args) {\n    argsObject[arg] = args[arg];\n  }\n}\n\nfunction transformRestArgs(args) {\n  return collectFromObject(args, addArgs);\n}\n\nfunction transformRestAttrs(attrs, mixins, mixinDefaultOpts) {\n  return collectFromObject(attrs, (eventualAttrs, value, attr) => {\n    if (D_REST_REGEX.test(attr)) {\n      return assign(eventualAttrs, transformRestAttrs(value, mixins, mixinDefaultOpts));\n    }\n\n    const match = mixinMatch(mixins, attr);\n\n    if (match) {\n      eventualAttrs[attr] = {\n        type: 'mixin',\n        dynamic: true,\n        opts: {\n          value,\n          ...match,\n          ...mixinDefaultOpts\n        },\n        value\n      };\n\n      return;\n    }\n\n    eventualAttrs[attr] = {\n      type: 'attr',\n      value\n    };\n  });\n}\n\nfunction mixinMatch(mixins, attr) {\n  let match;\n\n  for (const name in mixins) {\n    const Mixin = mixins[name];\n    const localMatch = attr.match(Mixin._match);\n\n    if (localMatch) {\n      const argsMatch = localMatch[1];\n      let args;\n\n      if (argsMatch === '') {\n        args = [];\n      } else if (argsMatch) {\n        args = argsMatch.split(COMMA_REGEX);\n      }\n\n      match = {\n        args,\n        comment: localMatch[2],\n        Mixin,\n        name\n      };\n\n      break;\n    }\n  }\n\n  return match;\n}\n\nfunction calculateAttrs(attrs, attrsObject, elem, firstTime) {\n  iterateObject(attrsObject, ({ type, value }, attr) => {\n    if (!attrs[attr]) {\n      if (type === 'attr') {\n        elem.removeAttr(attr);\n      } else {\n        value.$$.remove();\n      }\n\n      delete attrsObject[attr];\n    }\n  });\n\n  const mixins = [];\n\n  for (const attr in attrs) {\n    const {\n      type,\n      dynamic,\n      value,\n      opts\n    } = attrs[attr];\n    let nextType;\n    let nextDynamic;\n    let nextValue;\n\n    if (attrsObject[attr]) {\n      const {\n        type: prevType,\n        value: prevValue\n      } = attrsObject[attr];\n\n      if (type === 'attr') {\n        if (prevType === 'mixin') {\n          prevValue.$$.remove();\n        }\n\n        if (prevValue !== value) {\n          elem.attr(attr, value);\n        }\n\n        nextValue = value;\n      } else {\n        const mixin = prevValue;\n\n        if (prevType === 'attr') {\n          elem.removeAttr(attr);\n        }\n\n        mixin.$$.isDynamic = dynamic;\n\n        if (dynamic) {\n          executeMixinWatchers(mixin, value);\n        } else if (!mixin.$$.evaluated && opts.Mixin.evaluate) {\n          const newValue = mixin.$$.parentScope.$$.evaluate(value, (newValue) => {\n            const {\n              type,\n              dynamic\n            } = attrs[attr];\n\n            if (type === 'mixin' && !dynamic) {\n              executeMixinWatchers(mixin, newValue);\n            }\n          }, mixin);\n\n          mixin.$$.evaluated = true;\n\n          executeMixinWatchers(mixin, newValue);\n        }\n\n        nextValue = mixin;\n      }\n\n      nextType = type;\n      nextDynamic = dynamic;\n    } else {\n      if (type === 'attr') {\n        elem.attr(attr, value);\n\n        nextValue = value;\n      } else {\n        const buildMixin = () => {\n          opts.dynamic = dynamic;\n\n          const mixin = createMixin(opts);\n\n          if (!dynamic && opts.Mixin.evaluate) {\n            const {\n              parentScope,\n              value\n            } = opts;\n            const firstValue = parentScope.$$.evaluate(value, (newValue) => {\n              const {\n                type,\n                dynamic\n              } = attrs[attr];\n\n              if (type === 'mixin' && !dynamic) {\n                executeMixinWatchers(mixin, newValue);\n              }\n            }, mixin);\n\n            mixin.$$.evaluated = true;\n            mixin.$$.value = firstValue;\n          }\n\n          nextValue = mixin;\n\n          return {\n            attr,\n            opts: {\n              type,\n              dynamic,\n              value: mixin\n            }\n          };\n        };\n\n        if (firstTime) {\n          mixins.push(buildMixin);\n        } else {\n          buildMixin();\n        }\n      }\n\n      nextType = type;\n      nextDynamic = dynamic;\n    }\n\n    attrsObject[attr] = {\n      type: nextType,\n      dynamic: nextDynamic,\n      value: nextValue\n    };\n  }\n\n  if (firstTime) {\n    return () => {\n      iterateArray(mixins, (buildMixin) => {\n        const {\n          attr,\n          opts\n        } = buildMixin();\n\n        attrsObject[attr] = opts;\n      });\n    };\n  }\n}\n\nfunction executeMixinWatchers(mixin, value) {\n  const oldValue = mixin.$$.value;\n\n  mixin.$$.value = value;\n\n  iterateArray(mixin.$$.watchers, (watcher) => {\n    watcher(value, oldValue);\n  });\n}\n\nfunction constructMixinRegExp(name) {\n  return new RegExp(`^${ escapeRegex(name) }(?:\\\\(([^\\\\)]*)\\\\))?(?:#([\\\\s\\\\S]*))?$`);\n}\n\nfunction extendBlock(cls) {\n  setProto(cls, Block);\n  setProto(cls.prototype, Block.prototype);\n}\n\nfunction insertTemplates(template, templates) {\n  const { vars, value } = template;\n  const newTemplates = create(null);\n  const newVars = toObjectKeys(vars);\n\n  assign(newTemplates, templates);\n  iterateArray(value, forEachNode);\n\n  function forEachNode({ type, value, children }, index, tree) {\n    if (type === '#comment') {\n      value = value.trim();\n\n      if (newTemplates[value]) {\n        tree[index] = newTemplates[value].value;\n        assign(newVars, toObjectKeys(newTemplates[value].vars));\n      }\n    } else {\n      iterateArray(children, forEachNode);\n    }\n  }\n\n  vars.length = 0;\n  vars.push(...keys(newVars));\n\n  return template;\n}\n\nfunction wrapBlock(block, wrapper) {\n  const returnValue = wrapper(block);\n\n  return isInstanceOf(Block, returnValue)\n    ? returnValue\n    : block;\n}\n\nfunction wrapMixin(mixin, wrapper) {\n  const returnValue = wrapper(mixin);\n\n  return isInstanceOf(Mixin, returnValue)\n    ? returnValue\n    : mixin;\n}\n\nfunction removeWithParentSignal(child) {\n  child.$$.remove(true);\n}\n\nfunction remove(child) {\n  child.$$.remove();\n}\n\nfunction cleanProperty(value, arg, object) {\n  delete object[arg];\n}\n\nfunction removeWatcher({ watcher, watchers }) {\n  removeArrayElem(watchers, watcher);\n}\n\nfunction removeTempWatcher(watcher) {\n  watcher.onRemove();\n  watcher();\n}\n\nfunction addArgs(args, value, arg) {\n  if (D_REST_REGEX.test(arg)) {\n    assign(args, transformRestArgs(value));\n  } else {\n    args[arg] = value;\n  }\n}\n\nexport { Block, Mixin, initApp, removeApp, insertTemplates };\n"],"names":["window","global","self","collectFromArray","array","callback","initialValue","value","index","findInArray","i","length","iterateArray","removeArrayElem","elem","indexOf","splice","toObjectKeys","addKey","vars","variable","has","hasOwnProperty","assign","target","objects","arguments","source","key","collectFromObject","object","iterateObject","mapObject","newObject","defineProperties","Object","definePrototypeProperties","properties","name","defineProperty","defineFrozenProperties","Symbol","toString","toStringTag","slice","setToStringTag","tag","prototype","isArray","Array","isFunction","isNil","isString","regexpSpecialCharacters","regexpSpecialsRegexp","RegExp","map","s","join","escapeRegex","string","replace","create","keys","getProto","getPrototypeOf","setProto","setPrototypeOf","proto","__proto__","DASHED_SYMBOL_REGEX","UPPERCASED_SYMBOL_REGEX","toCamelCase","capitalize","toHyphenCase","hyphenize","match","toUpperCase","toLowerCase","document","HIDE_CLASS","EVENT_SEPARATOR_REGEX","CSS_STYLES_SEPARATOR_REGEX","CSS_PROP_VALUE_SEPARATOR_REGEX","CSS_IMPORTANT_REGEX","EVENT_REGEX","ELEMENT_REGEX","HTML_COLLECTION_REGEX","X_LINK_ATTR_REGEX","SVG_NS","XML_NS","X_LINK_NS","XHTML_NS","emptyCollection","Elem","property","isElementsCollection","includes","isValidNode","push","elems","forEach","list","classList","cls","add","attr","attributes","addAttr","ns","getAttrNS","getAttributeNS","getAttribute","removeAttr","setAttributeNS","setAttribute","childNodes","selector","collect","is","parentNode","elements","cb","element","parent","child","toElem","contains","type","el","isText","isHTMLDocument","ownerDocument","createTextNode","createComment","namespaceURI","documentElement","createElementNS","into","text","style","cssText","split","addCSSProp","getPropertyValue","getPropertyPriority","removeCSS","removeProperty","setProperty","test","dataset","addDataAttr","event","details","bubbles","cancelable","realDetails","finalEvent","Event","err","createEvent","initEvent","dispatchEvent","filterFn","Boolean","find","hasAttributeNS","hasAttribute","hide","html","innerHTML","next","nextSibling","insertBefore","appendChild","end","firstChild","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","call","error","getName","addNext","listener","newEvents","allListeners","listeners","addEventListener","removeEventListener","removeEventListeners","removeListeners","removeListener","addParent","addPrev","undefined","prop","remove","removeAttributeNS","removeAttribute","css","first","method","prev","show","babelHelpers.get","apply","textContent","condition","hasAttr","toggle","constructor","species","doc","body","head","isElem","nodeName","closest","createHideStyleNode","attrs","data","addClass","previousSibling","removeChild","removeClass","base","querySelectorAll","String","registerDBlock","Block","DBlock","$$","parentScope","parentParentScope","parentParentTemplate","parentTemplate","children","argsChildren","ownChildren","dBlockName","found","ParentScope","ParentTemplate","dBlocks","DBlockName","template","watchArgs","registerDEach","createBlock","DEach","opts","args","item","itemName","indexName","uid","evaluateAndWatch","renderSet","itemsByUIDs","parentElem","scope","UID","sortBy","newItemsByUIDs","newUIDsCounter","newUIDs","set","filterBy","isArr","iterate","sort","filter","evaluate","items","prevBlock","block","shift","insertAfterIt","content","registerDElements","DElements","mixins","watchersToRemove","removeWithParentSignal","removeContent","watchers","watcher","forDElements","registerDIf","DIf","Infinity","values","cond","if","newValue","registerDItem","DItem","registerDSwitch","DSwitch","wasDefault","val","equals","value1","value2","registerDAttr","Mixin","DAttr","registerDBind","DBind","off","on","EMPTY_SPACE_REGEX","registerDClass","DClass","classes","newClasses","registerDElem","DElem","evaluateOnce","registerDHide","DHide","registerDNode","DNode","node","registerDOn","DOn","registerDShow","DShow","registerDStyle","DStyle","oldValue","registerDValue","DValue","initialScopeValue","getProp","options","getEvalFunction","currentValue","setProp","initialElemValue","isInitialScopeValueNull","isCheckbox","changeScope","offElemListener","getListenerName","e","offFormListener","option","selected","getValueForSetting","init","getValueForGetting","inputValue","isRadio","isMultiple","addValue","concat","rootBlocks","rootMixins","blockHooks","mixinHooks","isPrototypeOf","TAG_NAME_REGEX","ATTR_NAME_REGEX","D_REST_REGEX","WATCHED_ARG_PREFIX_REGEX","WATCHED_GLOBAL_PREFIX_REGEX","NAMED_D_BLOCK_REGEX","COMMA_REGEX","afterElem","emptyChildren","emptyAttrs","evalMode","getting","changed","expression","hook","Subclass","isInstanceOf","warn","_blocks","defaultLocals","defaultArgs","reduce","returnValue","currentReturnValue","_html","_vars","afterUpdate","_mixins","_match","constructMixinRegExp","wrappers","wrapBlock","originalArgs","parentBlock","childrenBlocks","isParentBlock","func","onChange","targetBlock","forDItem","forDEach","onChangeFlag","result","original","onEvalError","localWatchers","newResult","isRemoved","watcherBlock","onRemove","isParentSignal","beforeRemove","contentToAdd","notRecursive","addContent","contentToMove","after","indexToPut","moveContent","contentToRemove","contentToInsert","moveFlag","insertAfter","insertInStartOfIt","tryToAddOrMove","argsObject","wasDRest","arg","isDRest","localArgs","restArgs","cleanProperty","transformRestArgs","isDElements","globals","oldWatcher","watchForAllLocals","watchForAllArgs","watchForAllGlobals","perm","locals","registerBuiltIns","Blocks","blocks","wrapMixin","dynamic","comment","isDynamic","_value","Mixins","initApp","Error","RootBlock","removeApp","DwayneRootBlock","register","Constructor","localBlocks","localMixins","dBlockMatch","dBlockArgs","dBlockChildren","dElementsName","blockInstance","currentAttrs","mixinDefaultOpts","localAttrs","restAttrs","transformRestAttrs","mixinMatch","createMixins","calculateAttrs","Args","newName","constructPrivateScope","scopeValues","privateScope","afterConstruct","afterRender","createMixin","mixin","Class","removeWatchers","removeWatcher","constructPublicScope","temp","oldTempWatchers","removeTempWatcher","was","glob","calculateArgs","addArgs","eventualAttrs","localMatch","argsMatch","attrsObject","firstTime","nextType","nextDynamic","nextValue","prevType","prevValue","evaluated","buildMixin","firstValue","executeMixinWatchers","extendBlock","insertTemplates","templates","newTemplates","newVars","forEachNode","tree","trim","wrapper"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHdheW5lLmpzIiwic291cmNlcyI6WyIuLi9zcmMvZ2xvYmFsLmpzIiwiLi4vc3JjL3V0aWxzL2FycmF5LmpzIiwiLi4vc3JjL3V0aWxzL29iamVjdC5qcyIsIi4uL3NyYy91dGlscy9kZWZpbmVQcm9wZXJ0eS5qcyIsIi4uL3NyYy91dGlscy90b1N0cmluZ1RhZy5qcyIsIi4uL3NyYy91dGlscy9pcy5qcyIsIi4uL3NyYy91dGlscy9lc2NhcGVSZWdleC5qcyIsIi4uL3NyYy91dGlscy9vYmplY3RTdGF0aWNzLmpzIiwiLi4vc3JjL3V0aWxzL3RvQ2FzZS5qcyIsIi4uL3NyYy9FbGVtLmpzIiwiLi4vc3JjL2Jsb2Nrcy9kLWJsb2NrLmpzIiwiLi4vc3JjL2Jsb2Nrcy9kLWVhY2guanMiLCIuLi9zcmMvYmxvY2tzL2QtZWxlbWVudHMuanMiLCIuLi9zcmMvYmxvY2tzL2QtaWYuanMiLCIuLi9zcmMvYmxvY2tzL2QtaXRlbS5qcyIsIi4uL3NyYy9ibG9ja3MvZC1zd2l0Y2guanMiLCIuLi9zcmMvbWl4aW5zL2QtYXR0ci5qcyIsIi4uL3NyYy9taXhpbnMvZC1iaW5kLmpzIiwiLi4vc3JjL21peGlucy9kLWNsYXNzLmpzIiwiLi4vc3JjL21peGlucy9kLWVsZW0uanMiLCIuLi9zcmMvbWl4aW5zL2QtaGlkZS5qcyIsIi4uL3NyYy9taXhpbnMvZC1ub2RlLmpzIiwiLi4vc3JjL21peGlucy9kLW9uLmpzIiwiLi4vc3JjL21peGlucy9kLXNob3cuanMiLCIuLi9zcmMvbWl4aW5zL2Qtc3R5bGUuanMiLCIuLi9zcmMvbWl4aW5zL2QtdmFsdWUuanMiLCIuLi9zcmMvQmxvY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLW5lc3RlZC10ZXJuYXJ5OiAwICovXG4vKiBlc2xpbnQgbm8tbmVnYXRlZC1jb25kaXRpb246IDAgKi9cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG4iLCJleHBvcnQgZnVuY3Rpb24gY29sbGVjdEZyb21BcnJheShhcnJheSwgY2FsbGJhY2ssIGluaXRpYWxWYWx1ZSA9IHt9KSB7XG4gIGl0ZXJhdGVBcnJheShhcnJheSwgKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgIGNhbGxiYWNrKGluaXRpYWxWYWx1ZSwgdmFsdWUsIGluZGV4LCBhcnJheSk7XG4gIH0pO1xuXG4gIHJldHVybiBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kSW5BcnJheShhcnJheSwgY2FsbGJhY2spIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBhcnJheVtpXTtcblxuICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IGksXG4gICAgICAgIHZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXRlcmF0ZUFycmF5KGFycmF5LCBjYWxsYmFjaykge1xuICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjYWxsYmFjayhhcnJheVtpXSwgaSwgYXJyYXkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVBcnJheUVsZW0oYXJyYXksIGVsZW0pIHtcbiAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKGVsZW0pO1xuXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b09iamVjdEtleXMoYXJyYXkpIHtcbiAgcmV0dXJuIGNvbGxlY3RGcm9tQXJyYXkoYXJyYXksIGFkZEtleSk7XG59XG5cbmZ1bmN0aW9uIGFkZEtleSh2YXJzLCB2YXJpYWJsZSkge1xuICB2YXJzW3ZhcmlhYmxlXSA9IHRydWU7XG59XG4iLCJpbXBvcnQgeyBpdGVyYXRlQXJyYXkgfSBmcm9tICcuL2FycmF5JztcblxuY29uc3Qge1xuICBoYXNPd25Qcm9wZXJ0eTogaGFzXG59ID0ge307XG5cbi8qKlxuICogQGNvbnN0XG4gKiBAZnVuY3Rpb24gYXNzaWduXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IC0gT2JqZWN0IHRvIGFzc2lnbiByZXN0IG9mIGFyZ3VtZW50cyB0by5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzIC0gT2JqZWN0cyB0aGF0IGFyZSBhc3NpZ25lZCB0byB0aGUgdGFyZ2V0LlxuICogQHJldHVybnMge09iamVjdH0gVGFyZ2V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgLi4ub2JqZWN0cykge1xuICBpdGVyYXRlQXJyYXkoYXJndW1lbnRzLCAoc291cmNlLCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCkge1xuICAgICAgaXRlcmF0ZU9iamVjdChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2xsZWN0RnJvbU9iamVjdChvYmplY3QsIGNhbGxiYWNrLCBpbml0aWFsVmFsdWUgPSB7fSkge1xuICBpdGVyYXRlT2JqZWN0KG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICBjYWxsYmFjayhpbml0aWFsVmFsdWUsIHZhbHVlLCBrZXksIG9iamVjdCk7XG4gIH0pO1xuXG4gIHJldHVybiBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0OjpoYXMoa2V5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGl0ZXJhdGVPYmplY3Qob2JqZWN0LCBjYWxsYmFjaykge1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkob2JqZWN0LCBrZXkpKSB7XG4gICAgICBjYWxsYmFjayhvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgY2FsbGJhY2spIHtcbiAgY29uc3QgbmV3T2JqZWN0ID0ge307XG5cbiAgaXRlcmF0ZU9iamVjdChvYmplY3QsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgbmV3T2JqZWN0W2tleV0gPSBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpO1xuICB9KTtcblxuICByZXR1cm4gbmV3T2JqZWN0O1xufVxuIiwiaW1wb3J0IHsgaXRlcmF0ZU9iamVjdCB9IGZyb20gJy4vb2JqZWN0JztcblxuLyoqXG4gKiBAZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIFRhcmdldCB0byBkZWZpbmUgcHJvcGVydGllcyBmb3IuXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmVlZGVkIHRvIGJlIGFzc2lnbiB0byB0aGUgdGFyZ2V0LlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGRlZmluaW5nIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgeyBkZWZpbmVQcm9wZXJ0aWVzIH0gPSBPYmplY3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVQcm90b3R5cGVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcGVydGllcykge1xuICBpdGVyYXRlT2JqZWN0KHByb3BlcnRpZXMsICh2YWx1ZSwgbmFtZSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIHtcbiAgICAgIHZhbHVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb24gZGVmaW5lRnJvemVuUHJvcGVydGllc1xuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIFRhcmdldCB0byBkZWZpbmUgcHJvcGVydGllcyBmb3IuXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmVlZGVkIHRvIGJlIGFzc2lnbiB0byB0aGUgdGFyZ2V0LlxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGRlZmluaW5nIGZyb3plbiBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUZyb3plblByb3BlcnRpZXModGFyZ2V0LCBwcm9wZXJ0aWVzKSB7XG4gIGl0ZXJhdGVPYmplY3QocHJvcGVydGllcywgKHZhbHVlLCBuYW1lKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xuICAgICAgdmFsdWUsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBkZWZpbmVQcm90b3R5cGVQcm9wZXJ0aWVzIH0gZnJvbSAnLi9kZWZpbmVQcm9wZXJ0eSc7XG5cbmNvbnN0IHsgU3ltYm9sIH0gPSBnbG9iYWw7XG5jb25zdCB7IHRvU3RyaW5nIH0gPSB7fTtcblxuLyoqXG4gKiBAZnVuY3Rpb24gdG9TdHJpbmdUYWdcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGdldCB0b1N0cmluZ1RhZyBvZi5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IEN1dCBzdHJpbmcuXG4gKiBAZGVzY3JpcHRpb24gQ3V0IFwiVHlwZVwiIHN0cmluZyBmcm9tIFwiW29iamVjdCBUeXBlXVwiIHN0cmluZyB0aGF0IGdvdHRlbiBmcm9tIHt9LnRvU3RyaW5nLGNhbGwob2JqZWN0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3RyaW5nVGFnKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0Ojp0b1N0cmluZygpLnNsaWNlKDgsIC0xKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRvU3RyaW5nVGFnKG9iamVjdCwgdGFnKSB7XG4gIGlmIChTeW1ib2wgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gICAgZGVmaW5lUHJvdG90eXBlUHJvcGVydGllcyhvYmplY3QucHJvdG90eXBlLCB7XG4gICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogdGFnXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBoZWxwZXJzL2NoZWNrVHlwZXNcbiAqIEBwcml2YXRlXG4gKiBAbWl4aW5cbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGlzPFR5cGU+IG1ldGhvZHMuXG4gKi9cblxuaW1wb3J0IHsgdG9TdHJpbmdUYWcgfSBmcm9tICcuL3RvU3RyaW5nVGFnJztcblxuLyoqXG4gKiBAZnVuY3Rpb24gaXNBcnJheVxuICogQHB1YmxpY1xuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGFuIGFycmF5LlxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSBvciBub3QuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBpc0FycmF5KFtdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcbiAqIGlzQXJyYXkoMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxuICogaXNBcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpOyAvLyBmYWxzZVxuICovXG5leHBvcnQgY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheTtcblxuLyoqXG4gKiBAZnVuY3Rpb24gaXNGdW5jdGlvblxuICogQHB1YmxpY1xuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24gb3Igbm90LlxuICogXG4gKiBAZXhhbXBsZVxuICogaXNGdW5jdGlvbigoKSA9PiB7fSk7ICAgICAgICAgICAgLy8gdHJ1ZVxuICogXG4gKiBjb25zdCBmdW5jID0gKCkgPT4ge307XG4gKiBPYmplY3Quc2V0UHJvdG90eXBlT2YoZnVuYywge30pO1xuICogaXNGdW5jdGlvbihmdW5jKTsgICAgICAgICAgICAgICAgLy8gdHJ1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRnVuY3Rpb24nIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb24gaXNOaWxcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBudWxsIG9yIHVuZGVmaW5lZC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVsbCBvciB1bmRlZmluZWQgb3Igbm90LlxuICpcbiAqIEBleGFtcGxlXG4gKiBpc05pbChudWxsKTsgICAgICAvLyB0cnVlXG4gKiBpc05pbCh1bmRlZmluZWQpOyAvLyB0cnVlXG4gKiBpc05pbChmYWxzZSk7ICAgICAvLyBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgLyogZXNsaW50IGVxZXFlcTogMCAqL1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb24gaXNTdHJpbmdcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHN0cmluZy5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBzdHJpbmcgb3Igbm90LlxuICpcbiAqIEBleGFtcGxlXG4gKiBpc1N0cmluZygnMCcpOyAgICAgICAgICAgICAvLyB0cnVlXG4gKiBpc1N0cmluZyhuZXcgU3RyaW5nKCcwJykpOyAvLyB0cnVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnU3RyaW5nJztcbn1cbiIsImNvbnN0IHJlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzID0gW1xuICAnLicsXG4gICcrJywgJyonLCAnPycsXG4gICcoJywgJyknLFxuICAnWycsICddJyxcbiAgJ3snLCAnfScsXG4gICc8JywgJz4nLFxuICAnXicsICckJyxcbiAgJyEnLFxuICAnPScsXG4gICc6JyxcbiAgJy0nLFxuICAnfCcsXG4gICcsJyxcbiAgJ1xcXFwnXG5dO1xuY29uc3QgcmVnZXhwU3BlY2lhbHNSZWdleHAgPSBuZXcgUmVnRXhwKFxuICByZWdleHBTcGVjaWFsQ2hhcmFjdGVyc1xuICAgIC5tYXAoKHMpID0+IGBcXFxcJHsgcyB9YClcbiAgICAuam9pbignfCcpLFxuICAnZydcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVSZWdleChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlZ2V4cFNwZWNpYWxzUmVnZXhwLCAnXFxcXCQmJyk7XG59XG4iLCJleHBvcnQgY29uc3Qge1xuICBjcmVhdGUsXG4gIGtleXMsXG4gIGdldFByb3RvdHlwZU9mOiBnZXRQcm90b1xufSA9IE9iamVjdDtcblxuZXhwb3J0IGNvbnN0IHNldFByb3RvID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgodGFyZ2V0LCBwcm90bykgPT4ge1xuICAvKiBlc2xpbnQgbm8tcHJvdG86IDAgKi9cbiAgdGFyZ2V0Ll9fcHJvdG9fXyA9IHByb3RvO1xufSk7XG4iLCJjb25zdCBEQVNIRURfU1lNQk9MX1JFR0VYID0gLy1bYS16XS9nO1xuY29uc3QgVVBQRVJDQVNFRF9TWU1CT0xfUkVHRVggPSAvW0EtWl0vZztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvQ2FtZWxDYXNlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKERBU0hFRF9TWU1CT0xfUkVHRVgsIGNhcGl0YWxpemUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9IeXBoZW5DYXNlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKFVQUEVSQ0FTRURfU1lNQk9MX1JFR0VYLCBoeXBoZW5pemUpO1xufVxuXG5mdW5jdGlvbiBjYXBpdGFsaXplKG1hdGNoKSB7XG4gIHJldHVybiBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBoeXBoZW5pemUobWF0Y2gpIHtcbiAgcmV0dXJuIGAtJHsgbWF0Y2hbMF0udG9Mb3dlckNhc2UoKSB9YDtcbn1cbiIsImltcG9ydCB7XG4gIGlzQXJyYXksIGlzTmlsLCBpc1N0cmluZyxcbiAgYXNzaWduLCBkZWZpbmVQcm90b3R5cGVQcm9wZXJ0aWVzLFxuICBkZWZpbmVQcm9wZXJ0aWVzLFxuICBjb2xsZWN0RnJvbUFycmF5LCBjb2xsZWN0RnJvbU9iamVjdCxcbiAgaXRlcmF0ZUFycmF5LCBpdGVyYXRlT2JqZWN0LFxuICB0b0NhbWVsQ2FzZSwgdG9IeXBoZW5DYXNlLCB0b1N0cmluZ1RhZyxcbiAgc2V0VG9TdHJpbmdUYWcsIHNldFByb3RvXG59IGZyb20gJy4vdXRpbHMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtTdHJpbmd9IEVsZW1FdmVudFN0cmluZ1xuICogQHB1YmxpY1xuICogQGRlc2NyaXB0aW9uIEEgc3RyaW5nIGNvbnRhaW5pbmcgZXZlbnRzIHNlcGFyYXRlZCBieSBhIGNvbW1hIHdpdGggemVybyBvciBtb3JlIHNwYWNlcyBvciBqdXN0IHNwYWNlcy5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBFbGVtTGlzdGVuZXJcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7RXZlbnR9IGUgLSBGaXJlZCBldmVudC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgb24gd2hpY2ggdGhlIGxpc3RlbmVyIHdhcyBjYWxsZWQuXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBJbmRleCBvZiB0aGUgZWxlbWVudCBvbiB3aGljaCB0aGUgbGlzdGVuZXIgd2FzIGNhbGxlZC5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBFbGVtUmVtb3ZlTGlzdGVuZXJzXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gey4uLkVsZW1FdmVudFN0cmluZ30gZXZlbnRzIC0gSWYgYXQgbGVhc3Qgb25lIGFyZ3VtZW50IHByZXNlbnQgb25seSByZW1vdmVzIGV2ZW50IGxpc3RlbmVycyBzcGVjaWZpZWRcbiAqIGJ5IHRoZSBldmVudHMgaW4gdGhlIGFyZ3VtZW50cy5cbiAqL1xuXG5jb25zdCB7XG4gIGRvY3VtZW50ID0ge30sXG4gIFN5bWJvbFxufSA9IGdsb2JhbDtcbmNvbnN0IEhJREVfQ0xBU1MgPSAnX19kd2F5bmUtaGlkZGVuX18nO1xuY29uc3QgRVZFTlRfU0VQQVJBVE9SX1JFR0VYID0gLyg/Oix8ICkgKi87XG5jb25zdCBDU1NfU1RZTEVTX1NFUEFSQVRPUl9SRUdFWCA9IC87ID8vO1xuY29uc3QgQ1NTX1BST1BfVkFMVUVfU0VQQVJBVE9SX1JFR0VYID0gLzogLztcbmNvbnN0IENTU19JTVBPUlRBTlRfUkVHRVggPSAvID8haW1wb3J0YW50JC87XG5jb25zdCBFVkVOVF9SRUdFWCA9IC9FdmVudCQvO1xuY29uc3QgRUxFTUVOVF9SRUdFWCA9IC9FbGVtZW50JC87XG5jb25zdCBIVE1MX0NPTExFQ1RJT05fUkVHRVggPSAvXihIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdCkkLztcbmNvbnN0IFhfTElOS19BVFRSX1JFR0VYID0gL154bGluazpcXHcvO1xuY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcbmNvbnN0IFhNTF9OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyc7XG5jb25zdCBYX0xJTktfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XG5jb25zdCBYSFRNTF9OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcbmNvbnN0IGVtcHR5Q29sbGVjdGlvbiA9IFtdO1xuXG4vKipcbiAqIEBjbGFzcyBFbGVtXG4gKiBAZXh0ZW5kcyBBcnJheVxuICogQHB1YmxpY1xuICogQHBhcmFtIHtFbGVtZW50fEVsZW1lbnRbXX0gW2VsZW0gPSBbXV0gLSBBbiBlbGVtZW50IG9yIGFuIGFycmF5IG9mIGVsZW1lbnRzIHRvIHdyYXAuXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGFuIGVsZW1lbnRzIHNldC5cbiAqXG4gKiBAZXhhbXBsZVxuICogbmV3IEVsZW0oZG9jdW1lbnQuYm9keSk7XG4gKiBuZXcgRWxlbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xzJykpO1xuICogbmV3IEVsZW0oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2xzJykpO1xuICovXG5jbGFzcyBFbGVtIGV4dGVuZHMgW10uY29uc3RydWN0b3Ige1xuICBzdGF0aWMgYWRkTWV0aG9kcyhwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcbiAgICB9XG5cbiAgICBkZWZpbmVQcm90b3R5cGVQcm9wZXJ0aWVzKHRoaXMucHJvdG90eXBlLCBwcm9wZXJ0eSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGVsZW0gPSBlbXB0eUNvbGxlY3Rpb24pIHtcbiAgICBzdXBlcigpO1xuXG4gICAgaWYgKCFpc0VsZW1lbnRzQ29sbGVjdGlvbihlbGVtKSkge1xuICAgICAgZWxlbSA9IFtlbGVtXTtcbiAgICB9XG5cbiAgICBzZXRQcm90byh0aGlzLCBFbGVtLnByb3RvdHlwZSk7XG5cbiAgICBpdGVyYXRlQXJyYXkoZWxlbSwgKGVsZW0pID0+IHtcbiAgICAgIGlmICghaXNFbGVtZW50c0NvbGxlY3Rpb24oZWxlbSkpIHtcbiAgICAgICAgZWxlbSA9IFtlbGVtXTtcbiAgICAgIH1cblxuICAgICAgaXRlcmF0ZUFycmF5KGVsZW0sIChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5pbmNsdWRlcyhlbGVtKSAmJiBpc1ZhbGlkTm9kZShlbGVtKSkge1xuICAgICAgICAgIHRoaXMucHVzaChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI2FkZFxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7Li4uKEVsZW18RWxlbWVudHxFbGVtZW50W10pfSBlbGVtZW50cyAtIEVhY2ggYXJndW1lbnQgaXMgYSBFbGVtLCBvciBFbGVtZW50LCBvciBhcnJheSBvZiBFbGVtZW50cy5cbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgYWRkaW5nIG5ldyBlbGVtZW50cyB0byB0aGUgc2V0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtMS5maW5kKCcuY2xzMScpXG4gICAqICAgLmFkZChlbGVtMi5maW5kKCcuY2xzMicpKVxuICAgKiAgIC5oaWRlKCk7XG4gICAqL1xuICBhZGQoKSB7XG4gICAgY29uc3QgZWxlbXMgPSB0aGlzLnNsaWNlKCk7XG5cbiAgICBpdGVyYXRlQXJyYXkoYXJndW1lbnRzLCAoZWxlbSkgPT4ge1xuICAgICAgaWYgKCFpc0VsZW1lbnRzQ29sbGVjdGlvbihlbGVtKSkge1xuICAgICAgICBlbGVtID0gW2VsZW1dO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRlQXJyYXkoZWxlbSwgKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtcy5pbmNsdWRlcyhlbGVtKSAmJiBpc1ZhbGlkTm9kZShlbGVtKSkge1xuICAgICAgICAgIGVsZW1zLnB1c2goZWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGVsZW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNhZGRDbGFzc1xuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBjbGFzc2VzIC0gQ2xhc3NlcyB0byBhZGQuXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjbGFzc2VzIHRvIHRoZSBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0uYWRkQ2xhc3MoJ3JlZCcsICdyb3VuZCcpO1xuICAgKi9cbiAgYWRkQ2xhc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgY29uc3QgbGlzdCA9IGVsZW0uY2xhc3NMaXN0O1xuXG4gICAgICBpdGVyYXRlQXJyYXkoYXJndW1lbnRzLCAoY2xzKSA9PiBsaXN0LmFkZChjbHMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jYXR0clxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBTdHJpbmc+fSBbYXR0cl0gLSBOYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gZ2V0IG9yXG4gICAqIGFuIG9iamVjdCBvZiB0aGUgZm9ybWF0IHsgW2F0dHJOYW1lXTogdmFsdWUsIC4uLiB9IHRvIHNldCBhdHRyaWJ1dGVzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZ1xuICAgKiBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgYXR0cmlidXRlLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fFN0cmluZ3xFbGVtfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkLCBELVdyYXAgb2YgYXR0cmlidXRlcyBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0XG4gICAqIHJldHVybmVkLCBpZiAxIHN0cmluZyBhcmd1bWVudCBpcyBwYXNzZWQgdGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldFxuICAgKiByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nL3NldHRpbmcgYXR0cmlidXRlcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5hdHRyKCdhdHRyMScsICd2YWx1ZTEnKTsgLy8gYXR0cmlidXRlIGF0dHIxIHNldCB0byAndmFsdWUxJyBhbmQgdGhpcyByZXR1cm5lZFxuICAgKiBlbGVtLmF0dHIoJ2F0dHIxJyk7ICAgICAgICAgICAvLyAndmFsdWUxJ1xuICAgKiBlbGVtLmF0dHIoe1xuICAgKiAgIGF0dHIxOiAndmFsdWUzJywgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgYXR0cjEgc2V0IHRvICd2YWx1ZTMnXG4gICAqICAgYXR0cjI6ICd2YWx1ZTInICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBhdHRyMiBzZXQgdG8gJ3ZhbHVlMidcbiAgICogfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyByZXR1cm5lZFxuICAgKiBlbGVtLmF0dHIoKTsgICAgICAgICAgICAgICAgICAvLyB7IGF0dHIxOiAndmFsdWUzJywgYXR0cjI6ICd2YWx1ZTInIH1cbiAgICovXG4gIGF0dHIoYXR0ciwgdmFsdWUpIHtcbiAgICBjb25zdCBlbGVtID0gdGhpc1swXTtcblxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgaWYgKCFlbGVtKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbGxlY3RGcm9tT2JqZWN0KGVsZW0uYXR0cmlidXRlcywgYWRkQXR0cik7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhhdHRyKSkge1xuICAgICAgaWYgKCFlbGVtKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBucyA9IGdldEF0dHJOUyhhdHRyLCBlbGVtKTtcblxuICAgICAgcmV0dXJuIG5zXG4gICAgICAgID8gZWxlbS5nZXRBdHRyaWJ1dGVOUyhucywgYXR0cilcbiAgICAgICAgOiBlbGVtLmdldEF0dHJpYnV0ZShhdHRyKTtcbiAgICB9XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICBhdHRyID0geyBbYXR0cl06IHZhbHVlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgaXRlcmF0ZU9iamVjdChhdHRyLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAoaXNOaWwodmFsdWUpIHx8IHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBuZXcgRWxlbShlbGVtKS5yZW1vdmVBdHRyKGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IHZhbHVlID09PSB0cnVlID8gJycgOiB2YWx1ZTtcblxuICAgICAgICBjb25zdCBucyA9IGdldEF0dHJOUyhrZXksIGVsZW0pO1xuXG4gICAgICAgIGlmIChucykge1xuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMobnMsIGtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jY2hpbGRyZW5cbiAgICogQHB1YmxpY1xuICAgKiBAcmV0dXJucyB7RWxlbX0gRC1XcmFwIG9mIHRoZSBjaGlsZHJlbiBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0LlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIGVsZW1lbnQncyBjaGlsZHJlbi5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgY2hpbGRyZW4gPSBlbGVtLmNoaWxkcmVuKCk7XG4gICAqL1xuICBjaGlsZHJlbigpIHtcbiAgICByZXR1cm4gbmV3IEVsZW0odGhpcy5sZW5ndGggPyB0aGlzWzBdLmNoaWxkTm9kZXMgOiBbXSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI2Nsb3Nlc3RcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgLSBTZWUgdGhlIGxpbmsuXG4gICAqIEByZXR1cm5zIHtFbGVtfSBTZXQgb2YgdGhlIGNsb3Nlc3QgZWxlbWVudHMuXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxuICAgKiBbRWxlbWVudCNjbG9zZXN0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvRWxlbWVudC9jbG9zZXN0fS5cbiAgICovXG4gIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xsZWN0KChhZGQsIGVsZW0pID0+IHtcbiAgICAgIHdoaWxlIChlbGVtKSB7XG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICByZXR1cm4gYWRkKGVsZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbGxlY3QoY2FsbGJhY2spIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgIGNvbnN0IGNiID0gOjplbGVtZW50cy5wdXNoO1xuXG4gICAgdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xuICAgICAgY2FsbGJhY2soY2IsIGVsZW0sIGluZGV4LCB0aGlzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgRWxlbShlbGVtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI2NvbnRhaW5zXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGZpbmQgb3V0IGlmIGl0J3Mgd2l0aGluIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBhcmd1bWVudCB3aXRoaW4gdGhpcyBlbGVtZW50LlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIGV4dGVuc2lvbiBmb3JcbiAgICogW05vZGUjY29udGFpbnNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9Ob2RlL2NvbnRhaW5zfS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5jb250YWlucyhlbGVtMik7ICAgLy8gdHJ1ZXxmYWxzZVxuICAgKi9cbiAgY29udGFpbnMoZWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXNbMF07XG4gICAgY29uc3QgY2hpbGQgPSB0b0VsZW0oZWxlbWVudClbMF07XG5cbiAgICByZXR1cm4gIXBhcmVudCB8fCAhY2hpbGRcbiAgICAgID8gZmFsc2VcbiAgICAgIDogcGFyZW50LmNvbnRhaW5zKGNoaWxkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jY3JlYXRlXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBUeXBlIG9mIGNyZWF0ZWQgZWxlbWVudC4gSWYgdHlwZSBpcyBcIiN0ZXh0XCIgYSB0ZXh0IG5vZGUgaXMgY3JlYXRlZC5cbiAgICogSWYgdHlwZSBpcyBcIiNjb21tZW50XCIgYSBjb21tZW50IG5vZGUgaXMgY3JlYXRlZC5cbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtIC0gd3JhcCBvZiB0aGUgY3JlYXRlZCBlbGVtZW50cy5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgZWxlbWVudHMgaW5zaWRlIHRoaXMgZWxlbWVudC5cbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSBlbGVtZW50IGlzIGp1c3QgY3JlYXRlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5jcmVhdGUoJ2RpdicpO1xuICAgKi9cbiAgY3JlYXRlKHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xsZWN0KChhZGQsIGVsZW0pID0+IHtcbiAgICAgIGxldCBlbCA9IG51bGw7XG4gICAgICBjb25zdCBpc1RleHQgPSB0eXBlID09PSAnI3RleHQnO1xuICAgICAgY29uc3QgZG9jdW1lbnQgPSBpc0hUTUxEb2N1bWVudChlbGVtKVxuICAgICAgICA/IGVsZW1cbiAgICAgICAgOiBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cbiAgICAgIGlmIChpc1RleHQgfHwgdHlwZSA9PT0gJyNjb21tZW50Jykge1xuICAgICAgICBlbCA9IGlzVGV4dFxuICAgICAgICAgID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpXG4gICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5zID0gdHlwZSA9PT0gJ3N2ZydcbiAgICAgICAgICA/IFNWR19OU1xuICAgICAgICAgIDogZWxlbS5uYW1lc3BhY2VVUkkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSB8fCBYSFRNTF9OUztcblxuICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdHlwZSk7XG4gICAgICB9XG5cbiAgICAgIGFkZChuZXcgRWxlbShlbCkuaW50byhlbGVtKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZUNvbW1lbnRcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCAtIFRleHQgb2YgdGhlIGNvbW1lbnQuXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgY29tbWVudHMuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIGNvbW1lbnRzIGluc2lkZSB0aGlzIGVsZW1lbnQuXG4gICAqIElmIHRoaXMgZWxlbWVudCBpcyBub3QgYW4gRWxlbWVudCB0aGUgY29tbWVudCBpcyBqdXN0IGNyZWF0ZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0uY3JlYXRlQ29tbWVudCgnY29tbWVudCcpO1xuICAgKi9cbiAgY3JlYXRlQ29tbWVudCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgICAgIC5jcmVhdGUoJyNjb21tZW50JylcbiAgICAgIC50ZXh0KHRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNjcmVhdGVUZXh0XG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0LlxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0gLSB3cmFwIG9mIHRoZSBjcmVhdGVkIHRleHQgbm9kZXMuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIHRleHQgbm9kZXMgaW5zaWRlIHRoaXMgZWxlbWVudC5cbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSB0ZXh0IG5vZGUgaXMganVzdCBjcmVhdGVkLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtLmNyZWF0ZVRleHQoJ3RleHQnKTtcbiAgICovXG4gIGNyZWF0ZVRleHQodGV4dCkge1xuICAgIHJldHVybiB0aGlzXG4gICAgICAuY3JlYXRlKCcjdGV4dCcpXG4gICAgICAudGV4dCh0ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jY3NzXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IFtwcm9wZXJ0eV0gLSBOYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQgb3JcbiAgICogYW4gb2JqZWN0IG9mIHRoZSBmb3JtYXQgeyBbcHJvcGVydHldOiB2YWx1ZSwgLi4uIH0gdG8gc2V0IHN0eWxlcy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IFt2YWx1ZV0gLSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBzdHJpbmcgaXQgc2hvdWxkIGJlIGEgdmFsdWUgdG8gc2V0IGZvciB0aGF0IHByb3BlcnR5LlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fFN0cmluZ3xFbGVtfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkLCBELVdyYXAgb2YgY3NzIHN0eWxlcyBvZiB0aGUgZWxlbWVudCByZXR1cm5lZCxcbiAgICogaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgcmV0dXJuZWQgb3RoZXJ3aXNlIHJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZy9zZXR0aW5nIHN0eWxlcy4gU3VwcG9ydHMgIWltcG9ydGFudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpOyAvLyBkaXNwbGF5IHNldCB0byAnbm9uZScgYW5kIHRoaXMgcmV0dXJuZWRcbiAgICogZWxlbS5jc3MoJ2Rpc3BsYXknKTsgICAgICAgICAvLyAnbm9uZSdcbiAgICogZWxlbS5jc3Moe1xuICAgKiAgIGRpc3BsYXk6ICdpbmxpbmUnLCAgICAgICAgIC8vIGRpc3BsYXkgc2V0IHRvICdpbmxpbmUnXG4gICAqICAgY3Vyc29yOiAncG9pbnRlcicgICAgICAgICAgLy8gY3Vyc29yIHNldCB0byAncG9pbnRlcidcbiAgICogfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHJldHVybmVkXG4gICAqIGVsZW0uY3NzKCk7ICAgICAgICAgICAgICAgICAgLy8geyBkaXNwbGF5OiAnbm9uZScsIGN1cnNvcjogJ3BvaW50ZXInIH1cbiAgICovXG4gIGNzcyhwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBjb25zdCB7IHN0eWxlIH0gPSB0aGlzWzBdIHx8IHt9O1xuXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbGxlY3RGcm9tQXJyYXkoc3R5bGUuY3NzVGV4dC5zcGxpdChDU1NfU1RZTEVTX1NFUEFSQVRPUl9SRUdFWCksIGFkZENTU1Byb3ApO1xuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEgJiYgaXNTdHJpbmcocHJvcGVydHkpKSB7XG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgcHJvcGVydHkgPSB0b0h5cGhlbkNhc2UocHJvcGVydHkpO1xuXG4gICAgICByZXR1cm4gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkgKyAoc3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eShwcm9wZXJ0eSkgPyAnICFpbXBvcnRhbnQnIDogJycpO1xuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGl0ZXJhdGVPYmplY3QocHJvcGVydHksICh2YWx1ZSwgcHJvcGVydHkpID0+IHtcbiAgICAgICAgcHJvcGVydHkgPSB0b0h5cGhlbkNhc2UocHJvcGVydHkpO1xuXG4gICAgICAgIGlmIChpc05pbCh2YWx1ZSkgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pLnJlbW92ZUNTUyhwcm9wZXJ0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgZWxlbS5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICB2YWx1ZS5yZXBsYWNlKENTU19JTVBPUlRBTlRfUkVHRVgsICcnKSxcbiAgICAgICAgICBDU1NfSU1QT1JUQU5UX1JFR0VYLnRlc3QodmFsdWUpID8gJ2ltcG9ydGFudCcgOiAnJ1xuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI2RhdGFcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgU3RyaW5nPn0gW2tleV0gLSBOYW1lIG9mIHRoZSBkYXRhIGF0dHJpYnV0ZSAod2l0aG91dCBkYXRhLSBwcmVmaXgpXG4gICAqIHRvIGdldCBvciBhbiBvYmplY3Qgb2YgdGhlIGZvcm1hdCB7IFthdHRyTmFtZV06IHZhbHVlLCAuLi4gfSB0byBzZXQgYXR0cmlidXRlcy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IFt2YWx1ZV0gLSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBzdHJpbmcgaXQgc2hvdWxkIGJlIGEgdmFsdWUgdG8gc2V0IGZvciB0aGF0IGF0dHJpYnV0ZS5cbiAgICogQHJldHVybnMge09iamVjdHxTdHJpbmd8RWxlbX0gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCwgRC1XcmFwIG9mIGRhdGFzZXQgb2YgdGhlIGVsZW1lbnQgcmV0dXJuZWQsXG4gICAqIGlmIDEgc3RyaW5nIGFyZ3VtZW50IGlzIHBhc3NlZCB0aGUgdmFsdWUgb2YgdGhlIGRhdGEgYXR0cmlidXRlIHJldHVybmVkIG90aGVyd2lzZSByZXR1cm5zIHRoaXMuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBkYXRhIGF0dHJpYnV0ZXMuIFNlZVxuICAgKiBbSFRNTEVsZW1lbnQjZGF0YXNldF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2RhdGFzZXR9LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJywgJ3ZhbHVlJyk7IC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMScgYW5kIHRoaXMgcmV0dXJuZWRcbiAgICogZWxlbS5kYXRhKCdzb21lS2V5MScpOyAgICAgICAgICAvLyAndmFsdWUxJ1xuICAgKiBlbGVtLmRhdGEoe1xuICAgKiAgIHNvbWVLZXkxOiAndmFsdWUzJywgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMydcbiAgICogICBzb21lS2V5MjogJ3ZhbHVlMicgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgZGF0YS1zb21lLWtleTIgc2V0IHRvICd2YWx1ZTInXG4gICAqIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyByZXR1cm5lZFxuICAgKiBlbGVtLmRhdGEoKTsgICAgICAgICAgICAgICAgICAgIC8vIHsgc29tZUtleTE6ICd2YWx1ZTMnLCBzb21lS2V5MjogJ3ZhbHVlMicgfVxuICAgKi9cbiAgZGF0YShrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgeyBkYXRhc2V0IH0gPSB0aGlzWzBdIHx8IHt9O1xuXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBpZiAoIWRhdGFzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29sbGVjdEZyb21PYmplY3QoZGF0YXNldCwgYWRkRGF0YUF0dHIpO1xuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIGlzU3RyaW5nKGtleSkpIHtcbiAgICAgIGlmICghZGF0YXNldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhc2V0W2tleV07XG4gICAgfVxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xuICAgICAga2V5ID0geyBba2V5XTogdmFsdWUgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBpdGVyYXRlT2JqZWN0KGtleSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgZWxlbS5kYXRhc2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNkaXNwYXRjaFxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfEV2ZW50fSBldmVudCAtIEV2ZW50IG9yIGEgc3RyaW5nIChuZXcgRXZlbnQoZXZlbnQpIGlzIGNyZWF0ZWQpLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW2RldGFpbHMgPSB7fV0gLSBPYmplY3QgdGhhdCBpcyBhc3NpZ25lZCB0byB0aGUgZXZlbnQuXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0V2ZW50L0V2ZW50XG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxuICAgKiBbRXZlbnRUYXJnZXQjZGlzcGF0Y2hFdmVudF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2Rpc3BhdGNoRXZlbnR9LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtLmRpc3BhdGNoKCdjbGljaycpO1xuICAgKiBlbGVtLmRpc3BhdGNoKCdjbGljaycsIHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGxhYmxlOiBmYWxzZSwgZGF0YTogMSB9KTtcbiAgICogZWxlbS5kaXNwYXRjaChuZXcgQ3VzdG9tRXZlbnQoJ2N1c3RvbS1ldmVudCcpKTtcbiAgICovXG4gIGRpc3BhdGNoKGV2ZW50LCBkZXRhaWxzID0ge30pIHtcbiAgICBjb25zdCB7XG4gICAgICBidWJibGVzID0gdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGUgPSB0cnVlLFxuICAgICAgLi4ucmVhbERldGFpbHNcbiAgICB9ID0gZGV0YWlscyB8fCB7fTtcbiAgICBsZXQgZmluYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgaWYgKCFFVkVOVF9SRUdFWC50ZXN0KHRvU3RyaW5nVGFnKGZpbmFsRXZlbnQpKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluYWxFdmVudCA9IG5ldyBFdmVudChmaW5hbEV2ZW50LCB7IGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG4gICAgICAgIGFzc2lnbihmaW5hbEV2ZW50LCByZWFsRGV0YWlscyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgaWYgKCFFVkVOVF9SRUdFWC50ZXN0KHRvU3RyaW5nVGFnKGZpbmFsRXZlbnQpKSkge1xuICAgICAgICBjb25zdCBkb2N1bWVudCA9IGlzSFRNTERvY3VtZW50KGVsZW0pXG4gICAgICAgICAgPyBlbGVtXG4gICAgICAgICAgOiBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cbiAgICAgICAgZmluYWxFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICBmaW5hbEV2ZW50LmluaXRFdmVudChldmVudCwgYnViYmxlcywgY2FuY2VsYWJsZSk7XG5cbiAgICAgICAgYXNzaWduKGZpbmFsRXZlbnQsIHJlYWxEZXRhaWxzKTtcbiAgICAgIH1cblxuICAgICAgZWxlbS5kaXNwYXRjaEV2ZW50KGZpbmFsRXZlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNlbGVtXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleCA9IDBdIC0gSW5kZXggb2YgdGhlIGVsZW1lbnQgb2YgdGhlIHNldCB0byBnZXQuIE5lZ2F0aXZlIGluZGV4IG1lYW5zIGVsZW0ubGVuZ3RoICsgaW5kZXguXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5lbGVtKDEpOyAvLyBhIHdyYXAgb2YgdGhlIGVsZW1lbnQgaW4gdGhlIHNldCB0aGF0IGhhcyBpbmRleCAxXG4gICAqIGVsZW0uZWxlbSgpOyAgLy8gYSB3cmFwIG9mIHRoZSBlbGVtZW50IGluIHRoZSBzZXQgdGhhdCBoYXMgaW5kZXggMFxuICAgKi9cbiAgZWxlbShpbmRleCA9IDApIHtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICBpbmRleCA9IHRoaXMubGVuZ3RoICsgaW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXNbaW5kZXhdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jZmlsdGVyXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2ZpbHRlckZuID0gQm9vbGVhbl0gLSBGaWx0ZXIgZnVuY3Rpb25cbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaWx0ZXJpbmcgZWxlbWVudHMuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0uZmlsdGVyKChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5jbG9zZXN0KCcucGFyZW50JykpO1xuICAgKi9cbiAgZmlsdGVyKGZpbHRlckZuID0gQm9vbGVhbikge1xuICAgIHJldHVybiB0aGlzLmNvbGxlY3QoKGFkZCwgZWxlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChmaWx0ZXJGbihlbGVtLCBpbmRleCwgdGhpcykpIHtcbiAgICAgICAgYWRkKGVsZW0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNmaW5kXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gU2VsZWN0b3IgdG8gZmluZC5cbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcbiAgICogW0VsZW1lbnQjcXVlcnlTZWxlY3RvckFsbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0VsZW1lbnQvcXVlcnlTZWxlY3RvckFsbH0uXG4gICAqL1xuICBmaW5kKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdCgoYWRkLCBlbGVtKSA9PiB7XG4gICAgICBhZGQoZmluZChzZWxlY3RvciwgZWxlbSkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNmb3JFYWNoXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIHRoZSBzZXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGZpbmQoJy5jbHMnKS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCwgc2V0KSA9PiB7XG4gICAqICAgLy8gZG8gc29tZXRoaW5nXG4gICAqIH0pO1xuICAgKi9cbiAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgIGl0ZXJhdGVBcnJheSh0aGlzLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgY2FsbGJhY2sodmFsdWUsIGtleSwgdGhpcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jaGFzQXR0clxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIC0gTmFtZSBvZiB0aGUgYXR0cmlidXRlLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBoYXMgdGhlIGF0dHJpYnV0ZS5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCB0aGF0IHJldHVybnMgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBoYXMgdGhlIGF0dHJpYnV0ZSBvciBub3QuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0uYXR0cignYXR0cicsICd2YWx1ZScpLmhhc0F0dHIoJ2F0dHInKTsgLy8gdHJ1ZVxuICAgKiBlbGVtLnJlbW92ZUF0dHIoJ2F0dHInKS5oYXNBdHRyKCdhdHRyJyk7ICAgIC8vIGZhbHNlXG4gICAqL1xuICBoYXNBdHRyKGF0dHIpIHtcbiAgICBjb25zdCBlbGVtID0gdGhpc1swXTtcblxuICAgIGlmICghZWxlbSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IG5zID0gZ2V0QXR0ck5TKGF0dHIsIGVsZW0pO1xuXG4gICAgcmV0dXJuIG5zXG4gICAgICA/IGVsZW0uaGFzQXR0cmlidXRlTlMobnMsIGF0dHIpXG4gICAgICA6IGVsZW0uaGFzQXR0cmlidXRlKGF0dHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNoYXNDbGFzc1xuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbHMgLSBOYW1lIG9mIHRoZSBjbGFzcy5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaGFzIHRoZSBjbGFzcy5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCB0aGF0IHJldHVybnMgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBoYXMgdGhlIGNsYXNzIG9yIG5vdC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5hZGRDbGFzcygnY2xzJykuaGFzQ2xhc3MoJ2NscycpOyAgICAvLyB0cnVlXG4gICAqIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NscycpLmhhc0NsYXNzKCdjbHMnKTsgLy8gZmFsc2VcbiAgICovXG4gIGhhc0NsYXNzKGNscykge1xuICAgIGNvbnN0IGVsZW0gPSB0aGlzWzBdO1xuXG4gICAgcmV0dXJuIGVsZW1cbiAgICAgID8gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoY2xzKVxuICAgICAgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jaGlkZVxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXG4gICAqIEBkZXNjcmlwdGlvbiBIaWRlcyBhbGwgZWxlbWVudHMgaW4gdGhlIHNldC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5oaWRlKCk7XG4gICAqL1xuICBoaWRlKCkge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2goaGlkZSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI2h0bWxcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBbaHRtbF0gLSBIVE1MIHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCBIVE1MLlxuICAgKiBAcmV0dXJucyB7RWxlbXxTdHJpbmd9IElmIG5vIGFyZ3VtZW50cyBwYXNzZWQgSFRNTCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxuICAgKiBPdGhlcndpc2UgYWxsIGVsZW1lbnRzIEhUTUwgaW4gdGhlIHNldCBhcmUgc2V0IHRvIHRoZSBodG1sIGFyZ3VtZW50LlxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIEhUTUwuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0uaHRtbCgnPGRpdj4xPC9kaXY+Jyk7XG4gICAqIGVsZW0uaHRtbCgpOyAvLyAnPGRpdj4xPC9kaXY+J1xuICAgKi9cbiAgaHRtbChodG1sKSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBlbGVtID0gdGhpc1swXTtcblxuICAgICAgcmV0dXJuIGVsZW1cbiAgICAgICAgPyBlbGVtLmlubmVySFRNTFxuICAgICAgICA6ICcnO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9KTtcbiAgfVxuXG4gIGluY2x1ZGVzKGVsZW0pIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKGVsZW0pICE9PSAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jaW5zZXJ0QWZ0ZXJcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge0VsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gaW5zZXJ0IHRoaXMgZWxlbWVudCBhZnRlci5cbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIFB1dHMgdGhlIGVsZW1lbnRzIGZyb20gdGhlIHNldCBhZnRlciB0aGUgZWxlbWVudCBzcGVjaWZpZWQgYnkgdGhlIGFyZ3VtZW50LlxuICAgKiBUaGUgZWxlbWVudHMgcmVtYWluIGluIHRoZSBzYW1lIG9yZGVyLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtLmluc2VydEFmdGVyKGVsZW0yKTtcbiAgICogZWxlbS5pbnNlcnRBZnRlcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XG4gICAqIGVsZW0uaW5zZXJ0QWZ0ZXIoJyNpZCBkaXYuYzEnKTtcbiAgICovXG4gIGluc2VydEFmdGVyKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50ID0gdG9FbGVtKGVsZW1lbnQpLmVsZW0oMCk7XG5cbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcblxuICAgIGlmICghcGFyZW50Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZWxlbWVudCA9IGVsZW1lbnQubmV4dCgpWzBdO1xuICAgIHBhcmVudCA9IHBhcmVudFswXTtcblxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGlmIChlbGVtID09PSBlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtLCBlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jaW5zZXJ0QmVmb3JlXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGluc2VydCB0aGlzIGVsZW1lbnQgYmVmb3JlLlxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxuICAgKiBAZGVzY3JpcHRpb24gUHV0cyB0aGUgZWxlbWVudHMgZnJvbSB0aGUgc2V0IGJlZm9yZSB0aGUgZWxlbWVudCBzcGVjaWZpZWQgYnkgdGhlIGFyZ3VtZW50LlxuICAgKiBUaGUgZWxlbWVudHMgcmVtYWluIGluIHRoZSBzYW1lIG9yZGVyLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtLmluc2VydEJlZm9yZShlbGVtMik7XG4gICAqIGVsZW0uaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcbiAgICogZWxlbS5pbnNlcnRCZWZvcmUoJyNpZCBkaXYuYzEnKTtcbiAgICovXG4gIGluc2VydEJlZm9yZShlbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IHRvRWxlbShlbGVtZW50KS5lbGVtKDApO1xuXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XG5cbiAgICBpZiAoIXBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgIHBhcmVudCA9IHBhcmVudFswXTtcblxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI2ludG9cbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge0VsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gcHV0IHRoaXMgZWxlbWVudHMgaW50by5cbiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQgLSBJZiB0aGUgZWxlbWVudHMgc2hvdWxkIGJlIGluc2VydGVkIHRvIHRoZSBlbmQuIElmIGZhbHNlIHRoZXkgYXJlIGluc2VydGVkIHRvIHRoZSBzdGFydC5cbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBpcyBzaW1pbGFyIHRvXG4gICAqIFtOb2RlI2FwcGVuZENoaWxkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9hcHBlbmRDaGlsZH0uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0uaW50byhlbGVtMik7XG4gICAqIGVsZW0uaW50byhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XG4gICAqIGVsZW0uaW50bygnI2lkIGRpdi5jMScpO1xuICAgKi9cbiAgaW50byhlbGVtZW50LCBlbmQgPSB0cnVlKSB7XG4gICAgZWxlbWVudCA9IHRvRWxlbShlbGVtZW50KVswXTtcblxuICAgIGlmIChcbiAgICAgICFlbGVtZW50XG4gICAgICB8fCBpc0hUTUxEb2N1bWVudChlbGVtZW50KVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaWYgKCFlbmQgJiYgZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzW2ldLCBlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVsZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNpc1xuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXG4gICAqIFtFbGVtZW50I21hdGNoZXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FbGVtZW50L21hdGNoZXN9LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtLmFkZENsYXNzKCdjbHMnKTtcbiAgICogZWxlbS5pcygnLmNscycpOyAgICAgICAgIC8vIHRydWVcbiAgICpcbiAgICogZWxlbS5yZW1vdmVDbGFzcygnY2xzJyk7XG4gICAqIGVsZW0uaXMoJy5jbHMnKTsgICAgICAgICAvLyBmYWxzZVxuICAgKi9cbiAgaXMoc2VsZWN0b3IpIHtcbiAgICBpZiAoIXRoaXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbSA9IHRoaXNbMF07XG4gICAgY29uc3QgbWF0Y2hlcyA9IChcbiAgICAgIGVsZW0ubWF0Y2hlc1xuICAgICAgfHwgZWxlbS5tYXRjaGVzU2VsZWN0b3JcbiAgICAgIHx8IGVsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yXG4gICAgICB8fCBlbGVtLm1vek1hdGNoZXNTZWxlY3RvclxuICAgICAgfHwgZWxlbS5tc01hdGNoZXNTZWxlY3RvclxuICAgICAgfHwgZWxlbS5vTWF0Y2hlc1NlbGVjdG9yXG4gICAgKTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFNlbGVjdG9yICckeyBzZWxlY3RvciB9JyBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciAoRWxlbSNpcylgKTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jbmFtZVxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IG5vZGVOYW1lIChsb3dlcmNhc2VkKSBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0LlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIG5hbWUgb2YgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgZWxlbTEgPSBlbGVtLmNyZWF0ZSgnZGl2Jyk7XG4gICAqIGVsZW0xLm5hbWUoKSAvLyAnZGl2J1xuICAgKi9cbiAgbmFtZSgpIHtcbiAgICByZXR1cm4gZ2V0TmFtZSh0aGlzWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jbmV4dFxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBuZXh0IGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0ubmV4dCgpOyAvLyBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IGluIHRoZSBzZXRcbiAgICovXG4gIG5leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdChhZGROZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jb25cbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge0VsZW1FdmVudFN0cmluZ3xPYmplY3QuPEVsZW1FdmVudFN0cmluZ3xFbGVtTGlzdGVuZXI+fSBldmVudCAtIEVpdGhlciBhIHtAbGluayBFbGVtRXZlbnRTdHJpbmd9IHN0cmluZ1xuICAgKiBvciBhbiBvYmplY3Qgd2l0aCBldmVudCBrZXlzIChhIGtleSBpcyBhbHNvIEVsZW1FdmVudFN0cmluZykgYW5kIGxpc3RlbmVycyB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RWxlbUxpc3RlbmVyfSBbbGlzdGVuZXJdIC0gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nIGl0IG11c3QgYmUgYSBsaXN0ZW5lciBmdW5jdGlvbiBmb3JcbiAgICogc3BlY2lmaWVkIGV2ZW50KHMpLlxuICAgKiBAcmV0dXJucyB7RWxlbVJlbW92ZUxpc3RlbmVyc30gRnVuY3Rpb24gdGhhdCB0YWtlcyBvcHRpb25hbCBldmVudCBhcmd1bWVudC5cbiAgICogQGRlc2NyaXB0aW9uIEFkZHMgZXZlbnQgbGlzdGVuZXJzIGZvciBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0ub24oXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnLFxuICAgKiAgICdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgZGF0YWxpc3QsIGtleWdlbiwgb3V0cHV0JyxcbiAgICogICAoZSwgZWxlbSwgaW5kZXgpID0+IGNvbnNvbGUubG9nKGVsZW0udmFsdWUpXG4gICAqICk7XG4gICAqIGVsZW0ub24oXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnLFxuICAgKiAgIChlLCBlbGVtLCBpbmRleCkgPT4gY29uc29sZS5sb2coZWxlbS52YWx1ZSlcbiAgICogKTtcbiAgICogZWxlbS5vbihcbiAgICogICB7XG4gICAqICAgICAnY2hhbmdlLCBpbnB1dCc6IChlLCBlbGVtLCBpbmRleCkgPT4gY29uc29sZS5sb2coZWxlbS52YWx1ZSksXG4gICAqICAgICAnYmx1cic6ICgpID0+IGNvbnNvbGUubG9nKCdibHVyJylcbiAgICogICB9LFxuICAgKiAgICdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgZGF0YWxpc3QsIGtleWdlbiwgb3V0cHV0J1xuICAgKiApO1xuICAgKlxuICAgKiBjb25zdCByZW1vdmVMaXN0ZW5lcnMgPSBlbGVtLm9uKHtcbiAgICogICAnY2hhbmdlLCBpbnB1dCc6IChlLCBlbGVtLCBpbmRleCkgPT4gY29uc29sZS5sb2coZWxlbS52YWx1ZSksXG4gICAqICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXG4gICAqIH0pO1xuICAgKlxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2NsaWNrJyk7XG4gICAqIHJlbW92ZUxpc3RlbmVycygnYmx1ciwgY2hhbmdlJyk7XG4gICAqIHJlbW92ZUxpc3RlbmVycygnYmx1ciwgY2hhbmdlJywgJ2lucHV0Jyk7XG4gICAqIHJlbW92ZUxpc3RlbmVycygpO1xuICAgKi9cbiAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGlzU3RyaW5nKGV2ZW50KSkge1xuICAgICAgZXZlbnQgPSB7IFtldmVudF06IGxpc3RlbmVyIH07XG4gICAgfVxuXG4gICAgY29uc3QgbmV3RXZlbnRzID0ge307XG4gICAgY29uc3QgYWxsTGlzdGVuZXJzID0ge307XG5cbiAgICBpdGVyYXRlT2JqZWN0KGV2ZW50LCAobGlzdGVuZXIsIGV2ZW50KSA9PiB7XG4gICAgICBpdGVyYXRlQXJyYXkoZXZlbnQuc3BsaXQoRVZFTlRfU0VQQVJBVE9SX1JFR0VYKSwgKGV2ZW50KSA9PiB7XG4gICAgICAgIChuZXdFdmVudHNbZXZlbnRdID0gbmV3RXZlbnRzW2V2ZW50XSB8fCBbXSkucHVzaChsaXN0ZW5lcik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgaXRlcmF0ZU9iamVjdChuZXdFdmVudHMsIChsaXN0ZW5lcnMsIGV2ZW50KSA9PiB7XG4gICAgICAgIGl0ZXJhdGVBcnJheShsaXN0ZW5lcnMsIChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAoYWxsTGlzdGVuZXJzW2V2ZW50XSA9IGFsbExpc3RlbmVyc1tldmVudF0gfHwgW10pLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVBcnJheShhcmd1bWVudHMsIChldmVudCkgPT4ge1xuICAgICAgICAgIGl0ZXJhdGVBcnJheShldmVudC5zcGxpdChFVkVOVF9TRVBBUkFUT1JfUkVHRVgpLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUxpc3RlbmVycyA9IGFsbExpc3RlbmVyc1tldmVudF07XG5cbiAgICAgICAgICAgIGlmIChyZW1vdmVMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgaXRlcmF0ZUFycmF5KHJlbW92ZUxpc3RlbmVycywgKHJlbW92ZUxpc3RlbmVyKSA9PiByZW1vdmVMaXN0ZW5lcigpKTtcblxuICAgICAgICAgICAgICBkZWxldGUgYWxsTGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlT2JqZWN0KGFsbExpc3RlbmVycywgKHJlbW92ZUxpc3RlbmVycywgZXZlbnQpID0+IHtcbiAgICAgICAgICBpdGVyYXRlQXJyYXkocmVtb3ZlTGlzdGVuZXJzLCAocmVtb3ZlTGlzdGVuZXIpID0+IHJlbW92ZUxpc3RlbmVyKCkpO1xuXG4gICAgICAgICAgZGVsZXRlIGFsbExpc3RlbmVyc1tldmVudF07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI3BhcmVudFxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCByZXR1cm5zIHdyYXAgb2YgdGhlIHNldCBvZiB0aGUgcGFyZW50IGVsZW1lbnRzIG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxuICAgKi9cbiAgcGFyZW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvbGxlY3QoYWRkUGFyZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jcHJldlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBlbGVtLnByZXYoKTsgLy8gZmluZHMgcHJldmlvdXMgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxuICAgKi9cbiAgcHJldigpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xsZWN0KGFkZFByZXYpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNwcm9wXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIGFzc2lnbmVkIG9iamVjdC5cbiAgICogQHBhcmFtIHsqfSBbdmFsdWVdIC0gSWYgYSBwcm9wZXJ0eSBwYXJhbWV0ZXIgaXMgYSBzdHJpbmdcbiAgICogdGhpcyBoYXMgdG8gYmUgYW4gYXNzaWduZWQgdmFsdWUgaWYgaXQncyBwcmVzZW50LlxuICAgKiBAcmV0dXJucyB7RWxlbXwqfSBSZXR1cm5zIHRoaXMgaWYgaXQncyBzZXR0ZXIgb3IgYSB2YWx1ZSBpZiBnZXR0ZXIuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgdGhhdCBpcyBlaXRoZXIgYSBwcm9wZXJ0eSBnZXR0ZXIgZm9yIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcbiAgICogb3IgYSBzZXR0ZXIgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIHNldC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnLCBmYWxzZSk7XG4gICAqIGVsZW0ucHJvcCgnZHJhZ2dhYmxlJyk7IC8vIGZhbHNlXG4gICAqL1xuICBwcm9wKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEgJiYgaXNTdHJpbmcocHJvcGVydHkpKSB7XG4gICAgICByZXR1cm4gdGhpc1swXSA/IHRoaXNbMF1bcHJvcGVydHldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGl0ZXJhdGVPYmplY3QocHJvcGVydHksICh2YWx1ZSwgcHJvcCkgPT4ge1xuICAgICAgICBlbGVtW3Byb3BdID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgZnJvbSB0aGUgZG9jdW1lbnQuXG4gICAqIE5vdGU6IGl0IGRvZXNuJ3QgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgc2V0IHNvIHdhdGNoIG91dCBmb3IgdGhlIG1lbW9yeSBsZWFrcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5yZW1vdmUoKTtcbiAgICovXG4gIHJlbW92ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKHJlbW92ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI3JlbW92ZUF0dHJcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXR0cmlidXRlcyAtIEF0dHJpYnV0ZXMgdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBhbGwgdGhlIGF0dHJpYnV0ZXMgZnJvbSBhcmd1bWVudHMgZnJvbSBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0ucmVtb3ZlQXR0cignZm9vJywgJ2JhcicsICdiYXonKTtcbiAgICovXG4gIHJlbW92ZUF0dHIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgaXRlcmF0ZUFycmF5KGFyZ3VtZW50cywgKGF0dHIpID0+IHtcbiAgICAgICAgY29uc3QgbnMgPSBnZXRBdHRyTlMoYXR0ciwgZWxlbSk7XG5cbiAgICAgICAgaWYgKG5zKSB7XG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGVOUyhucywgYXR0cik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNyZW1vdmVDbGFzc1xuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBjbGFzc2VzIC0gQ2xhc3NlcyB0byByZW1vdmUuXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXG4gICAqIEBkZXNjcmlwdGlvbiBSZW1vdmVzIGFsbCB0aGUgY2xhc3NlcyBmcm9tIGFyZ3VtZW50cyBmcm9tIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5yZW1vdmVDbGFzcygnZm9vJywgJ2JhcicsICdiYXonKTtcbiAgICovXG4gIHJlbW92ZUNsYXNzKCkge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGNvbnN0IGxpc3QgPSBlbGVtLmNsYXNzTGlzdDtcblxuICAgICAgaXRlcmF0ZUFycmF5KGFyZ3VtZW50cywgKGNscykgPT4gbGlzdC5yZW1vdmUoY2xzKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI3JlbW92ZUNTU1xuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBwcm9wcyAtIENTUyBwcm9wZXJ0aWVzIHRvIHJlbW92ZS5cbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBDU1MgcHJvcGVydGllcyBmcm9tIGFyZ3VtZW50cyBmcm9tIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS5yZW1vdmVDU1MoJ2Rpc3BsYXknLCAncG9zaXRpb24nLCAnbWFyZ2luJyk7XG4gICAqL1xuICByZW1vdmVDU1MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgaXRlcmF0ZUFycmF5KGFyZ3VtZW50cywgKGNzcykgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KHRvSHlwaGVuQ2FzZShjc3MpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNyZXBsYWNlXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIHJlcGxhY2UgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldFxuICAgKiB3aXRoIGEgc2V0IG9mIGVsZW1lbnRzIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQgKEVsZW1lbnQgb3IgRWxlbSkuXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgaXMgc2ltaWxhciB0b1xuICAgKiBbTm9kZSNyZXBsYWNlQ2hpbGRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9Ob2RlL3JlcGxhY2VDaGlsZH0uXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0ucmVwbGFjZShlbGVtMik7XG4gICAqIGVsZW0ucmVwbGFjZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XG4gICAqIGVsZW0ucmVwbGFjZSgnI2lkIGRpdi5jMScpO1xuICAgKi9cbiAgcmVwbGFjZShlbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IHRvRWxlbShlbGVtZW50KTtcblxuICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5lbGVtKDApO1xuICAgIGNvbnN0IHBhcmVudCA9IGZpcnN0LnBhcmVudCgpO1xuXG4gICAgaWYgKCFwYXJlbnQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsZXQgZWxlbSA9IHBhcmVudDtcbiAgICBsZXQgbWV0aG9kID0gJ2ludG8nO1xuICAgIGNvbnN0IG5leHQgPSBmaXJzdC5uZXh0KClbMF07XG4gICAgY29uc3QgcHJldiA9IGZpcnN0LnByZXYoKVswXTtcblxuICAgIGlmIChuZXh0KSB7XG4gICAgICBlbGVtID0gbmV4dDtcbiAgICAgIG1ldGhvZCA9ICdpbnNlcnRCZWZvcmUnO1xuICAgIH0gZWxzZSBpZiAocHJldikge1xuICAgICAgZWxlbSA9IHByZXY7XG4gICAgICBtZXRob2QgPSAnaW5zZXJ0QWZ0ZXInO1xuICAgIH1cblxuICAgIGZpcnN0LnJlbW92ZSgpO1xuXG4gICAgZWxlbWVudFttZXRob2RdKGVsZW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSNzaG93XG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIFNob3dzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2V0LlxuICAgKiBJZiBhbiBlbGVtZW50IHdhcyBoaWRkZW4gdXNpbmcge0BsaW5rIEVsZW0jaGlkZX0gcHJldmlvdXMgZGlzcGxheSBpcyBzZXQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0uc2hvdygpO1xuICAgKi9cbiAgc2hvdygpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKHNob3cpO1xuICB9XG5cbiAgc2xpY2UoKSB7XG4gICAgcmV0dXJuIG5ldyBFbGVtKHN1cGVyLnNsaWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgRWxlbSN0ZXh0XG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd8Kn0gW3RleHRdIC0gVGV4dCB0byB3cml0ZSBpbnN0ZWFkIG9mIGN1cnJlbnQgdGV4dC5cbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkIHRleHQgb2YgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCByZXR1cm5lZC5cbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyB0ZXh0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIHRleHQgYXJndW1lbnQuXG4gICAqIEBkZXNjcmlwdGlvbiBHZXRzIG9yIHNldHMgdGV4dC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS50ZXh0KCcxMjMnKTtcbiAgICogZWxlbS50ZXh0KCk7IC8vICcxMjMnXG4gICAqL1xuICB0ZXh0KHRleHQpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3AoJ3RleHRDb250ZW50Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBFbGVtI3RvZ2dsZUF0dHJcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIEF0dHJpYnV0ZSB0byB0b2dnbGUuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHByZXNlbnQgYW5kIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5IG1ldGhvZCBhZGRzIHRoZSBhdHRyaWJ1dGVcbiAgICogd2l0aCB0aGUgJycgdmFsdWUgYW5kIGlmIGZhbHNleSBtZXRob2QgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLiBJZiBub3QgcHJlc2VudCBtZXRob2QgYWRkc1xuICAgKiB0aGUgYXR0cmlidXRlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYW5kIHJlbW92ZXMgaWYgaXQgZG9lcy5cbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgdG9nZ2xpbmcgYXR0cmlidXRlcy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogZWxlbS50b2dnbGVBdHRyKCdhdHRyJyk7XG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicsIHNvbWVDb25kaXRpb24pO1xuICAgKi9cbiAgdG9nZ2xlQXR0cihhdHRyLCBjb25kaXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBlbGVtID0gbmV3IEVsZW0oZWxlbSk7XG5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICFlbGVtLmhhc0F0dHIoYXR0cikgOiBjb25kaXRpb24pIHtcbiAgICAgICAgZWxlbS5hdHRyKGF0dHIsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQ2xhc3NcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gdG9nZ2xlLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2NvbmRpdGlvbl0gLSBJZiBwcmVzZW50IGFuZCB0aGUgY29uZGl0aW9uIGlzIHRydXRoeSBtZXRob2QgYWRkcyB0aGUgY2xhc3NcbiAgICogYW5kIGlmIGZhbHNleSBtZXRob2QgcmVtb3ZlcyB0aGUgY2xhc3MuIElmIG5vdCBwcmVzZW50IG1ldGhvZCBhZGRzXG4gICAqIHRoZSBjbGFzcyBpZiBpdCBkb2Vzbid0IGV4aXN0IGFuZCByZW1vdmVzIGlmIGl0IGRvZXMuXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHRvZ2dsaW5nIGNsYXNzZXMuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVsZW0udG9nZ2xlQ2xhc3MoJ2NscycpO1xuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnLCBzb21lQ29uZGl0aW9uKTtcbiAgICovXG4gIHRvZ2dsZUNsYXNzKGNscywgY29uZGl0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgY29uc3QgeyBjbGFzc0xpc3QgfSA9IGVsZW07XG5cbiAgICAgIGNsYXNzTGlzdC50b2dnbGUoY2xzLCBhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICFjbGFzc0xpc3QuY29udGFpbnMoY2xzKSA6IGNvbmRpdGlvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuc2V0VG9TdHJpbmdUYWcoRWxlbSwgJ0VsZW0nKTtcblxuaWYgKFN5bWJvbCAmJiBTeW1ib2wuc3BlY2llcykge1xuICBkZWZpbmVQcm9wZXJ0aWVzKEVsZW0sIHtcbiAgICBbU3ltYm9sLnNwZWNpZXNdOiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBBcnJheTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEBjb25zdCB7RWxlbX0gZG9jXG4gKiBAdHlwZSB7RWxlbX1cbiAqIEBwdWJsaWNcbiAqIEBkZXNjcmlwdGlvbiBFbGVtIGluc3RhbmNlIG9mIGRvY3VtZW50LlxuICovXG5jb25zdCBkb2MgPSBuZXcgRWxlbShkb2N1bWVudCk7XG5cbi8qKlxuICogQGNvbnN0IHtFbGVtfSBodG1sXG4gKiBAdHlwZSB7RWxlbX1cbiAqIEBwdWJsaWNcbiAqIEBkZXNjcmlwdGlvbiBFbGVtIGluc3RhbmNlIG9mIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5cbiAqL1xuY29uc3QgaHRtbCA9IG5ldyBFbGVtKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG5cbi8qKlxuICogQGNvbnN0IHtFbGVtfSBib2R5XG4gKiBAdHlwZSB7RWxlbX1cbiAqIEBwdWJsaWNcbiAqIEBkZXNjcmlwdGlvbiBFbGVtIGluc3RhbmNlIG9mIGRvY3VtZW50LmJvZHkuXG4gKi9cbmNvbnN0IGJvZHkgPSBuZXcgRWxlbShkb2N1bWVudC5ib2R5KTtcblxuLyoqXG4gKiBAY29uc3Qge0VsZW19IGhlYWRcbiAqIEB0eXBlIHtFbGVtfVxuICogQHB1YmxpY1xuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuaGVhZC5cbiAqL1xuY29uc3QgaGVhZCA9IG5ldyBFbGVtKGRvY3VtZW50LmhlYWQpO1xuXG4vKipcbiAqIEBmdW5jdGlvbiB0b0VsZW1cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbX0gZWxlbSAtIEVsZW1lbnQgb3IgRWxlbS5cbiAqIEByZXR1cm5zIHtFbGVtfSBJbnN0YW5jZSBvZiBFbGVtLlxuICovXG5mdW5jdGlvbiB0b0VsZW0oZWxlbSkge1xuICByZXR1cm4gaXNFbGVtKGVsZW0pXG4gICAgPyBlbGVtXG4gICAgOiBuZXcgRWxlbShlbGVtKTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb24gaXNFbGVtXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgRWxlbS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgdmFsdWUgaXMgRWxlbS5cbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBFbGVtIG9yIG5vdC5cbiAqL1xuZnVuY3Rpb24gaXNFbGVtKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW07XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uIGlzSFRNTERvY3VtZW50XG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgSFRNTERvY3VtZW50LlxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgdmFsdWUgaXMgSFRNTERvY3VtZW50IG9yIG5vdC5cbiAqL1xuZnVuY3Rpb24gaXNIVE1MRG9jdW1lbnQodmFsdWUpIHtcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0hUTUxEb2N1bWVudCc7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uIGlzRWxlbWVudHNDb2xsZWN0aW9uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgQ29tbWVudCBvciBUZXh0LlxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgdmFsdWUgaXMgQ29tbWVudCBvciBUZXh0IG9yIG5vdC5cbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50c0NvbGxlY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIChcbiAgICBIVE1MX0NPTExFQ1RJT05fUkVHRVgudGVzdCh0b1N0cmluZ1RhZyh2YWx1ZSkpXG4gICAgfHwgaXNFbGVtKHZhbHVlKVxuICAgIHx8IGlzQXJyYXkodmFsdWUpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWROb2RlKHZhbHVlKSB7XG4gIGNvbnN0IHRhZyA9IHRvU3RyaW5nVGFnKHZhbHVlKTtcblxuICByZXR1cm4gKFxuICAgIEVMRU1FTlRfUkVHRVgudGVzdCh0YWcpXG4gICAgfHwgdGFnID09PSAnSFRNTERvY3VtZW50J1xuICAgIHx8IHRhZyA9PT0gJ1RleHQnXG4gICAgfHwgdGFnID09PSAnRG9jdW1lbnRGcmFnbWVudCdcbiAgICB8fCB0YWcgPT09ICdDb21tZW50J1xuICApO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvbiBnZXROYW1lXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtFbGVtZW50fSBbZWxlbV0gLSBFbGVtZW50IHdoaWNoIG5hbWUgaXMgbmVlZGVkIHRvIGtub3cuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBFbGVtZW50IG5hbWUuXG4gKi9cbmZ1bmN0aW9uIGdldE5hbWUoZWxlbSkge1xuICByZXR1cm4gKGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHx8ICcnO1xufVxuXG5mdW5jdGlvbiBnZXRBdHRyTlMoYXR0ciwgZWxlbSkge1xuICBpZiAoYXR0ciA9PT0gJ3htbG5zJyB8fCBhdHRyID09PSAneG1sbnM6eGxpbmsnKSB7XG4gICAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgPT09ICdTVkcnXG4gICAgICA/IFhNTF9OU1xuICAgICAgOiBudWxsO1xuICB9XG5cbiAgaWYgKFhfTElOS19BVFRSX1JFR0VYLnRlc3QoYXR0cikpIHtcbiAgICByZXR1cm4gbmV3IEVsZW0oZWxlbSkuY2xvc2VzdCgnc3ZnJykubGVuZ3RoXG4gICAgICA/IFhfTElOS19OU1xuICAgICAgOiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhpZGVTdHlsZU5vZGUoaGVhZCkge1xuICBjb25zdCBzdHlsZSA9IGhlYWQuZmluZChgc3R5bGUjJHsgSElERV9DTEFTUyB9YCk7XG5cbiAgaWYgKHN0eWxlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhlYWRcbiAgICAuY3JlYXRlKCdzdHlsZScpXG4gICAgLnByb3AoJ2lkJywgSElERV9DTEFTUylcbiAgICAudGV4dChgLiR7IEhJREVfQ0xBU1MgfXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9YCk7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHIoYXR0cnMsIGF0dHIpIHtcbiAgYXR0cnNbYXR0ci5uYW1lXSA9IGF0dHIudmFsdWU7XG59XG5cbmZ1bmN0aW9uIGFkZENTU1Byb3AoY3NzLCB2YWx1ZSkge1xuICBpZiAodmFsdWUpIHtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KENTU19QUk9QX1ZBTFVFX1NFUEFSQVRPUl9SRUdFWCk7XG5cbiAgICBjc3NbdG9DYW1lbENhc2UocHJvcGVydHlbMF0pXSA9IHByb3BlcnR5WzFdO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZERhdGFBdHRyKGRhdGEsIHZhbHVlLCBrZXkpIHtcbiAgZGF0YVtrZXldID0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGhpZGUoZWxlbSkge1xuICBjcmVhdGVIaWRlU3R5bGVOb2RlKG5ldyBFbGVtKGVsZW0ub3duZXJEb2N1bWVudC5oZWFkKSk7XG4gIG5ldyBFbGVtKGVsZW0pLmFkZENsYXNzKEhJREVfQ0xBU1MpO1xufVxuXG5mdW5jdGlvbiBhZGROZXh0KGFkZCwgZWxlbSkge1xuICBhZGQoZWxlbS5uZXh0U2libGluZyk7XG59XG5cbmZ1bmN0aW9uIGFkZFBhcmVudChhZGQsIGVsZW0pIHtcbiAgYWRkKGVsZW0ucGFyZW50Tm9kZSk7XG59XG5cbmZ1bmN0aW9uIGFkZFByZXYoYWRkLCBlbGVtKSB7XG4gIGFkZChlbGVtLnByZXZpb3VzU2libGluZyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShlbGVtKSB7XG4gIGNvbnN0IHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3coZWxlbSkge1xuICBuZXcgRWxlbShlbGVtKS5yZW1vdmVDbGFzcyhISURFX0NMQVNTKTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb24gZmluZFxuICogQHB1YmxpY1xuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gU2VsZWN0b3IgdG8gZmluZC5cbiAqIEBwYXJhbSB7RWxlbWVudH0gW2Jhc2UgPSBkb2N1bWVudF0gLSBCYXNlIHRvIGZpbmQgaW4uXG4gKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXG4gKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcbiAqIFtEb2N1bWVudCNxdWVyeVNlbGVjdG9yQWxsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvcXVlcnlTZWxlY3RvckFsbH0uXG4gKi9cbmZ1bmN0aW9uIGZpbmQoc2VsZWN0b3IsIGJhc2UgPSBkb2N1bWVudCkge1xuICByZXR1cm4gbmV3IEVsZW0oYmFzZS5xdWVyeVNlbGVjdG9yQWxsKFN0cmluZyhzZWxlY3RvcikpKTtcbn1cblxuY3JlYXRlSGlkZVN0eWxlTm9kZShoZWFkKTtcblxuZXhwb3J0IHsgRWxlbSwgZG9jLCBodG1sLCBib2R5LCBoZWFkLCBmaW5kIH07XG4iLCJpbXBvcnQgeyBmaW5kSW5BcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREJsb2NrKEJsb2NrKSB7XG4gIGNsYXNzIERCbG9jayBleHRlbmRzIEJsb2NrIHtcbiAgICBzdGF0aWMgdGVtcGxhdGUgPSBodG1sYFxuICAgICAgPGQtZWxlbWVudHNcbiAgICAgICAgdmFsdWU9XCJ7ZWxlbXN9XCJcbiAgICAgICAgcGFyZW50U2NvcGU9XCJ7UGFyZW50U2NvcGV9XCJcbiAgICAgICAgcGFyZW50VGVtcGxhdGU9XCJ7UGFyZW50VGVtcGxhdGV9XCJcbiAgICAgIC8+XG4gICAgYDtcblxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBwYXJlbnRTY29wZToge1xuICAgICAgICAgICQkOiB7XG4gICAgICAgICAgICBwYXJlbnRTY29wZTogcGFyZW50UGFyZW50U2NvcGUsXG4gICAgICAgICAgICBwYXJlbnRUZW1wbGF0ZTogcGFyZW50UGFyZW50VGVtcGxhdGUsXG4gICAgICAgICAgICBhcmdzQ2hpbGRyZW46IGNoaWxkcmVuXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhcmdzQ2hpbGRyZW46IG93bkNoaWxkcmVuLFxuICAgICAgICBwYXJlbnRUZW1wbGF0ZSxcbiAgICAgICAgZEJsb2NrTmFtZVxuICAgICAgfSA9IHRoaXMuJCQ7XG4gICAgICBsZXQgZm91bmQ7XG5cbiAgICAgIGlmIChvd25DaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLlBhcmVudFNjb3BlID0gcGFyZW50UGFyZW50U2NvcGU7XG4gICAgICB0aGlzLlBhcmVudFRlbXBsYXRlID0gcGFyZW50UGFyZW50VGVtcGxhdGU7XG5cbiAgICAgIGlmIChkQmxvY2tOYW1lKSB7XG4gICAgICAgIGZvdW5kID0gZmluZEluQXJyYXkoY2hpbGRyZW4sICh7IG5hbWU6IG5vZGVOYW1lIH0pID0+IG5vZGVOYW1lID09PSBgZC1ibG9jazokeyBkQmxvY2tOYW1lIH1gKTtcblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXM7XG5cbiAgICAgICAgICAvKiBlc2xpbnQgbm8tZW1wdHk6IDAgKi9cbiAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAocGFyZW50ID0gcGFyZW50LiQkLnBhcmVudFNjb3BlKVxuICAgICAgICAgICAgJiYgIShmb3VuZCA9IGZpbmRJbkFycmF5KHBhcmVudC4kJC5kQmxvY2tzLCAoeyAkJDogeyBkQmxvY2tOYW1lOiBEQmxvY2tOYW1lIH0gfSkgPT4gREJsb2NrTmFtZSA9PT0gZEJsb2NrTmFtZSkpXG4gICAgICAgICAgICAmJiBwYXJlbnQuJCQucGFyZW50U2NvcGUuJCQubmFtZSA9PT0gJyNkLWl0ZW0nXG4gICAgICAgICAgKSB7fVxuXG4gICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLlBhcmVudFNjb3BlID0gcGFyZW50O1xuICAgICAgICAgICAgdGhpcy5QYXJlbnRUZW1wbGF0ZSA9IHBhcmVudFRlbXBsYXRlO1xuICAgICAgICAgICAgZm91bmQudmFsdWUgPSB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBmb3VuZC52YWx1ZS4kJC5hcmdzQ2hpbGRyZW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kICYmIGZvdW5kLnZhbHVlLmNoaWxkcmVuLmxlbmd0aFxuICAgICAgICAgID8gZm91bmQudmFsdWUuY2hpbGRyZW5cbiAgICAgICAgICA6IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1ibG9jaycsXG4gICAgdmFsdWU6IERCbG9ja1xuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgYXNzaWduLCBpdGVyYXRlQXJyYXksIGl0ZXJhdGVPYmplY3QsXG4gIGlzQXJyYXksIGlzRnVuY3Rpb25cbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5jb25zdCB3YXRjaEFyZ3MgPSBqc2BbXG4gIGFyZ3Muc2V0LFxuICBhcmdzLmZpbHRlckJ5LFxuICBhcmdzLnNvcnRCeVxuXWA7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFYWNoKEJsb2NrLCBjcmVhdGVCbG9jaykge1xuICBjbGFzcyBERWFjaCBleHRlbmRzIEJsb2NrIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICBzdXBlcihvcHRzKTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgaXRlbTogaXRlbU5hbWUgPSAnJGl0ZW0nLFxuICAgICAgICAgIGluZGV4OiBpbmRleE5hbWUgPSAnJGluZGV4J1xuICAgICAgICB9XG4gICAgICB9ID0gdGhpcztcblxuICAgICAgYXNzaWduKHRoaXMuJCQsIHtcbiAgICAgICAgaXRlbXNCeVVJRHM6IHt9LFxuICAgICAgICBVSUQ6IHRoaXMuYXJncy51aWQgfHwgdW5kZWZpbmVkLFxuICAgICAgICBpdGVtTmFtZSxcbiAgICAgICAgaW5kZXhOYW1lXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhZnRlclJlbmRlcigpIHtcbiAgICAgIHRoaXMuZXZhbHVhdGVBbmRXYXRjaCh3YXRjaEFyZ3MsIHRoaXMucmVuZGVyU2V0KTtcbiAgICAgIHRoaXMucmVuZGVyU2V0KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyU2V0ID0gKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBhcmdzQ2hpbGRyZW4sXG4gICAgICAgIGl0ZW1zQnlVSURzLFxuICAgICAgICBwYXJlbnRTY29wZSxcbiAgICAgICAgcGFyZW50RWxlbSxcbiAgICAgICAgcGFyZW50VGVtcGxhdGUsXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBpdGVtTmFtZSxcbiAgICAgICAgaW5kZXhOYW1lLFxuICAgICAgICBVSURcbiAgICAgIH0gPSB0aGlzLiQkO1xuICAgICAgY29uc3Qge1xuICAgICAgICBhcmdzOiB7IHNvcnRCeSB9XG4gICAgICB9ID0gdGhpcztcbiAgICAgIGNvbnN0IG5ld0l0ZW1zQnlVSURzID0ge307XG4gICAgICBjb25zdCBuZXdVSURzQ291bnRlciA9IHt9O1xuICAgICAgY29uc3QgbmV3VUlEcyA9IHt9O1xuICAgICAgbGV0IHtcbiAgICAgICAgc2V0LFxuICAgICAgICBmaWx0ZXJCeVxuICAgICAgfSA9IHRoaXMuYXJncztcbiAgICAgIGNvbnN0IGlzQXJyID0gaXNBcnJheShzZXQpO1xuICAgICAgY29uc3QgaXRlcmF0ZSA9IGlzQXJyXG4gICAgICAgID8gaXRlcmF0ZUFycmF5XG4gICAgICAgIDogaXRlcmF0ZU9iamVjdDtcblxuICAgICAgaWYgKGlzQXJyICYmIGlzRnVuY3Rpb24oc29ydEJ5KSkge1xuICAgICAgICBzZXQgPSBzZXRcbiAgICAgICAgICAuc2xpY2UoKVxuICAgICAgICAgIC5zb3J0KHNvcnRCeSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKGZpbHRlckJ5KSkge1xuICAgICAgICBmaWx0ZXJCeSA9IFtmaWx0ZXJCeV07XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5KGZpbHRlckJ5KSkge1xuICAgICAgICBpdGVyYXRlQXJyYXkoZmlsdGVyQnksIChmaWx0ZXIpID0+IHtcbiAgICAgICAgICBzZXQgPSBzZXQuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRlKHNldCwgKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIHNjb3BlW2l0ZW1OYW1lXSA9IGl0ZW07XG4gICAgICAgIHNjb3BlW2luZGV4TmFtZV0gPSBpbmRleDtcblxuICAgICAgICBjb25zdCB1aWQgPSBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZShVSUQsIG51bGwsIG51bGwsIGZhbHNlLCBmYWxzZSwgdGhpcyk7XG5cbiAgICAgICAgbmV3VUlEc0NvdW50ZXJbdWlkXSA9IChuZXdVSURzQ291bnRlclt1aWRdIHx8IDApICsgMTtcbiAgICAgICAgbmV3VUlEc1tpbmRleF0gPSB1aWQ7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGVbaXRlbU5hbWVdID0gbnVsbDtcbiAgICAgIHNjb3BlW2luZGV4TmFtZV0gPSBudWxsO1xuXG4gICAgICBpdGVyYXRlT2JqZWN0KGl0ZW1zQnlVSURzLCAoaXRlbXMsIHVpZCkgPT4ge1xuICAgICAgICBpZiAoIW5ld1VJRHNDb3VudGVyW3VpZF0pIHtcbiAgICAgICAgICBpdGVyYXRlQXJyYXkoaXRlbXMsIHJlbW92ZSk7XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpdGVyYXRlQXJyYXkoaXRlbXMuc3BsaWNlKG5ld1VJRHNDb3VudGVyW3VpZF0pLCByZW1vdmUpO1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBwcmV2QmxvY2s7XG5cbiAgICAgIGl0ZXJhdGUoc2V0LCAoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdWlkID0gbmV3VUlEc1tpbmRleF07XG4gICAgICAgIGxldCBibG9jaztcblxuICAgICAgICBpZiAoaXRlbXNCeVVJRHNbdWlkXSAmJiBpdGVtc0J5VUlEc1t1aWRdLmxlbmd0aCkge1xuICAgICAgICAgIGJsb2NrID0gaXRlbXNCeVVJRHNbdWlkXS5zaGlmdCgpO1xuICAgICAgICAgIGJsb2NrLiQkLnNjb3BlW2luZGV4TmFtZV0gPSBpbmRleDtcbiAgICAgICAgICBibG9jay4kJC5zY29wZVtpdGVtTmFtZV0gPSBpdGVtO1xuXG4gICAgICAgICAgaWYgKGJsb2NrLiQkLnByZXZCbG9jayAhPT0gcHJldkJsb2NrICYmIHByZXZCbG9jaykge1xuICAgICAgICAgICAgcHJldkJsb2NrLiQkLmluc2VydEFmdGVySXQoYmxvY2suJCQuY29udGVudCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsb2NrID0gY3JlYXRlQmxvY2soe1xuICAgICAgICAgICAgbm9kZToge1xuICAgICAgICAgICAgICBpdGVtTmFtZSxcbiAgICAgICAgICAgICAgaW5kZXhOYW1lLFxuICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgbmFtZTogJyNkLWl0ZW0nLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogYXJnc0NoaWxkcmVuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICAgICAgcGFyZW50RWxlbSxcbiAgICAgICAgICAgIHBhcmVudEJsb2NrOiB0aGlzLFxuICAgICAgICAgICAgcGFyZW50U2NvcGUsXG4gICAgICAgICAgICBwYXJlbnRUZW1wbGF0ZSxcbiAgICAgICAgICAgIHByZXZCbG9ja1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgKG5ld0l0ZW1zQnlVSURzW3VpZF0gPSBuZXdJdGVtc0J5VUlEc1t1aWRdIHx8IFtdKS5wdXNoKGJsb2NrKTtcbiAgICAgICAgYmxvY2suJCQucHJldkJsb2NrID0gcHJldkJsb2NrO1xuICAgICAgICBwcmV2QmxvY2sgPSBibG9jaztcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLiQkLml0ZW1zQnlVSURzID0gbmV3SXRlbXNCeVVJRHM7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2QtZWFjaCcsXG4gICAgdmFsdWU6IERFYWNoXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShpdGVtKSB7XG4gIGl0ZW0uJCQucmVtb3ZlKCk7XG59XG4iLCJpbXBvcnQgeyBFbGVtIH0gZnJvbSAnLi4vRWxlbSc7XG5pbXBvcnQgeyBpdGVyYXRlQXJyYXksIHJlbW92ZUFycmF5RWxlbSB9IGZyb20gJy4uL3V0aWxzJztcblxuY29uc3Qgd2F0Y2hBcmdzID0ganNgYXJncy52YWx1ZWA7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFbGVtZW50cyhCbG9jaywgY3JlYXRlQmxvY2spIHtcbiAgY2xhc3MgREVsZW1lbnRzIGV4dGVuZHMgQmxvY2sge1xuICAgIGFmdGVyQ29uc3RydWN0KCkge1xuICAgICAgY29uc3QgeyBwYXJlbnRFbGVtIH0gPSB0aGlzLiQkO1xuICAgICAgY29uc3Qge1xuICAgICAgICBwYXJlbnRTY29wZSxcbiAgICAgICAgcGFyZW50VGVtcGxhdGVcbiAgICAgIH0gPSB0aGlzLmFyZ3M7XG5cbiAgICAgIHRoaXMuJCQuZXZhbHVhdGUod2F0Y2hBcmdzLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICBtaXhpbnMsXG4gICAgICAgICAgcGFyZW50LFxuICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUsXG4gICAgICAgICAgY29udGVudFxuICAgICAgICB9ID0gdGhpcy4kJDtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5hcmdzO1xuXG4gICAgICAgIGl0ZXJhdGVBcnJheShjaGlsZHJlbiwgcmVtb3ZlV2l0aFBhcmVudFNpZ25hbCk7XG4gICAgICAgIGl0ZXJhdGVBcnJheShtaXhpbnMsIHJlbW92ZVdpdGhQYXJlbnRTaWduYWwpO1xuICAgICAgICBjb250ZW50LnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBCbG9jaykge1xuICAgICAgICAgIHBhcmVudC4kJC5yZW1vdmVDb250ZW50KGNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kJC5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLiQkLm1peGlucyA9IFtdO1xuICAgICAgICB0aGlzLiQkLndhdGNoZXJzVG9SZW1vdmUgPSB3YXRjaGVyc1RvUmVtb3ZlLmZpbHRlcigoeyB3YXRjaGVycywgd2F0Y2hlciwgZm9yREVsZW1lbnRzIH0pID0+IHtcbiAgICAgICAgICBpZiAoZm9yREVsZW1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZW1vdmVBcnJheUVsZW0od2F0Y2hlcnMsIHdhdGNoZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4kJC5jb250ZW50ID0gbmV3IEVsZW0oKTtcblxuICAgICAgICBsZXQgcHJldkJsb2NrO1xuXG4gICAgICAgIGl0ZXJhdGVBcnJheSh2YWx1ZSB8fCBbXSwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgcHJldkJsb2NrID0gY3JlYXRlQmxvY2soe1xuICAgICAgICAgICAgbm9kZTogY2hpbGQsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICAgICAgICBwYXJlbnRFbGVtLFxuICAgICAgICAgICAgcGFyZW50QmxvY2s6IHRoaXMsXG4gICAgICAgICAgICBwYXJlbnRTY29wZSxcbiAgICAgICAgICAgIHBhcmVudFRlbXBsYXRlLFxuICAgICAgICAgICAgcHJldkJsb2NrXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgdGhpcywgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1lbGVtZW50cycsXG4gICAgdmFsdWU6IERFbGVtZW50c1xuICB9O1xufVxuXG5mdW5jdGlvbiByZW1vdmVXaXRoUGFyZW50U2lnbmFsKGl0ZW0pIHtcbiAgaXRlbS4kJC5yZW1vdmUodHJ1ZSk7XG59XG4iLCJpbXBvcnQgeyBmaW5kSW5BcnJheSB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRElmKEJsb2NrKSB7XG4gIGNsYXNzIERJZiBleHRlbmRzIEJsb2NrIHtcbiAgICBzdGF0aWMgdGVtcGxhdGUgPSBodG1sYFxuICAgICAgPGQtZWxlbWVudHNcbiAgICAgICAgdmFsdWU9XCJ7ZWxlbXN9XCJcbiAgICAgICAgcGFyZW50U2NvcGU9XCJ7JCQucGFyZW50U2NvcGV9XCJcbiAgICAgICAgcGFyZW50VGVtcGxhdGU9XCJ7JCQucGFyZW50VGVtcGxhdGV9XCJcbiAgICAgIC8+XG4gICAgYDtcblxuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgIHN1cGVyKG9wdHMpO1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIHBhcmVudFNjb3BlLFxuICAgICAgICBhcmdzQ2hpbGRyZW5cbiAgICAgIH0gPSB0aGlzLiQkO1xuICAgICAgbGV0IGluZGV4ID0gSW5maW5pdHk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBhcmdzQ2hpbGRyZW4ubWFwKChjaGlsZCwgaSkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBhdHRycyA9IHt9LFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIH0gPSBjaGlsZDtcbiAgICAgICAgbGV0IGNvbmQgPSBhdHRycy5pZjtcblxuICAgICAgICBpZiAobmFtZSAhPT0gJ2QtZWxzZScgJiYgY29uZCkge1xuICAgICAgICAgIGNvbmQgPSBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZShjb25kLCAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICghIW5ld1ZhbHVlID09PSB2YWx1ZXNbaV0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZXNbaV0gPSAhIW5ld1ZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoaSA+IGluZGV4KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGkgPCBpbmRleCkge1xuICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgIHRoaXMuZWxlbXMgPSBjaGlsZHJlbjtcblxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gZmluZEluQXJyYXkodmFsdWVzLCBCb29sZWFuKTtcblxuICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgIGluZGV4ID0gZm91bmQua2V5O1xuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gYXJnc0NoaWxkcmVuW2ZvdW5kLmtleV0uY2hpbGRyZW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpbmRleCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25kID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25kICYmIGluZGV4ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISFjb25kO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1pZicsXG4gICAgdmFsdWU6IERJZlxuICB9O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREl0ZW0oQmxvY2spIHtcbiAgY2xhc3MgREl0ZW0gZXh0ZW5kcyBCbG9jayB7XG4gICAgc3RhdGljIHRlbXBsYXRlID0gaHRtbGBcbiAgICAgIDxkLWVsZW1lbnRzXG4gICAgICAgIHZhbHVlPVwieyQkLmFyZ3NDaGlsZHJlbn1cIlxuICAgICAgICBwYXJlbnRTY29wZT1cInt0aGlzfVwiXG4gICAgICAgIHBhcmVudFRlbXBsYXRlPVwieyQkLnBhcmVudFRlbXBsYXRlfVwiXG4gICAgICAvPlxuICAgIGA7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICcjZC1pdGVtJyxcbiAgICB2YWx1ZTogREl0ZW1cbiAgfTtcbn1cbiIsImltcG9ydCB7IGNvbGxlY3RGcm9tQXJyYXksIGZpbmRJbkFycmF5LCBpdGVyYXRlQXJyYXkgfSBmcm9tICcuLi91dGlscyc7XG5cbmNvbnN0IHdhdGNoQXJncyA9IGpzYGFyZ3MudmFsdWVgO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEU3dpdGNoKEJsb2NrKSB7XG4gIGNsYXNzIERTd2l0Y2ggZXh0ZW5kcyBCbG9jayB7XG4gICAgc3RhdGljIHRlbXBsYXRlID0gaHRtbGBcbiAgICAgIDxkLWVsZW1lbnRzXG4gICAgICAgIHZhbHVlPVwie2VsZW1zfVwiXG4gICAgICAgIHBhcmVudFNjb3BlPVwieyQkLnBhcmVudFNjb3BlfVwiXG4gICAgICAgIHBhcmVudFRlbXBsYXRlPVwieyQkLnBhcmVudFRlbXBsYXRlfVwiXG4gICAgICAvPlxuICAgIGA7XG5cbiAgICBpbmRleCA9IEluZmluaXR5O1xuXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgc3VwZXIob3B0cyk7XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgJCQ6IHtcbiAgICAgICAgICBhcmdzQ2hpbGRyZW4sXG4gICAgICAgICAgcGFyZW50U2NvcGVcbiAgICAgICAgfSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgYXJnczogeyB2YWx1ZSB9XG4gICAgICB9ID0gdGhpcztcbiAgICAgIGxldCB3YXNEZWZhdWx0O1xuXG4gICAgICB0aGlzLnZhbHVlcyA9IGNvbGxlY3RGcm9tQXJyYXkoYXJnc0NoaWxkcmVuLCAodmFsdWVzLCBjaGlsZCwgaSkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBhdHRycyxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICB9ID0gY2hpbGQ7XG4gICAgICAgIGxldCB2YWwgPSBhdHRycy5pZjtcblxuICAgICAgICBpZiAod2FzRGVmYXVsdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lICE9PSAnZC1jYXNlJyAmJiBuYW1lICE9PSAnZC1kZWZhdWx0Jykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1kZWZhdWx0Jykge1xuICAgICAgICAgIHdhc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWRlZmF1bHQnKSB7XG4gICAgICAgICAgdmFsID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsKSB7XG4gICAgICAgICAgdmFsID0gcGFyZW50U2NvcGUuJCQuZXZhbHVhdGUodmFsLCAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVxdWFscyh0aGlzLnZhbHVlc1tpXS52YWx1ZSwgbmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52YWx1ZXNbaV0udmFsdWUgPSBuZXdWYWx1ZTtcblxuICAgICAgICAgICAgaWYgKGkgPiB0aGlzLmluZGV4KSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGkgPCB0aGlzLmluZGV4KSB7XG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGZpbmRJbkFycmF5KHRoaXMudmFsdWVzLCAoeyB2YWx1ZSB9KSA9PiAoXG4gICAgICAgICAgICAgIHRoaXMuZXF1YWxzKHZhbHVlLCBhcmdzLnZhbHVlKVxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gZm91bmQua2V5O1xuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gZm91bmQudmFsdWUuY2hpbGRyZW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgIHRoaXMuZWxlbXMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVxdWFscyh2YWwsIHZhbHVlKSAmJiB0aGlzLmluZGV4ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xuICAgICAgICAgIHRoaXMuZWxlbXMgPSBjaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbHVlcy5wdXNoKHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgfSk7XG4gICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XG4gICAgICB0aGlzLmV2YWx1YXRlQW5kV2F0Y2god2F0Y2hBcmdzLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICB2YWx1ZTogbmV3VmFsdWVcbiAgICAgICAgfSA9IHRoaXMuYXJncztcblxuICAgICAgICB0aGlzLmluZGV4ID0gSW5maW5pdHk7XG5cbiAgICAgICAgaXRlcmF0ZUFycmF5KHRoaXMudmFsdWVzLCAoeyBuYW1lLCB2YWx1ZSwgY2hpbGRyZW4gfSwgaSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IG5hbWUgPT09ICdkLWRlZmF1bHQnXG4gICAgICAgICAgICA/IG5ld1ZhbHVlXG4gICAgICAgICAgICA6IHZhbHVlO1xuXG4gICAgICAgICAgaWYgKHRoaXMuZXF1YWxzKHZhbCwgbmV3VmFsdWUpICYmIHRoaXMuaW5kZXggPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gaTtcbiAgICAgICAgICAgIHRoaXMuZWxlbXMgPSBjaGlsZHJlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHRoaXMuZWxlbXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBlcXVhbHModmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTEgPT09IHZhbHVlMjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLXN3aXRjaCcsXG4gICAgdmFsdWU6IERTd2l0Y2hcbiAgfTtcbn1cbiIsImltcG9ydCB7IGNvbGxlY3RGcm9tT2JqZWN0LCBpdGVyYXRlT2JqZWN0LCBrZXlzIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEQXR0cihNaXhpbikge1xuICBjbGFzcyBEQXR0ciBleHRlbmRzIE1peGluIHtcbiAgICBhdHRycyA9IHt9O1xuXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgYXR0cnNcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBpZiAoYXJncykge1xuICAgICAgICBuZXdWYWx1ZSA9IGNvbGxlY3RGcm9tT2JqZWN0KGFyZ3MsIChhdHRycywgYXR0cikgPT4ge1xuICAgICAgICAgIGF0dHJzW2F0dHJdID0gbmV3VmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRlT2JqZWN0KGF0dHJzLCAodmFsdWUsIHByb3ApID0+IHtcbiAgICAgICAgaWYgKCEocHJvcCBpbiBuZXdWYWx1ZSkpIHtcbiAgICAgICAgICBlbGVtLnJlbW92ZUF0dHIocHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZWxlbS5hdHRyKG5ld1ZhbHVlKTtcblxuICAgICAgdGhpcy5hdHRycyA9IG5ld1ZhbHVlO1xuICAgIH1cblxuICAgIGJlZm9yZVJlbW92ZSgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbSxcbiAgICAgICAgYXR0cnNcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBlbGVtLnJlbW92ZUF0dHIuYXBwbHkoZWxlbSwga2V5cyhhdHRycykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2QtYXR0cicsXG4gICAgdmFsdWU6IERBdHRyXG4gIH07XG59XG5cbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRCaW5kKE1peGluKSB7XG4gIGNsYXNzIERCaW5kIGV4dGVuZHMgTWl4aW4ge1xuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5vZmYpIHtcbiAgICAgICAgdGhpcy5vZmYoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5vZmYgPSB0aGlzLmVsZW0ub24odGhpcy5hcmdzLmpvaW4oJywnKSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUHJvdmlkZSBcImQtYmluZFwiIG1peGluIHdpdGggYW4gZXZlbnQgbmFtZXMgKGxpa2UgXCJkLWJpbmQoY2xpY2spXCIgb3IgXCJkLWJpbmQoa2V5dXAsIGtleXByZXNzKVwiKSEnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBiZWZvcmVSZW1vdmUoKSB7XG4gICAgICBjb25zdCB7IG9mZiB9ID0gdGhpcztcblxuICAgICAgaWYgKG9mZikge1xuICAgICAgICBvZmYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLWJpbmQnLFxuICAgIHZhbHVlOiBEQmluZFxuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgaXNBcnJheSwgaXNTdHJpbmcsXG4gIGl0ZXJhdGVBcnJheSwgaXRlcmF0ZU9iamVjdFxufSBmcm9tICcuLi91dGlscyc7XG5cbmNvbnN0IEVNUFRZX1NQQUNFX1JFR0VYID0gL1xccysvO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEQ2xhc3MoTWl4aW4pIHtcbiAgY2xhc3MgRENsYXNzIGV4dGVuZHMgTWl4aW4ge1xuICAgIGNsYXNzZXMgPSBbXTtcblxuICAgIGFmdGVyVXBkYXRlKG5ld1ZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIGFyZ3MsXG4gICAgICAgIGNsYXNzZXNcbiAgICAgIH0gPSB0aGlzO1xuICAgICAgY29uc3QgbmV3Q2xhc3NlcyA9IFtdO1xuXG4gICAgICBpZiAoYXJncykge1xuICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlXG4gICAgICAgICAgPyBhcmdzXG4gICAgICAgICAgOiBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKG5ld1ZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlLnNwbGl0KEVNUFRZX1NQQUNFX1JFR0VYKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkobmV3VmFsdWUpKSB7XG4gICAgICAgIGl0ZXJhdGVBcnJheShjbGFzc2VzLCAoY2xzKSA9PiB7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlLmluZGV4T2YoY2xzKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVyYXRlQXJyYXkobmV3VmFsdWUsIChjbHMpID0+IHtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xzKSkge1xuICAgICAgICAgICAgbmV3Q2xhc3Nlcy5wdXNoKGNscyk7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdGVBcnJheShjbGFzc2VzLCAoY2xzKSA9PiB7XG4gICAgICAgICAgaWYgKCFuZXdWYWx1ZSB8fCAhbmV3VmFsdWVbY2xzXSkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZXJhdGVPYmplY3QobmV3VmFsdWUsICh2YWwsIGNscykgPT4ge1xuICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgIG5ld0NsYXNzZXMucHVzaChjbHMpO1xuICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2xhc3NlcyA9IG5ld0NsYXNzZXM7XG4gICAgfVxuXG4gICAgYmVmb3JlUmVtb3ZlKCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBlbGVtLFxuICAgICAgICBjbGFzc2VzXG4gICAgICB9ID0gdGhpcztcblxuICAgICAgZWxlbS5yZW1vdmVDbGFzcy5hcHBseShlbGVtLCBjbGFzc2VzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLWNsYXNzJyxcbiAgICB2YWx1ZTogRENsYXNzXG4gIH07XG59XG4iLCJpbXBvcnQgeyBpc0Z1bmN0aW9uLCBpc1N0cmluZyB9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREVsZW0oTWl4aW4sIGNyZWF0ZUJsb2NrLCBCbG9jaykge1xuICBjbGFzcyBERWxlbSBleHRlbmRzIE1peGluIHtcbiAgICBzdGF0aWMgZXZhbHVhdGUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgIHN1cGVyKG9wdHMpO1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIGFyZ3MsXG4gICAgICAgIHBhcmVudFRlbXBsYXRlLFxuICAgICAgICBlbGVtXG4gICAgICB9ID0gdGhpcztcbiAgICAgIGxldCBzY29wZSA9IHBhcmVudFRlbXBsYXRlO1xuICAgICAgbGV0IHZhbHVlID0gdGhpcy5ldmFsdWF0ZU9uY2UoKTtcblxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgc2NvcGUgPSB2YWx1ZSBpbnN0YW5jZW9mIEJsb2NrXG4gICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgIDogcGFyZW50VGVtcGxhdGU7XG4gICAgICAgIHZhbHVlID0gYXJnc1swXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIHZhbHVlKGVsZW0pO1xuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgc2NvcGVbdmFsdWVdID0gZWxlbTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLWVsZW0nLFxuICAgIHZhbHVlOiBERWxlbVxuICB9O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREhpZGUoTWl4aW4pIHtcbiAgY2xhc3MgREhpZGUgZXh0ZW5kcyBNaXhpbiB7XG4gICAgYWZ0ZXJVcGRhdGUodmFsdWUpIHtcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcblxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGVsZW0uaGlkZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5zaG93KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYmVmb3JlUmVtb3ZlKCkge1xuICAgICAgdGhpcy5lbGVtLnNob3coKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLWhpZGUnLFxuICAgIHZhbHVlOiBESGlkZVxuICB9O1xufVxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNTdHJpbmcgfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckROb2RlKE1peGluLCBjcmVhdGVCbG9jaywgQmxvY2spIHtcbiAgY2xhc3MgRE5vZGUgZXh0ZW5kcyBNaXhpbiB7XG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICBzdXBlcihvcHRzKTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICBhcmdzLFxuICAgICAgICBwYXJlbnRUZW1wbGF0ZSxcbiAgICAgICAgbm9kZVxuICAgICAgfSA9IHRoaXM7XG4gICAgICBsZXQgc2NvcGUgPSBwYXJlbnRUZW1wbGF0ZTtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZXZhbHVhdGVPbmNlKCk7XG5cbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIHNjb3BlID0gdmFsdWUgaW5zdGFuY2VvZiBCbG9ja1xuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6IHBhcmVudFRlbXBsYXRlO1xuICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZShub2RlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHNjb3BlW3ZhbHVlXSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1ub2RlJyxcbiAgICB2YWx1ZTogRE5vZGVcbiAgfTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRPbihNaXhpbikge1xuICBjbGFzcyBET24gZXh0ZW5kcyBNaXhpbiB7XG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICBzdXBlcihvcHRzKTtcblxuICAgICAgaWYgKHRoaXMuYXJncykge1xuICAgICAgICB0aGlzLm9mZiA9IHRoaXMuZWxlbS5vbih0aGlzLmFyZ3Muam9pbignLCcpLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5ldmFsdWF0ZU9uY2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQcm92aWRlIFwiZC1vblwiIG1peGluIHdpdGggYW4gZXZlbnQgbmFtZXMgKGxpa2UgXCJkLW9uKGNsaWNrKVwiIG9yIFwiZC1vbihrZXl1cCwga2V5cHJlc3MpXCIpIScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGJlZm9yZVJlbW92ZSgpIHtcbiAgICAgIGNvbnN0IHsgb2ZmIH0gPSB0aGlzO1xuXG4gICAgICBpZiAob2ZmKSB7XG4gICAgICAgIG9mZigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2Qtb24nLFxuICAgIHZhbHVlOiBET25cbiAgfTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRTaG93KE1peGluKSB7XG4gIGNsYXNzIERTaG93IGV4dGVuZHMgTWl4aW4ge1xuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XG4gICAgICBjb25zdCB7IGVsZW0gfSA9IHRoaXM7XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBlbGVtLnNob3coKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0uaGlkZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGJlZm9yZVJlbW92ZSgpIHtcbiAgICAgIHRoaXMuZWxlbS5zaG93KCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1zaG93JyxcbiAgICB2YWx1ZTogRFNob3dcbiAgfTtcbn1cbiIsImltcG9ydCB7XG4gIGlzU3RyaW5nLCBpdGVyYXRlT2JqZWN0LCBrZXlzLFxuICBjb2xsZWN0RnJvbU9iamVjdCwgY29sbGVjdEZyb21BcnJheVxufSBmcm9tICcuLi91dGlscyc7XG5cbmNvbnN0IENTU19TVFlMRVNfU0VQQVJBVE9SX1JFR0VYID0gLzsgPy87XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRTdHlsZShNaXhpbikge1xuICBjbGFzcyBEU3R5bGUgZXh0ZW5kcyBNaXhpbiB7XG4gICAgY3NzID0ge307XG5cbiAgICBhZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgY3NzXG4gICAgICB9ID0gdGhpcztcblxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjb2xsZWN0RnJvbU9iamVjdChhcmdzLCAoY3NzLCBwcm9wKSA9PiB7XG4gICAgICAgICAgY3NzW3Byb3BdID0gbmV3VmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNTdHJpbmcobmV3VmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gY29sbGVjdEZyb21BcnJheShcbiAgICAgICAgICBuZXdWYWx1ZVxuICAgICAgICAgICAgLnNwbGl0KENTU19TVFlMRVNfU0VQQVJBVE9SX1JFR0VYKVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKSxcbiAgICAgICAgICBhZGRDU1NQcm9wXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGl0ZXJhdGVPYmplY3QoY3NzLCAodmFsdWUsIHByb3ApID0+IHtcbiAgICAgICAgaWYgKCFuZXdWYWx1ZVtwcm9wXSkge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlQ1NTKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGVsZW0uY3NzKG5ld1ZhbHVlKTtcblxuICAgICAgdGhpcy5jc3MgPSBuZXdWYWx1ZTtcbiAgICB9XG5cbiAgICBiZWZvcmVSZW1vdmUoKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIGNzc1xuICAgICAgfSA9IHRoaXM7XG5cbiAgICAgIGVsZW0ucmVtb3ZlQ1NTLmFwcGx5KGVsZW0sIGtleXMoY3NzKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1zdHlsZScsXG4gICAgdmFsdWU6IERTdHlsZVxuICB9O1xufVxuXG5mdW5jdGlvbiBhZGRDU1NQcm9wKGNzcywgaXRlbSkge1xuICBjb25zdCBbcHJvcCwgdmFsdWVdID0gaXRlbTtcblxuICBjc3NbcHJvcF0gPSB2YWx1ZTtcbn1cbiIsImltcG9ydCB7XG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzTmlsLFxuICBjb2xsZWN0RnJvbUFycmF5XG59IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFZhbHVlKE1peGluLCBjcmVhdGVCbG9jaywgQmxvY2spIHtcbiAgY2xhc3MgRFZhbHVlIGV4dGVuZHMgTWl4aW4ge1xuICAgIHN0YXRpYyBldmFsdWF0ZSA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgc3VwZXIob3B0cyk7XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYXJncyxcbiAgICAgICAgcGFyZW50VGVtcGxhdGUsXG4gICAgICAgIGVsZW0sXG4gICAgICAgIG5vZGVcbiAgICAgIH0gPSB0aGlzO1xuICAgICAgY29uc3QgbmFtZSA9IGVsZW0ubmFtZSgpO1xuICAgICAgY29uc3QgdHlwZSA9IGVsZW0ucHJvcCgndHlwZScpO1xuICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmV2YWx1YXRlT25jZSgpO1xuICAgICAgbGV0IGluaXRpYWxTY29wZVZhbHVlID0gbnVsbDtcblxuICAgICAgdGhpcy5wcm9wID0gZ2V0UHJvcChuYW1lLCB0eXBlLCBlbGVtKTtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5vcHRpb25zID0gZWxlbS5maW5kKCdvcHRpb24nKTtcbiAgICAgIHRoaXMuc2NvcGUgPSBwYXJlbnRUZW1wbGF0ZTtcblxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gYXJnc1swXTtcbiAgICAgICAgdGhpcy5zY29wZSA9IHZhbHVlIGluc3RhbmNlb2YgQmxvY2tcbiAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgOiBwYXJlbnRUZW1wbGF0ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICBpbml0aWFsU2NvcGVWYWx1ZSA9IHRoaXMuc2NvcGUuJCQuZXZhbHVhdGUoZ2V0RXZhbEZ1bmN0aW9uKHZhbHVlKSwgKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcChuZXdWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5pdGlhbEVsZW1WYWx1ZSA9IHRoaXMuZ2V0UHJvcChpbml0aWFsU2NvcGVWYWx1ZSwgdHJ1ZSk7XG4gICAgICBjb25zdCBpc0luaXRpYWxTY29wZVZhbHVlTnVsbCA9IGlzTmlsKGluaXRpYWxTY29wZVZhbHVlKTtcbiAgICAgIGNvbnN0IGlzQ2hlY2tib3ggPSB0eXBlID09PSAnY2hlY2tib3gnO1xuICAgICAgY29uc3QgY2hhbmdlU2NvcGUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy5nZXRQcm9wKHRoaXMuY3VycmVudFZhbHVlKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTY29wZSgpO1xuICAgICAgfTtcblxuICAgICAgaWYgKGlzSW5pdGlhbFNjb3BlVmFsdWVOdWxsIHx8IGlzQ2hlY2tib3gpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBpbml0aWFsRWxlbVZhbHVlO1xuICAgICAgICB0aGlzLmNoYW5nZVNjb3BlKCk7XG5cbiAgICAgICAgaWYgKCFpc0luaXRpYWxTY29wZVZhbHVlTnVsbCAmJiBpc0NoZWNrYm94KSB7XG4gICAgICAgICAgdGhpcy5zZXRQcm9wKGluaXRpYWxTY29wZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBpbml0aWFsU2NvcGVWYWx1ZTtcbiAgICAgICAgdGhpcy5zZXRQcm9wKGluaXRpYWxTY29wZVZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vZmZFbGVtTGlzdGVuZXIgPSBlbGVtLm9uKGdldExpc3RlbmVyTmFtZShuYW1lLCB0eXBlKSwgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBub2RlKSB7XG4gICAgICAgICAgY2hhbmdlU2NvcGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm9mZkZvcm1MaXN0ZW5lciA9IGVsZW0uY2xvc2VzdCgnZm9ybScpLm9uKCdyZXNldCcsICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dChjaGFuZ2VTY29wZSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjaGFuZ2VTY29wZSgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjdXJyZW50VmFsdWVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUoY3VycmVudFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjb3BlW3ZhbHVlXSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRQcm9wKHZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHByb3AsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIG5vZGUsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBpZiAocHJvcCA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGVsZW0udGV4dCh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09ICdtdWx0aXBsZS1zZWxlY3QnKSB7XG4gICAgICAgIG9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpICE9PSAtMTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnByb3AocHJvcCwgZ2V0VmFsdWVGb3JTZXR0aW5nKG5hbWUsIHZhbHVlLCB0eXBlLCBub2RlLnZhbHVlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UHJvcCh2YWx1ZXMsIGluaXQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgcHJvcCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbm9kZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBwcm9wID09PSAndGV4dCdcbiAgICAgICAgPyBlbGVtLnRleHQoKVxuICAgICAgICA6IGdldFZhbHVlRm9yR2V0dGluZyhuYW1lLCBlbGVtLnByb3AocHJvcCksIHR5cGUsIG5vZGUudmFsdWUsIHZhbHVlcywgb3B0aW9ucywgaW5pdCwgcHJvcCA9PT0gJ211bHRpcGxlLXNlbGVjdCcpO1xuICAgIH1cblxuICAgIGJlZm9yZVJlbW92ZSgpIHtcbiAgICAgIHRoaXMub2ZmRWxlbUxpc3RlbmVyKCk7XG4gICAgICB0aGlzLm9mZkZvcm1MaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2QtdmFsdWUnLFxuICAgIHZhbHVlOiBEVmFsdWVcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcChuYW1lLCB0eXBlLCBlbGVtKSB7XG4gIHN3aXRjaCAobmFtZSkge1xuICAgIGNhc2UgJ3NlbGVjdCc6IHtcbiAgICAgIHJldHVybiBlbGVtLmhhc0F0dHIoJ211bHRpcGxlJylcbiAgICAgICAgPyAnbXVsdGlwbGUtc2VsZWN0J1xuICAgICAgICA6ICd2YWx1ZSc7XG4gICAgfVxuXG4gICAgY2FzZSAnaW5wdXQnOiB7XG4gICAgICBpZiAodHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIHJldHVybiAnZmlsZXMnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHlwZSA9PT0gJ3JhZGlvJyB8fCB0eXBlID09PSAnY2hlY2tib3gnXG4gICAgICAgID8gJ2NoZWNrZWQnXG4gICAgICAgIDogJ3ZhbHVlJztcbiAgICB9XG5cbiAgICBkZWZhdWx0OiB7XG4gICAgICByZXR1cm4gZWxlbS5oYXNBdHRyKCdjb250ZW50RWRpdGFibGUnKVxuICAgICAgICA/ICd0ZXh0J1xuICAgICAgICA6ICd2YWx1ZSc7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlRm9yU2V0dGluZyhuYW1lLCB2YWx1ZSwgdHlwZSwgaW5wdXRWYWx1ZSkge1xuICBpZiAobmFtZSAhPT0gJ2lucHV0Jykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIGNvbnN0IGlzUmFkaW8gPSB0eXBlID09PSAncmFkaW8nO1xuXG4gIGlmICghaXNSYWRpbyAmJiB0eXBlICE9PSAnY2hlY2tib3gnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIGlzUmFkaW9cbiAgICA/IHZhbHVlID09PSBpbnB1dFZhbHVlXG4gICAgOiB2YWx1ZS5pbmRleE9mKGlucHV0VmFsdWUpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWVGb3JHZXR0aW5nKG5hbWUsIHZhbHVlLCB0eXBlLCBpbnB1dFZhbHVlLCB2YWx1ZXMsIG9wdGlvbnMsIGluaXQsIGlzTXVsdGlwbGUpIHtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSAnc2VsZWN0Jzoge1xuICAgICAgaWYgKCFpc011bHRpcGxlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbGxlY3RGcm9tQXJyYXkob3B0aW9ucywgYWRkVmFsdWUsIFtdKTtcbiAgICB9XG5cbiAgICBjYXNlICdpbnB1dCc6IHtcbiAgICAgIGlmICh0eXBlICE9PSAncmFkaW8nICYmIHR5cGUgIT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgICA/IGlucHV0VmFsdWVcbiAgICAgICAgICA6IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICghdmFsdWUgJiYgaW5pdCkge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHJldHVybiB2YWx1ZXMuaW5kZXhPZihpbnB1dFZhbHVlKSA9PT0gLTFcbiAgICAgICAgICAgID8gdmFsdWVzLmNvbmNhdChpbnB1dFZhbHVlKVxuICAgICAgICAgICAgOiB2YWx1ZXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW2lucHV0VmFsdWVdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGluZGV4ID0gdmFsdWVzLmluZGV4T2YoaW5wdXRWYWx1ZSk7XG5cbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAuLi52YWx1ZXMuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAgIC4uLnZhbHVlcy5zbGljZShpbmRleCArIDEpXG4gICAgICAgIF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgZGVmYXVsdDoge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRMaXN0ZW5lck5hbWUobmFtZSwgdHlwZSkge1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdzZWxlY3QnOiB7XG4gICAgICByZXR1cm4gJ2NoYW5nZSc7XG4gICAgfVxuXG4gICAgY2FzZSAnaW5wdXQnOiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0eXBlID09PSAncmFkaW8nXG4gICAgICAgIHx8IHR5cGUgPT09ICdjaGVja2JveCdcbiAgICAgICAgfHwgdHlwZSA9PT0gJ2NvbG9yJ1xuICAgICAgICB8fCB0eXBlID09PSAnZmlsZSdcbiAgICAgIClcbiAgICAgICAgPyAnY2hhbmdlJ1xuICAgICAgICA6ICdjaGFuZ2UgaW5wdXQnO1xuICAgIH1cblxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHJldHVybiAnaW5wdXQnO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRFdmFsRnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIChzY29wZSkgPT4gc2NvcGVbdmFsdWVdO1xufVxuXG5mdW5jdGlvbiBhZGRWYWx1ZSh2YWx1ZXMsIHsgc2VsZWN0ZWQsIHZhbHVlIH0pIHtcbiAgaWYgKHNlbGVjdGVkICYmIHZhbHVlcy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQG1vZHVsZSBCbG9ja1xuICogQHByaXZhdGVcbiAqIEBtaXhpblxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvY2sgY2xhc3MuXG4gKi9cblxuaW1wb3J0IHsgRWxlbSB9IGZyb20gJy4vRWxlbSc7XG5pbXBvcnQge1xuICBkZWZpbmVGcm96ZW5Qcm9wZXJ0aWVzLCBkZWZpbmVQcm9wZXJ0aWVzLFxuICBhc3NpZ24sIGVzY2FwZVJlZ2V4LCBtYXBPYmplY3QsXG4gIHRvT2JqZWN0S2V5cywgY29sbGVjdEZyb21PYmplY3QsXG4gIGl0ZXJhdGVBcnJheSwgaXRlcmF0ZU9iamVjdCxcbiAgaXNGdW5jdGlvbiwgaXNOaWwsIGlzQXJyYXksXG4gIHNldFRvU3RyaW5nVGFnLCBoYXNPd25Qcm9wZXJ0eSxcbiAgcmVtb3ZlQXJyYXlFbGVtLCBjcmVhdGUsXG4gIGdldFByb3RvLCBzZXRQcm90bywga2V5c1xufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCAqIGFzIEJsb2NrcyBmcm9tICcuL2Jsb2Nrcyc7XG5pbXBvcnQgKiBhcyBNaXhpbnMgZnJvbSAnLi9taXhpbnMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtFcnJvcn0gRXZhbHVhdGlvbkVycm9yXG4gKiBAcHVibGljXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZXhwcmVzc2lvbiAtIEV4cHJlc3Npb24gd2hpY2ggaGFzIGJlZW4gZXZhbHVhdGVkIHdpdGggdGhlIGVycm9yLlxuICogQHByb3BlcnR5IHtCbG9ja30gYmxvY2sgLSBCbG9jayBpbiBjb250ZXh0IG9mIHdoaWNoIHRoZSBleHByZXNzaW9uIGhhcyBiZWVuIGV2YWx1YXRlZCB3aXRoIHRoZSBlcnJvci5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBXYXRjaGVyXG4gKiBAcHVibGljXG4gKiBAcGFyYW0geyp9IG5ld1ZhbHVlIC0gTmV3IHZhbHVlLlxuICogQHBhcmFtIHsqfSBvbGRWYWx1ZSAtIE9sZCB2YWx1ZS5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBWYXJzV2F0Y2hlclxuICogQHB1YmxpY1xuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIFdyYXBwZXJcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7QmxvY2t9IEJsb2NrIGNsYXNzIHRvIHdyYXAuXG4gKiBAcmV0dXJucyB7QmxvY2t9IE5ldyBCbG9jayBjbGFzcy5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBBZnRlclVwZGF0ZVxuICogQHB1YmxpY1xuICogQHBhcmFtIHsqfSBuZXdWYWx1ZSAtIE5ldyB2YWx1ZS5cbiAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgLSBPbGQgdmFsdWUuXG4gKiBAcGFyYW0geyp9IG1peGluIC0gTWl4aW4gaW5zdGFuY2UuXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgQmxvY2tSZWdpc3Rlckhvb2tcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSB7QmxvY2t9IEJsb2NrIC0gUmVnaXN0ZXJpbmcgYmxvY2suXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIEJsb2NrIG5hbWUuXG4gKiBAcmV0dXJucyBSZXR1cm4gdmFsdWUgaXMgdXNlZCBmb3IgcmVnaXN0ZXJpbmcgdGhlIGJsb2NrLlxuICogSWYgQmxvY2sgc3ViY2xhc3MgcmV0dXJuZWQgaXQncyByZWdpc3RlcmVkIGluc3RlYWQgb2YgdGhlIGluaXRpYWwgYmxvY2ssIG90aGVyd2lzZVxuICogdGhlIGluaXRpYWwgYmxvY2sgaXMgdXNlZC5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBNaXhpblJlZ2lzdGVySG9va1xuICogQHB1YmxpY1xuICogQHBhcmFtIHtCbG9ja30gTWl4aW4gLSBSZWdpc3RlcmluZyBtaXhpbi5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTWl4aW4gbmFtZS5cbiAqIEByZXR1cm5zIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciByZWdpc3RlcmluZyB0aGUgbWl4aW4uXG4gKiBJZiBNaXhpbiBzdWJjbGFzcyByZXR1cm5lZCBpdCdzIHJlZ2lzdGVyZWQgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbCBtaXhpbiwgb3RoZXJ3aXNlXG4gKiB0aGUgaW5pdGlhbCBtaXhpbiBpcyB1c2VkLlxuICovXG5cbmNvbnN0IHJvb3RCbG9ja3MgPSBjcmVhdGUobnVsbCk7XG5jb25zdCByb290TWl4aW5zID0gY3JlYXRlKG51bGwpO1xuY29uc3QgYmxvY2tIb29rcyA9IFtdO1xuY29uc3QgbWl4aW5Ib29rcyA9IFtdO1xuY29uc3QgeyBpc1Byb3RvdHlwZU9mIH0gPSB7fTtcbmNvbnN0IFRBR19OQU1FX1JFR0VYID0gL15bYS16XVthLXpcXGRcXC1fLjohQCMkJV4mKigpW1xcXXt9PSdcIlxcXFxdKiQvaTtcbmNvbnN0IEFUVFJfTkFNRV9SRUdFWCA9IC9eW1xcdTAwMDAtXFx1MDAyMFxccydcIj4vPV0rJC87XG5jb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgRF9SRVNUX1JFR0VYID0gL15kLXJlc3QoPzojfCQpLztcbmNvbnN0IFdBVENIRURfQVJHX1BSRUZJWF9SRUdFWCA9IC9eYXJnc1xcLi87XG5jb25zdCBXQVRDSEVEX0dMT0JBTF9QUkVGSVhfUkVHRVggPSAvXmdsb2JhbHNcXC4vO1xuY29uc3QgTkFNRURfRF9CTE9DS19SRUdFWCA9IC9eZC1ibG9jazooW1xcc1xcU10rKSQvO1xuY29uc3QgQ09NTUFfUkVHRVggPSAvLC87XG5jb25zdCBhZnRlckVsZW0gPSBuZXcgRWxlbSgpO1xuY29uc3QgZW1wdHlDaGlsZHJlbiA9IFtdO1xuY29uc3QgZW1wdHlBdHRycyA9IHt9O1xubGV0IGV2YWxNb2RlO1xubGV0IGdldHRpbmcgPSBbXTtcbmxldCBjaGFuZ2VkO1xuXG4vKipcbiAqIEBjbGFzcyBCbG9ja1xuICogQHB1YmxpY1xuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBFbGVtZW50IG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7QmxvY2t9IEluc3RhbmNlIG9mIEJsb2NrLlxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBkeW5hbWljIHRlbXBsYXRpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IEQsIEJsb2NrLCBpbml0QXBwIH0gZnJvbSAnZHdheW5lJztcbiAqXG4gKiBjbGFzcyBBcHAgZXh0ZW5kcyBCbG9jayB7XG4gKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8SGVsbG8gdGV4dD1cInt0ZXh0fVwiLz4nO1xuICpcbiAqICAgY29uc3RydWN0b3Iob3B0cykge1xuICogICAgIHN1cGVyKG9wdHMpO1xuICpcbiAqICAgICB0aGlzLnRleHQgPSAnd29ybGQgKDApJztcbiAqICAgICB0aGlzLnRpbWVzID0gMDtcbiAqXG4gKiAgICAgdGhpcy5zZXRJbnRlcnZhbCgpO1xuICogICB9XG4gKlxuICogICBzZXRJbnRlcnZhbCgpIHtcbiAqICAgICBEKDEwMDApLmludGVydmFsKCgpID0+IHtcbiAqICAgICAgIHRoaXMudGV4dCA9IGB3b3JsZCAoJHsgKyt0aGlzLnRpbWVzIH0pYDtcbiAqICAgICB9KTtcbiAqICAgfVxuICogfVxuICpcbiAqIEJsb2NrLmJsb2NrKCdBcHAnLCBBcHApO1xuICogQmxvY2suYmxvY2soJ0hlbGxvJywgJ0hlbGxvLCB7YXJncy50ZXh0fSEnKTtcbiAqXG4gKiBpbml0QXBwKCdBcHAnLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcbiAqL1xuY2xhc3MgQmxvY2sge1xuICBzdGF0aWMgX2Jsb2NrcyA9IGNyZWF0ZShyb290QmxvY2tzKTtcbiAgc3RhdGljIF9taXhpbnMgPSBjcmVhdGUocm9vdE1peGlucyk7XG5cbiAgLyoqXG4gICAqIEBtZW1iZXIge09iamVjdH0gW0Jsb2NrLmRlZmF1bHRBcmdzID0gbnVsbF1cbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHB1YmxpY1xuICAgKiBAZGVzY3JpcHRpb24gQmxvY2sgZGVmYXVsdCBhcmdzLlxuICAgKi9cbiAgc3RhdGljIGRlZmF1bHRBcmdzID0gbnVsbDtcblxuICAvKipcbiAgICogQG1lbWJlciB7T2JqZWN0fSBbQmxvY2suZGVmYXVsdExvY2FscyA9IG51bGxdXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqIEBwdWJsaWNcbiAgICogQGRlc2NyaXB0aW9uIEJsb2NrIGRlZmF1bHQgbG9jYWxzLlxuICAgKi9cbiAgc3RhdGljIGRlZmF1bHRMb2NhbHMgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAbWVtYmVyIHtPYmplY3R9IFtCbG9jay50ZW1wbGF0ZSA9IHsgdmFyczogW10sIHZhbHVlOiBbXSB9XVxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHVibGljXG4gICAqIEBkZXNjcmlwdGlvbiBCbG9jayB0ZW1wbGF0ZS5cbiAgICovXG4gIHN0YXRpYyB0ZW1wbGF0ZSA9IHtcbiAgICB2YXJzOiBbXSxcbiAgICB2YWx1ZTogW11cbiAgfTtcblxuICAvKipcbiAgICogQG1ldGhvZCBCbG9jay5vbkV2YWxFcnJvclxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7RXZhbHVhdGlvbkVycm9yfSBlcnIgLSBUaGUgbWV0aG9kIGlzIGNhbGxlZCB3aGVuIGFuIGV2YWx1YXRpb24gZXJyb3Igb2NjdXJzLlxuICAgKi9cbiAgc3RhdGljIG9uRXZhbEVycm9yKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEV2YWwgZXJyb3IgKGV2YWx1YXRpbmcgXCIkeyBlcnIuZXhwcmVzc2lvbiB9XCIgaW4gY29udGV4dCBvZiBibG9jayBcIiR7IGVyci5ibG9jay4kJC5uYW1lIH1cIik6YCwgZXJyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEJsb2NrLmJlZm9yZVJlZ2lzdGVyQmxvY2tcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge0Jsb2NrUmVnaXN0ZXJIb29rfSBob29rIC0gQmxvY2sgcmVnaXN0ZXIgaG9vay5cbiAgICovXG4gIHN0YXRpYyBiZWZvcmVSZWdpc3RlckJsb2NrKGhvb2spIHtcbiAgICBibG9ja0hvb2tzLnB1c2goaG9vayk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlQXJyYXlFbGVtKGJsb2NrSG9va3MsIGhvb2spO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBCbG9jay5iZWZvcmVSZWdpc3Rlck1peGluXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtNaXhpblJlZ2lzdGVySG9va30gaG9vayAtIE1peGluIHJlZ2lzdGVyIGhvb2suXG4gICAqL1xuICBzdGF0aWMgYmVmb3JlUmVnaXN0ZXJNaXhpbihob29rKSB7XG4gICAgbWl4aW5Ib29rcy5wdXNoKGhvb2spO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlbW92ZUFycmF5RWxlbShtaXhpbkhvb2tzLCBob29rKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgQmxvY2suYmxvY2tcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIEJsb2NrIG9yIG1peGluIG5hbWUuXG4gICAqIEBwYXJhbSB7VGVtcGxhdGV8dHlwZW9mIEJsb2NrfSBTdWJjbGFzcyAtIFN1YmNsYXNzIG9mIEJsb2NrIG9yIHRlbXBsYXRlIHN0cmluZyBvZiBpdC5cbiAgICogQHJldHVybnMge3R5cGVvZiBCbG9ja3x1bmRlZmluZWR9IFJldHVybnMgcmVnaXN0ZXJlZCBCbG9jayBvciB1bmRlZmluZWQgaWYgdGhlIGJsb2NrIGhhc24ndCBiZWVuIHJlZ2lzdGVyZWQuXG4gICAqIEBkZXNjcmlwdGlvbiBSZWdpc3RlciBibG9jayBpbiB0aGUgbmFtZXNwYWNlIG9mIHRoaXMuXG4gICAqL1xuICBzdGF0aWMgYmxvY2sobmFtZSwgU3ViY2xhc3MpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihTdWJjbGFzcykgJiYgIWlzSW5zdGFuY2VPZihCbG9jaywgU3ViY2xhc3MpKSB7XG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IFN1YmNsYXNzO1xuXG4gICAgICBTdWJjbGFzcyA9IGNsYXNzIGV4dGVuZHMgQmxvY2sge1xuICAgICAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgICAgc3VwZXIob3B0cyk7XG5cbiAgICAgICAgICB0aGlzOjpjb25zdHJ1Y3RvcihvcHRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24oU3ViY2xhc3MpICYmIGlzQXJyYXkoU3ViY2xhc3MpKSB7XG4gICAgICBTdWJjbGFzcyA9IGNsYXNzIGV4dGVuZHMgQmxvY2sge1xuICAgICAgICBzdGF0aWMgdGVtcGxhdGUgPSB7XG4gICAgICAgICAgdmFyczogW10sXG4gICAgICAgICAgdmFsdWU6IFN1YmNsYXNzXG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghaXNGdW5jdGlvbihTdWJjbGFzcykgJiYgU3ViY2xhc3MudmFycyAmJiBTdWJjbGFzcy52YWx1ZSkge1xuICAgICAgU3ViY2xhc3MgPSBjbGFzcyBleHRlbmRzIEJsb2NrIHtcbiAgICAgICAgc3RhdGljIHRlbXBsYXRlID0gU3ViY2xhc3M7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghaXNGdW5jdGlvbihTdWJjbGFzcykpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQmxvY2sgbXVzdCBiZSBhIHN0cmluZyAocmVwcmVzZW50aW5nIGEgYmxvY2sgdGVtcGxhdGUpLCBhIGZ1bmN0aW9uIG9yIGEgY2xhc3MgdGhhdCBleHRlbmRzIEJsb2NrIGNsYXNzIChuYW1lOiBcIiR7IG5hbWUgfVwiKSAoQmxvY2suYmxvY2spYCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWlzSW5zdGFuY2VPZihCbG9jaywgU3ViY2xhc3MpKSB7XG4gICAgICBleHRlbmRCbG9jayhTdWJjbGFzcyk7XG4gICAgfVxuXG4gICAgaWYgKHJvb3RCbG9ja3NbbmFtZV0pIHtcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgYmxvY2sgaXMgYSBidWlsdC1pbiBibG9jayBzbyB0aGUgYmxvY2sgd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoQmxvY2suYmxvY2spYCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIVRBR19OQU1FX1JFR0VYLnRlc3QobmFtZSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgTmFtZSBcIiR7IG5hbWUgfVwiIGlzIG5vdCBhbGxvd2VkIGZvciBibG9ja3Mgc28gdGhlIGJsb2NrIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKEJsb2NrLmJsb2NrKWApO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh0aGlzLCAnX2Jsb2NrcycpKSB7XG4gICAgICB0aGlzLl9ibG9ja3MgPSBjcmVhdGUoZ2V0UHJvdG8odGhpcykuX2Jsb2Nrcyk7XG4gICAgfVxuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh0aGlzLCAnZGVmYXVsdExvY2FscycpKSB7XG4gICAgICB0aGlzLmRlZmF1bHRMb2NhbHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KHRoaXMsICdkZWZhdWx0QXJncycpKSB7XG4gICAgICB0aGlzLmRlZmF1bHRBcmdzID0gY3JlYXRlKG51bGwpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBTdWJjbGFzcyA9IGJsb2NrSG9va3MucmVkdWNlKChyZXR1cm5WYWx1ZSwgaG9vaykgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50UmV0dXJuVmFsdWUgPSBob29rKHJldHVyblZhbHVlLCBuYW1lLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gaXNJbnN0YW5jZU9mKEJsb2NrLCBjdXJyZW50UmV0dXJuVmFsdWUpXG4gICAgICAgICAgPyBjdXJyZW50UmV0dXJuVmFsdWVcbiAgICAgICAgICA6IHJldHVyblZhbHVlO1xuICAgICAgfSwgU3ViY2xhc3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgZXJyb3IgaW4gXCJiZWZvcmVSZWdpc3RlckJsb2NrXCIgaG9vazonLCBlcnIpO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIHZhcnMsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBTdWJjbGFzcy50ZW1wbGF0ZTtcblxuICAgIFN1YmNsYXNzLl9odG1sID0gdmFsdWU7XG4gICAgU3ViY2xhc3MuX3ZhcnMgPSB2YXJzO1xuXG4gICAgaWYgKGhhc093blByb3BlcnR5KFN1YmNsYXNzLCAnZGVmYXVsdEFyZ3MnKSkge1xuICAgICAgc2V0UHJvdG8oU3ViY2xhc3MuZGVmYXVsdEFyZ3MsIG51bGwpO1xuICAgIH1cblxuICAgIHRoaXMuX2Jsb2Nrc1tuYW1lXSA9IFN1YmNsYXNzO1xuXG4gICAgcmV0dXJuIFN1YmNsYXNzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgQmxvY2subWl4aW5cbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIEJsb2NrIG9yIG1peGluIG5hbWUuXG4gICAqIEBwYXJhbSB7dHlwZW9mIE1peGlufEFmdGVyVXBkYXRlfSBTdWJjbGFzcyAtIFN1YmNsYXNzIG9mIE1peGluIG9yIEFmdGVyVXBkYXRlIGNhbGxiYWNrLlxuICAgKiBAcmV0dXJucyB7dHlwZW9mIE1peGlufHVuZGVmaW5lZH0gUmV0dXJucyByZWdpc3RlcmVkIEJsb2NrIG9yIHVuZGVmaW5lZCBpZiB0aGUgYmxvY2sgaGFzbid0IGJlZW4gcmVnaXN0ZXJlZC5cbiAgICogQGRlc2NyaXB0aW9uIFJlZ2lzdGVyIG1peGluIGluIHRoZSBuYW1lc3BhY2Ugb2YgdGhpcy5cbiAgICovXG4gIHN0YXRpYyBtaXhpbihuYW1lLCBTdWJjbGFzcykge1xuICAgIGlmIChpc0Z1bmN0aW9uKFN1YmNsYXNzKSAmJiAhaXNJbnN0YW5jZU9mKE1peGluLCBTdWJjbGFzcykpIHtcbiAgICAgIGNvbnN0IGFmdGVyVXBkYXRlID0gU3ViY2xhc3M7XG5cbiAgICAgIFN1YmNsYXNzID0gY2xhc3MgZXh0ZW5kcyBNaXhpbiB7XG4gICAgICAgIGFmdGVyVXBkYXRlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgIHRoaXM6OmFmdGVyVXBkYXRlKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCFpc0luc3RhbmNlT2YoTWl4aW4sIFN1YmNsYXNzKSkge1xuICAgICAgY29uc29sZS53YXJuKGBUaGUgXCIkeyBuYW1lIH1cIiBjbGFzcyBkb2VzIG5vdCBleHRlbmQgTWl4aW4gYW5kIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKEJsb2NrLm1peGluKWApO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHJvb3RNaXhpbnNbbmFtZV0pIHtcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgbWl4aW4gaXMgYSBidWlsdC1pbiBtaXhpbiBzbyB0aGUgbWl4aW4gd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoQmxvY2subWl4aW4pYCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIUFUVFJfTkFNRV9SRUdFWC50ZXN0KG5hbWUpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYE5hbWUgXCIkeyBuYW1lIH1cIiBpcyBub3QgYWxsb3dlZCBmb3IgbWl4aW5zIHNvIHRoZSBtaXhpbiB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChCbG9jay5taXhpbilgKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaGFzT3duUHJvcGVydHkodGhpcywgJ19taXhpbnMnKSkge1xuICAgICAgdGhpcy5fbWl4aW5zID0gY3JlYXRlKGdldFByb3RvKHRoaXMpLl9taXhpbnMpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBTdWJjbGFzcyA9IG1peGluSG9va3MucmVkdWNlKChyZXR1cm5WYWx1ZSwgaG9vaykgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50UmV0dXJuVmFsdWUgPSBob29rKHJldHVyblZhbHVlLCBuYW1lLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gaXNJbnN0YW5jZU9mKE1peGluLCBjdXJyZW50UmV0dXJuVmFsdWUpXG4gICAgICAgICAgPyBjdXJyZW50UmV0dXJuVmFsdWVcbiAgICAgICAgICA6IHJldHVyblZhbHVlO1xuICAgICAgfSwgU3ViY2xhc3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgZXJyb3IgaW4gXCJiZWZvcmVSZWdpc3Rlck1peGluXCIgaG9vazonLCBlcnIpO1xuICAgIH1cblxuICAgIFN1YmNsYXNzLl9tYXRjaCA9IGNvbnN0cnVjdE1peGluUmVnRXhwKG5hbWUpO1xuXG4gICAgdGhpcy5fbWl4aW5zW25hbWVdID0gU3ViY2xhc3M7XG5cbiAgICByZXR1cm4gU3ViY2xhc3M7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBCbG9jay53cmFwXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHsuLi5XcmFwcGVyfSB3cmFwcGVycyAtIEZ1bmN0aW9ucyB0aGF0IHJldHVybiB3cmFwcGVkIGJsb2NrLlxuICAgKiBAcmV0dXJucyB7dHlwZW9mIEJsb2NrfSBOZXcgYmxvY2suXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHdyYXBwaW5nIGJsb2NrcyBpbnRvIGFub3RoZXIgYmxvY2tzLlxuICAgKiBJdCBpcyBjb25zaWRlcmVkIGJlc3QgcHJhY3RpY2UgdG8ganVzdCBleHRlbmRzIHRoZSBvbGQgYmxvY2sgd2l0aCBhIG5ldyBvbmUuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNsYXNzIE15QmxvY2sgZXh0ZW5kcyBCbG9jayB7XG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXY+MTIzPC9kaXY+JztcbiAgICogfVxuICAgKlxuICAgKiBNeUJsb2NrLndyYXAoKEJsb2NrKSA9PiB7XG4gICAqICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQmxvY2sge1xuICAgKiAgICAgc3RhdGljIHRlbXBsYXRlID0gYDxzZWN0aW9uIGNsYXNzPVwid3JhcHBlclwiPiR7IEJsb2NrLnRlbXBsYXRlIH08L3NlY3Rpb24+YDtcbiAgICpcbiAgICogICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICogICAgICAgc3VwZXIob3B0cyk7XG4gICAqXG4gICAqICAgICAgIHRoaXMuYWRkaXRpb25hbFZhciA9ICdhZGRpdGlvbmFsJztcbiAgICogICAgIH1cbiAgICogICB9O1xuICAgKiB9KTtcbiAgICovXG4gIHN0YXRpYyB3cmFwKC4uLndyYXBwZXJzKSB7XG4gICAgcmV0dXJuIHdyYXBwZXJzLnJlZHVjZSh3cmFwQmxvY2ssIHRoaXMpO1xuICB9XG5cbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBhcmdzOiBvcmlnaW5hbEFyZ3MsXG4gICAgICBkQmxvY2tOYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYXJlbnQsXG4gICAgICBwYXJlbnRFbGVtLFxuICAgICAgcGFyZW50QmxvY2ssXG4gICAgICBwYXJlbnRTY29wZSxcbiAgICAgIHBhcmVudFRlbXBsYXRlLFxuICAgICAgcHJldkJsb2NrXG4gICAgfSA9IG9wdHM7XG4gICAgY29uc3Qgd2F0Y2hlcnNUb1JlbW92ZSA9IFtdO1xuICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gZ2V0UHJvdG8odGhpcykuY29uc3RydWN0b3I7XG4gICAgY29uc3QgY2hpbGRyZW5CbG9ja3MgPSBbXTtcbiAgICBjb25zdCBtaXhpbnMgPSBbXTtcbiAgICBjb25zdCBpc1BhcmVudEJsb2NrID0gcGFyZW50IGluc3RhbmNlb2YgQmxvY2s7XG5cbiAgICBkZWZpbmVGcm96ZW5Qcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlciB7QmxvY2t9IEJsb2NrIyRcbiAgICAgICAqIEB0eXBlIHtCbG9ja31cbiAgICAgICAqIEBwdWJsaWNcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzLlxuICAgICAgICovXG4gICAgICAkOiB0aGlzLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBtZW1iZXIge09iamVjdH0gQmxvY2sjJCRcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gYXJncyAtIFByaXZhdGUgYXJncyBzY29wZS5cbiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0W119IGFyZ3NDaGlsZHJlbiAtIEJsb2NrIGFyZ3MgY2hpbGRyZW4uXG4gICAgICAgKiBAcHJvcGVydHkge0Jsb2NrW119IGNoaWxkcmVuIC0gQ2hpbGQgYmxvY2tzLlxuICAgICAgICogQHByb3BlcnR5IHtNaXhpbltdfSBtaXhpbnMgLSBDaGlsZCBtaXhpbnMuXG4gICAgICAgKiBAcHJvcGVydHkge0VsZW19IHBhcmVudEVsZW0gLSBQYXJlbnQgZWxlbWVudC5cbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gY29udGVudCAtIENvbnRlbnQgZWxlbWVudHMuXG4gICAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBldmFsdWF0ZSAtIEV2YWx1YXRlIGZ1bmN0aW9uLlxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGdsb2JhbHMgLSBQcml2YXRlIGdsb2JhbHMgc2NvcGUuXG4gICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gbG9jYWxzIC0gUHJpdmF0ZSBsb2NhbHMgc2NvcGUuXG4gICAgICAgKiBAcHJvcGVydHkge09iamVjdFtdfSB3YXRjaGVyc1RvUmVtb3ZlIC0gV2F0Y2hlcnMgdG8gcmVtb3ZlIGJlZm9yZSByZW1vdmluZyBlbGVtZW50LlxuICAgICAgICovXG4gICAgICAkJDoge1xuICAgICAgICBuYW1lLFxuICAgICAgICBkQmxvY2tOYW1lLFxuICAgICAgICBkQmxvY2tzOiBbXSxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBwYXJlbnRFbGVtLFxuICAgICAgICBwYXJlbnRTY29wZSxcbiAgICAgICAgcGFyZW50QmxvY2ssXG4gICAgICAgIHBhcmVudFRlbXBsYXRlLFxuICAgICAgICBjb250ZW50OiBuZXcgRWxlbSgpLFxuICAgICAgICBuczogY29uc3RydWN0b3IsXG4gICAgICAgIGFyZ3NDaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbkJsb2NrcyxcbiAgICAgICAgbWl4aW5zLFxuICAgICAgICBwcmV2QmxvY2ssXG4gICAgICAgIHdhdGNoZXJzVG9SZW1vdmUsXG4gICAgICAgIGlzUmVtb3ZlZDogZmFsc2UsXG4gICAgICAgIGV2YWx1YXRlOiAoZnVuYywgb25DaGFuZ2UsIHRhcmdldEJsb2NrLCBmb3JERWxlbWVudHMsIGZvckRJdGVtLCBmb3JERWFjaCkgPT4ge1xuICAgICAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yREVsZW1lbnRzID0gISFmb3JERWxlbWVudHM7XG4gICAgICAgICAgZm9yREl0ZW0gPSAhIWZvckRJdGVtO1xuXG4gICAgICAgICAgY29uc3Qgc2NvcGUgPSAobmFtZSA9PT0gJyNkLWl0ZW0nICYmICFmb3JESXRlbSkgfHwgZm9yREVhY2hcbiAgICAgICAgICAgID8gKGZvckRFYWNoIHx8IHRoaXMpLiQkLnNjb3BlXG4gICAgICAgICAgICA6IHRoaXM7XG4gICAgICAgICAgY29uc3QgeyB3YXRjaGVyc1RvUmVtb3ZlIH0gPSB0YXJnZXRCbG9jayA/IHRhcmdldEJsb2NrLiQkIDoge307XG4gICAgICAgICAgY29uc3Qgb25DaGFuZ2VGbGFnID0gISFvbkNoYW5nZTtcblxuICAgICAgICAgIGNvbnN0IGV2YWx1YXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlRmxhZykge1xuICAgICAgICAgICAgICBldmFsTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgIGdldHRpbmcgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYyhzY29wZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgZXJyLmV4cHJlc3Npb24gPSBmdW5jLmV4cHJlc3Npb247XG4gICAgICAgICAgICAgIGVyci5vcmlnaW5hbCA9IGZ1bmMub3JpZ2luYWw7XG4gICAgICAgICAgICAgIGVyci5ibG9jayA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29uc3RydWN0b3Iub25FdmFsRXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yLm9uRXZhbEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgZXJyb3IgaW4gb25FdmFsRXJyb3I6JywgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvbkNoYW5nZUZsYWcpIHtcbiAgICAgICAgICAgICAgY29uc3QgbG9jYWxXYXRjaGVycyA9IFtdO1xuXG4gICAgICAgICAgICAgIGl0ZXJhdGVBcnJheShnZXR0aW5nLCAod2F0Y2hlcnMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB3YXRjaGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmVzdWx0ID0gZXZhbHVhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jlc3VsdCAhPT0gcmVzdWx0ICYmICF0YXJnZXRCbG9jay4kJC5pc1JlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UobmV3UmVzdWx0LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3Qgd2F0Y2hlckJsb2NrID0ge1xuICAgICAgICAgICAgICAgICAgZm9yREVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgd2F0Y2hlcixcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXJzXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHdhdGNoZXIub25SZW1vdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpdGVyYXRlQXJyYXkobG9jYWxXYXRjaGVycywgKHdhdGNoZXJCbG9jaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcixcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaGVyc1xuICAgICAgICAgICAgICAgICAgICB9ID0gd2F0Y2hlckJsb2NrO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUFycmF5RWxlbSh3YXRjaGVyc1RvUmVtb3ZlLCB3YXRjaGVyQmxvY2spO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVBcnJheUVsZW0od2F0Y2hlcnMsIHdhdGNoZXIpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxvY2FsV2F0Y2hlcnMucHVzaCh3YXRjaGVyQmxvY2spO1xuICAgICAgICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUucHVzaCh3YXRjaGVyQmxvY2spO1xuICAgICAgICAgICAgICAgIHdhdGNoZXJzLnB1c2god2F0Y2hlcik7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGV2YWxNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGdldHRpbmcgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIGV2YWx1YXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogKGlzUGFyZW50U2lnbmFsKSA9PiB7XG4gICAgICAgICAgdGhpcy4kJC5pc1JlbW92ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgcmVtb3ZlV2F0Y2hlcnMod2F0Y2hlcnNUb1JlbW92ZSk7XG5cbiAgICAgICAgICBpdGVyYXRlQXJyYXkoY2hpbGRyZW5CbG9ja3MsIHJlbW92ZVdpdGhQYXJlbnRTaWduYWwpO1xuXG4gICAgICAgICAgaXRlcmF0ZUFycmF5KG1peGlucywgcmVtb3ZlV2l0aFBhcmVudFNpZ25hbCk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5iZWZvcmVSZW1vdmUoKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNiZWZvcmVSZW1vdmU6YCwgZXJyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWlzUGFyZW50U2lnbmFsICYmIGlzUGFyZW50QmxvY2spIHtcbiAgICAgICAgICAgIHBhcmVudC4kJC5yZW1vdmVDb250ZW50KHRoaXMuJCQuY29udGVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFpc1BhcmVudFNpZ25hbCAmJiBwYXJlbnRCbG9jaykge1xuICAgICAgICAgICAgcmVtb3ZlQXJyYXlFbGVtKHBhcmVudEJsb2NrLiQkLmNoaWxkcmVuLCB0aGlzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLiQkLmNvbnRlbnQucmVtb3ZlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZENvbnRlbnQ6IChjb250ZW50VG9BZGQsIG5vdFJlY3Vyc2l2ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy4kJC5jb250ZW50LmluZGV4T2YoY29udGVudFRvQWRkWzBdLnByZXZpb3VzU2libGluZykgKyAxO1xuXG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLiQkLmNvbnRlbnQgPSBjb250ZW50VG9BZGQuYWRkKHRoaXMuJCQuY29udGVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJCQuY29udGVudCA9IHRoaXMuJCQuY29udGVudFxuICAgICAgICAgICAgICAuc2xpY2UoMCwgaW5kZXgpXG4gICAgICAgICAgICAgIC5hZGQoY29udGVudFRvQWRkLCB0aGlzLiQkLmNvbnRlbnQuc2xpY2UoaW5kZXgpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNQYXJlbnRCbG9jayAmJiAhbm90UmVjdXJzaXZlKSB7XG4gICAgICAgICAgICBwYXJlbnQuJCQuYWRkQ29udGVudChjb250ZW50VG9BZGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbW92ZUNvbnRlbnQ6IChjb250ZW50VG9Nb3ZlLCBhZnRlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy4kJC5jb250ZW50LmluZGV4T2YoY29udGVudFRvTW92ZVswXSk7XG4gICAgICAgICAgY29uc3QgaW5kZXhUb1B1dCA9IHRoaXMuJCQuY29udGVudC5pbmRleE9mKGFmdGVyWzBdKSArIDE7XG5cbiAgICAgICAgICBpZiAoaW5kZXhUb1B1dCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy4kJC5jb250ZW50ID0gY29udGVudFRvTW92ZS5hZGQoXG4gICAgICAgICAgICAgIHRoaXMuJCQuY29udGVudC5zbGljZShpbmRleFRvUHV0LCBpbmRleCksXG4gICAgICAgICAgICAgIHRoaXMuJCQuY29udGVudC5zbGljZShpbmRleCArIGNvbnRlbnRUb01vdmUubGVuZ3RoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID4gaW5kZXhUb1B1dCkge1xuICAgICAgICAgICAgdGhpcy4kJC5jb250ZW50ID0gdGhpcy4kJC5jb250ZW50XG4gICAgICAgICAgICAgIC5zbGljZSgwLCBpbmRleFRvUHV0KVxuICAgICAgICAgICAgICAuYWRkKFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUb01vdmUsXG4gICAgICAgICAgICAgICAgdGhpcy4kJC5jb250ZW50LnNsaWNlKGluZGV4VG9QdXQsIGluZGV4KSxcbiAgICAgICAgICAgICAgICB0aGlzLiQkLmNvbnRlbnQuc2xpY2UoaW5kZXggKyBjb250ZW50VG9Nb3ZlLmxlbmd0aClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kJC5jb250ZW50ID0gdGhpcy4kJC5jb250ZW50XG4gICAgICAgICAgICAgIC5zbGljZSgwLCBpbmRleClcbiAgICAgICAgICAgICAgLmFkZChcbiAgICAgICAgICAgICAgICB0aGlzLiQkLmNvbnRlbnQuc2xpY2UoaW5kZXggKyBjb250ZW50VG9Nb3ZlLmxlbmd0aCwgaW5kZXhUb1B1dCksXG4gICAgICAgICAgICAgICAgY29udGVudFRvTW92ZSxcbiAgICAgICAgICAgICAgICB0aGlzLiQkLmNvbnRlbnQuc2xpY2UoaW5kZXhUb1B1dClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNQYXJlbnRCbG9jayAmJiBpbmRleFRvUHV0KSB7XG4gICAgICAgICAgICBwYXJlbnQuJCQubW92ZUNvbnRlbnQoY29udGVudFRvTW92ZSwgYWZ0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQ29udGVudDogKGNvbnRlbnRUb1JlbW92ZSkgPT4ge1xuICAgICAgICAgIHRoaXMuJCQuY29udGVudCA9IHRoaXMuJCQuY29udGVudC5maWx0ZXIoKGVsZW0pID0+IChcbiAgICAgICAgICAgIGNvbnRlbnRUb1JlbW92ZS5pbmRleE9mKGVsZW0pID09PSAtMVxuICAgICAgICAgICkpO1xuXG4gICAgICAgICAgaWYgKGlzUGFyZW50QmxvY2spIHtcbiAgICAgICAgICAgIHBhcmVudC4kJC5yZW1vdmVDb250ZW50KGNvbnRlbnRUb1JlbW92ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnNlcnRJblN0YXJ0T2ZJdDogKGNvbnRlbnRUb0luc2VydCwgbW92ZUZsYWcpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHByZXZCbG9jayB9ID0gdGhpcy4kJDtcbiAgICAgICAgICBsZXQgYWZ0ZXIgPSBhZnRlckVsZW07XG5cbiAgICAgICAgICBpZiAocHJldkJsb2NrIGluc3RhbmNlb2YgQmxvY2spIHtcbiAgICAgICAgICAgIGFmdGVyID0gcHJldkJsb2NrLiQkLmluc2VydEFmdGVySXQoY29udGVudFRvSW5zZXJ0LCBtb3ZlRmxhZyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwcmV2QmxvY2spIHtcbiAgICAgICAgICAgIGFmdGVyID0gcHJldkJsb2NrO1xuICAgICAgICAgICAgY29udGVudFRvSW5zZXJ0Lmluc2VydEFmdGVyKHByZXZCbG9jayk7XG5cbiAgICAgICAgICAgIGlmIChpc1BhcmVudEJsb2NrKSB7XG4gICAgICAgICAgICAgIGlmIChtb3ZlRmxhZykge1xuICAgICAgICAgICAgICAgIHBhcmVudC4kJC5tb3ZlQ29udGVudChjb250ZW50VG9JbnNlcnQsIGFmdGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuJCQuYWRkQ29udGVudChjb250ZW50VG9JbnNlcnQsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc1BhcmVudEJsb2NrKSB7XG4gICAgICAgICAgICBjb25zdCB7IHByZXZCbG9jayB9ID0gcGFyZW50LiQkO1xuXG4gICAgICAgICAgICBpZiAocHJldkJsb2NrKSB7XG4gICAgICAgICAgICAgIGxldCBub3RSZWN1cnNpdmU7XG5cbiAgICAgICAgICAgICAgaWYgKHByZXZCbG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBwcmV2QmxvY2suJCQuaW5zZXJ0QWZ0ZXJJdChjb250ZW50VG9JbnNlcnQsIG1vdmVGbGFnKTtcbiAgICAgICAgICAgICAgICBub3RSZWN1cnNpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFmdGVyID0gcHJldkJsb2NrO1xuICAgICAgICAgICAgICAgIG5vdFJlY3Vyc2l2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRUb0luc2VydC5pbnNlcnRBZnRlcihwcmV2QmxvY2spO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKG1vdmVGbGFnKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LiQkLm1vdmVDb250ZW50KGNvbnRlbnRUb0luc2VydCwgYWZ0ZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC4kJC5hZGRDb250ZW50KGNvbnRlbnRUb0luc2VydCwgbm90UmVjdXJzaXZlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYWZ0ZXIgPSBwYXJlbnQuJCQuaW5zZXJ0SW5TdGFydE9mSXQoY29udGVudFRvSW5zZXJ0LCBtb3ZlRmxhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnRUb0luc2VydC5pbnRvKHBhcmVudEVsZW0sIGZhbHNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobW92ZUZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMuJCQubW92ZUNvbnRlbnQoY29udGVudFRvSW5zZXJ0LCBhZnRlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJCQuYWRkQ29udGVudChjb250ZW50VG9JbnNlcnQsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBhZnRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgaW5zZXJ0QWZ0ZXJJdDogKGNvbnRlbnRUb0luc2VydCwgbW92ZUZsYWcpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHByZXZCbG9jayB9ID0gdGhpcy4kJDtcbiAgICAgICAgICBsZXQgYWZ0ZXIgPSBhZnRlckVsZW07XG4gICAgICAgICAgbGV0IHRyeVRvQWRkT3JNb3ZlO1xuXG4gICAgICAgICAgaWYgKHRoaXMuJCQuY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFmdGVyID0gdGhpcy4kJC5jb250ZW50LmVsZW0oLTEpO1xuICAgICAgICAgICAgdHJ5VG9BZGRPck1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgY29udGVudFRvSW5zZXJ0Lmluc2VydEFmdGVyKGFmdGVyKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHByZXZCbG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XG4gICAgICAgICAgICBhZnRlciA9IHByZXZCbG9jay4kJC5pbnNlcnRBZnRlckl0KGNvbnRlbnRUb0luc2VydCwgbW92ZUZsYWcpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJldkJsb2NrKSB7XG4gICAgICAgICAgICBhZnRlciA9IHByZXZCbG9jaztcbiAgICAgICAgICAgIHRyeVRvQWRkT3JNb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnRlbnRUb0luc2VydC5pbnNlcnRBZnRlcihwcmV2QmxvY2spO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNQYXJlbnRCbG9jaykge1xuICAgICAgICAgICAgYWZ0ZXIgPSBwYXJlbnQuJCQuaW5zZXJ0SW5TdGFydE9mSXQoY29udGVudFRvSW5zZXJ0LCBtb3ZlRmxhZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnRUb0luc2VydC5pbnRvKHBhcmVudEVsZW0sIGZhbHNlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNQYXJlbnRCbG9jayAmJiB0cnlUb0FkZE9yTW92ZSkge1xuICAgICAgICAgICAgaWYgKG1vdmVGbGFnKSB7XG4gICAgICAgICAgICAgIHBhcmVudC4kJC5tb3ZlQ29udGVudChjb250ZW50VG9JbnNlcnQsIGFmdGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcmVudC4kJC5hZGRDb250ZW50KGNvbnRlbnRUb0luc2VydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGFmdGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdGVyYXRlT2JqZWN0KGNvbnN0cnVjdG9yLmRlZmF1bHRMb2NhbHMsICh2YWx1ZSwgdmFyaWFibGUpID0+IHtcbiAgICAgIHRoaXNbdmFyaWFibGVdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgaXRlcmF0ZUFycmF5KGNvbnN0cnVjdG9yLl92YXJzLCAodmFyaWFibGUpID0+IHtcbiAgICAgIHRoaXNbdmFyaWFibGVdID0gdGhpc1t2YXJpYWJsZV07XG4gICAgfSk7XG5cbiAgICBjb25zdCBhcmdzT2JqZWN0ID0gY3JlYXRlKG51bGwpO1xuICAgIGxldCBhcmdzID0gY3JlYXRlKGNvbnN0cnVjdG9yLmRlZmF1bHRBcmdzIHx8IG51bGwpO1xuICAgIGxldCB3YXNEUmVzdDtcblxuICAgIGl0ZXJhdGVPYmplY3Qob3JpZ2luYWxBcmdzLCAodmFsdWUsIGFyZykgPT4ge1xuICAgICAgY29uc3QgaXNEUmVzdCA9IERfUkVTVF9SRUdFWC50ZXN0KGFyZyk7XG4gICAgICBjb25zdCBsb2NhbEFyZ3MgPSBpc0RSZXN0IHx8IHdhc0RSZXN0XG4gICAgICAgID8gY3JlYXRlKGFyZ3MpXG4gICAgICAgIDogYXJncztcblxuICAgICAgYXJncyA9IGxvY2FsQXJncztcblxuICAgICAgaWYgKGlzRFJlc3QpIHtcbiAgICAgICAgY29uc3QgcmVzdEFyZ3MgPSBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZSh2YWx1ZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgaXRlcmF0ZU9iamVjdChsb2NhbEFyZ3MsIGNsZWFuUHJvcGVydHkpO1xuICAgICAgICAgIGFzc2lnbihsb2NhbEFyZ3MsIHRyYW5zZm9ybVJlc3RBcmdzKHZhbHVlKSk7XG4gICAgICAgICAgY2FsY3VsYXRlQXJncyhhcmdzLCBhcmdzT2JqZWN0KTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgd2FzRFJlc3QgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxBcmdzLCB0cmFuc2Zvcm1SZXN0QXJncyhyZXN0QXJncykpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpc0RFbGVtZW50cyA9IG5hbWUgPT09ICdkLWVsZW1lbnRzJztcbiAgICAgIGNvbnN0IGZvckRFbGVtZW50cyA9IGlzREVsZW1lbnRzICYmIGFyZyA9PT0gJ3ZhbHVlJztcblxuICAgICAgd2FzRFJlc3QgPSBmYWxzZTtcblxuICAgICAgaWYgKG5hbWUgIT09ICdkLWVhY2gnIHx8IGFyZyAhPT0gJ3VpZCcpIHtcbiAgICAgICAgdmFsdWUgPSBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZSh2YWx1ZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgbG9jYWxBcmdzW2FyZ10gPSB2YWx1ZTtcbiAgICAgICAgICBjYWxjdWxhdGVBcmdzKGFyZ3MsIGFyZ3NPYmplY3QpO1xuICAgICAgICB9LCB0aGlzLCBmb3JERWxlbWVudHMsIGlzREVsZW1lbnRzICYmIHBhcmVudEJsb2NrLiQkLm5hbWUgPT09ICcjZC1pdGVtJyk7XG4gICAgICB9XG5cbiAgICAgIGxvY2FsQXJnc1thcmddID0gdmFsdWU7XG4gICAgfSk7XG5cbiAgICBkZWZpbmVGcm96ZW5Qcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIC8qKlxuICAgICAgICogQG1lbWJlciB7T2JqZWN0fSBCbG9jayNhcmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICogQHB1YmxpY1xuICAgICAgICovXG4gICAgICBhcmdzOiBhcmdzT2JqZWN0LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBtZW1iZXIge09iamVjdH0gQmxvY2sjZ2xvYmFsc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqIEBwdWJsaWNcbiAgICAgICAqL1xuICAgICAgZ2xvYmFsczogY3JlYXRlKFxuICAgICAgICBwYXJlbnRTY29wZVxuICAgICAgICAgID8gcGFyZW50U2NvcGUuZ2xvYmFsc1xuICAgICAgICAgIDogbnVsbFxuICAgICAgKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyIHtCbG9ja3x1bmRlZmluZWR9IEJsb2NrI3BhcmVudFNjb3BlXG4gICAgICAgKiBAdHlwZSB7QmxvY2t8dW5kZWZpbmVkfVxuICAgICAgICogQHB1YmxpY1xuICAgICAgICovXG4gICAgICBwYXJlbnRTY29wZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbWVtYmVyIHtCbG9ja3x1bmRlZmluZWR9IEJsb2NrI3BhcmVudFRlbXBsYXRlXG4gICAgICAgKiBAdHlwZSB7QmxvY2t8dW5kZWZpbmVkfVxuICAgICAgICogQHB1YmxpY1xuICAgICAgICovXG4gICAgICBwYXJlbnRUZW1wbGF0ZVxuICAgIH0pO1xuXG4gICAgY2FsY3VsYXRlQXJncyhhcmdzLCBhcmdzT2JqZWN0KTtcblxuICAgIGlmIChwYXJlbnRCbG9jaykge1xuICAgICAgcGFyZW50QmxvY2suJCQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBCbG9jayNhZnRlckNvbnN0cnVjdFxuICAgKiBAcHVibGljXG4gICAqIEBkZXNjcmlwdGlvbiBJcyBjYWxsZWQgYWZ0ZXIgYmxvY2sgY29uc3RydWN0aW9uIChpbmNsdWRpbmcgYWxsIHNjb3BlcylcbiAgICogYnV0IGJlZm9yZSByZW5kZXJpbmcgdGhlIGJsb2NrIGFuZCBpdHMgY2hpbGRyZW4uXG4gICAqL1xuICBhZnRlckNvbnN0cnVjdCgpIHt9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgQmxvY2sjYWZ0ZXJSZW5kZXJcbiAgICogQHB1YmxpY1xuICAgKiBAZGVzY3JpcHRpb24gSXMgY2FsbGVkIGFmdGVyIGJsb2NrIGhhcyBiZWVuIHJlbmRlcmVkLlxuICAgKi9cbiAgYWZ0ZXJSZW5kZXIoKSB7fVxuXG4gIC8qKlxuICAgKiBAbWV0aG9kIEJsb2NrI2JlZm9yZVJlbW92ZVxuICAgKiBAcHVibGljXG4gICAqIEBkZXNjcmlwdGlvbiBJcyBjYWxsZWQgYmVmb3JlIHRoZSBibG9jayByZW1vdmFsLlxuICAgKi9cbiAgYmVmb3JlUmVtb3ZlKCkge31cblxuICAvKipcbiAgICogQG1ldGhvZCBCbG9jayNnZXRDb250ZW50XG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge0VsZW19XG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGNvbnRlbnRzIG9mIHRoZSBibG9jay5cbiAgICovXG4gIGdldENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuJCQuY29udGVudC5zbGljZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgQmxvY2sjZXZhbHVhdGVBbmRXYXRjaFxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiB0byBldmFsdWF0ZS5cbiAgICogQHBhcmFtIHtXYXRjaGVyfSBjYWxsYmFjayAtIENhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCB3aGVuIHRoZSBleHByZXNzaW9uIHZhbHVlIGlzIGNoYW5nZWQuXG4gICAqIEByZXR1cm5zIHsqfSBFdmFsdWF0aW9uIHJlc3VsdC5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZXZhbHVhdGluZyBhbiBleHByZXNzaW9uIGluIGNvbnRleHQgb2YgdGhlIGJsb2NrIGFuZCB3YXRjaGluZyBmb3IgdGhlIGNoYW5nZXMuXG4gICAqL1xuICBldmFsdWF0ZUFuZFdhdGNoKGZ1bmMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuJCQuZXZhbHVhdGUoZnVuYywgY2FsbGJhY2ssIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgQmxvY2sjd2F0Y2hcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0gey4uLignYXJncyd8J2dsb2JhbHMnfFN0cmluZyl9IFt2YXJzXSAtIFZhcnMgdG8gd2F0Y2ggKGFyZ3MsIGdsb2JhbHMgb3IgbG9jYWxzKS5cbiAgICogSWYgbm8gc3BlY2lmaWVkIGFsbCBsb2NhbHMsIGFyZ3MgYW5kIGdsb2JhbHMgYXJlIHRvIGJlIHdhdGNoZWQuXG4gICAqIElmIHRoZSAnYXJncycgc3RyaW5nIGFsbCBhcmdzIGFyZSB0byBiZSB3YXRjaGVkLlxuICAgKiBJZiB0aGUgJ2dsb2JhbHMnIHN0cmluZyBhbGwgZ2xvYmFscyBhcmUgdG8gYmUgd2F0Y2hlZC5cbiAgICogQHBhcmFtIHtWYXJzV2F0Y2hlcn0gd2F0Y2hlciAtIENhbGxlZCB3aGVuIHdhdGNoZWQgdmFycyBhcmUgY2hhbmdlZC5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIHZhcnMuIElmIG5vIHZhcnMgcGFzc2VkIGluIGFyZ3VtZW50c1xuICAgKiBhbGwgdmFycyBhcmUgdG8gYmUgd2F0Y2hlZC4gSWYgdGhlICdhcmdzJyBzdHJpbmcgaXMgaW4gdGhlIGFyZ3VtZW50cyBhbGwgYXJncyBhcmUgdG8gYmUgd2F0Y2hlZC5cbiAgICogSWYgdGhlICdnbG9iYWxzJyBzdHJpbmcgaXMgaW4gdGhlIGFyZ3VtZW50cyBhbGwgZ2xvYmFscyBhcmUgdG8gYmUgd2F0Y2hlZC5cbiAgICogT3RoZXJ3aXNlIHNwZWNpZmllZCB2YXJzIHdpbGwgYmUgd2F0Y2hlZC5cbiAgICogV2F0Y2hlcnMgc2hvdWxkIG5vdCBiZSBwdXQgaW5zaWRlIHRoZSBjb25zdHJ1Y3Rvci4gSXQgaXMgY29uc2lkZXJlZCBiZXN0XG4gICAqIHByYWN0aWNlIHRvIGRvIGl0IGluc2lkZSB0aGUge0BsaW5rIEJsb2NrI2FmdGVyQ29uc3RydWN0fSBtZXRob2QuXG4gICAqIE5vdGUgdGhhdCB0aGVzZSBleHByZXNzaW9ucyAodmFycywgaS5lLiBcImFyZ3MuYXJnXCIpIGFyZSBub3QgdG8gYmVcbiAgICogZXZhbHVhdGVkIHNvIHlvdSBjYW5ub3QgcHV0IHRoZXJlIHRoaW5ncyBsaWtlIFwiYVtiXVwiIG9yIGFueSBqcyBjb2RlLFxuICAgKiBvbmx5IGV4cHJlc3Npb25zIGxpa2UgXCJhXCIsIFwiYlwiLCBcImFyZ3MuYVwiLCBcImFyZ3MuYlwiIGFuZCBcImdsb2JhbHMuYVwiLCBcImdsb2JhbHMuYlwiLlxuICAgKiBBbHNvIG5vdGUgdGhhdCBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSB2YXIgdGhhdCBhcmUgY2hhbmdlZCBhdCBvbmNlIChzeW5jaHJvbm91c2x5KVxuICAgKiB0aGUgd2F0Y2hlciBpcyBjYWxsZWQgb25seSBvbmNlLlxuICAgKiBOb3RlIHRoYXQgdGhlIHdhdGNoZXIgaXMgZXhlY3V0ZWQgcmlnaHQgYXdheSBiZWNhdXNlIGluIG1vc3QgY2FzZXNcbiAgICogdGhpcyBiZWhhdmlvdXIgaXMgdmVyeSBjb252ZW5pZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2IC8+JztcbiAgICpcbiAgICogICBhZnRlckNvbnN0cnVjdCgpIHtcbiAgICogICAgIHRoaXMud2F0Y2goJ2EnLCAoKSA9PiB7fSk7XG4gICAqICAgICB0aGlzLndhdGNoKCdhcmdzLmEnLCAnZ2xvYmFscy5yJywgKCkgPT4ge30pO1xuICAgKiAgICAgdGhpcy53YXRjaCgoKSA9PiB7fSk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqL1xuICB3YXRjaCguLi52YXJzKSB7XG4gICAgY29uc3Qgb2xkV2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24ob2xkV2F0Y2hlcikpIHtcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIGxhc3QgYXJndW1lbnQgKHdhdGNoZXIpIHdhc24ndCBzcGVjaWZpZWQgKCR7IHRoaXMuJCQubmFtZSB9I3dhdGNoKWApO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgd2F0Y2hlciA9ICgpID0+IHtcbiAgICAgIG9sZFdhdGNoZXIoKTtcbiAgICB9O1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHdhdGNoRm9yQWxsTG9jYWxzKHRoaXMsIHdhdGNoZXIpO1xuICAgICAgd2F0Y2hGb3JBbGxBcmdzKHRoaXMsIHdhdGNoZXIpO1xuICAgICAgd2F0Y2hGb3JBbGxHbG9iYWxzKHRoaXMsIHdhdGNoZXIpO1xuXG4gICAgICBvbGRXYXRjaGVyKCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpdGVyYXRlQXJyYXkoYXJndW1lbnRzLCAodmFyaWFibGUpID0+IHtcbiAgICAgIGlmICh2YXJpYWJsZSA9PT0gb2xkV2F0Y2hlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhcmlhYmxlID0gYCR7IHZhcmlhYmxlIH1gO1xuXG4gICAgICBpZiAodmFyaWFibGUgPT09ICckJykge1xuICAgICAgICByZXR1cm4gd2F0Y2hGb3JBbGxMb2NhbHModGhpcywgd2F0Y2hlcik7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YXJpYWJsZSA9PT0gJ2FyZ3MnKSB7XG4gICAgICAgIHJldHVybiB3YXRjaEZvckFsbEFyZ3ModGhpcywgd2F0Y2hlcik7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YXJpYWJsZSA9PT0gJ2dsb2JhbHMnKSB7XG4gICAgICAgIHJldHVybiB3YXRjaEZvckFsbEdsb2JhbHModGhpcywgd2F0Y2hlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChXQVRDSEVEX0FSR19QUkVGSVhfUkVHRVgudGVzdCh2YXJpYWJsZSkpIHtcbiAgICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZS5yZXBsYWNlKFdBVENIRURfQVJHX1BSRUZJWF9SRUdFWCwgJycpO1xuXG4gICAgICAgIGlmICghdGhpcy4kJC5hcmdzW3ZhcmlhYmxlXSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJCQuYXJnc1t2YXJpYWJsZV0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKFdBVENIRURfR0xPQkFMX1BSRUZJWF9SRUdFWC50ZXN0KHZhcmlhYmxlKSkge1xuICAgICAgICB2YXJpYWJsZSA9IHZhcmlhYmxlLnJlcGxhY2UoV0FUQ0hFRF9HTE9CQUxfUFJFRklYX1JFR0VYLCAnJyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLiQkLmdsb2JhbHNbdmFyaWFibGVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB3YXRjaGVycyB9ID0gdGhpcy4kJC5nbG9iYWxzW3ZhcmlhYmxlXTtcblxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XG4gICAgICAgIHRoaXMuJCQud2F0Y2hlcnNUb1JlbW92ZS5wdXNoKHtcbiAgICAgICAgICB3YXRjaGVyLFxuICAgICAgICAgIHdhdGNoZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLiQkLmxvY2Fsc1t2YXJpYWJsZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiQkLmxvY2Fsc1t2YXJpYWJsZV0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xuICAgIH0pO1xuXG4gICAgb2xkV2F0Y2hlcigpO1xuICB9XG59XG5cbnNldFRvU3RyaW5nVGFnKEJsb2NrLCAnQmxvY2snKTtcbnNldFByb3RvKEJsb2NrLnByb3RvdHlwZSwgbnVsbCk7XG5cbnJlZ2lzdGVyQnVpbHRJbnMoQmxvY2tzLCByb290QmxvY2tzLCBCbG9jayk7XG5cbmNvbnN0IGJsb2NrcyA9IEJsb2NrLl9ibG9ja3M7XG5cbmNsYXNzIE1peGluIHtcbiAgc3RhdGljIGV2YWx1YXRlID0gdHJ1ZTtcblxuICAvKipcbiAgICogQG1ldGhvZCBNaXhpbi53cmFwXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHsuLi5XcmFwcGVyfSB3cmFwcGVycyAtIEZ1bmN0aW9ucyB0aGF0IHJldHVybiB3cmFwcGVkIG1peGluLlxuICAgKiBAcmV0dXJucyB7TWl4aW59IE5ldyBtaXhpbi5cbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd3JhcHBpbmcgbWl4aW5zLlxuICAgKiBJdCBpcyBjb25zaWRlcmVkIGJlc3QgcHJhY3RpY2UgdG8ganVzdCBleHRlbmRzIHRoZSBvbGQgbWl4aW4gd2l0aCBhIG5ldyBvbmUuXG4gICAqL1xuICBzdGF0aWMgd3JhcCguLi53cmFwcGVycykge1xuICAgIHJldHVybiB3cmFwcGVycy5yZWR1Y2Uod3JhcE1peGluLCB0aGlzKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBkeW5hbWljLFxuICAgICAgZWxlbSxcbiAgICAgIGFyZ3MsXG4gICAgICBjb21tZW50LFxuICAgICAgcGFyZW50QmxvY2ssXG4gICAgICBwYXJlbnRTY29wZSxcbiAgICAgIHBhcmVudFRlbXBsYXRlXG4gICAgfSA9IG9wdHM7XG4gICAgY29uc3Qgd2F0Y2hlcnNUb1JlbW92ZSA9IFtdO1xuICAgIGNvbnN0IHdhdGNoZXJzID0gW107XG5cbiAgICBkZWZpbmVGcm96ZW5Qcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgICQkOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIF92YWx1ZTogdmFsdWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpc0R5bmFtaWM6IGR5bmFtaWMsXG4gICAgICAgIHBhcmVudFNjb3BlLFxuICAgICAgICBwYXJlbnRCbG9jayxcbiAgICAgICAgcGFyZW50VGVtcGxhdGUsXG4gICAgICAgIHdhdGNoZXJzLFxuICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlLFxuICAgICAgICBpc1JlbW92ZWQ6IGZhbHNlLFxuICAgICAgICBldmFsdWF0ZTogKHdhdGNoZXIpID0+IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpc0R5bmFtaWMsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIF92YWx1ZVxuICAgICAgICAgIH0gPSB0aGlzLiQkO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGlzRHluYW1pY1xuICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgOiBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZShfdmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHdhdGNoZXIpIHtcbiAgICAgICAgICAgIHdhdGNoZXJzLnB1c2god2F0Y2hlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlOiAoaXNQYXJlbnRTaWduYWwpID0+IHtcbiAgICAgICAgICB0aGlzLiQkLmlzUmVtb3ZlZCA9IHRydWU7XG5cbiAgICAgICAgICByZW1vdmVXYXRjaGVycyh3YXRjaGVyc1RvUmVtb3ZlKTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmJlZm9yZVJlbW92ZSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I2JlZm9yZVJlbW92ZTpgLCBlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghaXNQYXJlbnRTaWduYWwgJiYgcGFyZW50QmxvY2spIHtcbiAgICAgICAgICAgIHJlbW92ZUFycmF5RWxlbShwYXJlbnRCbG9jay4kJC5taXhpbnMsIHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB0aGlzLmNvbW1lbnQgPSBjb21tZW50O1xuICAgIHRoaXMucGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZTtcbiAgICB0aGlzLnBhcmVudFRlbXBsYXRlID0gcGFyZW50VGVtcGxhdGU7XG4gICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICB0aGlzLm5vZGUgPSBlbGVtWzBdO1xuXG4gICAgaWYgKHBhcmVudEJsb2NrKSB7XG4gICAgICBwYXJlbnRCbG9jay4kJC5taXhpbnMucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBhZnRlclVwZGF0ZSgpIHt9XG5cbiAgYmVmb3JlUmVtb3ZlKCkge31cblxuICAvKipcbiAgICogQG1ldGhvZCBCbG9jayNldmFsdWF0ZUFuZFdhdGNoXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtXYXRjaGVyfSBjYWxsYmFjayAtIENhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCB3aGVuIHRoZSBtaXhpbiB2YWx1ZSBpcyBjaGFuZ2VkLlxuICAgKiBAcmV0dXJucyB7Kn0gRXZhbHVhdGlvbiByZXN1bHQuXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGV2YWx1YXRpbmcgdGhlIG1peGluIHZhbHVlIGFuZCB3YXRjaGluZyBmb3IgdGhlIGNoYW5nZXMuXG4gICAqL1xuICBldmFsdWF0ZUFuZFdhdGNoKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuJCQuZXZhbHVhdGUoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgQmxvY2sjZXZhbHVhdGVPbmNlXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMgeyp9IEV2YWx1YXRpb24gcmVzdWx0LlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBldmFsdWF0aW5nIHRoZSBtaXhpbiB2YWx1ZSBvbmNlLlxuICAgKi9cbiAgZXZhbHVhdGVPbmNlKCkge1xuICAgIHJldHVybiB0aGlzLiQkLmV2YWx1YXRlKCk7XG4gIH1cbn1cblxuc2V0VG9TdHJpbmdUYWcoTWl4aW4sICdNaXhpbicpO1xuXG5yZWdpc3RlckJ1aWx0SW5zKE1peGlucywgcm9vdE1peGlucywgTWl4aW4pO1xuXG5jb25zdCBtaXhpbnMgPSBCbG9jay5fbWl4aW5zO1xuXG5mdW5jdGlvbiBpbml0QXBwKGh0bWwsIG5vZGUpIHtcbiAgY29uc3QgcGFyZW50RWxlbSA9IG5ldyBFbGVtKG5vZGUpLmVsZW0oMCk7XG5cbiAgaWYgKCFwYXJlbnRFbGVtLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgZWxlbWVudCB0byBpbnNlcnQgdGhlIGFwcCBpbnRvIHdhcyBnaXZlbiEgKGluaXRBcHApJyk7XG4gIH1cblxuICBpZiAocGFyZW50RWxlbS5wcm9wKCdEd2F5bmVSb290QmxvY2snKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgYWxyZWFkeSBleGlzdHMgYSBEd2F5bmUgYXBwIGluc2lkZSB0aGUgZ2l2ZW4gZWxlbWVudCEgKGluaXRBcHApJyk7XG4gIH1cblxuICBpZiAoaXNBcnJheShodG1sKSkge1xuICAgIGh0bWwgPSB7XG4gICAgICB2YXJzOiBbXSxcbiAgICAgIHZhbHVlOiBodG1sXG4gICAgfTtcbiAgfVxuXG4gIGNsYXNzIFJvb3RCbG9jayBleHRlbmRzIEJsb2NrIHtcbiAgICBzdGF0aWMgX3ZhcnMgPSBodG1sLnZhcnM7XG4gICAgc3RhdGljIF9odG1sID0gaHRtbC52YWx1ZVxuICB9XG5cbiAgY29uc3QgYmxvY2sgPSBjcmVhdGVCbG9jayh7XG4gICAgbm9kZToge1xuICAgICAgbmFtZTogJyNSb290QmxvY2snXG4gICAgfSxcbiAgICBDb25zdHJ1Y3RvcjogUm9vdEJsb2NrLFxuICAgIHBhcmVudDogcGFyZW50RWxlbSxcbiAgICBwYXJlbnRFbGVtXG4gIH0pO1xuXG4gIHBhcmVudEVsZW1cbiAgICAucHJvcCgnRHdheW5lUm9vdEJsb2NrJywgYmxvY2spXG4gICAgLmF0dHIoJ2R3YXluZS1yb290JywgJycpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBcHAobm9kZSkge1xuICBjb25zdCBlbGVtID0gbmV3IEVsZW0obm9kZSk7XG5cbiAgaWYgKCFlbGVtLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgZWxlbWVudCB0byByZW1vdmUgdGhlIGFwcCBmcm9tIHdhcyBnaXZlbiEgKHJlbW92ZUFwcCknKTtcbiAgfVxuXG4gIGNvbnN0IHsgRHdheW5lUm9vdEJsb2NrIH0gPSBlbGVtWzBdO1xuXG4gIGlmICghRHdheW5lUm9vdEJsb2NrKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBhcHAgcmVnaXN0ZXJlZCBpbnNpZGUgdGhlIGdpdmVuIGVsZW1lbnQhIChyZW1vdmVBcHApJyk7XG4gIH1cblxuICBEd2F5bmVSb290QmxvY2suJCQucmVtb3ZlKCk7XG4gIGVsZW0ucmVtb3ZlQXR0cignZHdheW5lLXJvb3QnKTtcblxuICBkZWxldGUgZWxlbVswXS5Ed2F5bmVSb290QmxvY2s7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyQnVpbHRJbnMoc2V0LCBzY29wZSwgcHJvdG8pIHtcbiAgaXRlcmF0ZU9iamVjdChzZXQsIChyZWdpc3RlcikgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZVxuICAgIH0gPSByZWdpc3Rlcihwcm90bywgY3JlYXRlQmxvY2ssIEJsb2NrKTtcblxuICAgIGlmIChwcm90byA9PT0gQmxvY2spIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdmFycyxcbiAgICAgICAgdmFsdWU6IGh0bWxcbiAgICAgIH0gPSB2YWx1ZS50ZW1wbGF0ZTtcblxuICAgICAgdmFsdWUuX2h0bWwgPSBodG1sO1xuICAgICAgdmFsdWUuX3ZhcnMgPSB2YXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZS5fbWF0Y2ggPSBjb25zdHJ1Y3RNaXhpblJlZ0V4cChuYW1lKTtcbiAgICB9XG5cbiAgICBzY29wZVtuYW1lXSA9IHZhbHVlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmxvY2soeyBub2RlLCBDb25zdHJ1Y3RvciwgcGFyZW50LCBwYXJlbnRFbGVtLCBwYXJlbnRCbG9jaywgcGFyZW50U2NvcGUsIHBhcmVudFRlbXBsYXRlLCBwcmV2QmxvY2sgfSkge1xuICBjb25zdCBkb2MgPSBuZXcgRWxlbShwYXJlbnRFbGVtWzBdLm93bmVyRG9jdW1lbnQpO1xuICBjb25zdCBlbGVtID0gcGFyZW50RWxlbVswXS5uYW1lc3BhY2VVUkkgPT09IFNWR19OU1xuICAgID8gZG9jLmNyZWF0ZSgnc3ZnJylcbiAgICA6IGRvYztcbiAgY29uc3QgbG9jYWxCbG9ja3MgPSBwYXJlbnRTY29wZSA/IHBhcmVudFNjb3BlLiQkLm5zLl9ibG9ja3MgOiBibG9ja3M7XG4gIGNvbnN0IGxvY2FsTWl4aW5zID0gcGFyZW50U2NvcGUgPyBwYXJlbnRTY29wZS4kJC5ucy5fbWl4aW5zIDogbWl4aW5zO1xuICBsZXQgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbiB8fCBlbXB0eUNoaWxkcmVuO1xuICBsZXQgYXJncyA9IG5vZGUuYXR0cnMgPSBub2RlLmF0dHJzIHx8IGVtcHR5QXR0cnM7XG4gIGxldCBuYW1lID0gbm9kZS5uYW1lIHx8ICdVbmtub3duQmxvY2snO1xuICBsZXQgY29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvciB8fCAobm9kZS5uYW1lICYmIGxvY2FsQmxvY2tzW25vZGUubmFtZV0pO1xuICBsZXQgZEJsb2NrTWF0Y2g7XG4gIGxldCBkQmxvY2tOYW1lO1xuICBsZXQgZEJsb2NrQXJncztcbiAgbGV0IGRCbG9ja0NoaWxkcmVuO1xuICBsZXQgZEVsZW1lbnRzTmFtZTtcblxuICBpZiAobmFtZSA9PT0gJ2QtYmxvY2snICYmIGFyZ3MubmFtZSkge1xuICAgIG5hbWUgPSAnZC1lbGVtZW50cyc7XG4gICAgY29uc3RydWN0b3IgPSBsb2NhbEJsb2Nrc1tuYW1lXTtcbiAgICBkRWxlbWVudHNOYW1lID0gYXJncy5uYW1lO1xuICAgIGRCbG9ja0FyZ3MgPSBhcmdzO1xuICAgIGRCbG9ja0NoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgY2hpbGRyZW4gPSBlbXB0eUNoaWxkcmVuO1xuXG4gICAgZGVsZXRlIGFyZ3MubmFtZTtcbiAgICBhcmdzID0ge307XG4gIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2QtYmxvY2snICYmIGhhc093blByb3BlcnR5KGFyZ3MsICdjb25zdHJ1Y3RvcicpKSB7XG4gICAgbmFtZSA9ICdVbmtub3duQmxvY2snO1xuICAgIGNvbnN0cnVjdG9yID0gcGFyZW50U2NvcGUuJCQuZXZhbHVhdGUoYXJncy5jb25zdHJ1Y3Rvcik7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikpIHtcbiAgICAgIGRlbGV0ZSBhcmdzLmNvbnN0cnVjdG9yO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgfVxuICB9IGVsc2UgaWYgKChkQmxvY2tNYXRjaCA9IG5hbWUubWF0Y2goTkFNRURfRF9CTE9DS19SRUdFWCkpIHx8IG5hbWUgPT09ICdkLWJsb2NrJykge1xuICAgIGNvbnN0cnVjdG9yID0gYmxvY2tzWydkLWJsb2NrJ107XG4gICAgZEJsb2NrTmFtZSA9IGRCbG9ja01hdGNoID8gZEJsb2NrTWF0Y2hbMV0gOiBudWxsO1xuICB9XG5cbiAgbGV0IGJsb2NrSW5zdGFuY2U7XG5cbiAgaWYgKGNvbnN0cnVjdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgIGJsb2NrSW5zdGFuY2UgPSBuZXcgY29uc3RydWN0b3Ioe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhcmdzLFxuICAgICAgICBkQmxvY2tOYW1lLFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgcGFyZW50LFxuICAgICAgICBwYXJlbnRFbGVtLFxuICAgICAgICBwYXJlbnRCbG9jayxcbiAgICAgICAgcGFyZW50U2NvcGUsXG4gICAgICAgIHBhcmVudFRlbXBsYXRlLFxuICAgICAgICBwcmV2QmxvY2tcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gbmV3ICR7IG5hbWUgfTpgLCBlcnIpO1xuICAgICAgY29uc3RydWN0b3IgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCB7XG4gICAgICB2YWx1ZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IG5vZGU7XG5cbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbS5jcmVhdGUobmFtZSk7XG4gICAgY29uc3QgY3VycmVudEF0dHJzID0gY3JlYXRlKG51bGwpO1xuICAgIGxldCBhdHRycyA9IGNyZWF0ZShudWxsKTtcbiAgICBsZXQgd2FzRFJlc3Q7XG4gICAgY29uc3QgbWl4aW5EZWZhdWx0T3B0cyA9IHtcbiAgICAgIGVsZW06IGVsZW1lbnQsXG4gICAgICBwYXJlbnRCbG9jayxcbiAgICAgIHBhcmVudFNjb3BlLFxuICAgICAgcGFyZW50VGVtcGxhdGVcbiAgICB9O1xuXG4gICAgaXRlcmF0ZU9iamVjdChhcmdzLCAodmFsdWUsIGF0dHIpID0+IHtcbiAgICAgIGNvbnN0IGlzRFJlc3QgPSBEX1JFU1RfUkVHRVgudGVzdChhdHRyKTtcbiAgICAgIGNvbnN0IGxvY2FsQXR0cnMgPSBpc0RSZXN0IHx8IHdhc0RSZXN0XG4gICAgICAgID8gY3JlYXRlKGF0dHJzKVxuICAgICAgICA6IGF0dHJzO1xuXG4gICAgICBhdHRycyA9IGxvY2FsQXR0cnM7XG5cbiAgICAgIGlmIChpc0RSZXN0KSB7XG4gICAgICAgIGNvbnN0IHJlc3RBdHRycyA9IHBhcmVudFNjb3BlLiQkLmV2YWx1YXRlKHZhbHVlLCAodmFsdWUpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGl0ZXJhdGVPYmplY3QobG9jYWxBdHRycywgY2xlYW5Qcm9wZXJ0eSk7XG4gICAgICAgICAgICBhc3NpZ24obG9jYWxBdHRycywgdHJhbnNmb3JtUmVzdEF0dHJzKFxuICAgICAgICAgICAgICB2YWx1ZSwgbG9jYWxNaXhpbnMsIG1peGluRGVmYXVsdE9wdHNcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgY2FsY3VsYXRlQXR0cnMoYXR0cnMsIGN1cnJlbnRBdHRycywgZWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9LCBwYXJlbnRCbG9jayk7XG5cbiAgICAgICAgd2FzRFJlc3QgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxBdHRycywgdHJhbnNmb3JtUmVzdEF0dHJzKFxuICAgICAgICAgIHJlc3RBdHRycywgbG9jYWxNaXhpbnMsIG1peGluRGVmYXVsdE9wdHNcbiAgICAgICAgKSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1hdGNoID0gbWl4aW5NYXRjaChsb2NhbE1peGlucywgYXR0cik7XG5cbiAgICAgIHdhc0RSZXN0ID0gZmFsc2U7XG5cbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICB2YWx1ZSA9ICd0cnVlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsQXR0cnNbYXR0cl0gPSB7XG4gICAgICAgICAgdHlwZTogJ21peGluJyxcbiAgICAgICAgICBkeW5hbWljOiBmYWxzZSxcbiAgICAgICAgICBvcHRzOiB7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIC4uLm1hdGNoLFxuICAgICAgICAgICAgLi4ubWl4aW5EZWZhdWx0T3B0c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxvY2FsQXR0cnNbYXR0cl0gPSB7XG4gICAgICAgIHR5cGU6ICdhdHRyJyxcbiAgICAgICAgdmFsdWU6IHBhcmVudFNjb3BlLiQkLmV2YWx1YXRlKHZhbHVlLCAodmFsdWUpID0+IHtcbiAgICAgICAgICBsb2NhbEF0dHJzW2F0dHJdID0ge1xuICAgICAgICAgICAgdHlwZTogJ2F0dHInLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNhbGN1bGF0ZUF0dHJzKGF0dHJzLCBjdXJyZW50QXR0cnMsIGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgfSwgcGFyZW50QmxvY2spXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgY3JlYXRlTWl4aW5zID0gY2FsY3VsYXRlQXR0cnMoYXR0cnMsIGN1cnJlbnRBdHRycywgZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICBpZiAobmFtZSA9PT0gJyNjb21tZW50Jykge1xuICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZSA9PT0gJyN0ZXh0Jykge1xuICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIGxldCB0ZXh0ID0gcGFyZW50U2NvcGUuJCQuZXZhbHVhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGlmIChpc05pbCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC50ZXh0KGAkeyB2YWx1ZSB9YCk7XG4gICAgICAgIH0sIHBhcmVudEJsb2NrKTtcblxuICAgICAgICBpZiAoaXNOaWwodGV4dCkpIHtcbiAgICAgICAgICB0ZXh0ID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnRleHQoYCR7IHRleHQgfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IHBhcmVudEVsZW0gPSBuYW1lID09PSAndGVtcGxhdGUnXG4gICAgICAgID8gbmV3IEVsZW0oZWxlbWVudFswXS5jb250ZW50KVxuICAgICAgICA6IGVsZW1lbnQ7XG4gICAgICBsZXQgcHJldkJsb2NrO1xuXG4gICAgICBpdGVyYXRlQXJyYXkoY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xuICAgICAgICBwcmV2QmxvY2sgPSBjcmVhdGVCbG9jayh7XG4gICAgICAgICAgbm9kZTogY2hpbGQsXG4gICAgICAgICAgcGFyZW50OiBwYXJlbnRFbGVtLFxuICAgICAgICAgIHBhcmVudEVsZW0sXG4gICAgICAgICAgcGFyZW50QmxvY2ssXG4gICAgICAgICAgcGFyZW50U2NvcGUsXG4gICAgICAgICAgcGFyZW50VGVtcGxhdGUsXG4gICAgICAgICAgcHJldkJsb2NrXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNQYXJlbnRCbG9jayA9IHBhcmVudCBpbnN0YW5jZW9mIEJsb2NrO1xuXG4gICAgaWYgKHByZXZCbG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XG4gICAgICBwcmV2QmxvY2suJCQuaW5zZXJ0QWZ0ZXJJdChlbGVtZW50LCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChwcmV2QmxvY2spIHtcbiAgICAgIGVsZW1lbnQuaW5zZXJ0QWZ0ZXIocHJldkJsb2NrKTtcblxuICAgICAgaWYgKGlzUGFyZW50QmxvY2spIHtcbiAgICAgICAgcGFyZW50LiQkLmFkZENvbnRlbnQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1BhcmVudEJsb2NrKSB7XG4gICAgICBwYXJlbnQuJCQuaW5zZXJ0SW5TdGFydE9mSXQoZWxlbWVudCwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmludG8ocGFyZW50RWxlbSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGNyZWF0ZU1peGlucygpO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBjb25zdCB7XG4gICAgJCQsXG4gICAgYXJnczogQXJncyxcbiAgICBnbG9iYWxzLFxuICAgIC4uLmxvY2Fsc1xuICB9ID0gYmxvY2tJbnN0YW5jZTtcblxuICBpZiAoZEJsb2NrTWF0Y2ggfHwgbmFtZSA9PT0gJ2QtYmxvY2snKSB7XG4gICAgcGFyZW50U2NvcGUuJCQuZEJsb2Nrcy5wdXNoKGJsb2NrSW5zdGFuY2UpO1xuICB9XG5cbiAgaWYgKGRCbG9ja0FyZ3MpIHtcbiAgICBub2RlID0ge1xuICAgICAgYXR0cnM6IGRCbG9ja0FyZ3MsXG4gICAgICBjaGlsZHJlbjogZEJsb2NrQ2hpbGRyZW5cbiAgICB9O1xuICAgIG5vZGUubmFtZSA9IHBhcmVudFNjb3BlLiQkLmV2YWx1YXRlKGRFbGVtZW50c05hbWUsIChuZXdOYW1lKSA9PiB7XG4gICAgICBub2RlLm5hbWUgPSBuZXdOYW1lO1xuXG4gICAgICBBcmdzLnZhbHVlID0gW25vZGVdO1xuICAgIH0sIGJsb2NrSW5zdGFuY2UsIHRydWUpO1xuXG4gICAgQXJncy52YWx1ZSA9IFtub2RlXTtcbiAgICBBcmdzLnBhcmVudFNjb3BlID0gcGFyZW50U2NvcGU7XG4gIH1cblxuICBjb25zdCBodG1sID0gbmFtZSA9PT0gJ2QtZWxlbWVudHMnXG4gICAgPyBBcmdzLnZhbHVlIHx8IFtdXG4gICAgOiBjb25zdHJ1Y3Rvci5faHRtbDtcblxuICAkJC5hcmdzID0gY29uc3RydWN0UHJpdmF0ZVNjb3BlKEFyZ3MpO1xuICAkJC5sb2NhbHMgPSBjb25zdHJ1Y3RQcml2YXRlU2NvcGUobG9jYWxzKTtcbiAgJCQuZ2xvYmFscyA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShnbG9iYWxzLCAnZ2xvYmFscycsIHBhcmVudFNjb3BlKTtcblxuICBpZiAobmFtZSA9PT0gJyNkLWl0ZW0nKSB7XG4gICAgY29uc3Qgc2NvcGVWYWx1ZXMgPSB7XG4gICAgICBbbm9kZS5pdGVtTmFtZV06IG5vZGUuaXRlbSxcbiAgICAgIFtub2RlLmluZGV4TmFtZV06IG5vZGUuaW5kZXhcbiAgICB9O1xuICAgIGNvbnN0IHNjb3BlID0gcGFyZW50U2NvcGUuJCQubmFtZSA9PT0gJyNkLWl0ZW0nXG4gICAgICA/IHBhcmVudFNjb3BlLiQkLnNjb3BlXG4gICAgICA6IHBhcmVudFNjb3BlO1xuXG4gICAgJCQubnMgPSBwYXJlbnRTY29wZS4kJC5ucztcbiAgICAkJC5wcml2YXRlU2NvcGUgPSBjb25zdHJ1Y3RQcml2YXRlU2NvcGUoc2NvcGVWYWx1ZXMpO1xuICAgIGNvbnN0cnVjdFB1YmxpY1Njb3BlKCQkLnNjb3BlID0gY3JlYXRlKHNjb3BlKSwgc2NvcGVWYWx1ZXMsICQkLnByaXZhdGVTY29wZSk7XG4gIH1cblxuICBpZiAobmFtZSA9PT0gJ2QtZWFjaCcpIHtcbiAgICAkJC5zY29wZSA9IGNyZWF0ZShwYXJlbnRTY29wZS4kJC5uYW1lID09PSAnI2QtaXRlbScgPyBwYXJlbnRTY29wZS4kJC5zY29wZSA6IHBhcmVudFNjb3BlLCB7XG4gICAgICBbQXJncy5pdGVtIHx8ICckaXRlbSddOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIFtBcmdzLmluZGV4IHx8ICckaW5kZXgnXToge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0cnVjdFB1YmxpY1Njb3BlKEFyZ3MsIEFyZ3MsICQkLmFyZ3MpO1xuICBjb25zdHJ1Y3RQdWJsaWNTY29wZShnbG9iYWxzLCBnbG9iYWxzLCAkJC5nbG9iYWxzKTtcbiAgY29uc3RydWN0UHVibGljU2NvcGUoYmxvY2tJbnN0YW5jZSwgbG9jYWxzLCAkJC5sb2NhbHMpO1xuXG4gIHRyeSB7XG4gICAgYmxvY2tJbnN0YW5jZS5hZnRlckNvbnN0cnVjdCgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKGBVbmNhdWdodCBlcnJvciBpbiAkeyBuYW1lIH0jYWZ0ZXJDb25zdHJ1Y3Q6YCwgZXJyKTtcbiAgfVxuXG4gIHByZXZCbG9jayA9IHVuZGVmaW5lZDtcbiAgcGFyZW50U2NvcGUgPSBuYW1lID09PSAnZC1lbGVtZW50cydcbiAgICA/IEFyZ3MucGFyZW50U2NvcGVcbiAgICA6IGJsb2NrSW5zdGFuY2U7XG4gIHBhcmVudFRlbXBsYXRlID0gbmFtZSA9PT0gJ2QtZWxlbWVudHMnXG4gICAgPyBBcmdzLnBhcmVudFRlbXBsYXRlXG4gICAgOiBibG9ja0luc3RhbmNlO1xuXG4gIGl0ZXJhdGVBcnJheShodG1sLCAoY2hpbGQpID0+IHtcbiAgICBwcmV2QmxvY2sgPSBjcmVhdGVCbG9jayh7XG4gICAgICBub2RlOiBjaGlsZCxcbiAgICAgIHBhcmVudDogYmxvY2tJbnN0YW5jZSxcbiAgICAgIHBhcmVudEVsZW0sXG4gICAgICBwYXJlbnRCbG9jazogYmxvY2tJbnN0YW5jZSxcbiAgICAgIHBhcmVudFNjb3BlLFxuICAgICAgcGFyZW50VGVtcGxhdGUsXG4gICAgICBwcmV2QmxvY2tcbiAgICB9KTtcbiAgfSk7XG5cbiAgdHJ5IHtcbiAgICBibG9ja0luc3RhbmNlLmFmdGVyUmVuZGVyKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNhZnRlclJlbmRlcjpgLCBlcnIpO1xuICB9XG5cbiAgcmV0dXJuIGJsb2NrSW5zdGFuY2U7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1peGluKHsgbmFtZSwgTWl4aW4sIGR5bmFtaWMsIHZhbHVlLCBhcmdzLCBjb21tZW50LCBlbGVtLCBwYXJlbnRCbG9jaywgcGFyZW50U2NvcGUsIHBhcmVudFRlbXBsYXRlIH0pIHtcbiAgY29uc3QgbWl4aW4gPSBuZXcgTWl4aW4oe1xuICAgIG5hbWUsXG4gICAgdmFsdWUsXG4gICAgZHluYW1pYyxcbiAgICBhcmdzLFxuICAgIGNvbW1lbnQsXG4gICAgZWxlbSxcbiAgICBwYXJlbnRCbG9jayxcbiAgICBwYXJlbnRTY29wZSxcbiAgICBwYXJlbnRUZW1wbGF0ZVxuICB9KTtcblxuICBpZiAoTWl4aW4uZXZhbHVhdGUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG1peGluLnZhbHVlID0gbWl4aW4uZXZhbHVhdGVBbmRXYXRjaCgobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICBtaXhpbi52YWx1ZSA9IG5ld1ZhbHVlO1xuXG4gICAgICB0cnkge1xuICAgICAgICBtaXhpbi5hZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNhZnRlclVwZGF0ZTpgLCBlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWl4aW4uYWZ0ZXJVcGRhdGUodmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIG1peGluO1xufVxuXG5mdW5jdGlvbiBpc0luc3RhbmNlT2YoQ2xhc3MsIFN1YmNsYXNzKSB7XG4gIHJldHVybiBDbGFzczo6aXNQcm90b3R5cGVPZihTdWJjbGFzcykgJiYgQ2xhc3MucHJvdG90eXBlOjppc1Byb3RvdHlwZU9mKFN1YmNsYXNzLnByb3RvdHlwZSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVdhdGNoZXJzKHdhdGNoZXJzVG9SZW1vdmUpIHtcbiAgaXRlcmF0ZUFycmF5KHdhdGNoZXJzVG9SZW1vdmUsIHJlbW92ZVdhdGNoZXIpO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RQcml2YXRlU2NvcGUob2JqZWN0LCB0eXBlLCBwYXJlbnRTY29wZSkge1xuICBsZXQgc2NvcGUgPSB7fTtcblxuICBpZiAodHlwZSA9PT0gJ2dsb2JhbHMnKSB7XG4gICAgc2NvcGUgPSBjcmVhdGUoXG4gICAgICBwYXJlbnRTY29wZVxuICAgICAgICA/IHBhcmVudFNjb3BlLiQkLmdsb2JhbHNcbiAgICAgICAgOiBudWxsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBjb2xsZWN0RnJvbU9iamVjdChvYmplY3QsIChzY29wZSwgdmFsdWUsIGtleSkgPT4ge1xuICAgIHNjb3BlW2tleV0gPSB7XG4gICAgICB2YWx1ZSxcbiAgICAgIHdhdGNoZXJzOiB7XG4gICAgICAgIHRlbXA6IFtdLFxuICAgICAgICBwZXJtOiBbXVxuICAgICAgfVxuICAgIH07XG4gIH0sIHNjb3BlKTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0UHVibGljU2NvcGUoc2NvcGUsIHNjb3BlVmFsdWVzLCBwcml2YXRlU2NvcGUpIHtcbiAgZGVmaW5lUHJvcGVydGllcyhzY29wZSwgbWFwT2JqZWN0KHNjb3BlVmFsdWVzLCAodmFsdWUsIGtleSkgPT4ge1xuICAgIGNvbnN0IHNjb3BlID0gcHJpdmF0ZVNjb3BlW2tleV07XG4gICAgY29uc3QgeyB3YXRjaGVycyB9ID0gc2NvcGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQoKSB7XG4gICAgICAgIGlmIChldmFsTW9kZSkge1xuICAgICAgICAgIGlmIChnZXR0aW5nLmluZGV4T2Yod2F0Y2hlcnMudGVtcCkgPT09IC0xKSB7XG4gICAgICAgICAgICBnZXR0aW5nLnB1c2god2F0Y2hlcnMudGVtcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNjb3BlLnZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHNjb3BlLnZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjaGFuZ2VkKSB7XG4gICAgICAgICAgY2hhbmdlZCA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2xkVGVtcFdhdGNoZXJzID0gd2F0Y2hlcnMudGVtcC5zbGljZSgpO1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHNjb3BlLnZhbHVlO1xuXG4gICAgICAgIHdhdGNoZXJzLnRlbXAgPSBbXTtcbiAgICAgICAgc2NvcGUudmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpdGVyYXRlQXJyYXkob2xkVGVtcFdhdGNoZXJzLCByZW1vdmVUZW1wV2F0Y2hlcik7XG4gICAgICAgIGNoYW5nZWQucHVzaCh7XG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKCFjaGFuZ2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgd2FzID0gW107XG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gW107XG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gY2hhbmdlZC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIG9sZFZhbHVlXG4gICAgICAgICAgICB9ID0gY2hhbmdlZFtpXTtcblxuICAgICAgICAgICAgaXRlcmF0ZUFycmF5KHNjb3BlLndhdGNoZXJzLnBlcm0sICh3YXRjaGVyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gd2FzLmluZGV4T2Yod2F0Y2hlcik7XG5cbiAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHdhcy5wdXNoKHdhdGNoZXIpO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgb2xkVmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaW5kZXhdLm9sZFZhbHVlID0gb2xkVmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjaGFuZ2VkLnNwbGljZShpLCAxKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGFuZ2VkID0gbnVsbDtcblxuICAgICAgICAgIGl0ZXJhdGVBcnJheSh3YXMsICh3YXRjaGVyLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBvbGRWYWx1ZVxuICAgICAgICAgICAgfSA9IHZhbHVlc1tpXTtcblxuICAgICAgICAgICAgd2F0Y2hlcih2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHdhdGNoRm9yQWxsTG9jYWxzKGJsb2NrLCB3YXRjaGVyKSB7XG4gIGl0ZXJhdGVPYmplY3QoYmxvY2suJCQubG9jYWxzLCAoeyB3YXRjaGVycyB9KSA9PiB7XG4gICAgd2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gd2F0Y2hGb3JBbGxHbG9iYWxzKGJsb2NrLCB3YXRjaGVyKSB7XG4gIGNvbnN0IHtcbiAgICBnbG9iYWxzLFxuICAgIHdhdGNoZXJzVG9SZW1vdmVcbiAgfSA9IGJsb2NrLiQkO1xuXG4gIGZvciAoY29uc3QgZ2xvYiBpbiBnbG9iYWxzKSB7XG4gICAgLyogZXNsaW50IGd1YXJkLWZvci1pbjogMCAqL1xuICAgIGNvbnN0IHdhdGNoZXJzID0gZ2xvYmFsc1tnbG9iXS53YXRjaGVycy5wZXJtO1xuXG4gICAgd2F0Y2hlcnMucHVzaCh3YXRjaGVyKTtcbiAgICB3YXRjaGVyc1RvUmVtb3ZlLnB1c2goe1xuICAgICAgd2F0Y2hlcixcbiAgICAgIHdhdGNoZXJzXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2F0Y2hGb3JBbGxBcmdzKGJsb2NrLCB3YXRjaGVyKSB7XG4gIGl0ZXJhdGVPYmplY3QoYmxvY2suJCQuYXJncywgKHsgd2F0Y2hlcnMgfSkgPT4ge1xuICAgIHdhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUFyZ3MoYXJncywgYXJnc09iamVjdCkge1xuICBpdGVyYXRlQXJyYXkoa2V5cyhhcmdzT2JqZWN0KSwgKGFyZykgPT4ge1xuICAgIGlmICghKGFyZyBpbiBhcmdzKSkge1xuICAgICAgYXJnc09iamVjdFthcmddID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSk7XG5cbiAgZm9yIChjb25zdCBhcmcgaW4gYXJncykge1xuICAgIGFyZ3NPYmplY3RbYXJnXSA9IGFyZ3NbYXJnXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1SZXN0QXJncyhhcmdzKSB7XG4gIHJldHVybiBjb2xsZWN0RnJvbU9iamVjdChhcmdzLCBhZGRBcmdzKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtUmVzdEF0dHJzKGF0dHJzLCBtaXhpbnMsIG1peGluRGVmYXVsdE9wdHMpIHtcbiAgcmV0dXJuIGNvbGxlY3RGcm9tT2JqZWN0KGF0dHJzLCAoZXZlbnR1YWxBdHRycywgdmFsdWUsIGF0dHIpID0+IHtcbiAgICBpZiAoRF9SRVNUX1JFR0VYLnRlc3QoYXR0cikpIHtcbiAgICAgIHJldHVybiBhc3NpZ24oZXZlbnR1YWxBdHRycywgdHJhbnNmb3JtUmVzdEF0dHJzKHZhbHVlLCBtaXhpbnMsIG1peGluRGVmYXVsdE9wdHMpKTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXRjaCA9IG1peGluTWF0Y2gobWl4aW5zLCBhdHRyKTtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgZXZlbnR1YWxBdHRyc1thdHRyXSA9IHtcbiAgICAgICAgdHlwZTogJ21peGluJyxcbiAgICAgICAgZHluYW1pYzogdHJ1ZSxcbiAgICAgICAgb3B0czoge1xuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIC4uLm1hdGNoLFxuICAgICAgICAgIC4uLm1peGluRGVmYXVsdE9wdHNcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWVcbiAgICAgIH07XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudHVhbEF0dHJzW2F0dHJdID0ge1xuICAgICAgdHlwZTogJ2F0dHInLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWl4aW5NYXRjaChtaXhpbnMsIGF0dHIpIHtcbiAgbGV0IG1hdGNoO1xuXG4gIGZvciAoY29uc3QgbmFtZSBpbiBtaXhpbnMpIHtcbiAgICBjb25zdCBNaXhpbiA9IG1peGluc1tuYW1lXTtcbiAgICBjb25zdCBsb2NhbE1hdGNoID0gYXR0ci5tYXRjaChNaXhpbi5fbWF0Y2gpO1xuXG4gICAgaWYgKGxvY2FsTWF0Y2gpIHtcbiAgICAgIGNvbnN0IGFyZ3NNYXRjaCA9IGxvY2FsTWF0Y2hbMV07XG4gICAgICBsZXQgYXJncztcblxuICAgICAgaWYgKGFyZ3NNYXRjaCA9PT0gJycpIHtcbiAgICAgICAgYXJncyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChhcmdzTWF0Y2gpIHtcbiAgICAgICAgYXJncyA9IGFyZ3NNYXRjaC5zcGxpdChDT01NQV9SRUdFWCk7XG4gICAgICB9XG5cbiAgICAgIG1hdGNoID0ge1xuICAgICAgICBhcmdzLFxuICAgICAgICBjb21tZW50OiBsb2NhbE1hdGNoWzJdLFxuICAgICAgICBNaXhpbixcbiAgICAgICAgbmFtZVxuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1hdGNoO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVBdHRycyhhdHRycywgYXR0cnNPYmplY3QsIGVsZW0sIGZpcnN0VGltZSkge1xuICBpdGVyYXRlT2JqZWN0KGF0dHJzT2JqZWN0LCAoeyB0eXBlLCB2YWx1ZSB9LCBhdHRyKSA9PiB7XG4gICAgaWYgKCFhdHRyc1thdHRyXSkge1xuICAgICAgaWYgKHR5cGUgPT09ICdhdHRyJykge1xuICAgICAgICBlbGVtLnJlbW92ZUF0dHIoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZS4kJC5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIGF0dHJzT2JqZWN0W2F0dHJdO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgbWl4aW5zID0gW107XG5cbiAgZm9yIChjb25zdCBhdHRyIGluIGF0dHJzKSB7XG4gICAgY29uc3Qge1xuICAgICAgdHlwZSxcbiAgICAgIGR5bmFtaWMsXG4gICAgICB2YWx1ZSxcbiAgICAgIG9wdHNcbiAgICB9ID0gYXR0cnNbYXR0cl07XG4gICAgbGV0IG5leHRUeXBlO1xuICAgIGxldCBuZXh0RHluYW1pYztcbiAgICBsZXQgbmV4dFZhbHVlO1xuXG4gICAgaWYgKGF0dHJzT2JqZWN0W2F0dHJdKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHR5cGU6IHByZXZUeXBlLFxuICAgICAgICB2YWx1ZTogcHJldlZhbHVlXG4gICAgICB9ID0gYXR0cnNPYmplY3RbYXR0cl07XG5cbiAgICAgIGlmICh0eXBlID09PSAnYXR0cicpIHtcbiAgICAgICAgaWYgKHByZXZUeXBlID09PSAnbWl4aW4nKSB7XG4gICAgICAgICAgcHJldlZhbHVlLiQkLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXZWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICBlbGVtLmF0dHIoYXR0ciwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dFZhbHVlID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtaXhpbiA9IHByZXZWYWx1ZTtcblxuICAgICAgICBpZiAocHJldlR5cGUgPT09ICdhdHRyJykge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1peGluLiQkLmlzRHluYW1pYyA9IGR5bmFtaWM7XG5cbiAgICAgICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgICAgICBleGVjdXRlTWl4aW5XYXRjaGVycyhtaXhpbiwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFtaXhpbi4kJC5ldmFsdWF0ZWQgJiYgb3B0cy5NaXhpbi5ldmFsdWF0ZSkge1xuICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbWl4aW4uJCQucGFyZW50U2NvcGUuJCQuZXZhbHVhdGUodmFsdWUsIChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBkeW5hbWljXG4gICAgICAgICAgICB9ID0gYXR0cnNbYXR0cl07XG5cbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWl4aW4nICYmICFkeW5hbWljKSB7XG4gICAgICAgICAgICAgIGV4ZWN1dGVNaXhpbldhdGNoZXJzKG1peGluLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgbWl4aW4pO1xuXG4gICAgICAgICAgbWl4aW4uJCQuZXZhbHVhdGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGV4ZWN1dGVNaXhpbldhdGNoZXJzKG1peGluLCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0VmFsdWUgPSBtaXhpbjtcbiAgICAgIH1cblxuICAgICAgbmV4dFR5cGUgPSB0eXBlO1xuICAgICAgbmV4dER5bmFtaWMgPSBkeW5hbWljO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ2F0dHInKSB7XG4gICAgICAgIGVsZW0uYXR0cihhdHRyLCB2YWx1ZSk7XG5cbiAgICAgICAgbmV4dFZhbHVlID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBidWlsZE1peGluID0gKCkgPT4ge1xuICAgICAgICAgIG9wdHMuZHluYW1pYyA9IGR5bmFtaWM7XG5cbiAgICAgICAgICBjb25zdCBtaXhpbiA9IGNyZWF0ZU1peGluKG9wdHMpO1xuXG4gICAgICAgICAgaWYgKCFkeW5hbWljICYmIG9wdHMuTWl4aW4uZXZhbHVhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgcGFyZW50U2NvcGUsXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICB9ID0gb3B0cztcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VmFsdWUgPSBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZSh2YWx1ZSwgKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNcbiAgICAgICAgICAgICAgfSA9IGF0dHJzW2F0dHJdO1xuXG4gICAgICAgICAgICAgIGlmICh0eXBlID09PSAnbWl4aW4nICYmICFkeW5hbWljKSB7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1peGluV2F0Y2hlcnMobWl4aW4sIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgbWl4aW4pO1xuXG4gICAgICAgICAgICBtaXhpbi4kJC5ldmFsdWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgbWl4aW4uJCQudmFsdWUgPSBmaXJzdFZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHRWYWx1ZSA9IG1peGluO1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICBvcHRzOiB7XG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGR5bmFtaWMsXG4gICAgICAgICAgICAgIHZhbHVlOiBtaXhpblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgIG1peGlucy5wdXNoKGJ1aWxkTWl4aW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1aWxkTWl4aW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXh0VHlwZSA9IHR5cGU7XG4gICAgICBuZXh0RHluYW1pYyA9IGR5bmFtaWM7XG4gICAgfVxuXG4gICAgYXR0cnNPYmplY3RbYXR0cl0gPSB7XG4gICAgICB0eXBlOiBuZXh0VHlwZSxcbiAgICAgIGR5bmFtaWM6IG5leHREeW5hbWljLFxuICAgICAgdmFsdWU6IG5leHRWYWx1ZVxuICAgIH07XG4gIH1cblxuICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGl0ZXJhdGVBcnJheShtaXhpbnMsIChidWlsZE1peGluKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBhdHRyLFxuICAgICAgICAgIG9wdHNcbiAgICAgICAgfSA9IGJ1aWxkTWl4aW4oKTtcblxuICAgICAgICBhdHRyc09iamVjdFthdHRyXSA9IG9wdHM7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4ZWN1dGVNaXhpbldhdGNoZXJzKG1peGluLCB2YWx1ZSkge1xuICBjb25zdCBvbGRWYWx1ZSA9IG1peGluLiQkLnZhbHVlO1xuXG4gIG1peGluLiQkLnZhbHVlID0gdmFsdWU7XG5cbiAgaXRlcmF0ZUFycmF5KG1peGluLiQkLndhdGNoZXJzLCAod2F0Y2hlcikgPT4ge1xuICAgIHdhdGNoZXIodmFsdWUsIG9sZFZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdE1peGluUmVnRXhwKG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoYF4keyBlc2NhcGVSZWdleChuYW1lKSB9KD86XFxcXCgoW15cXFxcKV0qKVxcXFwpKT8oPzojKFtcXFxcc1xcXFxTXSopKT8kYCk7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZEJsb2NrKGNscykge1xuICBzZXRQcm90byhjbHMsIEJsb2NrKTtcbiAgc2V0UHJvdG8oY2xzLnByb3RvdHlwZSwgQmxvY2sucHJvdG90eXBlKTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0VGVtcGxhdGVzKHRlbXBsYXRlLCB0ZW1wbGF0ZXMpIHtcbiAgY29uc3QgeyB2YXJzLCB2YWx1ZSB9ID0gdGVtcGxhdGU7XG4gIGNvbnN0IG5ld1RlbXBsYXRlcyA9IGNyZWF0ZShudWxsKTtcbiAgY29uc3QgbmV3VmFycyA9IHRvT2JqZWN0S2V5cyh2YXJzKTtcblxuICBhc3NpZ24obmV3VGVtcGxhdGVzLCB0ZW1wbGF0ZXMpO1xuICBpdGVyYXRlQXJyYXkodmFsdWUsIGZvckVhY2hOb2RlKTtcblxuICBmdW5jdGlvbiBmb3JFYWNoTm9kZSh7IHR5cGUsIHZhbHVlLCBjaGlsZHJlbiB9LCBpbmRleCwgdHJlZSkge1xuICAgIGlmICh0eXBlID09PSAnI2NvbW1lbnQnKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcblxuICAgICAgaWYgKG5ld1RlbXBsYXRlc1t2YWx1ZV0pIHtcbiAgICAgICAgdHJlZVtpbmRleF0gPSBuZXdUZW1wbGF0ZXNbdmFsdWVdLnZhbHVlO1xuICAgICAgICBhc3NpZ24obmV3VmFycywgdG9PYmplY3RLZXlzKG5ld1RlbXBsYXRlc1t2YWx1ZV0udmFycykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlQXJyYXkoY2hpbGRyZW4sIGZvckVhY2hOb2RlKTtcbiAgICB9XG4gIH1cblxuICB2YXJzLmxlbmd0aCA9IDA7XG4gIHZhcnMucHVzaCguLi5rZXlzKG5ld1ZhcnMpKTtcblxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbmZ1bmN0aW9uIHdyYXBCbG9jayhibG9jaywgd3JhcHBlcikge1xuICBjb25zdCByZXR1cm5WYWx1ZSA9IHdyYXBwZXIoYmxvY2spO1xuXG4gIHJldHVybiBpc0luc3RhbmNlT2YoQmxvY2ssIHJldHVyblZhbHVlKVxuICAgID8gcmV0dXJuVmFsdWVcbiAgICA6IGJsb2NrO1xufVxuXG5mdW5jdGlvbiB3cmFwTWl4aW4obWl4aW4sIHdyYXBwZXIpIHtcbiAgY29uc3QgcmV0dXJuVmFsdWUgPSB3cmFwcGVyKG1peGluKTtcblxuICByZXR1cm4gaXNJbnN0YW5jZU9mKE1peGluLCByZXR1cm5WYWx1ZSlcbiAgICA/IHJldHVyblZhbHVlXG4gICAgOiBtaXhpbjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlV2l0aFBhcmVudFNpZ25hbChjaGlsZCkge1xuICBjaGlsZC4kJC5yZW1vdmUodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShjaGlsZCkge1xuICBjaGlsZC4kJC5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gY2xlYW5Qcm9wZXJ0eSh2YWx1ZSwgYXJnLCBvYmplY3QpIHtcbiAgZGVsZXRlIG9iamVjdFthcmddO1xufVxuXG5mdW5jdGlvbiByZW1vdmVXYXRjaGVyKHsgd2F0Y2hlciwgd2F0Y2hlcnMgfSkge1xuICByZW1vdmVBcnJheUVsZW0od2F0Y2hlcnMsIHdhdGNoZXIpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVUZW1wV2F0Y2hlcih3YXRjaGVyKSB7XG4gIHdhdGNoZXIub25SZW1vdmUoKTtcbiAgd2F0Y2hlcigpO1xufVxuXG5mdW5jdGlvbiBhZGRBcmdzKGFyZ3MsIHZhbHVlLCBhcmcpIHtcbiAgaWYgKERfUkVTVF9SRUdFWC50ZXN0KGFyZykpIHtcbiAgICBhc3NpZ24oYXJncywgdHJhbnNmb3JtUmVzdEFyZ3ModmFsdWUpKTtcbiAgfSBlbHNlIHtcbiAgICBhcmdzW2FyZ10gPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBCbG9jaywgTWl4aW4sIGluaXRBcHAsIHJlbW92ZUFwcCwgaW5zZXJ0VGVtcGxhdGVzIH07XG4iXSwibmFtZXMiOlsid2luZG93IiwiZ2xvYmFsIiwic2VsZiIsImNvbGxlY3RGcm9tQXJyYXkiLCJhcnJheSIsImNhbGxiYWNrIiwiaW5pdGlhbFZhbHVlIiwidmFsdWUiLCJpbmRleCIsImZpbmRJbkFycmF5IiwiaSIsImxlbmd0aCIsIml0ZXJhdGVBcnJheSIsInJlbW92ZUFycmF5RWxlbSIsImVsZW0iLCJpbmRleE9mIiwic3BsaWNlIiwidG9PYmplY3RLZXlzIiwiYWRkS2V5IiwidmFycyIsInZhcmlhYmxlIiwiaGFzIiwiaGFzT3duUHJvcGVydHkiLCJhc3NpZ24iLCJ0YXJnZXQiLCJvYmplY3RzIiwiYXJndW1lbnRzIiwic291cmNlIiwia2V5IiwiY29sbGVjdEZyb21PYmplY3QiLCJvYmplY3QiLCJpdGVyYXRlT2JqZWN0IiwibWFwT2JqZWN0IiwibmV3T2JqZWN0IiwiZGVmaW5lUHJvcGVydGllcyIsIk9iamVjdCIsImRlZmluZVByb3RvdHlwZVByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwibmFtZSIsImRlZmluZVByb3BlcnR5IiwiZGVmaW5lRnJvemVuUHJvcGVydGllcyIsIlN5bWJvbCIsInRvU3RyaW5nIiwidG9TdHJpbmdUYWciLCJzbGljZSIsInNldFRvU3RyaW5nVGFnIiwidGFnIiwicHJvdG90eXBlIiwiaXNBcnJheSIsIkFycmF5IiwiaXNGdW5jdGlvbiIsImlzTmlsIiwiaXNTdHJpbmciLCJyZWdleHBTcGVjaWFsQ2hhcmFjdGVycyIsInJlZ2V4cFNwZWNpYWxzUmVnZXhwIiwiUmVnRXhwIiwibWFwIiwicyIsImpvaW4iLCJlc2NhcGVSZWdleCIsInN0cmluZyIsInJlcGxhY2UiLCJjcmVhdGUiLCJrZXlzIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsInNldFByb3RvIiwic2V0UHJvdG90eXBlT2YiLCJwcm90byIsIl9fcHJvdG9fXyIsIkRBU0hFRF9TWU1CT0xfUkVHRVgiLCJVUFBFUkNBU0VEX1NZTUJPTF9SRUdFWCIsInRvQ2FtZWxDYXNlIiwiY2FwaXRhbGl6ZSIsInRvSHlwaGVuQ2FzZSIsImh5cGhlbml6ZSIsIm1hdGNoIiwidG9VcHBlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsImRvY3VtZW50IiwiSElERV9DTEFTUyIsIkVWRU5UX1NFUEFSQVRPUl9SRUdFWCIsIkNTU19TVFlMRVNfU0VQQVJBVE9SX1JFR0VYIiwiQ1NTX1BST1BfVkFMVUVfU0VQQVJBVE9SX1JFR0VYIiwiQ1NTX0lNUE9SVEFOVF9SRUdFWCIsIkVWRU5UX1JFR0VYIiwiRUxFTUVOVF9SRUdFWCIsIkhUTUxfQ09MTEVDVElPTl9SRUdFWCIsIlhfTElOS19BVFRSX1JFR0VYIiwiU1ZHX05TIiwiWE1MX05TIiwiWF9MSU5LX05TIiwiWEhUTUxfTlMiLCJlbXB0eUNvbGxlY3Rpb24iLCJFbGVtIiwicHJvcGVydHkiLCJpc0VsZW1lbnRzQ29sbGVjdGlvbiIsImluY2x1ZGVzIiwiaXNWYWxpZE5vZGUiLCJwdXNoIiwiZWxlbXMiLCJmb3JFYWNoIiwibGlzdCIsImNsYXNzTGlzdCIsImNscyIsImFkZCIsImF0dHIiLCJhdHRyaWJ1dGVzIiwiYWRkQXR0ciIsIm5zIiwiZ2V0QXR0ck5TIiwiZ2V0QXR0cmlidXRlTlMiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyIiwic2V0QXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGUiLCJjaGlsZE5vZGVzIiwic2VsZWN0b3IiLCJjb2xsZWN0IiwiaXMiLCJwYXJlbnROb2RlIiwiZWxlbWVudHMiLCJjYiIsImVsZW1lbnQiLCJwYXJlbnQiLCJjaGlsZCIsInRvRWxlbSIsImNvbnRhaW5zIiwidHlwZSIsImVsIiwiaXNUZXh0IiwiaXNIVE1MRG9jdW1lbnQiLCJvd25lckRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVDb21tZW50IiwibmFtZXNwYWNlVVJJIiwiZG9jdW1lbnRFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiaW50byIsInRleHQiLCJzdHlsZSIsImNzc1RleHQiLCJzcGxpdCIsImFkZENTU1Byb3AiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0UHJvcGVydHlQcmlvcml0eSIsInJlbW92ZUNTUyIsInJlbW92ZVByb3BlcnR5Iiwic2V0UHJvcGVydHkiLCJ0ZXN0IiwiZGF0YXNldCIsImFkZERhdGFBdHRyIiwiZXZlbnQiLCJkZXRhaWxzIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJyZWFsRGV0YWlscyIsImZpbmFsRXZlbnQiLCJFdmVudCIsImVyciIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImZpbHRlckZuIiwiQm9vbGVhbiIsImZpbmQiLCJoYXNBdHRyaWJ1dGVOUyIsImhhc0F0dHJpYnV0ZSIsImhpZGUiLCJodG1sIiwiaW5uZXJIVE1MIiwibmV4dCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJlbmQiLCJmaXJzdENoaWxkIiwibWF0Y2hlcyIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsImNhbGwiLCJlcnJvciIsImdldE5hbWUiLCJhZGROZXh0IiwibGlzdGVuZXIiLCJuZXdFdmVudHMiLCJhbGxMaXN0ZW5lcnMiLCJsaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlTGlzdGVuZXJzIiwicmVtb3ZlTGlzdGVuZXIiLCJhZGRQYXJlbnQiLCJhZGRQcmV2IiwidW5kZWZpbmVkIiwicHJvcCIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZU5TIiwicmVtb3ZlQXR0cmlidXRlIiwiY3NzIiwiZmlyc3QiLCJtZXRob2QiLCJwcmV2Iiwic2hvdyIsImJhYmVsSGVscGVycy5nZXQiLCJhcHBseSIsInRleHRDb250ZW50IiwiY29uZGl0aW9uIiwiaGFzQXR0ciIsInRvZ2dsZSIsImNvbnN0cnVjdG9yIiwic3BlY2llcyIsImRvYyIsImJvZHkiLCJoZWFkIiwiaXNFbGVtIiwibm9kZU5hbWUiLCJjbG9zZXN0IiwiY3JlYXRlSGlkZVN0eWxlTm9kZSIsImF0dHJzIiwiZGF0YSIsImFkZENsYXNzIiwicHJldmlvdXNTaWJsaW5nIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVDbGFzcyIsImJhc2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiU3RyaW5nIiwicmVnaXN0ZXJEQmxvY2siLCJCbG9jayIsIkRCbG9jayIsIiQkIiwicGFyZW50U2NvcGUiLCJwYXJlbnRQYXJlbnRTY29wZSIsInBhcmVudFBhcmVudFRlbXBsYXRlIiwicGFyZW50VGVtcGxhdGUiLCJjaGlsZHJlbiIsImFyZ3NDaGlsZHJlbiIsIm93bkNoaWxkcmVuIiwiZEJsb2NrTmFtZSIsImZvdW5kIiwiUGFyZW50U2NvcGUiLCJQYXJlbnRUZW1wbGF0ZSIsImRCbG9ja3MiLCJEQmxvY2tOYW1lIiwidGVtcGxhdGUiLCJ3YXRjaEFyZ3MiLCJyZWdpc3RlckRFYWNoIiwiY3JlYXRlQmxvY2siLCJERWFjaCIsIm9wdHMiLCJhcmdzIiwiaXRlbSIsIml0ZW1OYW1lIiwiaW5kZXhOYW1lIiwidWlkIiwiZXZhbHVhdGVBbmRXYXRjaCIsInJlbmRlclNldCIsIml0ZW1zQnlVSURzIiwicGFyZW50RWxlbSIsInNjb3BlIiwiVUlEIiwic29ydEJ5IiwibmV3SXRlbXNCeVVJRHMiLCJuZXdVSURzQ291bnRlciIsIm5ld1VJRHMiLCJzZXQiLCJmaWx0ZXJCeSIsImlzQXJyIiwiaXRlcmF0ZSIsInNvcnQiLCJmaWx0ZXIiLCJldmFsdWF0ZSIsIml0ZW1zIiwicHJldkJsb2NrIiwiYmxvY2siLCJzaGlmdCIsImluc2VydEFmdGVySXQiLCJjb250ZW50IiwicmVnaXN0ZXJERWxlbWVudHMiLCJERWxlbWVudHMiLCJtaXhpbnMiLCJ3YXRjaGVyc1RvUmVtb3ZlIiwicmVtb3ZlV2l0aFBhcmVudFNpZ25hbCIsInJlbW92ZUNvbnRlbnQiLCJ3YXRjaGVycyIsIndhdGNoZXIiLCJmb3JERWxlbWVudHMiLCJyZWdpc3RlckRJZiIsIkRJZiIsIkluZmluaXR5IiwidmFsdWVzIiwiY29uZCIsImlmIiwibmV3VmFsdWUiLCJyZWdpc3RlckRJdGVtIiwiREl0ZW0iLCJyZWdpc3RlckRTd2l0Y2giLCJEU3dpdGNoIiwid2FzRGVmYXVsdCIsInZhbCIsImVxdWFscyIsInZhbHVlMSIsInZhbHVlMiIsInJlZ2lzdGVyREF0dHIiLCJNaXhpbiIsIkRBdHRyIiwicmVnaXN0ZXJEQmluZCIsIkRCaW5kIiwib2ZmIiwib24iLCJFTVBUWV9TUEFDRV9SRUdFWCIsInJlZ2lzdGVyRENsYXNzIiwiRENsYXNzIiwiY2xhc3NlcyIsIm5ld0NsYXNzZXMiLCJyZWdpc3RlckRFbGVtIiwiREVsZW0iLCJldmFsdWF0ZU9uY2UiLCJyZWdpc3RlckRIaWRlIiwiREhpZGUiLCJyZWdpc3RlckROb2RlIiwiRE5vZGUiLCJub2RlIiwicmVnaXN0ZXJET24iLCJET24iLCJyZWdpc3RlckRTaG93IiwiRFNob3ciLCJyZWdpc3RlckRTdHlsZSIsIkRTdHlsZSIsIm9sZFZhbHVlIiwicmVnaXN0ZXJEVmFsdWUiLCJEVmFsdWUiLCJpbml0aWFsU2NvcGVWYWx1ZSIsImdldFByb3AiLCJvcHRpb25zIiwiZ2V0RXZhbEZ1bmN0aW9uIiwiY3VycmVudFZhbHVlIiwic2V0UHJvcCIsImluaXRpYWxFbGVtVmFsdWUiLCJpc0luaXRpYWxTY29wZVZhbHVlTnVsbCIsImlzQ2hlY2tib3giLCJjaGFuZ2VTY29wZSIsIm9mZkVsZW1MaXN0ZW5lciIsImdldExpc3RlbmVyTmFtZSIsImUiLCJvZmZGb3JtTGlzdGVuZXIiLCJvcHRpb24iLCJzZWxlY3RlZCIsImdldFZhbHVlRm9yU2V0dGluZyIsImluaXQiLCJnZXRWYWx1ZUZvckdldHRpbmciLCJpbnB1dFZhbHVlIiwiaXNSYWRpbyIsImlzTXVsdGlwbGUiLCJhZGRWYWx1ZSIsImNvbmNhdCIsInJvb3RCbG9ja3MiLCJyb290TWl4aW5zIiwiYmxvY2tIb29rcyIsIm1peGluSG9va3MiLCJpc1Byb3RvdHlwZU9mIiwiVEFHX05BTUVfUkVHRVgiLCJBVFRSX05BTUVfUkVHRVgiLCJEX1JFU1RfUkVHRVgiLCJXQVRDSEVEX0FSR19QUkVGSVhfUkVHRVgiLCJXQVRDSEVEX0dMT0JBTF9QUkVGSVhfUkVHRVgiLCJOQU1FRF9EX0JMT0NLX1JFR0VYIiwiQ09NTUFfUkVHRVgiLCJhZnRlckVsZW0iLCJlbXB0eUNoaWxkcmVuIiwiZW1wdHlBdHRycyIsImV2YWxNb2RlIiwiZ2V0dGluZyIsImNoYW5nZWQiLCJleHByZXNzaW9uIiwiaG9vayIsIlN1YmNsYXNzIiwiaXNJbnN0YW5jZU9mIiwid2FybiIsIl9ibG9ja3MiLCJkZWZhdWx0TG9jYWxzIiwiZGVmYXVsdEFyZ3MiLCJyZWR1Y2UiLCJyZXR1cm5WYWx1ZSIsImN1cnJlbnRSZXR1cm5WYWx1ZSIsIl9odG1sIiwiX3ZhcnMiLCJhZnRlclVwZGF0ZSIsIl9taXhpbnMiLCJfbWF0Y2giLCJjb25zdHJ1Y3RNaXhpblJlZ0V4cCIsIndyYXBwZXJzIiwid3JhcEJsb2NrIiwib3JpZ2luYWxBcmdzIiwicGFyZW50QmxvY2siLCJjaGlsZHJlbkJsb2NrcyIsImlzUGFyZW50QmxvY2siLCJmdW5jIiwib25DaGFuZ2UiLCJ0YXJnZXRCbG9jayIsImZvckRJdGVtIiwiZm9yREVhY2giLCJvbkNoYW5nZUZsYWciLCJyZXN1bHQiLCJvcmlnaW5hbCIsIm9uRXZhbEVycm9yIiwibG9jYWxXYXRjaGVycyIsIm5ld1Jlc3VsdCIsImlzUmVtb3ZlZCIsIndhdGNoZXJCbG9jayIsIm9uUmVtb3ZlIiwiaXNQYXJlbnRTaWduYWwiLCJiZWZvcmVSZW1vdmUiLCJjb250ZW50VG9BZGQiLCJub3RSZWN1cnNpdmUiLCJhZGRDb250ZW50IiwiY29udGVudFRvTW92ZSIsImFmdGVyIiwiaW5kZXhUb1B1dCIsIm1vdmVDb250ZW50IiwiY29udGVudFRvUmVtb3ZlIiwiY29udGVudFRvSW5zZXJ0IiwibW92ZUZsYWciLCJpbnNlcnRBZnRlciIsImluc2VydEluU3RhcnRPZkl0IiwidHJ5VG9BZGRPck1vdmUiLCJhcmdzT2JqZWN0Iiwid2FzRFJlc3QiLCJhcmciLCJpc0RSZXN0IiwibG9jYWxBcmdzIiwicmVzdEFyZ3MiLCJjbGVhblByb3BlcnR5IiwidHJhbnNmb3JtUmVzdEFyZ3MiLCJpc0RFbGVtZW50cyIsImdsb2JhbHMiLCJvbGRXYXRjaGVyIiwid2F0Y2hGb3JBbGxMb2NhbHMiLCJ3YXRjaEZvckFsbEFyZ3MiLCJ3YXRjaEZvckFsbEdsb2JhbHMiLCJwZXJtIiwibG9jYWxzIiwicmVnaXN0ZXJCdWlsdElucyIsIkJsb2NrcyIsImJsb2NrcyIsIndyYXBNaXhpbiIsImR5bmFtaWMiLCJjb21tZW50IiwiaXNEeW5hbWljIiwiX3ZhbHVlIiwiTWl4aW5zIiwiaW5pdEFwcCIsIkVycm9yIiwiUm9vdEJsb2NrIiwicmVtb3ZlQXBwIiwiRHdheW5lUm9vdEJsb2NrIiwicmVnaXN0ZXIiLCJDb25zdHJ1Y3RvciIsImxvY2FsQmxvY2tzIiwibG9jYWxNaXhpbnMiLCJkQmxvY2tNYXRjaCIsImRCbG9ja0FyZ3MiLCJkQmxvY2tDaGlsZHJlbiIsImRFbGVtZW50c05hbWUiLCJibG9ja0luc3RhbmNlIiwiY3VycmVudEF0dHJzIiwibWl4aW5EZWZhdWx0T3B0cyIsImxvY2FsQXR0cnMiLCJyZXN0QXR0cnMiLCJ0cmFuc2Zvcm1SZXN0QXR0cnMiLCJtaXhpbk1hdGNoIiwiY3JlYXRlTWl4aW5zIiwiY2FsY3VsYXRlQXR0cnMiLCJBcmdzIiwibmV3TmFtZSIsImNvbnN0cnVjdFByaXZhdGVTY29wZSIsInNjb3BlVmFsdWVzIiwicHJpdmF0ZVNjb3BlIiwiYWZ0ZXJDb25zdHJ1Y3QiLCJhZnRlclJlbmRlciIsImNyZWF0ZU1peGluIiwibWl4aW4iLCJDbGFzcyIsInJlbW92ZVdhdGNoZXJzIiwicmVtb3ZlV2F0Y2hlciIsImNvbnN0cnVjdFB1YmxpY1Njb3BlIiwidGVtcCIsIm9sZFRlbXBXYXRjaGVycyIsInJlbW92ZVRlbXBXYXRjaGVyIiwid2FzIiwiZ2xvYiIsImNhbGN1bGF0ZUFyZ3MiLCJhZGRBcmdzIiwiZXZlbnR1YWxBdHRycyIsImxvY2FsTWF0Y2giLCJhcmdzTWF0Y2giLCJhdHRyc09iamVjdCIsImZpcnN0VGltZSIsIm5leHRUeXBlIiwibmV4dER5bmFtaWMiLCJuZXh0VmFsdWUiLCJwcmV2VHlwZSIsInByZXZWYWx1ZSIsImV2YWx1YXRlZCIsImJ1aWxkTWl4aW4iLCJmaXJzdFZhbHVlIiwiZXhlY3V0ZU1peGluV2F0Y2hlcnMiLCJleHRlbmRCbG9jayIsImluc2VydFRlbXBsYXRlcyIsInRlbXBsYXRlcyIsIm5ld1RlbXBsYXRlcyIsIm5ld1ZhcnMiLCJmb3JFYWNoTm9kZSIsInRyZWUiLCJ0cmltIiwid3JhcHBlciJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0FBRUEsZUFBZSxPQUFPQSxNQUFQLEtBQWtCLFdBQWxCLEdBQWdDQSxNQUFoQyxHQUF5QyxPQUFPQyxNQUFQLEtBQWtCLFdBQWxCLEdBQWdDQSxNQUFoQyxHQUF5QyxPQUFPQyxJQUFQLEtBQWdCLFdBQWhCLEdBQThCQSxJQUE5QixHQUFxQyxFQUF0STs7QUNGTyxTQUFTQyxnQkFBVCxDQUEwQkMsS0FBMUIsRUFBaUNDLFFBQWpDLEVBQThEO01BQW5CQyxZQUFtQix1RUFBSixFQUFJOztlQUN0REYsS0FBYixFQUFvQixVQUFDRyxLQUFELEVBQVFDLEtBQVIsRUFBa0I7YUFDM0JGLFlBQVQsRUFBdUJDLEtBQXZCLEVBQThCQyxLQUE5QixFQUFxQ0osS0FBckM7R0FERjs7U0FJT0UsWUFBUDs7O0FBR0YsQUFBTyxTQUFTRyxXQUFULENBQXFCTCxLQUFyQixFQUE0QkMsUUFBNUIsRUFBc0M7T0FDdEMsSUFBSUssSUFBSSxDQUFSLEVBQVdDLFNBQVNQLE1BQU1PLE1BQS9CLEVBQXVDRCxJQUFJQyxNQUEzQyxFQUFtREQsR0FBbkQsRUFBd0Q7UUFDaERILFFBQVFI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"}