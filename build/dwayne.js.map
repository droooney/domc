{"version":3,"file":"dwayne.js","sources":["../lib/constants/global.js","../lib/constants/constructors.js","../lib/helpers/toStringTag.js","../lib/helpers/checkTypes.js","../lib/D.js","../lib/helpers/iterate.js","../lib/helpers/assign.js","../lib/helpers/defineProperty.js","../lib/helpers/Symbol.js","../lib/helpers/toArray.js","../lib/constants/validateCheckExpressions.js","../lib/helpers/validate.js","../lib/Alphabet.js","../lib/Switcher.js","../lib/Super.js","../lib/Arr.js","../lib/Promise.js","../lib/BlobObject.js","../lib/Func.js","../lib/Num.js","../lib/constants/regexpSpecialCharacters.js","../lib/Str.js","../lib/constants/formats.js","../lib/Dat.js","../lib/helpers/constructURL.js","../lib/helpers/parseHeaders.js","../lib/helpers/transformData.js","../lib/Fetch.js","../lib/constants/appliedRegExps.js","../lib/constants/elements.js","../lib/constants/canvasMethods.js","../lib/Elem.js","../lib/helpers/resolveURL.js","../lib/Router.js","../browser.js"],"sourcesContent":["/* eslint no-nested-ternary: 0 */\n/* eslint no-negated-condition: 0 */\nexport default typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n","/**\n * @module constants/constructors\n * @private\n * @description Exports constructors levels.\n */\n\n/**\n * @const\n * @type {Array[]}\n */\nexport default [\n  [],\n  [],\n  []\n];\n","/**\n * @module helpers/toStringTag\n * @private\n * @description Exports toStringTag method.\n */\n\n/**\n * @function toStringTag\n * @param {*} object - Object to get toStringTag of.\n * @returns {String} Cut string.\n * @description Cut \"Type\" string from \"[object Type]\" string that gotten from {}.toString,call(object).\n */\nexport function toStringTag(object) {\n  return {}.toString.call(object).replace(/^\\[object |]$/g, '');\n}\n","/**\n * @module helpers/checkTypes\n * @private\n * @mixin\n * @description Exports is<Type> methods.\n */\n\nimport { toStringTag } from './toStringTag';\n\n/**\n * @function isArray\n * @public\n * @param {*} value - Value to check if it is an array.\n * @returns {Boolean} If the argument is an array or not.\n * \n * @example\n * isArray([]);                             // true\n * isArray(0);                              // true\n * isArray(document.querySelectorAll('*')); // false\n */\nexport function isArray(value) {\n  return toStringTag(value) === 'Array';\n}\n\n/**\n * @function isArrayLike\n * @public\n * @param {*} value - Value to check if it is array-like.\n * @returns {Boolean} If the argument is array-like or not.\n * @description Basically returns if the argument has non-negative integer \"length\" property and isn't a function.\n * \n * @example\n * isArrayLike([]);                             // true\n * isArrayLike('');                             // true\n * isArrayLike(() => {});                       // false\n * isArrayLike(document.querySelectorAll('*')); // true\n */\nexport function isArrayLike(value) {\n  if (!value || isFunction(value)) {\n    return false;\n  }\n  \n  const length = value.length;\n  \n  return isInteger(length) && length >= 0;\n}\n\n/**\n * @function isBoolean\n * @public\n * @param {*} value - Value to check if it is a boolean.\n * @returns {Boolean} If the argument is a boolean or not.\n * \n * @example\n * isBoolean(true);               // true\n * isBoolean(new Boolean(false)); // true\n * isBoolean(null);               // false\n */\nexport function isBoolean(value) {\n  return toStringTag(value) === 'Boolean';\n}\n\n/**\n * @function isDate\n * @public\n * @param {*} value - Value to check if it is a date.\n * @returns {Boolean} If the argument is a date or not.\n * \n * @example\n * isDate(new Date());                 // true\n * isDate('1999-12-31T23:59:59.999Z'); // false\n */\nexport function isDate(value) {\n  return toStringTag(value) === 'Date';\n}\n\n/**\n * @function isDateLike\n * @public\n * @param {*} value - Value to check if it is date-like.\n * @returns {Boolean} If the argument is date-like or not.\n * @description Basically returns if new Date(argument) is not invalid date.\n * \n * @example\n * isDateLike(new Date());                 // true\n * isDateLike('1999-12-31T23:59:59.999Z'); // true\n * isDateLike(0);                          // true\n */\nexport function isDateLike(value) {\n  value = new Date(value);\n  \n  return !isNaN(value.getTime());\n}\n\n/**\n * @function isElement\n * @public\n * @param {*} value - Value to check if it is an element.\n * @returns {Boolean} If the argument is element or not.\n *\n * @example\n * isElement(document.querySelector('html')); // true\n */\nexport function isElement(value) {\n  return /Element$/.test(toStringTag(value));\n}\n\n/**\n * @function isFinite\n * @public\n * @param {*} value - Value to check if it is finite.\n * @returns {Boolean} If the argument is finite or not.\n * \n * @example\n * isFinite(0);        // true\n * isFinite('0');      // false\n * isFinite(Infinity); // false\n * isFinite(NaN);      // false\n */\nexport function isFinite(value) {\n  if (!isNumber(value)) {\n    return false;\n  }\n  \n  value = Number(value);\n\n  return !isNaN(value) && value !== Infinity && value !== -Infinity;\n}\n\n/**\n * @function isFunction\n * @public\n * @param {*} value - Value to check if it is a function.\n * @returns {Boolean} If the argument is a function or not.\n * \n * @example\n * isFunction(() => {});            // true\n * \n * const func = () => {};\n * Object.setPrototypeOf(func, {});\n * isFunction(func);                // true\n */\nexport function isFunction(value) {\n  return toStringTag(value) === 'Function' || typeof value === 'function';\n}\n\n/**\n * @function isInteger\n * @public\n * @param {*} value - Value to check if it is an integer.\n * @returns {Boolean} If the argument is an integer or not.\n *\n * @example\n * isInteger(0);             // true\n * isInteger(0.1);           // false\n * isInteger(new Number(0)); // true\n * isInteger('0');           // false\n * isInteger(Infinity);      // false\n * isInteger(NaN);           // false\n */\nexport function isInteger(value) {\n  return isNumber(value) && value % 1 === 0;\n}\n\n/**\n * @function isIntegerLike\n * @public\n * @param {*} value - Value to check if it is integer-like.\n * @returns {Boolean} If the argument is integer-like or not.\n *\n * @example\n * isIntegerLike(0);             // true\n * isIntegerLike(new Number(0)); // true\n * isIntegerLike(0.1);           // false\n * isIntegerLike('0');           // true\n */\nexport function isIntegerLike(value) {\n  value = parseInt(Number(value));\n\n  return !!(value || value === 0);\n}\n\n/**\n * @function isNaN\n * @public\n * @param {*} value - Value to check if it is NaN.\n * @returns {Boolean} If the argument is NaN or not.\n *\n * @example\n * isNaN(0);               // false\n * isNaN('NaN');           // false\n * isNaN(NaN);             // true\n * isNaN(new Number(NaN)); // true\n */\nexport function isNaN(value) {\n  if (!isNumber(value)) {\n    return false;\n  }\n  \n  value = Number(value);\n\n  return value !== value;\n}\n\n/**\n * @function isNull\n * @public\n * @param {*} value - Value to check if it is null.\n * @returns {Boolean} If the argument is null or not.\n *\n * @example\n * isNull(null);      // true\n * isNull(undefined); // false\n */\nexport function isNull(value) {\n  return value === null;\n}\n\n/**\n * @function isNullOrUndefined\n * @public\n * @param {*} value - Value to check if it is null or undefined.\n * @returns {Boolean} If the argument is null or undefined or not.\n *\n * @example\n * isNullOrUndefined(null);      // true\n * isNullOrUndefined(undefined); // true\n * isNullOrUndefined(false);     // false\n */\nexport function isNullOrUndefined(value) {\n  return value === null || typeof value === 'undefined';\n}\n\n/**\n * @function isNumber\n * @public\n * @param {*} value - Value to check if it is a number.\n * @returns {Boolean} If the argument is a number or not.\n *\n * @example\n * isNumber(0);             // true\n * isNumber(new Number(0)); // true\n * isNumber(NaN);           // true\n * isNumber('0');           // false\n */\nexport function isNumber(value) {\n  return toStringTag(value) === 'Number';\n}\n\n/**\n * @function isNumberLike\n * @public\n * @param {*} value - Value to check if it is number-like.\n * @returns {Boolean} If the argument is number-like or not.\n *\n * @example\n * isNumberLike(0);          // true\n * isNumberLike('0');        // true\n * isNumberLike('Infinity'); // true\n * isNumberLike('NaN');      // true\n * isNumberLike(NaN);        // true\n */\nexport function isNumberLike(value) {\n  if (isNaN(value) || value === 'NaN') {\n    return true;\n  }\n  \n  value = Number(value);\n  \n  return !!(value || value === 0);\n}\n\n/**\n * @function isObject\n * @public\n * @param {*} value - Value to check if it is an object.\n * @returns {Boolean} If the argument is an object or not.\n *\n * @example\n * isObject({});   // true\n * isObject(1);    // false\n * isObject(null); // false\n */\nexport function isObject(value) {\n  return !!value && (toStringTag(value) === 'Object' || typeof value === 'object' || value instanceof Object);\n}\n\n/**\n * @function isPlainObject\n * @public\n * @param {*} value - Value to check if it is a plain object.\n * @returns {Boolean} If the argument is a plain object or not.\n *\n * @example\n * const obj = {};\n *\n * ifPlainObject(obj); // true\n *\n * Object.setPrototypeOf(object, null);\n *\n * ifPlainObject(obj); // true\n *\n * Object.setPrototypeOf(object, {});\n *\n * ifPlainObject(obj); // false\n */\nexport function isPlainObject(value) {\n  if (isPrimitive(value)) {\n    return false;\n  }\n\n  const proto = Object.getPrototypeOf(value);\n\n  if (isNull(proto)) {\n    return true;\n  }\n\n  const constructor = proto.constructor;\n\n  return isFunction(constructor) &&\n    constructor instanceof constructor &&\n    isNull(Object.getPrototypeOf(proto));\n}\n\n/**\n * @function isPrimitive\n * @public\n * @param {*} value - Value to check if it is primitive.\n * @returns {Boolean} If the argument is primitive or not.\n *\n * @example\n * isPrimitive(1);             // true\n * isPrimitive({});            // false\n * isPrimitive('');            // true\n * isPrimitive(new Number(0)); // false\n * isPrimitive(true);          // true\n * isPrimitive(Symbol('foo')); // true\n * isPrimitive(null);          // true\n * isPrimitive(undefined);     // true\n */\nexport function isPrimitive(value) {\n  return isNull(value) || /^(number|string|boolean|symbol|undefined)$/.test(typeof value);\n}\n\n/**\n * @function isRegExp\n * @public\n * @param {*} value - Value to check if it is a regular expression.\n * @returns {Boolean} If the argument is a regular expression or not.\n *\n * @example\n * isRegExp(/foo/);             // true\n * isRegExp('/foo/');           // false\n * isRegExp(new RegExp('foo')); // true\n */\nexport function isRegExp(value) {\n  return toStringTag(value) === 'RegExp';\n}\n\n/**\n * @function isString\n * @public\n * @param {*} value - Value to check if it is a string.\n * @returns {Boolean} If the argument is a string or not.\n *\n * @example\n * isString('0');             // true\n * isString(new String('0')); // true\n */\nexport function isString(value) {\n  return toStringTag(value) === 'String';\n}\n\n/**\n * @function isSymbol\n * @public\n * @param {*} value - Value to check if it is a symbol.\n * @returns {Boolean} If the argument is a symbol or not.\n *\n * @example\n * isSymbol(Symbol('1')); // true\n */\nexport function isSymbol(value) {\n  return toStringTag(value) === 'Symbol';\n}\n\n/**\n * @function isUndefined\n * @public\n * @param {*} value - Value to check if it is undefined.\n * @returns {Boolean} If the argument is undefined or not.\n *\n * @example\n * isUndefined(null);      // false\n * isUndefined(undefined); // true\n */\nexport function isUndefined(value) {\n  return typeof value === 'undefined';\n}\n","/**\n * @module D\n * @private\n * @description Exports D function.\n */\n\nimport constructors from './constants/constructors';\n\nexport * from './helpers/checkTypes';\n\n/**\n * @function D\n * @public\n * @param {*} [value] - Any value.\n * @returns {DWrap} Wrap of the argument.\n * @description Function for creating a D-wrap of an object.\n *\n * @example\n * D({});            // Super\n * D(() => {});      // Func\n * D([]);            // Arr\n * D(1);             // Num\n * D('1');           // Str\n * D(new Date());    // Dat\n * D(document.body); // Elem\n */\nexport function D(value) {\n  for (let i = constructors.length - 1; i >= 0; i--) {\n    const levelConstructors = constructors[i];\n\n    for (let k = 0, len = levelConstructors.length; k < len; k++) {\n      const constructor = levelConstructors[k];\n\n      if (value instanceof constructor.cls) {\n        return value;\n      }\n\n      if (constructor.check(value)) {\n        return new constructor.cls(value);\n      }\n    }\n  }\n}\n\nexport default D;\n","/**\n * @module helpers/iterate\n * @private\n * @description Exports iterate method.\n */\n\nimport { isArrayLike, isUndefined } from './checkTypes';\n\n/**\n * @callback IterationCallback\n * @param {*} value - Iteration value.\n * @param {String|Number} key - Iteration key.\n * @param {*} object - Initial iterable object.\n */\n\n/**\n * @function iterate\n * @param {(Object|Array|null|undefined)} object - Value to iterate over.\n * @param {IterationCallback} callback - Callback that is called on every iteration.\n * @returns {*} If callback returns not undefined then iterate returns this value.\n * @description Function for iterating over all types of values.\n */\nexport function iterate(object, callback) {\n  const array = isArrayLike(object);\n\n  let iterated = 0;\n\n  for (const key in object) {\n    if ({}.hasOwnProperty.call(object, key)) {\n      if (array && iterated++ >= object.length) {\n        break;\n      }\n\n      const value = callback(object[key], array ? Number(key) : key, object);\n\n      if (!isUndefined(value)) {\n        return value;\n      }\n    }\n  }\n}\n","/**\n * @module helpers/assign\n * @private\n * @description Exports Object.assign-like method.\n */\n\nimport { iterate } from './iterate';\n\n/**\n * @const\n * @function assign\n * @param {Object} target - Object to assign rest of arguments to.\n * @param {...Object} objects - Objects that are assigned to the target.\n * @returns {Object} Target.\n */\nexport function assign(target) {\n  iterate(arguments, (source, index) => {\n    if (index) {\n      iterate(source, (value, key) => {\n        target[key] = value;\n      });\n    }\n  });\n    \n  return target;\n}\n","/**\n * @module helpers/defineProperty\n * @private\n * @description Exports defineProperty and dynamicDefineProperties methods.\n */\n\nimport { iterate } from './iterate';\n\n/**\n * @callback propertyGeneratorCallback\n * @param {String} name - Name of the property.\n * @returns {*} Generated property.\n */\n\n/**\n * @function dynamicDefineProperties\n * @param {Object} target - Object to define properties for.\n * @param {Array} properties - Object which keys are properties.\n * @param {propertyGeneratorCallback} propertyGenerator - Callback for every property.\n * @returns {void}\n * @description Function for dynamic creating properties based on name of the method.\n */\nexport function dynamicDefineProperties(target, properties, propertyGenerator) {\n  iterate(properties, (name) => {\n    Object.defineProperty(target, name, {\n      value: propertyGenerator(name),\n      writable: true,\n      enumerable: false,\n      configurable: true\n    });\n  });\n}\n\n/**\n * @function defineProperties\n * @param {Object} target - Target to define properties for.\n * @param {Object} properties - Object with properties needed to be assign to the target.\n * @returns {void}\n * @description Function for defining properties of an object.\n */\nexport function defineProperties(target, properties) {\n  iterate(properties, (method, name) => {\n    if (/^get /.test(name)) {\n      Object.defineProperty(target, name.replace(/^get /, ''), {\n        get: method,\n        set: undefined,\n        enumerable: false,\n        configurable: true\n      });\n\n      return;\n    }\n\n    if (/^set /.test(name)) {\n      Object.defineProperty(target, name.replace(/^set /, ''), {\n        set: method,\n        get: undefined,\n        enumerable: false,\n        configurable: true\n      });\n\n      return;\n    }\n\n    if (/^get\\/set /.test(name)) {\n      Object.defineProperty(target, name.replace(/^get\\/set /, ''), {\n        get: method.get,\n        set: method.set,\n        enumerable: false,\n        configurable: true\n      });\n\n      return;\n    }\n\n    if (name !== 'Symbol.toStringTag') {\n      Object.defineProperty(target, name, {\n        value: method,\n        writable: true,\n        enumerable: false,\n        configurable: true\n      });\n    }\n  });\n}\n","/**\n * @module helpers/Symbol\n * @private\n * @description Exports Symbol class.\n */\n\nexport const Symbol = global.Symbol || {\n  toStringTag: 'Symbol.toStringTag',\n  iterator: Math.random().toString(36)\n};\n","/**\n * @module helpers/toArray\n * @private\n * @description Exports toArray method.\n */\n\nimport { isArray, isArrayLike, isString } from './checkTypes';\nimport { iterate } from './iterate';\n\n/**\n * @function toArray\n * @param {*} value - Any value.\n * @param {Boolean} [createNewArray = false] - If it is needed to create new array.\n * @returns {Array} Create array.\n * @description Function for creating an array of any value.\n */\nexport function toArray(value, createNewArray) {\n  if (isArray(value) && !createNewArray) {\n    return value;\n  }\n\n  const array = [];\n\n  if (isArrayLike(value) && !isString(value)) {\n    iterate(value, (value) => {\n      array.push(value);\n    });\n  } else {\n    array.push(value);\n  }\n\n  return array;\n}\n","/**\n * @module constants/validateCheckExpressions\n * @private\n * @description Exports different types of validate expressions for {@link module:helpers/validate}.\n */\n\nimport * as methods from '../helpers/checkTypes';\n\n/**\n * @callback checkValidityCallback\n * @private\n * @param {*} value - Value to check.\n */\n\n/**\n * @typedef {Object} validateExpr\n * @private\n * @property {String} text - Text of the thrown error.\n * @property {Error} error - Type of the thrown error.\n * @property {checkValidityCallback} check - Callback for checking value.\n */\n\n/**\n * @type {validateExpr[]}\n * @private\n * @description Object of different types of validation.\n */\nexport default {\n  '>0': {\n    check: (n) => n > 0,\n    text: '$n argument must be positive!',\n    error: RangeError\n  },\n  '>=0': {\n    check: (n) => n >= 0,\n    text: '$n argument must be non-negative!',\n    error: RangeError\n  },\n  '<0': {\n    check: (n) => n < 0,\n    text: '$n argument must be negative!',\n    error: RangeError\n  },\n  '<=0': {\n    check: (n) => n <= 0,\n    text: '$n argument must be non-positive!',\n    error: RangeError\n  },\n  '!!': {\n    check: methods.isNullOrUndefined,\n    text: '$n argument must be not null or undefined!',\n    error: TypeError\n  },\n  array: {\n    check: methods.isArray,\n    text: '$n argument must be an array!',\n    error: TypeError\n  },\n  'array||!': {\n    check: (a) => methods.isArray(a) || methods.isNullOrUndefined(a),\n    text: '$n argument must be an array, or undefined, or null!',\n    error: TypeError\n  },\n  arrayLike: {\n    check: methods.isArrayLike,\n    text: '$n argument must be array-like!',\n    error: TypeError\n  },\n  'arrayLike||!': {\n    check: (a) => methods.isArrayLike(a) || methods.isNullOrUndefined(a),\n    text: '$n argument must be array-like, or undefined, or null!',\n    error: TypeError\n  },\n  date: {\n    check: methods.isDate,\n    text: '$n argument must be a date!',\n    error: TypeError\n  },\n  'date||!': {\n    check: (d) => methods.isDate(d) || methods.isNullOrUndefined(d),\n    text: '$n argument must be a date, or undefined, or null!',\n    error: TypeError\n  },\n  dateLike: {\n    check: methods.isDateLike,\n    text: '$n argument must be date-like!',\n    error: TypeError\n  },\n  'dateLike||!': {\n    check: (d) => methods.isDateLike(d) || methods.isNullOrUndefined(d),\n    text: '$n argument must be date-like, or undefined, or null!',\n    error: TypeError\n  },\n  function: {\n    check: methods.isFunction,\n    text: '$n argument must be a function!',\n    error: TypeError\n  },\n  'function||!': {\n    check: (f) => methods.isFunction(f) || methods.isNullOrUndefined(f),\n    text: '$n argument must be a function, or undefined, or null!',\n    error: TypeError\n  },\n  int: {\n    check: methods.isInteger,\n    text: '$n argument must be an integer!',\n    error: TypeError\n  },\n  'int||!': {\n    check: (i) => methods.isInteger(i) || methods.isNullOrUndefined(i),\n    text: '$n argument must be an integer, or undefined, or null!',\n    error: TypeError\n  },\n  intLike: {\n    check: methods.isIntegerLike,\n    text: '$n argument must be integer-like!',\n    error: TypeError\n  },\n  'intLike||!': {\n    check: (i) => methods.isIntegerLike(i) || methods.isNullOrUndefined(i),\n    text: '$n argument must be integer-like, or undefined, or null!',\n    error: TypeError\n  },\n  number: {\n    check: methods.isNumber,\n    text: '$n argument must be a number!',\n    error: TypeError\n  },\n  'number||!': {\n    check: (n) => methods.isNumber(n) || methods.isNullOrUndefined(n),\n    text: '$n argument must be a number, or undefined, or null!',\n    error: TypeError\n  },\n  numberLike: {\n    check: methods.isNumberLike,\n    text: '$n argument must be number-like!',\n    error: TypeError\n  },\n  'numberLike||!': {\n    check: (n) => methods.isNumberLike(n) || methods.isNullOrUndefined(n),\n    text: '$n argument must be number-like, or undefined, or null!',\n    error: TypeError\n  },\n  object: {\n    check: methods.isObject,\n    text: '$n argument must be an object!',\n    error: TypeError\n  },\n  'object||!': {\n    check: (o) => methods.isObject(o) || methods.isNullOrUndefined(o),\n    text: '$n argument must be an object, or undefined, or null!',\n    error: TypeError\n  },\n  regexp: {\n    check: methods.isRegExp,\n    text: '$n argument must be a regular expression!',\n    error: TypeError\n  },\n  'regexp||!': {\n    check: (r) => methods.isRegExp(r) || methods.isNullOrUndefined(r),\n    text: '$n argument must be a regular expression, or undefined, or null!',\n    error: TypeError\n  },\n  string: {\n    check: methods.isString,\n    text: '$n argument must be a string!',\n    error: TypeError\n  },\n  'string||!': {\n    check: (s) => methods.isString(s) || methods.isNullOrUndefined(s),\n    text: '$n argument must be a string, or undefined, or null!',\n    error: TypeError\n  }\n};\n","/**\n * @module helpers/validate\n * @private\n * @description Exports validate method.\n */\n\nimport checkExpressions from '../constants/validateCheckExpressions';\nimport { iterate } from './iterate';\nimport { isArray } from './checkTypes';\n\nconst numbers = ['1st', '2nd', '3rd', '4th', '5th', '6th', '7th'];\n\n/**\n * @function validate\n * @private\n * @param {Object} args - Arguments of function.\n * @param {Object} options - Object with validate parameters.\n * @param {String} [name] - Name of the function what called validate.\n * @returns {void}\n * @description Function for checking arguments of other functions.\n */\nexport function validate(args, options, name) {\n  iterate(options, (array, number) => {\n    if (!isArray(array)) {\n      array = [array];\n    }\n\n    iterate(array, (checker) => {\n      checker = checkExpressions[checker];\n\n      if (!checker.check(args[number])) {\n        throw new checker.error(checker.text.replace('$n', numbers[number]) + (name ? ` (at ${ name })` : ''));\n      }\n    });\n  });\n}\n","/**\n * @module Alphabet\n * @private\n * @mixin\n * @description Exports Alphabet class.\n */\n\nimport { isString, validate, defineProperties, Symbol } from './helpers';\n\n/**\n * @typedef {String} Char\n * @public\n * @description A string of one char.\n */\n\n/**\n * @class Alphabet\n * @public\n * @param {ArrayLike} alphabet - Alphabet to wrap.\n * @returns {Alphabet} Instance of Alphabet.\n * @description Class for alphabet manipulations: add, delete symbols, generate a token from an alphabet,\n * check if an alphabet contains a word.\n *\n * @example\n * new Alphabet(['a', 'b', 'c']);\n */\nexport class Alphabet {\n  constructor(alphabet = []) {\n    const a = {};\n\n    for (let i = 0, length = alphabet.length; i < length; i++) {\n      const char = alphabet[i];\n\n      if (!check(char)) {\n        throw new Error('Each element of an array must be a single char! (in Alphabet)');\n      }\n\n      a[char] = char;\n    }\n\n    /**\n     * @member {Object} Alphabet#$$\n     * @public\n     * @description The alphabet.\n     */\n    Object.defineProperty(this, '$$', { value: a });\n  }\n\n  /**\n   * @method Alphabet#add\n   * @public\n   * @param {...Char} chars - Chars to add.\n   * @returns {Alphabet} Returns this.\n   * @description Method for adding new letters to the alphabet.\n   *\n   * @example\n   * const alphabet = new Alphabet(['a', 'b', 'c']);\n   *\n   * alphabet.add('d', 'e');\n   *\n   * alphabet.get().$; // ['a', 'b', 'c', 'd', 'e']\n   */\n  add(...chars) {\n    for (let i = 0, length = chars.length; i < length; i++) {\n      const char = chars[i];\n\n      if (!check(char)) {\n        throw new Error('Each argument must be a single char! (in Alphabet#add)');\n      }\n\n      this.$$[char] = char;\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Alphabet#contains\n   * @public\n   * @param {String} word - Word to check if it is in the alphabet or not.\n   * @returns {Boolean} If the word in the alphabet or not.\n   * @description Method that returns if a word is in alphabet or not.\n   *\n   * @example\n   * const alphabet = new Alphabet(['f', 'b', 'o', 'a', 'r']);\n   *\n   * alphabet.contains('foo'); // true\n   * alphabet.contains('bar'); // true\n   * alphabet.contains('baz'); // false\n   */\n  contains(word) {\n    validate([word], ['string'], 'Alphabet#contains');\n\n    const alphabet = this.$$;\n\n    for (let i = 0, length = word.length; i < length; i++) {\n      if (!alphabet[word[i]]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * @method Alphabet#delete\n   * @public\n   * @param {...Char} chars - Chars to delete.\n   * @returns {Alphabet} Returns this.\n   * @description Method for deleting letters from the alphabet.\n   *\n   * @example\n   * const alphabet = new Alphabet(['a', 'b', 'c', 'd']);\n   *\n   * alphabet.delete('a');\n   *\n   * alphabet.get().$; // ['b', 'c', 'd']\n   *\n   * alphabet.delete('b', 'd');\n   *\n   * alphabet.get().$; // ['c']\n   */\n  delete(...chars) {\n    for (let i = 0, length = chars.length; i < length; i++) {\n      const char = chars[i];\n\n      if (!check(char)) {\n        throw new Error('Each argument must be a single char! (in Alphabet#delete)');\n      }\n\n      delete this.$$[char];\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Alphabet#get\n   * @returns {Array} Wrap of an array of alphabet letters.\n   * @description Method for getting array of alphabet letters.\n   *\n   * @example\n   * new Alphabet(['a', 'b', 'c']).get().$; // ['a', 'b', 'c']\n   */\n  get() {\n    return Object.keys(this.$$);\n  }\n\n  /**\n   * @method Alphabet#token\n   * @public\n   * @param {Number} length - Token length.\n   * @returns {String} Token.\n   * @description Method for generating random token with given length.\n   *\n   * @example\n   * new Alphabet(['a', 'b', 'c']).token(4); // 'abcb'\n   */\n  token(length) {\n    validate([length], [['intLike', '>0']], 'Alphabet#token');\n\n    const alphabet = Object.keys(this.$$);\n    const len = alphabet.length;\n    let token = '';\n\n    for (let i = 0; i < length; i++) {\n      token += alphabet[Math.floor(Math.random() * len)];\n    }\n\n    return token;\n  }\n}\n\ndefineProperties(Alphabet.prototype, {\n  [Symbol.toStringTag]: 'Alphabet'\n});\n\nfunction check(char) {\n  return isString(char) && char.length === 1;\n}\n\n/**\n * @function alphabet\n * @public\n * @param {String} string - String to generate an alphabet from.\n * @returns {Alphabet} New instance of Alphabet.\n * @description Function for creating an alphabet from a string that has format like this:\n * '&lt;char1&gt;-&lt;char2&gt; &lt;char3&gt;-&lt;char4&gt;'\n *\n * @example\n * const a1 = alphabet('a-c 1-3');\n * const a2 = alphabet('5-5f-g');\n *\n * a1.get().$; // ['1', '2', '3', 'a', 'b', 'c']\n * a2.get().$; // ['5', 'f', 'g']\n */\nexport function alphabet(string) {\n  validate([string], ['string']);\n\n  const ranges = string.split(/([\\s\\S]\\-+[\\s\\S])?/g);\n  const length = ranges.length;\n  const alphabet = [];\n\n  for (let i = 0; i < length; i++) {\n    const range = ranges[i];\n\n    if (!range || range === ' ') {\n      continue;\n    }\n\n    if (/\\-/.test(range) && !/[\\s\\S]\\-+[\\s\\S]/.test(range)) {\n      throw new Error(`Wrong part of the string (${ range })! (in alphabet)`);\n    }\n\n    if (/\\-/.test(range)) {\n      const start = range.charCodeAt(0);\n      const end = range.charCodeAt(2);\n\n      if (start > end) {\n        throw new Error('Start of the range must be before its end! (in alphabet)');\n      }\n\n      for (let k = 0, len = end - start + 1; k < len; k++) {\n        alphabet.push(String.fromCharCode(start + k));\n      }\n\n      continue;\n    }\n\n    if (range.length === 1) {\n      alphabet.push(range);\n    }\n  }\n\n  return new Alphabet(alphabet);\n}\n\nexport default Alphabet;\n","/**\n * @module Switcher\n * @private\n * @mixin\n * @description Exports Switcher class.\n */\n\nimport {\n  isArray, isFunction, isString, isUndefined,\n  iterate, Symbol, toArray, defineProperties\n} from './helpers';\n\n/**\n * @typedef {'boolean'|'equals'|'strictEquals'|'call'} SwitcherMode\n * @public\n * @description Enum type of switcher modes.\n */\n\n/**\n * @callback SwitcherCallCallback\n * @public\n * @param {*} value - Switcher value.\n * @returns {Boolean|*} On what the callback returns depends if the case is a match (truthy for the match).\n */\n\n/**\n * @callback SwitcherMatchCallback\n * @public\n * @param {...*} args - Arguments from the second argument that switcher was called with.\n * @param {*} value - Switcher value.\n * @param {*} matched - Switcher matched case.\n */\n\n/**\n * @class Switcher\n * @public\n * @param {Object} [cases = {}] - Object of cases.\n * @param {SwitcherMode} [mode = 'equals'] - Switcher mode.\n * @param {*} [defaultValue] - Switcher default value.\n * @returns {Switcher} - Instance of Switcher.\n * @description Switcher class for creating functions working similar to switch (value) {} construction,\n * but with the value assignment. Switcher instance is a function that accepts a value argument and an optional\n * args argument. Args with additional switcher value and matched case\n * are passed into the function of the matched case (if it is a function).\n *\n * @example\n * const switcher = new Switcher();\n * const switcher = new Switcher({\n *   case1: 'value1',\n *   case2: 'value2'\n * });\n * const switcher = new Switcher('strictEquals');\n * const switcher = new Switcher({\n *   case1: 'value1',\n *   case2: 'value2'\n * }, 'strictEquals');\n * const switcher = new Switcher('strictEquals', 'defaultValue');\n * const switcher = new Switcher({\n *   case1: 'value1',\n *   case2: 'value2'\n * }, 'strictEquals', 'defaultValue');\n *\n * // See [switcher]{@link switcher} examples for more information.\n */\nexport class Switcher extends Function {\n  constructor(cases = {}, mode = 'equals', defaultValue) {\n    super();\n\n    if (isString(cases)) {\n      if (!isUndefined(arguments[1])) {\n        defaultValue = mode;\n      }\n\n      mode = cases;\n      cases = {};\n    }\n\n    const eventualCases = [];\n\n    iterate(cases, (value, Case) => {\n      eventualCases.push({ case: Case, value });\n    });\n\n    function switcher(value, args = []) {\n      const { mode, default: def, cases } = switcher.$$;\n\n      let ret = iterate(cases, ({ value: val, case: Case }) => {\n        if (\n          (mode === 'boolean' && Case) ||\n          /* eslint eqeqeq: 0 */\n          (mode === 'equals' && Case == value) ||\n          (mode === 'strictEquals' && Case === value) ||\n          (mode === 'call' && Case(value))\n        ) {\n          return { case: Case, value: val };\n        }\n      });\n\n      if (isUndefined(ret)) {\n        ret = { value: def };\n      }\n\n      if (!isFunction(ret.value)) {\n        return ret.value;\n      }\n\n      args = toArray(args, true);\n      args.push(value, ret.case);\n\n      return ret.value.apply(null, args);\n    }\n\n    /**\n     * @member Switcher#$$\n     * @type {Object}\n     * @protected\n     * @property {Array} cases - Array of cases.\n     * @property {SwitcherMode} mode - Switcher mode.\n     * @property {*} default - Switcher default value.\n     * @description Config parameters.\n     */\n    Object.defineProperty(switcher, '$$', {\n      value: {\n        cases: eventualCases,\n        mode,\n        default: defaultValue\n      }\n    });\n    Object.setPrototypeOf(switcher, Switcher.prototype);\n\n    return switcher;\n  }\n\n  /**\n   * @method Switcher#case\n   * @public\n   * @param {*|SwitcherCallCallback|Array.<*|SwitcherCallCallback>} cases - Case or an array of cases.\n   * @param {*|SwitcherMatchCallback} value - Value that has to be assigned or a function\n   * that is called with switcher value, if it's the case.\n   * @returns {Switcher} Returns this.\n   * @description Method for defining new cases.\n   *\n   * @example\n   * const sw = new Switcher()\n   *   .case(1, 'one')\n   *   .case(2, 'two');\n   *\n   * sw(1); // 'one'\n   * sw(2); // 'two'\n   */\n  case(cases, value) {\n    if (!isArray(cases)) {\n      cases = [cases];\n    }\n\n    iterate(cases, (Case) => {\n      this.$$.cases.push({ case: Case, value });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Switcher#default\n   * @public\n   * @param {*} def - New default value.\n   * @returns {Switcher} Returns this.\n   * @description Method for redefining default switcher value.\n   *\n   * @example\n   * const sw = new Switcher()\n   *   .case(1, 'one')\n   *   .default('three');\n   *\n   * sw(1); // 'one'\n   * sw(2); // 'three'\n   */\n  default(def) {\n    this.$$.default = def;\n\n    return this;\n  }\n\n  /**\n   * @method Switcher#mode\n   * @public\n   * @param {SwitcherMode} mode - New switcher mode.\n   * @returns {Switcher} Returns this.\n   * @description Method for redefining switcher mode.\n   *\n   * @example\n   * const sw = new Switcher()\n   *   .mode('strictEquals')\n   *   .case(1, 'number')\n   *   .case('1', 'string');\n   *\n   * sw(1);   // 'number'\n   * sw('1'); // 'string'\n   */\n  mode(mode) {\n    this.$$.mode = mode;\n\n    return this;\n  }\n}\n\ndefineProperties(Switcher.prototype, {\n  [Symbol.toStringTag]: 'Switcher'\n});\n\n/**\n * @function switcher\n * @public\n * @param {Object} [cases = {}] - Object of cases.\n * @param {SwitcherMode} [mode = 'equals'] - Switcher mode.\n * @param {*} [defaultValue] - Switcher default value.\n * @returns {Switcher} New instance of Switcher.\n * @description Simple wrap of [new Switcher(...)]{@link Switcher}.\n * \n * @example\n * const sw = switcher({\n *   1: 'foo',\n *   2: 'bar'\n * });\n * sw(1); // 'foo'\n * sw(2); // 'bar'\n * sw(3); // undefined\n * \n * @example\n * const sw = switcher()\n *   .case([1, 2], 'foo')\n *   .case(3, 'bar');\n *   \n * sw(1); // 'foo'\n * sw(2); // 'foo'\n * sw(3); // 'bar'\n * \n * @example\n * const sw = switcher('call')\n *   .case(isArray, 'array')\n *   .case(isString, 'string')\n *   .case(isNumber, 'number')\n *   .default('rest');\n *   \n * sw([]);    // 'array'\n * sw('foo'); // 'string'\n * sw(123);   // 'number'\n * sw({});    // 'rest'\n * \n * @example\n * const sw = switcher({\n *   1: (value) => {\n *     console.log(value + 1);\n *   },\n *   2: () => {\n *     console.log(value - 1);\n *   }\n * });\n * \n * sw(1); // 2\n * sw(2); // 1\n * \n * @example\n * const sw = switcher({\n *   first: (array) => array[0],\n *   last: (array) => array[array.length - 1]\n * }, 'equals', (array, index) => array[index]);\n * const array = [1, 2, 3, 4];\n * \n * sw('first', [array]); // 1\n * sw('last', [array]);  // 4\n * sw(1, [array]);       // 2\n * sw(2, [array]);       // 3\n */\nexport function switcher(cases, mode, defaultValue) {\n  return new Switcher(...arguments);\n}\n\n/**\n * @function when\n * @public\n * @param {Boolean|*} condition - Condition used for returning the proper value.\n * @param {*} value1 - Value if the condition is truthy.\n * @param {*} value2 - Value if the condition is falsey.\n * @returns {*} value1 or value2.\n * @description Synonym for\n * [ternary operator]{@link https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Operators/Conditional_Operator}.\n * \n * @example\n * when(true, 'true', 'false'); // 'true'\n */\nexport function when(condition, value1, value2) {\n  return condition ? value1 : value2;\n}\n\nexport default Switcher;\n","/**\n * @module Super\n * @private\n * @mixin\n * @description Exports Super class.\n */\n\nimport D from './D';\nimport { switcher } from './Switcher';\nimport constructors from './constants/constructors';\nimport {\n  isArray, isArrayLike, isDate, isElement, isFunction, isNaN, isNull, isNullOrUndefined,\n  isObject, isPlainObject, isPrimitive, isRegExp, isString, isUndefined,\n  validate, toStringTag, iterate, Symbol, defineProperties\n} from './helpers';\n\n/**\n * @typedef {Super|Arr|Func|Elem|Str|Num|Dat|BlobObject} DWrap\n * @public\n * @description Any kind of D-Wrap.\n */\n\n/**\n * @typedef {String|Number|null} Key\n * @public\n * @description Key type used in many methods.\n */\n\n/**\n * @typedef {TreeElement[]} Tree\n * @public\n */\n\n/**\n * @typedef {Object} TreeElement\n * @public\n * @property {Key} key - Tree element key.\n * @property {*} value - Tree element value.\n * @description {@link Tree} element.\n */\n\n/**\n * @callback DeepIterationCallback\n * @public\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n * @param {Tree} tree - Tree of { key, value } elements.\n */\n\n/**\n * @callback DeepReduceCallback\n * @public\n * @param {*} previousValue - Previous value.\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n * @param {Tree} tree - Tree of { key, value } elements.\n */\n\n/**\n * @callback IterationCallback\n * @public\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n */\n\n/**\n * @callback JSONCallback\n * @public\n * @param {String|null} key - Current value.\n * @param {*} value - Current key.\n * @param {Object} object - Iteration object.\n */\n\n/**\n * @callback ObjectCallback\n * @public\n * @param {Object} newObject - The new object.\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n */\n\n/**\n * @callback ReduceCallback\n * @public\n * @param {*} previousValue - Previous value.\n * @param {*} value - Current iteration value.\n * @param {String|Number} key - Current iteration key/index.\n * @param {*} object - Iteration object.\n */\n\n/**\n * @callback SuperMethod\n * @public\n * @this {DWrap}\n */\n\nconst cloneSwitcher = switcher('call', (object) => object)\n  .case(\n    (object) => new Super(object) === object,\n    (object) => new (object.proto().$.constructor)(object)\n  )\n  .case(isElement, (object, deep) => object.clone(deep))\n  .case(isDate, (object) => new Date(object))\n  .case(isRegExp, (object) => new RegExp(object.source, object.toString().match(/[gimuy]*$/)[0]))\n  .case(isArray, () => [])\n  .case(isPlainObject, () => ({}));\n\n/**\n * @class Super\n * @public\n * @param {*} [object] - An object to wrap.\n * @returns {DWrap} Instance of Super.\n * @description Wrap of any value. And there is no way to create a nested wrap.\n *\n * @example\n * new Super({}); // Super\n */\nexport class Super {\n  constructor(object) {\n    if (object instanceof Super) {\n      return object;\n    }\n\n    /**\n     * @member Super#$\n     * @type {*}\n     * @public\n     * @description Wrapped object.\n     */\n    Object.defineProperty(this, '$', { value: object });\n  }\n\n  /**\n   * @method Super.addStaticProperties\n   * @public\n   * @param {String|Object} property - Either a string of a property or an object\n   * with properties keys and values values.\n   * @param {Object} [value] - If a property parameter is a string this has to be a property value.\n   * @returns {this} Returns this.\n   * @description Sets static properties for DWrap constructors.\n   *\n   * @example\n   * Super.addStaticProperties('cool', 42);\n   * Super.addStaticProperties('superCool', 42*42);\n   */\n  static addStaticProperties(property, value) {\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    defineProperties(this, property);\n\n    return this;\n  }\n\n  /**\n   * @method Super.addInstanceProperties\n   * @public\n   * @param {String|Object} property - Either a string of a property or an object\n   * with properties keys and values values.\n   * @param {Object} [value] - If a property parameter is a string this has to be a property value.\n   * @returns {this} Returns this.\n   * @description Sets static properties for DWrap prototypes.\n   *\n   * @example\n   * Super.addInstanceProperties('cool', 42);\n   * Super.addInstanceProperties('superCool', 42*42);\n   */\n  static addInstanceProperties(property, value) {\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    defineProperties(this.prototype, property);\n\n    return this;\n  }\n\n  /**\n   * @method Super#assign\n   * @public\n   * @param {...(Object|Super|*)} objects - Objects to be assigned to the object.\n   * @returns {DWrap} Returns this.\n   * @description Synonym for\n   * [Object.assign]\n   * {@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).assign({ a: 3 }, { c: 3, d: 4 }, { d: 5 }).$; // { a: 3, b: 2, c: 3, d: 5 }\n   */\n  assign(...objects) {\n    const object = this.$;\n\n    iterate(object && arguments, (o) => {\n      iterate(new Super(o).$, (value, key) => {\n        object[key] = value;\n      });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#average\n   * @public\n   * @param {IterationCallback} [callback = null] - Callback that is passed to {@link Super#sum}.\n   * @returns {Number} Average value.\n   * @description Synonym for object.sum(callback) / object.count.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).average();                         // 2\n   * new Super({ a: 1, b: 2, c: 5 }).average((value) => value * value); // 10\n   */\n  average(callback = null) {\n    validate([callback], ['function||!'], 'Super#average');\n\n    return this.sum(callback) / this.count;\n  }\n\n  /**\n   * @method Super#call\n   * @public\n   * @param {SuperMethod} func - Function to be called with this context.\n   * @param {...*} args - Arguments to be called with.\n   * @returns {*} Return of function call.\n   * @description Synonym for func.call(DObject, ...args);\n   *\n   * @example\n   * new Super({ a: 1 }).call(function (b, c) {\n   *   return this.a + b + c;\n   * }, 2, 3); // 6\n   */\n  call(func, ...args) {\n    validate([func], ['function'], 'Super#call');\n\n    return func.apply(this, args);\n  }\n\n  /**\n   * @method Super#clone\n   * @returns {DWrap} New object.\n   * @description Method assigns properties of the object to an empty one and returns the new one.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2 } }).clone().$; // { a: 1, b: { c: 2 } }\n   */\n  clone() {\n    const object = this.$;\n    const clone = cloneSwitcher(object, [object, false]);\n\n    if (clone !== object) {\n      iterate(object, (value, key) => {\n        clone[key] = value;\n      });\n    }\n\n    return new this.constructor(clone);\n  }\n\n  /**\n   * @member Super#count\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Returns number of own enumerable keys of the object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).count; // 2\n   */\n  get count() {\n    const object = this.$;\n\n    if (!isObject(object)) {\n      return 0;\n    }\n\n    return isArrayLike(object) ? object.length : Object.keys(object).length;\n  }\n\n  /**\n   * @method Super#create\n   * @public\n   * @param {Object} [descriptors] - Descriptors passed to Object.create.\n   * @returns {DWrap} New instance of D-Wrap.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n   * @description Synonym for\n   * [Object.create]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/create}.\n   *\n   * @example\n   * new Super({}).create({\n   *   a: {\n   *     value: 1,\n   *     enumerable: false,\n   *     writable: true,\n   *     configurable: false\n   *   }\n   * }).$; // { a: 1 }\n   */\n  create(descriptors) {\n    return D(isPrimitive(this.$) ? undefined : Object.create(this.$, descriptors));\n  }\n\n  /**\n   * @method Super#deepAssign\n   * @public\n   * @param {...*} objects - Objects to be assigned to the object.\n   * @returns {DWrap} Returns this.\n   * @description Deep analogue of {@link Super#assign}.\n   *\n   * @example\n   * new Super({ a: 1 }).deepAssign(\n   *   {\n   *     b: {\n   *       c: 2\n   *     }\n   *   },\n   *   {\n   *     a: {\n   *       b: 1\n   *     }\n   *   },\n   *   {\n   *     a: {\n   *       c: {\n   *         d: 1\n   *       }\n   *     },\n   *     b: 2\n   *   },\n   *   null\n   * });\n   * // {\n   * //   a: {\n   * //     b: 1,\n   * //     c: {\n   * //       d: 1\n   * //     }\n   * //   },\n   * //   b: 2,\n   * // }\n   */\n  deepAssign(...objects) {\n    const object = this.$;\n\n    if (isPrimitive(object)) {\n      return this;\n    }\n\n    iterate(arguments, (o) => {\n      deepAssign(object, o);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#deepClone\n   * @public\n   * @returns {DWrap} New instance of DWrap.\n   * @description Deep cloning method. Clones plain objects, arrays, regular expressions and elements, the rest stays the same.\n   *\n   * @example\n   * new Super({ a: 1, b: [2, 3], c: { d: 4 } }).deepClone().$;\n   * // {\n   * //   a: 1,\n   * //   b: [2, 3],\n   * //   c: { d: 4 }\n   * // }\n   */\n  deepClone() {\n    return new this.constructor(deepClone(this.$));\n  }\n\n  /**\n   * @method Super#deepEquals\n   * @public\n   * @param {*} [object] - Object to compare to.\n   * @returns {Boolean} - If the objects are deep equal or not.\n   * @description Method for deep comparison of two objects.\n   *\n   * @example\n   * new Super({ a: 1 }).deepEquals({ a: '1' }); // true\n   * new Super(/1/).deepEquals(/1/);             // true\n   */\n  deepEquals(object = null) {\n    return deepEqual(this.$, object, false);\n  }\n\n  /**\n   * @method Super#deepEvery\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration goes on and if falsey it stops.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns boolean if all the callback calls returned truthy value.\n   * Otherwise false. Deep analogue of {@link Super#every}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepEvery((value) => value < 4); // true\n   * new Super({ a: {}, b: {}, c: {} }).deepEvery(() => false);              // true\n   */\n  deepEvery(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepEvery');\n\n    n = Number(n);\n\n    return deepEvery(this.$, callback, n, [{ key: null, value: this.$ }]);\n  }\n\n  /**\n   * @method Super#deepFilter\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy the element is included and if falsey it's excluded.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {DWrap} New D-Wrap of filtered object.\n   * @description Returns filtered by the callback object. Deep analogue of {@link Super#filter}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value%2).$;     // { a: 1, b: { d: 3 } }\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value === 1).$; // { a: 1 }\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFilter((value) => value > 3).$;   // {}\n   */\n  deepFilter(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepFilter');\n\n    const filtered = deepFilter(this.$, callback, n, [{ key: null, value: this.$ }]);\n\n    return D(isNullOrUndefined(filtered) ? filtered : filtered || {});\n  }\n\n  /**\n   * @method Super#deepFind\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {Tree|null} Tree of { key, value } if something found and null if not.\n   * @description Returns tree of the elements if something found and null if nothing found.\n   * Deep analogue of {@link Super#find}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFind((value) => value === 2);\n   * // [\n   * //   { key: 'c', value: 2 },\n   * //   { key: 'b', value: { c: 2, d: 3 } },\n   * //   { key: null, value: <initial object> }\n   * // ]\n   */\n  deepFind(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepFind');\n\n    return deepFind(this.$, callback, n, [{ key: null, value: this.$ }]);\n  }\n\n  /**\n   * @method Super#deepForEach\n   * @public\n   * @param {DeepIterationCallback} callback - Called on each iteration.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {DWrap} Returns this.\n   * @description Method for iterating over any object. Deep analogue of {@link Super#forEach}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepForEach((value, key, object) => object[key] = value * value).$;\n   * // { a: 1, b: { c: 4, d: 9 } }\n   */\n  deepForEach(callback, n = Infinity) {\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepForEach');\n\n    n = Number(n);\n\n    deepForEach(this.$, callback, n, [{ key: null, value: this.$ }]);\n\n    return this;\n  }\n\n  /**\n   * @method Super#deepFreeze\n   * @public\n   * @returns {DWrap} Returns this.\n   * @description Deep analogue of {@link Super#freeze}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepFreeze(); // Super\n   */\n  deepFreeze() {\n    deepFreeze(this.$);\n\n    return this;\n  }\n\n  /**\n   * @method Super#deepMap\n   * @public\n   * @param {DeepIterationCallback} callback - Called on each iteration.\n   * Return value is used for creating a new object.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {DWrap} D-Wrap of the new object.\n   * @description Returns a wrap of a new object using the callback. Deep analogue of {@link Super#map}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepMap((value) => value * value).$;\n   * // { a: 1, b: { c: 4, d: 9 } }\n   */\n  deepMap(callback, n = Infinity) {\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepMap');\n\n    n = Number(n);\n\n    return D(deepMap(this.$, callback, n, [{ key: null, value: this.$ }]));\n  }\n\n  /**\n   * @method Super#deepReduce\n   * @public\n   * @param {DeepReduceCallback} callback - Called on each iteration.\n   * Return value is passed to the next callback call.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @param {*} [IV = <first value>|undefined] - Initial value.\n   * @returns {*} Modified IV.\n   * @description Returns modified IV. Deep analogue of {@link Super#reduce}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepReduce((sum, value) => sum + value * value, Infinity, 0); // 14\n   */\n  deepReduce(callback, n = Infinity, IV) {\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepReduce');\n\n    n = Number(n);\n\n    const object = this.$;\n    const tree = [{ key: null, value: this.$ }];\n\n    if (arguments.length < 3) {\n      return deepReduce(object, callback, n, false, undefined, tree).IV;\n    }\n\n    return deepReduce(object, callback, n, false, { IV }, tree).IV;\n  }\n\n  /**\n   * @method Super#deepSome\n   * @public\n   * @param {DeepIterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @param {Number} [n = Infinity] - Iteration depth.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns true if some of the callback calls returned truthy value.\n   * Otherwise false. Deep analogue of {@link Super#some}.\n   *\n   * @example\n   * new Super({ a: 1, b: { c: 2, d: 3 } }).deepSome((value) => value > 4); // false\n   * new Super({ a: {}, b: {}, c: {} }).deepSome(() => true);               // false\n   */\n  deepSome(callback, n) {\n    if (arguments.length === 1 && !isFunction(callback)) {\n      n = callback;\n      callback = Boolean;\n    } else if (arguments.length === 1) {\n      n = Infinity;\n    } else if (!arguments.length) {\n      n = Infinity;\n      callback = Boolean;\n    }\n\n    validate([callback, n], ['function', ['numberLike', '>0']], 'Super#deepSome');\n\n    n = Number(n);\n\n    return deepSome(this.$, callback, n, [{ key: null, value: this.$ }]);\n  }\n\n  /**\n   * @method Super#deepStrictEquals\n   * @public\n   * @param {*} [object] - Object to compare to.\n   * @returns {Boolean} - If the objects are deep strict equal or not.\n   * @description Method for deep strict comparison of two objects.\n   *\n   * @example\n   * new Super({ a: 1 }).deepStrictEquals({ a: '1' }); // false\n   * new Super(/1/).deepStrictEquals(/1/);             // true\n   */\n  deepStrictEquals(object = null) {\n    return deepEqual(this.$, object, true);\n  }\n\n  /**\n   * @method Super#define\n   * @param {String|Object} property - Either a string of a property or a descriptors object.\n   * @param {Object} [descriptor] - If a property parameter is a string this has to be a property descriptor.\n   * @returns {DWrap} Returns this.\n   * @description Synonym for both\n   * [Object.defineProperty]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty}\n   * and\n   * [Object.defineProperties]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties}.\n   *\n   * @example\n   * new Super({}).define('a', {\n   *   value: 1,\n   *   enumerable: false,\n   *   writable: true,\n   *   configurable: false\n   * }).$; // { a: 1 }\n   * new Super({}).define({\n   *   a: {\n   *     value: 1,\n   *     enumerable: false,\n   *     writable: true,\n   *     configurable: false\n   *   }\n   * }).$; // { a: 1 }\n   */\n  define(property, descriptor) {\n    if (arguments.length >= 2) {\n      property = { [property]: descriptor };\n    }\n\n    property = new Super(property).$;\n\n    if (isObject(this.$)) {\n      Object.defineProperties(this.$, property);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Super#delete\n   * @public\n   * @param {...String} props - List of properties to delete.\n   * @returns {DWrap} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/delete\n   * @description Synonym for multiple\n   * [\"delete\" operator]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/delete}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).delete('c', 'a').$; // { b: 2 }\n   */\n  delete(...props) {\n    const object = this.$;\n\n    iterate(object && props, (property) => {\n      delete object[property];\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#equals\n   * @public\n   * @param {*} [object] - Object to compare.\n   * @returns {Boolean} If the objects are equal or not.\n   * @description Returns true if objects are equal using '==' operator and false if not. NaNs are considered to be equal.\n   *\n   * @example\n   * new Super(3).equals('3');   // true\n   * new Super(NaN).equals(NaN); // true\n   */\n  equals(object) {\n    const o = this.$;\n\n    object = new Super(object).$;\n\n    /* eslint eqeqeq: 0 */\n    return o == object || (isNaN(o) && isNaN(object));\n  }\n\n  /**\n   * @method Super#every\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration goes on and if falsey it stops.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns boolean if all the callback calls returned truthy value.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).every((value) => value < 4); // true\n   * new Super({}).every(() => false);                            // true\n   */\n  every(callback = Boolean) {\n    validate([callback], ['function'], 'Super#every');\n\n    return iterate(this.$, (value, key, object) => {\n      if (!callback(value, key, object)) {\n        return false;\n      }\n    }) !== false;\n  }\n\n  /**\n   * @method Super#filter\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy the element is included and if falsey it's excluded.\n   * @returns {DWrap} New D-Wrap of filtered object.\n   * @description Returns filtered by the callback object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).filter((value) => value%2).$; // { a: 1, c: 3 }\n   * new Super(null).filter((value) => value%2).$;                 // null\n   */\n  filter(callback = Boolean) {\n    validate([callback], ['function'], 'Super#filter');\n\n    const object = this.$;\n    const array = isArrayLike(object);\n\n    /* eslint no-nested-ternary: 0 */\n    const o = array ? [] : isNullOrUndefined(object) ? object : {};\n\n    iterate(object, (value, key) => {\n      if (callback(value, key, object)) {\n        if (array) {\n          o.push(value);\n        } else {\n          o[key] = value;\n        }\n      }\n    });\n\n    return D(o);\n  }\n\n  /**\n   * @method Super#find\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @returns {{ key: Key, value: * }|null} { key, value } if found and null if not.\n   * @description Returns found { key, value } if something found and null if nothing found.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).find((value) => value === 2); // { key: 'b', value: 2 }\n   * new Super([1, 2, 3]).find((value) => value === 2);            // { key: 1, value: 2 }\n   */\n  find(callback) {\n    validate([callback], ['function'], 'Super#find');\n\n    return iterate(this.$, (value, key, object) => {\n      if (callback(value, key, object)) {\n        return { key, value };\n      }\n    }) || null;\n  }\n\n  /**\n   * @method Super#forEach\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * @returns {DWrap} Returns this.\n   * @description Method for iterating over any object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).forEach((value, key, object) => {\n   *   object[key] = value * value;\n   * }).$; // { a: 1, b: { c: 4, d: 5 } }\n   */\n  forEach(callback) {\n    validate([callback], ['function'], 'Super#forEach');\n\n    iterate(this.$, (value, key, object) => {\n      callback(value, key, object);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#freeze\n   * @public\n   * @returns {DWrap} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n   * @description Synonym for\n   * [Object.freeze]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).freeze(); // Super\n   */\n  freeze() {\n    Object.freeze(this.$);\n\n    return this;\n  }\n\n  /**\n   * @method Super#get\n   * @public\n   * @param {String|Object.<String, Function>} property - Either a string of a property or a getters object.\n   * @param {Function} [getter] - If a property parameter is a string this has to be a getter function.\n   * @returns {DWrap} Returns this.\n   * @description Method for defining getters.\n   *\n   * @example\n   * const object1 = new Super({}).get('a', () => 1).$;\n   * object1.a; // 1\n   *\n   * const object2 = new Super({}).get({\n   *   a: () => 2\n   * }).$;\n   * object2.a; // 2\n   */\n  get(property, getter) {\n    if (arguments.length >= 2) {\n      property = { [property]: getter };\n    }\n\n    const object = this.$;\n\n    iterate(isObject(object) && new Super(property).$, (getter, property) => {\n      Object.defineProperty(object, property, { get: getter });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#has\n   * @public\n   * @param {String|*} key - Property to check.\n   * @returns {Boolean} Returns true if the object has the key and false if not.\n   * @see https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/in\n   * @description Synonym for\n   * [\"in\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/in}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).has('b'); // true\n   */\n  has(key) {\n    const object = this.$;\n\n    if (!isObject(object)) {\n      return false;\n    }\n\n    return key in object;\n  }\n\n  /**\n   * @method Super#hasOwn\n   * @public\n   * @param {String|*} key - Property to check.\n   * @returns {Boolean} Returns true if the object has its own key and false if not.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\n   * @description Synonym for\n   * [Object#hasOwnProperty]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).hasOwn('b');              // true\n   * new Super({ a: 1, b: 2, c: 3 }).hasOwn('hasOwnProperty'); // false\n   */\n  hasOwn(key) {\n    const object = this.$;\n\n    if (!isObject(object)) {\n      return false;\n    }\n\n    return {}.hasOwnProperty.call(object, key);\n  }\n\n  /**\n   * @method Super#instanceof\n   * @public\n   * @param {Function} constructor - Constructor to check.\n   * @returns {Boolean} If the object is an instance of constructor.\n   * @see https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof\n   * @description Synonym for\n   * [\"instanceof\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof}.\n   */\n  instanceof(constructor) {\n    return this.$ instanceof constructor;\n  }\n\n  /**\n   * @method Super#isFrozen\n   * @public\n   * @returns {Boolean} If the object is frozen.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen\n   * @description Synonym for\n   * [Object.isFrozen]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen}.\n   *\n   * @example\n   * new Super({}).freeze().isFrozen(); // true\n   */\n  isFrozen() {\n    return Object.isFrozen(this.$);\n  }\n\n  /**\n   * @method Super#json\n   * @public\n   * @param {JSONCallback|String[]} [replacer] - See the link.\n   * @param {String|Number} [space] - See the link.\n   * @returns {String} JSON string.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\n   * @description Synonym for\n   * [JSON.stringify]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).json(); // '{\"a\":1,\"b\":2,\"c\":3}'\n   * new Super({ a: 1, b: 2, c: 3 }).json('    ');\n   * // {\n   * //     \"a\": 1,\n   * //     \"b\": 2,\n   * //     \"c\": 3\n   * // }\n   * new Super({ a: 1, b: 2, c: 3 }).json((key, value) => {\n   *   if (typeof value === 'number') {\n   *     return value%2 ? key + value0 : undefined;\n   *   }\n   *\n   *   return value;\n   * }, 2);\n   * // {\n   * //   \"a\": \"a1\",\n   * //   \"c\": \"c3\"\n   * // }\n   */\n  json(replacer, space) {\n    if (arguments.length === 1 && !isFunction(replacer) && !isArray(replacer)) {\n      [].unshift.call(arguments, null);\n    }\n\n    [].unshift.call(arguments, this.$);\n\n    return JSON.stringify.apply(JSON, arguments);\n  }\n\n  /**\n   * @method Super#keyOf\n   * @public\n   * @param {*} value - Value to find.\n   * @returns {String|Number|null} A key or an index if found and null if not.\n   * @description Method for finding equal to the argument value in the object. NaNs are considered to be equal.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).keyOf(2);   // 'b'\n   * new Super({ a: 1, b: 2, c: 3 }).keyOf('2'); // 'b'\n   */\n  keyOf(value) {\n    const key = iterate(this.$, (val, key) => {\n      if (val == value || (isNaN(val) && isNaN(value))) {\n        return key;\n      }\n    });\n\n    return isUndefined(key) ? null : key;\n  }\n\n  /**\n   * @method Super#keyOfStrict\n   * @public\n   * @param {*} value - Value to find.\n   * @returns {String|Number|null} A key or an index if found and null if not.\n   * @description Method for finding strict equal to the argument value in the object. NaNs are considered to be equal.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).keyOfStrict(2);   // 'b'\n   * new Super({ a: 1, b: 2, c: 3 }).keyOfStrict('2'); // 'b'\n   */\n  keyOfStrict(value) {\n    const key = iterate(this.$, (val, key) => {\n      if (val === value || (isNaN(val) && isNaN(value))) {\n        return key;\n      }\n    });\n\n    return isUndefined(key) ? null : key;\n  }\n\n  /**\n   * @method Super#keys\n   * @public\n   * @returns {DWrap} A wrap of the keys array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\n   * @description Synonym for\n   * [Object.keys]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/keys}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).keys().$; // ['a', 'b', 'c']\n   * new Super(null).keys().$;                 // []\n   */\n  keys() {\n    const object = this.$;\n\n    return D(isObject(object) ? Object.keys(object) : []);\n  }\n\n  /**\n   * @method Super#map\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * Return value is used for creating a new object.\n   * @returns {DWrap} D-Wrap of the new object.\n   * @description Returns a wrap of a new object using the callback.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).map((value) => value * 2).$; // { a: 2, b: 4, c: 6 }\n   * new Super(null).map((value) => value * 2).$;                 // null\n   */\n  map(callback) {\n    validate([callback], ['function'], 'Super#map');\n\n    const object = this.$;\n    const o = isArrayLike(object) ? [] : isNull(object) ? null : {};\n\n    iterate(object, (value, key) => {\n      o[key] = callback(value, key, object);\n    });\n\n    return D(o);\n  }\n\n  /**\n   * @method Super#max\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * Return value is used for comparison with the previous max value.\n   * @returns {{key: Key, value: Number}} Object with max value and key of the max value.\n   * @description Method for finding max value in the object.\n   * If no callback is present comparison is between values of the object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).max();                     // { key: 'c', value: 3 }\n   * new Super({ a: 1, b: 2, c: 3 }).max((value) => 4 - value); // { key: 'a', value: 3 }\n   * new Super({ a: 'a', b: 'b', c: 'c' }).max();               // { key: null, value: -Infinity }\n   */\n  max(callback = null) {\n    validate([callback], ['function||!'], 'Super#max');\n\n    return this.object((max, value, key, object) => {\n      const val = Number(callback ? callback(value, key, object) : value);\n\n      if (val > max.value) {\n        max.key = key;\n        max.value = val;\n      }\n    }, { key: null, value: -Infinity }).$;\n  }\n\n  /**\n   * @method Super#min\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * Return value is used for comparison with the previous min value.\n   * @returns {{key: Key, value: Number}} Object with min value and key of the min value.\n   * @description Method for finding min value in the object.\n   * If no callback is present comparison is between values of the object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).min();                     // { key: 'a', value: 1 }\n   * new Super({ a: 1, b: 2, c: 3 }).min((value) => 4 - value); // { key: 'c', value: 1 }\n   * new Super({ a: 'a', b: 'b', c: 'c' }).min();               // { key: null, value: Infinity }\n   */\n  min(callback = null) {\n    validate([callback], ['function||!'], 'Super#min');\n\n    return this.object((min, value, key, object) => {\n      const val = Number(callback ? callback(value, key, object) : value);\n\n      if (val < min.value) {\n        min.key = key;\n        min.value = val;\n      }\n    }, { key: null, value: Infinity }).$;\n  }\n\n  /**\n   * @method Super#object\n   * @public\n   * @param {ObjectCallback} callback - Called on each iteration.\n   * @param {Object|*} [object = {}] - Object that is passed to the callback.\n   * @returns {DWrap} Wrap of the new object.\n   * @description Type of {@link Super#reduce}.\n   * The object is passed as an argument into the callback. The output is this object.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).object((object, value, key) => {\n   *   object[key] = value;\n   *   object[key + key] = value * 2;\n   * }).$; // { a: 1, aa: 2, b: 2, bb: 4 }\n   */\n  object(callback, object = {}) {\n    validate([callback], ['function'], 'Super#object');\n\n    iterate(this.$, (value, key, obj) => {\n      callback(object, value, key, obj);\n    });\n\n    return D(object);\n  }\n\n  /**\n   * @method Super#prop\n   * @public\n   * @param {String|Object.<String, *>} property - Either a string of a property or an assigned object.\n   * @param {*} [value] - If a property parameter is a string\n   * this has to be an assigned value if it's present.\n   * @returns {DWrap|*} Returns this if it's a setter or a value if getter.\n   * @description Method for getting and setting properties.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).prop('a');              // 1\n   * new Super({ a: 1, b: 2, c: 3 }).prop('a', 7).$;         // { a: 7, b: 2, c: 3 }\n   * new Super({ a: 1, b: 2, c: 3 }).prop({ a: 7, b: 8 }).$; // { a: 7, b: 8, c: 3 }\n   */\n  prop(property, value) {\n    if (arguments.length <= 1 && isString(property)) {\n      return this.$ ? this.$[property] : undefined;\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.assign(property);\n  }\n\n  /**\n   * @method Super#propertyDescriptor\n   * @public\n   * @param {String} property - Property of the object.\n   * @returns {Object|undefined} Property descriptor.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n   * @descriptor Synonym for\n   * [Object.getOwnPropertyDescriptor]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor}.\n   *\n   * @example\n   * new Super({ a: 1 }).propertyDescriptor('a');\n   * // {\n   * //   value: 1,\n   * //   enumerable: true,\n   * //   writable: true,\n   * //   configurable: true\n   * // }\n   */\n  propertyDescriptor(property) {\n    const object = this.$;\n\n    return isObject(object) ? Object.getOwnPropertyDescriptor(object, property) : undefined;\n  }\n\n  /**\n   * @method Super#propertyNames\n   * @public\n   * @returns {DWrap} D-Wrap of the names array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames\n   * @descriptor Synonym for\n   * [Object.getOwnPropertyNames]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames}.\n   *\n   * @example\n   * new Super({ a: 1, b: 2 }).define('c', { value: 3 }).$; // ['a', 'b', 'c']\n   */\n  propertyNames() {\n    const object = this.$;\n\n    return D(isObject(object) ? Object.getOwnPropertyNames(object) : []);\n  }\n\n  /**\n   * @method Super#propertySymbols\n   * @public\n   * @returns {DWrap} D-Wrap of the names array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols\n   * @descriptor Synonym for\n   * [Object.getOwnPropertySymbols]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols}.\n   *\n   * @example\n   * new Super({ [Symbol('foo')]: 1 }).define(Symbol('bar'), { value: 2 }).$; // [Symbol('foo'), Symbol('bar')]\n   */\n  propertySymbols() {\n    const object = this.$;\n\n    return D(isObject(object) ? Object.getOwnPropertySymbols(object) : []);\n  }\n\n  /**\n   * @method Super#proto\n   * @public\n   * @param {*} [proto] - If it's present it's set as a prototype to the object.\n   * @returns {DWrap} In getter mode returns wrap of the prototype and in setter mode returns this.\n   * @description Synonym for both\n   * [Object.getPrototypeOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf}\n   * and\n   * [Object.setPrototypeOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf}.\n   */\n  proto(proto) {\n    const object = this.$;\n    const isContextObject = !isNullOrUndefined(object);\n\n    if (arguments.length) {\n      if (isContextObject && (isObject(proto) || isNull(proto))) {\n        Object.setPrototypeOf(object, proto);\n      }\n\n      return this;\n    }\n\n    return isContextObject ? new Super(Object.getPrototypeOf(object)) : new Super();\n  }\n\n  /**\n   * @method Super#reduce\n   * @public\n   * @param {ReduceCallback} callback - Called on each iteration.\n   * Return value is passed to the next callback call.\n   * @param {*} [IV = <first value>|undefined] - Initial value.\n   * @returns {*} Modified IV.\n   * @description Returns modified IV. If the second argument is not present first value in the object is taken\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).reduce((sum, value) => sum + value * value, 0); // 14\n   */\n  reduce(callback, IV) {\n    validate([callback], ['function'], 'Super#reduce');\n\n    const object = this.$;\n\n    let startKey;\n\n    if (arguments.length === 1) {\n      iterate(object, (value, key) => {\n        startKey = key;\n        IV = value;\n\n        return true;\n      });\n    }\n\n    iterate(object, (value, key) => {\n      if (key !== startKey) {\n        IV = callback(IV, value, key, object);\n      }\n    });\n\n    return IV;\n  }\n\n  /**\n   * @method Super#set\n   * @public\n   * @param {String|Object.<String, Function>} property - Either a string of a property or a setters object.\n   * @param {Function} [setter] - If a property parameter is a string this has to be a setter function.\n   * @returns {DWrap} Returns this.\n   * @description Method for defining setters.\n   *\n   * @example\n   * const object = new Super({})\n   *   .get('public', function () {\n   *     return this._private;\n   *   })\n   *   .set('public', function (value) {\n   *     if (typeof value === 'number') {\n   *       this._private = value;\n   *     }\n   *   });\n   * object.prop('public', '1').$; // { public: undefined }\n   * object.prop('public', 1).$;   // { public: 1, _private: 1 }\n   *\n   * new Super({}).set({\n   *   public(value) {\n   *     if (typeof value === 'number') {\n   *       this._private = value;\n   *     }\n   *   }\n   * });\n   */\n  set(property, setter) {\n    if (arguments.length >= 2) {\n      property = { [property]: setter };\n    }\n\n    const object = this.$;\n\n    iterate(isObject(object) && new Super(property).$, (setter, property) => {\n      Object.defineProperty(object, property, { set: setter });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#some\n   * @public\n   * @param {IterationCallback} [callback = Boolean] - Called on each iteration.\n   * If returns truthy iteration stops and if falsey it continues.\n   * @returns {Boolean} If all the callback calls returned truthy value.\n   * @description Returns true if some of the callback calls returned truthy value. Otherwise false.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).some((value) => value > 4); // false\n   * new Super({}).some(() => true);                             // false\n   */\n  some(callback = Boolean) {\n    validate([callback], ['function'], 'Super#some');\n\n    return iterate(this.$, (value, key, object) => {\n      if (callback(value, key, object)) {\n        return true;\n      }\n    }) || false;\n  }\n\n  /**\n   * @method Super#strictEquals\n   * @public\n   * @param {*} [object] - Object to compare.\n   * @returns {Boolean} If the objects are equal or not.\n   * @description Returns true if objects are equal using '===' operator and false if not.\n   * NaNs are considered to be strict equal.\n   *\n   * @example\n   * new Super(3).strictEquals('3');   // false\n   * new Super(NaN).strictEquals(NaN); // true\n   */\n  strictEquals(object) {\n    const o = this.$;\n\n    object = new Super(object).$;\n\n    return o === object || (isNaN(o) && isNaN(object));\n  }\n\n  /**\n   * @method Super#sum\n   * @public\n   * @param {IterationCallback} [callback = null] - Called on each iteration.\n   * @returns {Number} Sum.\n   * @description Type of {@link Super#reduce}.\n   * If the callback is present it's used for summing. If not the value is used.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).sum();                         // 6\n   * new Super({ a: 1, b: 2, c: 3 }).sum((value) => value * value); // 14\n   */\n  sum(callback = null) {\n    validate([callback], ['function||!'], 'Super#sum');\n\n    return this.reduce((sum, value, key, object) => (\n      sum + Number(callback ? callback(value, key, object) : value)\n    ), 0);\n  }\n\n  toJSON() {\n    return this.$;\n  }\n\n  /**\n   * @member Super#toStringTag\n   * @type {String}\n   * @public\n   * @readonly\n   * @description Returns toString tag of the object.\n   *\n   * @example\n   * new Super({}).toStringTag; // 'Object'\n   * new Super([]).toStringTag; // 'Array'\n   * new Super(1).toStringTag;  // 'Number'\n   */\n  get toStringTag() {\n    return toStringTag(this.$);\n  }\n\n  /**\n   * @member Super#type\n   * @type {String}\n   * @public\n   * @readonly\n   * @description Synonym for\n   * [\"typeof\" operator]{@link https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Operators/instanceof}..\n   *\n   * @example\n   * new Super({}).type;   // 'object'\n   * new Super(1).type;    // 'number'\n   * new Super('1').type;  // 'string'\n   * new Super(true).type; // 'boolean'\n   */\n  get type() {\n    return typeof this.$;\n  }\n\n  /**\n   * @method Super#value\n   * @public\n   * @param {String|Object.<String, *>} property - Either a string of a property or a values object.\n   * @param {Object.<String, *>} [value] - If a property parameter is a string this has to be a value to be set.\n   * @returns {DWrap} Returns this.\n   * @description Method for defining non-enumerable, non-writable, non-configurable values.\n   * Synonym for object.define(property, { value: value }).\n   *\n   * @example\n   * new Super({}).value('a', 1).$; // { a: 1 }\n   * new Super({}).value({\n   *   a: 1\n   * }).$;                          // { a: 1 }\n   */\n  value(property, value) {\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    const object = this.$;\n\n    iterate(isObject(object) && new Super(property).$, (value, property) => {\n      Object.defineProperty(object, property, { value });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Super#values\n   * @public\n   * @returns {DWrap} A wrap of the values array.\n   * @description Returns D-Wrap of the values array.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).values().$; // [1, 2, 3]\n   * new Super(null).values().$;                 // []\n   */\n  values() {\n    const array = [];\n\n    iterate(this.$, (value) => {\n      array.push(value);\n    });\n\n    return D(array);\n  }\n\n  /**\n   * @method Super#word\n   * @public\n   * @param {IterationCallback} callback - Called on each iteration.\n   * @returns {String} Concatenated string.\n   * @description Type of {@link Super#reduce}.\n   * If the callback is present it's used for concatenating. If not the value is used.\n   *\n   * @example\n   * new Super({ a: 1, b: 2, c: 3 }).word();                         // '123'\n   * new Super({ a: 1, b: 2, c: 3 }).word((value) => value + value); // '112233'\n   */\n  word(callback = null) {\n    validate([callback], ['function||!'], 'Super#word');\n\n    return this.reduce((word, value, key, object) => (\n      word + String(callback ? callback(value, key, object) : value)\n    ), '');\n  }\n}\n\ndefineProperties(Super.prototype, {\n  [Symbol.toStringTag]: 'Super'\n});\n\n/**\n * @function deepAssign\n * @private\n * @param {*} target - Object to assign properties to.\n * @param {*} object - Object to assign properties from.\n * @returns {void}\n */\nfunction deepAssign(target, object) {\n  iterate(object, (value, key) => {\n    if (isPrimitive(target[key]) || !{}.hasOwnProperty.call(target, key)) {\n      target[key] = deepClone(value);\n\n      return;\n    }\n\n    if (!isPrimitive(target[key])) {\n      deepAssign(target[key], value);\n    }\n  });\n}\n\n/**\n * @function deepClone\n * @private\n * @param {*} object - Object to clone.\n * @description Does the deep cloning.\n */\nfunction deepClone(object) {\n  const clone = cloneSwitcher(object, [object, true]);\n\n  if (clone !== object) {\n    iterate(object, (value, key) => {\n      clone[key] = deepClone(value);\n    });\n  }\n\n  return clone;\n}\n\n/**\n * @function deepEqual\n * @private\n * @param {*} o1 - First object to compare.\n * @param {*} o2 - Second object to compare.\n * @param {Boolean} strict - If comparison should be strict or not.\n * @returns {Boolean} - If the object are deep equal or not.\n */\nfunction deepEqual(o1, o2, strict) {\n  if (o1 === o2) {\n    return true;\n  }\n\n  if (isNaN(o1) && isNaN(o2) && isPrimitive(o1) && isPrimitive(o2)) {\n    return true;\n  }\n\n  if (isNaN(o1) || isNaN(o2)) {\n    return false;\n  }\n\n  if (isPrimitive(o1) || isPrimitive(o2)) {\n    return strict ? o1 === o2 : o1 == o2;\n  }\n\n  if (isDate(o1) && isDate(o2)) {\n    return o1.getTime() === o2.getTime();\n  }\n\n  if (isDate(o1) || isDate(o2)) {\n    return false;\n  }\n\n  if (isRegExp(o1) && isRegExp(o2)) {\n    return o1.source === o2.source &&\n      o1.toString().match(/[gimuy]*$/)[0] === o2.toString().match(/[gimuy]*$/)[0] &&\n      o1.lastIndex === o2.lastIndex;\n  }\n\n  if (isRegExp(o1) || isRegExp(o2)) {\n    return false;\n  }\n\n  if ((!isPlainObject(o1) && !isArray(o1)) || (!isPlainObject(o2) && !isArray(o2))) {\n    return false;\n  }\n\n  const p1 = Object.getPrototypeOf(o1);\n  const p2 = Object.getPrototypeOf(o1);\n\n  if (Object.keys(o1).length !== Object.keys(o2).length) {\n    return false;\n  }\n\n  if (p1 && p2 && (toStringTag(p1.constructor) !== toStringTag(p2.constructor))) {\n    return false;\n  }\n\n  return iterate(o1, (value, key) => {\n    if (!(key in o2) || !deepEqual(value, o2[key], strict)) {\n      return false;\n    }\n  }) !== false;\n}\n\n/**\n * @function deepEvery\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the iteration goes on and if not it stops.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {Boolean} - If all the callback calls returned truthy value.\n */\nfunction deepEvery(object, callback, n, tree) {\n  const end = n === 1;\n\n  return iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (\n      end || isPrimitive(value)\n        ? !callback(value, key, object, newTree)\n        : !deepEvery(value, callback, n - 1, newTree)\n    ) {\n      return false;\n    }\n  }) !== false;\n}\n\n/**\n * @function deepFilter\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the element is included in the output and if not it's excluded.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {*} Filtered object.\n */\nfunction deepFilter(object, callback, n, tree) {\n  const array = isArrayLike(object);\n  const nul = isNullOrUndefined(object);\n  const o = array ? [] : nul ? object : {};\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if ((end || isPrimitive(value)) && callback(value, key, object, newTree)) {\n      if (array) {\n        o.push(value);\n      } else {\n        o[key] = value;\n      }\n\n      return;\n    }\n\n    if (!end) {\n      const filtered = deepFilter(value, callback, n - 1, newTree);\n\n      if (filtered) {\n        if (array) {\n          o.push(filtered);\n        } else {\n          o[key] = filtered;\n        }\n      }\n    }\n  });\n\n  if (array) {\n    return o.length ? o : undefined;\n  }\n\n  if (!nul) {\n    return Object.keys(o).length ? o : undefined;\n  }\n\n  return o;\n}\n\n/**\n * @function deepFind\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the iteration stops and if not it continues.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {Tree|null} - If found the whole tree is returned and if not it's null what's returned.\n */\nfunction deepFind(object, callback, n, tree) {\n  const end = n === 1;\n\n  return iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (end || isPrimitive(value)) {\n      if (callback(value, key, object, newTree)) {\n        return newTree;\n      }\n\n      return;\n    }\n\n    const result = deepFind(value, callback, n - 1, newTree);\n\n    if (result) {\n      return result;\n    }\n  }) || null;\n}\n\n/**\n * @function deepFreeze\n * @private\n * @param {*} object - Object to freeze.\n * @returns {void}\n */\nfunction deepFreeze(object) {\n  Object.freeze(object);\n  iterate(object, deepFreeze);\n}\n\n/**\n * @function deepForEach\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {void}\n */\nfunction deepForEach(object, callback, n, tree) {\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (end || isPrimitive(value)) {\n      callback(value, key, object, newTree);\n    } else {\n      deepForEach(value, callback, n - 1, newTree);\n    }\n  });\n}\n\n/**\n * @function deepMap\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * Returned value is used to create to new object.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {*} New object.\n */\nfunction deepMap(object, callback, n, tree) {\n  const o = isArrayLike(object) ? [] : isNullOrUndefined(object) ? object : {};\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    o[key] = end || isPrimitive(value)\n      ? callback(value, key, object, newTree)\n      : deepMap(value, callback, n - 1, newTree);\n  });\n\n  return o;\n}\n\n/**\n * @function deepReduce\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepReduceCallback} callback - Callback that is called on every element.\n * Returned value is used to create to new object.\n * @param {Number} n - Depth of iteration.\n * @param {Boolean} start - If callback was called already or not.\n * @param {{ IV: * }|undefined} IV - If callback was called already or not.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {{ IV: * }} Transformed IV.\n */\nfunction deepReduce(object, callback, n, start, IV, tree) {\n  const end = n === 1;\n\n  iterate(object, (value, key, object) => {\n    if (!IV && (end || isPrimitive(value)) && !start) {\n      IV = { IV: value };\n      start = true;\n\n      return;\n    }\n\n    const newTree = [{ key, value }].concat(tree);\n\n    IV = end || isPrimitive(value)\n      ? { IV: callback(IV.IV, value, key, object, newTree) }\n      : deepReduce(value, callback, n - 1, start, IV, newTree);\n  });\n\n  return IV;\n}\n\n/**\n * @function deepSome\n * @private\n * @param {*} object - Object to iterate over.\n * @param {DeepIterationCallback} callback - Callback that is called on every element.\n * If returns truthy the iteration stops and if not it continues.\n * @param {Number} n - Depth of iteration.\n * @param {Tree} tree - Tree of { key, value } objects of iteration.\n * @returns {Boolean} - If some of the callback calls returned truthy value.\n */\nfunction deepSome(object, callback, n, tree) {\n  const end = n === 1;\n\n  return iterate(object, (value, key, object) => {\n    const newTree = [{ key, value }].concat(tree);\n\n    if (\n      end || isPrimitive(value)\n        ? callback(value, key, object, newTree)\n        : deepSome(value, callback, n - 1, newTree)\n    ) {\n      return true;\n    }\n  }) || false;\n}\n\nconstructors[0].push({\n  check: () => true,\n  cls: Super\n});\n\nexport default Super;\n","/**\n * @module Arr\n * @private\n * @mixin\n * @description Exports Arr class.\n */\n\nimport Super from './Super';\nimport constructors from './constants/constructors';\nimport {\n  isArrayLike, isNaN, isNumber, isString,\n  toArray, validate, iterate as iterator, Symbol, defineProperties\n} from './helpers';\n\n/**\n * @typedef {Array|*} ArrayLike\n * @public\n * @description Array-like type.\n */\n\n/**\n * @callback ArrayCallback\n * @public\n * @param {Number} i - Iteration index.\n */\n\n/**\n * @callback IterateCallback\n * @public\n * @param {Number} i - Iteration index.\n */\n\n/**\n * @callback CompareFunction\n * @public\n * @param {*} x - First value to be compared.\n * @param {*} y - Second value to be compared.\n */\n\n/**\n * @class Arr\n * @extends Super\n * @public\n * @param {Array} [array = []] - An array to wrap.\n * @returns {Arr} Instance of Arr.\n * @description Wrap of an array.\n *\n * @example\n * new Arr([1, 2]);\n */\nexport class Arr extends Super {\n  constructor(array = []) {\n    super(toArray(array instanceof Arr ? array.$ : array));\n\n    /**\n     * @member Arr#$\n     * @type {Array}\n     * @public\n     * @description Made array.\n     */\n  }\n\n  /**\n   * @method Arr#concat\n   * @public\n   * @param {...(Array|Arr|*)} values - Arrays or any other values to concat the array with.\n   * @returns {Arr} New instance of Arr.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/concat\n   * @description Synonym for\n   * [Array#concat]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/concat}.\n   */\n  concat(...values) {\n    const array = toArray(this.$, true);\n\n    iterator(arguments, (value) => {\n      value = new Super(value).$;\n\n      if (isArrayLike(value) && !isString(value)) {\n        iterator(value, (value) => {\n          array.push(value);\n        });\n\n        return;\n      }\n\n      array.push(value);\n    });\n\n    return new this.constructor(array);\n  }\n\n  /**\n   * @member Arr#first\n   * @type {*}\n   * @public\n   * @readonly\n   * @description Returns the first element of the array.\n   *\n   * @example\n   * new Arr([1, 2, 3]).first; // 1\n   * new Arr([]).first;        // undefined\n   */\n  get first() {\n    return this.$[0];\n  }\n\n  /**\n   * @method Arr#indexOf\n   * @public\n   * @param {*} value - Value to search.\n   * @returns {Number} Index of the argument.\n   * @description Almost the same as {@link Super#keyOf}. The difference is that if the value is not found\n   * -1 returned instead of null and if found Number(key) returned.\n   *\n   * @example\n   * new Arr([1, 2, 3]).indexOf(1);       // 0\n   * new Arr([1, 2, 3]).indexOf('1');     // 0\n   * new Arr([1, 2, 3]).indexOf(3);       // -1\n   * new Arr([1, 2, NaN]).indexOf(NaN);   // 2\n   */\n  indexOf(value) {\n    const key = this.keyOf(value);\n\n    return key === null ? -1 : Number(key);\n  }\n\n  /**\n   * @method Arr#indexOfStrict\n   * @public\n   * @param {*} value - Value to search.\n   * @returns {Number} Index of the argument.\n   * @description Almost the same as {@link Super#keyOfStrict}. The difference is that if the value is not found\n   * -1 returned instead of null and if found Number(key) returned.\n   *\n   * @example\n   * new Arr([1, 2, 3]).indexOfStrict(1);       // 0\n   * new Arr([1, 2, 3]).indexOfStrict('1');     // -1\n   * new Arr([1, 2, 3]).indexOfStrict(3);       // -1\n   * new Arr([1, 2, NaN]).indexOfStrict(NaN);   // 2\n   */\n  indexOfStrict(value) {\n    const key = this.keyOfStrict(value);\n\n    return key === null ? -1 : Number(key);\n  }\n\n  /**\n   * @method Arr#join\n   * @public\n   * @param {String} [separator = ','] - See the link.\n   * @returns {String} - String of joined array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/join\n   * @description Synonym for\n   * [Array#join]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/join}.\n   */\n  join(separator) {\n    return this.$.join.apply(this.$, arguments);\n  }\n\n  /**\n   * @member Arr#last\n   * @type {*}\n   * @public\n   * @readonly\n   * @description The last element of the array.\n   *\n   * @example\n   * new Arr([1, 2, 3]).last; // 3\n   * new Arr([]).last;        // undefined\n   */\n  get last() {\n    const array = this.$;\n\n    return array[array.length - 1];\n  }\n\n  /**\n   * @member Arr#length\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/length\n   * @description Synonym for\n   * [Array#length]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/length}.\n   */\n  get length() {\n    return this.$.length;\n  }\n\n  /**\n   * @method Arr#pop\n   * @public\n   * @returns {*} Returns deleted element.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/pop\n   * @description Synonym for\n   * [Array#pop]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/pop}.\n   */\n  pop() {\n    return this.$.pop();\n  }\n\n  /**\n   * @method Arr#push\n   * @public\n   * @param {...*} values See the link.\n   * @this {Arr}\n   * @returns {Arr} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push\n   * @description Synonym for\n   * [Array#push]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push}\n   * besides returning this.\n   */\n  push(...values) {\n    this.$.push.apply(this.$, arguments);\n\n    return this;\n  }\n\n  /**\n   * @method Arr#reverse\n   * @public\n   * @returns {Arr} A wrap of the reversed array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse\n   * @description Synonym for\n   * [Array#reverse]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse}.\n   */\n  reverse() {\n    this.$.reverse();\n\n    return this;\n  }\n\n  /**\n   * @method Arr#shift\n   * @public\n   * @returns {*} Returns deleted element.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/shift\n   * @description Synonym for\n   * [Array#shift]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/shift}.\n   */\n  shift() {\n    return this.$.shift();\n  }\n\n  /**\n   * @method Arr#shuffle\n   * @public\n   * @returns {Arr} Returns this.\n   * @description Method for shuffling.\n   *\n   * @example\n   * new Arr([1, 2, 3, 4]).shuffle().$; // [4, 2, 3, 1]\n   * new Arr([1, 2, 3, 4]).shuffle().$; // [1, 3, 4, 2]\n   */\n  shuffle() {\n    const length = this.$.length;\n\n    return this.forEach((value, index, array) => {\n      const randomIndex = index + Math.floor((length - index) * Math.random());\n\n      array[index] = array[randomIndex];\n      array[randomIndex] = value;\n    });\n  }\n\n  /**\n   * @method Arr#slice\n   * @public\n   * @param {Number} [begin = 0] - See the link.\n   * @param {Number} [end = array.length] - See the link.\n   * @returns {Arr} A wrap of a sliced array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\n   * @description Synonym for\n   * [Array#slice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/slice}.\n   */\n  slice(begin, end) {\n    return new this.constructor(this.$.slice.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Arr#sort\n   * @public\n   * @param {CompareFunction} [compareFunction] - See the link.\n   * @returns {Arr} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n   * @description Synonym for\n   * [Array#sort]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/sort}.\n   */\n  sort(compareFunction) {\n    validate([compareFunction], ['function||!'], 'Arr#sort');\n\n    this.$.sort(compareFunction);\n\n    return this;\n  }\n\n  /**\n   * @method Arr#sortAsc\n   * @public\n   * @returns {Arr} Returns this.\n   * @description Method for ascending sorting. Puts non-numbers first, then NaNs, then sorted values.\n   *\n   * @example\n   * new Arr([NaN, 1, -7, '100', 5]).sortAsc().$; // ['100', NaN, -7, 1, 5]\n   */\n  sortAsc() {\n    return this.sort(asc);\n  }\n\n  /**\n   * @method Arr#sortDesc\n   * @public\n   * @returns {Arr} Returns this.\n   * @description Method for descending sorting. Puts sorted values first, then NaNs, then non-numbers.\n   *\n   * @example\n   * new Arr([NaN, 1, -7, '100', 5]).sortDesc().$; // [5, 1, -7, NaN, '100']\n   */\n  sortDesc() {\n    return this.sort((y, x) => asc(x, y));\n  }\n\n  /**\n   * @method Arr#splice\n   * @public\n   * @param {Number} [start] - See the link.\n   * @param {Number} [deleteCount] - See the link.\n   * @param {...*} [items] - See the link.\n   * @returns {Arr} A wrap of return value of #splice call.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\n   * @description Synonym for\n   * [Array#splice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice}.\n   */\n  splice(start, deleteCount, ...items) {\n    return new Arr(this.$.splice.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Arr#string\n   * @public\n   * @returns {String} Concatenated array.\n   * @description Synonym for array.join('').\n   *\n   * @example\n   * new Arr([1, 2, 3]).string(); // '123'\n   */\n  string() {\n    return this.join('');\n  }\n\n  /**\n   * @method Arr#unshift\n   * @public\n   * @param {...*} [values] - See the link.\n   * @returns {Arr} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift\n   * @description Synonym for\n   * [Array#unshift]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift}\n   * besides returning this.\n   */\n  unshift(...values) {\n    this.$.unshift.apply(this.$, arguments);\n\n    return this;\n  }\n}\n\ndefineProperties(Arr.prototype, {\n  [Symbol.toStringTag]: 'Arr'\n});\n\n/**\n * @function asc\n * @private\n * @param {*} x - First value to be compared.\n * @param {*} y - Second value to be compared.\n * @returns {Number} Where to put the first element: before or after.\n */\nfunction asc(x, y) {\n  if (!isNumber(x) && !isNumber(y)) {\n    return 0;\n  }\n\n  if (!isNumber(x)) {\n    return -1;\n  }\n\n  if (!isNumber(y)) {\n    return 1;\n  }\n\n  if (isNaN(x) && isNaN(y)) {\n    return 0;\n  }\n\n  if (isNaN(x)) {\n    return -1;\n  }\n\n  if (isNaN(y)) {\n    return 1;\n  }\n\n  return x - y;\n}\n\nconstructors[1].push({\n  check: isArrayLike,\n  cls: Arr\n});\n\n/**\n * @function array\n * @public\n * @param {Number} number - Length of the array.\n * @param {ArrayCallback} [callback] - If it's present it has to be a function\n * that returns the element that is pushed to the new array.\n * @returns {Arr} New instance of Arr.\n * @description Method for creating new array from the length using optional callback.\n *\n * @example\n * array(3).$;               // [0, 1, 2]\n * array(3, (i) => i * 2).$; // [0, 2, 4]\n */\nexport function array(number, callback) {\n  validate([number, callback], [['intLike', '>=0'], 'function||!'], 'array');\n\n  const array = [];\n\n  for (let i = 0; i < number; i++) {\n    array.push(callback ? callback(i) : i);\n  }\n\n  return new Arr(array);\n}\n\n/**\n * @function iterate\n * @public\n * @param {Number} number - Number of iterations.\n * @param {IterateCallback} callback - Callback that is called on each iteration with the iteration index.\n * @returns {void}\n * @description Method for replacing for (...) construction.\n *\n * @example\n * iterate();\n */\nexport function iterate(number, callback) {\n  validate([number, callback], [['intLike', '>=0'], 'function'], 'iterate');\n\n  for (let i = 0; i < number; i++) {\n    callback(i);\n  }\n}\n\nexport default Arr;\n","/**\n * @module Promise\n * @private\n * @mixin\n * @description Exports Promise class.\n */\n\nimport { isFunction, defineProperties, Symbol } from './helpers';\n\nconst secret = {};\nconst iterator = Symbol.iterator;\n\nexport class Promise {\n  constructor(executor) {\n    if (!isFunction(executor)) {\n      throw new TypeError(`Promise resolver ${ {}.toString.call(executor) } is not a function`);\n    }\n\n    let hiddenStatus;\n    let hiddenValue;\n\n    const\tonFulfill = [];\n    const onReject = [];\n    const realPromise = this;\n    const hiddenPromise = {\n      handled: false,\n      get status() {\n        return hiddenStatus;\n      },\n      set status(value) {\n        hiddenStatus = value;\n        realPromise.status = value;\n      },\n      get value() {\n        return hiddenValue;\n      },\n      set value(val) {\n        hiddenValue = val;\n        realPromise.value = val;\n      }\n    };\n\n    hiddenPromise.status = 'pending';\n    hiddenPromise.value = undefined;\n\n    /**\n     * @typedef {Object} hiddenPromise\n     * @private\n     * @property {Boolean|Object} handled - If the promise is handled or not.\n     * @property {'pending'|'fulfilled'|'rejected'} status - Status of the promise.\n     * @property {*} value - Value of the promise.\n     */\n\n    /**\n     * @member {Function} hiddenPromise#handle\n     * @private\n     * @param {('reject'|'resolve')} event - Type of the event to handle.\n     * @param {Function} handler - Handler itself.\n     * @param {Function} resolve - Resolve function.\n     * @param {Function} reject - Reject function.\n     * @param {Object} secret - Secret.\n     * @description Private method for handling promises.\n     */\n\n    /**\n     * @member {hiddenPromise} Promise#$$\n     * @protected\n     */\n    defineProperties(this.$$ = {}, {\n      'get/set handled': {\n        get() {\n          return hiddenPromise.handled;\n        },\n        set(key) {\n          if (key === secret) {\n            hiddenPromise.handled = true;\n          }\n        }\n      },\n      handle(status, f, resolve, reject, key) {\n        if (key === secret) {\n          const proxy = isFunction(f) ? (value) => {\n            try {\n              resolve(f(value));\n            } catch (err) {\n              return reject(err);\n            }\n          } : null;\n\n          if (status === 'resolve') {\n            onFulfill.push(proxy || ((value) => resolve(value)));\n          } else if (status === 'reject') {\n            onReject.push(proxy || ((err) => reject(err)));\n          }\n        }\n      },\n      'get status'() {\n        return hiddenPromise.status;\n      },\n      'get value'() {\n        return hiddenPromise.value;\n      }\n    });\n\n    try {\n      executor(resolve, reject);\n    } catch (err) {\n      reject(err);\n    }\n\n    function reject(err) {\n      if (hiddenPromise.status === 'pending') {\n        hiddenPromise.status = 'rejected';\n        hiddenPromise.value = err;\n\n        for (let i = 0, length = onReject.length; i < length; i++) {\n          hiddenPromise.handled = true;\n\n          onReject[i](err);\n        }\n\n        setTimeout(() => {\n          if (!hiddenPromise.handled) {\n            console.error('%s %o', 'Uncaught (in promise)', err);\n          }\n        }, 1);\n      }\n    }\n\n    function resolve(value) {\n      if (hiddenPromise.status === 'pending') {\n        if (value && isFunction(value.then)) {\n          return value.then((value) => {\n            resolve(value);\n          }, (err) => {\n            reject(err);\n          });\n        }\n\n        hiddenPromise.status = 'fulfilled';\n        hiddenPromise.value = value;\n\n        for (let i = 0, length = onFulfill.length; i < length; i++) {\n          hiddenPromise.handled = true;\n\n          onFulfill[i](value);\n        }\n      }\n    }\n  }\n\n  static all(iterable) {\n    const array = [];\n\n    let toResolve = 0;\n\n    if (iterable[iterator]) {\n      iterable = iterable[iterator]();\n\n      return new Promise((resolve, reject) => {\n        let next;\n        let i = 0;\n\n        while (!(next = iterable.next()).done) {\n          const promise = Promise.resolve(next.value);\n\n          toResolve++;\n\n          ((i) => {\n            promise.then((value) => {\n              toResolve--;\n              array[i] = value;\n\n              setTimeout(() => {\n                if (next.done && !toResolve) {\n                  resolve(array);\n                }\n              }, 1);\n            }, reject);\n          })(i++);\n        }\n\n        if (!i) {\n          return Promise.resolve([]);\n        }\n      });\n    }\n\n    const length = iterable.length;\n\n    if (!length) {\n      return Promise.resolve([]);\n    }\n\n    toResolve = length;\n\n    return new Promise((resolve, reject) => {\n      for (let i = 0; i < length; i++) {\n        const promise = Promise.resolve(iterable[i]);\n\n        promise.then((value) => {\n          toResolve--;\n          array[i] = value;\n\n          if (!toResolve) {\n            resolve(array);\n          }\n        }, reject);\n      }\n    });\n  }\n\n  static race(iterable) {\n    if (iterable[iterator]) {\n      iterable = iterable[iterator]();\n\n      return new Promise((resolve, reject) => {\n        let next;\n\n        while (!(next = iterable.next()).done) {\n          next.value.then(resolve, reject);\n        }\n      });\n    }\n\n    return new Promise((resolve, reject) => {\n      for (let i = 0, length = iterable.length; i < length; i++) {\n        iterable[i].then(resolve, reject);\n      }\n    });\n  }\n\n  static reject(value) {\n    return new Promise((resolve, reject) => {\n      reject(value);\n    });\n  }\n\n  static resolve(value) {\n    if (value && isFunction(value.then)) {\n      return value;\n    }\n\n    return new Promise((resolve) => {\n      resolve(value);\n    });\n  }\n\n  abort() {}\n\n  catch(onRejected) {\n    return this.then(null, onRejected);\n  }\n\n  then(onFulfilled, onRejected) {\n    const promise = this.$$;\n\n    if (promise.status === 'pending') {\n      return new Promise((resolve, reject) => {\n        promise.handle('reject', onRejected, resolve, reject, secret);\n        promise.handle('resolve', onFulfilled, resolve, reject, secret);\n      });\n    }\n\n    promise.handled = secret;\n\n    const { value } = promise;\n\n    let method;\n    let handler;\n\n    if (promise.status === 'fulfilled') {\n      method = 'resolve';\n      handler = onFulfilled;\n    } else {\n      method = 'reject';\n      handler = onRejected;\n    }\n\n    if (!isFunction(handler)) {\n      return Promise[method](value);\n    }\n\n    try {\n      return Promise.resolve(handler(value));\n    } catch (err) {\n      return Promise.reject(err);\n    }\n  }\n}\n\ndefineProperties(Promise.prototype, {\n  [Symbol.toStringTag]: 'Promise'\n});\n\nexport default Promise;\n","/**\n * @module BlobObject\n * @private\n * @mixin\n * @description Exports BlobObject class.\n */\n\nimport Super from './Super';\nimport Promise from './Promise';\nimport constructors from './constants/constructors';\nimport {\n  isArray, isFunction,\n  toStringTag, Symbol, defineProperties\n} from './helpers';\n\n/**\n * @typedef {{ buffer: String, binary: String, dataURL: String, text: String }} methods\n * @private\n * @description List of read blob methods.\n */\nconst methods = {\n  buffer: 'ArrayBuffer',\n  binary: 'BinaryString',\n  dataURL: 'DataURL',\n  text: 'Text'\n};\nconst { URL } = global;\n\n/**\n * @typedef {('buffer'|'binary'|'dataURL'|'text')} ReadBlobMethod\n * @public\n * @description Enum type of read blob methods.\n */\n\n/**\n * @typedef {ArrayBuffer|ArrayBufferView|Blob|String} BlobParts\n * @public\n * @description Allowed blob parts.\n */\n\n/**\n * @callback ReaderEventListener\n * @public\n * @param {Event} e - Fired event.\n * @param {FileReader} reader - FileReader.\n */\n\n/**\n * @class BlobObject\n * @extends Super\n * @public\n * @param {Blob} blob - Blob to wrap.\n * @returns {BlobObject} Instance of BlobObject.\n * @description Wrap of a blob.\n *\n * @example\n * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }));\n */\nexport class BlobObject extends Super {\n  /**\n   * @member BlobObject#$\n   * @type {Blob}\n   * @public\n   * @description Original Blob.\n   */\n\n  /**\n   * @member {String} BlobObject#dataURL\n   * @type {String}\n   * @public\n   * @readonly\n   * @description Returns dataURL representation of the blob.\n   */\n  get dataURL() {\n    return URL.createObjectURL(this.$);\n  }\n\n  /**\n   * @method BlobObject#readAs\n   * @public\n   * @param {ReadBlobMethod} method - Method that is used for reading from blob.\n   * @param {ReaderEventListener} [progress] - Progress listener.\n   * @returns {Promise} Promise that could be aborted.\n   * @description Method for reading from blobs.\n   *\n   * @example\n   * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }))\n   *   .readAs('text')\n   *   .then((value) => {\n   *     console.log(value); // '{\"foo\":\"bar\"}'\n   *   });\n   */\n  readAs(method, progress) {\n    if (!methods[method]) {\n      throw new Error('1st argument must be one of following values: buffer, binary, dataURL, text');\n    }\n\n    let reader = new FileReader();\n    let toReject;\n\n    if (isFunction(progress)) {\n      reader.onprogress = function (e) {\n        progress(e, this);\n      };\n    }\n\n    const promise = new Promise((resolve, reject) => {\n      toReject = reject;\n\n      reader.onerror = ({ target }) => {\n        if (reader) {\n          reject(target.error);\n        }\n      };\n\n      reader.onload = ({ target }) => {\n        resolve(target.result);\n      };\n\n      reader[`readAs${ methods[method] }`](this.$);\n    });\n\n    promise.abort = function abort() {\n      toReject(new Error('Reading was aborted'));\n\n      reader.abort();\n\n      reader = null;\n\n      return this;\n    };\n\n    return promise;\n  }\n\n  /**\n   * @method BlobObject#saveAs\n   * @public\n   * @param {String} [name] - Name that is used for saving file.\n   * @returns {BlobObject} Returns this.\n   * @description Method for saving blobs.\n   *\n   * @example\n   * new BlobObject(new Blob(['{\"foo\":\"bar\"}'], { type: 'application/json' }))\n   *   .saveAs('blob.json');\n   */\n  saveAs(name = 'download') {\n    const anchor = document.createElement('a');\n\n    anchor.href = this.dataURL;\n    anchor.setAttribute('download', name);\n    anchor.click();\n\n    return this;\n  }\n}\n\ndefineProperties(BlobObject.prototype, {\n  [Symbol.toStringTag]: 'BlobObject'\n});\n\nconstructors[1].push({\n  check: (blob) => /^(Blob|File)$/.test(toStringTag(blob)),\n  cls: BlobObject\n});\n\n/**\n * @function blob\n * @public\n * @param {(BlobParts[]|BlobParts)} blobParts - Blob parts that are passed to\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob} constructor.\n * @param {Object} [options] - Options that are passed to\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob} constructor.\n * @returns {BlobObject} New instance of BlobObject.\n * @description Function for creating blobs not involving BlobObject and Blob constructors.\n */\nexport function blob(blobParts, options = {}) {\n  if (!isArray(blobParts)) {\n    blobParts = [blobParts];\n  }\n\n  return new BlobObject(new Blob(blobParts, options));\n}\n\nexport default BlobObject;\n","/**\n * @module Func\n * @private\n * @mixin\n * @description Exports Func class.\n */\n\nimport Super from './Super';\nimport Promise from './Promise';\nimport constructors from './constants/constructors';\nimport { isFunction, validate, toArray, Symbol, defineProperties, iterate } from './helpers';\n\n/**\n * @callback BeforeMiddleware\n * @param {Array} args - Previous arguments.\n * @param {Func} func - This function.\n * @returns {Array} - New arguments.\n */\n\n/**\n * @callback AfterMiddleware\n * @param {*} returnValue - Previous return value.\n * @param {Func} func - This function.\n * @returns {*} - New return value.\n */\n\n/**\n * @class Func\n * @extends Super\n * @public\n * @param {Function} [func = function () {}] - Function to wrap.\n * @returns {Func} Instance of Func.\n * @description A wrap of a function.\n *\n * @example\n * const func = new Func(Math.max);\n *\n * func(1, 4, -2, 5); // 5\n */\nexport class Func extends Super {\n  constructor(func = () => {}) {\n    super();\n\n    function proxy() {\n      if (++proxy.$$.called < proxy.$$.canBeCalled) {\n        const { before, after, sync, contextLocked } = proxy.$$;\n        let { context, args } = proxy.$$;\n        let ret;\n\n        context = contextLocked ? context : context || this;\n        args = args.concat(toArray(arguments));\n\n        if (sync) {\n          iterate(before, (middleware) => {\n            args = middleware.call(context, toArray(args), proxy);\n          });\n\n          ret = func.apply(context, toArray(args));\n\n          iterate(after, (middleware) => {\n            ret = middleware.call(context, ret, proxy);\n          });\n\n          return ret;\n        }\n\n        let promise = Promise.resolve(args);\n\n        iterate(before, (middleware) => {\n          promise = promise.then((args) => middleware.call(context, toArray(args), proxy));\n        });\n\n        promise = promise.then((args) => func.apply(context, toArray(args)));\n\n        iterate(after, (middleware) => {\n          promise = promise.then((ret) => middleware.call(context, ret, proxy));\n        });\n\n        return promise;\n      }\n    }\n\n    /**\n     * @member {Object} Func#$$\n     * @type {Object}\n     * @protected\n     * @property {Array} after - After middleware array.\n     * @property {Array} args - Locked and bound arguments.\n     * @property {Array} argsLocked - Locked arguments.\n     * @property {Array} before - Before middleware array.\n     * @property {Number} called - How many times the function was called.\n     * @property {Number} canBeCalled - How many times the function can be actually called.\n     * @property {*} context - Locked or bound context.\n     * @property {Boolean} contextLocked - Is context locked or not.\n     * @property {Boolean} sync - Is function synchronous or not.\n     * @description Config parameters.\n     */\n    Object.defineProperty(proxy, '$$', {\n      value: {\n        after: [],\n        args: [],\n        argsLocked: [],\n        before: [],\n        called: 0,\n        canBeCalled: Infinity,\n        context: null,\n        contextLocked: false,\n        sync: true\n      }\n    });\n\n    /**\n     * @member {Function} Func#$\n     * @type {Function}\n     * @public\n     * @description Original function.\n     */\n    Object.defineProperty(proxy, '$', { value: func });\n    Object.setPrototypeOf(proxy, Func.prototype);\n\n    return proxy;\n  }\n\n  /**\n   * @method Func#after\n   * @public\n   * @param {AfterMiddleware} middleware - After middleware.\n   * @param {Boolean|*} [afterAll = true] - Boolean parameter where to put middleware.\n   * Truthy parameter stands for \"to the end\" and falsey for \"to the beginning\".\n   * @returns {Func} Returns this.\n   * @description Adds after middleware.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .after((result) => result * result);\n   *\n   * func(4);  // 25\n   * func(-4); // 9\n   */\n  after(middleware, afterAll = true) {\n    validate([middleware], ['function'], 'Func#after');\n\n    const { after } = this.$$;\n\n    if (afterAll) {\n      after.push(middleware);\n    } else {\n      after.unshift(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#apply\n   * @public\n   * @param {*} [context] - Context to call with.\n   * @param {(Array|Arguments)} [args] - Arguments to call with.\n   * @returns {*} Return of function call.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\n   * @description Synonym for\n   * [Function#apply]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/apply}.\n   */\n  apply(context, args) {\n    return (() => {}).apply.apply(this, arguments);\n  }\n\n  /**\n   * @method Func#async\n   * @public\n   * @param {Boolean|*} [condition] - If the function should be synchronous or not.\n   * @returns {Func} Returns this.\n   * @description If the function should be synchronous or not.\n   *\n   * @example\n   * const func = new Func((a) => a + 1).async();\n   *\n   * func(4).then((result) => {\n   *   console.log(result); // 5\n   * });\n   */\n  async(condition = true) {\n    this.$$.sync = !condition;\n\n    return this;\n  }\n\n  /**\n   * @method Func#before\n   * @public\n   * @param {BeforeMiddleware} middleware - Before middleware.\n   * @param {Boolean|*} [beforeAll = true] - Boolean parameter where to put middleware.\n   * Truthy parameter stands for \"to the beginning\" and falsey for \"to the end\".\n   * @returns {Func} Returns this.\n   * @description Adds before middleware.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .before(([arg]) => [arg * arg]);\n   *\n   * func(4); // 17\n   * func(3); // 10\n   */\n  before(middleware, beforeAll = true) {\n    validate([middleware], ['function'], 'Func#before');\n\n    const { before } = this.$$;\n\n    if (beforeAll) {\n      before.unshift(middleware);\n    } else {\n      before.push(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#bind\n   * @public\n   * @param {*} context - Context to bind.\n   * @param {...(Array|Arguments|*)} args - Arguments to bind.\n   * @returns {Func} Returns this.\n   * @description Composition of {@link Func#bindContext} and {@link Func#bindArgs}.\n   *\n   * @example\n   * const func = new Func(function (a, b) {\n   *   return this.a + a + b;\n   * }).bind({ a: 2 }, 1);\n   *\n   * func(1); // 4\n   * func(3); // 6\n   */\n  bind(context, ...args) {\n    return this\n      .bindContext(context)\n      .bindArgs(args);\n  }\n\n  /**\n   * @method Func#bindArgs\n   * @public\n   * @param {(Array|Arguments)} args - Arguments to bind.\n   * @returns {Func} Returns this.\n   * @description Binds arguments in addition to already locked and bound ones.\n   *\n   * @example\n   * const func = new Func((...args) => {\n   *   let sum = 0;\n   *\n   *   for (let i = 0; i < args.length; i++) {\n   *     sum += args[i];\n   *   }\n   *\n   *   return sum;\n   * });\n   *\n   * func(1, 2, 3); // 6\n   *\n   * func.bindArgs([4]);\n   *\n   * func(1, 2, 3); // 10\n   *\n   * func.bindArgs([5]);\n   *\n   * func(1, 2, 3); // 15\n   */\n  bindArgs(args) {\n    const func = this.$$;\n\n    func.args = func.args.concat(toArray(args));\n\n    return this;\n  }\n\n  /**\n   * @method Func#bindContext\n   * @public\n   * @param {*} context - Context to bind.\n   * @returns {Func} Returns this.\n   * @description Bind new context if it's not already locked.\n   *\n   * @example\n   * const func = new Func(function () {\n   *   return this.a;\n   * }).bindContext({ a: 1 });\n   *\n   * func(); // 1\n   *\n   * func.bindContext({ a: 2 });\n   *\n   * func(); // 2\n   */\n  bindContext(context) {\n    const func = this.$$;\n\n    if (!func.contextLocked) {\n      func.context = context;\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#call\n   * @public\n   * @param {*} [context] - Context to call with.\n   * @param {...*} [args] - Arguments to call with.\n   * @returns {*} Return of function call.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/call\n   * @description Synonym for\n   * [Function#call]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Function/call}.\n   */\n  call(context, ...args) {\n    return (() => {}).call.apply(this, arguments);\n  }\n\n  /**\n   * @member {Number} Func#called\n   * @public\n   * @readonly\n   * @description Returns how many times the function was called.\n   *\n   * @example\n   * const func = new Func((a) => a + 1);\n   *\n   * func();\n   * func();\n   *\n   * func.called // 2\n   */\n  get called() {\n    return this.$$.called;\n  }\n\n  /**\n   * @method Func#canBeCalled\n   * @public\n   * @param {Number} times - Number of maximum times the function is called (middlewares are also taken for a count).\n   * @returns {Func} Returns this.\n   * @description Method for limiting call times of function.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .canBeCalled(1);\n   *\n   * func(1); // 2\n   * func(1); // undefined\n   */\n  canBeCalled(times) {\n    this.$$.canBeCalled = times;\n\n    return this;\n  }\n\n  /**\n   * @method Func#limitArgsTo\n   * @public\n   * @param {Number} number - Number of arguments to limit to.\n   * @returns {Func} Returns this.\n   * @description Built-in before middleware for limiting number of arguments\n   * that is put to the end of before middlewares.\n   *\n   * @example\n   * const func = new Func((a, b) => [a, b]);\n   *\n   * func(1, 2); // [1, 2]\n   *\n   * func.limitArgsTo(1);\n   *\n   * func(1, 2); // [1, undefined]\n   */\n  limitArgsTo(number) {\n    return this.before((args) => args.slice(0, number), false);\n  }\n\n  /**\n   * @method Func#lock\n   * @public\n   * @param {*} context - Context to lock.\n   * @param {(Array|Arguments|*)} args - Arguments to lock.\n   * @returns {Func} Returns this.\n   * @description Composition of {@link Func#lockContext} and {@link Func#lockArgs}.\n   *\n   * @example\n   * const func = new Func(function (a, b) {\n   *   return this.a + a + b;\n   * }).lock({ a: 2 }, [1]);\n   *\n   * func(1); // 4\n   * func(3); // 6\n   */\n  lock(context, args) {\n    return this\n      .lockContext(context)\n      .lockArgs(args);\n  }\n\n  /**\n   * @method Func#lockArgs\n   * @public\n   * @param {(Array|Arguments|*)} args - Arguments to lock.\n   * @returns {Func} Returns this.\n   * @description Erases bound arguments and adds new arguments to already locked ones.\n   *\n   * @example\n   * const func = new Func((...args) => {\n   *   let sum = 0;\n   *\n   *   for (let i = 0; i < args.length; i++) {\n   *     sum += args[i];\n   *   }\n   *\n   *   return sum;\n   * });\n   *\n   * func(1, 2, 3); // 6\n   *\n   * func.lockArgs([4]);\n   *\n   * func(1, 2, 3); // 10\n   *\n   * func.bindArgs([6, 7]);\n   * func.lockArgs([5]);\n   *\n   * func(1, 2, 3); // 15\n   */\n  lockArgs(args) {\n    const func = this.$$;\n\n    func.args = func.argsLocked = func.argsLocked.concat(toArray(args));\n\n    return this;\n  }\n\n  /**\n   * @method Func#lockContext\n   * @public\n   * @param {*} context - Context to lock.\n   * @returns {Func} Returns this.\n   * @description Locks context if it's not already locked.\n   *\n   * @example\n   * const func = new Func(function () {\n   *   return this.a;\n   * }).lockContext({ a: 1 });\n   *\n   * func(); // 1\n   *\n   * func.lockContext({ a: 2 });\n   *\n   * func(); // 1\n   */\n  lockContext(context) {\n    const func = this.$$;\n\n    if (!func.contextLocked) {\n      func.context = context;\n      func.contextLocked = true;\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Func#timing\n   * @public\n   * @param {String} mark - Argument that is passed to console.time() and console.timeEnd().\n   * By default name of the original function, or if it's not present, 'anonymous' is used.\n   * @returns {Func} Returns this.\n   * @description Built-in before and after middlewares for noting calling time.\n   * In case of asynchronous functions it notes time between calling function and resolving or rejecting the result.\n   *\n   * @example\n   * const func = new Func((a) => a + 1)\n   *   .timing('plus 1');\n   *\n   * func(2); // plus 1: 0.010ms\n   *\n   * const async = new Func(() => new Promise(() => {\n   *     setTimeout(resolve, 1000);\n   *   }))\n   *   .async()\n   *   .timing();\n   *\n   * async();\n   * // After 1 second...\n   * // anonymous: 1000.010ms\n   */\n  timing(mark) {\n    mark = arguments.length ? String(mark) : this.$.name || 'anonymous';\n\n    this.before((args) => {\n      console.time(mark);\n\n      return args;\n    }, false);\n\n    this.after((ret) => {\n      console.timeEnd(mark);\n\n      return ret;\n    }, false);\n\n    return this;\n  }\n\n  toString() {\n    return (() => {}).toString.call(this.$);\n  }\n\n  /**\n   * @method Func#unbind\n   * @public\n   * @returns {Func} Returns this.\n   * @description Composition of {@link Func#unbindContext} and {@link Func#unbindArgs}.\n   *\n   * @example\n   * const func = new Func(function (a) {\n   *   return this.foo + ' & ' +  a;\n   * }).bind({ foo: 2 }, 1);\n   *\n   * func(); // '2 & 1'\n   *\n   * func.unbind();\n   *\n   * func(); // 'undefined & undefined'\n   */\n  unbind() {\n    return this\n      .unbindContext()\n      .unbindArgs();\n  }\n\n  /**\n   * @method Func#unbindArgs\n   * @public\n   * @returns {Func} Returns this.\n   * @description Erases all bound arguments.\n   *\n   * @example\n   * const func = new Func((...args) => {\n   *   let sum = 0;\n   *\n   *   for (let i = 0; i < args.length; i++) {\n   *     sum += args[i];\n   *   }\n   *\n   *   return sum;\n   * }).bindArgs([4, 5]);\n   *\n   * func(1, 2, 3); // 15\n   *\n   * func.unbindArgs();\n   *\n   * func(1, 2, 3); // 6\n   */\n  unbindArgs() {\n    const func = this.$$;\n\n    func.args = func.argsLocked;\n\n    return this;\n  }\n\n  /**\n   * @method Func#unbindContext\n   * @public\n   * @returns {Func} Returns this.\n   * @description Erases context if it's not locked.\n   *\n   * @example\n   * const func = new Func(function () {\n   *   return this.foo;\n   * }).bindContext({ foo: 1 });\n   *\n   * func(); // 1\n   *\n   * func.unbindArgs();\n   *\n   * func(); // undefined\n   */\n  unbindContext() {\n    const func = this.$$;\n\n    if (!func.contextLocked) {\n      func.context = null;\n    }\n\n    return this;\n  }\n}\n\ndefineProperties(Func.prototype, {\n  [Symbol.toStringTag]: 'Func'\n});\n\nconstructors[1].push({\n  check: isFunction,\n  cls: Func\n});\n\n/**\n * @function method\n * @public\n * @param {String} method - Method to call.\n * @param {(Array|Arguments|*)} args - Arguments to call the method with.\n * @returns {Function} Function that calls stated method with given arguments.\n * @description Function that returns the function\n * that calls stated method of its first argument with given arguments.\n *\n * @example\n * [1.2345, 2.789, 3.14].map(method('toFixed', [2])); // ['1.23', '2.79', '3.14']\n */\nexport function method(method, args = []) {\n  return (x) => x[method].apply(x, toArray(args));\n}\n\n/**\n * @function noop\n * @public\n * @returns {void}\n * @description Empty function.\n */\nexport function noop() {}\n\n/**\n * @function prop\n * @public\n * @param {String} prop - Property to return.\n * @returns {Function} Function that returns given property of its first argument.\n * @description Function that return the function that returns given property of its first argument.\n *\n * @example\n * ['foo', '12', '7890'].map(prop('length')); // [3, 2, 4]\n */\nexport function prop(prop) {\n  return ({ [prop]: value }) => value;\n}\n\n/**\n * @function self\n * @public\n * @returns {*} First argument itself.\n * @description Function that returns the first argument.\n *\n * @example\n * [1, 2].map(self);                     // [1, 2]\n * [1, 3, NaN, 0, 7, null].filter(self); // [1, 3, 7]\n */\nexport function self() {\n  return arguments[0];\n}\n\nexport default Func;\n","/**\n * @module Num\n * @private\n * @mixin\n * @description Exports Num class.\n */\n\nimport Super from './Super';\nimport Func from './Func';\nimport Promise from './Promise';\nimport constructors from './constants/constructors';\nimport {\n  isNumber, isFinite, toArray,\n  defineProperties, validate, Symbol\n} from './helpers';\n\nconst toRadian = Math.PI / 180;\nconst toDegree = 180 / Math.PI;\nconst ln2 = Math.LN2;\nconst ln10 = Math.LN10;\n\n/**\n * @class Num\n * @extends Super\n * @public\n * @param {Number} [number = 0] - A number to wrap.\n * @returns {Num} Instance of Num.\n * @description Wrap of a number.\n *\n * @example\n * const num = new Num(1);\n */\nexport class Num extends Super {\n  constructor(number = 0) {\n    super(number);\n\n    /**\n     * @member Num#$\n     * @type {Number}\n     * @public\n     * @description Original number.\n     */\n  }\n\n  /**\n   * @member Num#abs\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/abs\n   * @description Synonym for\n   * [Math.abs]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/abs}.\n   *\n   * @example\n   * new Num(1).abs;  // 1\n   * new Num(-1).abs; // 1\n   */\n  get abs() {\n    return Math.abs(this.$);\n  }\n\n  /**\n   * @method Num#acos\n   * @public\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\n   * @returns {Number} Arccosine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acos\n   * @description Synonym for\n   * [Math.acos]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acos}.\n   */\n  acos(toDegrees) {\n    return (toDegrees ? toDegree : 1) * Math.acos(this.$);\n  }\n\n  /**\n   * @member Num#acosh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acosh\n   * @description Synonym for\n   * [Math.acosh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/acosh}.\n   */\n  get acosh() {\n    const number = this.$;\n\n    return Math.log(number + Math.sqrt(number * number - 1));\n  }\n\n  /**\n   * @member Num#asinh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asinh\n   * @description Synonym for\n   * [Math.asinh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asinh}.\n   */\n  get asinh() {\n    const number = this.$;\n\n    return Math.log(number + Math.sqrt(number * number + 1));\n  }\n\n  /**\n   * @method Num#asin\n   * @public\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\n   * @returns {Number} Arcsine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asin\n   * @description Synonym for\n   * [Math.asin]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/asin}.\n   */\n  asin(toDegrees) {\n    return (toDegrees ? toDegree : 1) * Math.asin(this.$);\n  }\n\n  /**\n   * @method Num#atan\n   * @public\n   * @param {Boolean|*} [toDegrees = false] If it is truthy the return value is transformed into degrees.\n   * @returns {Number} Arcsine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atan\n   * @description Synonym for\n   * [Math.atan]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atan}.\n   */\n  atan(toDegrees) {\n    return (toDegrees ? toDegree : 1) * Math.atan(this.$);\n  }\n\n  /**\n   * @member Num#atanh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atanh\n   * @description Synonym for\n   * [Math.atanh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/atanh}.\n   */\n  get atanh() {\n    const number = this.$;\n\n    return Math.log((1 + number) / (1 - number)) / 2;\n  }\n\n  /**\n   * @member Num#cbrt\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cbrt\n   * @description Synonym for\n   * [Math.cbrt]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cbrt}.\n   */\n  get cbrt() {\n    const cbrt = Math.pow(Math.abs(this.$), 1 / 3);\n\n    return this.$ > 0 ? cbrt : -cbrt;\n  }\n\n  /**\n   * @member Num#ceil\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil\n   * @description Synonym for\n   * [Math.ceil]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/ceil}.\n   *\n   * @example\n   * new Num(1.1).ceil;  // 2\n   * new Num(-1.1).ceil; // -1\n   */\n  get ceil() {\n    return Math.ceil(this.$);\n  }\n\n  /**\n   * @method Num#cos\n   * @public\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\n   * @returns {Number} Cosine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cos\n   * @description Synonym for\n   * [Math.cos]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cos}.\n   */\n  cos(asDegrees) {\n    return Math.cos((asDegrees ? toRadian : 1) * this.$);\n  }\n\n  /**\n   * @member Num#cosh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cosh\n   * @description Synonym for\n   * [Math.cosh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/cosh}.\n   */\n  get cosh() {\n    const exp = this.exp;\n\n    return (exp + 1 / exp) / 2;\n  }\n\n  /**\n   * @member Num#cube\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Cube of the number.\n   *\n   * @example\n   * new Num(2).cube;  // 8\n   * new Num(-3).ceil; // -27\n   */\n  get cube() {\n    return this.$ * this.$ * this.$;\n  }\n\n  /**\n   * @member Num#exp\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/exp\n   * @description Synonym for\n   * [Math.exp]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/exp}.\n   */\n  get exp() {\n    return Math.exp(this.$);\n  }\n\n  /**\n   * @member Num#floor\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/floor\n   * @description Synonym for\n   * [Math.floor]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/floor}.\n   *\n   * @example\n   * new Num(1.1).floor;  // 1\n   * new Num(-1.1).floor; // -2\n   */\n  get floor() {\n    return Math.floor(this.$);\n  }\n\n  /**\n   * @method Num#interval\n   * @public\n   * @param {Function} func - Function that is called every <number> milliseconds.\n   * @param {Array} [args] - Arguments passed to the function.\n   * @returns {Function} Function that aborts the interval. The context of the function (if it's not already bound)\n   * is the object with the abort method.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/setInterval\n   * @description Analogue of the\n   * [setInterval]{@link https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setInterval}.\n   *\n   * @example\n   * const times = 0;\n   * new Num(50).interval(function () {\n   *   if (++times === 10) {\n   *     this.abort();\n   *   }\n   * });\n   */\n  interval(func, args = []) {\n    validate([func], ['function'], 'Num#interval');\n\n    func = new Func(func).bindContext({ abort });\n    args = toArray(args);\n\n    const number = this.$;\n\n    let timeout;\n    let aborted;\n\n    setTimeout(function interval() {\n      func.apply(null, args);\n\n      if (!aborted) {\n        timeout = setTimeout(interval, number);\n      }\n    }, 0);\n\n    return abort;\n\n    function abort() {\n      aborted = true;\n\n      return clearTimeout(timeout);\n    }\n  }\n\n  /**\n   * @member Num#ln\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log\n   * @description Synonym for\n   * [Math.log]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log}.\n   */\n  get ln() {\n    return Math.log(this.$);\n  }\n\n  /**\n   * @method Num#log\n   * @public\n   * @param {Number} number - Number to get logarithm of.\n   * @returns {Number} Logarithm of the argument number to the number base.\n   * @description Returns the logarithm of the argument number to the number base.\n   *\n   * @example\n   * new Num(2).log(16);  // 4\n   * new Num(3).log(243); // 5\n   */\n  log(number) {\n    return Math.log(number) / Math.log(this.$);\n  }\n\n  /**\n   * @member Num#log2\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log2\n   * @description Synonym for\n   * [Math.log2]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log2}.\n   */\n  get log2() {\n    return this.ln / ln2;\n  }\n\n  /**\n   * @member Num#log10\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log10\n   * @description Synonym for\n   * [Math.log10]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/log10}.\n   */\n  get log10() {\n    return this.ln / ln10;\n  }\n\n  /**\n   * @method Num#pow\n   * @public\n   * @param {Number} power - Power the number should be raised to.\n   * @returns {Number} The number to the <power> power.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/pow\n   * @description Synonym for\n   * [Math.pow]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/pow}.\n   *\n   * @example\n   * new Num(4).pow(.5); // 2\n   * new Num(3).pow(2);  // 9\n   */\n  pow(power) {\n    return Math.pow(this.$, power);\n  }\n\n  /**\n   * @method Num#root\n   * @public\n   * @param {Number} power - Power the number should be raised to.\n   * @returns {Number} The <power> root of the number.\n   * @description Synonym for number.pow(1 / power);\n   *\n   * @example\n   * new Num(4).root(2);   // 0.5\n   * new Num(243).root(5); // 3\n   */\n  root(power) {\n    return Math.pow(this.$, 1 / power);\n  }\n\n  /**\n   * @member Num#round\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/round\n   * @description Synonym for\n   * [Math.round]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/round}.\n   *\n   * @example\n   * new Num(1.1).floor;  // 1\n   * new Num(-1.1).floor; // -1\n   * new Num(1.5).floor;  // 2\n   */\n  get round() {\n    return Math.round(this.$);\n  }\n\n  /**\n   * @member Num#sign\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n   * @description Synonym for\n   * [Math.sign]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sign}.\n   */\n  get sign() {\n    const number = this.$;\n\n    if (!number) {\n      return number;\n    }\n\n    return number > 0 ? 1 : -1;\n  }\n\n  /**\n   * @method Num#sin\n   * @public\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\n   * @returns {Number} Sine of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sin\n   * @description Synonym for\n   * [Math.sin]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sin}.\n   */\n  sin(asDegrees) {\n    return Math.sin((asDegrees ? toRadian : 1) * this.$);\n  }\n\n  /**\n   * @member Num#sinh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sinh\n   * @description Synonym for\n   * [Math.sinh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sinh}.\n   */\n  get sinh() {\n    const exp = this.exp;\n\n    return (exp - 1 / exp) / 2;\n  }\n\n  /**\n   * @member Num#sq\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description The square of the number.\n   *\n   * @example\n   * new Num(2).sq;  // 4\n   * new Num(-3).sq; // 9\n   */\n  get sq() {\n    return this.$ * this.$;\n  }\n\n  /**\n   * @member Num#sqrt\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sqrt\n   * @description Synonym for\n   * [Math.sqrt]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/sqrt}.\n   */\n  get sqrt() {\n    return Math.sqrt(this.$);\n  }\n\n  /**\n   * @method Num#tan\n   * @public\n   * @param {Boolean|*} [asDegrees = false] If it is truthy the number is treated as a degree value.\n   * @returns {Number} Tangent of the number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tan\n   * @description Synonym for\n   * [Math.tan]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tan}.\n   */\n  tan(asDegrees) {\n    return Math.tan((asDegrees ? toRadian : 1) * this.$);\n  }\n\n  /**\n   * @member Num#tanh\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tanh\n   * @description Synonym for\n   * [Math.tanh]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math/tanh}.\n   */\n  get tanh() {\n    const number = this.$;\n\n    if (!isFinite(number)) {\n      return this.sign;\n    }\n\n    const exp = Math.exp(2 * number);\n\n    return (exp - 1) / (exp + 1);\n  }\n\n  /**\n   * @method Num#timeout\n   * @public\n   * @param {*} [value] - Value to be resolved by the promise.\n   * @returns {Promise} Promise that could be aborted.\n   * @see https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setTimeout\n   * @description Promise-based analogue of\n   * [setTimeout]{@link https://developer.mozilla.org/en/docs/Web/API/WindowTimers/setTimeout}.\n   *\n   * @example\n   * new Num(50).timeout('resolved').then((value) => {\n   *   console.log(value); // 'resolved'\n   * });\n   *\n   * const promise = new Num(50).timeout();\n   * promise.abort();\n   */\n  timeout(value) {\n    let timeout;\n    let reject;\n\n    const promise = new Promise((resolve, rej) => {\n      reject = rej;\n      timeout = setTimeout(resolve, this.$, value);\n    });\n\n    promise.abort = function abort() {\n      clearTimeout(timeout);\n\n      reject(new Error('Timeout was aborted'));\n\n      return this;\n    };\n\n    return promise;\n  }\n\n  /**\n   * @method Num#toBase\n   * @public\n   * @param {Number} [base = 10] - Base that the number should inverted to.\n   * @returns {String} A string representation of the number in <base> base.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toString\n   * @description Synonym for\n   * [Number#toString]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toString}.\n   *\n   * @example\n   * new Num(4).toBase(2); // 100\n   * new Num(3).toBase();  // 3\n   */\n  toBase(base = 10) {\n    return this.$.toString(base);\n  }\n\n  /**\n   * @method Num#toExponential\n   * @public\n   * @param {Number} [fractionDigits] - See the link.\n   * @returns {String} A string representation of the number in the exponential format.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential\n   * @description Synonym for\n   * [Number#toExponential]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toExponential}.\n   */\n  toExponential(fractionDigits) {\n    return this.$.toExponential(fractionDigits);\n  }\n\n  /**\n   * @method Num#toFixed\n   * @public\n   * @param {Number} [digits = 0] - See the link.\n   * @returns {String} Fixed-point formatted number.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed\n   * @description Synonym for\n   * [Number#toFixed]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed}.\n   */\n  toFixed(digits) {\n    return this.$.toFixed(digits);\n  }\n\n  /**\n   * @method Num#toPrecision\n   * @public\n   * @param {Number} [precision] - See the link.\n   * @returns {String} A string representation of the number to the specified precision.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision\n   * @description Synonym for\n   * [Number#toPrecision]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Number/toPrecision}.\n   */\n  toPrecision(precision) {\n    return this.$.toPrecision(precision);\n  }\n\n  valueOf() {\n    return Number(this.$);\n  }\n}\n\ndefineProperties(Num.prototype, {\n  [Symbol.toStringTag]: 'Num'\n});\n\nconstructors[1].push({\n  check: isNumber,\n  cls: Num\n});\n\n/**\n * @function rand\n * @public\n * @param {Number} [start = 0] - Start of the range.\n * @param {Number} [end = 1] - End of the range.\n * @returns {Number} Random number.\n * @description Returns a random number in the range specified by the arguments.\n *\n * @example\n * rand(1, 5); // 2.315\n * rand(1, 5); // 4.356763\n */\nexport function rand(start = 0, end = 1) {\n  return start + (end - start) * Math.random();\n}\n\n/**\n * @function random\n * @public\n * @param {Integer} start - Start of the range.\n * @param {Integer} end - End of the range.\n * @returns {Number} Random integer.\n * @description Returns a random integer number in the range specified by the arguments.\n *\n * @example\n * random(1, 5); // 3\n * random(1, 5); // 1\n */\nexport function random(start, end) {\n  validate([start, end], ['intLike', 'intLike'], 'random');\n\n  if (end <= start) {\n    throw new Error('The second argument must be greater than the first!', 'random');\n  }\n\n  return Math.floor(rand(start, end + 1));\n}\n\nexport default Num;\n","/**\n * @module constants/regexpSpecialCharacters\n * @private\n * @description Exports special characters for RegExp.\n */\n\n/**\n * @const\n * @name module:constants/regexpSpecialCharacters~regexpSpecialCharacters\n * @type {String[]}\n */\nexport default [\n  '.',\n  '+', '*', '?',\n  '(', ')',\n  '[', ']',\n  '{', '}',\n  '<', '>',\n  '^', '$',\n  '!',\n  '=',\n  ':',\n  '-',\n  '|',\n  ',',\n  '\\\\'\n];\n","/**\n * @module Str\n * @private\n * @mixin\n * @description Exports Str class.\n */\n\nimport D from './D';\nimport Super from './Super';\nimport constructors from './constants/constructors';\nimport regexpSpecialCharacters from './constants/regexpSpecialCharacters';\nimport {\n  isFunction, isNumberLike, isObject, isString,\n  validate, Symbol, defineProperties, iterate\n} from './helpers';\n\nconst htmlSpecials = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;'\n};\nconst regexpSpecialsRegexp = new RegExp(\n  new Super(regexpSpecialCharacters)\n    .word((x) => `\\\\${ x }|`)\n    .replace(/\\|$/, ''),\n  'g'\n);\n\n/**\n * @class Str\n * @extends Super\n * @public\n * @param {String} [string = ''] - A string to wrap.\n * @returns {Str} Instance of Str.\n * @description Wrap of a string.\n *\n * @example\n * const s = new Num('1');\n */\nexport class Str extends Super {\n  constructor(string = '') {\n    super(string);\n\n    /**\n     * @member Str#$\n     * @type {String}\n     * @public\n     * @description Original string.\n     */\n  }\n\n  /**\n   * @method Str#capitalizeFirst\n   * @public\n   * @returns {Str} Capitalized string.\n   * @description Method capitalizing the first symbol.\n   *\n   * @example\n   * new Str('foo').capitalizeFirst().$; // 'Foo'\n   */\n  capitalizeFirst() {\n    const string = this.$;\n\n    return new Str(string.slice(0, 1).toUpperCase() + string.slice(1));\n  }\n\n  /**\n   * @method Str#endsWith\n   * @public\n   * @param {String} searchString - See the link.\n   * @param {Number} [position = string.length] - See the link.\n   * @returns {Boolean} If the string ends with the argument string.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n   * @description Synonym for\n   * [String#endsWith]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith}.\n   */\n  endsWith(searchString, position) {\n    if (arguments.length < 2) {\n      position = this.$.length;\n    }\n\n    return this\n      .slice(0, position)\n      .revert()\n      .startsWith(new Str(searchString).revert().$);\n  }\n\n  /**\n   * @method Str#escapeHTML\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Methods escaping \"&\", \"<\" and \">\" symbols.\n   *\n   * @example\n   * new Str('\"1 < 2\" & \"7 > 4\" are true expressions.').escapeHTML().$;\n   * // '\"1 &lt; 2\" &amp \"7 &gt; 2\" are true expressions.'\n   */\n  escapeHTML() {\n    let string = this.$;\n\n    iterate(htmlSpecials, (escaped, symbol) => {\n      string = string.replace(new RegExp(symbol, 'g'), escaped);\n    });\n\n    return new Str(string);\n  }\n\n  /**\n   * @method Str#escapeRegExp\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Method escaping RegExp special characters.\n   *\n   * @example\n   * new Str('(213.98 - [] {})').escapeRegExp().$; // '\\(213\\.98 \\- \\[\\] \\{\\}\\)'\n   */\n  escapeRegExp() {\n    return this.replace(regexpSpecialsRegexp, '\\\\$&');\n  }\n\n  /**\n   * @method Str#in\n   * @public\n   * @param {*} object - Object to check the string as a property in.\n   * @returns {Boolean} If it is in the object or not.\n   * @description Returns string in object.\n   *\n   * @example\n   * new Str('a').in({ a: 1 }); // true\n   * new Str('toFixed').in(1);  // false\n   * new Str('a').in(null);     // false\n   */\n  in(object) {\n    if (!isObject(object)) {\n      return false;\n    }\n\n    return this.$ in object;\n  }\n\n  /**\n   * @method Str#indexOf\n   * @public\n   * @param {String} searchValue - See the link.\n   * @param {Number} [fromIndex = 0] - See the link.\n   * @returns {Number} Found index or -1.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf\n   * @description Synonym for\n   * [String#indexOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf}.\n   */\n  indexOf(searchValue, fromIndex) {\n    return this.$.indexOf.apply(this.$, arguments);\n  }\n\n  /**\n   * @method Str#lastIndexOf\n   * @public\n   * @param {String} searchValue - See the link.\n   * @param {Number} [fromIndex = string.length] - See the link.\n   * @returns {Number} Found index or -1.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf\n   * @description Synonym for\n   * [String#lastIndexOf]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf}.\n   */\n  lastIndexOf(searchValue, fromIndex) {\n    return this.$.lastIndexOf.apply(this.$, arguments);\n  }\n\n  /**\n   * @member Str#length\n   * @type {Number}\n   * @public\n   * @readonly\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/length\n   * @description Synonym for\n   * [String#length]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/length}.\n   */\n  get length() {\n    return this.$.length;\n  }\n\n  /**\n   * @method Str#match\n   * @public\n   * @returns {Arr|Super} D-Wrap of found match.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/match\n   * @description Synonym for\n   * [String#match]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/match}.\n   */\n  match(regexp) {\n    return D(this.$.match.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#repeat\n   * @public\n   * @param {Integer} times - Times to repeat the string.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\n   * @description Synonym for\n   * [String#repeat]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/repeat}.\n   *\n   * @example\n   * new Str('123').repeat(2).$; // '123123'\n   * new Str('123').repeat(0).$; // ''\n   */\n  repeat(times) {\n    validate([times], [['intLike', '>=0']], 'Str#repeat');\n\n    times = +times;\n\n    const string = this.$;\n\n    let s = '';\n\n    for (let i = 0; i < times; i++) {\n      s += string;\n    }\n\n    return new Str(s);\n  }\n\n  /**\n   * @method Str#replace\n   * @public\n   * @param {RegExp|String} regexp - See the link.\n   * @param {String|Function} [replacer = ''] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/replace\n   * @description Synonym for\n   * [String#replace]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/replace}\n   * besides that replacer has a default value of ''.\n   */\n  replace(regexp, replacer = '') {\n    return new Str(this.$.replace(regexp, replacer));\n  }\n\n  /**\n   * @method Str#replaceString\n   * @public\n   * @param {String} string - String to replace.\n   * @param {String} [replacer = ''] - String to replace with.\n   * @returns {Str} New instance of Str.\n   * @description Method for global string replaceing.\n   *\n   * @example\n   * new Str('123123').replaceString('1', '4').$; // '423423'\n   * new Str('123123').replaceString('1').$;      // '2323'\n   */\n  replaceString(string, replacer = '') {\n    string = new Super(string).$;\n\n    validate([string], ['string'], 'Str#replaceString');\n\n    return new Str(this.$.split(string).join(replacer));\n  }\n\n  /**\n   * @method Str#revert\n   * @public\n   * @returns {Str} New instance of string.\n   * @description Method for reverting a string.\n   *\n   * @example\n   * new Str('1234').revert().$; // '4321'\n   */\n  revert() {\n    const string = this.$;\n    let str = '';\n\n    for (let i = string.length - 1; i >= 0; i--) {\n      str += string[i];\n    }\n\n    return new Str(str);\n  }\n\n  /**\n   * @method Str#search\n   * @public\n   * @param {RegExp} regexp - See the link.\n   * @returns {Number} Index of the first match, if found, and -1 if not.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/search\n   * @description Synonym for\n   * [String#search]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/search}.\n   */\n  search(regexp) {\n    validate([regexp], ['regexp']);\n\n    return this.$.search.apply(this.$, arguments);\n  }\n\n  /**\n   * @method Str#slice\n   * @public\n   * @param {Number} [beginSlice = 0] - See the link.\n   * @param {Number} [endSlice = string.length] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/slice\n   * @description Synonym for\n   * [String#slice]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/slice}.\n   */\n  slice(beginSlice, endSlice) {\n    return new Str(this.$.slice.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#split\n   * @public\n   * @param {RegExp|String} [separator] - See the link.\n   * @returns {Arr|Super} D-Wrap of the array.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/split\n   * @description Synonym for\n   * [String#split]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/split}.\n   */\n  split(separator) {\n    return D(this.$.split.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#startsWith\n   * @public\n   * @param {String} searchString - See the link.\n   * @param {Number} [position = 0] - See the link.\n   * @returns {Boolean} If the string ends with the argument string.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n   * @description Synonym for\n   * [String#startsWith]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith}.\n   */\n  startsWith(searchString, position = 0) {\n    return this.$.indexOf.apply(this.$, arguments) === position;\n  }\n\n  /**\n   * @method Str#substr\n   * @public\n   * @param {Number} [start = 0] - See the link.\n   * @param {Number} [length = string.length] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substr\n   * @description Synonym for\n   * [String#substr]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substr}.\n   */\n  substr(start, length) {\n    return new Str(this.$.substr.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#substring\n   * @public\n   * @param {Number} [indexStart = 0] - See the link.\n   * @param {Number} [indexEnd = string.length] - See the link.\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substring\n   * @description Synonym for\n   * [String#substring]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/substring}.\n   */\n  substring(indexStart, indexEnd) {\n    return new Str(this.$.substring.apply(this.$, arguments));\n  }\n\n  /**\n   * @method Str#toCamelCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\s\\-_\\./ making the string camel cased.\n   *\n   * @example\n   * new Str('spinal-case').toCamelCase().$;  // 'spinalCase'\n   * new Str('_snake_case_').toCamelCase().$; // 'snakeCase'\n   */\n  toCamelCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_\\.]+/g, '-')\n      .replace(/\\-[^\\-]/g, (match) => match[1].toUpperCase())\n      .replace(/^[\\S]/, (match) => match.toLowerCase())\n    );\n  }\n\n  /**\n   * @method Str#toCapitalCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\-_\\./ making the string capital letter cased.\n   *\n   * @example\n   * new Str('spinal-case').toCapitalCase().$;  // 'Spinal Case'\n   * new Str('_snake_case_').toCapitalCase().$; // 'Snake Case'\n   */\n  toCapitalCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_\\.]+/g, ' ')\n      .replace(/[\\S]/g, (match) => (\n        match.toLowerCase() === match ? match : ` ${ match }`\n      ))\n      .replace(/\\s[\\S]/g, (match) => match.toUpperCase())\n      .replace(/\\s+/g, ' ')\n      .replace(/^\\s/, '')\n      .replace(/^[\\S]/, (match) => match.toUpperCase())\n    );\n  }\n\n  /**\n   * @method Str#toDotCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\-_\\./ making the string dot cased.\n   *\n   * @example\n   * new Str('spinal-case').toDotCase().$;  // 'spinal.case'\n   * new Str('_snake_case_').toDotCase().$; // 'snake.case'\n   */\n  toDotCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_\\.]+/g, '.')\n      .replace(/[^\\.]/g, (match) => (\n        match.toLowerCase() === match ? match : `.${ match }`\n      ))\n      .replace(/\\.+/g, '.')\n      .replace(/^\\./, '')\n      .toLowerCase()\n    );\n  }\n\n  /**\n   * @method Str#toHyphenCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\s\\-_\\./ making the string camel cased.\n   *\n   * @example\n   * new Str('camelCase').toSpinalCase().$;    // 'camel-case'\n   * new Str('_snake_case_').toSpinalCase().$; // 'snake-case'\n   */\n  toHyphenCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_\\.]+/g, '-')\n      .replace(/[^\\-]/g, (match) => (\n        match.toLowerCase() === match ? match : `-${ match }`\n      ))\n      .replace(/\\-+/g, '-')\n      .replace(/^\\-/, '')\n      .toLowerCase()\n    );\n  }\n\n  /**\n   * @method Str#toLowerCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase\n   * @description Synonym for\n   * [String#toLowerCase]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase}.\n   *\n   * @example\n   * new Str('UPPER-CASE').toLowerCase().$;  // 'upper-case'\n   */\n  toLowerCase() {\n    return new Str(this.$.toLowerCase());\n  }\n\n  /**\n   * @method Str#toSnakeCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\s\\-\\./ making the string spinal cased.\n   *\n   * @example\n   * new Str('spinal-case').toSnakeCase().$; // 'spinal_case'\n   * new Str('camelCase').toSnakeCase().$;   // 'camel_case'\n   */\n  toSnakeCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_\\.]+/g, '_')\n      .replace(/[^_]/g, (match) => (\n        match.toLowerCase() === match ? match : `_${ match }`\n      ))\n      .replace(/_+/g, '_')\n      .replace(/^_/, '')\n      .toLowerCase()\n    );\n  }\n\n  /**\n   * @method Str#toSpaceCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @description Removes following regexp /\\-_\\./ making the string space cased.\n   *\n   * @example\n   * new Str('spinal-case').toSpaceCase().$;  // 'spinal case'\n   * new Str('_snake_case_').toSpaceCase().$; // 'snake case'\n   */\n  toSpaceCase() {\n    return new Str(trim(this.$)\n      .replace(/[\\s\\-_\\.]+/g, ' ')\n      .replace(/[\\S]/g, (match) => (\n        match.toLowerCase() === match ? match : ` ${ match }`\n      ))\n      .replace(/\\s+/g, ' ')\n      .replace(/^\\s/, '')\n      .toLowerCase()\n    );\n  }\n\n  toString() {\n    return this.$;\n  }\n\n  /**\n   * @method Str#toUpperCase\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase\n   * @description Synonym for\n   * [String#toUpperCase]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase}.\n   *\n   * @example\n   * new Str('lower-case').toUpperCase().$;  // 'LOWER-CASE'\n   */\n  toUpperCase() {\n    return new Str(this.$.toUpperCase());\n  }\n\n  /**\n   * @method Str#trim\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trim\n   * @description Synonym for\n   * [String#trim]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trim}.\n   */\n  trim() {\n    return new Str(this.$.replace(/^[\\s\\ufeff\\u00a0]+|[\\s\\ufeff\\u00a0]+$/g, ''));\n  }\n\n  /**\n   * @method Str#trimLeft\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimLeft\n   * @description Synonym for\n   * [String#trimLeft]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimLeft}.\n   */\n  trimLeft() {\n    return new Str(this.$.replace(/^[\\s\\ufeff\\u00a0]+/, ''));\n  }\n\n  /**\n   * @method Str#trimRight\n   * @public\n   * @returns {Str} New instance of Str.\n   * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimRight\n   * @description Synonym for\n   * [String#trimRight]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/String/trimRight}.\n   */\n  trimRight() {\n    return new Str(this.$.replace(/[\\s\\ufeff\\u00a0]+$/, ''));\n  }\n}\n\ndefineProperties(Str.prototype, {\n  [Symbol.toStringTag]: 'Str'\n});\n\nfunction trim(string) {\n  return string.replace(/^[\\s\\-_\\.]+|[\\s\\-_\\.]+$/g, '');\n}\n\n/**\n * @function parseJSON\n * @public\n * @param {String} [json = null] - String to parse.\n * @param {Object} [options] - Options.\n * @param {Boolean|*} [options.numbers] - If it is needed to parse number-like strings as numbers.\n * @param {Boolean|*} [options.dates] - If it is needed to parse date-like string as dates.\n * Date-like string is considered to match ^\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\dZ?$\n * @param {JSONCallback} [callback] - Callback that called on every iteration.\n * @returns {DWrap} D-Wrap of found match.\n * @description Method for parsing json.\n *\n * @example\n * parseJSON('{ \"a\": 1 }').$;                                           // { a: 1 }\n * parseJSON('{ \"a\": \"1\" }', { numbers: true }).$;                      // { numbers: true }\n * parseJSON('{ \"a\": \"1999-12-31T23:59:59.999Z\" }', { dates: true }).$; // { a: Date {...} }\n */\nexport function parseJSON(json = null, options = {}, callback) {\n  if (arguments.length <= 1) {\n    return D(JSON.parse(json));\n  }\n\n  if (isFunction(options)) {\n    callback = options;\n    options = {};\n  }\n\n  const { numbers, dates } = options;\n  const parsed = JSON.parse(json, function (key, value) {\n    if (dates && /^\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d\\.\\d\\d\\dZ?$/.test(value)) {\n      value = new Date(value);\n    } else if (numbers && isNumberLike(value) && isString(value)) {\n      value = Number(value);\n    }\n\n    return callback ? callback.apply(this, arguments) : value;\n  });\n\n  return D(parsed);\n}\n\nconstructors[2].push({\n  check: isString,\n  cls: Str\n});\n\nexport default Str;\n","/**\n * @module constants/formats\n * @private\n * @description Exports different types of formatting for {@link Date#format}.\n */\n\nimport Super from '../Super';\nimport Str from '../Str';\n\nconst zero = new Str('0');\nconst daysOfTheWeekNames = [\n  'Sunday',\n  'Monday',\n  'Tuesday',\n  'Wednesday',\n  'Thursday',\n  'Friday',\n  'Saturday'\n];\nconst daysOfTheWeekAliases = new Super(daysOfTheWeekNames).map((value) => value.slice(0, 3)).$;\nconst monthsNames = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'Jule',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n];\nconst monthsAliases = new Super(monthsNames).map((value) => value.slice(0, 3)).$;\n\n/**\n * @callback module:constants/formats~matchCallback\n * @param {Dat} date - D-wrap of a date to apply format to.\n * @param {String} string - Matched applied expression.\n */\n\n/**\n * @typedef {Object} module:constants/formats~formatExpr\n * @property {String} format - Matched format.\n * @property {module:constants/formats~matchCallback} match - Callback if there was a match.\n */\n\n/**\n * @type {module:constants/formats~formatExpr[]}\n * @description Array of different formats.\n */\nexport default [\n  {\n    format: 'ccc',\n    match: (date, utc) => round(date[utc]('c'), 3)\n  },\n  {\n    format: 'c',\n    match: (date, utc) => date[utc]('c')\n  },\n  {\n    format: 'ss',\n    match: (date, utc) => round(date[utc]('s'), 2)\n  },\n  {\n    format: 's',\n    match: (date, utc) => date[utc]('s')\n  },\n  {\n    format: 'mm',\n    match: (date, utc) => round(date[utc]('m'), 2)\n  },\n  {\n    format: 'm',\n    match: (date, utc) => date[utc]('m')\n  },\n  {\n    format: 'hh',\n    match: (date, utc) => round(date[utc]('h'), 2)\n  },\n  {\n    format: 'h',\n    match: (date, utc) => date[utc]('h')\n  },\n  {\n    format: 'dddd',\n    match: (date, utc) => daysOfTheWeekNames[date[utc]('dw')]\n  },\n  {\n    format: 'ddd',\n    match: (date, utc) => daysOfTheWeekAliases[date[utc]('dw')]\n  },\n  {\n    format: 'dd',\n    match: (date, utc) => round(date[utc]('d'), 2)\n  },\n  {\n    format: 'd',\n    match: (date, utc) => date[utc]('d')\n  },\n  {\n    format: 'MMMM',\n    match: (date, utc) => monthsNames[date[utc]('M') - 1]\n  },\n  {\n    format: 'MMM',\n    match: (date, utc) => monthsAliases[date[utc]('M') - 1]\n  },\n  {\n    format: 'MM',\n    match: (date, utc) => round(date[utc]('M'), 2)\n  },\n  {\n    format: 'M',\n    match: (date, utc) => date[utc]('M')\n  },\n  {\n    format: 'yyyy',\n    match: (date, utc) => round(date[utc]('y'), 4)\n  },\n  {\n    format: 'yy',\n    match: (date, utc) => String(date[utc]('y')).slice(-2)\n  },\n  {\n    format: 'y',\n    match: (date, utc) => date[utc]('y')\n  }\n];\n\n/**\n * @function round\n * @private\n * @param {Number} number - Number to round.\n * @param {Number} digits - Number of the digits of the output.\n * @returns {String} String with necessary additional starting zeroes.\n */\nfunction round(number, digits) {\n  const string = String(number);\n  let zeroes = digits - string.length;\n\n  zeroes = zeroes < 0 ? 0 : zeroes;\n\n  return zero.repeat(zeroes).$ + string;\n}\n","/**\n * @module Dat\n * @private\n * @mixin\n * @description Exports Dat class.\n */\n\nimport Super from './Super';\nimport Num from './Num';\nimport Str from './Str';\nimport { switcher } from './Switcher';\nimport constructors from './constants/constructors';\nimport formats from './constants/formats';\nimport { isDate, iterate, Symbol, defineProperties } from './helpers';\n\n/**\n * @typedef {*} DateLike\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'w'|'M'|'y'} AddPeriod\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'dw'|'M'|'y'} GetPeriod\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'M'|'y'} OfOnePeriod\n * @public\n */\n\n/**\n * @typedef {'c'|'s'|'m'|'h'|'d'|'M'|'y'} SetPeriod\n * @public\n */\n\n/**\n * @typedef {'ccc'|'c'|'ss'|'s'|'mm'|'m'|'hh'|'h'|'dddd'|'ddd'|'dd'|'d'|'MMMM'|'MMM'|'MM'|'M'|'yyyy'|'yy'|'y'} Format\n * @public\n */\n\nconst coeffs = {\n  c: 1,\n  s: 1000,\n  m: 60000,\n  h: 3600000,\n  d: 86400000,\n  w: 604800000,\n  M: 2592000000,\n  y: 31536000000\n};\n\nconst getSwitcher = switcher({\n  c: (date, utc) => date[`${ utc }Milliseconds`](),\n  s: (date, utc) => date[`${ utc }Seconds`](),\n  m: (date, utc) => date[`${ utc }Minutes`](),\n  h: (date, utc) => date[`${ utc }Hours`](),\n  d: (date, utc) => date[`${ utc }Date`](),\n  dw: (date, utc) => date[`${ utc }Day`](),\n  M: (date, utc) => date[`${ utc }Month`]() + 1,\n  y: (date, utc) => date[`${ utc }FullYear`]()\n}, 'equals', NaN);\nconst setSwitcher = switcher({\n  c: (date, value, utc) => date[`${ utc }Milliseconds`](value),\n  s: (date, value, utc) => date[`${ utc }Seconds`](value),\n  m: (date, value, utc) => date[`${ utc }Minutes`](value),\n  h: (date, value, utc) => date[`${ utc }Hours`](value),\n  d: (date, value, utc) => date[`${ utc }Date`](value),\n  M: (date, value, utc) => date[`${ utc }Month`](value - 1),\n  y: (date, value, utc) => date[`${ utc }FullYear`](value)\n});\n\n/**\n * @class Dat\n * @extends Super\n * @public\n * @param {Date} [date = new Date()] - A date to wrap.\n * @returns {Dat} Instance of Dat.\n * @description Wrap of a date.\n *\n * @example\n * const date = new Dat(new Date());\n */\nexport class Dat extends Super {\n  constructor(date = new Date()) {\n    super(date);\n\n    /**\n     * @member Dat#$\n     * @type {Date}\n     * @public\n     * @description Original date.\n     */\n  }\n\n  /**\n   * @method Dat#add\n   * @public\n   * @param {AddPeriod|Object.<AddPeriod, Number>} what - What to add.\n   * @param {Number} [number] - Number of what to add if the first argument is a period string.\n   * @returns {Dat} Returns this.\n   * @description Method for adding amounts of time to the date. Returns new instance of Dat.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).add('c', 2).toISOString();         // '2000-01-01T00:00:00.001Z'\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).add({ c: 2, d: 5 }).toISOString(); // '2000-01-06T00:00:00.001Z'\n   */\n  add(what, number) {\n    if (arguments.length >= 2) {\n      what = { [what]: number };\n    }\n\n    return this.time(this.time() + new Super(what).sum((value, what) => coeffs[what] * value));\n  }\n\n  /**\n   * @method Dat#expires\n   * @public\n   * @param {*} [value = this] - Value to resolve after the date expires.\n   * @returns {Promise} New instance of Promise.\n   * @description Method for defining when the date expires.\n   *\n   * @example\n   * new Dat().add('c', 500).expires('Expired').then((value) => {\n   *   // After 500 milliseconds\n   *   console.log(value); // 'Expired'\n   * });\n   */\n  expires(value) {\n    if (!arguments.length) {\n      value = this;\n    }\n\n    return new Num(this.$ - now()).timeout(value);\n  }\n\n  /**\n   * @method Dat#format\n   * @public\n   * @param {String} string - Template for the output.\n   * @param {String} [prefix = ''] - If needed [all special strings]{@link Format}\n   * are treated as they should be prefix with prefix.\n   * @returns {String} Formatted string.\n   * @description Method for creating formatted output based on a string.\n   *\n   * @example\n   * new Dat('1999-12-31T23:59:59.999Z').format('Seconds: $ss, milliseconds: $ccc.', '$');\n   * // 'Seconds: 59, milliseconds: 999.'\n   */\n  format(string, prefix = '') {\n    string = new Str(new Super(string).$);\n    prefix = String(new Super(prefix).$);\n\n    iterate(formats, (format) => {\n      string = string.replaceString(prefix + format.format, format.match(this, 'get'));\n    });\n\n    return string.$;\n  }\n\n  /**\n   * @method Dat#formatUTC\n   * @public\n   * @param {String} string - See {@link Dat#format}.\n   * @param {String} [prefix = ''] - See {@link Dat#format}.\n   * @returns {String} Formatted string.\n   * @description UTC version of {@link Dat#format}.\n   *\n   * @example\n   * new Dat('1999-07-07T03:09:09.099Z').formatUTC(\n   *   `\n   *     Milliseconds: $ccc|$c.\n   *     Seconds:      $ss|$s.\n   *     Minutes:      $mm|$m.\n   *     Hours:        $hh|$h.\n   *     Day:          $dddd|$ddd|$dd|$d.\n   *     Month:        $MMMM|$MMM|$MM|$M.\n   *     Year:         $yyyy|$yy|$y.\n   *   `,\n   *   '$'\n   * );\n   * // Milliseconds: 099|99.\n   * // Seconds:      09|9.\n   * // Minutes:      09|9.\n   * // Hours:        03|3.\n   * // Day:          Friday|Fri|07|7.\n   * // Month:        July|Jul|07|7.\n   * // Year:         1999|99|1999.\n   */\n  formatUTC(string, prefix = '') {\n    string = new Str(new Super(string).$);\n    prefix = String(new Super(prefix).$);\n\n    iterate(formats, (format) => {\n      string = string.replaceString(prefix + format.format, format.match(this, 'getUTC'));\n    });\n\n    return string.$;\n  }\n\n  /**\n   * @method Dat#get\n   * @public\n   * @param {GetPeriod} what - What to get.\n   * @returns {Number} Number of what to get.\n   * @description Method for getting values such as seconds or minutes.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).get('s'); // 59\n   */\n  get(what) {\n    return getSwitcher(what, [this.$, 'get']);\n  }\n\n  /**\n   * @method Dat#getUTC\n   * @public\n   * @param {GetPeriod} what - See {@link Dat#get}.\n   * @returns {Number} Number of what to get.\n   * @description UTC version of {@link Dat#get}.\n   *\n   * @example\n   * const date = new Dat(new Date('1999-12-31T23:59:59.999Z'));\n   *\n   * date.getUTC('c');  // 999\n   * date.getUTC('s');  // 59\n   * date.getUTC('m');  // 59\n   * date.getUTC('h');  // 23\n   * date.getUTC('d');  // 31\n   * date.getUTC('dw'); // 5\n   * date.getUTC('M');  // 12\n   * date.getUTC('y');  // 1999\n   */\n  getUTC(what) {\n    return getSwitcher(what, [this.$, 'getUTC']);\n  }\n\n  /**\n   * @method Dat#isAfter\n   * @public\n   * @param {DateLike} date - Date to be compared to this date.\n   * @returns {Boolean} If this date is after the argument one.\n   * @description Finds out if this date is after the argument one.\n   *\n   * @example\n   * new Dat(new Date(333)).isAfter(new Date(334)); // false\n   * new Dat(new Date(333)).isAfter(new Date(332)); // true\n   */\n  isAfter(date) {\n    date = new Date(new Super(date).$);\n\n    return date.getTime() < this.$.getTime();\n  }\n\n  /**\n   * @method Dat#isBefore\n   * @public\n   * @param {DateLike} date - Date to be compared to this date.\n   * @returns {Boolean} If this date is before the argument one.\n   * @description Finds out if this date is before the argument one.\n   *\n   * @example\n   * new Dat(new Date(333)).isBefore(new Date(334)); // true\n   * new Dat(new Date(333)).isBefore(new Date(332)); // false\n   */\n  isBefore(date) {\n    date = new Date(new Super(date).$);\n\n    return date.getTime() > this.$.getTime();\n  }\n\n  /**\n   * @method Dat#isBetween\n   * @public\n   * @param {DateLike} date1 - Start of the range.\n   * @param {DateLike} date2 - End of the range.\n   * @returns {Boolean} If this date is after date1 and before date2.\n   * @description Finds out if this date is after date1 and before date2.\n   *\n   * @example\n   * new Dat(new Date(333)).isBetween(new Date(332), new Date(334)); // true\n   * new Dat(new Date(333)).isBetween(new Date(334), new Date(332)); // false\n   */\n  isBetween(date1, date2) {\n    const time = this.$.getTime();\n\n    date1 = new Date(new Super(date1).$);\n    date2 = new Date(new Super(date2).$);\n\n    return time > date1.getTime() && time < date2.getTime();\n  }\n\n  /**\n   * @method Dat#isInvalid\n   * @public\n   * @returns {Boolean} If the date is invalid.\n   * @description Returns if the date is invalid.\n   *\n   * @example\n   * new Dat(new Date('a')).isInvalid(); // true\n   * new Dat(new Date(1)).isInvalid();   // false\n   */\n  isInvalid() {\n    return this.$.toString() === 'Invalid Date';\n  }\n\n  /**\n   * @method Dat#isPassed\n   * @public\n   * @returns {Boolean} If the date is passed.\n   * @description Returns if the date is passed.\n   *\n   * @example\n   * new Dat(new Date(1)).isPassed(); // true\n   */\n  isPassed() {\n    return this.isBefore(now());\n  }\n\n  /**\n   * @method Dat#ofOne\n   * @public\n   * @param {OfOnePeriod} what - Period to check.\n   * @param {DateLike} date - Date to check.\n   * @returns {Boolean} If two dates are of one second, minute or something else.\n   * @description Returns if two dates are of one second, minute or something else.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.000Z')).ofOne('s', new Date(1999-12-31T23:59:59.333Z')); // true\n   * new Dat(new Date('1999-12-31T23:59:59.000Z')).ofOne('s', new Date(1999-12-31T23:59:58.999Z')); // false\n   */\n  ofOne(what, date) {\n    if (!(what in coeffs) || what === 'w') {\n      return false;\n    }\n\n    date = new Dat(new Date(date));\n\n    let started;\n\n    return iterate(coeffs, (coeff, w) => {\n      if (w === what) {\n        started = true;\n      }\n\n      if (!started || w === 'w') {\n        return;\n      }\n\n      if (started && this.get(w) !== date.get(w)) {\n        return false;\n      }\n    }) !== false;\n  }\n\n  /**\n   * @method Dat#set\n   * @public\n   * @param {SetPeriod|Object.<SetPeriod, Number>} what - What to add.\n   * @param {Number} [number] - Number of what to set if the first argument is a period string.\n   * @returns {Dat} Returns this.\n   * @description Method for setting values such as seconds or minutes.\n   *\n   * @example\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).set('s', 58).get('s');           // 58\n   * new Dat(new Date('1999-12-31T23:59:59.999Z')).set({ c: 998, s: 58 }).get('c'); // 998\n   */\n  set(what, number) {\n    const date = this.$;\n\n    if (arguments.length >= 2) {\n      what = { [what]: number };\n    }\n\n    what = new Super(what).$;\n\n    iterate(what, (value, what) => {\n      setSwitcher(what, [date, value, 'set']);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Dat#setUTC\n   * @public\n   * @param {SetPeriod|Object.<SetPeriod, Number>} what - See {@link Dat#set}.\n   * @param {Number} [number] - See {@link Dat#set}.\n   * @returns {Dat} Returns this.\n   * @description UTC version of {@link Dat#set}.\n   *\n   * @example\n   * const date = new Dat(new Date('1999-12-31T23:59:59.999Z'));\n   *\n   * date.setUTC('ccc', 998).getUTC('ccc'); // 998\n   * date.setUTC({\n   *   s: 58,\n   *   m: 58,\n   *   h: 22\n   * });\n   *\n   * date.getUTC('s'); // 58\n   * date.getUTC('m'); // 58\n   * date.getUTC('h'); // 23\n   */\n  setUTC(what, number) {\n    const date = this.$;\n\n    if (arguments.length >= 2) {\n      what = { [what]: number };\n    }\n\n    what = new Super(what).$;\n\n    iterate(what, (value, what) => {\n      setSwitcher(what, [date, value, 'setUTC']);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Dat#setUTC\n   * @public\n   * @param {Number} [time] - Time to set.\n   * @returns {Dat|Number} - If the time argument is present this is returned otherwise the time is returned.\n   * @description Synonym for both\n   * [Date#getTime]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime} and\n   * [Date#setTime]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/setTime}.\n   */\n  time(time) {\n    const date = this.$;\n\n    if (arguments.length) {\n      date.setTime(time);\n    }\n\n    return date.getTime();\n  }\n\n  toISOString() {\n    return this.$.toISOString();\n  }\n\n  toLocaleString() {\n    return this.$.toLocaleString();\n  }\n\n  toString() {\n    return this.$.toString();\n  }\n\n  valueOf() {\n    return this.$.valueOf();\n  }\n}\ndefineProperties(Dat.prototype, {\n  [Symbol.toStringTag]: 'Dat'\n});\n\nconstructors[1].push({\n  check: isDate,\n  cls: Dat\n});\n\n/**\n * @function now\n * @public\n * @returns {Number} Number of milliseconds.\n * @see https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/now\n * @description Synonym for\n * [Date.now]{@link https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/now}.\n */\nexport function now() {\n  return Date.now();\n}\n\n/**\n * @function date\n * @public\n * @param {DateLike} [date = new Date()] - Date-like value that is passed to the Date constructor.\n * @returns {Dat} New instance of Dat.\n * @description Synonym for new Dat(new Date(date));\n */\nexport function date(date) {\n  if (!arguments.length) {\n    return new Dat(new Date(now()));\n  }\n\n  date = new Super(date).$;\n\n  return new Dat(new Date(date));\n}\n\nexport default Dat;\n","/**\n * @module helpers/constructURL\n * @private\n * @description Exports constructURL method.\n */\n\nimport Arr from '../Arr';\nimport Str from '../Str';\nimport { switcher } from '../Switcher';\nimport { isArray, isObject, isPlainObject } from './checkTypes';\nimport { iterate } from './iterate';\n\n/**\n * @type {RegExp}\n * @description Absolute URL pattern.\n */\nconst absoluteURLRegexp = /^(([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\/|data:[a-z]+\\/[a-z]+;base64,)/i;\nconst querySwitcher = switcher('call', () => new Arr([]))\n  .case(isArray, (prefix, query) => {\n    let queryParams = new Arr([]);\n\n    iterate(query, (value) => {\n      if (isPlainObject(value) || isArray(value)) {\n        queryParams = queryParams.concat(querySwitcher(value, [`${ prefix }[]`]));\n\n        return;\n      }\n\n      queryParams.push({\n        param: `${ prefix }[]`,\n        value\n      });\n    });\n\n    return queryParams.$;\n  })\n  .case(isPlainObject, (prefix, query) => {\n    let queryParams = new Arr([]);\n\n    iterate(query, (value, param) => {\n      if (isPlainObject(value) || isArray(value)) {\n        queryParams = queryParams.concat(querySwitcher(value, [prefix ? `${ prefix }[${ param }]` : param]));\n\n        return;\n      }\n\n      queryParams.push({\n        param: prefix ? `${ prefix }[${ param }]` : param,\n        value: isObject(value) ? JSON.stringify(value) : String(value)\n      });\n    });\n\n    return queryParams.$;\n  });\n\n/**\n * @function constructURL\n * @param {String} baseURL - BaseURL of the output URL.\n * @param {String} url - Main part of the output URL.\n * @param {Object} params - Params to replace in the url expressions like \":param\".\n * @param {Object} query - Object with query params.\n * @param {Object} [hash = ''] - URL hash.\n * @param {Object} [encodeOptions = {}] - If you need to encode something.\n * @param {Object} [encodeOptions.params = true] - If you need to encode params.\n * @param {Object} [encodeOptions.query = true] - If you need to encode query params.\n * @returns {String} Constructed URL.\n * @description Function for constructing URL from the base URL, URL, params and query params.\n */\nexport default (baseURL, url, params, query, hash = '', encodeOptions = {}) => {\n  const {\n    params: encodeParams = true,\n    query: encodeQuery = true\n  } = encodeOptions;\n  let URL = isAbsolute(url)\n    ? url\n    : `${ String(baseURL).replace(/\\/+$/, '') }/${ String(url).replace(/^\\/+/, '') }`;\n\n  iterate(params, (value, param) => {\n    URL = new Str(URL).replaceString(`:${ param }`, encode(value, encodeParams)).$;\n  });\n\n  const queryParams = querySwitcher(query, ['']);\n\n  if (queryParams.length) {\n    URL += (URL.indexOf('?') === -1 ? '?' : '&') + queryParams\n      .map(({ param, value }) => `${ encode(param, encodeQuery) }=${ encode(value, encodeQuery) }`)\n      .join('&');\n  }\n\n  return `${ URL }${ hash ? `#${ hash }` : '' }`;\n};\n\n/**\n * @function isAbsolute\n * @param {String} url - URL to check if it is absolute or not.\n * @returns {Boolean} If the argument URL is absolute or not.\n */\nfunction isAbsolute(url) {\n  return absoluteURLRegexp.test(url);\n}\n\n/**\n * @function encode\n * @param {String} string - String to encode using encodeURIComponent.\n * @param {Boolean} isEncoded - If the string should be encoded.\n * @returns {String} Encoded string.\n */\nfunction encode(string, isEncoded) {\n  return isEncoded ? encodeURIComponent(string) : string;\n}\n","/**\n * @module helpers/parseHeaders\n * @private\n * @description Exports parseHeaders method.\n */\n\nimport Str from '../Str';\nimport { iterate } from './iterate';\n\n/**\n * @function parseHeaders\n * @param {String} rawHeaders - Raw headers.\n * @returns {Object} Headers object\n * @description Function for parsing raw headers.\n */\nexport default (rawHeaders) => {\n  const headers = {};\n\n  iterate((rawHeaders || '').split('\\n'), (value) => {\n    const index = value.indexOf(':');\n    const key = new Str(value.substring(0, index))\n      .trim()\n      .toCamelCase().$;\n    const val = new Str(value.substring(index + 1)).trim().$;\n\n    if (key) {\n      headers[key] = (headers[key] ? `${ headers[key] }, ` : '') + val;\n    }\n  });\n\n  return headers;\n};\n","/**\n * @module helpers/transformData\n * @private\n * @description Exports transformData method.\n */\n\nimport Arr from '../Arr';\nimport Super from '../Super';\nimport { isObject, toStringTag } from './';\n\nconst notToTransform = new Arr(['FormData', 'File', 'Blob', 'ArrayBuffer', 'String', 'Number']);\nconst withoutBody = new Arr(['DELETE', 'GET', 'HEAD']);\n\n/**\n * @function transformData\n * @param {*} data - Data to transform\n * @param {String} method - HTTP method.\n * @param {Object} headers - Object with headers.\n * @returns {*} - Transformed data.\n */\nexport default (data, method, headers) => {\n  data = new Super(data).$;\n\n  if (withoutBody.indexOfStrict(method) !== -1) {\n    return null;\n  }\n\n  if (isObject(data) && notToTransform.indexOfStrict(toStringTag(data)) === -1) {\n    if (!headers.contentType) {\n      headers.contentType = ['application/json;charset=utf-8'];\n    }\n\n    return new Super(data).json();\n  }\n\n  return data;\n};\n","/**\n * @module Fetch\n * @private\n * @mixin\n * @description Exports Fetch class.\n */\n\nimport Promise from './Promise';\nimport Super from './Super';\nimport Arr from './Arr';\nimport Str from './Str';\nimport {\n  isArray, isFunction, isString,\n  assign, Symbol, validate, iterate, defineProperties\n} from './helpers';\nimport constructURL from './helpers/constructURL';\nimport parseHeaders from './helpers/parseHeaders';\nimport transformData from './helpers/transformData';\n\n/**\n * @typedef {'get'|'post'|'delete'|'head'|'put'|'patch'} FetchMethod\n * @public\n */\n\n/**\n * @typedef {Object} FetchConfig\n * @public\n * @property {Array.<AfterMiddleware|FetchErrorAfterMiddleware>} [after]\n * @property {Object} [auth]\n * @property {String} [auth.username]\n * @property {String} [auth.password]\n * @property {String} [baseURL]\n * @property {Array.<BeforeMiddleware|FetchErrorBeforeMiddleware>} [before]\n * @property {*} [data]\n * @property {Object.<String, String[]>} [headers]\n * @property {FetchMethod} [method]\n * @property {Object} [params]\n * @property {Object} [query]\n * @property {String} [responseType]\n * @property {Number} [timeout]\n * @property {String} [url]\n * @property {Boolean} [withCredentials]\n */\n\n/**\n * @typedef {Object} FetchResponse\n * @public\n * @property {FetchConfig} config\n * @property {*} data\n * @property {Object.<String, String>} headers\n * @property {Number} status\n * @property {String} statusText\n * @property {XMLHttpRequest} xhr\n */\n\n/**\n * @callback FetchAfterMiddleware\n * @public\n * @param {FetchResponse} config - Fetch response.\n */\n\n/**\n * @callback FetchErrorAfterMiddleware\n * @public\n * @param {Error|*} err - Thrown error.\n * @param {FetchResponse} config - Fetch response.\n */\n\n/**\n * @callback FetchBeforeMiddleware\n * @public\n * @param {FetchConfig} config - Fetch config.\n */\n\n/**\n * @callback FetchErrorBeforeMiddleware\n * @public\n * @param {Error|*} err - Thrown error.\n * @param {FetchConfig} config - Fetch config.\n */\n\n/**\n * @callback FetchConfigFunction\n * @public\n * @param {FetchConfig} config\n */\n\nconst defaults = {\n  after: [],\n  auth: {\n    username: '',\n    password: ''\n  },\n  baseURL: global.location.origin,\n  before: [],\n  data: null,\n  headers: {},\n  method: 'get',\n  params: {},\n  query: {},\n  responseType: '',\n  timeout: 0,\n  url: '',\n  withCredentials: false\n};\nconst uploadMethods = new Arr(['post', 'put']);\n\n/**\n * @class Fetch\n * @extends Function\n * @public\n * @param {FetchConfig} [config = {}] - A number to wrap.\n * @returns {Fetch} Instance of Fetch.\n * An instance of Fetch is a function that simply calls #request with the same arguments.\n * @description Class for fetching data.\n *\n * @example\n * const fetch = new Fetch();\n *\n * fetch('/data').then((res) => {\n *   console.log(res);\n * });\n */\nexport class Fetch extends Function {\n  constructor(config = {}) {\n    super();\n\n    function fetch() {\n      return fetch.request.apply(fetch, arguments);\n    }\n\n    const conf = new Super({}).deepAssign(defaults, config).$;\n\n    if (conf.before.indexOf(fetchBeforeMiddleware) === -1) {\n      conf.before.push(fetchBeforeMiddleware);\n    }\n\n    /**\n     * @member {FetchConfig} Fetch#$$\n     * @type {FetchConfig}\n     * @public\n     * @description Fetch config.\n     */\n    Object.defineProperty(fetch, '$$', { value: conf });\n    Object.setPrototypeOf(fetch, Fetch.prototype);\n\n    return fetch;\n  }\n\n  /**\n   * @method Fetch#after\n   * @public\n   * @param {FetchAfterMiddleware|FetchErrorAfterMiddleware} middleware - Middleware to add.\n   * @param {Boolean|*} [afterAll = true] - Boolean parameter where to put the middleware.\n   * Truthy parameter stands for \"to the end\" and falsey for \"to the beginning\".\n   * @returns {Fetch} Returns this.\n   * @description Middleware that is called after the request.\n   * If the middleware has 2 or less arguments it's treated as success middleware otherwise as an error one.\n   * If the middleware returns a promise it becomes a part of the middleware chain.\n   *\n   * @example\n   * const fetch = new Fetch()\n   *   .after((err, res) => {\n   *     console.log(err);\n   *\n   *     throw err;\n   *   })\n   *   .after((res) => {\n   *     res.json = D(res.data).parseJSON():\n   *   });\n   */\n  after(middleware, afterAll = true) {\n    validate([middleware], ['function'], 'Fetch#after');\n\n    const { after } = this.$$;\n\n    if (afterAll) {\n      after.push(middleware);\n    } else {\n      after.unshift(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#before\n   * @public\n   * @param {FetchBeforeMiddleware|FetchErrorBeforeMiddleware} middleware - Middleware to add.\n   * @param {Boolean|*} [beforeAll = true] - Boolean parameter where to put the middleware.\n   * Truthy parameter stands for \"to the beginning\" and falsey for \"to the end\".\n   * @returns {Fetch} Returns this.\n   * @description Middleware that is called before the request.\n   * If the middleware has 2 or less arguments it's treated as success middleware otherwise as an error one.\n   * If the middleware returns a promise it becomes a part of the middleware chain.\n   *\n   * @example\n   * const fetch = new Fetch()\n   *   .before((err, req) => {\n   *     console.log(err);\n   *\n   *     throw err;\n   *   })\n   *   .before((req) => {\n   *     if (req.url === '/veryLongRequest') {\n   *       req.timeout = 30000;\n   *     }\n   *   });\n   */\n  before(middleware, beforeAll = true) {\n    validate([middleware], ['function'], 'Fetch#before');\n\n    const { before } = this.$$;\n\n    if (beforeAll) {\n      before.unshift(middleware);\n    } else {\n      before.push(middleware);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#config\n   * @public\n   * @param {String|FetchConfig|FetchConfigFunction} [property] - If it's a function\n   * it's called with the fetch config argument, if it's a string the value argument\n   * is used for assigning this property to the fetch config\n   * otherwise it's assigned to the fetch config.\n   * @param {*} [value] - See the property argument.\n   * @returns {Fetch|FetchConfig} If the argument is present this is returned otherwise the fetch config is returned.\n   * @description Method for getting and setting config.\n   *\n   * @example\n   * const fetch = new Fetch();\n   *\n   * fetch.config({ baseURL: 5000 });\n   * fetch.config().timeout; // 5000\n   *\n   * fetch.config((config) => {\n   *   config.baseURL += '/api';\n   * });\n   */\n  config(property, value) {\n    const conf = this.$$;\n\n    if (!arguments.length) {\n      return conf;\n    }\n\n    if (isFunction(property)) {\n      property(conf);\n    } else {\n      if (arguments.length >= 2) {\n        property = { [property]: value };\n      }\n\n      new Super(conf).deepAssign(property);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#delete\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for delete requests.\n   *\n   * @example\n   * new Fetch().delete('/data').then((res) => {\n   *   console.log(res);\n   * });\n   */\n  delete(url, config = {}) {\n    if (!isString(url)) {\n      config = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'delete' }, config));\n  }\n\n  /**\n   * @method Fetch#get\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for get requests.\n   *\n   * @example\n   * new Fetch().get('/data').then((res) => {\n   *   console.log(res);\n   * });\n   */\n  get(url, config = {}) {\n    if (!isString(url)) {\n      config = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'get' }, config));\n  }\n\n  /**\n   * @method Fetch#head\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().head('/data').then((res) => {\n   *   console.log(res);\n   * });\n   */\n  head(url, config = {}) {\n    if (!isString(url)) {\n      config = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'head' }, config));\n  }\n\n  /**\n   * @method Fetch#headers\n   * @public\n   * @param {String|Object.<String, String|String[]>} header - A header string or an object of the following format:\n   * { [header]: [value1, value2, ...] }.\n   * @param {String|String[]} [value] - Header value. If the first argument is a string\n   * this has to be a header value or an array of header values.\n   * @returns {Fetch} Returns this.\n   * @description Method for setting request headers.\n   *\n   * @example\n   * const fetch = new Fetch()\n   *   .headers('Header1', 'Value')\n   *   .headers('Header2', ['Value1', 'Value2'])\n   *   .headers({\n   *     Header3: ['Value1', 'Value2']\n   *   });\n   */\n  headers(header, value) {\n    const { headers } = this.$$;\n\n    if (arguments.length >= 2) {\n      header = { [header]: value };\n    }\n\n    iterate(header, (value, header) => {\n      const array = headers[header] || [];\n      const toPush = isArray(value) ? value : [value];\n\n      (headers[header] = array).push.apply(array, toPush);\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Fetch#instance\n   * @public\n   * @param {FetchConfig} [config] - New config if needed.\n   * @returns {Fetch} New instance of Fetch.\n   * @description Method for creating new fetch instances based on already existent.\n   *\n   * @example\n   * const mainFetch = new Fetch({\n   *   baseURL: '//other.domain.com/api',\n   *   withCredentials: true\n   * });\n   *\n   * const longFetch = mainFetch.instance({\n   *   timeout: 10000\n   * });\n   */\n  instance(config = {}) {\n    const dataConfig = new Super(config).hasOwn('data')\n      ? { data: config.data }\n      : {};\n\n    delete config.data;\n\n    const conf = new Super({})\n      .deepAssign(this.$$, config)\n      .assign(dataConfig)\n      .$;\n\n    return new Fetch(conf);\n  }\n\n  /**\n   * @method Fetch#patch\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {*} [data] - Additional parameter for uploading data.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().patch('/data', { user: 'John' }).then((res) => {\n   *   console.log(res);\n   * });\n   */\n  patch(url, data = {}, config = {}) {\n    if (arguments.length && !isString(url)) {\n      config = data;\n      data = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'patch', data }, config));\n  }\n\n  /**\n   * @method Fetch#post\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {*} [data] - Additional parameter for uploading data.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().post('/data', { user: 'John' }).then((res) => {\n   *   console.log(res);\n   * });\n   */\n  post(url, data = {}, config = {}) {\n    if (arguments.length && !isString(url)) {\n      config = data;\n      data = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'post', data }, config));\n  }\n\n  /**\n   * @method Fetch#put\n   * @public\n   * @param {String} [url] - See {@link Fetch#request}.\n   * @param {*} [data] - Additional parameter for uploading data.\n   * @param {FetchConfig} [config] - See {@link Fetch#request}.\n   * @returns {Promise.<FetchResponse, Error>} See {@link Fetch#request}.\n   * @description Shorthand for #request for head requests.\n   *\n   * @example\n   * new Fetch().put('/data', { user: 'John' }).then((res) => {\n   *   console.log(res);\n   * });\n   */\n  put(url, data = {}, config = {}) {\n    if (arguments.length && !isString(url)) {\n      config = data;\n      data = url;\n      url = undefined;\n    }\n\n    return this.request(url, assign({ method: 'put', data }, config));\n  }\n\n  /**\n   * @method Fetch#request\n   * @public\n   * @param {String} [url] - URL for the request.\n   * @param {FetchConfig} [config] - Additional config for this particular request.\n   * @returns {Promise.<FetchResponse, Error>} Promise that is resolved with the request response.\n   * @description Main function for making requests. All request methods call this method\n   * including the fetch instance itself.\n   *\n   * @example\n   * const fetch = new Fetch();\n   *\n   * fetch.request('/data', { timeout: 1000 }).then((res) => {\n   *   console.log(res);\n   * });\n   *\n   * fetch.request({ timeout: 1000 }).then((res) => {\n   *   console.log(res);\n   * });\n   *\n   * fetch.request().then((res) => {\n   *   console.log(res);\n   * });\n   */\n  request(url, config = {}) {\n    if (arguments.length === 1 && !isString(url)) {\n      config = url;\n    }\n\n    const dataConfig = new Super(config).hasOwn('data')\n      ? { data: config.data }\n      : {};\n    const urlConfig = isString(url)\n      ? { url }\n      : {};\n\n    delete config.data;\n\n    const conf = new Super(this.$$)\n      .deepClone()\n      .deepAssign(urlConfig, config)\n      .assign(dataConfig)\n      .$;\n\n    let xhr;\n    let promise = Promise.resolve();\n\n    iterate(conf.before, (middleware) => {\n      promise = promise.then(() => {\n        if (middleware.length >= 2) {\n          return Promise.resolve();\n        }\n\n        return new Promise((resolve) => {\n          resolve(middleware(conf));\n        });\n      }, (err) => {\n        if (middleware.length < 2) {\n          return Promise.reject(err);\n        }\n\n        return new Promise((resolve) => {\n          resolve(middleware(err, conf));\n        });\n      });\n    });\n\n    promise = promise.then(() => new Promise((resolve, reject) => {\n      const {\n        after,\n        auth: {\n          username,\n          password\n        },\n        data,\n        headers,\n        method,\n        onprogress,\n        responseType,\n        timeout,\n        url,\n        withCredentials\n      } = conf;\n\n      xhr = new XMLHttpRequest();\n\n      xhr.open(method, url, true, username, password);\n\n      iterate(headers, (value, header) => {\n        xhr.setRequestHeader(header, value);\n      });\n\n      if (onprogress) {\n        if (uploadMethods.indexOfStrict(method) === -1) {\n          xhr.onprogress = onprogress;\n        } else {\n          xhr.upload.onprogress = onprogress;\n        }\n      }\n\n      xhr.onabort = () => {\n        reject(new Error('Request was aborted'));\n\n        xhr = null;\n      };\n\n      xhr.onerror = () => {\n        reject(new Error('Network error'));\n\n        xhr = null;\n      };\n\n      xhr.ontimeout = () => {\n        reject(new Error('Request time exceeded'));\n\n        xhr = null;\n      };\n\n      xhr.onreadystatechange = () => {\n        if (!xhr || !xhr.status || xhr.readyState !== 4) {\n          return;\n        }\n\n        const response = {\n          config: conf,\n          data: !responseType || responseType === 'text' ? xhr.responseText : xhr.response,\n          headers: parseHeaders(xhr.getAllResponseHeaders()),\n          status: xhr.status === 1223 ? 204 : xhr.status,\n          statusText: xhr.status === 1223 ? 'No Content' : xhr.statusText,\n          xhr\n        };\n\n        let promise = Promise.resolve();\n\n        iterate(after, (middleware) => {\n          promise = promise.then(() => {\n            if (middleware.length >= 2) {\n              return Promise.resolve();\n            }\n\n            return new Promise((resolve) => {\n              resolve(middleware(response));\n            });\n          }, (err) => {\n            if (middleware.length < 2) {\n              return Promise.reject(err);\n            }\n\n            return new Promise((resolve) => {\n              resolve(middleware(err, response));\n            });\n          });\n        });\n\n        resolve(promise\n          .then(() => response)\n          .catch((err) => {\n            try {\n              err.response = response;\n            } catch (e) {\n              throw err;\n            }\n\n            throw err;\n          })\n        );\n      };\n\n      xhr.responseType = responseType;\n      xhr.timeout = Number(timeout) || 0;\n      xhr.withCredentials = !!withCredentials;\n\n      xhr.send(data);\n    }));\n\n    promise.abort = function abort() {\n      if (xhr) {\n        xhr.abort();\n      }\n\n      return this;\n    };\n\n    return promise;\n  }\n}\n\ndefineProperties(Fetch.prototype, {\n  [Symbol.toStringTag]: 'Fetch'\n});\n\n/**\n * @function fetchBeforeMiddleware\n * @private\n * @param {FetchConfig} config\n * @description Built-in before middleware for url, data, method, headers construction.\n */\nfunction fetchBeforeMiddleware(config) {\n  const {\n    baseURL,\n    data,\n    headers,\n    method,\n    params,\n    query,\n    url\n  } = config;\n  const METHOD = method.toUpperCase();\n\n  config.method = METHOD;\n  config.url = constructURL(baseURL, url, params, query);\n  config.data = transformData(data, METHOD, headers);\n  config.headers = new Super(headers).object((headers, values, header) => {\n    header = new Str(header)\n      .toCapitalCase()\n      .replace(/\\s+/g, '-')\n      .$;\n\n    headers[header] = values.join(', ');\n  }).$;\n}\n\n/**\n * @const {Fetch} fetch\n * @type {Fetch}\n * @public\n * @description Empty instance of Fetch.\n */\nexport const fetch = new Fetch();\n\nexport default Fetch;\n","/**\n * @module constants/appliedRegExps\n * @private\n * @description Exports different types of syntax for {@link Elem#apply}.\n */\n\n/**\n * @callback matchAppliedExprCallback\n * @param {Elem} elem - D-elem of an element to apply expression to.\n * @param {String} string - Matched applied name.\n * @param {String} arg - Argument within the parentheses.\n */\n\n/**\n * @type {Object.<String, matchAppliedExprCallback|Object.<String, matchAppliedExprCallback>>}\n * @description Object of different types of syntax.\n */\n\nexport default {\n  '#'(elem, id) {\n    elem.id(id);\n  },\n  '.'(elem, cls) {\n    elem.addClass(cls);\n  },\n  $(elem, attr, value) {\n    elem.attr(attr, value);\n  },\n  '@'(elem, prop, value) {\n    elem.css(prop, value);\n  },\n  '&'(elem, name, html) {\n    elem.html(html);\n  },\n  '*'(elem, name, text) {\n    elem.text(text);\n  },\n  '-': {\n    '.'(elem, cls) {\n      elem.removeClass(cls);\n    },\n    $(elem, attr) {\n      elem.removeAttr(attr);\n    },\n    '@'(elem, prop) {\n      elem.removeCSS(prop);\n    }\n  }\n};\n","/**\n * @module constants/elements\n * @private\n * @description Exports methods for {@link Elem} for creating html-elements.\n */\n\n/**\n * @const\n * @type {String[]}\n */\nexport default [\n  /**\n   * @member {Function} Elem#a\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'a',\n\n  /**\n   * @member {Function} Elem#abbr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'abbr',\n\n  /**\n   * @member {Function} Elem#address\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'address',\n\n  /**\n   * @member {Function} Elem#area\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'area',\n\n  /**\n   * @member {Function} Elem#article\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'article',\n\n  /**\n   * @member {Function} Elem#audio\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'audio',\n\n  /**\n   * @member {Function} Elem#b\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'b',\n\n  /**\n   * @member {Function} Elem#base\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'base',\n\n  /**\n   * @member {Function} Elem#bdi\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'bdi',\n\n  /**\n   * @member {Function} Elem#bdo\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'bdo',\n\n  /**\n   * @member {Function} Elem#blockquote\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'blockquote',\n\n  /**\n   * @member {Function} Elem#body\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'body',\n\n  /**\n   * @member {Function} Elem#br\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'br',\n\n  /**\n   * @member {Function} Elem#button\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'button',\n\n  /**\n   * @member {Function} Elem#canvas\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'canvas',\n\n  /**\n   * @member {Function} Elem#caption\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'caption',\n\n  /**\n   * @member {Function} Elem#cite\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'cite',\n\n  /**\n   * @member {Function} Elem#code\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'code',\n\n  /**\n   * @member {Function} Elem#col\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'col',\n\n  /**\n   * @member {Function} Elem#colgroup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'colgroup',\n\n  /**\n   * @member {Function} Elem#content\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'content',\n\n  /**\n   * @member {Function} Elem#datalist\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'datalist',\n\n  /**\n   * @member {Function} Elem#dd\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dd',\n\n  /**\n   * @member {Function} Elem#del\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'del',\n\n  /**\n   * @member {Function} Elem#details\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'details',\n\n  /**\n   * @member {Function} Elem#dfn\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dfn',\n\n  /**\n   * @member {Function} Elem#dialog\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dialog',\n\n  /**\n   * @member {Function} Elem#div\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'div',\n\n  /**\n   * @member {Function} Elem#dl\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dl',\n\n  /**\n   * @member {Function} Elem#dt\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'dt',\n\n  /**\n   * @member {Function} Elem#element\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'element',\n\n  /**\n   * @member {Function} Elem#em\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'em',\n\n  /**\n   * @member {Function} Elem#embed\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'embed',\n\n  /**\n   * @member {Function} Elem#fieldset\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'fieldset',\n\n  /**\n   * @member {Function} Elem#figcaption\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'figcaption',\n\n  /**\n   * @member {Function} Elem#figure\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'figure',\n\n  /**\n   * @member {Function} Elem#footer\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'footer',\n\n  /**\n   * @member {Function} Elem#form\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'form',\n\n  /**\n   * @member {Function} Elem#h1\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h1',\n\n  /**\n   * @member {Function} Elem#h2\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h2',\n\n  /**\n   * @member {Function} Elem#h3\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h3',\n\n  /**\n   * @member {Function} Elem#h4\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h4',\n\n  /**\n   * @member {Function} Elem#h5\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h5',\n\n  /**\n   * @member {Function} Elem#h6\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'h6',\n\n  /**\n   * @member {Function} Elem#head\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'head',\n\n  /**\n   * @member {Function} Elem#header\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'header',\n\n  /**\n   * @member {Function} Elem#hgroup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'hgroup',\n\n  /**\n   * @member {Function} Elem#hr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'hr',\n\n  /**\n   * @member {Function} Elem#i\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'i',\n\n  /**\n   * @member {Function} Elem#iframe\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'iframe',\n\n  /**\n   * @member {Function} Elem#img\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'img',\n\n  /**\n   * @member {Function} Elem#input\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'input',\n\n  /**\n   * @member {Function} Elem#ins\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ins',\n\n  /**\n   * @member {Function} Elem#kbd\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'kbd',\n\n  /**\n   * @member {Function} Elem#label\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'label',\n\n  /**\n   * @member {Function} Elem#legend\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'legend',\n\n  /**\n   * @member {Function} Elem#li\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'li',\n\n  /**\n   * @member {Function} Elem#link\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'link',\n\n  /**\n   * @member {Function} Elem#main\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'main',\n\n  /**\n   * @member {Function} Elem#mark\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'mark',\n\n  /**\n   * @member {Function} Elem#menu\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'menu',\n\n  /**\n   * @member {Function} Elem#menuitem\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'menuitem',\n\n  /**\n   * @member {Function} Elem#meta\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'meta',\n\n  /**\n   * @member {Function} Elem#meter\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'meter',\n\n  /**\n   * @member {Function} Elem#nav\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'nav',\n\n  /**\n   * @member {Function} Elem#noscript\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'noscript',\n\n  /**\n   * @member {Function} Elem#null\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'null',\n\n  /**\n   * @member {Function} Elem#ol\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ol',\n\n  /**\n   * @member {Function} Elem#optgroup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'optgroup',\n\n  /**\n   * @member {Function} Elem#option\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'option',\n\n  /**\n   * @member {Function} Elem#output\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'output',\n\n  /**\n   * @member {Function} Elem#p\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'p',\n\n  /**\n   * @member {Function} Elem#param\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'param',\n\n  /**\n   * @member {Function} Elem#pre\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'pre',\n\n  /**\n   * @member {Function} Elem#progress\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'progress',\n\n  /**\n   * @member {Function} Elem#q\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'q',\n\n  /**\n   * @member {Function} Elem#rp\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'rp',\n\n  /**\n   * @member {Function} Elem#rt\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'rt',\n\n  /**\n   * @member {Function} Elem#rtc\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'rtc',\n\n  /**\n   * @member {Function} Elem#ruby\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ruby',\n\n  /**\n   * @member {Function} Elem#s\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  's',\n\n  /**\n   * @member {Function} Elem#samp\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'samp',\n\n  /**\n   * @member {Function} Elem#script\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'script',\n\n  /**\n   * @member {Function} Elem#section\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'section',\n\n  /**\n   * @member {Function} Elem#select\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'select',\n\n  /**\n   * @member {Function} Elem#shadow\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'shadow',\n\n  /**\n   * @member {Function} Elem#small\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'small',\n\n  /**\n   * @member {Function} Elem#source\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'source',\n\n  /**\n   * @member {Function} Elem#span\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'span',\n\n  /**\n   * @member {Function} Elem#strong\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'strong',\n\n  /**\n   * @member {Function} Elem#style\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'style',\n\n  /**\n   * @member {Function} Elem#sub\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'sub',\n\n  /**\n   * @member {Function} Elem#summary\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'summary',\n\n  /**\n   * @member {Function} Elem#sup\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'sup',\n\n  /**\n   * @member {Function} Elem#table\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'table',\n\n  /**\n   * @member {Function} Elem#tbody\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tbody',\n\n  /**\n   * @member {Function} Elem#td\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'td',\n\n  /**\n   * @member {Function} Elem#template\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'template',\n\n  /**\n   * @member {Function} Elem#textarea\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'textarea',\n\n  /**\n   * @member {Function} Elem#tfoot\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tfoot',\n\n  /**\n   * @member {Function} Elem#th\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'th',\n\n  /**\n   * @member {Function} Elem#thead\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'thead',\n\n  /**\n   * @member {Function} Elem#time\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'time',\n\n  /**\n   * @member {Function} Elem#title\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'title',\n\n  /**\n   * @member {Function} Elem#tr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'tr',\n\n  /**\n   * @member {Function} Elem#track\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'track',\n\n  /**\n   * @member {Function} Elem#u\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'u',\n\n  /**\n   * @member {Function} Elem#ul\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'ul',\n\n  /**\n   * @member {Function} Elem#var\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'var',\n\n  /**\n   * @member {Function} Elem#video\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'video',\n\n  /**\n   * @member {Function} Elem#wbr\n   * @type {Function}\n   * @param {...String} appliedExpressions\n   * @returns {Elem}\n   */\n  'wbr'\n];\n","/**\n * @module constants/elements\n * @private\n * @description Exports different canvas methods for {@link Elem} for creating html-elements.\n */\n\n/**\n * @const\n * @type {String[]}\n */\nexport const canvasGetMethods = [\n  /**\n   * @member {Function} Elem#createImageData\n   * @type {Function}\n   * @param {...*} args\n   * @returns {ImageData|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createImageData\n   */\n  'createImageData',\n\n  /**\n   * @member {Function} Elem#createLinearGradient\n   * @type {Function}\n   * @param {...*} args\n   * @returns {CanvasGradient|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\n   */\n  'createLinearGradient',\n\n  /**\n   * @member {Function} Elem#createPattern\n   * @type {Function}\n   * @param {...*} args\n   * @returns {CanvasPattern|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createPattern\n   */\n  'createPattern',\n\n  /**\n   * @member {Function} Elem#createRadialGradient\n   * @type {Function}\n   * @param {...*} args\n   * @returns {CanvasGradient|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/createRadialGradient\n   */\n  'createRadialGradient',\n\n  /**\n   * @member {Function} Elem#getImageData\n   * @type {Function}\n   * @param {...*} args\n   * @returns {ImageData|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/getImageData\n   */\n  'getImageData',\n\n  /**\n   * @member {Function} Elem#getLineDash\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Number[]|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/getLineDash\n   */\n  'getLineDash',\n\n  /**\n   * @member {Function} Elem#isPointInPath\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Boolean|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/isPointInPath\n   */\n  'isPointInPath',\n\n  /**\n   * @member {Function} Elem#isPointInStroke\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Boolean|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/isPointInStroke\n   */\n  'isPointInStroke',\n\n  /**\n   * @member {Function} Elem#measureText\n   * @type {Function}\n   * @param {...*} args\n   * @returns {TextMetrics|void}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/measureText\n   */\n  'measureText'\n];\n\nexport const canvasRestMethods = [\n  /**\n   * @member {Function} Elem#arc\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/arc\n   */\n  'arc',\n\n  /**\n   * @member {Function} Elem#arcTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/arcTo\n   */\n  'arcTo',\n\n  /**\n   * @member {Function} Elem#beginPath\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/beginPath\n   */\n  'beginPath',\n\n  /**\n   * @member {Function} Elem#bezierCurveTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/bezierCurveTo\n   */\n  'bezierCurveTo',\n\n  /**\n   * @member {Function} Elem#clearRect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/clearRect\n   */\n  'clearRect',\n\n  /**\n   * @member {Function} Elem#clip\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/clip\n   */\n  'clip',\n\n  /**\n   * @member {Function} Elem#closePath\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/closePath\n   */\n  'closePath',\n\n  /**\n   * @member {Function} Elem#drawFocusIfNeeded\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/drawFocusIfNeeded\n   */\n  'drawFocusIfNeeded',\n\n  /**\n   * @member {Function} Elem#drawImage\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/drawImage\n   */\n  'drawImage',\n\n  /**\n   * @member {Function} Elem#ellipse\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/ellipse\n   */\n  'ellipse',\n\n  /**\n   * @member {Function} Elem#fill\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fill\n   */\n  'fill',\n\n  /**\n   * @member {Function} Elem#fillRect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fillRect\n   */\n  'fillRect',\n\n  /**\n   * @member {Function} Elem#fillText\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/fillText\n   */\n  'fillText',\n\n  /**\n   * @member {Function} Elem#lineTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/lineTo\n   */\n  'lineTo',\n\n  /**\n   * @member {Function} Elem#moveTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/moveTo\n   */\n  'moveTo',\n\n  /**\n   * @member {Function} Elem#putImageData\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/putImageData\n   */\n  'putImageData',\n\n  /**\n   * @member {Function} Elem#quadraticCurveTo\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo\n   */\n  'quadraticCurveTo',\n\n  /**\n   * @member {Function} Elem#rect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/rect\n   */\n  'rect',\n\n  /**\n   * @member {Function} Elem#resetTransform\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/resetTransform\n   */\n  'resetTransform',\n\n  /**\n   * @member {Function} Elem#restore\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/restore\n   */\n  'restore',\n\n  /**\n   * @member {Function} Elem#rotate\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/rotate\n   */\n  'rotate',\n\n  /**\n   * @member {Function} Elem#save\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/save\n   */\n  'save',\n\n  /**\n   * @member {Function} Elem#scale\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/scale\n   */\n  'scale',\n\n  /**\n   * @member {Function} Elem#setLineDash\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/setLineDash\n   */\n  'setLineDash',\n\n  /**\n   * @member {Function} Elem#setTransform\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/setTransform\n   */\n  'setTransform',\n\n  /**\n   * @member {Function} Elem#stroke\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/stroke\n   */\n  'stroke',\n\n  /**\n   * @member {Function} Elem#strokeRect\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/strokeRect\n   */\n  'strokeRect',\n\n  /**\n   * @member {Function} Elem#strokeText\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/strokeText\n   */\n  'strokeText',\n\n  /**\n   * @member {Function} Elem#transform\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/transform\n   */\n  'transform',\n\n  /**\n   * @member {Function} Elem#translate\n   * @type {Function}\n   * @param {...*} args\n   * @returns {Elem}\n   * @see https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/translate\n   */\n  'translate'\n];\n","/**\n * @module Elem\n * @private\n * @mixin\n * @description Exports Elem class.\n */\n\nimport Super from './Super';\nimport Arr, { array } from './Arr';\nimport { blob } from './BlobObject';\nimport Fetch from './Fetch';\nimport { method } from './Func';\nimport Promise from './Promise';\nimport Str from './Str';\nimport { switcher } from './Switcher';\nimport constructors from './constants/constructors';\nimport appliedRegExps from './constants/appliedRegExps';\nimport elements from './constants/elements';\nimport { canvasGetMethods, canvasRestMethods } from './constants/canvasMethods';\nimport {\n  isArray, isArrayLike, isElement, isFunction,\n  isInteger, isNumber, isNull, isString,\n  assign, dynamicDefineProperties, defineProperties, toArray,\n  validate, toStringTag, iterate, Symbol\n} from './helpers';\n\n/**\n * @typedef {String} ElemEventString\n * @public\n * @description A string containing events separated by a comma with zero or more spaces or just spaces.\n */\n\n/**\n * @callback ElemValueCallback\n * @public\n * @param {String} value - Old value.\n * @param {Elem} elem - Current element.\n * @param {Number} index - Index in the set of the elements.\n */\n\n/**\n * @callback ElemSetOfCallback\n * @public\n * @param {Element} created - Created element.\n * @param {*} value - Value of the iterated element in the object.\n * @param {Key} key - Key of the iterated element in the object.\n * @param {*} object - Object that is iterated over.\n * @param {Element} elem - Current element.\n * @param {Number} index - Index of the current element.\n */\n\n/**\n * @callback ValidateCallback\n * @public\n * @param {*} value - Element value.\n * @param {Element} elem - Element to validate.\n * @param {Number} index - Index of the element.\n */\n\n/**\n * @callback CtxCallback\n * @public\n * @param {CanvasRenderingContext2D} ctx - Canvas rendering context.\n */\n\n/**\n * @callback ElemListener\n * @public\n * @param {Event} e - Fired event.\n * @param {Element} elem - Element on which the listener was called.\n * @param {Number} index - Index of the element on which the listener was called.\n */\n\n/**\n * @callback ElemRemoveListeners\n * @public\n * @param {...ElemEventString} events - If at least one argument present only removes event listeners specified\n * by the events in the arguments.\n */\n\nconst nativeDocument = global.document;\nconst emptyDiv = nativeDocument.createElement('div');\nconst eventSeparator = /, *| +/;\nconst textProperty = new Super(Node.prototype).propertyDescriptor('textContent') ? 'textContent' : 'innerText';\nconst classes = {};\nconst attrs = {};\nconst windowsDwayneData = new Arr([]);\nconst inputElements = 'input, select, textarea, datalist, keygen, output';\nconst dataURLFetch = new Fetch({ responseType: 'arraybuffer' });\nconst click = method('click');\nconst refSwitcher = switcher('strictEquals', 'href')\n  .case(\n    ['img', 'script', 'iframe', 'audio', 'video'],\n    'src'\n  )\n  .case(\n    'form',\n    'action'\n  );\nconst filterSwitcher = switcher('call', (selector) => selector)\n  .case(\n    isString,\n    (selector) =>\n      (elem) => new Elem(elem).is(selector)\n  )\n  .case(\n    [isArray, isElem],\n    (elems) => {\n      elems = new Arr(elems);\n\n      return (elem) => elems.indexOf(elem) !== -1;\n    }\n  );\nconst innerSwitcher = switcher('strictEquals', 0)\n  .case('padding-box', (paddings) => paddings)\n  .case('border-box', (paddings, borders) => paddings + borders);\nconst outerSwitcher = switcher('strictEquals', (borders, paddings) => borders + paddings)\n  .case('padding-box', (borders) => borders)\n  .case('border-box', 0);\n\n/**\n * @class Elem\n * @extends Arr\n * @public\n * @param {Element|Element[]} [elem = []] - An element or an array of elements to wrap.\n * @returns {Elem} Instance of Elem.\n * @description Wrap of an elements set. Also has all methods from from\n * [CanvasRenderingContext2D]{@link https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D}.\n * Getters methods return the same as methods from CanvasRenderingContext2D and the rest return this.\n * Work for the first canvas element in the set.\n *\n * @example\n * new Elem(document.body);\n * new Elem(document.querySelectorAll('.cls'));\n * new Elem(document.getElementsByClassName('cls'));\n */\nexport class Elem extends Arr {\n  constructor(elem = []) {\n    super((() => {\n      let element = elem;\n\n      if (isArrayLike(element) && (\n        isWindow(element) ||\n        isHTMLDocument(element) ||\n        isElement(element)\n      )) {\n        element = [element];\n      }\n\n      return new Arr(toArray(new Super(element).$, true)).object((elems, elem) => {\n        if ((isElement(elem) || isWindow(elem) || isHTMLDocument(elem) || toStringTag(elem) === 'CSSStyleRule') && elems.indexOf(elem) === -1) {\n          return elems.push(elem);\n        }\n\n        if (isElem(elem)) {\n          elems.push.apply(elems, elem.$);\n        }\n      }, []).$;\n    })());\n\n    this.$$ = elem;\n\n    this.forEach(addDwayneData);\n\n    /**\n     * @member {Element[]} Elem#$\n     * @type {Element[]}\n     * @public\n     * @description Constructed element set.\n     */\n\n    /**\n     * @member {*} Elem#$$\n     * @type {*}\n     * @public\n     * @description Initial element set.\n     */\n  }\n\n  /**\n   * @method Elem#add\n   * @public\n   * @param {...(String|Elem|Element|Element[])} elements - Each argument is a selector, or Elem, or Element, or array of Elements.\n   * @returns {Elem} Returns this.\n   * @description Method for adding new elements to the set.\n   *\n   * @example\n   *\n   */\n  add(...elements) {\n    iterate(arguments, (elem) => {\n      toFind(elem).forEach((elem) => {\n        if (this.indexOf(elem) === -1) {\n          this.push(elem);\n        }\n      });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#addClass\n   * @public\n   * @param {...String} classes - Classes to add.\n   * @returns {Elem} Returns this.\n   * @description Method for adding classes to the all the elements in the set.\n   *\n   * @example\n   * elem.addClass('red', 'round');\n   */\n  addClass(...classes) {\n    return this.forEach((elem) => {\n      const list = elem.classList;\n\n      iterate(arguments, (cls) => list.add(cls));\n    });\n  }\n\n  /**\n   * @method Elem#addHTML\n   * @public\n   * @param {String} html - HTML to add.\n   * @returns {Elem} Returns this.\n   * @description Method for adding HTML to the all elements in the set.\n   *\n   * @example\n   * elem.addHTML('&lt;div&gt;1&lt;/div&gt;');\n   */\n  addHTML(html) {\n    return this.forEach((elem) => {\n      elem.innerHTML += html;\n    });\n  }\n\n  /**\n   * @method Elem#addRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @param {String} selector - Selector for the rule\n   * @param {Object.<String, String>} style - Style for the selector.\n   * @returns {Elem} Returns this.\n   * @description Method for adding css styles into the first style tag in the set.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.addRule('img-size', 'img.square', {\n   *   width: '40px !important',\n   *   height: '40px !important'\n   * });\n   */\n  addRule(name, selector, style) {\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const { sheet } = elem;\n        const { length } = sheet.cssRules;\n        const rules = new Super(style).word((value, property) => (\n          `${ new Str(property).toHyphenCase() }: ${ value };\\n`\n        ));\n\n        sheet.insertRule(\n          `${ selector } {${ rules && '\\n' }${ rules }}`,\n          length\n        );\n        sheet.cssRules[length].dwayneData = { name };\n\n        return true;\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#addText\n   * @public\n   * @param {String} text - Text to add.\n   * @returns {Elem} Returns this.\n   * @description Method for adding text to the all elements in the set.\n   *\n   * @example\n   * elem.addText('123');\n   */\n  addText(text) {\n    return this.forEach((elem) => {\n      elem.appendChild(nativeDocument.createTextNode(text));\n    });\n  }\n\n  /**\n   * @method Elem#apply\n   * @public\n   * @param {...String} strings - Strings to apply.\n   * @returns {Elem} Returns this.\n   * @description Method that is a shorthand for many other methods.\n   * All shorthands can be separated with space and written within one string.\n   *\n   * @example\n   * elem.apply(\n   *   '#id .c1 .c2 @border(1px solid black) $disabled $attr(some value) *(Click me!)'\n   * );\n   * // shorthand for\n   * // elem\n   * //   .id('id')\n   * //   .addClass('c1', 'c2')\n   * //   .border('1px solid black')\n   * //   .disabled()\n   * //   .attr('attr', 'some value')\n   * //   .text('Click me!');\n   * // There is a full list of possible types of syntax below...\n   *\n   * elem.apply('#id');                         // shorthand for elem.id('id');\n   * elem.apply('.c1 .c2');                     // shorthand for elem.addClass('c1', 'c2');\n   * elem.apply('-.c1 -.c2');                   // shorthand for elem.removeClass('c1', 'c2');\n   * elem.apply('-@float -@display');           // shorthand for elem.removeCSS('float', 'display');\n   * elem.apply('-$a1 -$a2');                   // shorthand for elem.removeAttr('a1', 'a2');\n   * elem.apply('*(some text)');                // shorthand for elem.text('set text');\n   * elem.apply('&(&lt;div&gt;1&lt;/div&gt;)'); // shorthand for elem.html('&lt;div&gt;1&lt;/div&gt;');\n   * elem.apply('@float(right)');               // shorthand for elem.css('float', 'right');\n   * elem.apply('@transform(scale(5px))');      // shorthand for elem.css('float', 'right');\n   * elem.apply('@margin(2px 2px)');            // shorthand for elem.css('margin', '2px 2px');\n   * elem.apply('@marginLeft(2px)');            // shorthand for elem.css('marginLeft', '2px 2px');\n   * elem.apply('@margin-left(2px)');           // shorthand for elem.css('margin-left', '2px 2px');\n   * elem.apply('$attr(some value)');           // shorthand for elem.attr('attr', 'some value');\n   * elem.apply('$attr');                       // shorthand for elem.attr('attr', '');\n   */\n  apply(...strings) {\n    let applied;\n    let setApplied;\n    let callback;\n    let name;\n    let np1;\n    let slice;\n\n    new Str(new Arr(arguments).join(' '))\n      .split(/(\\s+)/)\n      .forEach((string) => {\n        if (!applied) {\n          np1 = string.slice(0, 1);\n          callback = appliedRegExps[np1];\n          slice = 1;\n\n          if (callback && !isFunction(callback)) {\n            callback = callback[string.slice(1, 2)];\n            slice = 2;\n          }\n\n          if (/^\\s+$/.test(string) || !callback) {\n            return;\n          }\n\n          name = string.slice(slice).match(/^[^()]+/);\n\n          if (!name && (np1 !== '*' && np1 !== '&')) {\n            return;\n          }\n\n          applied = {\n            name: name ? name[0] : '',\n            args: string.slice(slice + (name ? name[0] : '').length),\n            callback\n          };\n\n          setApplied = true;\n        }\n\n        if (!setApplied) {\n          applied.args += string;\n        }\n\n        if (!applied.args || /^\\([\\s\\S]+\\)$/.test(applied.args)) {\n          applied.callback(this, applied.name, applied.args.replace(/^\\(|\\)$/g, ''));\n          applied = null;\n        }\n\n        setApplied = false;\n      });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#attr\n   * @public\n   * @param {String|Object.<String, String|ElemValueCallback>} [attr] - Name of the attribute to get or\n   * an object of the format { [attrName]: value, ... } to set attributes.\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string\n   * it should be a value to set for that attribute.\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of attributes of the first element in the set\n   * returned, if 1 string argument is passed the value of the attribute of the first element in the set\n   * returned otherwise returns this.\n   * @description Method for getting/setting attributes.\n   *\n   * @example\n   * elem.attr('attr1', 'value1'); // attribute attr1 set to 'value1' and this returned\n   * elem.attr('attr1');           // 'value1'\n   * elem.attr({\n   *   attr1: 'value3',            // attribute attr1 set to 'value3'\n   *   attr2: 'value2'             // attribute attr2 set to 'value2'\n   * });                           // this returned\n   * elem.attr().$;                // { attr1: 'value3', attr2: 'value2' }\n   */\n  attr(attr, value) {\n    const elem = getElem(this);\n\n    if (!arguments.length) {\n      return new Super(elem.attributes).object((o, attr) => {\n        o[attr.name] = attr.value;\n      });\n    }\n\n    if (arguments.length <= 1 && isString(attr)) {\n      return elem.getAttribute(attr);\n    }\n\n    if (arguments.length >= 2) {\n      attr = { [attr]: value };\n    }\n\n    return this.forEach((elem, index) => {\n      new Super(attr).forEach((value, key) => {\n        elem.setAttribute(key, isFunction(value) ? value(elem.getAttribute(key), elem, index) : value);\n      });\n    });\n  }\n\n  /**\n   * @method Elem#blob\n   * @public\n   * @param {Object} [options = {}] - Options that are passed into {@link blob}.\n   * @returns {Promise.<BlobObject>} New instance of promise.\n   * @description Returns a {@link BlobObject} Promise. Works with image or canvas first element.\n   *\n   * @example\n   * image.blob().then((blob) => console.log(blob));  // BlobObject\n   * canvas.blob().then((blob) => console.log(blob)); // BlobObject\n   */\n  blob(options = {}) {\n    // TODO: write using ArrayBuffer\n\n    return new Promise((resolve, reject) => {\n      const elem = this.first();\n      const { name } = elem;\n\n      if (name !== 'img' && name !== 'canvas') {\n        reject(new Error('First element in the set isn\\'t an image or a canvas! (Elem#blob)'));\n      }\n\n      if (name === 'canvas') {\n        return resolve(elem);\n      }\n\n      elem\n        .load()\n        .then(() => {\n          if (elem.isBroken()) {\n            return reject(new Error('The image is broken! (Elem#blob)'));\n          }\n\n          const canvas = new Elem(nativeDocument).canvas();\n          const width = elem.width();\n          const height = elem.height();\n\n          canvas\n            .width(width)\n            .height(height)\n            .drawImage(elem.$[0], 0, 0);\n\n          resolve(canvas);\n        });\n    })\n      .then((canvas) => dataURLFetch(canvas.dataURL()))\n      .then(({ data: ab }) => blob(ab, options));\n  }\n\n  /**\n   * @method Elem#blur\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/blur\n   * @description Synonym for\n   * [HTMLElement#blur]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/blur}.\n   */\n  blur() {\n    return this.forEach((elem) => {\n      elem.blur();\n    });\n  }\n\n  /**\n   * @method Elem#calcCSS\n   * @param {String} [pseudo] - See the link.\n   * @returns {CSSStyleDeclaration} See the link.\n   * @see https://developer.mozilla.org/en/docs/Web/API/Window/getComputedStyle\n   * @description Synonym for\n   * [getComputedStyle]{@link https://developer.mozilla.org/en/docs/Web/API/Window/getComputedStyle}.\n   * Returns computed style for the first element in the set or undefined.\n   */\n  calcCSS(pseudo = null) {\n    return getComputedStyle(getElem(this), pseudo);\n  }\n\n  /**\n   * @method Elem#changeRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @param {Object.<String, String>} style - Style for the selector.\n   * @returns {Elem} Returns this.\n   * @description Method for changing css styles in the first style tag in the set.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.changeRule('img-size', {\n   *   width: '50px !important',\n   *   height: '50px !important'\n   * });\n   */\n  changeRule(name, style) {\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const { value: rule } = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name) || {};\n\n        if (rule) {\n          new Elem(rule).css(style);\n\n          return true;\n        }\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#child\n   * @public\n   * @param {Number|String|Elem|Element|Element[]} element - If the argument is a number a wrap of the set of the children\n   * of this index of each element in the set returned otherwise an element to put into this element, a collection\n   * or a selector of it.\n   * @returns {Elem} Returns a wrap of children or inserted elements.\n   * @description Method is similar to\n   * [Node#appendChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/appendChild}.\n   *\n   * @example\n   * const child = elem.child(1);\n   *\n   * elem.child(elem2);\n   * elem.child(document.getElementById('id'));\n   * elem.child('#id div.c1');\n   */\n  child(element) {\n    if (isInteger(element) && element >= 0) {\n      return this.children().elem(element);\n    }\n\n    return toFind(element).into(this);\n  }\n\n  /**\n   * @method Elem#children\n   * @public\n   * @returns {Elem} D-Wrap of the children of the first element in the set.\n   * @description Method for getting element's children.\n   *\n   * @example\n   * const children = elem.children();\n   */\n  children() {\n    return new Elem(this.length ? this.$[0].children : []);\n  }\n\n  /**\n   * @method Elem#class\n   * @public\n   * @param {String} [cls] - If it's present it has to contain class attribute to set.\n   * @returns {Arr|Elem} If the argument is present this returned otherwise a wrap of the classes array returned.\n   * @description Method for getting/setting classes.\n   *\n   * @example\n   * elem.class('c1 c2'); // class set to 'c1 c2'\n   * elem.class().$;      // ['c1', 'c2']\n   */\n  class(cls) {\n    if (!arguments.length) {\n      return new Arr(getElem(this).className.split(' '));\n    }\n\n    return this.forEach((elem) => {\n      elem.className = cls;\n    });\n  }\n\n  /**\n   * @method Elem#click\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/click\n   * @description Synonym for\n   * [HTMLElement#click]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/click}.\n   */\n  click() {\n    return this.forEach(click);\n  }\n\n  /**\n   * @method Elem#clone\n   * @public\n   * @param {Boolean|*} [deep = false] - See thee link.\n   * @returns {Elem} New instance of Elem.\n   * @see https://developer.mozilla.org/en/docs/Web/API/Node/cloneNode\n   * @description Synonym for\n   * [Node#cloneNode]{@link https://developer.mozilla.org/en/docs/Web/API/Node/cloneNode}.\n   */\n  clone(deep = false) {\n    return this.object((elems, elem) => {\n      elems.add(elem.cloneNode(!!deep));\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#closest\n   * @public\n   * @param {String} selector - See the link.\n   * @returns {Elem} Set of the closest elements.\n   * @description Synonym for\n   * [Element#closest]{@link https://developer.mozilla.org/en/docs/Web/API/Element/closest}.\n   */\n  closest(selector) {\n    return this.object((elems, elem) => {\n      while (elem) {\n        if (new Elem(elem).is(selector)) {\n          return elems.add(elem);\n        }\n\n        elem = elem.parentElement;\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#contains\n   * @public\n   * @param {String|Elem|Element} element - Element to find out if it's within the first element\n   * in the set or a selector of it.\n   * @returns {Boolean} Returns if the argument within this element.\n   * @description Method is extension for\n   * [Node#contains]{@link https://developer.mozilla.org/en/docs/Web/API/Node/contains}.\n   *\n   * @example\n   * elem1.contains(elem2);   // true|false\n   * elem.contains(selector); // true|false\n   */\n  contains(element) {\n    element = toFind(element);\n\n    return getElem(this).contains(getElem(element));\n  }\n\n  /**\n   * @method Elem#create\n   * @public\n   * @param {String} type - Type of created element.\n   * @param {...String} appliedExpressions - Strings that are passed into {@link Elem#apply}.\n   * @returns {Elem} New instance of Elem - wrap of the created element.\n   * @description Method for creating elements inside this element. If this element is a document it's just created.\n   *\n   * @example\n   * elem.create('div', '#id .c1 .c2 *Some text*');\n   *\n   * // also there are shorthands for almost every HTML-element\n   * elem.div();\n   * elem.input('$type(checkbox) $name(country)');\n   */\n  create(type, ...appliedExpressions) {\n    return this.object((elems, elem) => {\n      const element = new Elem(nativeDocument.createElement(type));\n\n      if (elem !== nativeDocument) {\n        element.into(elem);\n      }\n\n      elems.add(element.apply.apply(element, appliedExpressions));\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#css\n   * @public\n   * @param {String|Object.<String, String|ElemValueCallback>} [property] - Name of the property to get or\n   * an object of the format { [property]: value, ... } to set styles.\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string it should be a value to set for that property.\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of css styles of the element returned,\n   * if 1 string argument is passed the value of the property returned otherwise returns this.\n   * @description Method for getting/setting styles. Supports !important.\n   *\n   * @example\n   * elem.css('display', 'none'); // display set to 'none' and this returned\n   * elem.css('display');         // 'none'\n   * elem.css({\n   *   display: 'inline',         // display set to 'inline'\n   *   cursor: 'pointer'          // cursor set to 'pointer'\n   * });                          // this returned\n   * elem.css().$;                // { display: 'none', cursor: 'pointer' }\n   */\n  css(property, value) {\n    const style = getElem(this).style;\n\n    if (!arguments.length) {\n      return new Str(style.cssText)\n        .split(/; ?/)\n\n        .object((o, value) => {\n          if (value) {\n            property = value.split(/: /);\n\n            o[new Str(property[0]).toCamelCase().$] = property[1];\n          }\n        });\n    }\n\n    if (arguments.length <= 1 && isString(property)) {\n      property = new Str(property).toHyphenCase().$;\n\n      return style.getPropertyValue(property) + (style.getPropertyPriority(property) ? ' !important' : '');\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.forEach((elem, index) => {\n      new Super(property).forEach((value, property) => {\n        property = new Str(property).toHyphenCase().$;\n\n        if (isFunction(value)) {\n          value = value(new Elem(elem).css(property), elem, index);\n        }\n\n        elem.style.removeProperty(property);\n        elem.style.setProperty(\n          property,\n          value.replace(/ ?!important$/, ''),\n          /!important$/.test(value) ? 'important' : ''\n        );\n      });\n    });\n  }\n\n  /**\n   * @method Elem#ctx\n   * @public\n   * @param {String|Object|CtxCallback} [property] - If present and object\n   * it's assigned to the canvas rendering context, if function\n   * it's called with canvas rendering context argument, if string\n   * the value from the second argument is used for assigning\n   * this property to canvas rendering context and if not present\n   * canvas rendering context returned.\n   * @param {*} [value] - See the property argument.\n   * @returns {CanvasRenderingContext2D|Elem}\n   * @description Rendering context of the first canvas in the set.\n   *\n   * @example\n   * canvas.ctx; // CanvasRenderingContext2D\n   */\n  ctx(property, value) {\n    let ctx;\n\n    this.some((elem) => {\n      if (getName(elem) === 'canvas') {\n        ctx = elem.dwayneData.ctx;\n\n        return true;\n      }\n    });\n\n    if (!arguments.length) {\n      return ctx;\n    }\n\n    if (isFunction(property)) {\n      property(ctx);\n    } else {\n      if (arguments.length >= 2) {\n        property = { [property]: value };\n      }\n\n      assign(ctx, property);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Elem#data\n   * @public\n   * @param {String|Object.<String, String|ElemValueCallback>} [key] - Name of the data attribute (without data- prefix)\n   * to get or an object of the format { [attrName]: value, ... } to set attributes.\n   * @param {String|ElemValueCallback} [value] - If the first argument is a string it should be a value to set for that attribute.\n   * @returns {Super|String|Elem} If no arguments passed, D-Wrap of dataset of the element returned,\n   * if 1 string argument is passed the value of the data attribute returned otherwise returns this.\n   * @description Method for getting/setting data attributes. See\n   * [HTMLElement#dataset]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/dataset}.\n   *\n   * @example\n   * elem.data('someKey1', 'value'); // attribute data-some-key1 set to 'value1' and this returned\n   * elem.data('someKey1');          // 'value1'\n   * elem.data({\n   *   someKey1: 'value3',           // attribute data-some-key1 set to 'value3'\n   *   someKey2: 'value2'            // attribute data-some-key2 set to 'value2'\n   * });                             // this returned\n   * elem.data().$;                  // { someKey1: 'value3', someKey2: 'value2' }\n   */\n  data(key, value) {\n    const dataset = getElem(this).dataset;\n\n    if (!arguments.length) {\n      return new Super(dataset).object((o, value, key) => {\n        o[key] = value;\n      });\n    }\n\n    if (arguments.length === 1 && isString(key)) {\n      return dataset[key];\n    }\n\n    if (arguments.length >= 2) {\n      key = { [key]: value };\n    }\n\n    iterate(key, (value, key) => {\n      this.forEach((elem, index) => {\n        elem.dataset[key] = isFunction(value) ? value(elem.dataset[key], elem, index) : value;\n      });\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#dataURL\n   * @param {String} [type = 'image/png'] - See the link\n   * @param {Number} [encoderOptions = 0.92] - See the link.\n   * @returns {String} Data URL for the first canvas element in the set.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/toDataURL\n   * @description Synonym for\n   * [HTMLCanvasElement#toDataURL]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/toDataURL}.\n   *\n   * @example\n   * canvas.dataURL();\n   */\n  dataURL(type, encoderOptions) {\n    const ctx = this.ctx();\n\n    if (!ctx) {\n      return '';\n    }\n\n    return ctx.canvas.toDataURL.apply(ctx.canvas, arguments);\n  }\n\n  /**\n   * @method Elem#deleteRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @returns {Elem} Returns this.\n   * @description Method for deleting css styles in a style tag.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.deleteRule('img-size');\n   */\n  deleteRule(name) {\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const rule = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name);\n\n        if (rule) {\n          elem.sheet.deleteRule(rule.key);\n\n          return true;\n        }\n      }\n    });\n\n    return this;\n  }\n\n  /**\n   * @method Elem#dispatch\n   * @public\n   * @param {String|Event} event - Event or a string (new Event(event) is created).\n   * @param {Object} [eventInit = {}] - See the link.\n   * @param {Boolean} [eventInit.bubbles = true] - See the link.\n   * @param {Boolean} [eventInit.cancelable = true] - See the link.\n   * @param {Object} [details = {}] - Object that is assigned to the event.\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/Event/Event\n   * @description Synonym for\n   * [EventTarget#dispatchEvent]{@link https://developer.mozilla.org/en/docs/Web/API/EventTarget/dispatchEvent}.\n   *\n   * @example\n   * elem.dispatch('click');\n   * elem.dispatch('click', { bubbles: false, cancellable: false });\n   * elem.dispatch(new CustomEvent('custom-event'));\n   */\n  dispatch(event, eventInit = {}, details = {}) {\n    const { bubbles = true, cancelable = true } = eventInit || {};\n    let finalEvent = event;\n\n    if (!/Event$/.test(toStringTag(finalEvent))) {\n      try {\n        finalEvent = new Event(finalEvent, { bubbles, cancelable });\n      } catch (err) {\n        finalEvent = nativeDocument.createEvent('Event');\n        finalEvent.initEvent(event, bubbles, cancelable);\n      }\n\n      assign(finalEvent, details);\n    }\n\n    return this.forEach((elem) => {\n      elem.dispatchEvent(finalEvent);\n    });\n  }\n\n  /**\n   * @method Elem#elem\n   * @public\n   * @param {Number} [index = 0] - Index of the element of the set to get. Negative index means elem.length + index.\n   * @returns {Elem} New instance of Elem.\n   *\n   * @example\n   * elem.elem(1); // a wrap of the element in the set that has index 1\n   * elem.elem();  // a wrap of the element in the set that has index 0\n   */\n  elem(index = 0) {\n    if (index < 0) {\n      index = this.length + index;\n    }\n\n    return new Elem(this.$[index]);\n  }\n\n  /**\n   * @method Elem#filter\n   * @public\n   * @param {String|Function|Element[]|Elem} [selector = Boolean] - If it's a string the method filters elements with the selector\n   * otherwise super.filter is called.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for filtering elements.\n   *\n   * @example\n   * elem.filter((elem) => new Elem(elem).closest('.parent'));\n   * elem.filter(elemsInArray);\n   * elem.filter(elemsInElem);\n   * elem.filter('.child');\n   */\n  filter(selector = Boolean) {\n    return new Elem(super.filter(filterSwitcher(selector)));\n  }\n\n  /**\n   * @method Elem#find\n   * @public\n   * @param {String|Function} selector - Selector to find.\n   * @returns {Elem|{ key: Key, value: * }|null} New instance of Elem if selector is a string\n   * otherwise super.find is called.\n   * @description Synonym for\n   * [Element#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Element/querySelectorAll}.\n   */\n  find(selector) {\n    if (!isString(selector)) {\n      return super.find(selector);\n    }\n\n    return this.object((elems, elem) => {\n      elems.add(find(selector, elem));\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#first\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Synonym for elem.elem(0).\n   */\n  first() {\n    return this.elem(0);\n  }\n\n  /**\n   * @method Elem#first\n   * @public\n   * @param {String} [selector = null] - If present, finds first child in every elem that matches the selector.\n   * If not, finds first child of each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding first children of each element in the set.\n   *\n   * @example\n   * elem.first();       // finds first child of each element in the elem set\n   * elem.first('.foo'); // find first child that has foo class of each element in the set\n   */\n  firstChild(selector = null) {\n    return this.object((elems, elem) => {\n      const { value: found } = new Arr(elem.children).find((elem) => new Elem(elem).is(selector)) || {};\n\n      elems.add(found);\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#focus\n   * @returns {Elem} Returns this.\n   * @see https://developer.mozilla.org/en/docs/Web/API/HTMLElement/focus\n   * @description Synonym for\n   * [HTMLElement#focus]{@link https://developer.mozilla.org/en/docs/Web/API/HTMLElement/focus}.\n   */\n  focus() {\n    return this.forEach((elem) => {\n      elem.focus();\n    });\n  }\n\n  /**\n   * @method Elem#getRule\n   * @public\n   * @param {String} name - Name of the rule.\n   * @returns {{ selector: (String|void), rules: Object }} Set of the css rules.\n   * @description Method for getting set of the rules under the name.\n   * Note: style element should be inside the document.\n   *\n   * @example\n   * style.addRule('img-size', 'img.square', {\n   *   width: '40px',\n   *   height: '40px'\n   * });\n   * style.getRule('img-size');\n   * // {\n   * //   selector: 'img.square',\n   * //   rules: {\n   * //     width: '40px',\n   * //     height: '40px'\n   * //   }\n   * // }\n   */\n  getRule(name) {\n    let found = {\n      selector: undefined,\n      rules: {}\n    };\n\n    this.some((elem) => {\n      if (getName(elem) === 'style') {\n        const { value: rule } = new Arr(elem.sheet.cssRules).find((rule) => rule.dwayneData && rule.dwayneData.name === name) || {};\n\n        if (rule) {\n          found = {\n            selector: rule.selectorText,\n            rules: new Elem(rule).css().$\n          };\n\n          return true;\n        }\n      }\n    });\n\n    return found;\n  }\n\n  /**\n   * @method Elem#hasAttr\n   * @public\n   * @param {String} attr - Name of the attribute.\n   * @returns {Boolean} If the first element in the set has the attribute.\n   * @description Method that returns if the first element in the set has the attribute or not.\n   *\n   * @example\n   * elem.attr('attr', 'value').hasAttr('attr'); // true\n   * elem.removeAttr('attr').hasAttr('attr');    // false\n   */\n  hasAttr(attr) {\n    return getElem(this).hasAttribute(attr);\n  }\n\n  /**\n   * @method Elem#hasClass\n   * @public\n   * @param {String} cls - Name of the class.\n   * @returns {Boolean} If the first element in the set has the class.\n   * @description Method that returns if the first element in the set has the class or not.\n   *\n   * @example\n   * elem.addClass('cls').hasClass('cls');    // true\n   * elem.removeClass('cls').hasClass('cls'); // false\n   */\n  hasClass(cls) {\n    return getElem(this).classList.contains(cls);\n  }\n\n  /**\n   * @method Elem#height\n   * @public\n   * @param {*|ElemValueCallback} [height] - Height to set.\n   * @returns {Elem|String} If no arguments passed height of the first element in the set returned.\n   * Otherwise all elements heights in the set are set to the height argument.\n   * @description Gets or sets height.\n   *\n   * @example\n   * elem.height(123);\n   * elem.height(); // 123\n   */\n  height(height) {\n    return this.prop.apply(this, new Arr(arguments).unshift('height').$);\n  }\n\n  /**\n   * @method Elem#hide\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Hides all elements in the set.\n   *\n   * @example\n   * elem.hide();\n   */\n  hide() {\n    return this.forEach((elem) => {\n      elem = new Elem(elem);\n\n      const currentDisplay = elem.css('display');\n\n      if (currentDisplay.indexOf('none')) {\n        elem.prop('dwayneData').previousDisplay = currentDisplay;\n      }\n\n      elem.css('display', 'none !important');\n    });\n  }\n\n  /**\n   * @method Elem#html\n   * @public\n   * @param {String|ElemValueCallback|*} [html] - HTML to write instead of current HTML.\n   * @returns {Elem|String} If no arguments passed HTML of the first element in the set returned.\n   * Otherwise all elements HTML in the set are set to the html argument.\n   * @description Gets or sets HTML.\n   *\n   * @example\n   * elem.html('&lt;div&gt;1&lt;/div&gt;');\n   * elem.html(); // '&lt;div&gt;1&lt;/div&gt;'\n   */\n  html(html) {\n    if (!arguments.length) {\n      return getElem(this).innerHTML;\n    }\n\n    return this.forEach((elem, index) => {\n      elem.innerHTML = isFunction(html) ? html(elem.innerHTML, elem, index) : html;\n    });\n  }\n\n  /**\n   * @method Elem#id\n   * @public\n   * @param {String|*} [id] - Id to set.\n   * @returns {Elem|String} If no arguments passed id of the first element in the set returned.\n   * Otherwise all elements ids in the set are set to the id argument.\n   * @description Gets id or sets ids.\n   *\n   * @example\n   * elem.id('unique');\n   * elem.id(); // 'unique'\n   */\n  id(id) {\n    if (!arguments.length) {\n      return getElem(this).id;\n    }\n\n    return this.forEach((elem) => {\n      elem.id = id;\n    });\n  }\n\n  /**\n   * @member {Number} Elem#innerHeight\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Method for finding how much height content of the first element can be.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   height: '200px',\n   *   paddingTop: '2px',\n   *   paddingBottom: '3px',\n   *   borderTop: '1px solid black',\n   *   borderBottom: '4px solid black'\n   * }).innerHeight; // 190\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .innerHeight; // 200\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .innerHeight; // 195\n   */\n  get innerHeight() {\n    const elem = this.$[0];\n\n    if (!elem) {\n      return 0;\n    }\n\n    if (isWindow(elem)) {\n      return elem.innerHeight;\n    }\n\n    const {\n      borderTopWidth,\n      borderBottomWidth,\n      boxSizing,\n      height,\n      paddingTop,\n      paddingBottom\n    } = this.calcCSS();\n    const borders = px(borderTopWidth) + px(borderBottomWidth);\n    const paddings = px(paddingTop) + px(paddingBottom);\n\n    return px(height) - innerSwitcher(boxSizing, [paddings, borders]);\n  }\n\n  /**\n   * @member {Number} Elem#innerWidth\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Method for finding how much width content of the first element can be.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   width: '200px',\n   *   paddingLeft: '2px',\n   *   paddingRight: '3px',\n   *   borderLeft: '1px solid black',\n   *   borderRight: '4px solid black'\n   * }).innerWidth; // 190\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .innerWidth; // 200\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .innerWidth; // 195\n   */\n  get innerWidth() {\n    const elem = this.$[0];\n\n    if (!elem) {\n      return 0;\n    }\n\n    if (isWindow(elem)) {\n      return elem.innerWidth;\n    }\n\n    const {\n      borderLeftWidth,\n      borderRightWidth,\n      boxSizing,\n      paddingLeft,\n      paddingRight,\n      width\n    } = this.calcCSS();\n    const borders = px(borderLeftWidth) + px(borderRightWidth);\n    const paddings = px(paddingLeft) + px(paddingRight);\n\n    return px(width) - innerSwitcher(boxSizing, [paddings, borders]);\n  }\n\n  /**\n   * @method Elem#insertAfter\n   * @public\n   * @param {String|Elem|Element} element - Element to insert this element after or a selector of it.\n   * @returns {Elem} Returns this.\n   * @description Puts the elements from the set after the element specified by the argument.\n   * The elements remain in the same order.\n   *\n   * @example\n   * elem.insertAfter(elem2);\n   * elem.insertAfter(document.getElementById('id'));\n   * elem.insertAfter('#id div.c1');\n   */\n  insertAfter(element) {\n    element = toFind(element).first();\n\n    let parent = element.parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    element = element.next().$[0];\n    parent = parent.$[0];\n\n    return this.forEach((elem) => {\n      if (element) {\n        parent.insertBefore(elem, element);\n\n        element = elem;\n      } else {\n        parent.appendChild(elem);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#insertBefore\n   * @public\n   * @param {String|Elem|Element} element - Element to insert this element before or a selector of it.\n   * @returns {Elem} Returns this.\n   * @description Puts the elements from the set before the element specified by the argument.\n   * The elements remain in the same order.\n   *\n   * @example\n   * elem.insertBefore(elem2);\n   * elem.insertBefore(document.getElementById('id'));\n   * elem.insertBefore('#id div.c1');\n   */\n  insertBefore(element) {\n    element = toFind(element).first();\n\n    let parent = element.parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    element = element.$[0];\n    parent = parent.$[0];\n\n    return this.forEach((elem) => {\n      parent.insertBefore(elem, element);\n    });\n  }\n\n  /**\n   * @method Elem#into\n   * @public\n   * @param {String|Elem|Element} element - Element to put this elements into or a selector of it.\n   * @returns {Elem} Returns this.\n   * @description Method is similar to\n   * [Node#appendChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/appendChild}.\n   *\n   * @example\n   * elem.into(elem2);\n   * elem.into(document.getElementById('id'));\n   * elem.into('#id div.c1');\n   */\n  into(element) {\n    element = toFind(element).$[0];\n\n    if (!element) {\n      return this;\n    }\n\n    return this.forEach((elem) => {\n      element.appendChild(elem);\n    });\n  }\n\n  /**\n   * @method Elem#is\n   * @public\n   * @param {String} selector\n   * @returns {Boolean} If the first element in the set matches the selector.\n   * If the selector is undefined or null always returns true.\n   * @description Synonym for\n   * [Element#matches]{@link https://developer.mozilla.org/en/docs/Web/API/Element/matches}.\n   *\n   * @example\n   * elem.addClass('cls');\n   * elem.is('.cls');         // true\n   *\n   * elem.removeClass('cls');\n   * elem.is('.cls');         // false\n   */\n  is(selector) {\n    if (isNull(selector)) {\n      return true;\n    }\n\n    const elem = getElem(this);\n    const matches = elem.matches ||\n      elem.matchesSelector ||\n      elem.webkitMatchesSelector ||\n      elem.mozMatchesSelector ||\n      elem.msMatchesSelector ||\n      elem.oMatchesSelector;\n\n    try {\n      return matches.call(elem, selector);\n    } catch (err) {\n      console.error(`Selector '${ selector }' is not a valid selector (Elem#is)`);\n\n      return false;\n    }\n  }\n\n  /**\n   * @method Elem#isBroken\n   * @public\n   * @returns {Boolean} If the first image in the set is broken.\n   * @description Returns if the first element in the set is broken. Not image and not loaded image is considered proper.\n   *\n   * @example\n   * const img = elem.img().on({\n   *   'load': onload,\n   *   'error': onload\n   * });\n   *\n   * onload = () => {\n   *   console.log(img.isBroken()); // true\n   * };\n   *\n   * img.ref('/some/non-existent/site/not-found.png');\n   */\n  isBroken() {\n    let isBroken = false;\n\n    this.some((elem) => {\n      if (getName(elem) === 'img') {\n        isBroken = !!(elem.complete && (!elem.naturalWidth || !elem.naturalHeight));\n\n        return true;\n      }\n    });\n\n    return isBroken;\n  }\n\n  /**\n   * @method Elem#isWithinDocument\n   * @public\n   * @returns {Boolean} Returns if the first element in the set is within the document or not.\n   * @description Returns if the first element in the set is within the document or not.\n   *\n   * @example\n   * new Elem(document.body).isWithinDocument();  // true\n   * new Elem(document).div().isWithinDocument(); // false\n   */\n  isWithinDocument() {\n    return this.first().closest('html').length !== 0;\n  }\n\n  /**\n   * @method Elem#last\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Synonym for elem.elem(-1).\n   */\n  last() {\n    return this.elem(-1);\n  }\n\n  /**\n   * @method Elem#last\n   * @public\n   * @param {String} [selector = null] - If present, finds last child in every elem that matches the selector.\n   * If not, finds last child of each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding last children of each element in the set.\n   *\n   * @example\n   * elem.last();       // finds last child of each element in the elem set\n   * elem.last('.foo'); // find last child that has 'foo' class of each element in the set\n   */\n  lastChild(selector = null) {\n    return this.object((elems, elem) => {\n      const { value: found } = new Arr(elem.children)\n        .reverse()\n        .find((elem) => new Elem(elem).is(selector)) || {};\n\n      elems.add(found);\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#load\n   * @public\n   * @returns {Promise.<{ proper: Elem, broken: Elem }>} Promise with broken and proper images.\n   * @description Loads each image in the set and puts it to the proper or broken array.\n   *\n   * @example\n   * images.load().then(({ broken }) => {\n   *   broken.filter('img').ref('/fallback.png');\n   * });\n   */\n  load() {\n    const images = {\n      proper: new Elem(),\n      broken: new Elem()\n    };\n\n    return Promise.all(\n      this\n        .filter((elem) => getName(elem) === 'img')\n        .map((elem) => {\n          const $elem = new Elem(elem);\n\n          if (elem.complete) {\n            images[$elem.isBroken() ? 'broken' : 'proper'].push(elem);\n\n            return;\n          }\n\n          return new Promise((resolve) => {\n            const removeListeners = $elem.on({\n              load() {\n                images.proper.add(elem);\n\n                removeListeners();\n                resolve();\n              },\n              error() {\n                images.broken.add(elem);\n\n                removeListeners();\n                resolve();\n              }\n            });\n          });\n        })\n        .$\n    ).then(() => images);\n  }\n\n  /**\n   * @method Elem#moveAttr\n   * @public\n   * @param {String} attr - Attribute to move to the first element.\n   * @param {String} [value = ''] - Value to set for the attribute. If not set attribute of the previous element or '' used.\n   * @returns {Elem} Returns this.\n   * @description Method for moving an attribute from previous element to the next one (first element in this set).\n   *\n   * @example\n   * elem1.moveAttr('attr', 'value');     // attribute 'attr' set to 'value' on elem1\n   * elem2.moveAttr('attr');              // attribute 'attr' removed from elem1. set to 'value' on elem2\n   * elem3.moveAttr('attr', 'new value'); // attribute 'attr' removed from elem2. set to 'new value' on elem3\n   */\n  moveAttr(attr, value = '') {\n    const prev = attrs[attr];\n    const elem = this.elem();\n\n    if (prev && elem.length) {\n      if (arguments.length < 2) {\n        value = prev.attr(attr);\n      }\n\n      prev.removeAttr(attr);\n    }\n\n    if (elem.length) {\n      attrs[attr] = elem.attr(attr, value);\n    }\n\n    return this;\n  }\n\n  /**\n   * @method Elem#moveClass\n   * @public\n   * @param {String} cls - Class to move to the first element.\n   * @returns {Elem} Returns this.\n   * @description Method for moving a class from previous element to the next one (first element in this set).\n   *\n   * @example\n   * elem1.moveClass('cls'); // class 'cls' added to elem1\n   * elem2.moveClass('cls'); // class 'cls' removed from elem1. added to elem1\n   */\n  moveClass(cls) {\n    const prev = classes[cls];\n    const elem = this.elem();\n\n    if (prev && elem.length) {\n      prev.removeClass(cls);\n    }\n\n    if (elem.length) {\n      classes[cls] = elem.addClass(cls);\n    }\n\n    return this;\n  }\n\n  /**\n   * @member Elem#name\n   * @type {String}\n   * @public\n   * @readonly\n   * @description tagName (lowercased) of the first element in the set.\n   *\n   * @example\n   * const elem1 = elem.create('div');\n   * elem1.name // 'div'\n   */\n  get name() {\n    return getName(this.$[0]);\n  }\n\n  /**\n   * @method Elem#next\n   * @public\n   * @param {String} [selector = null] - If present, finds next element to every elem that matches the selector.\n   * If not, finds next element to each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding next element to each element in the set.\n   *\n   * @example\n   * elem.next();       // finds next element to each element in the set\n   * elem.next('.foo'); // finds next element to each element that has 'foo' class\n   */\n  next(selector = null) {\n    return this.object((elems, elem) => {\n      /* eslint no-cond-assign: 0 */\n      while (elem = elem.nextElementSibling) {\n        if (isNull(selector) || new Elem(elem).is(selector)) {\n          return elems.add(elem);\n        }\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#off\n   * @public\n   * @param {...ElemEventString} events - Events to remove.\n   * @returns {Elem} Returns this.\n   * @description Method that removes all the listeners from each element in the set specified by the events arguments.\n   *\n   * @example\n   * elem.off('click');\n   * elem.off('click, input');\n   * elem.off('click, input', 'focus');\n   */\n  off(...events) {\n    return this.forEach((elem) => {\n      const { listeners } = elem.dwayneData;\n\n      iterate(arguments, (event) => {\n        iterate(event.split(eventSeparator), (event) => {\n          (listeners[event] || new Super()).forEach(({ removeListener }) => removeListener());\n        });\n      });\n    });\n  }\n\n  /**\n   * @method Elem#on\n   * @public\n   * @param {ElemEventString|Object.<ElemEventString|ElemListener>} event - Either a {@link ElemEventString} string\n   * or an object with event keys (a key is also ElemEventString) and listeners values.\n   * @param {String} [selector = null] - Selector to filter event targets.\n   * @param {ElemListener} [listener] - If the first argument is a string it must be a listener function for\n   * specified event(s).\n   * @returns {ElemRemoveListeners} Function that takes optional event argument.\n   * @description Adds event listeners for all the elements in the set.\n   * For debugging: If you need to know what listeners are in work (and what selectors filter targets)\n   * you can look at the base property of the only dwayne listener that listens for the event\n   * and find all working listeners in listener.base.dwayneData.listeners[event].$.\n   *\n   * @example\n   * elem.on(\n   *   'change, input',\n   *   'input, select, textarea, datalist, keygen, output',\n   *   (e, elem, index) => console.log(elem.value)\n   * );\n   * elem.on(\n   *   'change, input',\n   *   (e, elem, index) => console.log(elem.value)\n   * );\n   * elem.on(\n   *   {\n   *     'change, input': (e, elem, index) => console.log(elem.value),\n   *     'blur': console.log('blur')\n   *   },\n   *   'input, select, textarea, datalist, keygen, output'\n   * );\n   *\n   * const removeListeners = elem.on({\n   *   'change, input': (e, elem, index) => console.log(elem.value),\n   *   'blur': console.log('blur')\n   * });\n   *\n   * removeListeners('click');\n   * removeListeners('blur, change');\n   * removeListeners('blur, change', 'input');\n   * removeListeners();\n   */\n  on(event, selector = null, listener) {\n    const allListeners = new Super({});\n\n    if (isFunction(selector)) {\n      listener = selector;\n      selector = null;\n    }\n\n    if (isString(event)) {\n      event = { [event]: listener };\n    }\n\n    event = new Super(event).object((listeners, listener, event) => {\n      iterate(event.split(eventSeparator), (event) => {\n        listeners[event] = listener;\n      });\n    });\n\n    this.forEach((elem) => {\n      const { listeners } = (windowsDwayneData.find(({ element }) => element === elem) || {}).value || elem.dwayneData;\n\n      event.forEach((listener, event) => {\n        const removeEventListeners = listeners[event] = listeners[event] || new Super({}).define('index', {\n          value: 0,\n          configurable: true,\n          writable: true\n        });\n        const index = removeEventListeners.prop('index');\n\n        if (!removeEventListeners.has('listener')) {\n          const newListener = (e) => {\n            removeEventListeners.forEach(({ selector, listener }) => {\n              if (new Elem(e.target).is(selector)) {\n                listener.call(elem, e, elem, index);\n              }\n            });\n          };\n\n          newListener.base = elem;\n\n          elem.addEventListener(event, newListener, false);\n          removeEventListeners.define('listener', {\n            value: newListener,\n            configurable: true,\n            writable: true\n          });\n        }\n\n        const removeListener = () => {\n          removeEventListeners.delete(index);\n\n          if (!removeEventListeners.count) {\n            elem.removeEventListener(event, removeEventListeners.prop('listener'), false);\n            removeEventListeners.delete('listener');\n          }\n        };\n\n        allListeners.prop(event, (allListeners.prop(event) || new Arr()).push(removeListener));\n\n        removeEventListeners.assign({\n          index: index + 1,\n          [index]: {\n            selector,\n            listener,\n            removeListener\n          }\n        });\n      });\n    });\n\n    return function removeEventListeners(event) {\n      if (arguments.length) {\n        iterate(arguments, (event) => {\n          iterate(event.split(eventSeparator), (event) => {\n            if (allListeners.has(event)) {\n              allListeners.prop(event).forEach((removeListener) => removeListener());\n              allListeners.delete(event);\n            }\n          });\n        });\n\n        return;\n      }\n\n      allListeners.forEach((removeListeners) => {\n        removeListeners.forEach((removeListener) => removeListener());\n      });\n    };\n  }\n\n  /**\n   * @member {Number} Elem#outerWidth\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Method for finding how much height the element actually is.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   height: '200px',\n   *   paddingTop: '2px',\n   *   paddingBottom: '3px',\n   *   borderTop: '1px solid black',\n   *   borderBottom: '4px solid black'\n   *   marginTop: '0px',\n   *   marginBottom: '5px'\n   * }).outerHeight; // 205\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .outerHeight; // 215\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .outerHeight; // 210\n   */\n  get outerHeight() {\n    const elem = this.$[0];\n\n    if (!elem) {\n      return 0;\n    }\n\n    if (isWindow(elem)) {\n      return elem.outerHeight;\n    }\n\n    const {\n      borderTopWidth,\n      borderBottomWidth,\n      boxSizing,\n      height,\n      marginTop,\n      marginBottom,\n      paddingTop,\n      paddingBottom\n    } = this.calcCSS();\n    const borders = px(borderTopWidth) + px(borderBottomWidth);\n    const paddings = px(paddingTop) + px(paddingBottom);\n\n    return px(height) + px(marginTop) + px(marginBottom) + outerSwitcher(boxSizing, [borders, paddings]);\n  }\n\n  /**\n   * @member {Number} Elem#outerWidth\n   * @type {Number}\n   * @public\n   * @readonly\n   * @description Method for finding how much width the element actually is.\n   *\n   * @example\n   * elem.css({\n   *   boxSizing: 'border-box',\n   *   width: '200px',\n   *   paddingLeft: '2px',\n   *   paddingRight: '3px',\n   *   borderLeft: '1px solid black',\n   *   borderRight: '4px solid black'\n   *   marginLeft: '0px',\n   *   marginRight: '5px'\n   * }).outerWidth; // 205\n   * elem\n   *   .css('box-sizing', 'content-box')\n   *   .outerWidth; // 215\n   * elem\n   *   .css('box-sizing', 'padding-box')\n   *   .outerWidth; // 210\n   */\n  get outerWidth() {\n    const elem = this.$[0];\n\n    if (!elem) {\n      return 0;\n    }\n\n    if (isWindow(elem)) {\n      return elem.outerWidth;\n    }\n\n    const {\n      borderLeftWidth,\n      borderRightWidth,\n      boxSizing,\n      marginLeft,\n      marginRight,\n      paddingLeft,\n      paddingRight,\n      width\n    } = this.calcCSS();\n    const borders = px(borderLeftWidth) + px(borderRightWidth);\n    const paddings = px(paddingLeft) + px(paddingRight);\n\n    return px(width) + px(marginLeft) + px(marginRight) + outerSwitcher(boxSizing, [borders, paddings]);\n  }\n\n  /**\n   * @method Elem#parent\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Method returns wrap of the set of the parent elements of each element in the set.\n   */\n  parent() {\n    return this.object((elems, elem) => elems.add(elem.parentElement), new Elem());\n  }\n\n  /**\n   * @method Elem#parentTree\n   * @public\n   * @returns {Elem} New instance of Elem.\n   * @description Returns wrap of all parents of each element in the set.\n   *\n   * @example\n   * elem.parentTree(); // Elem\n   */\n  parentTree() {\n    return this.object((elems, elem) => {\n      while (elem = elem.parentNode) {\n        elems.add(elem);\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#prev\n   * @public\n   * @param {String} [selector = null] - If present, finds previous element to every elem that matches the selector.\n   * If not, finds previous element to each element in the set.\n   * @returns {Elem} New instance of Elem.\n   * @description Method for finding previous element to each element in the set.\n   *\n   * @example\n   * elem.next();       // finds previous element to each element in the set\n   * elem.next('.foo'); // finds previous element to each element that has 'foo' class\n   */\n  prev(selector = null) {\n    return this.object((elems, elem) => {\n      /* eslint no-cond-assign: 0 */\n      while (elem = elem.previousElementSibling) {\n        if (isNull(selector) || new Elem(elem).is(selector)) {\n          return elems.add(elem);\n        }\n      }\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#prop\n   * @public\n   * @param {String|Object.<String, ElemValueCallback|*>} property - Either a string of a property or an assigned object.\n   * @param {ElemValueCallback|*} [value] - If a property parameter is a string\n   * this has to be an assigned value if it's present.\n   * @returns {Elem|*} Returns this if it's setter or a value if getter.\n   * @description Method that is either a property getter for the first element in the set\n   * or a setter for every element in the set.\n   *\n   * @example\n   * elem.prop('draggable', false);\n   * elem.prop('draggable'); // false\n   */\n  prop(property, value) {\n    if (arguments.length <= 1 && isString(property)) {\n      return this.$[0] ? this.$[0][property] : undefined;\n    }\n\n    if (arguments.length >= 2) {\n      property = { [property]: value };\n    }\n\n    return this.forEach((elem, index) => {\n      iterate(property, (value, prop) => {\n        elem[prop] = isFunction(value) ? value(elem[prop], elem, index) : value;\n      });\n    });\n  }\n\n  /**\n   * @method Elem#ref\n   * @public\n   * @param {String|ElemValueCallback} [link] - If it's present link to a resource.\n   * @returns {Elem|String} If the link argument isn't present it's a getter of the 'src' attribute\n   * for the one of following elements: img, script, iframe, audio, video; of the 'action' attribute\n   * for a form element and of the 'href' attribute for the rest. If it's present it's a setter\n   * of the same attribute for all the element in the set.\n   * @description Method for getting resources links and setting them.\n   *\n   * @example\n   * elem.ref('/some/cool/image.png');\n   * elem.ref(); // '/some/cool/image.png'\n   */\n  ref(link) {\n    if (!arguments.length) {\n      return this.attr(refSwitcher(this.name));\n    }\n\n    return this.forEach((elem) => {\n      elem = new Elem(elem);\n\n      elem.attr(refSwitcher(elem.name), link);\n    });\n  }\n\n  /**\n   * @method Elem#remove\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Removes all the elements from the set from the document.\n   * Note: it doesn't remove them from the set so watch out for the memory leaks.\n   *\n   * @example\n   * elem.remove();\n   */\n  remove() {\n    return this.forEach((elem) => {\n      const parent = elem.parentElement;\n\n      if (parent) {\n        parent.removeChild(elem);\n      }\n    });\n  }\n\n  /**\n   * @method Elem@removeAttr\n   * @public\n   * @param {...String} attributes - Attributes to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the attributes from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeAttr('foo', 'bar', 'baz');\n   */\n  removeAttr(...attributes) {\n    return this.forEach((elem) => {\n      iterate(arguments, (attr) => {\n        elem.removeAttribute(attr);\n      });\n    });\n  }\n\n  /**\n   * @method Elem#removeClass\n   * @public\n   * @param {...String} classes - Classes to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the classes from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeClass('foo', 'bar', 'baz');\n   */\n  removeClass(...classes) {\n    return this.forEach((elem) => {\n      const list = elem.classList;\n\n      iterate(arguments, (cls) => list.remove(cls));\n    });\n  }\n\n  /**\n   * @method Elem#removeCSS\n   * @public\n   * @param {...String} props - CSS properties to remove.\n   * @returns {Elem} Returns this.\n   * @description Removes all the CSS properties from arguments from all the elements in the set.\n   *\n   * @example\n   * elem.removeCSS('display', 'position', 'margin');\n   */\n  removeCSS(...props) {\n    return this.forEach((elem) => {\n      iterate(arguments, (css) => {\n        elem.style.removeProperty(css);\n      });\n    });\n  }\n\n  /**\n   * @method Elem#replace\n   * @public\n   * @param {String|Elem|Element} element - Element to replace the first element in the set\n   * with a set of elements specified by the argument (Element, set of elements or a selector of them).\n   * @returns {Elem} Returns this.\n   * @description Method is similar to\n   * [Node#replaceChild]{@link https://developer.mozilla.org/en/docs/Web/API/Node/replaceChild}.\n   *\n   * @example\n   * elem.replace(elem2);\n   * elem.replace(document.getElementById('id'));\n   * elem.replace('#id div.c1');\n   */\n  replace(element) {\n    element = toFind(element);\n\n    const parent = this.first().parent();\n\n    if (!parent.length) {\n      return this;\n    }\n\n    let elem = parent;\n    let method = 'into';\n    const next = this.next().first().$[0];\n    const prev = this.prev().first().$[0];\n\n    if (next) {\n      elem = next;\n      method = 'insertBefore';\n    } else if (prev) {\n      elem = prev;\n      method = 'insertAfter';\n    }\n\n    this.first().remove();\n\n    element[method](elem);\n  }\n\n  /**\n   * @method Elem#setOf\n   * @public\n   * @param {String} type - HTML element type.\n   * @param {Number|Object|*[]} iterator - A number (how many elements to create inside each element),\n   * an object or an array to iterate over.\n   * @param {ElemSetOfCallback} callback\n   * @returns {Elem} New instance of Elem.\n   * @description Function for creating set of elements inside each element in the set based on an array or an object.\n   *\n   * @example\n   * table.setOf('tr', [[1, 2], [3, 4], [5, 6]], (row, array) => {\n   *   D(row).setOf('td', array, (col, number) => {\n   *     D(col).text(number);\n   *   });\n   * });\n   */\n  setOf(type, iterator, callback) {\n    validate({ 2: callback }, { 2: ['function'] }, 'Elem#setOf');\n\n    iterator = new Super(iterator).$;\n\n    if (isNumber(iterator)) {\n      try {\n        validate({ 1: iterator }, { 1: ['intLike', '>=0'] }, 'Elem#setOf');\n      } catch (e) {\n        throw new Error('2nd argument must be either or non-negative integer, or object! (at Elem#setOf)');\n      }\n\n      iterator = array(iterator).$;\n    }\n\n    return this.object((elems, elem, index) => {\n      iterate(iterator, (value, key) => {\n        const created = new Elem(elem).create(type);\n\n        callback(created.$[0], value, key, iterator, elem, index);\n\n        elems.add(created);\n      });\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#show\n   * @public\n   * @returns {Elem} Returns this.\n   * @description Shows all elements in the set.\n   * If an element was hidden using {@link Elem#hide} previous display is set.\n   *\n   * @example\n   * elem.show();\n   */\n  show() {\n    return this.forEach((elem) => {\n      const { dwayneData } = elem;\n\n      elem = new Elem(elem);\n\n      if (elem.css('display').indexOf('none') === 0) {\n        elem.css('display', dwayneData.previousDisplay);\n      }\n\n      dwayneData.previousDisplay = '';\n    });\n  }\n\n  /**\n   * @method Elem#text\n   * @public\n   * @param {String|ElemValueCallback|*} [text] - Text to write instead of current text.\n   * @returns {Elem|String} If no arguments passed text of the first element in the set returned.\n   * Otherwise all elements texts in the set are set to the text argument.\n   * @description Gets or sets text.\n   *\n   * @example\n   * elem.text('123');\n   * elem.text(); // '123'\n   */\n  text(text) {\n    if (!arguments.length) {\n      return this.prop(textProperty);\n    }\n\n    return this.forEach((elem, index) => {\n      const txt = elem[textProperty];\n\n      new Elem(elem)\n        .html('')\n        .addText(\n          isFunction(text)\n            ? text(txt, elem, index)\n            : text\n        );\n    });\n  }\n\n  /**\n   * @method Elem#toggleAttr\n   * @public\n   * @param {String} attr - Attribute to toggle.\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the attribute\n   * with the '' value and if falsey method removes the attribute. If not present method adds\n   * the attribute if it doesn't exist and removes if it does.\n   * @returns {Elem} Returns this.\n   * @description Method for toggling attributes.\n   *\n   * @example\n   * elem.toggleAttr('attr');\n   * elem.toggleAttr('attr', someCondition);\n   */\n  toggleAttr(attr, condition) {\n    return this.forEach((elem) => {\n      elem = new Elem(elem);\n\n      if (arguments.length < 2 ? !elem.hasAttr(attr) : condition) {\n        elem.attr(attr, '');\n      } else {\n        elem.removeAttr(attr);\n      }\n    });\n  }\n\n  /**\n   * @method Elem#toggleAttr\n   * @public\n   * @param {String} cls - Class to toggle.\n   * @param {Boolean|*} [condition] - If present and the condition is truthy method adds the class\n   * and if falsey method removes the class. If not present method adds\n   * the class if it doesn't exist and removes if it does.\n   * @returns {Elem} Returns this.\n   * @description Method for toggling classes.\n   *\n   * @example\n   * elem.toggleClass('cls');\n   * elem.toggleClass('cls', someCondition);\n   */\n  toggleClass(cls, condition) {\n    return (arguments.length < 2 ? !this.hasClass(cls) : condition)\n      ? this.addClass(cls)\n      : this.removeClass(cls);\n  }\n\n  get toStringTag() {\n    return toStringTag(this.$$);\n  }\n\n  /**\n   * @method Elem#up\n   * @param {Integer} [level = 1] - What level up along the tree should be the parent.\n   * @returns {Elem} New instance of Elem.\n   * @description Creates a collection of parents of level &lt;level&gt;.\n   *\n   * @example\n   * elem.up();\n   * elem.up(2);\n   */\n  up(level = 1) {\n    validate([level], [['intLike', '>=0']], 'Elem#up');\n\n    level = Number(level);\n\n    return this.object((elems, elem) => {\n      let n = level;\n\n      while (n-- && elem) {\n        elem = elem.parentElement;\n      }\n\n      elems.add(elem);\n    }, new Elem());\n  }\n\n  /**\n   * @method Elem#validate\n   * @public\n   * @param {ValidateCallback} [validator] - If present, function that validates inputs.\n   * @returns {Elem|Object.<String, Error|*>|{ form: Error?, inputs: <Object.<String, Error>>|null }|null}\n   * If a callback argument provided returns this. If no arguments provided returns either an object\n   * with input names keys and errors values or null if no errors found.\n   * @description If a callback argument provided adds it to the element validators list.\n   * If no arguments provided validates every input element in the set with its own functions.\n   * If an element is a form it validates all input elements inside it. After the validation\n   * fires 'validate' event with 'valid' and 'error' (if form it's errors) properties.\n   *\n   * @example\n   * form.on('input change', 'input', (value, input) => {\n   *   const $input = D(input);\n   *\n   *   if (Number(value) %3) {\n   *     $input.attr('invalid', '');\n   *\n   *     throw new Error('The value should be divided by 3!');\n   *   }\n   *\n   *   $input.removeAttr('invalid');\n   * });\n   */\n  validate(validator) {\n    validate([validator], ['function||!'], 'Elem#validate');\n\n    if (validator) {\n      return this.forEach(({ dwayneData }) => {\n        dwayneData.validators.push(validator);\n      });\n    }\n\n    const errors = new Super({ errors: null });\n\n    this\n      .filter(`${ inputElements }, form`)\n      .forEach((elem, index) => {\n        if (getName(elem) === 'form') {\n          let formErrors = { errors: null };\n          const form = new Elem(elem);\n          const inputs = form.find(inputElements);\n\n          inputs.forEach((input, index) => {\n            validatorWrap(input, index, formErrors);\n          });\n\n          errors.deepAssign(formErrors);\n\n          formErrors = formErrors.errors;\n\n          form.dispatch('validate', {}, {\n            valid: !formErrors,\n            errors: formErrors\n          });\n\n          return inputs.forEach((input) => {\n            const inputError = (formErrors || {})[input.name];\n\n            new Elem(input).dispatch('validate', {}, {\n              valid: !inputError,\n              error: inputError || null\n            });\n          });\n        }\n\n        let inputError = { errors: null };\n\n        validatorWrap(elem, index, inputError);\n        errors.deepAssign(inputError);\n\n        inputError = (inputError.errors || {})[elem.name];\n\n        new Elem(elem).dispatch('validate', {}, {\n          valid: !inputError,\n          error: inputError || null\n        });\n      });\n\n    function validatorWrap(input, index, errors) {\n      try {\n        if (input.validity && !input.validity.valid) {\n          throw new Error(input.validationMessage);\n        }\n\n        input.dwayneData.validators.forEach((validator) => {\n          validator(input.value, input, index);\n        });\n      } catch (err) {\n        (errors.errors = errors.errors || {})[input.name] = err;\n      }\n    }\n\n    if (errors.every((error) => isNull(error))) {\n      return null;\n    }\n\n    return errors.$.errors;\n  }\n\n  /**\n   * @method Elem#width\n   * @public\n   * @param {*|ElemValueCallback} [width] - Width to set.\n   * @returns {Elem|String} If no arguments passed width of the first element in the set returned.\n   * Otherwise all elements widths in the set are set to the width argument.\n   * @description Gets or sets width.\n   *\n   * @example\n   * elem.width(123);\n   * elem.width(); // 123\n   */\n  width(width) {\n    return this.prop.apply(this, new Arr(arguments).unshift('width').$);\n  }\n}\n\ndefineProperties(Elem.prototype, {\n  [Symbol.toStringTag]: 'Elem'\n});\n\n/**\n * @const {Elem} win\n * @type {Elem}\n * @public\n * @description Elem instance of window.\n */\nexport const win = new Elem(global);\n\n/**\n * @const {Elem} doc\n * @type {Elem}\n * @public\n * @description Elem instance of document.\n */\nexport const doc = new Elem(nativeDocument);\n\n/**\n * @const {Elem} html\n * @type {Elem}\n * @public\n * @description Elem instance of document.documentElement.\n */\nexport const html = new Elem(nativeDocument.documentElement);\n\n/**\n * @const {Elem} body\n * @type {Elem}\n * @public\n * @description Elem instance of document.body.\n */\nexport const body = new Elem(nativeDocument.body);\n\n/**\n * @const {Elem} head\n * @type {Elem}\n * @public\n * @description Elem instance of document.head.\n */\nexport const head = new Elem(nativeDocument.head);\n\ndynamicDefineProperties(Elem.prototype, elements, (elem) => function () {\n  return this.create.apply(this, new Arr(arguments).unshift(elem).$);\n});\n\ndynamicDefineProperties(Elem.prototype, canvasGetMethods, (method) => function () {\n  const ctx = this.ctx();\n\n  if (ctx) {\n    return ctx[method].apply(ctx, arguments);\n  }\n});\n\ndynamicDefineProperties(Elem.prototype, canvasRestMethods, (method) => function () {\n  const ctx = this.ctx();\n\n  if (ctx) {\n    ctx[method].apply(ctx, arguments);\n  }\n\n  return this;\n});\n\n/**\n * @function toFind\n * @private\n * @param {Element|Elem|String} elem - Element, selector of Elements or Elem.\n * @returns {Elem} Instance of Elem.\n */\nfunction toFind(elem) {\n  if (isString(elem)) {\n    elem = find(elem);\n  }\n\n  return new Elem(elem);\n}\n\n/**\n * @function isElem\n * @private\n * @param {*} value - Value to check if it's Elem.\n * @returns {Boolean} If the value is Elem.\n * @description Returns if the value is Elem or not.\n */\nfunction isElem(value) {\n  return value instanceof Elem;\n}\n\n/**\n * @function isWindow\n * @private\n * @param {*} value - Value to check if it's Window.\n * @returns {Boolean} If the value is Window.\n * @description Returns if the value is Window or not.\n */\nfunction isWindow(value) {\n  return toStringTag(value) === 'Window';\n}\n\n/**\n * @function isHTMLDocument\n * @private\n * @param {*} value - Value to check if it's HTMLDocument.\n * @returns {Boolean} If the value is HTMLDocument.\n * @description Returns if the value is HTMLDocument or not.\n */\nfunction isHTMLDocument(value) {\n  return toStringTag(value) === 'HTMLDocument';\n}\n\n/**\n * @function getElem\n * @private\n * @param {Elem} elem - Element to check.\n * @returns {Element} The argument or a fallback if needed.\n */\nfunction getElem(elem) {\n  return elem.$[0] || emptyDiv;\n}\n\n/**\n * @function getName\n * @private\n * @param {Element} [elem] - Element which name is needed to know.\n * @returns {String} Elements name\n */\nfunction getName(elem) {\n  return (elem && elem.tagName && elem.tagName.toLowerCase()) || '';\n}\n\n/**\n * @function addDwayneData\n * @private\n * @param {Element} elem - Element to add dwayneData to.\n * @returns {void}\n */\nfunction addDwayneData(elem) {\n  if (!{}.hasOwnProperty.call(elem, 'dwayneData') && !isWindow(elem)) {\n    /**\n     * @member Element#dwayneData\n     * @type {Object}\n     * @protected\n     * @property {String} previousDisplay - Parameter used for hiding/showing elements.\n     * @property {Object.<String, Super>} removeListeners - Parameter used for remove event listeners.\n     * @property {CanvasRenderingContext2D} [ctx] - Canvas rendering context.\n     * @property {Arr} validators - Validators assigned to element.\n     * @description D data.\n     */\n    Object.defineProperty(elem, 'dwayneData', {\n      value: {\n        previousDisplay: '',\n        listeners: {},\n        ctx: getName(elem) === 'canvas' && elem.getContext('2d'),\n        validators: new Arr([])\n      }\n    });\n  } else if (!windowsDwayneData.some(({ element }) => element === elem)) {\n    windowsDwayneData.push({\n      element: elem,\n      listeners: {}\n    });\n  }\n}\n\nconstructors[2].push({\n  check: (elem) => (\n    isElement(elem) ||\n    isWindow(elem) ||\n    isHTMLDocument(elem) ||\n    /^(HTMLCollection|NodeList)$/.test(toStringTag(elem))\n  ),\n  cls: Elem\n});\n\n/**\n * @function find\n * @public\n * @param {String} selector - Selector to find.\n * @param {Element} [base = document] - Base to find in.\n * @returns {Elem} New instance of Elem.\n * @description Synonym for\n * [Document#querySelectorAll]{@link https://developer.mozilla.org/en/docs/Web/API/Document/querySelectorAll}.\n */\nexport function find(selector, base = nativeDocument) {\n  return new Elem(base.querySelectorAll(String(selector)));\n}\n\n/**\n * @function parseHTML\n * @public\n * @param {String} html - HTML to parse.\n * @returns {Elem} New instance of Elem.\n * @description Parses HTML and returns the contents.\n *\n * @example\n * parseHTML('&lt;div&gt;123&lt;/div&gt;'); // Elem\n */\nexport function parseHTML(html) {\n  return doc\n    .div()\n    .html(html)\n    .children();\n}\n\n/**\n * @function px\n * @public\n * @param {String|Number} size - String containing pixels value or a number.\n * @returns {Number} Number of pixels.\n * @description Function for parsing pixel strings.\n *\n * @example\n * px('0px');  // 0\n * px('42px'); // 42\n */\nexport function px(size) {\n  return Number(String(size).replace(/px$/, ''));\n}\n\nexport default Elem;\n","/**\n * @module helpers/resolveURL\n * @private\n * @description Exports Object.assign-like method.\n */\n\nimport Str from '../Str';\n\nconst { location } = global;\n\nexport default (decodeQuery) => {\n  const {\n    search: query,\n    hash\n  } = location;\n  const params = {\n    query: {},\n    hash: hash.replace(/^#/, '')\n  };\n\n  if (!query) {\n    return params;\n  }\n\n  new Str(query.replace(/^\\?/, ''))\n    .split('&')\n    .forEach((rawParam) => {\n      let [param, value = ''] = rawParam.split('=');\n\n      param = decodeQuery ? decodeURIComponent(param) : param;\n      value = decodeQuery ? decodeURIComponent(value) : value;\n\n      if (!/^[^\\[]+/.test(param)) {\n        return;\n      }\n\n      let paramName;\n      let paramObject = params.query;\n\n      new Str(param)\n        .match(/^[^\\[\\]]*|\\[[^\\[\\]]*\\]/g)\n        .forEach((name) => {\n          if (name.indexOf('[')) {\n            paramName = name;\n\n            return;\n          }\n\n          name = name.slice(1, -1);\n\n          paramObject = paramObject[paramName] = paramObject[paramName] || (name ? {} : []);\n          paramName = name || paramObject.length;\n        });\n\n      paramObject[paramName] = value;\n    });\n\n  return params;\n};\n","/**\n * @module Router\n * @private\n * @mixin\n * @description Exports Router class.\n */\n\nimport Arr from './Arr';\nimport Elem, { find, win } from './Elem';\nimport Func, { prop } from './Func';\nimport Promise from './Promise';\nimport Str from './Str';\nimport Super from './Super';\nimport { switcher } from './Switcher';\nimport {\n  isArray, isFunction, isNull, isNullOrUndefined, isRegExp, isString,\n  assign, iterate, defineProperties\n} from './helpers';\nimport constructURL from './helpers/constructURL';\nimport resolveURL from './helpers/resolveURL';\n\n/**\n * @typedef {Object} URLOptions\n * @public\n * @property {Object} [params = {}] - URL params.\n * @property {Object} [query = {}] - Query params.\n * @property {String} [hash = ''] - Hash.\n */\n\n/**\n * @event Router#event\n * @public\n * @description Router event.\n */\n\n/**\n * @method Router#event#pause\n * @public\n * @description Method that pauses the event propagation. Only {@link Router#event:beforeLeave} and\n * {@link Router#event:beforeLoad} can be paused.\n *\n * @example\n * event.pause();\n */\n\n/**\n * @method Router#event#continue\n * @public\n * @description Method that continues the event propagation. Only {@link Router#event:beforeLeave} and\n * {@link Router#event:beforeLoad} can be paused therefore continued.\n *\n * @example\n * event.continue();\n */\n\n/**\n * @method Router#event#stop\n * @public\n * @description Method that stops the event propagation. Only {@link Router#event:beforeLeave} and\n * {@link Router#event:beforeLoad} can be stopped.\n *\n * @example\n * event.stop();\n */\n\n/**\n * @method Router#event#go\n * @public\n * @description Method that prevents Router from loading the default state forcing the page\n * going directly to another URL.\n *\n * @example\n * event.go('/login');\n */\n\n/**\n * @method Router#event#redirectTo\n * @public\n * @description Method that prevents Router from loading the default state forcing the page\n * going directly to another URL.\n *\n * @example\n * event.go('/login');\n */\n\n/**\n * @event Router#event:init\n * @public\n * @property {String} type - 'init' string.\n * @description Router init event. Is fired on Router once after Router.init has been called\n * and Router initialization. It cannot be [paused]{@link Router#event#pause}\n * or [stopped]{@link Router#event#stop}.\n */\n\n/**\n * @event Router#event:beforeLeave\n * @public\n * @property {String} type - 'beforeLeave' string.\n * @property {Router} state - Initial state.\n * @property {String} toURL - URL the redirect goes to.\n * @description Router beforeLeave event. Is fired when an attempt to leave the state happened\n * (or it bubbled to the parent state). It can be [paused]{@link Router#event#pause}\n * and [stopped]{@link Router#event#stop}.\n */\n\n/**\n * @event Router#event:leave\n * @public\n * @property {String} type - 'leave' string.\n * @property {Router} state - Initial state.\n * @property {String} toURL - URL the redirect goes to.\n * @description Router leave event. Is fired right after {@link Router#event:beforeLeave} has been fired.\n * It cannot be [paused]{@link Router#event#pause} or [stopped]{@link Router#event#stop}.\n */\n\n/**\n * @event Router#event:reload\n * @public\n * @property {String} type - 'reload' string.\n * @description Router reload event. Is fired only on Router during {@link reload} is called.\n */\n\n/**\n * @event Router#event:beforeLoad\n * @public\n * @property {String} type - 'beforeLoad' string.\n * @property {Router} state - Eventual state.\n * @description Router beforeLoad event. Is fired when the URL has been already changed after\n * {@link Router#event:leave} has been fired, after the only {@link Router#event:init}\n * has been fired and after browser back or forward buttons has been pressed.\n * It can be [paused]{@link Router#event#pause} and [stopped]{@link Router#event#stop}\n * preventing the state from loading and causing going to the next matched state.\n * Is fired from the Router state down to the loading state.\n */\n\n/**\n * @event Router#event:load\n * @public\n * @property {String} type - 'leave' string.\n * @property {Router} state - Eventual state.\n * @description Router load event. Is fired right after {@link Router#event:beforeLoad} has been fired.\n * It cannot be [paused]{@link Router#event#pause} or [stopped]{@link Router#event#stop}.\n * Is fired from the Router state down to the loading state.\n */\n\n/**\n * @event Router#event:render\n * @public\n * @property {String} type - 'render' string.\n * @property {Router} state - Eventual state.\n * @property {Router} renderingState - Constructor of current rendering state.\n * @description Router load event. Is fired right after {@link Router#event:beforeLoad} has been fired.\n * It cannot be [paused]{@link Router#event#pause} or [stopped]{@link Router#event#stop}.\n * In order to render the state there should be an element with the \"dwayne-router-state\" attribute\n * set to the state name. States are rendered from the Router down to the current state.\n */\n\n/**\n * @callback RouterListener\n * @public\n * @param {Router#event} e - Fired event.\n */\n\n/**\n * @callback RouterRemoveListeners\n * @public\n * @param {String} [event] - If not specified all listeners are removed.\n * Otherwise only specified by the name are to be removed.\n */\n\nconst extendLink = 'https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes#Sub_classing_with_extends';\nconst stateAttrName = 'dwayne-router-state';\nconst isPrototypeOf = {}.isPrototypeOf;\nconst {\n  history,\n  location,\n  location: {\n    origin,\n    href\n  }\n} = global;\nconst stoppable = new Arr(['beforeLeave', 'beforeLoad']);\nconst states = new Arr([]);\nconst pathSwitcher = switcher('call', () => {\n  throw new Error('State path must be a string, a regular expression or undefined! (at registerState)');\n})\n  .case(isRegExp, (path) => ({\n    path: path.source.replace(/\\\\\\//g, '/'),\n    url: path,\n    params: {}\n  }))\n  .case(isNullOrUndefined, () => ({\n    path: '/',\n    url: '/',\n    params: {}\n  }))\n  .case(isString, (path) => {\n    if (path.indexOf('/')) {\n      throw new Error('If state path is a string it must start with \"/\"! (at registerState)');\n    }\n\n    const index = path.indexOf('?');\n    const params = new Super({});\n    let newURL = '';\n    const newPath = new Str(path)\n      .slice(0, index === -1 ? path.length : index)\n      .replace(/^\\/|\\/$/g)\n      .split(/\\//)\n      .map((part, i, array) => {\n        if (!part && array.length > 1) {\n          throw new Error('If state path is a string it must not contain \"//\" or end with \"/\"! (at registerState)');\n        }\n\n        const index = part.indexOf(':');\n\n        if (index > 0) {\n          throw new Error('If state path is a string resource part must be either a string or an URL parameter! (at registerState)');\n        }\n\n        if (index === -1) {\n          return {\n            url: part,\n            value: part\n          };\n        }\n\n        const {\n          name,\n          regexp = /[^\\/]*/\n        } = resolveParameter(\n          part.slice(1),\n          'URL parameter must not be an empty string or contain characters besides \"a-zA-Z_$\"! (at registerState)',\n          'URL parameter regexp validator must be within parentheses (e.g. :userId(\\\\d+) and not contain ones)! (at registerState)'\n        );\n\n        params.$[name] = params.count;\n\n        return {\n          type: 'param',\n          url: `:${ name }`,\n          value: regexp\n        };\n      })\n      .word(({ type, url, value }) => {\n        let newPath;\n\n        if (type === 'param') {\n          newPath = `(${ value.source.replace(/\\\\\\//g, '/') })`;\n        } else {\n          newPath = new Str(value).escapeRegExp().$;\n        }\n\n        newURL += `/${ url }`;\n\n        return `/${ newPath }`;\n      });\n\n    return {\n      path: newPath,\n      url: newURL,\n      params: params.$\n    };\n  });\nconst selectorMatchesSwitcher = switcher('call', (selector) => (name) => name === selector)\n  .case(isNull, (selector) => (name) => true)\n  .case(isRegExp, (selector) => (name) => selector.test(name))\n  .case(isArray, (selector) => (name) => selector.indexOf(name) !== -1);\n\nlet eventPromise = Promise.resolve();\nlet pushed;\nlet initialized;\nlet routerLoaded;\nlet router;\nlet pageTitle;\nlet pageIcon;\nlet defaultState;\nlet currentState;\nlet currentTitle;\nlet currentIcon;\nlet initTitle;\nlet initIcon;\nlet initHTML;\n\n/**\n * @class Router\n * @public\n * @param {Object} props - Always pass props to the super constructor from the Router subclasses.\n * @returns {Router} New instance of Router state.\n * @description Wrap of an array.\n *\n * @example\n * Class for routing the app. It uses [History API]{@link https://developer.mozilla.org/en/docs/Web/API/History_API}.\n * You can redirect and go to parts of your app not reloading the page (changing the URL).\n * URLs and queries can be validates. There can hooks (such as {@link Router#event:beforeLoad},\n * {@link Router#event:load}, {@link Router#event:beforeLeave}, {@link Router#event:leave}\n * and {@link Router#event:render}). Don't try to call new <YourState>() or new Router().\n * All following examples contain proposed syntax for class properties.\n */\nexport class Router {\n  /**\n   * @member {Object} Router.$$\n   * @type {Object}\n   * @protected\n   * @property {Object} listeners - State listeners.\n   * @property {Arr} [states] - All states. Only Router has this property.\n   * @property {Router} [state] - Current state. Only Router has this property.\n   * @description Config object.\n   */\n  static $$ = {\n    listeners: {},\n    state: null,\n    states\n  };\n\n  /**\n   * @member {Router} Router.parent\n   * @type {Router}\n   * @protected\n   * @description Parent state.\n   */\n  static parent = null;\n\n  /**\n   * @member {Arr} Router.children\n   * @type {Arr}\n   * @protected\n   * @description Children states.\n   */\n  static children = new Arr([]);\n\n  /**\n   * @member {RegExp} Router.validatePath\n   * @type {RegExp}\n   * @protected\n   * @description Regexp to validate the URL. Created during the router initialization.\n   */\n  static validatePath = /^\\/$/;\n\n  /**\n   * @member {String} Router.url\n   * @type {String}\n   * @protected\n   * @description State matching URL. Generated during the router initialization.\n   */\n  static url = '/';\n\n  /**\n   * @member {String} Router.relativePath\n   * @type {String}\n   * @protected\n   * @description State matching relative path. Generated during the state registration.\n   */\n  static relativePath = '/';\n\n  /**\n   * @member {String|RegExp} Router.relativeURL\n   * @type {String|RegExp}\n   * @protected\n   * @description State matching relative URL. Generated during the state registration.\n   */\n  static relativeURL = '/';\n\n  /**\n   * @member {Object} Router.params\n   * @type {Object}\n   * @protected\n   * @description State URL params. Generated during the state registration.\n   */\n  static params = {};\n\n  /**\n   * @member {Object} Router.query\n   * @type {Object}\n   * @protected\n   * @description State query params. Generated during the state registration.\n   */\n  static query = {};\n\n  /**\n   * @member {Super} Router.elems\n   * @type {Super}\n   * @protected\n   * @description State elements selectors. Generated during the state registration.\n   */\n  static elems = new Super({});\n\n  /**\n   * @member {Boolean} Router.abstract\n   * @type {Boolean}\n   * @public\n   * @description If the states should be abstract or not. Abstract state cannot be current state.\n   * This field is not required and defaults to false.\n   */\n  static abstract = false;\n\n  /**\n   * @member {String} Router.stateName\n   * @type {String}\n   * @public\n   * @description A unique name bound to state. Required.\n   */\n  static stateName = null;\n\n  /**\n   * @member {String|RegExp} Router.path\n   * @type {String|RegExp}\n   * @public\n   * @description State path relative to the parent state. Must begin with \"/\" if present.\n   * Not required and defaults to \"/\".\n   */\n  static path = '/';\n\n  /**\n   * @member {String|Function} Router.template\n   * @type {String|Function}\n   * @public\n   * @description State template. Can be either a static string template\n   * or a generated function from your javascript templates provider.\n   * Not required and defaults to \"\".\n   */\n  static template = '';\n\n  /**\n   * @member {Object} Router.templateParams\n   * @type {Object}\n   * @public\n   * @description State template params (for javascript templates).\n   * During the Router initialization are inherited from the parent state template params.\n   * Not required and defaults to {}.\n   */\n  static templateParams = {};\n\n  /**\n   * @member {Object} Router.elements\n   * @type {Object}\n   * @public\n   * @description State view elements selectors. Before rendering these elements are\n   * found within the rendering state.\n   *\n   * @example\n   * class MyState extends Router {\n   *   static stateName = 'myState';\n   *   static elements = {\n   *     caption: '.caption',\n   *     form: {\n   *       $: '.form',\n   *\n   *       emailInput: 'input[type=\"email\"]',\n   *       passwordInput: 'input[type=\"password\"]'\n   *     },\n   *     container: {\n   *       $: '.container',\n   *\n   *       nestedContainer: {\n   *         $: '.nested-container',\n   *\n   *         content: '.content'\n   *       }\n   *     }\n   *   };\n   *\n   *   onRender() {\n   *     console.log(this.caption); // instance of Elem\n   *     console.log(this.form);    // instance of Elem\n   *     console.log(this.content); // instance of Elem\n   *\n   *     // etc\n   *   }\n   * }\n   *\n   * // this is an equivalent to\n   *\n   * class MyState extends Router {\n   *   static stateName = 'myState';\n   *\n   *   onRender() {\n   *     const { base } = this;\n   *\n   *     this.caption         = base.find('.caption');\n   *     this.form            = base.find('.form');\n   *     this.emailInput      = base.find('.form input[type=\"email\"]');\n   *     this.passwordInput   = base.find('.form input[type=\"password\"]');\n   *     this.container       = base.find('.container');\n   *     this.nestedContainer = base.find('.container .nested-container');\n   *     this.content         = base.find('.container .nested-container .content');\n   *\n   *     // your usual onRender code goes here\n   *   }\n   * }\n   */\n  static elements = {};\n\n  /**\n   * @member {Boolean} Router.encodeParams\n   * @type {Boolean}\n   * @public\n   * @description If the URL params should be encoded during the URL building (see {@link Router.buildURL}).\n   * Not required and inherited from the parent state. Router default value is true.\n   */\n  static encodeParams = true;\n\n  /**\n   * @member {Boolean} Router.decodeParams\n   * @type {Boolean}\n   * @public\n   * @description If the URL params should be decoded during the state initialization.\n   * Not required and inherited from the parent state. Router default value is true.\n   */\n  static decodeParams = true;\n\n  /**\n   * @member {Boolean} Router.encodeQuery\n   * @type {Boolean}\n   * @public\n   * @description If the query params should be encoded during the URL building (see {@link Router.buildURL}).\n   * Not required and inherited from the parent state. Router default value is true.\n   */\n  static encodeQuery = true;\n\n  /**\n   * @member {Boolean} Router.decodeQuery\n   * @type {Boolean}\n   * @public\n   * @description If the query params should be decoded during the state initialization.\n   * Not required and inherited from the parent state. Router default value is true.\n   */\n  static decodeQuery = true;\n\n  /**\n   * @member {Boolean} Router.icon\n   * @type {String}\n   * @public\n   * @description URL to the state icon (one within the tab). To set icons you should create a link element\n   * with \"dwayne-router-icon\" id. Router will set href itself.\n   * Not required and inherited from the parent state. Router default value is null.\n   */\n  static icon = null;\n\n  /**\n   * @member {Boolean} Router.title\n   * @type {String}\n   * @public\n   * @description App title (one within the tab). To set title you should create a title element\n   * with \"dwayne-router-title\" id. Router will set the value itself.\n   * Not required and inherited from the parent state. Router default value is null.\n   */\n  static title = null;\n\n  /**\n   * @member {Router} Router.default\n   * @type {Router}\n   * @public\n   * @description Works with Router only. Default Router state.\n   */\n  static get default() {\n    return defaultState;\n  }\n  // noinspection JSAnnotator\n  static set default(state) {\n    if (states.indexOf(state) === -1) {\n      throw new Error('State must be registered! (Router.default)');\n    }\n\n    const {\n      abstract,\n      path,\n      params,\n      query\n    } = state;\n\n    if (abstract) {\n      throw new Error('Default state must not be abstract! (Router.default)');\n    }\n\n    if (isRegExp(path)) {\n      throw new Error('Default state must not have regexp path! (Router.default)');\n    }\n\n    if (new Super(params).count || new Super(query).count) {\n      throw new Error('Default state must not have URL or query params! (Router.default)');\n    }\n\n    defaultState = state;\n  }\n\n  /**\n   * @method Router.buildURL\n   * @public\n   * @param {URLOptions} [options = {}] - URL options.\n   * @returns {String} Built URL.\n   * @description Method for building URLs that guaranteed to be matched by this state.\n   * Works properly only after {@link Router#event:init} has been fired.\n   *\n   * @example\n   * class MyState extends Router {\n   *   static stateName = 'myState';\n   *   static path = '/user/:userId';\n   * }\n   *\n   * registerState(MyState);\n   *\n   * Router.on('init', () => {\n   *   MyState.buildURL({\n   *     params: {\n   *       userId: 42\n   *     },\n   *     query: {\n   *       param: 'value'\n   *     }\n   *   }); // '<yourOrigin>/user/42?param=value'\n   * });\n   */\n  static buildURL(options = {}) {\n    const { url } = this;\n\n    if (isRegExp(url)) {\n      throw new Error('URL can be built only from the string URLs! (Router.buildURL)');\n    }\n\n    const {\n      params = {},\n      query = {},\n      hash = ''\n    } = options;\n\n    return constructURL(origin, url, params, query, hash, {\n      params: this.encodeParams,\n      query: this.encodeQuery\n    });\n  }\n\n  /**\n   * @method Router.go\n   * @public\n   * @fires Router#event:beforeLeave\n   * @param {URLOptions} [options = {}] - URL options.\n   * @description Method combines {@link Router#buildURL} and {@link go}.\n   *\n   * @example\n   * class MyState extends Router {\n   *   static stateName = 'myState';\n   *   static path = '/user/:userId';\n   * }\n   *\n   * registerState(MyState);\n   *\n   * Router.on('init', () => {\n   *   MyState.go({\n   *     params: {\n   *       userId: 42\n   *     },\n   *     query: {\n   *       param: 'value'\n   *     }\n   *   });\n   * });\n   */\n  static go(options) {\n    if (this.abstract) {\n      throw new Error('Cannot go to an abstract state! (at Router.go)');\n    }\n\n    go(this.buildURL(options));\n  }\n\n  /**\n   * @method Router.redirect\n   * @public\n   * @fires Router#event:beforeLeave\n   * @param {URLOptions} [options = {}] - URL options.\n   * @description Method combines {@link Router#buildURL} and {@link redirectTo}.\n   *\n   * @example\n   * class MyState extends Router {\n   *   static stateName = 'myState';\n   *   static path = '/user/:userId';\n   * }\n   *\n   * registerState(MyState);\n   *\n   * Router.on('init', () => {\n   *   MyState.redirect({\n   *     params: {\n   *       userId: 42\n   *     },\n   *     query: {\n   *       param: 'value'\n   *     }\n   *   });\n   * });\n   */\n  static redirect(options) {\n    if (this.abstract) {\n      throw new Error('Cannot go to an abstract state! (at Router.go)');\n    }\n\n    redirectTo(this.buildURL(options));\n  }\n\n  /**\n   * @method Router.init\n   * @public\n   * @fires Router#event:init\n   * @description Method for initializing Router.\n   * Note that method like {@link Router.buildURL} and {@link Router.go}\n   * don't work properly until the 'init' event is fired. In order to initialize Router\n   * there should be an element with the \"dwayne-router\" id (content of the Router states).\n   *\n   * @example\n   * Router.init();\n   */\n  static init() {\n    initialized = true;\n\n    initialize();\n  }\n\n  /**\n   * @method Router.on\n   * @public\n   * @listens Router#event\n   * @param {String|Object.<String|Listener>} event - Either a event string\n   * or an object with event keys and listeners values.\n   * @param {String|String[]|RegExp} selector - String, array of strings or\n   * a regular expression to filter states by the state name. Render event is treated\n   * the special way: current rendering state name is compared to the selector.\n   * @param {RouterListener} [listener] - If the first argument is a string it must be\n   * a listener function for specified event.\n   * @returns {RouterRemoveListeners} Function that can remove listeners that has just been set.\n   * @description Method for listening to all events you want. beforeLeave\n   */\n  static on(event, selector = null, listener) {\n    if (isFunction(selector)) {\n      listener = selector;\n      selector = null;\n    }\n\n    if (isString(event)) {\n      event = { [event]: listener };\n    }\n\n    const { listeners } = this.$$;\n    const allListeners = {};\n    const matchesSelector = selectorMatchesSwitcher(selector);\n\n    iterate(event, (listener, event) => {\n      const array = listeners[event] || new Arr([]);\n      const newListener = (e) => {\n        let name = e.state && e.state.name;\n\n        if (e.renderingState) {\n          name = e.renderingState.stateName;\n        }\n\n        if (matchesSelector(name)) {\n          listener.call(this, e);\n        }\n      };\n\n      newListener.toString = () => listener.toString();\n\n      allListeners[event] = newListener;\n      (listeners[event] = array).push(newListener);\n    });\n\n    return function removeEventListeners(event) {\n      let actualListeners = allListeners;\n\n      if (allListeners[event]) {\n        actualListeners = { [event]: allListeners[event] };\n      }\n\n      iterate(actualListeners, (listener, event) => {\n        const eventListeners = listeners[event];\n\n        const found = eventListeners.find((l) => l === listener);\n\n        if (found) {\n          eventListeners.splice(found.key);\n        }\n      });\n    };\n  }\n\n  // TODO: Router#store\n\n  /**\n   * @member {Elem} Router#base\n   * @type {Elem}\n   * @public\n   * @description State rendering base node.\n   * Created before firing {@link Router#event:render}.\n   */\n  base = router;\n\n  /**\n   * @member {String} Router#name\n   * @type {String}\n   * @public\n   * @description State name (inherited from the constructor).\n   * Created during state initialization.\n   */\n  name = null;\n\n  /**\n   * @member {Object} Router#params\n   * @type {Object}\n   * @public\n   * @description State URL params.\n   * Created during state initialization.\n   */\n  params = {};\n\n  /**\n   * @member {Object} Router#query\n   * @type {Object}\n   * @public\n   * @description State query params.\n   * Created during state initialization.\n   */\n  query = {};\n\n  /**\n   * @member {String} Router#hash\n   * @type {String}\n   * @public\n   * @description State query params.\n   * Created during state initialization.\n   */\n  hash = '';\n\n  /**\n   * @member {Object} Router#templateParams\n   * @type {Object}\n   * @public\n   * @description State template params. Inherited from the constructor template params.\n   * Can be changed before rendering in beforeLoad or load event listeners.\n   * Created during state initialization.\n   */\n  templateParams = new Super(new Super(this).proto().$.constructor.templateParams).create().$;\n\n  constructor(props = {}) {\n    assign(this, props);\n  }\n\n  /**\n   * @method Router#onBeforeLeave\n   * @public\n   * @listens Router#event:beforeLeave\n   * @param {Router#event:beforeLeave} event - Fired event.\n   * @description Called on beforeLeave event. Called after the listeners.\n   */\n  onBeforeLeave() {}\n\n  /**\n   * @method Router#onBeforeLoad\n   * @public\n   * @listens Router#event:beforeLoad\n   * @param {Router#event:beforeLoad} event - Fired event.\n   * @description Called on beforeLoad event. Called after the listeners.\n   */\n  onBeforeLoad() {}\n\n  /**\n   * @method Router#onInit\n   * @public\n   * @listens Router#event:init\n   * @param {Router#event:init} event - Fired event.\n   * @description Called on init event. Called after the listeners.\n   */\n  onInit() {}\n\n  /**\n   * @method Router#onLeave\n   * @public\n   * @listens Router#event:leave\n   * @param {Router#event:leave} event - Fired event.\n   * @description Called on leave event. Called after the listeners.\n   */\n  onLeave() {}\n\n  /**\n   * @method Router#onLoad\n   * @public\n   * @listens Router#event:load\n   * @param {Router#event:load} event - Fired event.\n   * @description Called on load event. Called after the listeners.\n   */\n  onLoad() {}\n\n  /**\n   * @method Router#onRender\n   * @public\n   * @listens Router#event:render\n   * @param {Router#event:render} event - Fired event.\n   * @description Called on render event. Called after the listeners.\n   */\n  onRender() {}\n}\n\nconst MainState = Router.prototype;\n\ndefaultState = Router;\n\nclass RouterError {}\n\nconst stopError = new RouterError();\n\n/**\n * @function redirect\n * @private\n * @param {String} newURL - New URL to go to.\n * @param {Boolean} [push] - If it's need to push state or rather replace it.\n */\nfunction redirect(newURL, push) {\n  eventPromise = eventPromise\n    .then(() => beforeLeave(newURL))\n    .then(() => {\n      (currentState ? currentState.base : new Elem([]))\n        .hide()\n        .html('');\n\n      changeHistory(newURL, push);\n    })\n    .then(() => {\n      currentState = Router.$$.state = null;\n    })\n    .then(beforeLoad)\n    .catch(printError);\n}\n\n/**\n * @function beforeLeave\n * @private\n * @param {String} newURL - New URL to go to.\n * @returns {Promise}\n */\nfunction beforeLeave(newURL) {\n  return Promise.resolve()\n    .then(() => dispatchNewEvent('beforeLeave'))\n    .then(() => dispatchNewEvent('leave'));\n\n  function dispatchNewEvent(type) {\n    return dispatchEvent(type, {\n      type,\n      state: currentState,\n      toURL: newURL\n    });\n  }\n}\n\n/**\n * @function beforeLoad\n * @private\n * @returns {Promise}\n */\nfunction beforeLoad() {\n  const { hash } = resolveURL(Router.decodeQuery);\n  let newState;\n\n  return Promise.resolve()\n    .then(() => loadStatesByOne())\n    .then(() => {\n      currentState = Router.$$.state = newState;\n\n      return dispatchNewEvent('load');\n    })\n    .then(() => {\n      const proto = new Super(newState).proto().$.constructor;\n      const renderStates = new Arr([proto]);\n      const {\n        stateName,\n        templateParams\n      } = newState;\n      const {\n        title,\n        icon\n      } = proto;\n      const ownTemplateParams = new Super(templateParams).clone();\n      let state = proto;\n      let promise = Promise.resolve();\n\n      while (!getStateBase(state).length && (state = state.parent)) {\n        renderStates.unshift(state);\n      }\n\n      find(`[${ stateAttrName }]`).forEach((elem) => {\n        elem = new Elem(elem);\n\n        const stateNameFromAttr = elem.attr(stateAttrName);\n        const { value: foundState } = states.find(({ stateName }) => stateName === stateNameFromAttr) || {};\n\n        if (!foundState || (stateNameFromAttr !== stateName && !(newState instanceof foundState))) {\n          elem\n            .hide()\n            .html('');\n        }\n      });\n\n      renderStates.forEach((state) => {\n        const {\n          template,\n          templateParams: parentTemplateParams,\n          elems\n        } = state;\n        const templateParams = new Super(parentTemplateParams)\n          .create()\n          .assign(ownTemplateParams)\n          .$;\n\n        promise = promise.then(() => {\n          const base = getStateBase(state)\n            .first()\n            .show();\n\n          try {\n            base.html(isFunction(template) ? template(templateParams) : template);\n          } catch (err) {\n            console.error('%s %o', 'Render error:', err);\n          }\n\n          base\n            .find(`[${ stateAttrName }]`)\n            .hide();\n\n          newState.base = base;\n\n          new Super(newState).assign(elems.map((selector) => base.find(selector)).$);\n\n          if (state === proto) {\n            if (!isNull(title) && title !== currentTitle) {\n              pageTitle.text(currentTitle = title);\n            }\n\n            if (!isNull(icon) && icon !== currentIcon) {\n              pageIcon.ref(currentIcon = icon);\n            }\n          }\n\n          return dispatchNewEvent('render', state);\n        });\n      });\n\n      return promise;\n    })\n    .catch(printError);\n\n  function dispatchNewEvent(type, renderingState) {\n    return dispatchEvent(type, {\n      type,\n      state: newState\n    }, renderingState);\n  }\n\n  function loadStatesByOne() {\n    let promise = Promise.reject(stopError);\n\n    findStatesByURL().forEach(({ state, params, query }) => {\n      promise = promise.catch((err) => {\n        if (err instanceof RouterError && err.type === 'redirect') {\n          throw err;\n        }\n\n        printError(err);\n\n        newState = new state({\n          name: state.stateName,\n          params,\n          query,\n          hash\n        });\n\n        return dispatchNewEvent('beforeLoad');\n      });\n    });\n\n    return promise.catch((err) => {\n      if (err instanceof RouterError && err.type === 'redirect') {\n        changeHistory(err.url, err.push);\n\n        return loadStatesByOne();\n      }\n\n      throw err;\n    });\n  }\n}\n\n/**\n * @function changeHistory\n * @private\n * @param {String} url - URL to go to.\n * @param {Boolean} push - If the state is needed to be pushed or replaced.\n * @description Function for manipulating history.\n */\nfunction changeHistory(url, push) {\n  try {\n    history[push ? 'pushState' : 'replaceState'](null, null, url);\n    pushed = true;\n  } catch (err) {\n    location.href = url;\n  }\n}\n\n/**\n * @function decode\n * @private\n * @param {String} string - String to decode.\n * @param {Boolean} decodeParams - If the string should be decoded in the first place.\n * @returns {String} Decoded string.\n */\nfunction decode(string, decodeParams) {\n  return decodeParams\n    ? decodeURIComponent(string)\n    : string;\n}\n\n/**\n * @function printError\n * @private\n * @param {Error} err - Error to log.\n */\nfunction printError(err) {\n  if (!(err instanceof RouterError)) {\n    console.error('%s %o', 'Uncaught (in event listener)', err);\n  }\n}\n\n/**\n * @function getStateBase\n * @param {Router} state - State to find the base of.\n * @returns {Elem} State base.\n */\nfunction getStateBase(state) {\n  return state === Router ? router : find(`[${ stateAttrName }=\"${ state.stateName }\"]`);\n}\n\n/**\n * @function isInstanceOfRouterState\n * @param {Router} state - State to find out if it extends Router.\n * @returns {Boolean} If the state extends Router.\n */\nfunction isInstanceOfRouterState(state) {\n  return isPrototypeOf.call(Router, state) || isPrototypeOf.call(MainState, state.prototype);\n}\n\n/**\n * @function resolveParameter\n * @private\n * @param {String} param - Param to resolve.\n * @param {String} nameErrorName - Name error description.\n * @param {String} valueErrorName - Name error description.\n * @returns {{ name: String, regexp: RegExp|undefined }}\n */\nfunction resolveParameter(param, nameErrorName, valueErrorName) {\n  const nameMatch = param.match(/^[a-z_\\$]+/i);\n\n  if (!nameMatch) {\n    throw new Error(nameErrorName);\n  }\n\n  const name = nameMatch[0];\n  const value = param.slice(name.length);\n  let regexp;\n\n  if (value && (value.indexOf('(') || value.indexOf(')') !== value.length - 1)) {\n    throw new Error(valueErrorName);\n  }\n\n  if (value) {\n    regexp = new RegExp(value.slice(1, -1));\n  }\n\n  return {\n    name,\n    regexp\n  };\n}\n\n/**\n * @function findStatesByURL\n * @private\n * @returns {Arr} Arr of matching states.\n */\nfunction findStatesByURL() {\n  const pathname = location.pathname || '/';\n  const search = location.search || '';\n  const eventualStates = states.object((states, state) => {\n    if (state.abstract) {\n      return;\n    }\n\n    const {\n      url: stateURL,\n      validatePath,\n      params,\n      query: requiredQuery,\n      decodeParams,\n      decodeQuery\n    } = state;\n    const query = new Super(resolveURL(decodeQuery).query);\n    const eventualParams = {};\n    const match = (\n      (pathname.replace(/\\/$/, '') || '/') +\n      (isRegExp(stateURL) ? search : '')\n    ).match(validatePath);\n\n    if (!match) {\n      return false;\n    }\n\n    /* eslint guard-for-in: 0 */\n    for (const param in requiredQuery) {\n      if (!query.hasOwn(param) || !requiredQuery[param].test(query.$[param])) {\n        return;\n      }\n    }\n\n    match.shift();\n\n    for (const param in params) {\n      eventualParams[param] = decode(match[params[param]], decodeParams);\n    }\n\n    states.push({\n      state,\n      params: eventualParams,\n      query: query.$\n    });\n  }, new Arr([]));\n\n  if (eventualStates.every(({ state }) => state !== defaultState)) {\n    eventualStates.push({\n      state: defaultState,\n      params: {},\n      query: resolveURL(defaultState.decodeQuery).query\n    });\n  }\n\n  return eventualStates;\n}\n\n/**\n * @function dispatchEvent\n * @private\n * @param {String} event - Event to be fired.\n * @param {Object} [assigned] - Properties to be assigned to the event.\n * @param {Router} [renderingState] - Current state.\n */\nfunction dispatchEvent(event, assigned, renderingState) {\n  const eventualEvent = new Super({})\n    .value({\n      type: event\n    })\n    .value(assigned || {})\n    .$;\n  const {\n    type,\n    state\n  } = eventualEvent;\n  const isStoppable = stoppable.indexOfStrict(type) !== -1 && state && (\n    new Super(state).proto().$.constructor !== defaultState ||\n    type !== 'beforeLoad'\n  );\n\n  let paused;\n  let stopped;\n  let continuePropagation = () => {};\n  let stopPropagation = () => {};\n  let redirect = () => {};\n  let promise = Promise.resolve();\n  let currentState;\n\n  new Super(eventualEvent)\n    .get('renderingState', () => currentState)\n    .value({\n      continue() {\n        if (isStoppable) {\n          paused = false;\n          continuePropagation();\n        }\n      },\n      pause() {\n        if (isStoppable) {\n          paused = true;\n        }\n      },\n      stop() {\n        if (isStoppable) {\n          stopped = true;\n          stopPropagation();\n        }\n      },\n      go(url) {\n        if (isStoppable && type === 'beforeLoad') {\n          redirect(url, true);\n        }\n      },\n      redirectTo(url) {\n        if (isStoppable && type === 'beforeLoad') {\n          redirect(url);\n        }\n      }\n    });\n\n  getListeners(state, type, renderingState).forEach(({ renderingState, listener }) => {\n    promise = promise.then(() => new Promise((resolve, reject) => {\n      currentState = renderingState;\n\n      let finished = false;\n\n      continuePropagation = () => {\n        if (finished) {\n          resolve();\n        }\n      };\n\n      redirect = (url, push) => {\n        const err = new RouterError();\n\n        err.type = 'redirect';\n        err.push = push;\n        err.url = url;\n\n        reject(err);\n      };\n\n      stopPropagation = () => {\n        reject(stopError);\n      };\n\n      listener(eventualEvent);\n\n      finished = true;\n\n      if (stopped) {\n        return reject(stopError);\n      }\n\n      if (!paused) {\n        resolve();\n      }\n    }));\n  });\n\n  return promise.catch((err) => {\n    if (isStoppable) {\n      throw err;\n    }\n\n    printError(err);\n  });\n}\n\n/**\n * @function getListeners\n * @private\n * @param {Router} state - State to get listeners from.\n * @param {String} type - Event type.\n * @param {Router} [renderingState] - If the type is \"render\" then it's current rendering state.\n */\nfunction getListeners(state = new Super(MainState).create().$, type, renderingState) {\n  const tree = new Arr([]);\n  const desc = /leave/i.test(type);\n  const method = desc ? 'push' : 'unshift';\n  const listenerName = `on${ new Str(type).capitalizeFirst() }`;\n  let proto = new Super(state).proto().$.constructor;\n\n  while (proto) {\n    if (!renderingState || isPrototypeOf.call(proto, renderingState) || renderingState === proto) {\n      tree[method](proto);\n    }\n\n    proto = proto.parent;\n  }\n\n  return tree\n    .object((listeners, {\n      $$: {\n        listeners: ownListeners\n      },\n      prototype: proto\n    }) => {\n      if (new Super(proto).hasOwn(listenerName)) {\n        listeners.push({\n          renderingState,\n          listener: new Func(proto[listenerName]).bindContext(state)\n        });\n      }\n\n      listeners.push.apply(listeners, (ownListeners[type] || new Arr([])).map((listener) => ({\n        renderingState,\n        listener\n      })).$);\n    }, new Arr([]));\n}\n\n/**\n * @function initialize\n * @private\n */\nfunction initialize() {\n  if (!initialized || routerLoaded) {\n    return;\n  }\n\n  routerLoaded = true;\n  pageTitle = find('#dwayne-router-title').first();\n  pageIcon = find('#dwayne-router-icon').first();\n  router = find('#dwayne-router').first();\n  initHTML = router.html() || '';\n  initTitle = pageTitle.text() || '';\n  initIcon = pageIcon.ref() || '';\n\n  find(`[${ stateAttrName }]`).hide();\n\n  defineProperties(MainState, {\n    base: router\n  });\n\n  win.on('click', (e) => {\n    const target = new Elem(e.target);\n\n    if (target.name === 'a' && target.attr('target') !== '_blank') {\n      e.preventDefault();\n\n      redirect(target.attr('href') || '', true);\n    }\n  });\n\n  states.forEach((state) => {\n    const {\n      parent: {\n        children,\n        params: parentParams,\n        query: parentQuery,\n        templateParams: parentTemplateParams\n      },\n      params,\n      query,\n      templateParams,\n      relativeURL,\n      relativePath\n    } = state;\n    let proto = state;\n    let count = 0;\n    let newPath = relativePath;\n    let newURL = '';\n\n    while (proto = proto.parent) {\n      count += new Super(proto.params).count;\n      newPath = proto.relativePath + newPath;\n      newURL = proto.relativeURL + newURL;\n    }\n\n    newPath = new RegExp(`^${ newPath.replace(/\\/+/g, '/').replace(/\\/$/, '') || '/' }$`);\n    newURL = isRegExp(relativeURL)\n      ? newPath\n      : (newURL + relativeURL).replace(/\\/+/g, '/').replace(/\\/$/, '') || '/';\n\n    children.push(state);\n\n    new Super(templateParams).proto(parentTemplateParams);\n    new Super(query).proto(parentQuery);\n    new Super(params)\n      .proto(parentParams)\n      .forEach((value, key, params) => {\n        params[key] += count;\n      });\n\n    defineProperties(state, {\n      url: newURL,\n      validatePath: newPath\n    });\n  });\n\n  eventPromise = eventPromise\n    .then(() => dispatchEvent('init'))\n    .then(() => beforeLoad())\n    .then(() => {\n      win.on('popstate', () => {\n        if (location.href !== href) {\n          pushed = true;\n        }\n\n        if (pushed) {\n          eventPromise = eventPromise.then(() => beforeLoad());\n        }\n      });\n    });\n}\n\n/**\n * @function go\n * @public\n * @fires Router#event:beforeLeave\n * @param {String} url - URL to go to.\n * @returns {void}\n * @description Function for directing to an URL. Can be external one or inner one.\n *\n * @example\n * go('/user/56');\n */\nexport function go(url) {\n  redirect(url, true);\n}\n\n/**\n * @function redirectTo\n * @public\n * @fires Router#event:beforeLeave\n * @param {String} url - URL to go to.\n * @returns {void}\n * @description Function for redirecting to an URL. Can be external one or inner one.\n *\n * @example\n * redirectTo('/user/56');\n */\nexport function redirectTo(url) {\n  redirect(url);\n}\n\n/**\n * @function reload\n * @public\n * @fires Router#event:beforeLeave\n * @returns {void}\n * @description Fires {@link Router#event:beforeLeave}, {@link Router#event:leave}\n * as usual, then resets router content, page title and icon to initial content,\n * fires {@link Router#event:reload} and then loads page like if it was the first time.\n */\nexport function reload() {\n  eventPromise = eventPromise\n    .then(() => beforeLeave(location.href))\n    .then(() => {\n      router.html(initHTML);\n      pageTitle.text(initTitle);\n      pageIcon.ref(initIcon);\n    })\n    .then(() => {\n      currentState = Router.$$.state = null;\n    })\n    .then(() => dispatchEvent('reload'))\n    .then(beforeLoad)\n    .catch(printError);\n}\n\n/**\n * @function registerState\n * @public\n * @param {Router} state - State to register.\n * @returns {void}\n * @description Function for registering states.\n *\n * @example\n * class MyState extends Router {\n *   static stateName = 'myState';\n *   static path = '/user/:userId';\n * }\n *\n * registerState(MyState);\n */\nexport function registerState(state) {\n  if (states.indexOf(state) !== -1) {\n    return;\n  }\n\n  if (!isInstanceOfRouterState(state)) {\n    throw new Error(`State must extend (${ extendLink }) Router! (at registerState)`);\n  }\n\n  const { stateName } = state;\n\n  if (!new Super(state).hasOwn('stateName') || states.find(({ stateName: n }) => n === stateName)) {\n    throw new Error('State must have unique stateName! (at registerState)');\n  }\n\n  const proto = Object.getPrototypeOf(state);\n\n  if (isRegExp(proto.url)) {\n    throw new Error('URL regexp state cannot be extended! (at registerState)');\n  }\n\n  const $state = new Super(state);\n  const path = $state.hasOwn('path')\n    ? state.path\n    : '/';\n  const {\n    url: relativeURL,\n    path: relativePath,\n    params\n  } = pathSwitcher(path);\n  const elems = new Super({});\n\n  if ($state.hasOwn('elements')) {\n    const { elements } = state;\n\n    new Super(elements).deepForEach((value, key, object, tree) => {\n      tree = new Arr(tree);\n\n      tree.reverse().shift();\n\n      tree.forEach((object, index) => {\n        const { key, value } = object;\n\n        if (key === '$') {\n          return;\n        }\n\n        const nestedSelector = object.selector = String(value.$) || '';\n        const selector = isString(value) ? value : nestedSelector;\n\n        elems.$[key] = tree\n          .slice(0, index)\n          .map(prop('selector'))\n          .push(selector)\n          .join(' ');\n      });\n    });\n  }\n\n  defineProperties(state, {\n    $$: {\n      listeners: {}\n    },\n\n    stateName,\n    parent: proto,\n    children: new Arr([]),\n    template: $state.hasOwn('template')\n      ? state.template\n      : '',\n    relativeURL,\n    relativePath,\n    params,\n    abstract: $state.hasOwn('abstract') && !!state.abstract,\n    templateParams: $state.hasOwn('templateParams')\n      ? state.templateParams\n      : {},\n    elems,\n    query: {}\n  });\n\n  const { query } = state;\n  const index = isString(path) ? path.indexOf('?') : -1;\n\n  if (index !== -1) {\n    new Str(path)\n      .replace(/&$/)\n      .slice(index + 1)\n      .split('&')\n      .forEach((param) => {\n        const {\n          name,\n          regexp = /[\\s\\S]*/\n        } = resolveParameter(\n          param,\n          'Query parameter must not be an empty string or contain characters besides \"a-zA-Z_$\"! (at registerState)',\n          'Query parameter regexp validator must be within parentheses (e.g. :userId(\\\\d+)) and not contain them! (at registerState)'\n        );\n\n        query[name] = new RegExp(`^${ regexp.source.replace(/\\\\\\//g, '/') }$`);\n      });\n  }\n\n  states.push(state);\n}\n\n/**\n * @const currentState\n * @public\n * @description Router current state,\n */\nexport { currentState };\n","import * as statics from './lib/browser';\nimport { assign } from './lib/helpers/assign';\n\nconst { D } = statics;\n\nassign(D, statics);\n\ndelete D.default;\ndelete D.D;\n\nglobal.D = D;\n"],"names":["window","global","self","toStringTag","object","toString","call","replace","isArray","value","isArrayLike","isFunction","length","isInteger","isBoolean","isDate","isDateLike","Date","isNaN","getTime","isElement","test","isFinite","isNumber","Number","Infinity","isIntegerLike","parseInt","isNull","isNullOrUndefined","isNumberLike","isObject","Object","isPlainObject","isPrimitive","proto","getPrototypeOf","constructor","isRegExp","isString","isSymbol","isUndefined","D","i","constructors","levelConstructors","k","len","cls","check","iterate","callback","array","iterated","key","hasOwnProperty","assign","target","arguments","source","index","dynamicDefineProperties","properties","propertyGenerator","name","defineProperty","defineProperties","method","undefined","get","set","Symbol","Math","random","toArray","createNewArray","push","n","RangeError","methods","TypeError","a","d","f","o","r","s","numbers","validate","args","options","number","checker","checkExpressions","error","text","Alphabet","alphabet","char","Error","chars","$$","word","keys","token","floor","prototype","string","ranges","split","range","start","charCodeAt","end","String","fromCharCode","Switcher","cases","mode","defaultValue","eventualCases","Case","case","switcher","def","default","ret","val","apply","setPrototypeOf","Function","when","condition","value1","value2","cloneSwitcher","Super","$","deep","clone","RegExp","match","objects","sum","count","func","descriptors","create","deepClone","deepEqual","Boolean","deepEvery","filtered","deepFilter","deepFind","deepMap","IV","tree","deepReduce","deepSome","property","descriptor","props","freeze","getter","isFrozen","replacer","space","unshift","JSON","stringify","max","min","obj","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","isContextObject","startKey","setter","reduce","deepAssign","o1","o2","strict","lastIndex","p1","p2","newTree","concat","nul","result","deepFreeze","deepForEach","Arr","values","keyOf","keyOfStrict","separator","join","pop","reverse","shift","forEach","randomIndex","begin","slice","compareFunction","sort","asc","y","x","deleteCount","items","splice","secret","iterator","Promise","executor","hiddenStatus","hiddenValue","onFulfill","onReject","realPromise","hiddenPromise","status","handled","resolve","reject","proxy","err","then","onRejected","onFulfilled","promise","handle","handler","iterable","toResolve","next","done","URL","BlobObject","progress","reader","FileReader","toReject","onprogress","e","onerror","onload","abort","anchor","document","createElement","href","dataURL","setAttribute","click","createObjectURL","blob","blobParts","Blob","Func","called","canBeCalled","before","after","sync","contextLocked","context","middleware","afterAll","beforeAll","bindContext","bindArgs","times","lockContext","lockArgs","argsLocked","mark","time","timeEnd","unbindContext","unbindArgs","noop","prop","toRadian","PI","toDegree","ln2","LN2","ln10","LN10","Num","toDegrees","acos","asin","atan","asDegrees","cos","timeout","aborted","interval","setTimeout","clearTimeout","log","power","pow","sin","tan","rej","base","fractionDigits","toExponential","digits","toFixed","precision","toPrecision","abs","sqrt","cbrt","ceil","exp","ln","round","sign","rand","htmlSpecials","regexpSpecialsRegexp","regexpSpecialCharacters","Str","toUpperCase","searchString","position","revert","startsWith","escaped","symbol","searchValue","fromIndex","indexOf","lastIndexOf","regexp","str","search","beginSlice","endSlice","substr","indexStart","indexEnd","substring","trim","toLowerCase","parseJSON","json","parse","dates","parsed","zero","daysOfTheWeekNames","daysOfTheWeekAliases","map","monthsNames","monthsAliases","date","utc","zeroes","repeat","coeffs","getSwitcher","NaN","setSwitcher","Dat","what","now","prefix","formats","format","replaceString","date1","date2","isBefore","started","coeff","w","setTime","toISOString","toLocaleString","valueOf","absoluteURLRegexp","querySwitcher","query","queryParams","param","baseURL","url","params","hash","encodeOptions","encodeParams","encodeQuery","isAbsolute","encode","isEncoded","encodeURIComponent","rawHeaders","headers","toCamelCase","notToTransform","withoutBody","data","indexOfStrict","contentType","defaults","location","origin","uploadMethods","Fetch","config","fetch","request","conf","fetchBeforeMiddleware","header","toPush","dataConfig","hasOwn","urlConfig","xhr","auth","username","password","responseType","withCredentials","XMLHttpRequest","open","setRequestHeader","upload","onabort","ontimeout","onreadystatechange","readyState","response","responseText","parseHeaders","getAllResponseHeaders","statusText","catch","send","METHOD","constructURL","transformData","toCapitalCase","elem","id","addClass","attr","css","html","removeClass","removeAttr","removeCSS","canvasGetMethods","canvasRestMethods","nativeDocument","emptyDiv","eventSeparator","textProperty","Node","propertyDescriptor","classes","attrs","windowsDwayneData","inputElements","dataURLFetch","refSwitcher","filterSwitcher","selector","Elem","is","isElem","elems","innerSwitcher","paddings","borders","outerSwitcher","element","isWindow","isHTMLDocument","addDwayneData","elements","list","classList","add","innerHTML","style","some","getName","sheet","cssRules","rules","toHyphenCase","insertRule","dwayneData","appendChild","createTextNode","strings","applied","setApplied","np1","appliedRegExps","getElem","attributes","getAttribute","first","load","isBroken","canvas","width","height","drawImage","ab","blur","pseudo","getComputedStyle","find","rule","children","toFind","into","className","cloneNode","parentElement","contains","type","appliedExpressions","cssText","getPropertyValue","getPropertyPriority","removeProperty","setProperty","ctx","dataset","encoderOptions","toDataURL","deleteRule","event","eventInit","details","bubbles","cancelable","finalEvent","Event","createEvent","initEvent","dispatchEvent","found","focus","selectorText","hasAttribute","currentDisplay","previousDisplay","parent","insertBefore","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","complete","naturalWidth","naturalHeight","closest","images","all","filter","$elem","removeListeners","on","proper","broken","prev","nextElementSibling","events","listeners","removeListener","listener","allListeners","removeEventListeners","define","has","newListener","addEventListener","delete","removeEventListener","parentNode","previousElementSibling","link","removeChild","removeAttribute","remove","created","txt","addText","hasAttr","hasClass","level","validator","validators","errors","formErrors","form","inputs","input","dispatch","inputError","validatorWrap","validity","valid","validationMessage","every","innerHeight","calcCSS","borderTopWidth","borderBottomWidth","boxSizing","paddingTop","paddingBottom","px","innerWidth","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight","outerHeight","marginTop","marginBottom","outerWidth","marginLeft","marginRight","win","doc","documentElement","body","head","tagName","getContext","querySelectorAll","parseHTML","div","size","decodeQuery","rawParam","decodeURIComponent","paramName","paramObject","extendLink","stateAttrName","isPrototypeOf","history","stoppable","states","pathSwitcher","path","newURL","newPath","part","resolveParameter","escapeRegExp","selectorMatchesSwitcher","eventPromise","pushed","initialized","routerLoaded","router","pageTitle","pageIcon","defaultState","currentState","currentTitle","currentIcon","initTitle","initIcon","initHTML","Router","abstract","buildURL","state","renderingState","stateName","actualListeners","eventListeners","l","templateParams","validatePath","relativePath","relativeURL","template","decodeParams","icon","title","MainState","RouterError","stopError","redirect","beforeLeave","hide","beforeLoad","printError","dispatchNewEvent","resolveURL","newState","loadStatesByOne","renderStates","ownTemplateParams","getStateBase","stateNameFromAttr","foundState","parentTemplateParams","show","ref","changeHistory","decode","isInstanceOfRouterState","nameErrorName","valueErrorName","nameMatch","findStatesByURL","pathname","eventualStates","stateURL","requiredQuery","eventualParams","assigned","eventualEvent","isStoppable","paused","stopped","continuePropagation","stopPropagation","finished","getListeners","desc","listenerName","capitalizeFirst","ownListeners","initialize","preventDefault","parentParams","parentQuery","go","redirectTo","reload","registerState","$state","nestedSelector","statics"],"mappings":"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","sourceRoot":"/source/"}