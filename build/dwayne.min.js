!function(){"use strict";function e(e){return{}.toString.call(e).replace(/^\[object |]$/g,"")}function t(t){return"Array"===e(t)}function n(e){if(!e||c(e))return!1;var t=e.length;return l(t)&&t>=0}function r(t){return"Boolean"===e(t)}function i(t){return"Date"===e(t)}function o(e){return e=new Date(e),!f(e.getTime())}function a(t){return/Element$/.test(e(t))}function u(e){return!!d(e)&&(e=Number(e),!f(e)&&e!==1/0&&e!==-(1/0))}function c(t){return"Function"===e(t)||"function"==typeof t}function l(e){return d(e)&&e%1===0}function s(e){return e=parseInt(Number(e)),!(!e&&0!==e)}function f(e){return!!d(e)&&(e=Number(e),e!==e)}function h(e){return null===e}function v(e){return null===e||"undefined"==typeof e}function d(t){return"Number"===e(t)}function p(e){return!(!f(e)&&"NaN"!==e)||(e=Number(e),!(!e&&0!==e))}function g(t){return!!t&&("Object"===e(t)||"object"===("undefined"==typeof t?"undefined":xt(t))||t instanceof Object)}function m(e){if(y(e))return!1;var t=Object.getPrototypeOf(e);if(h(t))return!0;var n=t.constructor;return c(n)&&n instanceof n&&h(Object.getPrototypeOf(t))}function y(e){return h(e)||/^(number|string|boolean|symbol|undefined)$/.test("undefined"==typeof e?"undefined":xt(e))}function w(t){return"RegExp"===e(t)}function $(t){return"String"===e(t)}function k(t){return"Symbol"===e(t)}function b(e){return"undefined"==typeof e}function x(e){for(var t=gt.length-1;t>=0;t--)for(var n=gt[t],r=0,i=n.length;r<i;r++){var o=n[r];if(e instanceof o.cls)return e;if(o.check(e))return new o.cls(e)}}function E(e,t){var r=n(e),i={},o=0;for(var a in e)if(!{}.hasOwnProperty.call(i,a)&&(i[a]=!0,{}.hasOwnProperty.call(e,a))){if(r&&o++>=e.length)break;var u=t(e[a],r?Number(a):a,e);if(!b(u))return u}}function O(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E(arguments,function(t,n){n&&E(t,function(t,n){e[n]=t})}),e}function S(e,t,n){E(t,function(t,r){Object.defineProperty(e,t,{value:n(t,r),writable:!0,enumerable:!1,configurable:!0})})}function j(e,t){E(t,function(t,n){return/^get /.test(n)?void Object.defineProperty(e,n.replace(/^get /,""),{get:t,set:void 0,enumerable:!1,configurable:!0}):/^set /.test(n)?void Object.defineProperty(e,n.replace(/^set /,""),{set:t,get:void 0,enumerable:!1,configurable:!0}):/^get\/set /.test(n)?void Object.defineProperty(e,n.replace(/^get\/set /,""),{get:t.get,set:t.set,enumerable:!1,configurable:!0}):void("Symbol.toStringTag"!==n&&Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!1,configurable:!0}))})}function _(e,r){if(t(e)&&!r)return e;var i=[];return n(e)&&!$(e)?E(e,function(e){i.push(e)}):i.push(e),i}function T(e,n,r){E(n,function(n,i){t(n)||(n=[n]),E(n,function(t){if(t=Pt[t],!t.check(e[i]))throw new t.error(t.text.replace("$n",Nt[i])+(r?" (at "+r+")":""))})})}function R(e){return $(e)&&1===e.length}function C(e){T([e],["string"]);for(var t=e.split(/([\s\S]-+[\s\S])?/g),n=t.length,r=[],i=0;i<n;i++){var o=t[i];if(o&&" "!==o){if(/-/.test(o)&&!/[\s\S]-+[\s\S]/.test(o))throw new Error("Wrong part of the string ("+o+")! (in alphabet)");if(/-/.test(o)){var a=o.charCodeAt(0),u=o.charCodeAt(2);if(a>u)throw new Error("Start of the range must be before its end! (in alphabet)");for(var c=0,l=u-a+1;c<l;c++)r.push(String.fromCharCode(a+c))}else 1===o.length&&r.push(o)}}return new Mt(r)}function A(e,t,n){return new(Function.prototype.bind.apply(Ut,[null].concat(Array.prototype.slice.call(arguments))))}function L(e,t,n){return e?t:n}function P(e,t){E(t,function(t,n){return y(e[n])||!{}.hasOwnProperty.call(e,n)?void(e[n]=D(t)):void(y(e[n])||P(e[n],t))})}function D(e){var t=Bt(e,[e,!0]);return t!==e&&E(e,function(e,n){t[n]=D(e)}),t}function N(n,r,o){if(n===r)return!0;if(f(n)&&f(r)&&y(n)&&y(r))return!0;if(f(n)||f(r))return!1;if(y(n)||y(r))return o?n===r:n==r;if(i(n)&&i(r))return n.getTime()===r.getTime();if(i(n)||i(r))return!1;if(w(n)&&w(r))return n.source===r.source&&n.toString().match(/[gimuy]*$/)[0]===r.toString().match(/[gimuy]*$/)[0]&&n.lastIndex===r.lastIndex;if(w(n)||w(r))return!1;if(!m(n)&&!t(n)||!m(r)&&!t(r))return!1;var a=Object.getPrototypeOf(n),u=Object.getPrototypeOf(n);return Object.keys(n).length===Object.keys(r).length&&((!a||!u||e(a.constructor)===e(u.constructor))&&E(n,function(e,t){if(!(t in r&&N(e,r[t],o)))return!1})!==!1)}function M(e,t,n,r){var i=1===n;return E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);if(i||y(e)?!t(e,o,a,u):!M(e,t,n-1,u))return!1})!==!1}function U(e,t,r,i){var o=n(e),a=v(e),u=o?[]:a?e:{},c=1===r;return E(e,function(e,n,a){var l=[{key:n,value:e}].concat(i);if((c||y(e))&&t(e,n,a,l))return void(o?u.push(e):u[n]=e);if(!c){var s=U(e,t,r-1,l);s&&(o?u.push(s):u[n]=s)}}),o?u.length?u:void 0:a?u:Object.keys(u).length?u:void 0}function B(e,t,n,r){var i=1===n;return E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);if(i||y(e)){if(t(e,o,a,u))return u}else{var c=B(e,t,n-1,u);if(c)return c}})||null}function q(e,t,n,r){var i=1===n;E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);i||y(e)?t(e,o,a,u):q(e,t,n-1,u)})}function I(e,t,n,r){var i=1===n;E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);t(e,o,a,u),i||y(e)||I(e,t,n-1,u)})}function F(e){Object.freeze(e),E(e,F)}function W(e,t,r,i){var o=n(e)?[]:v(e)?e:{},a=1===r;return E(e,function(e,n,u){var c=[{key:n,value:e}].concat(i);o[n]=a||y(e)?t(e,n,u,c):W(e,t,r-1,c)}),o}function H(e,t,n,r,i,o){var a=1===n;return E(e,function(e,u,c){if(!i&&(a||y(e))&&!r)return i={IV:e},void(r=!0);var l=[{key:u,value:e}].concat(o);i=a||y(e)?{IV:t(i.IV,e,u,c,l)}:H(e,t,n-1,r,i,l)}),i}function z(e,t,n,r){var i=1===n;return E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);if(i||y(e)?t(e,o,a,u):z(e,t,n-1,u))return!0})||!1}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){return n[e].apply(n,_(t))}}function G(){}function J(e){return function(t){var n=t[e];return n}}function Q(){return arguments[0]}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+(t-e)*Math.random()}function Y(e,t){if(T([e,t],["intLike","intLike"],"random"),t<=e)throw new Error("The second argument must be greater than the first!","random");return Math.floor(Z(e,t+1))}function X(e,t){return d(e)||d(t)?d(e)?d(t)?f(e)&&f(t)?0:f(e)?-1:f(t)?1:e-t:1:-1:0}function K(e,t){T([e,t],[["intLike",">=0"],"function||!"],"array");for(var n=[],r=0;r<e;r++)n.push(t?t(r):r);return new Zt(n)}function ee(e,t){T([e,t],[["intLike",">=0"],"function"],"iterate");for(var n=0;n<e;n++)t(n)}function te(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(e)||(e=[e]),new en(new Blob(e,n))}function ne(e){return e.replace(/^[\s\-_.]+|[\s\-_.]+$/g,"")}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(arguments.length<=1)return x(JSON.parse(e));c(t)&&(n=t,t={});var r=t,i=r.numbers,o=r.dates,a=JSON.parse(e,function(e,t){return o&&/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ?$/.test(t)?t=new Date(t):i&&p(t)&&$(t)&&(t=Number(t)),n?n.apply(this,arguments):t});return x(a)}function ie(e,t){var n=t.name,r=void 0;r=fn(n)?new qt({"tag-close":e.match(oe(n))}):an.map(function(t){return e.match(t)});var i=void 0;if(i=r.find(function(e){return e&&0===e.index})){var o={type:i.key,index:i.value[0].length,value:i.value[1]},a={};if("tag-open"===i.key){var u=e,c=void 0;for(o.selfClosing=!1,o.attrs=a;(e=u.slice(o.index))&&!(c=e.match(un));){var l=e.match(cn);l?(a[l[1]]=(l[2]||"").replace(/^("|')|("|')$/g,""),o.index+=l[0].length):o.index+=1}c&&(o.index+=c[0].length,o.selfClosing=!!c[1])}return o}var s=r.min(function(e){return e?e.index:NaN}),f=s.value;return f===1/0&&(f=e.length),{type:"text",index:f,value:e.slice(0,f)}}function oe(e){return new RegExp("</("+e+")\\s*>","i")}function ae(e,t){return t+' (~~~ "'+e.slice(t,t+15)+'" ~~~, the string itself is "'+e+'")'}function ue(e){return e.replace(/&(\w+|#x?\d+);/g,function(e){return ln.innerHTML=e,ln.textContent||ln.innerText})}function ce(e){return le(e)?e:($(e)&&(e=ye(e)),new Ln(e))}function le(e){return e instanceof Ln}function se(t){return"Window"===e(t)}function fe(t){return"HTMLDocument"===e(t)}function he(t){return"DocumentFragment"===e(t)}function ve(t){return"CSSStyleRule"===e(t)}function de(t){var n=e(t);return"Comment"===n||"Text"===n}function pe(e){return a(e.$[0])?e.$[0]:gn}function ge(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||""}function me(e){({}).hasOwnProperty.call(e,"dwayneData")||se(e)?se(e)&&!kn.some(function(t){var n=t.element;return n===e})&&kn.push({element:e,listeners:{}}):Object.defineProperty(e,"dwayneData",{value:{previousDisplay:"",listeners:{},ctx:"canvas"===ge(e)&&e.getContext("2d"),validators:new Zt([])}})}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;return new Ln(a(t)||fe(t)?t.querySelectorAll(String(e)):[])}function we(e,t){var n=dn(e,t),r=Dn.template(),i=new Ln(r.$[0].content);return n.forEach(function e(t){var n=t.name,r=t.attrs,o=t.value,a=t.parent,u=t.children,c=a.elem||i,l=c.create(n);t.elem=l,o&&l.text(o),r&&l.attr(r),"template"===n&&(t.elem=new Ln(l.prop("content"))),u&&u.forEach(e)}),new Ln(i)}function $e(e){return Number(String(e).replace(/px$/,""))}function ke(e){var t=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.elems=null,i=n,Ct(r,i)}return Tt(t,e),Ot(t,[{key:"afterConstruct",value:function(){var e=this.$$.parent.children,t=this.args.name,n=void 0;t?(n=e.find(function(e){var n=e.name;return n==="d-block-"+t}),n&&n.value.children.length&&(this.elems=n.value.children)):this.elems=e}}]),t}(e);return t.template='<d-elements value="{elems}" />',{name:"d-block",value:t}}function be(e,t){var n=function(e){function n(e){Et(this,n);var t=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),r=t.args,i=r.item,o=void 0===i?"$item":i,a=r.index,u=void 0===a?"$index":a;return O(t.$$,{uids:new qt({}),items:new Zt([]),UID:String(t.args.uid),itemName:o,indexName:u}),t}return Tt(n,e),Ot(n,[{key:"afterRender",value:function(){var e=this;this.constructValues(this.args.set),this.watchArgs("set",function(t){e.constructValues(t)})}},{key:"constructValues",value:function(e){var n=this,r=this.$$,i=r.elems,o=i.start,a=i.parent,u=r.uids,c=r.parent,l=r.scope,s=r.itemName,f=r.indexName,h=r.UID,v=this.children,d=u.$,p={},g={};new qt(e).forEach(function(e,t){l[s]=e,l[f]=t;var r=c.$$.evaluate(String(h),null,null,!1,!1,n);p[r]=p[r]||{},p[r][t]=!0,g[t]=r}),l[s]=null,l[f]=null,u.forEach(function(e,t){return p[t]?void e.splice(Object.keys(p[t]).length).forEach(function(e){e.remove()}):void e.forEach(function(e){e.remove()})});var m=o;new qt(e).forEach(function(e,r){var i=g[r],o=void 0;d[i]&&d[i].length?(o=p[i][r]=u.$[i].shift(),o.$$.scope[f]=r,o.$$.scope[s]=e):o=p[i][r]=t({node:{itemName:s,indexName:f,item:e,index:r,name:"#d-item",block:c,children:v},after:m,parent:a,parentBlock:n,parentScope:c});var l=o.$$.elems,h=l.start,y=l.end;if(h.prev().$[0]!==m.$[0]){var w=o.$$.elems.content;new Ln([h,w,y]).insertAfter(m)}m=y}),this.$$.uids=new qt(p).map(function(e){return new qt(e).values()})}}]),n}(e);return{name:"d-each",value:n}}function xe(e,t){var n=function(n){function r(){return Et(this,r),Ct(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return Tt(r,n),Ot(r,[{key:"afterConstruct",value:function(){var n=this;this.watchArgs("value",function(r){var i=n.$$,o=i.children,a=i.mixins,u=i.watchersToRemove,c=i.elems,l=c.start,s=c.content,f=c.parent,h=l;o.forEach(function(e){e.remove(!0)}),a.forEach(function(e){e.remove(!0)}),s.remove(),n.$$.children=new Zt([]),n.$$.mixins=new Zt([]),n.$$.watchersToRemove=u.filter(function(e){var t=e.watchers,n=e.watcher,r=e.forDElements;if(r)return!0;var i=t.indexOf(n);i!==-1&&t.splice(i,1)});var v=new Ln;new Zt(r||[]).forEach(function(r){var i=t({node:r,after:h,parent:f,parentBlock:n,parentScope:n});if(i instanceof e){var o=i.$$.elems;h=o.end,v.add(o.start,o.content,o.end)}else h=i,v.add(i)}),n.$$.elems.content=v})}}]),r}(e);return{name:"d-elements",value:n}}function Ee(e){var t=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.index=1/0,r.elems=null,r.values=r.children.map(function(e,t){var n=e.name,i=e.attrs,o=e.children,a=r.evaluateAndWatch("d-else"===n?"{true}":i.if||"{true}",function(e){if(!!e!==r.values.$[t]&&(r.values.$[t]=!!e,!(t>r.index))){if(t<r.index)return r.index=t,void(r.elems=o);var n=r.values.find(Boolean);n?(r.index=n.key,r.elems=r.children.$[n.key].children):(r.index=1/0,r.elems=null)}});return a&&r.index===1/0&&(r.index=t,r.elems=o),a}),i=n,Ct(r,i)}return Tt(t,e),t}(e);return t.template='<d-elements value="{elems}"/>',{name:"d-if",value:t}}function Oe(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),t}(e);return t.template='<d-elements value="{children}"/>',{name:"#d-item",value:t}}function Se(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.index=1/0,n.elems=null;var r=n.args,i=n.args.value,o=void 0;return n.values=n.children.object(function(e,t,a){var u=t.name,c=t.attrs,l=t.children;if(!o&&("d-case"===u||"d-default"===u)){"d-default"===u&&(o=!0);var s=void 0;s="d-default"===u?r.value:n.evaluateAndWatch(c.if||"{undefined}",function(e){if(!(n.equals(n.values.$[a].value,e)||(n.values.$[a].value=e,a>n.index))){if(a<n.index)return n.index=a,void(n.elems=l);var t=n.values.find(function(e){var t=e.value;return n.equals(t,r.value)});t?(n.index=t.key,n.elems=t.value.children):(n.index=1/0,n.elems=null)}}),n.equals(s,i)&&n.index===1/0&&(n.index=a,n.elems=l),e.push({name:u,children:l,value:s})}},new Zt([])),n}return Tt(t,e),Ot(t,[{key:"afterConstruct",value:function(){var e=this;this.watchArgs("value",function(t){e.index=1/0,e.values.forEach(function(n,r){var i=n.name,o=n.value,a=n.children,u="d-default"===i?t:o;e.equals(u,t)&&e.index===1/0&&(e.index=r,e.elems=a)})})}},{key:"equals",value:function(e,t){return new qt(e).equals(t)}}]),t}(e);return t.template='<d-elements value="{elems}"/>',{name:"d-switch",value:t}}function je(e){var t=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.text="",i=n,Ct(r,i)}return Tt(t,e),Ot(t,[{key:"afterConstruct",value:function(){var e=this;this.text=v(this.args.value)?"":this.args.value,this.watchArgs("value",function(t){e.text=v(t)?"":t})}}]),t}(e);return t.template="<d-elements value=\"{[{ name: '#text', value: text }]}\"/>",{name:"d-text",value:t}}function _e(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e,t){var n=this.elem;e=new qt(e).$,new qt(t).forEach(function(t,r){e[r]||n.removeAttr(r)}),n.attr(e)}}]),t}(e);return{name:"d-attr",value:t}}function Te(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){this.off&&this.off(),c(e)&&(this.off=this.elem.on(this.match[0],e))}}]),t}(e);return{name:"d-bind",value:t}}function Re(e){var n=function(e){function n(){return Et(this,n),Ct(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Tt(n,e),Ot(n,[{key:"afterUpdate",value:function(e,n){var r=this.elem;e=new qt(e).$,n=new qt(n).$,$(e)&&(e=e.split(/\s+/)),$(n)&&(e=e.split(/\s+/)),t(e)?(E(n,function(t){$(t)&&!e[t]&&r.removeClass(t)}),E(e,function(e){$(e)&&r.addClass(e)})):g(e)?(E(n,function(t,n){t&&!e[n]&&r.removeClass(n)}),E(e,function(e,t){e&&r.addClass(t)})):t(n)?E(n,function(e){$(e)&&r.removeClass(e)}):g(n)&&E(n,function(e,t){e&&r.removeClass(t)})}}]),n}(e);return{name:"d-class",value:n}}function Ce(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e,t){var n=this.$$.parent;e!==t&&$(t)&&delete n[t],$(e)&&(n[e]=this.elem)}}]),t}(e);return{name:"d-elem",value:t}}function Ae(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.hide():t.show()}}]),t}(e);return{name:"d-hide",value:t}}function Le(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.elem.on(n.match[0],function(){n.evaluateOnce()}),n}return Tt(t,e),t}(e);return t.evaluate=!1,{name:"d-on",value:t}}function Pe(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.show():t.hide()}}]),t}(e);return{name:"d-show",value:t}}function De(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e,t){var n=this.elem;e=new qt(e).$,new qt(t).forEach(function(t,r){e[r]||n.removeCSS(r)}),n.css(e)}}]),t}(e);return{name:"d-style",value:t}}function Ne(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){this.elem.text(v(e)?"":""+e)}}]),t}(e);return{name:"d-text",value:t}}function Me(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.elem,i=n.evaluateOnce();return c(i)&&r.validate(i),n}return Tt(t,e),t}(e);return t.evaluate=!1,{name:"d-validate",value:t}}function Ue(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.$$,i=r._value,o=r.parent,a=n.elem,u=a.prop("type");n.prop=Fn(a.name,[u,a]),n.type=u;var c=o.$$.evaluate("{"+i+"}",function(e){n.setProp(e)},n),l=n.getProp(c);return v(c)||"checkbox"===u?o[i]=l:n.setProp(c),a.on(zn(a.name,[u]),function(e){e.target===a.$[0]&&(o[i]=n.getProp(o[i]))}),n}return Tt(t,e),Ot(t,[{key:"setProp",value:function(e){var t=this.elem,n=this.prop,r=this.type;"text"===n?t.text(e):t.prop(n,Wn(t.name,[e,r,t.$[0].value]))}},{key:"getProp",value:function(e){var t=this.elem,n=this.prop,r=this.type;return"text"===n?t.text():Hn(t.name,[t.prop(n),r,t.$[0].value,e])}}]),t}(e);return t.evaluate=!1,{name:"d-value",value:t}}function Be(){var e=ye("d-root").first();if(!e.length)throw new Error("No d-root element is found! (initApp)");qe(ar,Gn),E(ur,function(e,t){if("evaluate"!==t){if(!c(e))return void console.warn('The "'+t+'" mixin is not a function and will not be registered (initApp)');if(!Yn.test(t))return void console.warn('Name "'+t+'" is not allowed for mixins so the mixin will not be registered (initApp)');if(!Ge(e))return void console.warn('The "'+t+'" mixin does not extend Mixin and will not be registered (initApp)');Jn[t]=e,j(e,{_match:new RegExp("^"+t+"(?:-([\\s\\S]+))?$")})}});var t=e.attr("block");if(!Gn[t])throw new Error('No "'+t+'" block is registered! (initApp)');var n=Dn.createComment(" d-root: start "),r=e.parent();n.add(Dn.createComment(" d-root: end ")),e.replace(n),Fe({node:{name:t,attrs:{},children:new Zt([])},after:n.first(),parent:r})}function qe(e,t){E(e,function(e,n){if("collapseWhiteSpace"!==n&&"defaultArgs"!==n&&"template"!==n&&"wrap"!==n){if(!c(e))return void console.warn('The "'+n+'" block is not a function and will not be registered (initApp)');if(!Zn.test(n)&&"#d-item"!==n)return void console.warn('Name "'+n+'" is not allowed for blocks so the block will not be registered (initApp)');if(!Ve(e))return void console.warn('The "'+n+'" block does not extend Block and will not be registered (initApp)');var r=Object.create(t);t[n]={block:e,html:He(dn(""+(e.template||""),e.collapseWhiteSpace)),children:r},qe(e,r)}})}function Ie(e,t){E(e,function(e){var n=e(t,Fe),r=n.name,i=n.value;Object.defineProperty(t,r,{value:i,enumerable:!0})})}function Fe(e){var t=e.node,n=e.after,r=e.parent,i=e.parentBlock,o=e.parentScope;o=t&&t.block||o;var a=t&&t.name||"UnknownBlock",u=t&&t.attrs||{},c=t&&t.children||new Zt([]),l=r.prop("namespaceURI")===tr?Dn.svg():new Ln(Dn.template().$[0].content),s=o?o.$$.Block.children:Gn,f=t&&t.name&&s[t.name]?s[t.name].block:null,h=void 0;if(!c.length&&(h=a.match(/^d-block-([\s\S]+)$/)||"d-block"===a)&&(f=Gn["d-block"].block,u.name=h?h[1]:null),!f){var d=function(){var e=t.value,c=t.children;if("#text"===a&&Xn.test(e))return{v:Fe({node:{name:"d-text",attrs:{value:e},children:new Zt([]),block:o},after:n,parent:r,parentBlock:i,parentScope:o})};var s=l.create(a),f=new Zt([]),h=new qt(u).object(function(e,t,n){var r=E(Jn,function(e,t){var r=n.match(e._match);if(r)return{match:r,name:t}});return r?void f.push({name:r.name,match:r.match,value:t,elem:s,parentBlock:i,parentScope:o}):void(e[n]=o.$$.evaluate(t,function(e){s.attr(n,e)},i))}).$;return v(e)||s.text(e),h&&s.attr(h),n.length?s.insertAfter(n):s.into(r),n=new Ln,c&&ze(c).forEach(function(e){var t=Fe({node:e,after:n,parent:s,parentBlock:i,parentScope:o});n=t instanceof ar?t.$$.elems.end:t}),f.forEach(function(e){We(e)}),{v:s}}();if("object"===("undefined"==typeof d?"undefined":xt(d)))return d.v}var p=t&&t.name?s[t.name]:null,g=new f({name:a,args:u,children:c,block:p,parent:r,parentBlock:i,parentScope:o});Object.defineProperties(g,{args:{value:g.args},global:{value:g.global}});var m="d-elements"===a?new Zt(g.args.value||[]):He(p.html,g);"d-elements"===a&&"#d-item"===i.$$.name&&(m=He(m,i));var y=g.$$,w=g.args,$=g.global,k=Rt(g,["$$","args","global"]),b=jt({},f.defaultArgs,w);if(delete k.$,delete k.$$,y.args=Qe(b),y.locals=Qe(k),y.global=Qe($,"global",o),"#d-item"===a){for(var x,O=(x={},St(x,t.itemName,t.item),St(x,t.indexName,t.index),x),S=g,j=o,_=void 0;!_&&(S=S.$$.parentBlock);)_="#d-item"===S.$$.name;_&&(j=S.$$.scope),y.Block=o.$$.Block,y.privateScope=Qe(O),Ze(y.scope=Object.create(j),O,y.privateScope)}"d-each"===a&&(y.scope=Object.create(o)),Ze(w,b,y.args),Ze($,$,y.global),Ze(g,k,y.locals);try{g.afterConstruct()}catch(e){console.error("Uncaught error in "+a+"#afterConstruct:",e)}var T=new Ln([y.elems.start,y.elems.end]);n.length?T.insertAfter(n):T.into(r),n=y.elems.start,ze(m).forEach(function(e){var t=Fe({node:e,after:n,parent:r,parentBlock:g,parentScope:o});if(t instanceof ar){var i=t.$$.elems;n=i.end,y.elems.content.add(i.start,i.content,i.end)}else n=t,y.elems.content.add(t)});try{g.afterRender()}catch(e){console.error("Uncaught error in "+a+"#afterRender:",e)}return g}function We(e){var t=e.name,n=e.value,r=e.match,i=e.elem,o=e.parentBlock,a=e.parentScope,u=Jn[t];new u({value:n,match:r,elem:i,parentBlock:o,parentScope:a})}function He(e,t){return new Zt(e||[]).map(function(e){var n=e.name,r=e.attrs,i=e.value,o=e.children,a={name:n,value:i,attrs:jt({},r)};return t&&(a.block=t),o&&(a.children=He(o,t)),a})}function ze(e){return new Zt(e||[]).concat({}).object(function(e,t){var n=t.name,r=e.html,i=e.ifElse;"d-else-if"!==n&&"d-else"!==n?(i&&(r.push({name:"d-if",block:i.$[0].block,children:i}),e.ifElse=null),"d-if"===n?e.ifElse=new Zt([t]):b(n)||r.push(t)):((i||r).push(t),"d-else"===n&&i&&(r.push({name:"d-if",block:i.$[0].block,children:i}),e.ifElse=null))},{html:new Zt([]),ifElse:null}).$.html}function Ve(e){return Qn.call(ar,e)&&Qn.call(ar.prototype,e.prototype)}function Ge(e){return Qn.call(ur,e)&&Qn.call(ur.prototype,e.prototype)}function Je(e){e.forEach(function(e){var t=e.watcher,n=e.watchers,r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Qe(e,t,n){var r={};return"global"===t&&(r=Object.create(n?n.$$.global:null)),new qt(e).object(function(e,t,n){e[n]={value:t,watchers:{temp:new Zt([]),perm:new Zt([])}}},r).$}function Ze(e,t,n){new qt(e).define(new qt(t).map(function(e,t){var r=n[t];return{get:function(){return rr&&ir.indexOf(r.watchers.temp)===-1&&ir.push(r.watchers.temp),r.value},set:function(e){if(e!==r.value){or||(or=[]);var t=r.watchers.temp.slice(),n=r.value;r.watchers.temp=new Zt([]),r.value=e,t.forEach(function(e){e.onRemove(),e()}),or.push({scope:r,oldValue:n,value:e}),setTimeout(function(){if(or){for(var e=new Zt([]);or.length;)for(var t=function(t){var n=or[t],r=n.scope,i=n.value,o=n.oldValue;r.watchers.perm.forEach(function(t){e.indexOf(t)===-1&&(t(i,o),e.push(t))}),or.splice(t,1)},n=or.length-1;n>=0;n--)t(n);or=null}},0)}}}}).$)}function Ye(e,t){var n=String(e),r=t-n.length;return r=r<0?0:r,cr.repeat(r).$+n}function Xe(){return Date.now()}function Ke(e){return arguments.length?(e=new qt(e).$,new mr(new Date(e))):new mr(new Date(Xe()))}function et(e){return yr.test(e)}function tt(e,t){return t?encodeURIComponent(e):e}function nt(e){var t=e.baseURL,n=e.data,r=e.headers,i=e.method,o=e.params,a=e.query,u=e.url,c=i.toUpperCase();e.method=c,e.url=$r(t,u,o,a),e.data=Er(n,c,r),e.headers=new qt(r).object(function(e,t,n){n=new rn(n).toCapitalCase().replace(/\s+/g,"-").$,e[n]=t.join(", ")}).$}function rt(){if(!qr){if(qr=!0,Vr=(Ar.find(function(e){var t=e.name;return t===zr})||{}).value,Jr=(Ar.find(function(e){var t=e.name;return t===Gr})||{}).value,zr&&!Vr)throw new Error('There is no specified fallback route ("'+zr+'")! (at initRouter)');Ar.forEach(function(e){var t=e.parentName,n=e.name,r=t||Hr,i=Ar.find(function(e){var t=e.name;return t===r})||{},o=i.value;if(!o)throw new Error('No such parent route ("'+r+'") found for the route ("'+n+'")! (at initRouter)');if(!o.abstract&&n!==Hr)throw new Error('Parent route must be abstract (for "'+n+'")! (at initRouter)');n!==Hr&&(e.parentName=r),e.parent=n===Hr?Kr:o}).forEach(function(e){var t=e.name,n=e.parent,r=n.params,i=n.query,o=n.path,a=e.params,u=e.query,c=e.relativeURL,l=e.relativePath,s=e,f=0,h=l,v="";if(w(o))throw new Error("URL regexp route cannot be extended! (at initRouter)");for(;s=s.parent;)f+=new qt(s.params).count,h=s.relativePath+h,v=s.relativeURL+v,s.children.push(e);if(h=new RegExp("^"+(h.replace(/\/+/g,"/").replace(/\/$/,"")||"/")+"$"),v=w(c)?h:(v+c).replace(/\/+/g,"/").replace(/\/$/,"")||"/",new qt(u).proto(i),new qt(a).proto(r).forEach(function(e,t,n){n[t]+=f}),t===Gr&&(new qt(a).count||new qt(u).count))throw new Error("Default route must not have URL or query params! (at initRouter)");e.url=v,e.validatePath=h}),ut(),Pn.on({popstate:function(){Nr.href!==Br&&(Ir=!0),Ir&&ut()},click:function(e){var t=new Ln(e.target).closest("a");t.length&&"_blank"!==t.attr("target")&&(e.preventDefault(),at(t.attr("href")||"",!0))}})}}function it(e){function t(e){if(e.beforeLoadRoute&&!h)try{e.beforeLoadRoute()}catch(e){console.error("Uncaught error in "+i+"#beforeLeave:",e)}h=!0}function n(e){if(e.beforeLeaveRoute&&h)try{e.beforeLeaveRoute()}catch(e){console.error("Uncaught error in "+i+"#beforeLeave:",e)}h=!1}var r=e||{},i=r.name,o=r.path,a=r.abstract,u=r.root,c=r.fallbackTo,l=r.default;if(qr)return console.warn("Router was already initialized (at makeRoute)"),Q;if(Fr&&u)throw new Error("There can't be two root routes (\""+Hr+'" and "'+i+'")! (at makeRoute)');if(Wr&&l)throw new Error("There can't be two default routes (\""+Gr+'" and "'+i+'")! (at makeRoute)');if(!i)throw new Error('State must have a non-empty string "name" property! (at makeRoute)');if(Ar.some(function(e){var t=e.name;return t===i}))throw new Error('State must have unique "name" property! (at makeRoute)');if(u&&(Fr=!0,Hr=i,e.parent=null,c&&(zr=c)),l){if(Wr=!0,Gr=i,a)throw new Error("Default route can't be abstract! (at makeRoute)");if(w(o))throw new Error("Default route can't have a regexp path! (at makeRoute)")}var s=new Xr(e);Ar.push(s);var f=void 0,h=void 0;return function(e){var r,o;return o=r=function(e){function r(e){Et(this,r);var o=Ct(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return u&&!function(){rt();var e={buildURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ar.find(function(t){var n=t.name;return n===e})||{},r=n.value;if(!r)throw new Error('There are no routes with name "'+e+'"! (at router.buildURL)');var i=r.url,o=r.encodeParams,a=r.encodeQuery;if(w(i))throw new Error("URL can be built only from the string URLs! (at router.buildURL)");var u=t.params,c=void 0===u?{}:u,l=t.query,s=void 0===l?{}:l,f=t.hash,h=void 0===f?"":f;return $r(Ur,i,c,s,h,{params:o,query:a})},go:function(t,n){at(e.buildURL(t,n),!0)},goToURL:function(e){at(e,!0)},pushURL:function(e){st(e,!0)},redirect:function(t,n){at(e.buildURL(t,n))},redirectToURL:function(e){at(e)},replaceURL:function(e){st(e)}};o.global.router=e}(),o.__isCurrentRoute__=s===Qr||s.children.indexOf(Qr)!==-1,o.args.route=Zr,h=!1,f=ot(i,function(){var e=s===Qr||s.children.indexOf(Qr)!==-1;e?t(o):n(o),o.args.route=Zr,o.__isCurrentRoute__=e}),o.__isCurrentRoute__&&t(o),o}return Tt(r,e),Ot(r,[{key:"beforeRemove",value:function(){f(),f=null,n(this),_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"beforeRemove",this).call(this)}}]),r}(e),r.template='<div class="dwayne-route route-'+i+'" d-show="{__isCurrentRoute__}">'+e.template+"</div>",o}}function ot(e,t){return Lr.$[e]=t,function(){Lr.delete(e)}}function at(e,t){st(e,t),ut()}function ut(){var e=ct();if(e){var t=e;Qr=t.route,Zr=Rt(t,["route"]),O(Zr,{name:Qr.name,host:Nr.host,hostname:Nr.hostname,href:Nr.href,origin:Nr.origin,pathname:Nr.pathname,port:Nr.port,protocol:Nr.protocol,search:Nr.search})}else{if(zr){var n=Vr,r=n.url,i=n.encodeParams,o=n.encodeQuery;return at($r(Ur,r,{},{},"",{params:i,query:o}))}Qr=null,Zr=null}Lr.forEach(function(e){return e()})}function ct(){var e=Nr.pathname||"/",t=Nr.search||"",n=void 0;return Ar.some(function(r){if(!r.abstract){var i=r.url,o=r.validatePath,a=r.params,u=r.query,c=r.decodeParams,l=r.decodeQuery,s=Cr(l),f=new qt(s.query),h={},v=((e.replace(/\/$/,"")||"/")+(w(i)?t:"")).match(o);if(v){for(var d in u)if(!f.hasOwn(d)||!u[d].test(f.$[d]))return;v.shift();for(var p in a)h[p]=lt(v[a[p]],c);return n={route:r,params:h,query:f.$,hash:s.hash},!0}}}),n?n:Gr?jt({route:Jr,params:{}},Cr(Jr.decodeQuery)):void 0}function lt(e,t){return t?decodeURIComponent(e):e}function st(e,t){try{Dr[t?"pushState":"replaceState"](null,null,e),Ir=!0}catch(t){Nr.href=e}}function ft(e,t,n){var r=e.match(/^[a-z_$]+/i);if(!r)throw new Error(t);var i=r[0],o=e.slice(i.length),a=void 0;if(o&&(o.indexOf("(")||o.indexOf(")")!==o.length-1))throw new Error(n);return o&&(a=new RegExp(o.slice(1,-1))),{name:i,regexp:a}}var ht="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vt={"#":function(e,t){e.id(t)},".":function(e,t){e.addClass(t)},$:function(e,t,n){e.attr(t,n)},"@":function(e,t,n){e.css(t,n)},"&":function(e,t,n){e.html(n)},"*":function(e,t,n){e.text(n)},"-":{".":function(e,t){e.removeClass(t)},$:function(e,t){e.removeAttr(t)},"@":function(e,t){e.removeCSS(t)}}},dt=["createImageData","createLinearGradient","createPattern","createRadialGradient","getImageData","getLineDash","isPointInPath","isPointInStroke","measureText"],pt=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","resetTransform","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],gt=[[],[],[]],mt=["a","abbr","address","area","article","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","content","datalist","dd","del","details","dfn","dialog","div","dl","dt","element","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","ins","kbd","label","legend","li","link","main","mark","menu","menuitem","meta","meter","nav","noscript","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],yt=["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hatch","hatchpath","hkern","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","style","svg","switch","symbol","textPath","tref","tspan","unknown","use","view","vkern"],wt=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],$t="[a-z][a-z\\d\\-_.:!@#\\$%\\^&*()\\[\\]{}\\\\='\"]*",kt="[^\\u0000-\\u0020\\s\"'>/=]+",bt=[".","+","*","?","(",")","[","]","{","}","<",">","^","$","!","=",":","-","|",",","\\"],xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),St=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Tt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Rt=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Ct=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},At=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lt=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Pt={">0":{check:function(e){return e>0},text:"$n argument must be positive!",error:RangeError},">=0":{check:function(e){return e>=0},text:"$n argument must be non-negative!",error:RangeError},"<0":{check:function(e){return e<0},text:"$n argument must be negative!",error:RangeError},"<=0":{check:function(e){return e<=0},text:"$n argument must be non-positive!",error:RangeError},"!!":{check:function(e){return!v(e)},text:"$n argument must be not null or undefined!",error:TypeError},array:{check:t,text:"$n argument must be an array!",error:TypeError},"array||!":{check:function(e){return t(e)||v(e)},text:"$n argument must be an array, or undefined, or null!",error:TypeError},arrayLike:{check:n,text:"$n argument must be array-like!",error:TypeError},"arrayLike||!":{check:function(e){return n(e)||v(e)},text:"$n argument must be array-like, or undefined, or null!",error:TypeError},date:{check:i,text:"$n argument must be a date!",error:TypeError},"date||!":{check:function(e){return i(e)||v(e)},text:"$n argument must be a date, or undefined, or null!",error:TypeError},dateLike:{check:o,text:"$n argument must be date-like!",error:TypeError},"dateLike||!":{check:function(e){return o(e)||v(e)},text:"$n argument must be date-like, or undefined, or null!",error:TypeError},function:{check:c,text:"$n argument must be a function!",error:TypeError},"function||!":{check:function(e){return c(e)||v(e)},text:"$n argument must be a function, or undefined, or null!",error:TypeError},int:{check:l,text:"$n argument must be an integer!",error:TypeError},"int||!":{check:function(e){return l(e)||v(e)},text:"$n argument must be an integer, or undefined, or null!",error:TypeError},intLike:{check:s,text:"$n argument must be integer-like!",error:TypeError},"intLike||!":{check:function(e){return s(e)||v(e)},text:"$n argument must be integer-like, or undefined, or null!",error:TypeError},number:{check:d,text:"$n argument must be a number!",error:TypeError},"number||!":{check:function(e){return d(e)||v(e)},text:"$n argument must be a number, or undefined, or null!",error:TypeError},numberLike:{check:p,text:"$n argument must be number-like!",error:TypeError},"numberLike||!":{check:function(e){return p(e)||v(e)},text:"$n argument must be number-like, or undefined, or null!",error:TypeError},object:{check:g,text:"$n argument must be an object!",error:TypeError},"object||!":{check:function(e){return g(e)||v(e)},text:"$n argument must be an object, or undefined, or null!",error:TypeError},regexp:{check:w,text:"$n argument must be a regular expression!",error:TypeError},"regexp||!":{check:function(e){return w(e)||v(e)},text:"$n argument must be a regular expression, or undefined, or null!",error:TypeError},string:{check:$,text:"$n argument must be a string!",error:TypeError},"string||!":{check:function(e){return $(e)||v(e)},text:"$n argument must be a string, or undefined, or null!",error:TypeError}},Dt=ht.Symbol||{toStringTag:"Symbol.toStringTag",iterator:Math.random().toString(36)},Nt=["1st","2nd","3rd","4th","5th","6th","7th"],Mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Et(this,e);for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];if(!R(o))throw new Error("Each element of an array must be a single char! (in Alphabet)");n[o]=o}Object.defineProperty(this,"$$",{value:n})}return Ot(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(!R(o))throw new Error("Each argument must be a single char! (in Alphabet#add)");this.$$[o]=o}return this}},{key:"contains",value:function(e){T([e],["string"],"Alphabet#contains");for(var t=this.$$,n=0,r=e.length;n<r;n++)if(!t[e[n]])return!1;return!0}},{key:"delete",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(!R(o))throw new Error("Each argument must be a single char! (in Alphabet#delete)");delete this.$$[o]}return this}},{key:"get",value:function(){return Object.keys(this.$$)}},{key:"token",value:function e(t){T([t],[["intLike",">0"]],"Alphabet#token");for(var n=Object.keys(this.$$),r=n.length,e="",i=0;i<t;i++)e+=n[Math.floor(Math.random()*r)];return e}}]),e}();j(Mt.prototype,St({},Dt.toStringTag,"Alphabet"));var Ut=function(e){function n(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.$$,i=r.mode,o=r.default,a=r.cases,u=E(a,function(e){var n=e.value,r=e.case;if("boolean"===i&&r||"equals"===i&&r==t||"strictEquals"===i&&r===t||"call"===i&&r(t))return{case:r,value:n}});return b(u)&&(u={value:o}),c(u.value)?(n=_(n,!0),n.push(t,u.case),u.value.apply(null,n)):u.value}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"equals",o=arguments[2];Et(this,n);var a=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));$(r)&&(b(arguments[1])||(o=i),i=r,r={});var u=[];return E(r,function(e,t){u.push({case:t,value:e})}),Object.defineProperty(e,"$$",{value:{cases:u,mode:i,default:o}}),Object.setPrototypeOf(e,n.prototype),t=e,Ct(a,t)}return Tt(n,e),Ot(n,[{key:"case",value:function(e,n){var r=this;return t(e)||(e=[e]),E(e,function(e){r.$$.cases.push({case:e,value:n})}),this}},{key:"default",value:function(e){return this.$$.default=e,this}},{key:"mode",value:function(e){return this.$$.mode=e,this}}]),n}(Function);j(Ut.prototype,St({},Dt.toStringTag,"Switcher"));var Bt=A("call",function(e){return e}).case(function(e){return new qt(e)===e},function(e){return new(Object.getPrototypeOf(e).constructor)(new qt(e.$).deepClone().$)}).case(a,function(e,t){return e.clone(t)}).case(i,function(e){return new Date(e)}).case(w,function(e){return new RegExp(e.source,e.toString().match(/[gimuy]*$/)[0])}).case(t,function(){return[]}).case(m,function(){return{}}),qt=function(){function r(e){return Et(this,r),e instanceof r?e:void Object.defineProperty(this,"$",{value:e})}return Ot(r,[{key:"assign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.$;return E(i&&arguments,function(e){E(new r(e).$,function(e,t){i[t]=e})}),this}},{key:"average",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#average"),this.sum(e)/this.count}},{key:"call",value:function(e){T([e],["function"],"Super#call");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},{key:"clone",value:function e(){var t=this.$,e=Bt(t,[t,!1]);return e!==t&&E(t,function(t,n){e[n]=t}),new this.constructor(e)}},{key:"create",value:function(e){return x(y(this.$)?void 0:Object.create(this.$,e))}},{key:"deepAssign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.$;return y(r)?this:(E(arguments,function(e){P(r,e)}),this)}},{key:"deepClone",value:function(){return new this.constructor(D(this.$))}},{key:"deepEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return N(this.$,e,!1)}},{key:"deepEvery",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepEvery"),t=Number(t),M(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepFilter",value:function(e,t){1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepFilter");var n=U(this.$,e,t,[{key:null,value:this.$}]);return x(v(n)?n:n||{})}},{key:"deepFind",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepFind"),B(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepForEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),q(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepForEachEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),I(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepFreeze",value:function(){return F(this.$),this}},{key:"deepMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepMap"),t=Number(t),x(W(this.$,e,t,[{key:null,value:this.$}]))}},{key:"deepReduce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments[2];T([e,t],["function",["numberLike",">0"]],"Super#deepReduce"),t=Number(t);var r=this.$,i=[{key:null,value:this.$}];return arguments.length<3?H(r,e,t,!1,void 0,i).IV:H(r,e,t,!1,{IV:n},i).IV}},{key:"deepSome",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepSome"),t=Number(t),z(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepStrictEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return N(this.$,e,!0)}},{key:"define",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),e=new r(e).$,g(this.$)&&Object.defineProperties(this.$,e),this}},{key:"delete",value:function(){for(var e=this.$,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(e&&n,function(t){delete e[t]}),this}},{key:"equals",value:function(e){var t=this.$;return e=new r(e).$,t==e||f(t)&&f(e)}},{key:"every",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return T([e],["function"],"Super#every"),E(this.$,function(t,n,r){if(!e(t,n,r))return!1})!==!1}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;T([e],["function"],"Super#filter");var t=this.$,r=n(t),i=r?[]:v(t)?t:{};return E(t,function(n,o){e(n,o,t)&&(r?i.push(n):i[o]=n)}),x(i)}},{key:"find",value:function(e){return T([e],["function"],"Super#find"),E(this.$,function(t,n,r){if(e(t,n,r))return{key:n,value:t}})||null}},{key:"forEach",value:function(e){return T([e],["function"],"Super#forEach"),E(this.$,function(t,n,r){e(t,n,r)}),this}},{key:"freeze",value:function(){return Object.freeze(this.$),this}},{key:"get",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return E(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{get:e})}),this}},{key:"has",value:function(e){var t=this.$;return!!g(t)&&e in t}},{key:"hasOwn",value:function(e){var t=this.$;return!!g(t)&&{}.hasOwnProperty.call(t,e)}},{key:"instanceof",value:function(e){return this.$ instanceof e}},{key:"isFrozen",value:function(){return Object.isFrozen(this.$)}},{key:"json",value:function(e,n){return 1!==arguments.length||c(e)||t(e)||[].unshift.call(arguments,null),[].unshift.call(arguments,this.$),JSON.stringify.apply(JSON,arguments)}},{key:"keyOf",value:function(e){var t=E(this.$,function(t,n){if(t==e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keyOfStrict",value:function(e){var t=E(this.$,function(t,n){if(t===e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keys",value:function(){var e=this.$;return x(g(e)?Object.keys(e):[])}},{key:"map",value:function(e){T([e],["function"],"Super#map");var t=this.$,r=n(t)?[]:h(t)?null:{};return E(t,function(n,i){r[i]=e(n,i,t)}),x(r)}},{key:"max",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#max"),this.object(function(t,n,r,i){var o=Number(e?e(n,r,i):n);o>t.value&&(t.key=r,t.value=o)},{key:null,value:-(1/0)}).$}},{key:"min",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#min"),this.object(function(t,n,r,i){var o=Number(e?e(n,r,i):n);o<t.value&&(t.key=r,t.value=o)},{key:null,value:1/0}).$}},{key:"object",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T([e],["function"],"Super#object"),E(this.$,function(n,r,i){e(t,n,r,i)}),x(t)}},{key:"prop",value:function(e,t){return arguments.length<=1&&$(e)?this.$?this.$[e]:void 0:(arguments.length>=2&&(e=St({},e,t)),this.assign(e))}},{key:"propertyDescriptor",value:function(e){var t=this.$;return g(t)?Object.getOwnPropertyDescriptor(t,e):void 0}},{key:"propertyNames",value:function(){var e=this.$;return x(g(e)?Object.getOwnPropertyNames(e):[])}},{key:"propertySymbols",value:function(){var e=this.$;return x(g(e)?Object.getOwnPropertySymbols(e):[])}},{key:"proto",value:function(e){var t=this.$,n=!v(t);return arguments.length?(n&&(g(e)||h(e))&&Object.setPrototypeOf(t,e),this):n?new r(Object.getPrototypeOf(t)):new r}},{key:"reduce",value:function(e,t){T([e],["function"],"Super#reduce");var n=this.$,r=void 0;return 1===arguments.length&&E(n,function(e,n){return r=n,t=e,!0}),E(n,function(i,o){o!==r&&(t=e(t,i,o,n))}),t}},{key:"set",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return E(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{set:e})}),this}},{key:"some",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return T([e],["function"],"Super#some"),E(this.$,function(t,n,r){if(e(t,n,r))return!0})||!1}},{key:"strictEquals",value:function(e){var t=this.$;return e=new r(e).$,t===e||f(t)&&f(e)}},{key:"sum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#sum"),this.reduce(function(t,n,r,i){return t+Number(e?e(n,r,i):n)},0)}},{key:"toJSON",value:function(){return this.$}},{key:"value",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return E(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{value:e})}),this}},{key:"values",value:function(){var e=[];return E(this.$,function(t){e.push(t)}),x(e)}},{key:"word",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#word"),this.reduce(function(t,n,r,i){return t+String(e?e(n,r,i):n)},"")}},{key:"count",get:function(){var e=this.$;return g(e)?n(e)?e.length:Object.keys(e).length:0}},{key:"toStringTag",get:function(){return e(this.$)}},{key:"type",get:function(){return xt(this.$)}}],[{key:"addStaticProperties",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),j(this,e),this}},{key:"addInstanceProperties",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),j(this.prototype,e),this}}]),r}();j(qt.prototype,St({},Dt.toStringTag,"Super")),gt[0].push({check:function(){return!0},cls:qt});var It={},Ft=Dt.iterator,Wt=function(){function e(t){function n(t){"pending"===s.status&&!function(){s.status="rejected",s.value=t;for(var n=0,r=u.length;n<r;n++)s.handled=!0,u[n](t);var i=e.onUnhandledRejection,o=e.onError;c(o)&&o(t),setTimeout(function(){!s.handled&&c(i)&&i(t)},1)}()}function r(e){if("pending"===s.status){if(e&&c(e.then))return e.then(function(e){r(e)},function(e){n(e)});s.status="fulfilled",s.value=e;for(var t=0,i=a.length;t<i;t++)s.handled=!0,a[t](e)}}if(Et(this,e),!c(t))throw new TypeError("Promise resolver "+{}.toString.call(t)+" is not a function");var i=void 0,o=void 0,a=[],u=[],l=this,s={handled:!1,get status(){return i},set status(e){i=e,l.status=e},get value(){return o},set value(e){o=e,l.value=e}};s.status="pending",s.value=void 0,j(this.$$={},{"get/set handled":{get:function(){return s.handled},set:function(e){e===It&&(s.handled=!0)}},handle:function(e,t,n,r,i){if(i===It){var o=c(t)?function(e){try{n(t(e))}catch(e){r(e)}}:null;"resolve"===e?a.push(o||function(e){return n(e)}):"reject"===e&&u.push(o||function(e){return r(e)})}},"get status":function(){return s.status},"get value":function(){return s.value}});try{t(r,n)}catch(e){n(e)}}return Ot(e,[{key:"abort",value:function(){}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(t){var n=c(t);return this.then(function(r){return e.resolve(n?t(r,!0):0).then(function(){return r})},function(r){return e.resolve(n?t(r,!1):0).then(function(){return e.reject(r)})})}},{key:"then",value:function(t,n){var r=this.$$;if("pending"===r.status)return new e(function(e,i){r.handle("reject",n,e,i,It),r.handle("resolve",t,e,i,It)});r.handled=It;var i=r.value,o=void 0,a=void 0;if("fulfilled"===r.status?(o="resolve",a=t):(o="reject",a=n),!c(a))return e[o](i);try{return e.resolve(a(i))}catch(t){return e.reject(t)}}}],[{key:"all",value:function(t){var n=[],r=0;if(t[Ft])return t=t[Ft](),new e(function(i,o){for(var a=void 0,u=0,c=function(){var t=e.resolve(a.value);r++,function(e){t.then(function(t){r--,n[e]=t,setTimeout(function(){a.done&&!r&&i(n)},1)},o)}(u++)};!(a=t.next()).done;)c();if(!u)return e.resolve([])});var i=t.length;return i?(r=i,new e(function(o,a){for(var u=function(i){var u=e.resolve(t[i]);u.then(function(e){r--,n[i]=e,r||o(n)},a)},c=0;c<i;c++)u(c)})):e.resolve([])}},{key:"race",value:function(t){return t[Ft]?(t=t[Ft](),new e(function(e,n){for(var r=void 0;!(r=t.next()).done;)r.value.then(e,n)})):new e(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"resolve",value:function(t){return t&&c(t.then)?t:new e(function(e){e(t)})}}]),e}();Wt.onError=null,Wt.onUnhandledRejection=console.error.bind(console,"%s %o","Uncaught (in promise)"),j(Wt.prototype,St({},Dt.toStringTag,"Promise"));var Ht=function(e){function t(){function e(){var t=this,n=arguments;if(++e.$$.called<e.$$.canBeCalled){var i=function(){var i=e.$$,o=i.before,a=i.after,u=i.sync,c=i.contextLocked,l=e.$$,s=l.context,f=l.args,h=void 0;if(s=c?s:s||t,f=f.concat(_(n)),u)return E(o,function(t){f=t.call(s,_(f),e)}),h=r.apply(s,_(f)),E(a,function(t){h=t.call(s,h,e)}),{v:h};var v=Wt.resolve(f);return E(o,function(t){v=v.then(function(n){return t.call(s,_(n),e)})}),v=v.then(function(e){return r.apply(s,_(e))}),E(a,function(t){v=v.then(function(n){return t.call(s,n,e)})}),{v:v}}();if("object"===("undefined"==typeof i?"undefined":xt(i)))return i.v}}var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Et(this,t);var i=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperty(e,"$$",{value:{after:[],args:[],argsLocked:[],before:[],called:0,canBeCalled:1/0,context:null,contextLocked:!1,sync:!0}}),Object.defineProperty(e,"$",{value:r}),Object.setPrototypeOf(e,t.prototype),n=e,Ct(i,n)}return Tt(t,e),Ot(t,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Func#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"apply",value:function(e,t){return function(){}.apply.apply(this,arguments)}},{key:"async",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$$.sync=!e,this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Func#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"bind",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bindContext(e).bindArgs(n)}},{key:"bindArgs",value:function(e){var t=this.$$;return t.args=t.args.concat(_(e)),this}},{key:"bindContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e),this}},{key:"call",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){}.call.apply(this,arguments)}},{key:"canBeCalled",value:function(e){return this.$$.canBeCalled=e,this}},{key:"limitArgsTo",value:function(e){return this.before(function(t){return t.slice(0,e)},!1)}},{key:"lock",value:function(e,t){return this.lockContext(e).lockArgs(t)}},{key:"lockArgs",value:function(e){var t=this.$$;return t.args=t.argsLocked=t.argsLocked.concat(_(e)),this}},{key:"lockContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e,t.contextLocked=!0),this}},{key:"timing",value:function(e){return e=arguments.length?String(e):this.$.name||"anonymous",this.before(function(t){return console.time(e),t},!1),this.after(function(t){return console.timeEnd(e),t},!1),this}},{key:"toString",value:function(){return function(){}.toString.call(this.$)}},{key:"unbind",value:function(){return this.unbindContext().unbindArgs()}},{key:"unbindArgs",value:function(){var e=this.$$;return e.args=e.argsLocked,this}},{key:"unbindContext",value:function(){var e=this.$$;return e.contextLocked||(e.context=null),this}},{key:"called",get:function(){return this.$$.called}}]),t}(qt);j(Ht.prototype,St({},Dt.toStringTag,"Func")),gt[1].push({check:c,cls:Ht});var zt=Math.PI/180,Vt=180/Math.PI,Gt=Math.LN2,Jt=Math.LN10,Qt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,+e))}return Tt(t,e),Ot(t,[{key:"acos",value:function(e){return(e?Vt:1)*Math.acos(this.$)}},{key:"asin",value:function(e){return(e?Vt:1)*Math.asin(this.$)}},{key:"atan",value:function(e){return(e?Vt:1)*Math.atan(this.$)}},{key:"cos",value:function(e){return Math.cos((e?zt:1)*this.$)}},{key:"interval",value:function(e){function t(){return i=!0,clearTimeout(o)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];T([e],["function"],"Num#interval"),e=new Ht(e).bindContext({abort:t}),n=_(n);var r=this.$,i=void 0,o=setTimeout(function t(){i||(e.apply(null,n),i||(o=setTimeout(t,r)))},0);return t}},{key:"log",value:function(e){return Math.log(e)/Math.log(this.$)}},{key:"pow",value:function(e){return Math.pow(this.$,e)}},{key:"root",value:function(e){return Math.pow(this.$,1/e)}},{key:"sin",value:function(e){return Math.sin((e?zt:1)*this.$)}},{key:"tan",value:function(e){return Math.tan((e?zt:1)*this.$)}},{key:"timeout",value:function e(t){var n=this,e=void 0,r=void 0,i=new Wt(function(i,o){r=o,e=setTimeout(i,n.$,t)});return i.abort=function(){return clearTimeout(e),r(new Error("Timeout was aborted")),this},i}},{key:"toBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.$.toString(e)}},{key:"toExponential",value:function(e){return this.$.toExponential(e)}},{key:"toFixed",value:function(e){return this.$.toFixed(e)}},{key:"toPrecision",value:function(e){return this.$.toPrecision(e)}},{key:"valueOf",value:function(){return Number(this.$)}},{key:"abs",get:function(){return Math.abs(this.$)}},{key:"acosh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e-1))}},{key:"asinh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e+1))}},{key:"atanh",get:function(){var e=this.$;return Math.log((1+e)/(1-e))/2}},{key:"cbrt",get:function(){var e=Math.pow(Math.abs(this.$),1/3);return this.$>0?e:-e}},{key:"ceil",get:function(){return Math.ceil(this.$)}},{key:"cosh",get:function(){var e=this.exp;return(e+1/e)/2}},{key:"cube",get:function(){return this.$*this.$*this.$}},{key:"exp",get:function(){return Math.exp(this.$)}},{key:"floor",get:function(){return Math.floor(this.$)}},{key:"ln",get:function(){return Math.log(this.$)}},{key:"log2",get:function(){return this.ln/Gt}},{key:"log10",get:function(){return this.ln/Jt}},{key:"round",get:function(){return Math.round(this.$)}},{key:"sign",get:function(){var e=this.$;return e?e>0?1:-1:e}},{key:"sinh",get:function(){var e=this.exp;return(e-1/e)/2}},{key:"sq",get:function(){return this.$*this.$}},{key:"sqrt",get:function(){return Math.sqrt(this.$)}},{key:"tanh",get:function(){var e=this.$;if(!u(e))return this.sign;var t=Math.exp(2*e);return(t-1)/(t+1)}}]),t}(qt);j(Qt.prototype,St({},Dt.toStringTag,"Num")),gt[1].push({check:d,cls:Qt});var Zt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_(e instanceof t?e.$:e)))}return Tt(t,e),Ot(t,[{key:"concat",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=_(this.$,!0);return E(arguments,function(e){return e=new qt(e).$,n(e)&&!$(e)?void E(e,function(e){i.push(e)}):void i.push(e)}),new this.constructor(i)}},{key:"indexOf",value:function(e){var t=this.keyOf(e);return null===t?-1:Number(t)}},{key:"indexOfStrict",value:function(e){var t=this.keyOfStrict(e);return null===t?-1:Number(t)}},{key:"join",value:function(e){return this.$.join.apply(this.$,arguments)}},{key:"pop",value:function(){return this.$.pop()}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.push.apply(this.$,arguments),this}},{key:"random",value:function(){return this.$[Y(0,this.$.length-1)]}},{key:"reverse",value:function(){return this.$.reverse(),this}},{key:"shift",value:function(){return this.$.shift()}},{key:"shuffle",value:function(){var e=this.$.length;return this.forEach(function(t,n,r){var i=n+Math.floor((e-n)*Math.random());r[n]=r[i],r[i]=t})}},{key:"slice",value:function(e,t){return new this.constructor(this.$.slice.apply(this.$,arguments))}},{key:"sort",value:function(e){return T([e],["function||!"],"Arr#sort"),this.$.sort(e),this}},{key:"sortAsc",value:function(){return this.sort(X)}},{key:"sortDesc",value:function(){return this.sort(function(e,t){return X(t,e)})}},{key:"splice",value:function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new t(this.$.splice.apply(this.$,arguments))}},{key:"string",value:function(){return this.join("")}},{key:"unshift",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.unshift.apply(this.$,arguments),this}},{key:"first",get:function(){return this.$[0]}},{key:"last",get:function(){var e=this.$;return e[e.length-1]}},{key:"length",get:function(){return this.$.length}}]),t}(qt);j(Zt.prototype,St({},Dt.toStringTag,"Arr")),gt[1].push({check:n,cls:Zt});var Yt={buffer:"ArrayBuffer",binary:"BinaryString",dataURL:"DataURL",text:"Text"},Xt=ht,Kt=Xt.URL,en=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"readAs",value:function(e,t){var n=this;if(!Yt[e])throw new Error("1st argument must be one of following values: buffer, binary, dataURL, text");var r=new FileReader,i=void 0;c(t)&&(r.onprogress=function(e){t(e,this)});var o=new Wt(function(t,o){i=o,r.onerror=function(e){var t=e.target;r&&o(t.error)},r.onload=function(e){var n=e.target;t(n.result)},r["readAs"+Yt[e]](n.$)});return o.abort=function(){return i(new Error("Reading was aborted")),r.abort(),r=null,this},o}},{key:"saveAs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"download",t=document.createElement("a");return t.href=this.dataURL,t.setAttribute("download",e),t.click(),this}},{key:"dataURL",get:function(){return Kt.createObjectURL(this.$)}}]),t}(qt);j(en.prototype,St({},Dt.toStringTag,"BlobObject")),gt[1].push({check:function(t){return/^(Blob|File)$/.test(e(t))},cls:en});var tn={"&":"&amp;","<":"&lt;",">":"&gt;"},nn=new RegExp(new qt(bt).word(function(e){return"\\"+e+"|"}).replace(/\|$/,""),"g"),rn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,""+e))}return Tt(t,e),Ot(t,[{key:"capitalizeFirst",value:function(){var e=this.$;return new t(e.slice(0,1).toUpperCase()+e.slice(1))}},{key:"endsWith",value:function(e,n){return arguments.length<2&&(n=this.$.length),this.slice(0,n).revert().startsWith(new t(e).revert().$)}},{key:"escapeHTML",value:function(){var e=this.$;return E(tn,function(t,n){e=e.replace(new RegExp(n,"g"),t)}),new t(e)}},{key:"escapeRegExp",value:function(){return this.replace(nn,"\\$&")}},{key:"in",value:function(e){return!!g(e)&&this.$ in e}},{key:"indexOf",value:function(e,t){return this.$.indexOf.apply(this.$,arguments)}},{key:"lastIndexOf",value:function(e,t){return this.$.lastIndexOf.apply(this.$,arguments)}},{key:"match",value:function(e){return x(this.$.match.apply(this.$,arguments))}},{key:"repeat",value:function(e){T([e],[["intLike",">=0"]],"Str#repeat"),e=+e;for(var n=this.$,r="",i=0;i<e;i++)r+=n;return new t(r)}},{key:"replace",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new t(this.$.replace(e,n))}},{key:"replaceString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new qt(e).$,T([e],["string"],"Str#replaceString"),new t(this.$.split(e).join(n))}},{key:"revert",value:function(){for(var e=this.$,n="",r=e.length-1;r>=0;r--)n+=e[r];return new t(n)}},{key:"search",value:function(e){return T([e],["regexp"]),this.$.search.apply(this.$,arguments)}},{key:"slice",value:function(e,n){return new t(this.$.slice.apply(this.$,arguments))}},{key:"split",value:function(e){return x(this.$.split.apply(this.$,arguments))}},{key:"startsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.$.indexOf.apply(this.$,arguments)===t}},{key:"substr",value:function(e,n){return new t(this.$.substr.apply(this.$,arguments))}},{key:"substring",value:function(e,n){return new t(this.$.substring.apply(this.$,arguments))}},{key:"toCamelCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"-").replace(/-[^-]/g,function(e){return e[1].toUpperCase()}).replace(/^[\S]/,function(e){return e.toLowerCase()}))}},{key:"toCapitalCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s[\S]/g,function(e){return e.toUpperCase()}).replace(/\s+/g," ").replace(/^\s/,"").replace(/^[\S]/,function(e){
return e.toUpperCase()}))}},{key:"toDotCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,".").replace(/[^.]/g,function(e){return e.toLowerCase()===e?e:"."+e}).replace(/\.+/g,".").replace(/^\./,"").toLowerCase())}},{key:"toHyphenCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"-").replace(/[^-]/g,function(e){return e.toLowerCase()===e?e:"-"+e}).replace(/-+/g,"-").replace(/^-/,"").toLowerCase())}},{key:"toLowerCase",value:function(){return new t(this.$.toLowerCase())}},{key:"toSnakeCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"_").replace(/[^_]/g,function(e){return e.toLowerCase()===e?e:"_"+e}).replace(/_+/g,"_").replace(/^_/,"").toLowerCase())}},{key:"toSpaceCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s+/g," ").replace(/^\s/,"").toLowerCase())}},{key:"toString",value:function(){return this.$}},{key:"toUpperCase",value:function(){return new t(this.$.toUpperCase())}},{key:"trim",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+|[\s\ufeff\u00a0]+$/g,""))}},{key:"trimLeft",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+/,""))}},{key:"trimRight",value:function(){return new t(this.$.replace(/[\s\ufeff\u00a0]+$/,""))}},{key:"length",get:function(){return this.$.length}}]),t}(qt);j(rn.prototype,St({},Dt.toStringTag,"Str")),gt[2].push({check:$,cls:rn});var on="Please, submit an issue at https://github.com/dwaynejs/dwayne/issues.",an=new qt({"tag-open":new RegExp("<("+$t+")\\s*","i"),"tag-close":oe($t),comment:/<!--((?:-[^\->]|[^\->])(?:-?[^-])*[^-]?|)-->/}),un=/^(\/?)>/,cn=new RegExp("^("+kt+")(?:\\s*=\\s*('[^']*'|\"[^\"]*\"|[^\\s\"'`<>=]+))?\\s*"),ln=document.createElement("div"),sn=A("strictEquals",function(e){return e}).case("tag-open",function(e,t){var n=t,r=n.value,i=n.selfClosing;return t={name:r,attrs:new qt(t.attrs).map(function(e){return ue(e)}).$,parent:e,children:new Zt([])},e.children.push(t),i||wt.indexOf(r)!==-1||(e=t),e}).case("tag-close",function(e,t){return e.name===t.value&&(e=e.parent),e}).case(["comment","text"],function(e,t,n,r){var i={name:"#"+r,parent:e,value:t.value};return"text"===r&&"script"!==e.name&&"style"!==e.name&&(i.value=ue(i.value),n&&(i.value=new rn(i.value).trim().$)),n&&/^\s*$/.test(i.value)||e.children.push(i),e}),fn=A("strictEquals",!1).case(["title","textarea","style","script"],!0),hn=function e(t){Et(this,e),this.index=t},vn=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.type="PARSING_ERROR",i=n,Ct(r,i)}return Tt(t,e),t}(Error),dn=function(e,t){function n(){throw new vn("Unexpected parsing error near index "+ae(i,a)+". "+on)}t=!!t;for(var r=new Zt([]),i=e,o=void 0,a=0,u={name:null,children:r};e.length;){try{o=ie(e,u)}catch(e){throw e instanceof hn||n(),new vn("Parsing error near index "+ae(i,a+e.index))}var c=o,l=c.type,s=c.attrs,f=c.selfClosing,h=c.index,v=c.value;a+=h,h||n();var d={type:l,value:v};"tag-open"===l&&(d.attrs=s,d.selfClosing=f),u=sn(d.type,[u,d,t]),e=e.slice(h)}return r},pn=ht.document,gn=pn.createElement("div"),mn=/(,| ) */,yn=new qt(Node.prototype).propertyDescriptor("textContent")?"textContent":"innerText",wn={},$n={},kn=new Zt([]),bn="input, select, textarea, datalist, keygen, output",xn=(V("click"),"http://www.w3.org/2000/svg"),En="http://www.w3.org/2000/xmlns/",On="http://www.w3.org/1999/xlink",Sn="http://www.w3.org/1999/xhtml",jn=A("call",function(e,t){var n="svg"===t?xn:e.prop("namespaceURI")||pn.documentElement.namespaceURI||Sn;return pn.createElementNS(n,t)}).case(function(e){return"#comment"===e},function(){return pn.createComment("")}).case(function(e){return"#text"===e},function(){return pn.createTextNode("")}),_n=A("strictEquals","href").case(["img","script","iframe","audio","video"],"src").case("form","action"),Tn=A("call",function(e){return e}).case($,function(e){return function(t){return new Ln(t).is(e)}}).case([t,le],function(e){return e=new Zt(e),function(t){return e.indexOf(t)!==-1}}),Rn=A("strictEquals",0).case("padding-box",function(e){return e}).case("border-box",function(e,t){return e+t}),Cn=A("strictEquals",function(e,t){return e+t}).case("padding-box",function(e){return e}).case("border-box",0),An=A("call",null).case(function(e){return"xmlns"===e||"xmlns:xlink"===e},function(e){return"svg"===e.name?En:null}).case(function(e){return/^xlink:\w/.test(e)},function(e){return e.closest("svg").length?On:null}),Ln=function(t){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Et(this,r);var t=Ct(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,function(){var t=e;return n(t)&&(se(t)||fe(t)||he(t)||a(t)||de(t)||ve(t))&&(t=[t]),new Zt(_(new qt(t).$,!0)).object(function(e,t){return e.indexOf(t)===-1&&(a(t)||se(t)||fe(t)||he(t)||de(t)||ve(t))?e.push(t):void(le(t)&&e.push.apply(e,t.$))},[]).$}()));return t.$$=e,t.forEach(me),t}return Tt(r,t),Ot(r,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(arguments,function(t){ce(t).forEach(function(t){e.indexOf(t)===-1&&e.push(t)})}),this}},{key:"addClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;E(a(t)&&e,function(e){return n.add(e)})})}},{key:"addComment",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){a(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin","<!--"+e+"-->")})}},{key:"addHTML",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){a(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin",e)})}},{key:"addRule",value:function(e,t,n){return this.some(function(r){if("style"===ge(r)){var i=r.sheet,o=i.cssRules.length,a=new qt(n).word(function(e,t){return new rn(t).toHyphenCase()+": "+e+";\n"});return i.insertRule(t+" {"+(a&&"\n")+a+"}",o),i.cssRules[o].dwayneData={name:e},!0}}),this}},{key:"addText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){new r(pn.createTextNode(e)).into(n,t)})}},{key:"apply",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=void 0,o=void 0,a=void 0,u=void 0,l=void 0,s=void 0;return new rn(new Zt(arguments).join(" ")).split(/(\s+)/).forEach(function(t){if(!i){if(l=t.slice(0,1),a=vt[l],s=1,a&&!c(a)&&(a=a[t.slice(1,2)],s=2),/^\s+$/.test(t)||!a)return;if(u=t.slice(s).match(/^[^()]+/),!u&&"*"!==l&&"&"!==l)return;i={name:u?u[0]:"",args:t.slice(s+(u?u[0]:"").length),callback:a},o=!0}o||(i.args+=t),i.args&&!/^\([\s\S]+\)$/.test(i.args)||(i.callback(e,i.name,i.args.replace(/^\(|\)$/g,"")),i=null),o=!1}),this}},{key:"attr",value:function(e,t){var n=pe(this);if(!arguments.length)return new qt(n.attributes).object(function(e,t){e[t.name]=t.value});if(arguments.length<=1&&$(e)){var i=An(e,[new r(n)]);return h(i)?n.getAttribute(e):n.getAttributeNS(i,e)}return arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){a(t)&&new qt(e).forEach(function(e,i){if(e=c(e)?e(new r(t).attr(i),t,n):e,v(e))return new r(t).removeAttr(i);var o=An(i,[new r(t)]);h(o)?t.setAttribute(i,e):t.setAttributeNS(o,i,e)})})}},{key:"blob",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wt(function(t,n){var i=e.first(),o=i.name;return"img"!==o&&"canvas"!==o&&n(new Error("First element in the set isn't an image or a canvas! (Elem#blob)")),"canvas"===o?t(i):void i.load().then(function(){if(i.isBroken())return n(new Error("The image is broken! (Elem#blob)"));var e=new r(pn).canvas(),o=i.width(),a=i.height();e.width(o).height(a).drawImage(i.$[0],0,0),t(e)})}).then(function(e){var n=e.dataURL(),r=atob(n.split(",")[1]),i=r.length,o=new ArrayBuffer(i),a=new Uint8Array(o);return ee(i,function(e){a[e]=r.charCodeAt(e)}),te(o,t)})}},{key:"blur",value:function(){return this.forEach(function(e){a(e)&&e.blur()})}},{key:"calcCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return getComputedStyle(pe(this),e)}},{key:"changeRule",value:function(e,t){return this.some(function(n){if("style"===ge(n)){var i=new Zt(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},o=i.value;if(o)return new r(o).css(t),!0}}),this}},{key:"child",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l(e)&&e>=0?this.children().elem(e):ce(e).into(this,t)}},{key:"children",value:function(){return new r(this.length?this.$[0].childNodes:[])}},{key:"class",value:function(e){return arguments.length?this.forEach(function(t){a(t)&&(t.className=e)}):new Zt(pe(this).className.split(" "))}},{key:"click",value:function(){return this.forEach(function(e){a(e)&&e.click()})}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.object(function(t,n){t.add(n.cloneNode(!!e))},new r)}},{key:"closest",value:function(e){return this.object(function(t,n){for(;n;){if(new r(n).is(e))return t.add(n);n=n.parentNode}},new r)}},{key:"contains",value:function(e){return e=ce(e),pe(this).contains(pe(e))}},{key:"create",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.object(function(t,i){var o=new r(jn(e,[new r(i)]));o.into(i),t.add(o.apply.apply(o,n))},new r)}},{key:"createComment",value:function(e){return this.create("#comment").text(e)}},{key:"createText",value:function(e){return this.create("#text").text(e)}},{key:"css",value:function(e,t){var n=pe(this).style;return ve(this.$[0])&&(n=this.$[0].style),arguments.length?arguments.length<=1&&$(e)?(e=new rn(e).toHyphenCase().$,n.getPropertyValue(e)+(n.getPropertyPriority(e)?" !important":"")):(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){(a(t)||ve(t))&&new qt(e).forEach(function(e,i){i=new rn(i).toHyphenCase().$,c(e)&&(e=e(new r(t).css(i),t,n)),t.style.removeProperty(i),t.style.setProperty(i,e.replace(/ ?!important$/,""),/!important$/.test(e)?"important":"")})})):new rn(n.cssText).split(/; ?/).object(function(t,n){n&&(e=n.split(/: /),t[new rn(e[0]).toCamelCase().$]=e[1])})}},{key:"ctx",value:function e(t,n){var e=void 0;return this.some(function(t){if("canvas"===ge(t))return e=t.dwayneData.ctx,!0}),arguments.length?e?(c(t)?t(e):(arguments.length>=2&&(t=St({},t,n)),O(e,t)),this):this:e}},{key:"data",value:function(e,t){var n=pe(this).dataset;return arguments.length?1===arguments.length&&$(e)?n[e]:(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){a(t)&&E(e,function(e,r){t.dataset[r]=c(e)?e(t.dataset[r],t,n):e})})):new qt(n).object(function(e,t,n){e[n]=t})}},{key:"dataURL",value:function(e,t){var n=this.ctx();return n?n.canvas.toDataURL.apply(n.canvas,arguments):""}},{key:"deleteRule",value:function(e){return this.some(function(t){if("style"===ge(t)){var n=new Zt(t.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e});if(n)return t.sheet.deleteRule(n.key),!0}}),this}},{key:"dispatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n||{},o=i.bubbles,u=void 0===o||o,c=i.cancelable,l=void 0===c||c,s=t;if(!/Event$/.test(e(s))){try{s=new Event(s,{bubbles:u,cancelable:l})}catch(e){s=pn.createEvent("Event"),s.initEvent(t,u,l)}O(s,r)}return this.forEach(function(e){a(e)&&e.dispatchEvent(s)})}},{key:"elem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(e=this.length+e),new r(this.$[e])}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return new r(_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"filter",this).call(this,Tn(e)))}},{key:"find",value:function(e){return $(e)?this.object(function(t,n){t.add(ye(e,n))},new r):_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"find",this).call(this,e)}},{key:"first",value:function(){return this.elem(0)}},{key:"firstChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var i=new r(n).children().find(function(t){return new r(t).is(e)})||{},o=i.value;t.add(o)},new r)}},{key:"focus",value:function(){return this.forEach(function(e){a(e)&&e.focus()})}},{key:"getRule",value:function(e){var t={selector:void 0,rules:{}};return this.some(function(n){if("style"===ge(n)){var i=new Zt(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},o=i.value;if(o)return t={selector:o.selectorText,rules:new r(o).css().$},!0}}),t}},{key:"hasAttr",value:function(e){var t=pe(this),n=An(e,[new r(t)]);return h(n)?t.hasAttribute(e):t.hasAttributeNS(n,e)}},{key:"hasClass",value:function(e){return pe(this).classList.contains(e)}},{key:"height",value:function(e){return this.prop.apply(this,new Zt(arguments).unshift("height").$)}},{key:"hide",value:function(){return this.forEach(function(e){e=new r(e);var t=e.css("display");t.indexOf("none")&&(e.prop("dwayneData").previousDisplay=t),e.css("display","none !important")})}},{key:"html",value:function(e){return arguments.length?this.forEach(function(t,n){a(t)&&(t.innerHTML=c(e)?e(t.innerHTML,t,n):e)}):pe(this).innerHTML}},{key:"id",value:function(e){return arguments.length?this.forEach(function(t){a(t)&&(t.id=e)}):pe(this).id}},{key:"insertAfter",value:function(e){e=ce(e).first();var t=e.parent();return t.length?(e=e.next().$[0],t=t.$[0],this.forEach(function(n){e?t.insertBefore(n,e):t.appendChild(n)})):this}},{key:"insertBefore",value:function(e){e=ce(e).first();var t=e.parent();return t.length?(e=e.$[0],t=t.$[0],this.forEach(function(n){t.insertBefore(n,e)})):this}},{key:"into",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=ce(e).$[0],!e||se(e)||fe(e)||de(e)?this:!t&&e.firstChild?this.slice().reverse().forEach(function(t){e.insertBefore(t,e.firstChild)}):this.forEach(function(t){e.appendChild(t)})}},{key:"is",value:function(e){if(h(e))return!0;var t=pe(this),n=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;if(!a(this.$[0]))return!1;try{return n.call(t,e)}catch(t){return console.error("Selector '"+e+"' is not a valid selector (Elem#is)"),!1}}},{key:"isBroken",value:function e(){var e=!1;return this.some(function(t){if("img"===ge(t))return e=!(!t.complete||t.naturalWidth&&t.naturalHeight),!0}),e}},{key:"isWithinDocument",value:function(){return 0!==this.first().closest("html").length}},{key:"last",value:function(){return this.elem(-1)}},{key:"lastChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var i=new r(n).children().reverse().find(function(t){return new r(t).is(e)})||{},o=i.value;t.add(o)},new r)}},{key:"load",value:function(){var e={proper:new r,broken:new r};return Wt.all(this.filter(function(e){return"img"===ge(e)}).map(function(t){var n=new r(t);return t.complete?void e[n.isBroken()?"broken":"proper"].push(t):new Wt(function(r){var i=n.on({load:function(){e.proper.add(t),i(),r()},error:function(){e.broken.add(t),i(),r()}})})}).$).then(function(){return e})}},{key:"moveAttr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$n[e],r=this.elem();return n&&r.length&&(arguments.length<2&&(t=n.attr(e)),n.removeAttr(e)),r.length&&($n[e]=r.attr(e,t)),this}},{key:"moveClass",value:function(e){var t=wn[e],n=this.elem();return t&&n.length&&t.removeClass(e),n.length&&(wn[e]=n.addClass(e)),this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.nextSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"off",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.dwayneData.listeners;E(e,function(e){E(e.split(mn),function(e){(n[e]||new qt).forEach(function(e){var t=e.removeListener;return t()})})})})}},{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],i=new qt({});return c(t)&&(n=t,t=null),$(e)&&(e=St({},e,n)),e=new qt(e).object(function(e,t,n){E(n.split(mn),function(n){e[n]=t})}),this.forEach(function(n){if(a(n)||se(n)||fe(n)){var o=(kn.find(function(e){var t=e.element;return t===n})||{}).value||n.dwayneData,u=o.listeners;e.forEach(function(e,o){var a=u[o]=u[o]||new qt({}).define("index",{value:0,configurable:!0,writable:!0}),c=a.prop("index");if(!a.has("listener")){var l=function(e){a.forEach(function(t){var i=t.selector,o=t.listener;new r(e.target).is(i)&&o.call(n,e,n,c)})};l.base=n,n.addEventListener(o,l,!1),a.define("listener",{value:l,configurable:!0,writable:!0})}var s=function(){a.delete(c),a.count||(n.removeEventListener(o,a.prop("listener"),!1),a.delete("listener"))};i.prop(o,(i.prop(o)||new Zt).push(s)),a.assign(St({index:c+1},c,{selector:t,listener:e,removeListener:s}))})}}),function(e){return arguments.length?void E(arguments,function(e){E(e.split(mn),function(e){i.has(e)&&(i.prop(e).forEach(function(e){return e()}),i.delete(e))})}):void i.forEach(function(e){e.forEach(function(e){return e()})})}}},{key:"parent",value:function(){return this.object(function(e,t){return e.add(t.parentNode)},new r)}},{key:"parentTree",value:function(){return this.object(function(e,t){for(;t=t.parentNode;)e.add(t)},new r)}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.previousSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"prop",value:function(e,t){return arguments.length<=1&&$(e)?this.$[0]?this.$[0][e]:void 0:(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){E(e,function(e,r){t[r]=c(e)?e(t[r],t,n):e})}))}},{key:"ref",value:function(e){return arguments.length?this.forEach(function(t){t=new r(t),t.attr(_n(t.name),e)}):this.attr(_n(this.name))}},{key:"remove",value:function(){return this.forEach(function(e){var t=e.parentNode;t&&t.removeChild(e)})}},{key:"removeAttr",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forEach(function(t){a(t)&&E(e,function(e){var n=An(e,[new r(t)]);h(n)?t.removeAttribute(e):t.removeAttributeNS(n,e)})})}},{key:"removeClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;E(a(t)&&e,function(e){return n.remove(e)})})}},{key:"removeCSS",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){a(t)&&E(e,function(e){t.style.removeProperty(e)})})}},{key:"replace",value:function(e){e=ce(e);var t=this.first().parent();if(!t.length)return this;var n=t,r="into",i=this.next().first().$[0],o=this.prev().first().$[0];i?(n=i,r="insertBefore"):o&&(n=o,r="insertAfter"),this.first().remove(),e[r](n)}},{key:"setOf",value:function(e,t,n){if(T({2:n},{2:["function"]},"Elem#setOf"),t=new qt(t).$,d(t)){try{T({1:t},{1:["intLike",">=0"]},"Elem#setOf")}catch(e){throw new Error("2nd argument must be either or non-negative integer, or object! (at Elem#setOf)")}t=K(t).$}return this.object(function(i,o,a){E(t,function(u,c){var l=new r(o).create(e);n(l.$[0],u,c,t,o,a),i.add(l)})},new r)}},{key:"show",value:function(){return this.forEach(function(e){var t=e,n=t.dwayneData;e=new r(e),0===e.css("display").indexOf("none")&&e.css("display",n.previousDisplay),n.previousDisplay=""})}},{key:"text",value:function(e){return arguments.length?this.forEach(function(t,n){var i=t[yn];new r(t).prop(yn,c(e)?e(i,t,n):e)}):this.prop(yn)}},{key:"toggleAttr",value:function(e,t){var n=arguments;return this.forEach(function(i){i=new r(i),(n.length<2?!i.hasAttr(e):t)?i.attr(e,""):i.removeAttr(e)})}},{key:"toggleClass",value:function(e,t){return(arguments.length<2?!this.hasClass(e):t)?this.addClass(e):this.removeClass(e)}},{key:"up",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return T([e],[["intLike",">=0"]],"Elem#up"),e=Number(e),this.object(function(t,n){for(var r=e;r--&&n;)n=n.parentNode;t.add(n)},new r)}},{key:"validate",value:function(e){function t(e,t,n){try{if(e.validity&&!e.validity.valid)throw new Error(e.validationMessage);e.dwayneData.validators.forEach(function(n){n(e.value,e,t)})}catch(t){(n.errors=n.errors||{})[e.name]=t}}if(T([e],["function||!"],"Elem#validate"),e)return this.forEach(function(t){var n=t.dwayneData;n.validators.push(e)});var n=new qt({errors:null});return this.filter(bn+", form").forEach(function(e,i){if("form"===ge(e)){var o=function(){var i={errors:null},o=new r(e),a=o.find(bn);return a.forEach(function(e,n){t(e,n,i)}),n.deepAssign(i),i=i.errors,o.dispatch("validate",{},{valid:!i,errors:i}),{v:a.forEach(function(e){var t=(i||{})[e.name];new r(e).dispatch("validate",{},{valid:!t,error:t||null})})}}();if("object"===("undefined"==typeof o?"undefined":xt(o)))return o.v}var a={errors:null};t(e,i,a),n.deepAssign(a),a=(a.errors||{})[e.name],new r(e).dispatch("validate",{},{valid:!a,error:a||null})}),n.every(function(e){return h(e)})?null:n.$.errors}},{key:"width",value:function(e){return this.prop.apply(this,new Zt(arguments).unshift("width").$)}},{key:"innerHeight",get:function(){var e=this.$[0];if(se(e))return e.innerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,i=t.boxSizing,o=t.height,a=t.paddingTop,u=t.paddingBottom,c=$e(n)+$e(r),l=$e(a)+$e(u);return $e(o)-Rn(i,[l,c])}},{key:"innerWidth",get:function(){var e=this.$[0];if(se(e))return e.innerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,i=t.boxSizing,o=t.paddingLeft,a=t.paddingRight,u=t.width,c=$e(n)+$e(r),l=$e(o)+$e(a);return $e(u)-Rn(i,[l,c])}},{key:"name",get:function(){return ge(this.$[0])}},{key:"outerHeight",get:function(){var e=this.$[0];if(se(e))return e.outerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,i=t.boxSizing,o=t.height,a=t.marginTop,u=t.marginBottom,c=t.paddingTop,l=t.paddingBottom,s=$e(n)+$e(r),f=$e(c)+$e(l);return $e(o)+$e(a)+$e(u)+Cn(i,[s,f])}},{key:"outerWidth",get:function(){var e=this.$[0];if(se(e))return e.outerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,i=t.boxSizing,o=t.marginLeft,a=t.marginRight,u=t.paddingLeft,c=t.paddingRight,l=t.width,s=$e(n)+$e(r),f=$e(u)+$e(c);return $e(l)+$e(o)+$e(a)+Cn(i,[s,f])}},{key:"toStringTag",get:function(){return e(this.$$)}}]),r}(Zt);j(Ln.prototype,St({},Dt.toStringTag,"Elem"));var Pn=new Ln(ht),Dn=new Ln(pn),Nn=new Ln(pn.documentElement),Mn=new Ln(pn.body),Un=new Ln(pn.head),Bn=new Zt(mt).concat(yt).$,qn=new Zt(Bn).map(function(e){return new rn(e).toCamelCase().$}).$;S(Ln.prototype,qn,function(e,t){return function(){return this.create.apply(this,new Zt(arguments).unshift(Bn[t]).$)}}),S(Ln.prototype,dt,function(e){return function(){var t=this.ctx();if(t)return t[e].apply(t,arguments)}}),S(Ln.prototype,pt,function(e){return function(){var t=this.ctx();return t&&t[e].apply(t,arguments),this}}),gt[2].push({check:function(t){return a(t)||se(t)||fe(t)||de(t)||he(t)||/^(HTMLCollection|NodeList)$/.test(e(t))},cls:Ln});var In=Object.freeze({registerDBlock:ke,registerDEach:be,registerDElements:xe,registerDIf:Ee,registerDItem:Oe,registerDSwitch:Se,registerDText:je}),Fn=A("strictEquals",function(e,t){return t.hasAttr("contenteditable")||t.hasAttr("contentEditable")?"text":"value"}).case("input",function(e){return"file"===e?"files":"radio"===e||"checkbox"===e?"checked":"value"}),Wn=A("strictEquals",function(e){return e}).case("input",function(e,t,n){return"radio"!==t&&"checkbox"!==t?e:"radio"===t?e===n:e.indexOf(n)!==-1}),Hn=A("strictEquals",function(e){return e}).case("input",function(e,n,r,i){if("radio"!==n&&"checkbox"!==n)return e;if("radio"===n)return e?r:null;if(e)return i?i.indexOf(r)===-1?new Zt(i).concat(r).$:i:[r];if(!t(i))return[];var o=i.indexOf(r);return o!==-1?[].concat(Lt(new Zt(i).slice(0,o).$),Lt(new Zt(i).slice(o+1).$)):i}),zn=A("strictEquals","input").case("select","change").case("input",function(e){return"radio"===e||"checkbox"===e||"color"===e||"file"===e?"change":"input"}),Vn=Object.freeze({registerDAttr:_e,registerDBind:Te,registerDClass:Re,registerDElem:Ce,registerDHide:Ae,registerDOn:Le,registerDShow:Pe,registerDStyle:De,registerDText:Ne,registerDValidate:Me,registerDValue:Ue}),Gn=Object.create(null),Jn=Object.create(null),Qn={}.isPrototypeOf,Zn=new RegExp("^"+$t+"$","i"),Yn=new RegExp("^"+kt+"$"),Xn=/^\{[\s\S]+\}$/,Kn=ht,er=Kn.document,tr="http://www.w3.org/2000/svg",nr=void 0,rr=void 0,ir=void 0,or=void 0,ar=function(){function e(t){var n=this;Et(this,e);var r=t.name,i=t.args,o=t.children,a=t.block,u=t.parent,c=t.parentBlock,l=t.parentScope,s=new Zt([]);Object.defineProperties(this,{$:{value:this},$$:{value:{name:r,parent:l,parentBlock:c,children:new Zt([]),mixins:new Zt([]),Block:a,elems:{start:Dn.createComment(" "+r+": start "),end:Dn.createComment(" "+r+": end "),content:new Ln,parent:u},watchersToRemove:s,evaluate:function e(t,i,o,a,u,c){function e(){var n=this,r=void 0;i&&(rr=!0,ir=new Zt([])),l.$$.expr=t,er.DwayneStore=l;try{r=h()}catch(e){nr&&nr(e)}return i&&!function(){var t=new Zt([]);ir.forEach(function(o){var u=function(){var t=e.call(n);t!==r&&i(t,r)},c={forDElements:a,watcher:u,watchers:o};u.onRemove=function(){t.forEach(function(e){var t=e.watcher,n=e.watchers,r=f.indexOf(e),i=n.indexOf(t);r!==-1&&f.splice(r,1),i!==-1&&n.splice(i,1)})},t.push(c),f.push(c),o.push(u)}),rr=!1,ir=new Zt([])}(),l.$$.expr=null,er.DwayneStore=null,r}if(!Xn.test(t))return t;a=!!a,u=!!u,t=t.replace(/^\{|\}$/g,"");var l="#d-item"===r&&!u||c?(c||n).$$.scope:n,s=o?o.$$:{},f=s.watchersToRemove,h=new Function("",'with(document.DwayneStore){$$.expr=eval("$$.expr="+$$.expr);return $$.expr}');return e.call(n)}}}});var f=new qt(i).map(function(e,t){if("d-each"===r&&("item"===t||"index"===t||"uid"===t))return e;var i="d-elements"===r&&"value"===t;return l.$$.evaluate(e,function(e){n.args[t]=e},n,i,i&&"#d-item"===c.$$.name)}).$;this.args=f,this.children=o||new Zt([]),this.global=Object.create(l?Object.create(l.global):null),this.$$.elems.start.$[0].DwayneBlock=this,this.$$.elems.end.$[0].DwayneBlock=this,c&&c.$$.children.push(this)}return Ot(e,null,[{key:"wrap",value:function(e){return T([e],["function"]),e(this)}},{key:"onEvalError",get:function(){return nr},set:function(e){nr=c(e)?e:null}}]),Ot(e,[{key:"afterConstruct",value:function(){}},{key:"afterRender",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluateAndWatch",value:function(e,t){return this.$$.parent.$$.evaluate(e,t,this)}},{key:"evaluateOnce",value:function(e){return this.$$.parent.$$.evaluate(e)}},{key:"remove",value:function(e){var t=this.$$,n=t.parentBlock,r=t.children,i=t.mixins,o=t.elems,a=o.start,u=o.content,c=o.end,l=t.watchersToRemove;Je(l),r.forEach(function(e){e.remove(!0)}),i.forEach(function(e){e.remove(!0)});try{this.beforeRemove()}catch(e){console.error("Uncaught error in beforeRemove:",e)}if(!e&&n){var s=n.$$.children.indexOf(this);s!==-1&&n.$$.children.splice(s,1)}new Ln([a,u,c]).remove()}},{key:"watch",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t)){if(1===arguments.length){for(var n in this.$$.global)this.$$.global[n].watchers.perm.push(t);return E(this.$$.args,function(e){var n=e.watchers;n.perm.push(t)}),E(this.$$.locals,function(e){var n=e.watchers;n.perm.push(t)})}E(arguments,function(n){if(n!==t){if(n=""+n,/^args\./.test(n)){if(n=n.replace(/^args\./,""),!e.$$.args[n])return;return void e.$$.args[n].watchers.perm.push(t)}if(/^global\./.test(n)){if(n=n.replace(/^global\./,""),!e.$$.global[n])return;return void e.$$.global[n].watchers.perm.push(t)}e.$$.locals[n]&&e.$$.locals[n].watchers.perm.push(t)}})}}},{key:"watchArgs",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))return 1===arguments.length?E(this.$$.args,function(e){var n=e.watchers;n.perm.push(t)}):void E(arguments,function(n){n!==t&&e.$$.args[n]&&e.$$.args[n].watchers.perm.push(t)})}},{key:"watchGlobals",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))if(1!==arguments.length)E(arguments,function(n){n!==t&&e.$$.global[n]&&e.$$.global[n].watchers.perm.push(t)});else for(var n in this.$$.global)this.$$.global[n].watchers.perm.push(t)}},{key:"watchLocals",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))return 1===arguments.length?E(this.$$.locals,function(e){var n=e.watchers;n.perm.push(t)}):void E(arguments,function(n){n!==t&&e.$$.locals[n]&&e.$$.locals[n].watchers.perm.push(t)})}}]),e}();ar.collapseWhiteSpace=!0,ar.defaultArgs={},Ie(In,ar);var ur=function(){function e(t){var n=this;Et(this,e);var r=t.value,i=t.elem,o=t.match,a=t.parentBlock,u=t.parentScope;Object.defineProperties(this,{$$:{value:{_value:r,parent:u,parentBlock:a,watchersToRemove:new Zt([])}}}),this.match=new Zt(o).slice(1).$,this.elem=i,new qt(this).proto().$.constructor.evaluate&&(this.value=this.evaluateAndWatch(function(e,t){n.value=e;try{n.afterUpdate(e,t)}catch(e){console.error("Uncaught error in "+name+"#onUpdate:",e)}}),this.afterUpdate(this.value)),a&&a.$$.mixins.push(this)}return Ot(e,[{key:"afterUpdate",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluateAndWatch",value:function(e){var t=this.$$,n=t._value,r=t.parent;return r.$$.evaluate(n,e,this)}},{key:"evaluateOnce",value:function(){var e=this.$$,t=e._value,n=e.parent;return n.$$.evaluate(t)}},{key:"remove",value:function(e){var t=this.$$,n=t.parentBlock,r=t.watchersToRemove;Je(r);try{this.beforeRemove()}catch(e){console.error("Uncaught error in beforeRemove:",e)}if(!e&&n){var i=n.$$.mixins.indexOf(this);i!==-1&&n.$$.mixins.splice(i,1)}}}]),e}();ur.evaluate=!0,Ie(Vn,ur);var cr=new rn("0"),lr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],sr=new qt(lr).map(function(e){return e.slice(0,3)}).$,fr=["January","February","March","April","May","June","Jule","August","September","October","November","December"],hr=new qt(fr).map(function(e){return e.slice(0,3)}).$,vr=[{format:"ccc",match:function(e,t){return Ye(e[t]("c"),3)}},{format:"c",match:function(e,t){return e[t]("c")}},{format:"ss",match:function(e,t){return Ye(e[t]("s"),2)}},{format:"s",match:function(e,t){return e[t]("s")}},{format:"mm",match:function(e,t){return Ye(e[t]("m"),2)}},{format:"m",match:function(e,t){return e[t]("m")}},{format:"hh",match:function(e,t){return Ye(e[t]("h"),2)}},{format:"h",match:function(e,t){return e[t]("h")}},{format:"dddd",match:function(e,t){return lr[e[t]("dw")]}},{format:"ddd",match:function(e,t){return sr[e[t]("dw")]}},{format:"dd",match:function(e,t){return Ye(e[t]("d"),2)}},{format:"d",match:function(e,t){return e[t]("d")}},{format:"MMMM",match:function(e,t){return fr[e[t]("M")-1]}},{format:"MMM",match:function(e,t){return hr[e[t]("M")-1]}},{format:"MM",match:function(e,t){return Ye(e[t]("M"),2)}},{format:"M",match:function(e,t){return e[t]("M")}},{format:"yyyy",match:function(e,t){return Ye(e[t]("y"),4)}},{format:"yy",match:function(e,t){return String(e[t]("y")).slice(-2)}},{format:"y",match:function(e,t){return e[t]("y")}}],dr={c:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,M:2592e6,y:31536e6},pr=A({c:function(e,t){return e[t+"Milliseconds"]()},s:function(e,t){return e[t+"Seconds"]()},m:function(e,t){return e[t+"Minutes"]()},h:function(e,t){return e[t+"Hours"]()},d:function(e,t){return e[t+"Date"]()},dw:function(e,t){return e[t+"Day"]()},M:function(e,t){return e[t+"Month"]()+1},y:function(e,t){return e[t+"FullYear"]()}},"equals",NaN),gr=A({c:function(e,t,n){return e[n+"Milliseconds"](t)},s:function(e,t,n){return e[n+"Seconds"](t)},m:function(e,t,n){return e[n+"Minutes"](t);
},h:function(e,t,n){return e[n+"Hours"](t)},d:function(e,t,n){return e[n+"Date"](t)},M:function(e,t,n){return e[n+"Month"](t-1)},y:function(e,t,n){return e[n+"FullYear"](t)}}),mr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return Tt(t,e),Ot(t,[{key:"add",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),this.time(this.time()+new qt(e).sum(function(e,t){return dr[t]*e}))}},{key:"expires",value:function(e){return arguments.length||(e=this),new Qt(this.$-Xe()).timeout(e)}},{key:"format",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new rn(new qt(e).$),n=String(new qt(n).$),E(vr,function(r){e=e.replaceString(n+r.format,r.match(t,"get"))}),e.$}},{key:"formatUTC",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new rn(new qt(e).$),n=String(new qt(n).$),E(vr,function(r){e=e.replaceString(n+r.format,r.match(t,"getUTC"))}),e.$}},{key:"get",value:function(e){return pr(e,[this.$,"get"])}},{key:"getUTC",value:function(e){return pr(e,[this.$,"getUTC"])}},{key:"isAfter",value:function(e){return e=new Date(new qt(e).$),e.getTime()<this.$.getTime()}},{key:"isBefore",value:function(e){return e=new Date(new qt(e).$),e.getTime()>this.$.getTime()}},{key:"isBetween",value:function(e,t){var n=this.$.getTime();return e=new Date(new qt(e).$),t=new Date(new qt(t).$),n>e.getTime()&&n<t.getTime()}},{key:"isInvalid",value:function(){return"Invalid Date"===this.$.toString()}},{key:"isPassed",value:function(){return this.isBefore(Xe())}},{key:"ofOne",value:function(e,n){var r=this;if(!(e in dr)||"w"===e)return!1;n=new t(new Date(n));var i=void 0;return E(dr,function(t,o){if(o===e&&(i=!0),i&&"w"!==o)return(!i||r.get(o)===n.get(o))&&void 0})!==!1}},{key:"set",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=St({},e,t)),e=new qt(e).$,E(e,function(e,t){gr(t,[n,e,"set"])}),this}},{key:"setUTC",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=St({},e,t)),e=new qt(e).$,E(e,function(e,t){gr(t,[n,e,"setUTC"])}),this}},{key:"time",value:function(e){var t=this.$;return arguments.length&&t.setTime(e),t.getTime()}},{key:"toISOString",value:function(){return this.$.toISOString()}},{key:"toLocaleString",value:function(){return this.$.toLocaleString()}},{key:"toString",value:function(){return this.$.toString()}},{key:"valueOf",value:function(){return this.$.valueOf()}}]),t}(qt);j(mr.prototype,St({},Dt.toStringTag,"Dat")),gt[1].push({check:i,cls:mr});var yr=/^(([a-z][a-z\d+\-.]*:)?\/\/|data:[a-z]+\/[a-z]+;base64,)/i,wr=A("call",function(){return new Zt([])}).case(t,function(e,n){var r=new Zt([]);return E(n,function(n){return m(n)||t(n)?void(r=r.concat(wr(n,[e+"[]"]))):void r.push({param:e+"[]",value:n})}),r.$}).case(m,function(e,n){var r=new Zt([]);return E(n,function(n,i){return m(n)||t(n)?void(r=r.concat(wr(n,[e?e+"["+i+"]":i]))):void r.push({param:e?e+"["+i+"]":i,value:g(n)?JSON.stringify(n):String(n)})}),r.$}),$r=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=o.params,u=void 0===a||a,c=o.query,l=void 0===c||c,s=et(t)?t:String(e).replace(/\/+$/,"")+"/"+String(t).replace(/^\/+/,"");E(n,function(e,t){s=new rn(s).replaceString(":"+t,tt(e,u)).$});var f=wr(r,[""]);return f.length&&(s+=(s.indexOf("?")===-1?"?":"&")+f.map(function(e){var t=e.param,n=e.value;return tt(t,l)+"="+tt(n,l)}).join("&")),""+s+(i?"#"+i:"")},kr=function(e){var t={};return E((e||"").split("\n"),function(e){var n=e.indexOf(":"),r=new rn(e.substring(0,n)).trim().toCamelCase().$,i=new rn(e.substring(n+1)).trim().$;r&&(t[r]=(t[r]?t[r]+", ":"")+i)}),t},br=new Zt(["FormData","File","Blob","ArrayBuffer","String","Number"]),xr=new Zt(["DELETE","GET","HEAD"]),Er=function(t,n,r){return t=new qt(t).$,xr.indexOfStrict(n)!==-1?null:g(t)&&br.indexOfStrict(e(t))===-1?(r.contentType||(r.contentType=["application/json;charset=utf-8"]),new qt(t).json()):t},Or={after:[],auth:{username:"",password:""},baseURL:ht.location.origin,before:[],data:null,headers:{},method:"get",params:{},query:{},responseType:"",timeout:0,url:"",withCredentials:!1},Sr=new Zt(["post","put"]),jr=function(e){function n(){function e(){return e.request.apply(e,arguments)}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Et(this,n);var i=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=new qt({}).deepAssign(Or,r).$;return o.before.indexOf(nt)===-1&&o.before.push(nt),Object.defineProperty(e,"$$",{value:o}),Object.setPrototypeOf(e,n.prototype),t=e,Ct(i,t)}return Tt(n,e),Ot(n,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Fetch#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Fetch#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"config",value:function(e,t){var n=this.$$;return arguments.length?(c(e)?e(n):(arguments.length>=2&&(e=St({},e,t)),new qt(n).deepAssign(e)),this):n}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,O({method:"delete"},t))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,O({method:"get"},t))}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,O({method:"head"},t))}},{key:"headers",value:function e(n,r){var e=this.$$.headers;return arguments.length>=2&&(n=St({},n,r)),E(n,function(n,r){var i=e[r]||[],o=t(n)?n:[n];(e[r]=i).push.apply(i,o)}),this}},{key:"instance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new qt(e).hasOwn("data")?{data:e.data}:{};delete e.data;var r=new qt({}).deepAssign(this.$$,e).assign(t).$;return new n(r)}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"patch",data:t},n))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"post",data:t},n))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"put",data:t},n))}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};1!==arguments.length||$(e)||(t=e);var n=new qt(t).hasOwn("data")?{data:t.data}:{},r=$(e)?{url:e}:{};delete t.data;var i=new qt(this.$$).deepClone().deepAssign(r,t).assign(n).$,o=void 0,a=Wt.resolve();return E(i.before,function(e){a=a.then(function(){return e.length>=2?Wt.resolve():new Wt(function(t){t(e(i))})},function(t){return e.length<2?Wt.reject(t):new Wt(function(n){n(e(t,i))})})}),a=a.then(function(){return new Wt(function(e,t){var n=i.after,r=i.auth,a=r.username,u=r.password,c=i.data,l=i.headers,s=i.method,f=i.onprogress,h=i.responseType,v=i.timeout,d=i.url,p=i.withCredentials;o=new XMLHttpRequest,o.open(s,d,!0,a,u),E(l,function(e,t){o.setRequestHeader(t,e)}),f&&(Sr.indexOfStrict(s)===-1?o.onprogress=f:o.upload.onprogress=f),o.onabort=function(){t(new Error("Request was aborted")),o=null},o.onerror=function(){t(new Error("Network error")),o=null},o.ontimeout=function(){t(new Error("Request time exceeded")),o=null},o.onreadystatechange=function(){if(o&&o.status&&4===o.readyState){var t={config:i,data:h&&"text"!==h?o.response:o.responseText,headers:kr(o.getAllResponseHeaders()),status:1223===o.status?204:o.status,statusText:1223===o.status?"No Content":o.statusText,xhr:o},r=Wt.resolve();E(n,function(e){r=r.then(function(){return e.length>=2?Wt.resolve():new Wt(function(n){n(e(t))})},function(n){return e.length<2?Wt.reject(n):new Wt(function(r){r(e(n,t))})})}),e(r.then(function(){return t}).catch(function(e){try{e.response=t}catch(t){throw e}throw e}))}},o.responseType=h,o.timeout=Number(v)||0,o.withCredentials=!!p,o.send(c)})}),a.abort=function(){return o&&o.abort(),this},a}}]),n}(Function);j(jr.prototype,St({},Dt.toStringTag,"Fetch"));var _r=new jr,Tr=ht,Rr=Tr.location,Cr=function(e){var t=Rr.search,n=Rr.hash,r={query:{},hash:n.replace(/^#/,"")};return t?(new rn(t.replace(/^\?/,"")).split("&").forEach(function(t){var n=t.split("="),i=At(n,2),o=i[0],a=i[1],u=void 0===a?"":a;if(o=e?decodeURIComponent(o):o,u=e?decodeURIComponent(u):u,/^[^[]+/.test(o)){var c=void 0,l=r.query;new rn(o).match(/^[^[\]]*|\[[^[\]]*]/g).forEach(function(e){return e.indexOf("[")?void(c=e):(e=e.slice(1,-1),l=l[c]=l[c]||(e?{}:[]),void(c=e||l.length))}),l[c]=u}}),r):r},Ar=new Zt([]),Lr=new qt({}),Pr=ht,Dr=Pr.history,Nr=Pr.location,Mr=Pr.location,Ur=Mr.origin,Br=Mr.href,qr=void 0,Ir=void 0,Fr=void 0,Wr=void 0,Hr=void 0,zr=void 0,Vr=void 0,Gr=void 0,Jr=void 0,Qr=void 0,Zr=void 0,Yr=A("call",function(){throw new Error("State path must be a string, a regular expression or undefined! (at registerState)")}).case(w,function(e){return{path:e.source.replace(/\\\//g,"/"),url:e,params:{}}}).case(v,function(){return{path:"/",url:"/",params:{}}}).case($,function(e){if(e.indexOf("/"))throw new Error('If route path is a string it must start with "/"! (at registerState)');var t=e.indexOf("?"),n=new qt({}),r="",i=new rn(e).slice(0,t===-1?e.length:t).replace(/^\/|\/$/g).split(/\//).map(function(e,t,r){if(!e&&r.length>1)throw new Error('If route path is a string it must not contain "//" or end with "/"! (at makeRoute)');var i=e.indexOf(":");if(i>0)throw new Error("If route path is a string resource part must be either a string or an URL parameter! (at makeRoute)");if(i===-1)return{url:e,value:e};var o=ft(e.slice(1),'URL parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"URL parameter regexp validator must be within parentheses (e.g. :userId(\\d+) and not contain ones)! (at makeRoute)"),a=o.name,u=o.regexp,c=void 0===u?/[^\/]*/:u;return n.$[a]=n.count,{type:"param",url:":"+a,value:c}}).word(function(e){var t=e.type,n=e.url,i=e.value,o=void 0;return o="param"===t?"("+i.source.replace(/\\\//g,"/")+")":new rn(i).escapeRegExp().$,r+="/"+n,"/"+o});return{path:i,url:r,params:n.$}}),Xr=function e(t){Et(this,e),t=t||{};var n=t||{},r=n.name,i=n.path,o=void 0===i?"/":i,a=n.abstract,u=void 0!==a&&a,c=n.parent,l=n.decodeQuery,s=void 0===l||l,f=n.encodeQuery,h=void 0===f||f,v=n.decodeParams,d=void 0===v||v,p=n.encodeParams,g=void 0===p||p,m=Yr(o),y=m.url,w=m.path,k=m.params,b={};new qt(this).assign({name:r,parentName:c,abstract:!!u,children:new Zt([]),decodeParams:!!d,decodeQuery:!!s,encodeParams:!!g,encodeQuery:!!h,params:k,query:b,relativePath:w,relativeURL:y});var x=$(o)?o.indexOf("?"):-1;if(x!==-1&&new rn(o).replace(/&$/).slice(x+1).split("&").forEach(function(e){var t=ft(e,'Query parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"Query parameter regexp validator must be within parentheses (e.g. :userId(\\d+)) and not contain them! (at makeRoute)"),n=t.name,r=t.regexp,i=void 0===r?/[\s\S]*/:r;b[n]=new RegExp("^"+i.source.replace(/\\\//g,"/")+"$")}),r===Gr&&(new qt(k).count||new qt(b).count))throw new Error("Default route must not have URL or query params! (at makeRoute)")},Kr=new Xr,ei=Object.freeze({D:x,isArray:t,isArrayLike:n,isBoolean:r,isDate:i,isDateLike:o,isElement:a,isFinite:u,isFunction:c,isInteger:l,isIntegerLike:s,isNaN:f,isNull:h,isNil:v,isNumber:d,isNumberLike:p,isObject:g,isPlainObject:m,isPrimitive:y,isRegExp:w,isString:$,isSymbol:k,isUndefined:b,Alphabet:Mt,alphabet:C,Arr:Zt,array:K,iterate:ee,BlobObject:en,blob:te,Block:ar,Mixin:ur,initApp:Be,Dat:mr,now:Xe,date:Ke,Elem:Ln,win:Pn,doc:Dn,html:Nn,body:Mn,head:Un,find:ye,parseHTML:we,px:$e,Fetch:jr,fetch:_r,Func:Ht,method:V,noop:G,prop:J,self:Q,Num:Qt,rand:Z,random:Y,Promise:Wt,makeRoute:it,Str:rn,parseJSON:re,Super:qt,Switcher:Ut,switcher:A,when:L}),ti=x;O(ti,ei),delete ti.D,ht.D=ti}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL2xpYi9oZWxwZXJzL3RvU3RyaW5nVGFnLmpzIiwiLi4vbGliL2hlbHBlcnMvY2hlY2tUeXBlcy5qcyIsIi4uL2xpYi9ELmpzIiwiLi4vbGliL2hlbHBlcnMvaXRlcmF0ZS5qcyIsIi4uL2xpYi9oZWxwZXJzL2Fzc2lnbi5qcyIsIi4uL2xpYi9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwiLi4vbGliL2hlbHBlcnMvdG9BcnJheS5qcyIsIi4uL2xpYi9oZWxwZXJzL3ZhbGlkYXRlLmpzIiwiLi4vbGliL0FscGhhYmV0LmpzIiwiLi4vbGliL1N3aXRjaGVyLmpzIiwiLi4vbGliL1N1cGVyLmpzIiwiLi4vbGliL0Z1bmMuanMiLCIuLi9saWIvTnVtLmpzIiwiLi4vbGliL0Fyci5qcyIsIi4uL2xpYi9CbG9iT2JqZWN0LmpzIiwiLi4vbGliL1N0ci5qcyIsIi4uL2xpYi9oZWxwZXJzL21hcmt1cFRvSlNPTi5qcyIsIi4uL2xpYi9FbGVtLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWJsb2NrLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWVhY2guanMiLCIuLi9saWIvYmxvY2tzL2QtZWxlbWVudHMuanMiLCIuLi9saWIvYmxvY2tzL2QtaWYuanMiLCIuLi9saWIvYmxvY2tzL2QtaXRlbS5qcyIsIi4uL2xpYi9ibG9ja3MvZC1zd2l0Y2guanMiLCIuLi9saWIvYmxvY2tzL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC1hdHRyLmpzIiwiLi4vbGliL21peGlucy9kLWJpbmQuanMiLCIuLi9saWIvbWl4aW5zL2QtY2xhc3MuanMiLCIuLi9saWIvbWl4aW5zL2QtZWxlbS5qcyIsIi4uL2xpYi9taXhpbnMvZC1oaWRlLmpzIiwiLi4vbGliL21peGlucy9kLW9uLmpzIiwiLi4vbGliL21peGlucy9kLXNob3cuanMiLCIuLi9saWIvbWl4aW5zL2Qtc3R5bGUuanMiLCIuLi9saWIvbWl4aW5zL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWxpZGF0ZS5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWx1ZS5qcyIsIi4uL2xpYi9CbG9jay5qcyIsIi4uL2xpYi9jb25zdGFudHMvZm9ybWF0cy5qcyIsIi4uL2xpYi9EYXQuanMiLCIuLi9saWIvaGVscGVycy9jb25zdHJ1Y3RVUkwuanMiLCIuLi9saWIvRmV0Y2guanMiLCIuLi9saWIvUm91dGVyLmpzIiwiLi4vbGliL2NvbnN0YW50cy9nbG9iYWwuanMiLCIuLi9saWIvY29uc3RhbnRzL2FwcGxpZWRSZWdFeHBzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jYW52YXNNZXRob2RzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jb25zdHJ1Y3RvcnMuanMiLCIuLi9saWIvY29uc3RhbnRzL2VsZW1lbnRzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9odG1sQWxsb3dlZFRhZ1N5bWJvbHMuanMiLCIuLi9saWIvY29uc3RhbnRzL3JlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzLmpzIiwiLi4vbGliL2NvbnN0YW50cy92YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMuanMiLCIuLi9saWIvaGVscGVycy9TeW1ib2wuanMiLCIuLi9saWIvUHJvbWlzZS5qcyIsIi4uL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIi4uL2xpYi9oZWxwZXJzL3RyYW5zZm9ybURhdGEuanMiLCIuLi9saWIvaGVscGVycy9yZXNvbHZlVVJMLmpzIiwiLi4vYnJvd3Nlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3RvU3RyaW5nVGFnXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHRvU3RyaW5nVGFnIG1ldGhvZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvU3RyaW5nVGFnXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGdldCB0b1N0cmluZ1RhZyBvZi5cclxuICogQHJldHVybnMge1N0cmluZ30gQ3V0IHN0cmluZy5cclxuICogQGRlc2NyaXB0aW9uIEN1dCBcIlR5cGVcIiBzdHJpbmcgZnJvbSBcIltvYmplY3QgVHlwZV1cIiBzdHJpbmcgdGhhdCBnb3R0ZW4gZnJvbSB7fS50b1N0cmluZyxjYWxsKG9iamVjdCkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdUYWcob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqZWN0KS5yZXBsYWNlKC9eXFxbb2JqZWN0IHxdJC9nLCAnJyk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9jaGVja1R5cGVzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBpczxUeXBlPiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHRvU3RyaW5nVGFnIH0gZnJvbSAnLi90b1N0cmluZ1RhZyc7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzQXJyYXlcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYW4gYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXkgb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNBcnJheShbXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzQXJyYXkoMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7IC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdBcnJheSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNBcnJheUxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYXJyYXktbGlrZS5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhcnJheS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIHRoZSBhcmd1bWVudCBoYXMgbm9uLW5lZ2F0aXZlIGludGVnZXIgXCJsZW5ndGhcIiBwcm9wZXJ0eSBhbmQgaXNuJ3QgYSBmdW5jdGlvbi5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzQXJyYXlMaWtlKFtdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNBcnJheUxpa2UoJycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5TGlrZSgoKSA9PiB7fSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0FycmF5TGlrZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcclxuICBpZiAoIXZhbHVlIHx8IGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcclxuICBcclxuICByZXR1cm4gaXNJbnRlZ2VyKGxlbmd0aCkgJiYgbGVuZ3RoID49IDA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNCb29sZWFuXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgYm9vbGVhbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIGJvb2xlYW4gb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNCb29sZWFuKHRydWUpOyAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNCb29sZWFuKG5ldyBCb29sZWFuKGZhbHNlKSk7IC8vIHRydWVcclxuICogaXNCb29sZWFuKG51bGwpOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Jvb2xlYW4nO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRGF0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIGRhdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBkYXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRGF0ZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRGF0ZSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNEYXRlTGlrZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBkYXRlLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZGF0ZS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIG5ldyBEYXRlKGFyZ3VtZW50KSBpcyBub3QgaW52YWxpZCBkYXRlLlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNEYXRlTGlrZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJyk7IC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGVMaWtlKHZhbHVlKSB7XHJcbiAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICFpc05hTih2YWx1ZS5nZXRUaW1lKCkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbWVudFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBlbGVtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGVsZW1lbnQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xyXG4gIHJldHVybiAvRWxlbWVudCQvLnRlc3QodG9TdHJpbmdUYWcodmFsdWUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Zpbml0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBmaW5pdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZmluaXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRmluaXRlKDApOyAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0Zpbml0ZSgnMCcpOyAgICAgIC8vIGZhbHNlXHJcbiAqIGlzRmluaXRlKEluZmluaXR5KTsgLy8gZmFsc2VcclxuICogaXNGaW5pdGUoTmFOKTsgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gIWlzTmFOKHZhbHVlKSAmJiB2YWx1ZSAhPT0gSW5maW5pdHkgJiYgdmFsdWUgIT09IC1JbmZpbml0eTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Z1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgZnVuY3Rpb24uXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiBvciBub3QuXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0Z1bmN0aW9uKCgpID0+IHt9KTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIFxyXG4gKiBjb25zdCBmdW5jID0gKCkgPT4ge307XHJcbiAqIE9iamVjdC5zZXRQcm90b3R5cGVPZihmdW5jLCB7fSk7XHJcbiAqIGlzRnVuY3Rpb24oZnVuYyk7ICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNJbnRlZ2VyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGFuIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW50ZWdlciBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlcigwKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoMC4xKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihJbmZpbml0eSk7ICAgICAgLy8gZmFsc2VcclxuICogaXNJbnRlZ2VyKE5hTik7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xyXG4gIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgJSAxID09PSAwO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSW50ZWdlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgaW50ZWdlci1saWtlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGludGVnZXItbGlrZSBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlckxpa2UoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNJbnRlZ2VyTGlrZShuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXJMaWtlKDAuMSk7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0ludGVnZXJMaWtlKCcwJyk7ICAgICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlZ2VyTGlrZSh2YWx1ZSkge1xyXG4gIHZhbHVlID0gcGFyc2VJbnQoTnVtYmVyKHZhbHVlKSk7XHJcblxyXG4gIHJldHVybiAhISh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOYU5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgTmFOLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIE5hTiBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzTmFOKDApOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKCdOYU4nKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKE5hTik7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOYU4obmV3IE51bWJlcihOYU4pKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVsbFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBudWxsLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIG51bGwgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bGwobnVsbCk7ICAgICAgLy8gdHJ1ZVxyXG4gKiBpc051bGwodW5kZWZpbmVkKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcclxuICByZXR1cm4gdmFsdWUgPT09IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOaWxcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVsbCBvciB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc05pbChudWxsKTsgICAgICAvLyB0cnVlXHJcbiAqIGlzTmlsKHVuZGVmaW5lZCk7IC8vIHRydWVcclxuICogaXNOaWwoZmFsc2UpOyAgICAgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVtYmVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNOdW1iZXIoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIobmV3IE51bWJlcigwKSk7IC8vIHRydWVcclxuICogaXNOdW1iZXIoTmFOKTsgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnTnVtYmVyJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc051bWJlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVtYmVyLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVtYmVyLWxpa2Ugb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bWJlckxpa2UoMCk7ICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKCcwJyk7ICAgICAgICAvLyB0cnVlXHJcbiAqIGlzTnVtYmVyTGlrZSgnSW5maW5pdHknKTsgLy8gdHJ1ZVxyXG4gKiBpc051bWJlckxpa2UoJ05hTicpOyAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKE5hTik7ICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXJMaWtlKHZhbHVlKSB7XHJcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ05hTicpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBcclxuICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICEhKHZhbHVlIHx8IHZhbHVlID09PSAwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc09iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBvYmplY3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0IG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNPYmplY3Qoe30pOyAgIC8vIHRydWVcclxuICogaXNPYmplY3QoMSk7ICAgIC8vIGZhbHNlXHJcbiAqIGlzT2JqZWN0KG51bGwpOyAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ09iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNQbGFpbk9iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHBsYWluIG9iamVjdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHBsYWluIG9iamVjdCBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IG9iaiA9IHt9O1xyXG4gKlxyXG4gKiBpZlBsYWluT2JqZWN0KG9iaik7IC8vIHRydWVcclxuICpcclxuICogT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgbnVsbCk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gdHJ1ZVxyXG4gKlxyXG4gKiBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCB7fSk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XHJcbiAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xyXG5cclxuICBpZiAoaXNOdWxsKHByb3RvKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25zdHJ1Y3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xyXG5cclxuICByZXR1cm4gaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiZcclxuICAgIGNvbnN0cnVjdG9yIGluc3RhbmNlb2YgY29uc3RydWN0b3IgJiZcclxuICAgIGlzTnVsbChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1ByaW1pdGl2ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBwcmltaXRpdmUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgcHJpbWl0aXZlIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNQcmltaXRpdmUoMSk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNQcmltaXRpdmUoe30pOyAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzUHJpbWl0aXZlKCcnKTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUHJpbWl0aXZlKG5ldyBOdW1iZXIoMCkpOyAvLyBmYWxzZVxyXG4gKiBpc1ByaW1pdGl2ZSh0cnVlKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShTeW1ib2woJ2ZvbycpKTsgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShudWxsKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZSh1bmRlZmluZWQpOyAgICAgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XHJcbiAgcmV0dXJuIGlzTnVsbCh2YWx1ZSkgfHwgL14obnVtYmVyfHN0cmluZ3xib29sZWFufHN5bWJvbHx1bmRlZmluZWQpJC8udGVzdCh0eXBlb2YgdmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzUmVnRXhwXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgcmVndWxhciBleHByZXNzaW9uIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNSZWdFeHAoL2Zvby8pOyAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUmVnRXhwKCcvZm9vLycpOyAgICAgICAgICAgLy8gZmFsc2VcclxuICogaXNSZWdFeHAobmV3IFJlZ0V4cCgnZm9vJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnUmVnRXhwJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1N0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHN0cmluZy5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHN0cmluZyBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzU3RyaW5nKCcwJyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNTdHJpbmcobmV3IFN0cmluZygnMCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ1N0cmluZyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTeW1ib2xcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYSBzeW1ib2wuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBzeW1ib2wgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1N5bWJvbChTeW1ib2woJzEnKSk7IC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdTeW1ib2wnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzVW5kZWZpbmVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIHVuZGVmaW5lZC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1VuZGVmaW5lZChudWxsKTsgICAgICAvLyBmYWxzZVxyXG4gKiBpc1VuZGVmaW5lZCh1bmRlZmluZWQpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcclxuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBEXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEQgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBEXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbdmFsdWVdIC0gQW55IHZhbHVlLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IFdyYXAgb2YgdGhlIGFyZ3VtZW50LlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgRC13cmFwIG9mIGFuIG9iamVjdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogRCh7fSk7ICAgICAgICAgICAgLy8gU3VwZXJcclxuICogRCgoKSA9PiB7fSk7ICAgICAgLy8gRnVuY1xyXG4gKiBEKFtdKTsgICAgICAgICAgICAvLyBBcnJcclxuICogRCgxKTsgICAgICAgICAgICAgLy8gTnVtXHJcbiAqIEQoJzEnKTsgICAgICAgICAgIC8vIFN0clxyXG4gKiBEKG5ldyBEYXRlKCkpOyAgICAvLyBEYXRcclxuICogRChkb2N1bWVudC5ib2R5KTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gRCh2YWx1ZSkge1xyXG4gIGZvciAobGV0IGkgPSBjb25zdHJ1Y3RvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIGNvbnN0IGxldmVsQ29uc3RydWN0b3JzID0gY29uc3RydWN0b3JzW2ldO1xyXG5cclxuICAgIGZvciAobGV0IGsgPSAwLCBsZW4gPSBsZXZlbENvbnN0cnVjdG9ycy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGxldmVsQ29uc3RydWN0b3JzW2tdO1xyXG5cclxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgY29uc3RydWN0b3IuY2xzKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uc3RydWN0b3IuY2hlY2sodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3Rvci5jbHModmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2hlbHBlcnMvY2hlY2tUeXBlcyc7XHJcbmV4cG9ydCB7IEQgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9pdGVyYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGl0ZXJhdGUgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGlzQXJyYXlMaWtlLCBpc1VuZGVmaW5lZCB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGlvbkNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBJdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gSXRlcmF0aW9uIGtleS5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJbml0aWFsIGl0ZXJhYmxlIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHBhcmFtIHsoT2JqZWN0fEFycmF5fG51bGx8dW5kZWZpbmVkKX0gb2JqZWN0IC0gVmFsdWUgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IElmIGNhbGxiYWNrIHJldHVybnMgbm90IHVuZGVmaW5lZCB0aGVuIGl0ZXJhdGUgcmV0dXJucyB0aGlzIHZhbHVlLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGl0ZXJhdGluZyBvdmVyIGFsbCB0eXBlcyBvZiB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXRlcmF0ZShvYmplY3QsIGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgYXJyYXkgPSBpc0FycmF5TGlrZShvYmplY3QpO1xyXG4gIGNvbnN0IGl0ZXJhdGVkS2V5cyA9IHt9O1xyXG5cclxuICBsZXQgaXRlcmF0ZWQgPSAwO1xyXG5cclxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcclxuICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhdGVkS2V5cywga2V5KSkge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlZEtleXNba2V5XSA9IHRydWU7XHJcblxyXG4gICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XHJcbiAgICAgIGlmIChhcnJheSAmJiBpdGVyYXRlZCsrID49IG9iamVjdC5sZW5ndGgpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdmFsdWUgPSBjYWxsYmFjayhvYmplY3Rba2V5XSwgYXJyYXkgPyBOdW1iZXIoa2V5KSA6IGtleSwgb2JqZWN0KTtcclxuXHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvYXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE9iamVjdC5hc3NpZ24tbGlrZSBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaXRlcmF0ZSB9IGZyb20gJy4vaXRlcmF0ZSc7XHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEBmdW5jdGlvbiBhc3NpZ25cclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBhc3NpZ24gcmVzdCBvZiBhcmd1bWVudHMgdG8uXHJcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzIC0gT2JqZWN0cyB0aGF0IGFyZSBhc3NpZ25lZCB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUYXJnZXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgLi4ub2JqZWN0cykge1xyXG4gIGl0ZXJhdGUoYXJndW1lbnRzLCAoc291cmNlLCBpbmRleCkgPT4ge1xyXG4gICAgaWYgKGluZGV4KSB7XHJcbiAgICAgIGl0ZXJhdGUoc291cmNlLCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICAgXHJcbiAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL2RlZmluZVByb3BlcnR5XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRlZmluZVByb3BlcnR5IGFuZCBkeW5hbWljRGVmaW5lUHJvcGVydGllcyBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGl0ZXJhdGUgfSBmcm9tICcuL2l0ZXJhdGUnO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSW5kZXggb2YgdGhlIGFycmF5LlxyXG4gKiBAcmV0dXJucyB7Kn0gR2VuZXJhdGVkIHByb3BlcnR5LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZHluYW1pY0RlZmluZVByb3BlcnRpZXNcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBkZWZpbmUgcHJvcGVydGllcyBmb3IuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BlcnRpZXMgLSBPYmplY3Qgd2hpY2gga2V5cyBhcmUgcHJvcGVydGllcy5cclxuICogQHBhcmFtIHtwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrfSBwcm9wZXJ0eUdlbmVyYXRvciAtIENhbGxiYWNrIGZvciBldmVyeSBwcm9wZXJ0eS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgZHluYW1pYyBjcmVhdGluZyBwcm9wZXJ0aWVzIGJhc2VkIG9uIG5hbWUgb2YgdGhlIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljRGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMsIHByb3BlcnR5R2VuZXJhdG9yKSB7XHJcbiAgaXRlcmF0ZShwcm9wZXJ0aWVzLCAobmFtZSwgaSkgPT4ge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICB2YWx1ZTogcHJvcGVydHlHZW5lcmF0b3IobmFtZSwgaSksXHJcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBUYXJnZXQgdG8gZGVmaW5lIHByb3BlcnRpZXMgZm9yLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmVlZGVkIHRvIGJlIGFzc2lnbiB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBkZWZpbmluZyBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcGVydGllcykge1xyXG4gIGl0ZXJhdGUocHJvcGVydGllcywgKG1ldGhvZCwgbmFtZSkgPT4ge1xyXG4gICAgaWYgKC9eZ2V0IC8udGVzdChuYW1lKSkge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLnJlcGxhY2UoL15nZXQgLywgJycpLCB7XHJcbiAgICAgICAgZ2V0OiBtZXRob2QsXHJcbiAgICAgICAgc2V0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvXnNldCAvLnRlc3QobmFtZSkpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZS5yZXBsYWNlKC9ec2V0IC8sICcnKSwge1xyXG4gICAgICAgIHNldDogbWV0aG9kLFxyXG4gICAgICAgIGdldDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoL15nZXRcXC9zZXQgLy50ZXN0KG5hbWUpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUucmVwbGFjZSgvXmdldFxcL3NldCAvLCAnJyksIHtcclxuICAgICAgICBnZXQ6IG1ldGhvZC5nZXQsXHJcbiAgICAgICAgc2V0OiBtZXRob2Quc2V0LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSAhPT0gJ1N5bWJvbC50b1N0cmluZ1RhZycpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICAgIHZhbHVlOiBtZXRob2QsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvdG9BcnJheVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyB0b0FycmF5IG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNTdHJpbmcgfSBmcm9tICcuL2NoZWNrVHlwZXMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdG9BcnJheVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQW55IHZhbHVlLlxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtjcmVhdGVOZXdBcnJheSA9IGZhbHNlXSAtIElmIGl0IGlzIG5lZWRlZCB0byBjcmVhdGUgbmV3IGFycmF5LlxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IENyZWF0ZSBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhcnJheSBvZiBhbnkgdmFsdWUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgY3JlYXRlTmV3QXJyYXkpIHtcclxuICBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgIWNyZWF0ZU5ld0FycmF5KSB7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhcnJheSA9IFtdO1xyXG5cclxuICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmICFpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgIGl0ZXJhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBhcnJheTtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3ZhbGlkYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHZhbGlkYXRlIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyB2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG5jb25zdCBudW1iZXJzID0gWycxc3QnLCAnMm5kJywgJzNyZCcsICc0dGgnLCAnNXRoJywgJzZ0aCcsICc3dGgnXTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdmFsaWRhdGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBBcmd1bWVudHMgb2YgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT2JqZWN0IHdpdGggdmFsaWRhdGUgcGFyYW1ldGVycy5cclxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIE5hbWUgb2YgdGhlIGZ1bmN0aW9uIHdoYXQgY2FsbGVkIHZhbGlkYXRlLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjaGVja2luZyBhcmd1bWVudHMgb2Ygb3RoZXIgZnVuY3Rpb25zLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGFyZ3MsIG9wdGlvbnMsIG5hbWUpIHtcclxuICBpdGVyYXRlKG9wdGlvbnMsIChhcnJheSwgbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIWlzQXJyYXkoYXJyYXkpKSB7XHJcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFycmF5LCAoY2hlY2tlcikgPT4ge1xyXG4gICAgICBjaGVja2VyID0gdmFsaWRhdGVDaGVja0V4cHJlc3Npb25zW2NoZWNrZXJdO1xyXG5cclxuICAgICAgaWYgKCFjaGVja2VyLmNoZWNrKGFyZ3NbbnVtYmVyXSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgY2hlY2tlci5lcnJvcihjaGVja2VyLnRleHQucmVwbGFjZSgnJG4nLCBudW1iZXJzW251bWJlcl0pICsgKG5hbWUgPyBgIChhdCAkeyBuYW1lIH0pYCA6ICcnKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEFscGhhYmV0XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBBbHBoYWJldCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc1N0cmluZywgdmFsaWRhdGUsIGRlZmluZVByb3BlcnRpZXMsIFN5bWJvbCB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ30gQ2hhclxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBvZiBvbmUgY2hhci5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtBcnJheUxpa2V9IGFscGhhYmV0IC0gQWxwaGFiZXQgdG8gd3JhcC5cclxuICogQHJldHVybnMge0FscGhhYmV0fSBJbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBhbHBoYWJldCBtYW5pcHVsYXRpb25zOiBhZGQsIGRlbGV0ZSBzeW1ib2xzLCBnZW5lcmF0ZSBhIHRva2VuIGZyb20gYW4gYWxwaGFiZXQsXHJcbiAqIGNoZWNrIGlmIGFuIGFscGhhYmV0IGNvbnRhaW5zIGEgd29yZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAqL1xyXG5jbGFzcyBBbHBoYWJldCB7XHJcbiAgY29uc3RydWN0b3IoYWxwaGFiZXQgPSBbXSkge1xyXG4gICAgY29uc3QgYSA9IHt9O1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBhbHBoYWJldC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjaGFyID0gYWxwaGFiZXRbaV07XHJcblxyXG4gICAgICBpZiAoIWNoZWNrKGNoYXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXkgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFbY2hhcl0gPSBjaGFyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7T2JqZWN0fSBBbHBoYWJldCMkJFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSBhbHBoYWJldC5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICckJCcsIHsgdmFsdWU6IGEgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFscGhhYmV0I2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLkNoYXJ9IGNoYXJzIC0gQ2hhcnMgdG8gYWRkLlxyXG4gICAqIEByZXR1cm5zIHtBbHBoYWJldH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgbGV0dGVycyB0byB0aGUgYWxwaGFiZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGFscGhhYmV0ID0gbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5hZGQoJ2QnLCAnZScpO1xyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZ2V0KCkuJDsgLy8gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxyXG4gICAqL1xyXG4gIGFkZCguLi5jaGFycykge1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGNoYXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc1tpXTtcclxuXHJcbiAgICAgIGlmICghY2hlY2soY2hhcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VhY2ggYXJndW1lbnQgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQjYWRkKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkW2NoYXJdID0gY2hhcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjY29udGFpbnNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHdvcmQgLSBXb3JkIHRvIGNoZWNrIGlmIGl0IGlzIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB3b3JkIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCB0aGF0IHJldHVybnMgaWYgYSB3b3JkIGlzIGluIGFscGhhYmV0IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgYWxwaGFiZXQgPSBuZXcgQWxwaGFiZXQoWydmJywgJ2InLCAnbycsICdhJywgJ3InXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnZm9vJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmFyJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmF6Jyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgY29udGFpbnMod29yZCkge1xyXG4gICAgdmFsaWRhdGUoW3dvcmRdLCBbJ3N0cmluZyddLCAnQWxwaGFiZXQjY29udGFpbnMnKTtcclxuXHJcbiAgICBjb25zdCBhbHBoYWJldCA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHdvcmQubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFhbHBoYWJldFt3b3JkW2ldXSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5DaGFyfSBjaGFycyAtIENoYXJzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7QWxwaGFiZXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWxldGluZyBsZXR0ZXJzIGZyb20gdGhlIGFscGhhYmV0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBhbHBoYWJldCA9IG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJywgJ2QnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5kZWxldGUoJ2EnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYicsICdjJywgJ2QnXVxyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZGVsZXRlKCdiJywgJ2QnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYyddXHJcbiAgICovXHJcbiAgZGVsZXRlKC4uLmNoYXJzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gY2hhcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hhciA9IGNoYXJzW2ldO1xyXG5cclxuICAgICAgaWYgKCFjaGVjayhjaGFyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRWFjaCBhcmd1bWVudCBtdXN0IGJlIGEgc2luZ2xlIGNoYXIhIChpbiBBbHBoYWJldCNkZWxldGUpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlbGV0ZSB0aGlzLiQkW2NoYXJdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNnZXRcclxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFdyYXAgb2YgYW4gYXJyYXkgb2YgYWxwaGFiZXQgbGV0dGVycy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIGFycmF5IG9mIGFscGhhYmV0IGxldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJ10pLmdldCgpLiQ7IC8vIFsnYScsICdiJywgJ2MnXVxyXG4gICAqL1xyXG4gIGdldCgpIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLiQkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjdG9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIFRva2VuIGxlbmd0aC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZW5lcmF0aW5nIHJhbmRvbSB0b2tlbiB3aXRoIGdpdmVuIGxlbmd0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSkudG9rZW4oNCk7IC8vICdhYmNiJ1xyXG4gICAqL1xyXG4gIHRva2VuKGxlbmd0aCkge1xyXG4gICAgdmFsaWRhdGUoW2xlbmd0aF0sIFtbJ2ludExpa2UnLCAnPjAnXV0sICdBbHBoYWJldCN0b2tlbicpO1xyXG5cclxuICAgIGNvbnN0IGFscGhhYmV0ID0gT2JqZWN0LmtleXModGhpcy4kJCk7XHJcbiAgICBjb25zdCBsZW4gPSBhbHBoYWJldC5sZW5ndGg7XHJcbiAgICBsZXQgdG9rZW4gPSAnJztcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRva2VuICs9IGFscGhhYmV0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlbildO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b2tlbjtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoQWxwaGFiZXQucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdBbHBoYWJldCdcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVjayhjaGFyKSB7XHJcbiAgcmV0dXJuIGlzU3RyaW5nKGNoYXIpICYmIGNoYXIubGVuZ3RoID09PSAxO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byBnZW5lcmF0ZSBhbiBhbHBoYWJldCBmcm9tLlxyXG4gKiBAcmV0dXJucyB7QWxwaGFiZXR9IE5ldyBpbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhbHBoYWJldCBmcm9tIGEgc3RyaW5nIHRoYXQgaGFzIGZvcm1hdCBsaWtlIHRoaXM6XHJcbiAqICcmbHQ7Y2hhcjEmZ3Q7LSZsdDtjaGFyMiZndDsgJmx0O2NoYXIzJmd0Oy0mbHQ7Y2hhcjQmZ3Q7J1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBhMSA9IGFscGhhYmV0KCdhLWMgMS0zJyk7XHJcbiAqIGNvbnN0IGEyID0gYWxwaGFiZXQoJzUtNWYtZycpO1xyXG4gKlxyXG4gKiBhMS5nZXQoKS4kOyAvLyBbJzEnLCAnMicsICczJywgJ2EnLCAnYicsICdjJ11cclxuICogYTIuZ2V0KCkuJDsgLy8gWyc1JywgJ2YnLCAnZyddXHJcbiAqL1xyXG5mdW5jdGlvbiBhbHBoYWJldChzdHJpbmcpIHtcclxuICB2YWxpZGF0ZShbc3RyaW5nXSwgWydzdHJpbmcnXSk7XHJcblxyXG4gIGNvbnN0IHJhbmdlcyA9IHN0cmluZy5zcGxpdCgvKFtcXHNcXFNdLStbXFxzXFxTXSk/L2cpO1xyXG4gIGNvbnN0IGxlbmd0aCA9IHJhbmdlcy5sZW5ndGg7XHJcbiAgY29uc3QgYWxwaGFiZXQgPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgcmFuZ2UgPSByYW5nZXNbaV07XHJcblxyXG4gICAgaWYgKCFyYW5nZSB8fCByYW5nZSA9PT0gJyAnKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkgJiYgIS9bXFxzXFxTXS0rW1xcc1xcU10vLnRlc3QocmFuZ2UpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgV3JvbmcgcGFydCBvZiB0aGUgc3RyaW5nICgkeyByYW5nZSB9KSEgKGluIGFscGhhYmV0KWApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkpIHtcclxuICAgICAgY29uc3Qgc3RhcnQgPSByYW5nZS5jaGFyQ29kZUF0KDApO1xyXG4gICAgICBjb25zdCBlbmQgPSByYW5nZS5jaGFyQ29kZUF0KDIpO1xyXG5cclxuICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBvZiB0aGUgcmFuZ2UgbXVzdCBiZSBiZWZvcmUgaXRzIGVuZCEgKGluIGFscGhhYmV0KScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBrID0gMCwgbGVuID0gZW5kIC0gc3RhcnQgKyAxOyBrIDwgbGVuOyBrKyspIHtcclxuICAgICAgICBhbHBoYWJldC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoc3RhcnQgKyBrKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyYW5nZS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgYWxwaGFiZXQucHVzaChyYW5nZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IEFscGhhYmV0KGFscGhhYmV0KTtcclxufVxyXG5cclxuZXhwb3J0IHsgQWxwaGFiZXQsIGFscGhhYmV0IH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIFN3aXRjaGVyXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBTd2l0Y2hlciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCxcclxuICBpdGVyYXRlLCBTeW1ib2wsIHRvQXJyYXksIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYm9vbGVhbid8J2VxdWFscyd8J3N0cmljdEVxdWFscyd8J2NhbGwnfSBTd2l0Y2hlck1vZGVcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHN3aXRjaGVyIG1vZGVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3dpdGNoZXJDYWxsQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufCp9IE9uIHdoYXQgdGhlIGNhbGxiYWNrIHJldHVybnMgZGVwZW5kcyBpZiB0aGUgY2FzZSBpcyBhIG1hdGNoICh0cnV0aHkgZm9yIHRoZSBtYXRjaCkuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBTd2l0Y2hlck1hdGNoQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgLSBBcmd1bWVudHMgZnJvbSB0aGUgc2Vjb25kIGFyZ3VtZW50IHRoYXQgc3dpdGNoZXIgd2FzIGNhbGxlZCB3aXRoLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gbWF0Y2hlZCAtIFN3aXRjaGVyIG1hdGNoZWQgY2FzZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIFN3aXRjaGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtPYmplY3R9IFtjYXNlcyA9IHt9XSAtIE9iamVjdCBvZiBjYXNlcy5cclxuICogQHBhcmFtIHtTd2l0Y2hlck1vZGV9IFttb2RlID0gJ2VxdWFscyddIC0gU3dpdGNoZXIgbW9kZS5cclxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAtIFN3aXRjaGVyIGRlZmF1bHQgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtTd2l0Y2hlcn0gLSBJbnN0YW5jZSBvZiBTd2l0Y2hlci5cclxuICogQGRlc2NyaXB0aW9uIFN3aXRjaGVyIGNsYXNzIGZvciBjcmVhdGluZyBmdW5jdGlvbnMgd29ya2luZyBzaW1pbGFyIHRvIHN3aXRjaCAodmFsdWUpIHt9IGNvbnN0cnVjdGlvbixcclxuICogYnV0IHdpdGggdGhlIHZhbHVlIGFzc2lnbm1lbnQuIFN3aXRjaGVyIGluc3RhbmNlIGlzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgdmFsdWUgYXJndW1lbnQgYW5kIGFuIG9wdGlvbmFsXHJcbiAqIGFyZ3MgYXJndW1lbnQuIEFyZ3Mgd2l0aCBhZGRpdGlvbmFsIHN3aXRjaGVyIHZhbHVlIGFuZCBtYXRjaGVkIGNhc2VcclxuICogYXJlIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbiBvZiB0aGUgbWF0Y2hlZCBjYXNlIChpZiBpdCBpcyBhIGZ1bmN0aW9uKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSk7XHJcbiAqIGNvbnN0IHN3aXRjaGVyID0gbmV3IFN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSwgJ3N0cmljdEVxdWFscycpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcih7XHJcbiAqICAgY2FzZTE6ICd2YWx1ZTEnLFxyXG4gKiAgIGNhc2UyOiAndmFsdWUyJ1xyXG4gKiB9LCAnc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKlxyXG4gKiAvLyBTZWUgW3N3aXRjaGVyXXtAbGluayBzd2l0Y2hlcn0gZXhhbXBsZXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIEZ1bmN0aW9uIHtcclxuICBjb25zdHJ1Y3RvcihjYXNlcyA9IHt9LCBtb2RlID0gJ2VxdWFscycsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBpZiAoaXNTdHJpbmcoY2FzZXMpKSB7XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQoYXJndW1lbnRzWzFdKSkge1xyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IG1vZGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1vZGUgPSBjYXNlcztcclxuICAgICAgY2FzZXMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBldmVudHVhbENhc2VzID0gW107XHJcblxyXG4gICAgaXRlcmF0ZShjYXNlcywgKHZhbHVlLCBDYXNlKSA9PiB7XHJcbiAgICAgIGV2ZW50dWFsQ2FzZXMucHVzaCh7IGNhc2U6IENhc2UsIHZhbHVlIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3dpdGNoZXIodmFsdWUsIGFyZ3MgPSBbXSkge1xyXG4gICAgICBjb25zdCB7IG1vZGUsIGRlZmF1bHQ6IGRlZiwgY2FzZXMgfSA9IHN3aXRjaGVyLiQkO1xyXG5cclxuICAgICAgbGV0IHJldCA9IGl0ZXJhdGUoY2FzZXMsICh7IHZhbHVlOiB2YWwsIGNhc2U6IENhc2UgfSkgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChtb2RlID09PSAnYm9vbGVhbicgJiYgQ2FzZSkgfHxcclxuICAgICAgICAgIC8qIGVzbGludCBlcWVxZXE6IDAgKi9cclxuICAgICAgICAgIChtb2RlID09PSAnZXF1YWxzJyAmJiBDYXNlID09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdzdHJpY3RFcXVhbHMnICYmIENhc2UgPT09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdjYWxsJyAmJiBDYXNlKHZhbHVlKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiB7IGNhc2U6IENhc2UsIHZhbHVlOiB2YWwgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHJldCkpIHtcclxuICAgICAgICByZXQgPSB7IHZhbHVlOiBkZWYgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJldC52YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gcmV0LnZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcmdzID0gdG9BcnJheShhcmdzLCB0cnVlKTtcclxuICAgICAgYXJncy5wdXNoKHZhbHVlLCByZXQuY2FzZSk7XHJcblxyXG4gICAgICByZXR1cm4gcmV0LnZhbHVlLmFwcGx5KG51bGwsIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBTd2l0Y2hlciMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGNhc2VzIC0gQXJyYXkgb2YgY2FzZXMuXHJcbiAgICAgKiBAcHJvcGVydHkge1N3aXRjaGVyTW9kZX0gbW9kZSAtIFN3aXRjaGVyIG1vZGUuXHJcbiAgICAgKiBAcHJvcGVydHkgeyp9IGRlZmF1bHQgLSBTd2l0Y2hlciBkZWZhdWx0IHZhbHVlLlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3dpdGNoZXIsICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBjYXNlczogZXZlbnR1YWxDYXNlcyxcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihzd2l0Y2hlciwgU3dpdGNoZXIucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gc3dpdGNoZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN3aXRjaGVyI2Nhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfFN3aXRjaGVyQ2FsbENhbGxiYWNrfEFycmF5LjwqfFN3aXRjaGVyQ2FsbENhbGxiYWNrPn0gY2FzZXMgLSBDYXNlIG9yIGFuIGFycmF5IG9mIGNhc2VzLlxyXG4gICAqIEBwYXJhbSB7KnxTd2l0Y2hlck1hdGNoQ2FsbGJhY2t9IHZhbHVlIC0gVmFsdWUgdGhhdCBoYXMgdG8gYmUgYXNzaWduZWQgb3IgYSBmdW5jdGlvblxyXG4gICAqIHRoYXQgaXMgY2FsbGVkIHdpdGggc3dpdGNoZXIgdmFsdWUsIGlmIGl0J3MgdGhlIGNhc2UuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZGVmaW5pbmcgbmV3IGNhc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5jYXNlKDIsICd0d28nKTtcclxuICAgKlxyXG4gICAqIHN3KDEpOyAvLyAnb25lJ1xyXG4gICAqIHN3KDIpOyAvLyAndHdvJ1xyXG4gICAqL1xyXG4gIGNhc2UoY2FzZXMsIHZhbHVlKSB7XHJcbiAgICBpZiAoIWlzQXJyYXkoY2FzZXMpKSB7XHJcbiAgICAgIGNhc2VzID0gW2Nhc2VzXTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGNhc2VzLCAoQ2FzZSkgPT4ge1xyXG4gICAgICB0aGlzLiQkLmNhc2VzLnB1c2goeyBjYXNlOiBDYXNlLCB2YWx1ZSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNkZWZhdWx0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gZGVmIC0gTmV3IGRlZmF1bHQgdmFsdWUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBkZWZhdWx0IHN3aXRjaGVyIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5kZWZhdWx0KCd0aHJlZScpO1xyXG4gICAqXHJcbiAgICogc3coMSk7IC8vICdvbmUnXHJcbiAgICogc3coMik7IC8vICd0aHJlZSdcclxuICAgKi9cclxuICBkZWZhdWx0KGRlZikge1xyXG4gICAgdGhpcy4kJC5kZWZhdWx0ID0gZGVmO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNtb2RlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3dpdGNoZXJNb2RlfSBtb2RlIC0gTmV3IHN3aXRjaGVyIG1vZGUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBzd2l0Y2hlciBtb2RlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAubW9kZSgnc3RyaWN0RXF1YWxzJylcclxuICAgKiAgIC5jYXNlKDEsICdudW1iZXInKVxyXG4gICAqICAgLmNhc2UoJzEnLCAnc3RyaW5nJyk7XHJcbiAgICpcclxuICAgKiBzdygxKTsgICAvLyAnbnVtYmVyJ1xyXG4gICAqIHN3KCcxJyk7IC8vICdzdHJpbmcnXHJcbiAgICovXHJcbiAgbW9kZShtb2RlKSB7XHJcbiAgICB0aGlzLiQkLm1vZGUgPSBtb2RlO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZGVmaW5lUHJvcGVydGllcyhTd2l0Y2hlci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N3aXRjaGVyJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gc3dpdGNoZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gW2Nhc2VzID0ge31dIC0gT2JqZWN0IG9mIGNhc2VzLlxyXG4gKiBAcGFyYW0ge1N3aXRjaGVyTW9kZX0gW21vZGUgPSAnZXF1YWxzJ10gLSBTd2l0Y2hlciBtb2RlLlxyXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIC0gU3dpdGNoZXIgZGVmYXVsdCB2YWx1ZS5cclxuICogQHJldHVybnMge1N3aXRjaGVyfSBOZXcgaW5zdGFuY2Ugb2YgU3dpdGNoZXIuXHJcbiAqIEBkZXNjcmlwdGlvbiBTaW1wbGUgd3JhcCBvZiBbbmV3IFN3aXRjaGVyKC4uLilde0BsaW5rIFN3aXRjaGVyfS5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICdmb28nLFxyXG4gKiAgIDI6ICdiYXInXHJcbiAqIH0pO1xyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdiYXInXHJcbiAqIHN3KDMpOyAvLyB1bmRlZmluZWRcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoKVxyXG4gKiAgIC5jYXNlKFsxLCAyXSwgJ2ZvbycpXHJcbiAqICAgLmNhc2UoMywgJ2JhcicpO1xyXG4gKiAgIFxyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdmb28nXHJcbiAqIHN3KDMpOyAvLyAnYmFyJ1xyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3cgPSBzd2l0Y2hlcignY2FsbCcpXHJcbiAqICAgLmNhc2UoaXNBcnJheSwgJ2FycmF5JylcclxuICogICAuY2FzZShpc1N0cmluZywgJ3N0cmluZycpXHJcbiAqICAgLmNhc2UoaXNOdW1iZXIsICdudW1iZXInKVxyXG4gKiAgIC5kZWZhdWx0KCdyZXN0Jyk7XHJcbiAqICAgXHJcbiAqIHN3KFtdKTsgICAgLy8gJ2FycmF5J1xyXG4gKiBzdygnZm9vJyk7IC8vICdzdHJpbmcnXHJcbiAqIHN3KDEyMyk7ICAgLy8gJ251bWJlcidcclxuICogc3coe30pOyAgICAvLyAncmVzdCdcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICh2YWx1ZSkgPT4ge1xyXG4gKiAgICAgY29uc29sZS5sb2codmFsdWUgKyAxKTtcclxuICogICB9LFxyXG4gKiAgIDI6ICgpID0+IHtcclxuICogICAgIGNvbnNvbGUubG9nKHZhbHVlIC0gMSk7XHJcbiAqICAgfVxyXG4gKiB9KTtcclxuICogXHJcbiAqIHN3KDEpOyAvLyAyXHJcbiAqIHN3KDIpOyAvLyAxXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBzdyA9IHN3aXRjaGVyKHtcclxuICogICBmaXJzdDogKGFycmF5KSA9PiBhcnJheVswXSxcclxuICogICBsYXN0OiAoYXJyYXkpID0+IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdXHJcbiAqIH0sICdlcXVhbHMnLCAoYXJyYXksIGluZGV4KSA9PiBhcnJheVtpbmRleF0pO1xyXG4gKiBjb25zdCBhcnJheSA9IFsxLCAyLCAzLCA0XTtcclxuICogXHJcbiAqIHN3KCdmaXJzdCcsIFthcnJheV0pOyAvLyAxXHJcbiAqIHN3KCdsYXN0JywgW2FycmF5XSk7ICAvLyA0XHJcbiAqIHN3KDEsIFthcnJheV0pOyAgICAgICAvLyAyXHJcbiAqIHN3KDIsIFthcnJheV0pOyAgICAgICAvLyAzXHJcbiAqL1xyXG5mdW5jdGlvbiBzd2l0Y2hlcihjYXNlcywgbW9kZSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgcmV0dXJuIG5ldyBTd2l0Y2hlciguLi5hcmd1bWVudHMpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHdoZW5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Jvb2xlYW58Kn0gY29uZGl0aW9uIC0gQ29uZGl0aW9uIHVzZWQgZm9yIHJldHVybmluZyB0aGUgcHJvcGVyIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMSAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMiAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgZmFsc2V5LlxyXG4gKiBAcmV0dXJucyB7Kn0gdmFsdWUxIG9yIHZhbHVlMi5cclxuICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAqIFt0ZXJuYXJ5IG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ubC9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29uZGl0aW9uYWxfT3BlcmF0b3J9LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogd2hlbih0cnVlLCAndHJ1ZScsICdmYWxzZScpOyAvLyAndHJ1ZSdcclxuICovXHJcbmZ1bmN0aW9uIHdoZW4oY29uZGl0aW9uLCB2YWx1ZTEsIHZhbHVlMikge1xyXG4gIHJldHVybiBjb25kaXRpb24gPyB2YWx1ZTEgOiB2YWx1ZTI7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN3aXRjaGVyLCBzd2l0Y2hlciwgd2hlbiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdXBlclxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgU3VwZXIgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRCB9IGZyb20gJy4vRCc7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzL2NvbnN0cnVjdG9ycyc7XHJcbmltcG9ydCB7XHJcbiAgaXNBcnJheSwgaXNBcnJheUxpa2UsIGlzRGF0ZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNOYU4sIGlzTnVsbCxcclxuICBpc09iamVjdCwgaXNQbGFpbk9iamVjdCwgaXNQcmltaXRpdmUsIGlzUmVnRXhwLCBpc1N0cmluZywgaXNVbmRlZmluZWQsXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2wsIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdXBlcnxBcnJ8RnVuY3xFbGVtfFN0cnxOdW18RGF0fEJsb2JPYmplY3R9IERXcmFwXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFueSBraW5kIG9mIEQtV3JhcC5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ3xOdW1iZXJ8bnVsbH0gS2V5XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEtleSB0eXBlIHVzZWQgaW4gbWFueSBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7VHJlZUVsZW1lbnRbXX0gVHJlZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRyZWVFbGVtZW50XHJcbiAqIEBwdWJsaWNcclxuICogQHByb3BlcnR5IHtLZXl9IGtleSAtIFRyZWUgZWxlbWVudCBrZXkuXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWUgLSBUcmVlIGVsZW1lbnQgdmFsdWUuXHJcbiAqIEBkZXNjcmlwdGlvbiB7QGxpbmsgVHJlZX0gZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBSZWR1Y2VDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSAtIFByZXZpb3VzIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQ3VycmVudCBpdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gQ3VycmVudCBpdGVyYXRpb24ga2V5L2luZGV4LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gZWxlbWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEpTT05DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IGtleSAtIEN1cnJlbnQgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGtleS5cclxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBPYmplY3RDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdPYmplY3QgLSBUaGUgbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVkdWNlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgLSBQcmV2aW91cyB2YWx1ZS5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3VwZXJNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAdGhpcyB7RFdyYXB9XHJcbiAqL1xyXG5cclxuY29uc3QgY2xvbmVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKG9iamVjdCkgPT4gb2JqZWN0KVxyXG4gIC5jYXNlKFxyXG4gICAgKG9iamVjdCkgPT4gbmV3IFN1cGVyKG9iamVjdCkgPT09IG9iamVjdCxcclxuICAgIChvYmplY3QpID0+IG5ldyAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkuY29uc3RydWN0b3IpKG5ldyBTdXBlcihvYmplY3QuJCkuZGVlcENsb25lKCkuJClcclxuICApXHJcbiAgLmNhc2UoaXNFbGVtZW50LCAob2JqZWN0LCBkZWVwKSA9PiBvYmplY3QuY2xvbmUoZGVlcCkpXHJcbiAgLmNhc2UoaXNEYXRlLCAob2JqZWN0KSA9PiBuZXcgRGF0ZShvYmplY3QpKVxyXG4gIC5jYXNlKGlzUmVnRXhwLCAob2JqZWN0KSA9PiBuZXcgUmVnRXhwKG9iamVjdC5zb3VyY2UsIG9iamVjdC50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSkpXHJcbiAgLmNhc2UoaXNBcnJheSwgKCkgPT4gW10pXHJcbiAgLmNhc2UoaXNQbGFpbk9iamVjdCwgKCkgPT4gKHt9KSk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN1cGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIEFuIG9iamVjdCB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEluc3RhbmNlIG9mIFN1cGVyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhbnkgdmFsdWUuIEFuZCB0aGVyZSBpcyBubyB3YXkgdG8gY3JlYXRlIGEgbmVzdGVkIHdyYXAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBTdXBlcih7fSk7IC8vIFN1cGVyXHJcbiAqL1xyXG5jbGFzcyBTdXBlciB7XHJcbiAgY29uc3RydWN0b3Iob2JqZWN0KSB7XHJcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgU3VwZXIpIHtcclxuICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgU3VwZXIjJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gV3JhcHBlZCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnJCcsIHsgdmFsdWU6IG9iamVjdCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIuYWRkU3RhdGljUHJvcGVydGllc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBwcm9wZXJ0aWVzIGtleXMgYW5kIHZhbHVlcyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHByb3BlcnR5IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFNldHMgc3RhdGljIHByb3BlcnRpZXMgZm9yIERXcmFwIGNvbnN0cnVjdG9ycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogU3VwZXIuYWRkU3RhdGljUHJvcGVydGllcygnY29vbCcsIDQyKTtcclxuICAgKiBTdXBlci5hZGRTdGF0aWNQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZFN0YXRpY1Byb3BlcnRpZXMocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmluZVByb3BlcnRpZXModGhpcywgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIG9iamVjdFxyXG4gICAqIHdpdGggcHJvcGVydGllcyBrZXlzIGFuZCB2YWx1ZXMgdmFsdWVzLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbdmFsdWVdIC0gSWYgYSBwcm9wZXJ0eSBwYXJhbWV0ZXIgaXMgYSBzdHJpbmcgdGhpcyBoYXMgdG8gYmUgYSBwcm9wZXJ0eSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTZXRzIHN0YXRpYyBwcm9wZXJ0aWVzIGZvciBEV3JhcCBwcm90b3R5cGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXMoJ2Nvb2wnLCA0Mik7XHJcbiAgICogU3VwZXIuYWRkSW5zdGFuY2VQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZEluc3RhbmNlUHJvcGVydGllcyhwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVmaW5lUHJvcGVydGllcyh0aGlzLnByb3RvdHlwZSwgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhc3NpZ25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi4oT2JqZWN0fFN1cGVyfCopfSBvYmplY3RzIC0gT2JqZWN0cyB0byBiZSBhc3NpZ25lZCB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuYXNzaWduXVxyXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiB9KS5hc3NpZ24oeyBhOiAzIH0sIHsgYzogMywgZDogNCB9LCB7IGQ6IDUgfSkuJDsgLy8geyBhOiAzLCBiOiAyLCBjOiAzLCBkOiA1IH1cclxuICAgKi9cclxuICBhc3NpZ24oLi4ub2JqZWN0cykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgaXRlcmF0ZShuZXcgU3VwZXIobykuJCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhdmVyYWdlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IG51bGxdIC0gQ2FsbGJhY2sgdGhhdCBpcyBwYXNzZWQgdG8ge0BsaW5rIFN1cGVyI3N1bX0uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXZlcmFnZSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3Igb2JqZWN0LnN1bShjYWxsYmFjaykgLyBvYmplY3QuY291bnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuYXZlcmFnZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogNSB9KS5hdmVyYWdlKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSk7IC8vIDEwXHJcbiAgICovXHJcbiAgYXZlcmFnZShjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI2F2ZXJhZ2UnKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5zdW0oY2FsbGJhY2spIC8gdGhpcy5jb3VudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjY2FsbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N1cGVyTWV0aG9kfSBmdW5jIC0gRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdpdGggdGhpcyBjb250ZXh0LlxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyAtIEFyZ3VtZW50cyB0byBiZSBjYWxsZWQgd2l0aC5cclxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJuIG9mIGZ1bmN0aW9uIGNhbGwuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGZ1bmMuY2FsbChET2JqZWN0LCAuLi5hcmdzKTtcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5jYWxsKGZ1bmN0aW9uIChiLCBjKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYiArIGM7XHJcbiAgICogfSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICBjYWxsKGZ1bmMsIC4uLmFyZ3MpIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjY2FsbCcpO1xyXG5cclxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjbG9uZVxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGFzc2lnbnMgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IHRvIGFuIGVtcHR5IG9uZSBhbmQgcmV0dXJucyB0aGUgbmV3IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyIH0gfSkuY2xvbmUoKS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogMiB9IH1cclxuICAgKi9cclxuICBjbG9uZSgpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIGZhbHNlXSk7XHJcblxyXG4gICAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgICAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY2xvbmVba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoY2xvbmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdXBlciNjb3VudFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBrZXlzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuY291bnQ7IC8vIDJcclxuICAgKi9cclxuICBnZXQgY291bnQoKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gb2JqZWN0Lmxlbmd0aCA6IE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjcmVhdGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yc10gLSBEZXNjcmlwdG9ycyBwYXNzZWQgdG8gT2JqZWN0LmNyZWF0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBELVdyYXAuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5jcmVhdGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLmNyZWF0ZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGNyZWF0ZShkZXNjcmlwdG9ycykge1xyXG4gICAgcmV0dXJuIEQoaXNQcmltaXRpdmUodGhpcy4kKSA/IHVuZGVmaW5lZCA6IE9iamVjdC5jcmVhdGUodGhpcy4kLCBkZXNjcmlwdG9ycykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwQXNzaWduXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKn0gb2JqZWN0cyAtIE9iamVjdHMgdG8gYmUgYXNzaWduZWQgdG8gdGhlIG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5kZWVwQXNzaWduKFxyXG4gICAqICAge1xyXG4gICAqICAgICBiOiB7XHJcbiAgICogICAgICAgYzogMlxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYjogMVxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYzoge1xyXG4gICAqICAgICAgICAgZDogMVxyXG4gICAqICAgICAgIH1cclxuICAgKiAgICAgfSxcclxuICAgKiAgICAgYjogMlxyXG4gICAqICAgfSxcclxuICAgKiAgIG51bGxcclxuICAgKiB9KTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICBhOiB7XHJcbiAgICogLy8gICAgIGI6IDEsXHJcbiAgICogLy8gICAgIGM6IHtcclxuICAgKiAvLyAgICAgICBkOiAxXHJcbiAgICogLy8gICAgIH1cclxuICAgKiAvLyAgIH0sXHJcbiAgICogLy8gICBiOiAyLFxyXG4gICAqIC8vIH1cclxuICAgKi9cclxuICBkZWVwQXNzaWduKC4uLm9iamVjdHMpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoaXNQcmltaXRpdmUob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgZGVlcEFzc2lnbihvYmplY3QsIG8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBDbG9uZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBEV3JhcC5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBjbG9uaW5nIG1ldGhvZC4gQ2xvbmVzIHBsYWluIG9iamVjdHMsIGFycmF5cywgcmVndWxhciBleHByZXNzaW9ucyBhbmQgZWxlbWVudHMsIHRoZSByZXN0IHN0YXlzIHRoZSBzYW1lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiBbMiwgM10sIGM6IHsgZDogNCB9IH0pLmRlZXBDbG9uZSgpLiQ7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgYTogMSxcclxuICAgKiAvLyAgIGI6IFsyLCAzXSxcclxuICAgKiAvLyAgIGM6IHsgZDogNCB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGRlZXBDbG9uZSgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZWVwQ2xvbmUodGhpcy4kKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBFcXVhbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIE9iamVjdCB0byBjb21wYXJlIHRvLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAtIElmIHRoZSBvYmplY3RzIGFyZSBkZWVwIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWVwIGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcigvMS8pLmRlZXBFcXVhbHMoLzEvKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFcXVhbHMob2JqZWN0ID0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLiQsIG9iamVjdCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRXZlcnlcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IGl0ZXJhdGlvbiBnb2VzIG9uIGFuZCBpZiBmYWxzZXkgaXQgc3RvcHMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIE90aGVyd2lzZSBmYWxzZS4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZXZlcnl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRXZlcnkoKHZhbHVlKSA9PiB2YWx1ZSA8IDQpOyAvLyB0cnVlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwRXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFdmVyeShjYWxsYmFjaywgbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgIG4gPSBjYWxsYmFjaztcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgIH0gZWxzZSBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBFdmVyeScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgcmV0dXJuIGRlZXBFdmVyeSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBhbmQgaWYgZmFsc2V5IGl0J3MgZXhjbHVkZWQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IEQtV3JhcCBvZiBmaWx0ZXJlZCBvYmplY3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgZmlsdGVyZWQgYnkgdGhlIGNhbGxiYWNrIG9iamVjdC4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZmlsdGVyfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlJTIpLiQ7ICAgICAvLyB7IGE6IDEsIGI6IHsgZDogMyB9IH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDEpLiQ7IC8vIHsgYTogMSB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlID4gMykuJDsgICAvLyB7fVxyXG4gICAqL1xyXG4gIGRlZXBGaWx0ZXIoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmlsdGVyJyk7XHJcblxyXG4gICAgY29uc3QgZmlsdGVyZWQgPSBkZWVwRmlsdGVyKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSk7XHJcblxyXG4gICAgcmV0dXJuIEQoaXNOaWwoZmlsdGVyZWQpID8gZmlsdGVyZWQgOiBmaWx0ZXJlZCB8fCB7fSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBGaW5kXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtUcmVlfG51bGx9IFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gaWYgc29tZXRoaW5nIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cmVlIG9mIHRoZSBlbGVtZW50cyBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNmaW5kfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbmQoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gMik7XHJcbiAgICogLy8gW1xyXG4gICAqIC8vICAgeyBrZXk6ICdjJywgdmFsdWU6IDIgfSxcclxuICAgKiAvLyAgIHsga2V5OiAnYicsIHZhbHVlOiB7IGM6IDIsIGQ6IDMgfSB9LFxyXG4gICAqIC8vICAgeyBrZXk6IG51bGwsIHZhbHVlOiA8aW5pdGlhbCBvYmplY3Q+IH1cclxuICAgKiAvLyBdXHJcbiAgICovXHJcbiAgZGVlcEZpbmQoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmluZCcpO1xyXG5cclxuICAgIHJldHVybiBkZWVwRmluZCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2goY2FsbGJhY2ssIG4gPSBJbmZpbml0eSkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBGb3JFYWNoJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICBkZWVwRm9yRWFjaCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqIFVubGlrZSB7QGxpbmsgU3VwZXIjZGVlcEZvckVhY2h9IHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgb24gZXZlcnkgdmFsdWUgb2YgZXZlcnkgb2JqZWN0IGluc2lkZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2hFbnRyeShjYWxsYmFjaywgbiA9IEluZmluaXR5KSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcEZvckVhY2gnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIGRlZXBGb3JFYWNoRW50cnkodGhpcy4kLCBjYWxsYmFjaywgbiwgW3sga2V5OiBudWxsLCB2YWx1ZTogdGhpcy4kIH1dKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZGVlcEZyZWV6ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZnJlZXplfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGRlZXBGcmVlemUoKSB7XHJcbiAgICBkZWVwRnJlZXplKHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBNYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gRC1XcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGEgd3JhcCBvZiBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGNhbGxiYWNrLiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNtYXB9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwTWFwKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSkuJDtcclxuICAgKiAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogOSB9IH1cclxuICAgKi9cclxuICBkZWVwTWFwKGNhbGxiYWNrLCBuID0gSW5maW5pdHkpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwTWFwJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICByZXR1cm4gRChkZWVwTWFwKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwUmVkdWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcFJlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEBwYXJhbSB7Kn0gW0lWID0gPGZpcnN0IHZhbHVlPnx1bmRlZmluZWRdIC0gSW5pdGlhbCB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7Kn0gTW9kaWZpZWQgSVYuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgbW9kaWZpZWQgSVYuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3JlZHVjZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IHsgYzogMiwgZDogMyB9IH0pLmRlZXBSZWR1Y2UoKHN1bSwgdmFsdWUpID0+IHN1bSArIHZhbHVlICogdmFsdWUsIEluZmluaXR5LCAwKTsgLy8gMTRcclxuICAgKi9cclxuICBkZWVwUmVkdWNlKGNhbGxiYWNrLCBuID0gSW5maW5pdHksIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFJlZHVjZScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG4gICAgY29uc3QgdHJlZSA9IFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHVuZGVmaW5lZCwgdHJlZSkuSVY7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHsgSVYgfSwgdHJlZSkuSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBTb21lXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIHNvbWUgb2YgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBPdGhlcndpc2UgZmFsc2UuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3NvbWV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwU29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwU29tZSgoKSA9PiB0cnVlKTsgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGRlZXBTb21lKGNhbGxiYWNrLCBuKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgbiA9IGNhbGxiYWNrO1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgfSBlbHNlIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFNvbWUnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIHJldHVybiBkZWVwU29tZSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwU3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZSB0by5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiB0aGUgb2JqZWN0cyBhcmUgZGVlcCBzdHJpY3QgZXF1YWwgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZXAgc3RyaWN0IGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcFN0cmljdEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gZmFsc2VcclxuICAgKiBuZXcgU3VwZXIoLzEvKS5kZWVwU3RyaWN0RXF1YWxzKC8xLyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICAgKi9cclxuICBkZWVwU3RyaWN0RXF1YWxzKG9iamVjdCA9IG51bGwpIHtcclxuICAgIHJldHVybiBkZWVwRXF1YWwodGhpcy4kLCBvYmplY3QsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWZpbmVcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBkZXNjcmlwdG9ycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgcHJvcGVydHkgZGVzY3JpcHRvci5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZGVmaW5lUHJvcGVydHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0eX1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LmRlZmluZVByb3BlcnRpZXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0aWVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5kZWZpbmUoJ2EnLCB7XHJcbiAgICogICB2YWx1ZTogMSxcclxuICAgKiAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAqICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICBjb25maWd1cmFibGU6IGZhbHNlXHJcbiAgICogfSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLmRlZmluZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGRlZmluZShwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogZGVzY3JpcHRvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3BlcnR5ID0gbmV3IFN1cGVyKHByb3BlcnR5KS4kO1xyXG5cclxuICAgIGlmIChpc09iamVjdCh0aGlzLiQpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuJCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IHByb3BzIC0gTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbXVsdGlwbGVcclxuICAgKiBbXCJkZWxldGVcIiBvcGVyYXRvcl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZGVsZXRlKCdjJywgJ2EnKS4kOyAvLyB7IGI6IDIgfVxyXG4gICAqL1xyXG4gIGRlbGV0ZSguLi5wcm9wcykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIHByb3BzLCAocHJvcGVydHkpID0+IHtcclxuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PScgb3BlcmF0b3IgYW5kIGZhbHNlIGlmIG5vdC4gTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBlcXVhbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKDMpLmVxdWFscygnMycpOyAgIC8vIHRydWVcclxuICAgKiBuZXcgU3VwZXIoTmFOKS5lcXVhbHMoTmFOKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGVxdWFscyhvYmplY3QpIHtcclxuICAgIGNvbnN0IG8gPSB0aGlzLiQ7XHJcblxyXG4gICAgb2JqZWN0ID0gbmV3IFN1cGVyKG9iamVjdCkuJDtcclxuXHJcbiAgICAvKiBlc2xpbnQgZXFlcWVxOiAwICovXHJcbiAgICByZXR1cm4gbyA9PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNldmVyeVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgZmFsc2V5IGl0IHN0b3BzLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmV2ZXJ5KCh2YWx1ZSkgPT4gdmFsdWUgPCA0KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAgICovXHJcbiAgZXZlcnkoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNldmVyeScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pICE9PSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBlbGVtZW50IGlzIGluY2x1ZGVkIGFuZCBpZiBmYWxzZXkgaXQncyBleGNsdWRlZC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBELVdyYXAgb2YgZmlsdGVyZWQgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGZpbHRlcmVkIGJ5IHRoZSBjYWxsYmFjayBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgLy8geyBhOiAxLCBjOiAzIH1cclxuICAgKiBuZXcgU3VwZXIobnVsbCkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBmaWx0ZXIoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmaWx0ZXInKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcblxyXG4gICAgLyogZXNsaW50IG5vLW5lc3RlZC10ZXJuYXJ5OiAwICovXHJcbiAgICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IGlzTmlsKG9iamVjdCkgPyBvYmplY3QgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEQobyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gQm9vbGVhbl0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogSWYgcmV0dXJucyB0cnV0aHkgaXRlcmF0aW9uIHN0b3BzIGFuZCBpZiBmYWxzZXkgaXQgY29udGludWVzLlxyXG4gICAqIEByZXR1cm5zIHt7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IHsga2V5LCB2YWx1ZSB9IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBmb3VuZCB7IGtleSwgdmFsdWUgfSBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5maW5kKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDIpOyAvLyB7IGtleTogJ2InLCB2YWx1ZTogMiB9XHJcbiAgICogbmV3IFN1cGVyKFsxLCAyLCAzXSkuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSAyKTsgICAgICAgICAgICAvLyB7IGtleTogMSwgdmFsdWU6IDIgfVxyXG4gICAqL1xyXG4gIGZpbmQoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI2ZpbmQnKTtcclxuXHJcbiAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4geyBrZXksIHZhbHVlIH07XHJcbiAgICAgIH1cclxuICAgIH0pIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZvckVhY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgaXRlcmF0aW5nIG92ZXIgYW55IG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5mb3JFYWNoKCh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgKiAgIG9iamVjdFtrZXldID0gdmFsdWUgKiB2YWx1ZTtcclxuICAgKiB9KS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogNSB9IH1cclxuICAgKi9cclxuICBmb3JFYWNoKGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmb3JFYWNoJyk7XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNmcmVlemVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZnJlZXplXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5mcmVlemVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9mcmVlemV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGZyZWV6ZSgpIHtcclxuICAgIE9iamVjdC5mcmVlemUodGhpcy4kKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZ2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBGdW5jdGlvbj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBnZXR0ZXJzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZ2V0dGVyXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgZ2V0dGVyIGZ1bmN0aW9uLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIGdldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IG9iamVjdDEgPSBuZXcgU3VwZXIoe30pLmdldCgnYScsICgpID0+IDEpLiQ7XHJcbiAgICogb2JqZWN0MS5hOyAvLyAxXHJcbiAgICpcclxuICAgKiBjb25zdCBvYmplY3QyID0gbmV3IFN1cGVyKHt9KS5nZXQoe1xyXG4gICAqICAgYTogKCkgPT4gMlxyXG4gICAqIH0pLiQ7XHJcbiAgICogb2JqZWN0Mi5hOyAvLyAyXHJcbiAgICovXHJcbiAgZ2V0KHByb3BlcnR5LCBnZXR0ZXIpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IGdldHRlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpdGVyYXRlKGlzT2JqZWN0KG9iamVjdCkgJiYgbmV3IFN1cGVyKHByb3BlcnR5KS4kLCAoZ2V0dGVyLCBwcm9wZXJ0eSkgPT4ge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgeyBnZXQ6IGdldHRlciB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNoYXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8Kn0ga2V5IC0gUHJvcGVydHkgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyB0aGUga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpblwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW59LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhcygnYicpOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgaGFzKGtleSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGtleSBpbiBvYmplY3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2hhc093blxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBrZXkgLSBQcm9wZXJ0eSB0byBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGl0cyBvd24ga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0I2hhc093blByb3BlcnR5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhc093bignYicpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuaGFzT3duKCdoYXNPd25Qcm9wZXJ0eScpOyAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc093bihrZXkpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjaW5zdGFuY2VvZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciAtIENvbnN0cnVjdG9yIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIGNvbnN0cnVjdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2luc3RhbmNlb2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpbnN0YW5jZW9mXCIgb3BlcmF0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9pbnN0YW5jZW9mfS5cclxuICAgKi9cclxuICBpbnN0YW5jZW9mKGNvbnN0cnVjdG9yKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kIGluc3RhbmNlb2YgY29uc3RydWN0b3I7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2lzRnJvemVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGZyb3plbi5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuaXNGcm96ZW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plbn0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZnJlZXplKCkuaXNGcm96ZW4oKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGlzRnJvemVuKCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5pc0Zyb3plbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNqc29uXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfFN0cmluZ1tdfSBbcmVwbGFjZXJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW3NwYWNlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBKU09OIHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0pTT04vc3RyaW5naWZ5XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0pTT04uc3RyaW5naWZ5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9KU09OL3N0cmluZ2lmeX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuanNvbigpOyAvLyAne1wiYVwiOjEsXCJiXCI6MixcImNcIjozfSdcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmpzb24oJyAgICAnKTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICAgIFwiYVwiOiAxLFxyXG4gICAqIC8vICAgICBcImJcIjogMixcclxuICAgKiAvLyAgICAgXCJjXCI6IDNcclxuICAgKiAvLyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5qc29uKChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICogICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICByZXR1cm4gdmFsdWUlMiA/IGtleSArIHZhbHVlMCA6IHVuZGVmaW5lZDtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHZhbHVlO1xyXG4gICAqIH0sIDIpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIFwiYVwiOiBcImExXCIsXHJcbiAgICogLy8gICBcImNcIjogXCJjM1wiXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGpzb24ocmVwbGFjZXIsIHNwYWNlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihyZXBsYWNlcikgJiYgIWlzQXJyYXkocmVwbGFjZXIpKSB7XHJcbiAgICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5LmFwcGx5KEpTT04sIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2tleU9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBmaW5kLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd8TnVtYmVyfG51bGx9IEEga2V5IG9yIGFuIGluZGV4IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIGVxdWFsIHRvIHRoZSBhcmd1bWVudCB2YWx1ZSBpbiB0aGUgb2JqZWN0LiBOYU5zIGFyZSBjb25zaWRlcmVkIHRvIGJlIGVxdWFsLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmtleU9mKDIpOyAgIC8vICdiJ1xyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2YoJzInKTsgLy8gJ2InXHJcbiAgICovXHJcbiAga2V5T2YodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IGl0ZXJhdGUodGhpcy4kLCAodmFsLCBrZXkpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlPZlN0cmljdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfE51bWJlcnxudWxsfSBBIGtleSBvciBhbiBpbmRleCBpZiBmb3VuZCBhbmQgbnVsbCBpZiBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBzdHJpY3QgZXF1YWwgdG8gdGhlIGFyZ3VtZW50IHZhbHVlIGluIHRoZSBvYmplY3QuIE5hTnMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2ZTdHJpY3QoMik7ICAgLy8gJ2InXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlPZlN0cmljdCgnMicpOyAvLyAnYidcclxuICAgKi9cclxuICBrZXlPZlN0cmljdCh2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gaXRlcmF0ZSh0aGlzLiQsICh2YWwsIGtleSkgPT4ge1xyXG4gICAgICBpZiAodmFsID09PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSBrZXlzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0LmtleXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlzKCkuJDsgLy8gWydhJywgJ2InLCAnYyddXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLmtleXMoKS4kOyAgICAgICAgICAgICAgICAgLy8gW11cclxuICAgKi9cclxuICBrZXlzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3Qua2V5cyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHdyYXAgb2YgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBjYWxsYmFjay5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5tYXAoKHZhbHVlKSA9PiB2YWx1ZSAqIDIpLiQ7IC8vIHsgYTogMiwgYjogNCwgYzogNiB9XHJcbiAgICogbmV3IFN1cGVyKG51bGwpLm1hcCgodmFsdWUpID0+IHZhbHVlICogMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBtYXAoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI21hcCcpO1xyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IG8gPSBpc0FycmF5TGlrZShvYmplY3QpID8gW10gOiBpc051bGwob2JqZWN0KSA/IG51bGwgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgb1trZXldID0gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNvbXBhcmlzb24gd2l0aCB0aGUgcHJldmlvdXMgbWF4IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt7a2V5OiBLZXksIHZhbHVlOiBOdW1iZXJ9fSBPYmplY3Qgd2l0aCBtYXggdmFsdWUgYW5kIGtleSBvZiB0aGUgbWF4IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGZpbmRpbmcgbWF4IHZhbHVlIGluIHRoZSBvYmplY3QuXHJcbiAgICogSWYgbm8gY2FsbGJhY2sgaXMgcHJlc2VudCBjb21wYXJpc29uIGlzIGJldHdlZW4gdmFsdWVzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCk7ICAgICAgICAgICAgICAgICAgICAgLy8geyBrZXk6ICdjJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCh2YWx1ZSkgPT4gNCAtIHZhbHVlKTsgLy8geyBrZXk6ICdhJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6ICdhJywgYjogJ2InLCBjOiAnYycgfSkubWF4KCk7ICAgICAgICAgICAgICAgLy8geyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1heChjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21heCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWF4LCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPiBtYXgudmFsdWUpIHtcclxuICAgICAgICBtYXgua2V5ID0ga2V5O1xyXG4gICAgICAgIG1heC52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfSkuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjbWluXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjb21wYXJpc29uIHdpdGggdGhlIHByZXZpb3VzIG1pbiB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7e2tleTogS2V5LCB2YWx1ZTogTnVtYmVyfX0gT2JqZWN0IHdpdGggbWluIHZhbHVlIGFuZCBrZXkgb2YgdGhlIG1pbiB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG1pbiB2YWx1ZSBpbiB0aGUgb2JqZWN0LlxyXG4gICAqIElmIG5vIGNhbGxiYWNrIGlzIHByZXNlbnQgY29tcGFyaXNvbiBpcyBiZXR3ZWVuIHZhbHVlcyBvZiB0aGUgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigpOyAgICAgICAgICAgICAgICAgICAgIC8vIHsga2V5OiAnYScsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigodmFsdWUpID0+IDQgLSB2YWx1ZSk7IC8vIHsga2V5OiAnYycsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAnYScsIGI6ICdiJywgYzogJ2MnIH0pLm1pbigpOyAgICAgICAgICAgICAgIC8vIHsga2V5OiBudWxsLCB2YWx1ZTogSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1pbihjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21pbicpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWluLCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPCBtaW4udmFsdWUpIHtcclxuICAgICAgICBtaW4ua2V5ID0ga2V5O1xyXG4gICAgICAgIG1pbi52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiBJbmZpbml0eSB9KS4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNvYmplY3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3RDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtPYmplY3R8Kn0gW29iamVjdCA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBXcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIFRoZSBvYmplY3QgaXMgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGludG8gdGhlIGNhbGxiYWNrLiBUaGUgb3V0cHV0IGlzIHRoaXMgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyIH0pLm9iamVjdCgob2JqZWN0LCB2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICogICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAqICAgb2JqZWN0W2tleSArIGtleV0gPSB2YWx1ZSAqIDI7XHJcbiAgICogfSkuJDsgLy8geyBhOiAxLCBhYTogMiwgYjogMiwgYmI6IDQgfVxyXG4gICAqL1xyXG4gIG9iamVjdChjYWxsYmFjaywgb2JqZWN0ID0ge30pIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI29iamVjdCcpO1xyXG5cclxuICAgIGl0ZXJhdGUodGhpcy4kLCAodmFsdWUsIGtleSwgb2JqKSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKG9iamVjdCwgdmFsdWUsIGtleSwgb2JqKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG9iamVjdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIGFzc2lnbmVkIG9iamVjdC5cclxuICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZ1xyXG4gICAqIHRoaXMgaGFzIHRvIGJlIGFuIGFzc2lnbmVkIHZhbHVlIGlmIGl0J3MgcHJlc2VudC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB8Kn0gUmV0dXJucyB0aGlzIGlmIGl0J3MgYSBzZXR0ZXIgb3IgYSB2YWx1ZSBpZiBnZXR0ZXIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBhbmQgc2V0dGluZyBwcm9wZXJ0aWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnKTsgICAgICAgICAgICAgIC8vIDFcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnLCA3KS4kOyAgICAgICAgIC8vIHsgYTogNywgYjogMiwgYzogMyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5wcm9wKHsgYTogNywgYjogOCB9KS4kOyAvLyB7IGE6IDcsIGI6IDgsIGM6IDMgfVxyXG4gICAqL1xyXG4gIHByb3AocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxICYmIGlzU3RyaW5nKHByb3BlcnR5KSkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kID8gdGhpcy4kW3Byb3BlcnR5XSA6IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmFzc2lnbihwcm9wZXJ0eSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgLSBQcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R8dW5kZWZpbmVkfSBQcm9wZXJ0eSBkZXNjcmlwdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxIH0pLnByb3BlcnR5RGVzY3JpcHRvcignYScpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIHZhbHVlOiAxLFxyXG4gICAqIC8vICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgKiAvLyAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAqIC8vICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIHByb3BlcnR5RGVzY3JpcHRvcihwcm9wZXJ0eSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBpc09iamVjdChvYmplY3QpID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KSA6IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjcHJvcGVydHlOYW1lc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmFtZXMgYXJyYXkuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuZGVmaW5lKCdjJywgeyB2YWx1ZTogMyB9KS4kOyAvLyBbJ2EnLCAnYicsICdjJ11cclxuICAgKi9cclxuICBwcm9wZXJ0eU5hbWVzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNwcm9wZXJ0eVN5bWJvbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBELVdyYXAgb2YgdGhlIG5hbWVzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5U3ltYm9sc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBbU3ltYm9sKCdmb28nKV06IDEgfSkuZGVmaW5lKFN5bWJvbCgnYmFyJyksIHsgdmFsdWU6IDIgfSkuJDsgLy8gW1N5bWJvbCgnZm9vJyksIFN5bWJvbCgnYmFyJyldXHJcbiAgICovXHJcbiAgcHJvcGVydHlTeW1ib2xzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCkgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3RvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3Byb3RvXSAtIElmIGl0J3MgcHJlc2VudCBpdCdzIHNldCBhcyBhIHByb3RvdHlwZSB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gSW4gZ2V0dGVyIG1vZGUgcmV0dXJucyB3cmFwIG9mIHRoZSBwcm90b3R5cGUgYW5kIGluIHNldHRlciBtb2RlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZ2V0UHJvdG90eXBlT2Zde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRQcm90b3R5cGVPZn1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LnNldFByb3RvdHlwZU9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qvc2V0UHJvdG90eXBlT2Z9LlxyXG4gICAqL1xyXG4gIHByb3RvKHByb3RvKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBpc0NvbnRleHRPYmplY3QgPSAhaXNOaWwob2JqZWN0KTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBpZiAoaXNDb250ZXh0T2JqZWN0ICYmIChpc09iamVjdChwcm90bykgfHwgaXNOdWxsKHByb3RvKSkpIHtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90byk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0NvbnRleHRPYmplY3QgPyBuZXcgU3VwZXIoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpIDogbmV3IFN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3JlZHVjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHsqfSBbSVYgPSA8Zmlyc3QgdmFsdWU+fHVuZGVmaW5lZF0gLSBJbml0aWFsIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHsqfSBNb2RpZmllZCBJVi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBtb2RpZmllZCBJVi4gSWYgdGhlIHNlY29uZCBhcmd1bWVudCBpcyBub3QgcHJlc2VudCBmaXJzdCB2YWx1ZSBpbiB0aGUgb2JqZWN0IGlzIHRha2VuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkucmVkdWNlKChzdW0sIHZhbHVlKSA9PiBzdW0gKyB2YWx1ZSAqIHZhbHVlLCAwKTsgLy8gMTRcclxuICAgKi9cclxuICByZWR1Y2UoY2FsbGJhY2ssIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNyZWR1Y2UnKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IHN0YXJ0S2V5O1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHN0YXJ0S2V5ID0ga2V5O1xyXG4gICAgICAgIElWID0gdmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSAhPT0gc3RhcnRLZXkpIHtcclxuICAgICAgICBJViA9IGNhbGxiYWNrKElWLCB2YWx1ZSwga2V5LCBvYmplY3QpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3NldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRnVuY3Rpb24+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgc2V0dGVycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3NldHRlcl0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHNldHRlciBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWZpbmluZyBzZXR0ZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBvYmplY3QgPSBuZXcgU3VwZXIoe30pXHJcbiAgICogICAuZ2V0KCdwdWJsaWMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICogICAgIHJldHVybiB0aGlzLl9wcml2YXRlO1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5zZXQoJ3B1YmxpYycsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsICcxJykuJDsgLy8geyBwdWJsaWM6IHVuZGVmaW5lZCB9XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsIDEpLiQ7ICAgLy8geyBwdWJsaWM6IDEsIF9wcml2YXRlOiAxIH1cclxuICAgKlxyXG4gICAqIG5ldyBTdXBlcih7fSkuc2V0KHtcclxuICAgKiAgIHB1YmxpYyh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfVxyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHNldChwcm9wZXJ0eSwgc2V0dGVyKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiBzZXR0ZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShpc09iamVjdChvYmplY3QpICYmIG5ldyBTdXBlcihwcm9wZXJ0eSkuJCwgKHNldHRlciwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgc2V0OiBzZXR0ZXIgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc29tZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRydWUgaWYgc29tZSBvZiB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLiBPdGhlcndpc2UgZmFsc2UuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuc29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5zb21lKCgpID0+IHRydWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsc2VcclxuICAgKi9cclxuICBzb21lKGNhbGxiYWNrID0gQm9vbGVhbikge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjc29tZScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KSB8fCBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PT0nIG9wZXJhdG9yIGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBzdHJpY3QgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcigzKS5zdHJpY3RFcXVhbHMoJzMnKTsgICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdXBlcihOYU4pLnN0cmljdEVxdWFscyhOYU4pOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgc3RyaWN0RXF1YWxzKG9iamVjdCkge1xyXG4gICAgY29uc3QgbyA9IHRoaXMuJDtcclxuXHJcbiAgICBvYmplY3QgPSBuZXcgU3VwZXIob2JqZWN0KS4kO1xyXG5cclxuICAgIHJldHVybiBvID09PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNzdW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gbnVsbF0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU3VtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3Igc3VtbWluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnN1bSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyA2XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5zdW0oKHZhbHVlKSA9PiB2YWx1ZSAqIHZhbHVlKTsgLy8gMTRcclxuICAgKi9cclxuICBzdW0oY2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9ufHwhJ10sICdTdXBlciNzdW0nKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZWR1Y2UoKHN1bSwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHN1bSArIE51bWJlcihjYWxsYmFjayA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkgOiB2YWx1ZSlcclxuICAgICksIDApO1xyXG4gIH1cclxuXHJcbiAgdG9KU09OKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdG9TdHJpbmdUYWdcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0b1N0cmluZyB0YWcgb2YgdGhlIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS50b1N0cmluZ1RhZzsgLy8gJ09iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoW10pLnRvU3RyaW5nVGFnOyAvLyAnQXJyYXknXHJcbiAgICogbmV3IFN1cGVyKDEpLnRvU3RyaW5nVGFnOyAgLy8gJ051bWJlcidcclxuICAgKi9cclxuICBnZXQgdG9TdHJpbmdUYWcoKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmdUYWcodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdHlwZVxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtcInR5cGVvZlwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5zdGFuY2VvZn0uLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnR5cGU7ICAgLy8gJ29iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoMSkudHlwZTsgICAgLy8gJ251bWJlcidcclxuICAgKiBuZXcgU3VwZXIoJzEnKS50eXBlOyAgLy8gJ3N0cmluZydcclxuICAgKiBuZXcgU3VwZXIodHJ1ZSkudHlwZTsgLy8gJ2Jvb2xlYW4nXHJcbiAgICovXHJcbiAgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgdmFsdWVzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdC48U3RyaW5nLCAqPn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgdmFsdWUgdG8gYmUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUsIG5vbi1jb25maWd1cmFibGUgdmFsdWVzLlxyXG4gICAqIFN5bm9ueW0gZm9yIG9iamVjdC5kZWZpbmUocHJvcGVydHksIHsgdmFsdWU6IHZhbHVlIH0pLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKCdhJywgMSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKHtcclxuICAgKiAgIGE6IDFcclxuICAgKiB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geyBhOiAxIH1cclxuICAgKi9cclxuICB2YWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUoaXNPYmplY3Qob2JqZWN0KSAmJiBuZXcgU3VwZXIocHJvcGVydHkpLiQsICh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgdmFsdWUgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgRC1XcmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkudmFsdWVzKCkuJDsgLy8gWzEsIDIsIDNdXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLnZhbHVlcygpLiQ7ICAgICAgICAgICAgICAgICAvLyBbXVxyXG4gICAqL1xyXG4gIHZhbHVlcygpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKGFycmF5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjd29yZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3IgY29uY2F0ZW5hdGluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEyMydcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKHZhbHVlKSA9PiB2YWx1ZSArIHZhbHVlKTsgLy8gJzExMjIzMydcclxuICAgKi9cclxuICB3b3JkKGNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbnx8ISddLCAnU3VwZXIjd29yZCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnJlZHVjZSgod29yZCwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHdvcmQgKyBTdHJpbmcoY2FsbGJhY2sgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpIDogdmFsdWUpXHJcbiAgICApLCAnJyk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN1cGVyLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnU3VwZXInXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwQXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IC0gT2JqZWN0IHRvIGFzc2lnbiBwcm9wZXJ0aWVzIHRvLlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBhc3NpZ24gcHJvcGVydGllcyBmcm9tLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBBc3NpZ24odGFyZ2V0LCBvYmplY3QpIHtcclxuICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmIChpc1ByaW1pdGl2ZSh0YXJnZXRba2V5XSkgfHwgIXt9Lmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgIHRhcmdldFtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzUHJpbWl0aXZlKHRhcmdldFtrZXldKSkge1xyXG4gICAgICBkZWVwQXNzaWduKHRhcmdldFtrZXldLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcENsb25lXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGNsb25lLlxyXG4gKiBAZGVzY3JpcHRpb24gRG9lcyB0aGUgZGVlcCBjbG9uaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcENsb25lKG9iamVjdCkge1xyXG4gIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIHRydWVdKTtcclxuXHJcbiAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICBjbG9uZVtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNsb25lO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFcXVhbFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG8xIC0gRmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Kn0gbzIgLSBTZWNvbmQgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RyaWN0IC0gSWYgY29tcGFyaXNvbiBzaG91bGQgYmUgc3RyaWN0IG9yIG5vdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgdGhlIG9iamVjdCBhcmUgZGVlcCBlcXVhbCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXF1YWwobzEsIG8yLCBzdHJpY3QpIHtcclxuICBpZiAobzEgPT09IG8yKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGlmIChpc05hTihvMSkgJiYgaXNOYU4obzIpICYmIGlzUHJpbWl0aXZlKG8xKSAmJiBpc1ByaW1pdGl2ZShvMikpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKG8xKSB8fCBpc05hTihvMikpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChpc1ByaW1pdGl2ZShvMSkgfHwgaXNQcmltaXRpdmUobzIpKSB7XHJcbiAgICByZXR1cm4gc3RyaWN0ID8gbzEgPT09IG8yIDogbzEgPT0gbzI7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSAmJiBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gbzEuZ2V0VGltZSgpID09PSBvMi5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSB8fCBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNSZWdFeHAobzEpICYmIGlzUmVnRXhwKG8yKSkge1xyXG4gICAgcmV0dXJuIG8xLnNvdXJjZSA9PT0gbzIuc291cmNlICYmXHJcbiAgICAgIG8xLnRvU3RyaW5nKCkubWF0Y2goL1tnaW11eV0qJC8pWzBdID09PSBvMi50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSAmJlxyXG4gICAgICBvMS5sYXN0SW5kZXggPT09IG8yLmxhc3RJbmRleDtcclxuICB9XHJcblxyXG4gIGlmIChpc1JlZ0V4cChvMSkgfHwgaXNSZWdFeHAobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoKCFpc1BsYWluT2JqZWN0KG8xKSAmJiAhaXNBcnJheShvMSkpIHx8ICghaXNQbGFpbk9iamVjdChvMikgJiYgIWlzQXJyYXkobzIpKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcDEgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YobzEpO1xyXG4gIGNvbnN0IHAyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG8xKTtcclxuXHJcbiAgaWYgKE9iamVjdC5rZXlzKG8xKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKG8yKS5sZW5ndGgpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChwMSAmJiBwMiAmJiAodG9TdHJpbmdUYWcocDEuY29uc3RydWN0b3IpICE9PSB0b1N0cmluZ1RhZyhwMi5jb25zdHJ1Y3RvcikpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvMSwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmICghKGtleSBpbiBvMikgfHwgIWRlZXBFcXVhbCh2YWx1ZSwgbzJba2V5XSwgc3RyaWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFdmVyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgbm90IGl0IHN0b3BzLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgYWxsIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXZlcnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIHJldHVybiBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICAgID8gIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgICA6ICFkZWVwRXZlcnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSlcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBGaWx0ZXJcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBpbiB0aGUgb3V0cHV0IGFuZCBpZiBub3QgaXQncyBleGNsdWRlZC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gb2JqZWN0cyBvZiBpdGVyYXRpb24uXHJcbiAqIEByZXR1cm5zIHsqfSBGaWx0ZXJlZCBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRmlsdGVyKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcbiAgY29uc3QgbnVsID0gaXNOaWwob2JqZWN0KTtcclxuICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IG51bCA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpKSB7XHJcbiAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb1trZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCkge1xyXG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IGRlZXBGaWx0ZXIodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgICBpZiAoZmlsdGVyZWQpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaChmaWx0ZXJlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IGZpbHRlcmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpZiAoYXJyYXkpIHtcclxuICAgIHJldHVybiBvLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBpZiAoIW51bCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7VHJlZXxudWxsfSAtIElmIGZvdW5kIHRoZSB3aG9sZSB0cmVlIGlzIHJldHVybmVkIGFuZCBpZiBub3QgaXQncyBudWxsIHdoYXQncyByZXR1cm5lZC5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGaW5kKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBlbmQgPSBuID09PSAxO1xyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXdUcmVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gZGVlcEZpbmQodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH0pIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRm9yRWFjaChvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVlcEZvckVhY2godmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hFbnRyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGb3JFYWNoRW50cnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKTtcclxuXHJcbiAgICBpZiAoIWVuZCAmJiAhaXNQcmltaXRpdmUodmFsdWUpKSB7XHJcbiAgICAgIGRlZXBGb3JFYWNoRW50cnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZyZWV6ZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBmcmVlemUuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmplY3QpIHtcclxuICBPYmplY3QuZnJlZXplKG9iamVjdCk7XHJcbiAgaXRlcmF0ZShvYmplY3QsIGRlZXBGcmVlemUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBNYXBcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBSZXR1cm5lZCB2YWx1ZSBpcyB1c2VkIHRvIGNyZWF0ZSB0byBuZXcgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IE5ldyBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwTWFwKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBvID0gaXNBcnJheUxpa2Uob2JqZWN0KSA/IFtdIDogaXNOaWwob2JqZWN0KSA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgb1trZXldID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgOiBkZWVwTWFwKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIG5ld1RyZWUpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwUmVkdWNlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cclxuICogQHBhcmFtIHtEZWVwUmVkdWNlQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgb24gZXZlcnkgZWxlbWVudC5cclxuICogUmV0dXJuZWQgdmFsdWUgaXMgdXNlZCB0byBjcmVhdGUgdG8gbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhcnQgLSBJZiBjYWxsYmFjayB3YXMgY2FsbGVkIGFscmVhZHkgb3Igbm90LlxyXG4gKiBAcGFyYW0ge3sgSVY6ICogfXx1bmRlZmluZWR9IElWIC0gSWYgY2FsbGJhY2sgd2FzIGNhbGxlZCBhbHJlYWR5IG9yIG5vdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3sgSVY6ICogfX0gVHJhbnNmb3JtZWQgSVYuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwUmVkdWNlKG9iamVjdCwgY2FsbGJhY2ssIG4sIHN0YXJ0LCBJViwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBpZiAoIUlWICYmIChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiAhc3RhcnQpIHtcclxuICAgICAgSVYgPSB7IElWOiB2YWx1ZSB9O1xyXG4gICAgICBzdGFydCA9IHRydWU7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIElWID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IHsgSVY6IGNhbGxiYWNrKElWLklWLCB2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpIH1cclxuICAgICAgOiBkZWVwUmVkdWNlKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIHN0YXJ0LCBJViwgbmV3VHJlZSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBJVjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwU29tZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiBzb21lIG9mIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwU29tZShvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgcmV0dXJuIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpXHJcbiAgICAgICAgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpXHJcbiAgICAgICAgOiBkZWVwU29tZSh2YWx1ZSwgY2FsbGJhY2ssIG4gLSAxLCBuZXdUcmVlKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0pIHx8IGZhbHNlO1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMF0ucHVzaCh7XHJcbiAgY2hlY2s6ICgpID0+IHRydWUsXHJcbiAgY2xzOiBTdXBlclxyXG59KTtcclxuXHJcbmV4cG9ydCB7IFN1cGVyIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEZ1bmNcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEZ1bmMgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgdmFsaWRhdGUsIHRvQXJyYXksIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllcywgaXRlcmF0ZSB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEJlZm9yZU1pZGRsZXdhcmVcclxuICogQHBhcmFtIHtBcnJheX0gYXJncyAtIFByZXZpb3VzIGFyZ3VtZW50cy5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMge0FycmF5fSAtIE5ldyBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBBZnRlck1pZGRsZXdhcmVcclxuICogQHBhcmFtIHsqfSByZXR1cm5WYWx1ZSAtIFByZXZpb3VzIHJldHVybiB2YWx1ZS5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMgeyp9IC0gTmV3IHJldHVybiB2YWx1ZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEZ1bmNcclxuICogQGV4dGVuZHMgU3VwZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuYyA9IGZ1bmN0aW9uICgpIHt9XSAtIEZ1bmN0aW9uIHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtGdW5jfSBJbnN0YW5jZSBvZiBGdW5jLlxyXG4gKiBAZGVzY3JpcHRpb24gQSB3cmFwIG9mIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhNYXRoLm1heCk7XHJcbiAqXHJcbiAqIGZ1bmMoMSwgNCwgLTIsIDUpOyAvLyA1XHJcbiAqL1xyXG5jbGFzcyBGdW5jIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKGZ1bmMgPSAoKSA9PiB7fSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm94eSgpIHtcclxuICAgICAgaWYgKCsrcHJveHkuJCQuY2FsbGVkIDwgcHJveHkuJCQuY2FuQmVDYWxsZWQpIHtcclxuICAgICAgICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIsIHN5bmMsIGNvbnRleHRMb2NrZWQgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCB7IGNvbnRleHQsIGFyZ3MgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCByZXQ7XHJcblxyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0TG9ja2VkID8gY29udGV4dCA6IGNvbnRleHQgfHwgdGhpcztcclxuICAgICAgICBhcmdzID0gYXJncy5jb25jYXQodG9BcnJheShhcmd1bWVudHMpKTtcclxuXHJcbiAgICAgICAgaWYgKHN5bmMpIHtcclxuICAgICAgICAgIGl0ZXJhdGUoYmVmb3JlLCAobWlkZGxld2FyZSkgPT4ge1xyXG4gICAgICAgICAgICBhcmdzID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHRvQXJyYXkoYXJncyksIHByb3h5KTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgdG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgICAgcmV0ID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xyXG5cclxuICAgICAgICBpdGVyYXRlKGJlZm9yZSwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKGFyZ3MpID0+IG1pZGRsZXdhcmUuY2FsbChjb250ZXh0LCB0b0FycmF5KGFyZ3MpLCBwcm94eSkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKChhcmdzKSA9PiBmdW5jLmFwcGx5KGNvbnRleHQsIHRvQXJyYXkoYXJncykpKTtcclxuXHJcbiAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKHJldCkgPT4gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge09iamVjdH0gRnVuYyMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFmdGVyIC0gQWZ0ZXIgbWlkZGxld2FyZSBhcnJheS5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3MgLSBMb2NrZWQgYW5kIGJvdW5kIGFyZ3VtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3NMb2NrZWQgLSBMb2NrZWQgYXJndW1lbnRzLlxyXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gYmVmb3JlIC0gQmVmb3JlIG1pZGRsZXdhcmUgYXJyYXkuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FsbGVkIC0gSG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FuQmVDYWxsZWQgLSBIb3cgbWFueSB0aW1lcyB0aGUgZnVuY3Rpb24gY2FuIGJlIGFjdHVhbGx5IGNhbGxlZC5cclxuICAgICAqIEBwcm9wZXJ0eSB7Kn0gY29udGV4dCAtIExvY2tlZCBvciBib3VuZCBjb250ZXh0LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBjb250ZXh0TG9ja2VkIC0gSXMgY29udGV4dCBsb2NrZWQgb3Igbm90LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBzeW5jIC0gSXMgZnVuY3Rpb24gc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBhZnRlcjogW10sXHJcbiAgICAgICAgYXJnczogW10sXHJcbiAgICAgICAgYXJnc0xvY2tlZDogW10sXHJcbiAgICAgICAgYmVmb3JlOiBbXSxcclxuICAgICAgICBjYWxsZWQ6IDAsXHJcbiAgICAgICAgY2FuQmVDYWxsZWQ6IEluZmluaXR5LFxyXG4gICAgICAgIGNvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgY29udGV4dExvY2tlZDogZmFsc2UsXHJcbiAgICAgICAgc3luYzogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBGdW5jIyRcclxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCAnJCcsIHsgdmFsdWU6IGZ1bmMgfSk7XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJveHksIEZ1bmMucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gcHJveHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYWZ0ZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtBZnRlck1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBBZnRlciBtaWRkbGV3YXJlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYWZ0ZXJBbGwgPSB0cnVlXSAtIEJvb2xlYW4gcGFyYW1ldGVyIHdoZXJlIHRvIHB1dCBtaWRkbGV3YXJlLlxyXG4gICAqIFRydXRoeSBwYXJhbWV0ZXIgc3RhbmRzIGZvciBcInRvIHRoZSBlbmRcIiBhbmQgZmFsc2V5IGZvciBcInRvIHRoZSBiZWdpbm5pbmdcIi5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBZGRzIGFmdGVyIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYWZ0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0ICogcmVzdWx0KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoNCk7ICAvLyAyNVxyXG4gICAqIGZ1bmMoLTQpOyAvLyA5XHJcbiAgICovXHJcbiAgYWZ0ZXIobWlkZGxld2FyZSwgYWZ0ZXJBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYWZ0ZXInKTtcclxuXHJcbiAgICBjb25zdCB7IGFmdGVyIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChhZnRlckFsbCkge1xyXG4gICAgICBhZnRlci5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWZ0ZXIudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNhcHBseVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIENvbnRleHQgdG8gY2FsbCB3aXRoLlxyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYXBwbHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRnVuY3Rpb24jYXBwbHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2FwcGx5fS5cclxuICAgKi9cclxuICBhcHBseShjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gKCgpID0+IHt9KS5hcHBseS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2FzeW5jXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEpID0+IGEgKyAxKS5hc3luYygpO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDVcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBhc3luYyhjb25kaXRpb24gPSB0cnVlKSB7XHJcbiAgICB0aGlzLiQkLnN5bmMgPSAhY29uZGl0aW9uO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0JlZm9yZU1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBCZWZvcmUgbWlkZGxld2FyZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2JlZm9yZUFsbCA9IHRydWVdIC0gQm9vbGVhbiBwYXJhbWV0ZXIgd2hlcmUgdG8gcHV0IG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGVuZFwiLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEFkZHMgYmVmb3JlIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYmVmb3JlKChbYXJnXSkgPT4gW2FyZyAqIGFyZ10pO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KTsgLy8gMTdcclxuICAgKiBmdW5jKDMpOyAvLyAxMFxyXG4gICAqL1xyXG4gIGJlZm9yZShtaWRkbGV3YXJlLCBiZWZvcmVBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYmVmb3JlJyk7XHJcblxyXG4gICAgY29uc3QgeyBiZWZvcmUgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGJlZm9yZUFsbCkge1xyXG4gICAgICBiZWZvcmUudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJlZm9yZS5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIENvbXBvc2l0aW9uIG9mIHtAbGluayBGdW5jI2JpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjYmluZEFyZ3N9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmEgKyBhICsgYjtcclxuICAgKiB9KS5iaW5kKHsgYTogMiB9LCAxKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgYmluZChjb250ZXh0LCAuLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuYmluZENvbnRleHQoY29udGV4dClcclxuICAgICAgLmJpbmRBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IGFyZ3MgLSBBcmd1bWVudHMgdG8gYmluZC5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCaW5kcyBhcmd1bWVudHMgaW4gYWRkaXRpb24gdG8gYWxyZWFkeSBsb2NrZWQgYW5kIGJvdW5kIG9uZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoLi4uYXJncykgPT4ge1xyXG4gICAqICAgbGV0IHN1bSA9IDA7XHJcbiAgICpcclxuICAgKiAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAqICAgICBzdW0gKz0gYXJnc1tpXTtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHN1bTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKlxyXG4gICAqIGZ1bmMuYmluZEFyZ3MoWzRdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDEwXHJcbiAgICpcclxuICAgKiBmdW5jLmJpbmRBcmdzKFs1XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxNVxyXG4gICAqL1xyXG4gIGJpbmRBcmdzKGFyZ3MpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGZ1bmMuYXJncyA9IGZ1bmMuYXJncy5jb25jYXQodG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEJpbmQgbmV3IGNvbnRleHQgaWYgaXQncyBub3QgYWxyZWFkeSBsb2NrZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgYTogMSB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQ29udGV4dCh7IGE6IDIgfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKCk7IC8vIDJcclxuICAgKi9cclxuICBiaW5kQ29udGV4dChjb250ZXh0KSB7XHJcbiAgICBjb25zdCBmdW5jID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoIWZ1bmMuY29udGV4dExvY2tlZCkge1xyXG4gICAgICBmdW5jLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbGxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBDb250ZXh0IHRvIGNhbGwgd2l0aC5cclxuICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vY2FsbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtGdW5jdGlvbiNjYWxsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9jYWxsfS5cclxuICAgKi9cclxuICBjYWxsKGNvbnRleHQsIC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiAoKCkgPT4ge30pLmNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRnVuYyNjYWxsZWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpO1xyXG4gICAqIGZ1bmMoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMuY2FsbGVkIC8vIDJcclxuICAgKi9cclxuICBnZXQgY2FsbGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCQuY2FsbGVkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbkJlQ2FsbGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lcyAtIE51bWJlciBvZiBtYXhpbXVtIHRpbWVzIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgKG1pZGRsZXdhcmVzIGFyZSBhbHNvIHRha2VuIGZvciBhIGNvdW50KS5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGxpbWl0aW5nIGNhbGwgdGltZXMgb2YgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuY2FuQmVDYWxsZWQoMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEpOyAvLyAyXHJcbiAgICogZnVuYygxKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgY2FuQmVDYWxsZWQodGltZXMpIHtcclxuICAgIHRoaXMuJCQuY2FuQmVDYWxsZWQgPSB0aW1lcztcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsaW1pdEFyZ3NUb1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGFyZ3VtZW50cyB0byBsaW1pdCB0by5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCdWlsdC1pbiBiZWZvcmUgbWlkZGxld2FyZSBmb3IgbGltaXRpbmcgbnVtYmVyIG9mIGFyZ3VtZW50c1xyXG4gICAqIHRoYXQgaXMgcHV0IHRvIHRoZSBlbmQgb2YgYmVmb3JlIG1pZGRsZXdhcmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEsIGIpID0+IFthLCBiXSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgMl1cclxuICAgKlxyXG4gICAqIGZ1bmMubGltaXRBcmdzVG8oMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgdW5kZWZpbmVkXVxyXG4gICAqL1xyXG4gIGxpbWl0QXJnc1RvKG51bWJlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuYmVmb3JlKChhcmdzKSA9PiBhcmdzLnNsaWNlKDAsIG51bWJlciksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gY29udGV4dCAtIENvbnRleHQgdG8gbG9jay5cclxuICAgKiBAcGFyYW0geyhBcnJheXxBcmd1bWVudHN8Kil9IGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9jay5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyNsb2NrQ29udGV4dH0gYW5kIHtAbGluayBGdW5jI2xvY2tBcmdzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYSArIGI7XHJcbiAgICogfSkubG9jayh7IGE6IDIgfSwgWzFdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgbG9jayhjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAubG9ja0NvbnRleHQoY29udGV4dClcclxuICAgICAgLmxvY2tBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2xvY2tBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBsb2NrLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBib3VuZCBhcmd1bWVudHMgYW5kIGFkZHMgbmV3IGFyZ3VtZW50cyB0byBhbHJlYWR5IGxvY2tlZCBvbmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyA2XHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tBcmdzKFs0XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxMFxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQXJncyhbNiwgN10pO1xyXG4gICAqIGZ1bmMubG9ja0FyZ3MoWzVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICovXHJcbiAgbG9ja0FyZ3MoYXJncykge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkID0gZnVuYy5hcmdzTG9ja2VkLmNvbmNhdCh0b0FycmF5KGFyZ3MpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrQ29udGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgLSBDb250ZXh0IHRvIGxvY2suXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9ja3MgY29udGV4dCBpZiBpdCdzIG5vdCBhbHJlYWR5IGxvY2tlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uICgpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmE7XHJcbiAgICogfSkubG9ja0NvbnRleHQoeyBhOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tDb250ZXh0KHsgYTogMiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqL1xyXG4gIGxvY2tDb250ZXh0KGNvbnRleHQpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgIGZ1bmMuY29udGV4dExvY2tlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjdGltaW5nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrIC0gQXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdG8gY29uc29sZS50aW1lKCkgYW5kIGNvbnNvbGUudGltZUVuZCgpLlxyXG4gICAqIEJ5IGRlZmF1bHQgbmFtZSBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24sIG9yIGlmIGl0J3Mgbm90IHByZXNlbnQsICdhbm9ueW1vdXMnIGlzIHVzZWQuXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gQnVpbHQtaW4gYmVmb3JlIGFuZCBhZnRlciBtaWRkbGV3YXJlcyBmb3Igbm90aW5nIGNhbGxpbmcgdGltZS5cclxuICAgKiBJbiBjYXNlIG9mIGFzeW5jaHJvbm91cyBmdW5jdGlvbnMgaXQgbm90ZXMgdGltZSBiZXR3ZWVuIGNhbGxpbmcgZnVuY3Rpb24gYW5kIHJlc29sdmluZyBvciByZWplY3RpbmcgdGhlIHJlc3VsdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKChhKSA9PiBhICsgMSlcclxuICAgKiAgIC50aW1pbmcoJ3BsdXMgMScpO1xyXG4gICAqXHJcbiAgICogZnVuYygyKTsgLy8gcGx1cyAxOiAwLjAxMG1zXHJcbiAgICpcclxuICAgKiBjb25zdCBhc3luYyA9IG5ldyBGdW5jKCgpID0+IG5ldyBQcm9taXNlKCgpID0+IHtcclxuICAgKiAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKTtcclxuICAgKiAgIH0pKVxyXG4gICAqICAgLmFzeW5jKClcclxuICAgKiAgIC50aW1pbmcoKTtcclxuICAgKlxyXG4gICAqIGFzeW5jKCk7XHJcbiAgICogLy8gQWZ0ZXIgMSBzZWNvbmQuLi5cclxuICAgKiAvLyBhbm9ueW1vdXM6IDEwMDAuMDEwbXNcclxuICAgKi9cclxuICB0aW1pbmcobWFyaykge1xyXG4gICAgbWFyayA9IGFyZ3VtZW50cy5sZW5ndGggPyBTdHJpbmcobWFyaykgOiB0aGlzLiQubmFtZSB8fCAnYW5vbnltb3VzJztcclxuXHJcbiAgICB0aGlzLmJlZm9yZSgoYXJncykgPT4ge1xyXG4gICAgICBjb25zb2xlLnRpbWUobWFyayk7XHJcblxyXG4gICAgICByZXR1cm4gYXJncztcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLmFmdGVyKChyZXQpID0+IHtcclxuICAgICAgY29uc29sZS50aW1lRW5kKG1hcmspO1xyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHRvU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuICgoKSA9PiB7fSkudG9TdHJpbmcuY2FsbCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyN1bmJpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjdW5iaW5kQXJnc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoYSkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vICsgJyAmICcgKyAgYTtcclxuICAgKiB9KS5iaW5kKHsgZm9vOiAyIH0sIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAnMiAmIDEnXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZCgpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAndW5kZWZpbmVkICYgdW5kZWZpbmVkJ1xyXG4gICAqL1xyXG4gIHVuYmluZCgpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC51bmJpbmRDb250ZXh0KClcclxuICAgICAgLnVuYmluZEFyZ3MoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyN1bmJpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBhbGwgYm91bmQgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSkuYmluZEFyZ3MoWzQsIDVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICB1bmJpbmRBcmdzKCkge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRXJhc2VzIGNvbnRleHQgaWYgaXQncyBub3QgbG9ja2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgZm9vOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgdW5iaW5kQ29udGV4dCgpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEZ1bmMucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdGdW5jJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNGdW5jdGlvbixcclxuICBjbHM6IEZ1bmNcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIG1ldGhvZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgLSBNZXRob2QgdG8gY2FsbC5cclxuICogQHBhcmFtIHsoQXJyYXl8QXJndW1lbnRzfCopfSBhcmdzIC0gQXJndW1lbnRzIHRvIGNhbGwgdGhlIG1ldGhvZCB3aXRoLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgY2FsbHMgc3RhdGVkIG1ldGhvZCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZnVuY3Rpb25cclxuICogdGhhdCBjYWxscyBzdGF0ZWQgbWV0aG9kIG9mIGl0cyBmaXJzdCBhcmd1bWVudCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogWzEuMjM0NSwgMi43ODksIDMuMTRdLm1hcChtZXRob2QoJ3RvRml4ZWQnLCBbMl0pKTsgLy8gWycxLjIzJywgJzIuNzknLCAnMy4xNCddXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXRob2QobWV0aG9kLCBhcmdzID0gW10pIHtcclxuICByZXR1cm4gKHgpID0+IHhbbWV0aG9kXS5hcHBseSh4LCB0b0FycmF5KGFyZ3MpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBub29wXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBFbXB0eSBmdW5jdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBwcm9wXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHByb3AgLSBQcm9wZXJ0eSB0byByZXR1cm4uXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdpdmVuIHByb3BlcnR5IG9mIGl0cyBmaXJzdCBhcmd1bWVudC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJuIHRoZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZ2l2ZW4gcHJvcGVydHkgb2YgaXRzIGZpcnN0IGFyZ3VtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBbJ2ZvbycsICcxMicsICc3ODkwJ10ubWFwKHByb3AoJ2xlbmd0aCcpKTsgLy8gWzMsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9wKHByb3ApIHtcclxuICByZXR1cm4gKHsgW3Byb3BdOiB2YWx1ZSB9KSA9PiB2YWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBzZWxmXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMgeyp9IEZpcnN0IGFyZ3VtZW50IGl0c2VsZi5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFsxLCAyXS5tYXAoc2VsZik7ICAgICAgICAgICAgICAgICAgICAgLy8gWzEsIDJdXHJcbiAqIFsxLCAzLCBOYU4sIDAsIDcsIG51bGxdLmZpbHRlcihzZWxmKTsgLy8gWzEsIDMsIDddXHJcbiAqL1xyXG5mdW5jdGlvbiBzZWxmKCkge1xyXG4gIHJldHVybiBhcmd1bWVudHNbMF07XHJcbn1cclxuXHJcbmV4cG9ydCB7IEZ1bmMsIG1ldGhvZCwgbm9vcCwgcHJvcCwgc2VsZiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBOdW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE51bSBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBGdW5jIH0gZnJvbSAnLi9GdW5jJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc051bWJlciwgaXNGaW5pdGUsIHRvQXJyYXksXHJcbiAgZGVmaW5lUHJvcGVydGllcywgdmFsaWRhdGUsIFN5bWJvbFxyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG5jb25zdCB0b1JhZGlhbiA9IE1hdGguUEkgLyAxODA7XHJcbmNvbnN0IHRvRGVncmVlID0gMTgwIC8gTWF0aC5QSTtcclxuY29uc3QgbG4yID0gTWF0aC5MTjI7XHJcbmNvbnN0IGxuMTAgPSBNYXRoLkxOMTA7XHJcblxyXG4vKipcclxuICogQGNsYXNzIE51bVxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyID0gMF0gLSBBIG51bWJlciB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7TnVtfSBJbnN0YW5jZSBvZiBOdW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgbnVtYmVyLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBudW0gPSBuZXcgTnVtKDEpO1xyXG4gKi9cclxuY2xhc3MgTnVtIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKG51bWJlciA9IDApIHtcclxuICAgIHN1cGVyKCtudW1iZXIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBOdW0jJFxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBudW1iZXIuXHJcbiAgICAgKi9cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fic1xyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hYnNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hYnNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWJzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgxKS5hYnM7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMSkuYWJzOyAvLyAxXHJcbiAgICovXHJcbiAgZ2V0IGFicygpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYWNvc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjY29zaW5lIG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3N9LlxyXG4gICAqL1xyXG4gIGFjb3ModG9EZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gKHRvRGVncmVlcyA/IHRvRGVncmVlIDogMSkgKiBNYXRoLmFjb3ModGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fjb3NoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYWNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWNvc2h9LlxyXG4gICAqL1xyXG4gIGdldCBhY29zaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciAtIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2FzaW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2FzaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXNpbmhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbmh9LlxyXG4gICAqL1xyXG4gIGdldCBhc2luaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciArIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI2FzaW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFt0b0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSByZXR1cm4gdmFsdWUgaXMgdHJhbnNmb3JtZWQgaW50byBkZWdyZWVzLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IEFyY3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmFzaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbn0uXHJcbiAgICovXHJcbiAgYXNpbih0b0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiAodG9EZWdyZWVzID8gdG9EZWdyZWUgOiAxKSAqIE1hdGguYXNpbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYXRhblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjc2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFufS5cclxuICAgKi9cclxuICBhdGFuKHRvRGVncmVlcykge1xyXG4gICAgcmV0dXJuICh0b0RlZ3JlZXMgPyB0b0RlZ3JlZSA6IDEpICogTWF0aC5hdGFuKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNhdGFuaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmF0YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2F0YW5ofS5cclxuICAgKi9cclxuICBnZXQgYXRhbmgoKSB7XHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgcmV0dXJuIE1hdGgubG9nKCgxICsgbnVtYmVyKSAvICgxIC0gbnVtYmVyKSkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jY2JydFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY2JydF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0fS5cclxuICAgKi9cclxuICBnZXQgY2JydCgpIHtcclxuICAgIGNvbnN0IGNicnQgPSBNYXRoLnBvdyhNYXRoLmFicyh0aGlzLiQpLCAxIC8gMyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJCA+IDAgPyBjYnJ0IDogLWNicnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNjZWlsXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5jZWlsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuY2VpbDsgIC8vIDJcclxuICAgKiBuZXcgTnVtKC0xLjEpLmNlaWw7IC8vIC0xXHJcbiAgICovXHJcbiAgZ2V0IGNlaWwoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNjb3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBDb3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Nvc30uXHJcbiAgICovXHJcbiAgY29zKGFzRGVncmVlcykge1xyXG4gICAgcmV0dXJuIE1hdGguY29zKChhc0RlZ3JlZXMgPyB0b1JhZGlhbiA6IDEpICogdGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Nvc2hcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaH0uXHJcbiAgICovXHJcbiAgZ2V0IGNvc2goKSB7XHJcbiAgICBjb25zdCBleHAgPSB0aGlzLmV4cDtcclxuXHJcbiAgICByZXR1cm4gKGV4cCArIDEgLyBleHApIC8gMjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2N1YmVcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gQ3ViZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLmN1YmU7ICAvLyA4XHJcbiAgICogbmV3IE51bSgtMykuY2VpbDsgLy8gLTI3XHJcbiAgICovXHJcbiAgZ2V0IGN1YmUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kICogdGhpcy4kICogdGhpcy4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jZXhwXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2V4cFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmV4cF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9leHB9LlxyXG4gICAqL1xyXG4gIGdldCBleHAoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5leHAodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Zsb29yXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Zsb29yXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguZmxvb3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvZmxvb3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuZmxvb3I7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMS4xKS5mbG9vcjsgLy8gLTJcclxuICAgKi9cclxuICBnZXQgZmxvb3IoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jaW50ZXJ2YWxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGV2ZXJ5IDxudW1iZXI+IG1pbGxpc2Vjb25kcy5cclxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10gLSBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgYWJvcnRzIHRoZSBpbnRlcnZhbC4gVGhlIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uIChpZiBpdCdzIG5vdCBhbHJlYWR5IGJvdW5kKVxyXG4gICAqIGlzIHRoZSBvYmplY3Qgd2l0aCB0aGUgYWJvcnQgbWV0aG9kLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zZXRJbnRlcnZhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbmFsb2d1ZSBvZiB0aGVcclxuICAgKiBbc2V0SW50ZXJ2YWxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0SW50ZXJ2YWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCB0aW1lcyA9IDA7XHJcbiAgICogbmV3IE51bSg1MCkuaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgaWYgKCsrdGltZXMgPT09IDEwKSB7XHJcbiAgICogICAgIHRoaXMuYWJvcnQoKTtcclxuICAgKiAgIH1cclxuICAgKiB9KTtcclxuICAgKi9cclxuICBpbnRlcnZhbChmdW5jLCBhcmdzID0gW10pIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnTnVtI2ludGVydmFsJyk7XHJcblxyXG4gICAgZnVuYyA9IG5ldyBGdW5jKGZ1bmMpLmJpbmRDb250ZXh0KHsgYWJvcnQgfSk7XHJcbiAgICBhcmdzID0gdG9BcnJheShhcmdzKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IGFib3J0ZWQ7XHJcbiAgICBsZXQgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gaW50ZXJ2YWwoKSB7XHJcbiAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XHJcblxyXG4gICAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIG51bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuXHJcbiAgICByZXR1cm4gYWJvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGFib3J0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgcmV0dXJuIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2xuXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZ1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZ117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2d9LlxyXG4gICAqL1xyXG4gIGdldCBsbigpIHtcclxuICAgIHJldHVybiBNYXRoLmxvZyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jbG9nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBOdW1iZXIgdG8gZ2V0IGxvZ2FyaXRobSBvZi5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBMb2dhcml0aG0gb2YgdGhlIGFyZ3VtZW50IG51bWJlciB0byB0aGUgbnVtYmVyIGJhc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGxvZ2FyaXRobSBvZiB0aGUgYXJndW1lbnQgbnVtYmVyIHRvIHRoZSBudW1iZXIgYmFzZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgyKS5sb2coMTYpOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oMykubG9nKDI0Myk7IC8vIDVcclxuICAgKi9cclxuICBsb2cobnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyKSAvIE1hdGgubG9nKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cyXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5sb2cyXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJ9LlxyXG4gICAqL1xyXG4gIGdldCBsb2cyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG4gLyBsbjI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cxMFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2cxMFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZzEwXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzEwfS5cclxuICAgKi9cclxuICBnZXQgbG9nMTAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sbiAvIGxuMTA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNwb3dcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgdG8gdGhlIDxwb3dlcj4gcG93ZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Bvd1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnBvd117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9wb3d9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnBvdyguNSk7IC8vIDJcclxuICAgKiBuZXcgTnVtKDMpLnBvdygyKTsgIC8vIDlcclxuICAgKi9cclxuICBwb3cocG93ZXIpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh0aGlzLiQsIHBvd2VyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI3Jvb3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSA8cG93ZXI+IHJvb3Qgb2YgdGhlIG51bWJlci5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbnVtYmVyLnBvdygxIC8gcG93ZXIpO1xyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnJvb3QoMik7ICAgLy8gMC41XHJcbiAgICogbmV3IE51bSgyNDMpLnJvb3QoNSk7IC8vIDNcclxuICAgKi9cclxuICByb290KHBvd2VyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5wb3codGhpcy4kLCAxIC8gcG93ZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jcm91bmRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5yb3VuZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9yb3VuZH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oMS4xKS5mbG9vcjsgIC8vIDFcclxuICAgKiBuZXcgTnVtKC0xLjEpLmZsb29yOyAvLyAtMVxyXG4gICAqIG5ldyBOdW0oMS41KS5mbG9vcjsgIC8vIDJcclxuICAgKi9cclxuICBnZXQgcm91bmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2lnblxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2lnbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWdufS5cclxuICAgKi9cclxuICBnZXQgc2lnbigpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIW51bWJlcikge1xyXG4gICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudW1iZXIgPiAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jc2luXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYXNEZWdyZWVzID0gZmFsc2VdIElmIGl0IGlzIHRydXRoeSB0aGUgbnVtYmVyIGlzIHRyZWF0ZWQgYXMgYSBkZWdyZWUgdmFsdWUuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5zaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lufS5cclxuICAgKi9cclxuICBzaW4oYXNEZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zaW4oKGFzRGVncmVlcyA/IHRvUmFkaWFuIDogMSkgKiB0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2luaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2luaF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5ofS5cclxuICAgKi9cclxuICBnZXQgc2luaCgpIHtcclxuICAgIGNvbnN0IGV4cCA9IHRoaXMuZXhwO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSAvIGV4cCkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc3FcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIHNxdWFyZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLnNxOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oLTMpLnNxOyAvLyA5XHJcbiAgICovXHJcbiAgZ2V0IHNxKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCAqIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI3NxcnRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnNxcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydH0uXHJcbiAgICovXHJcbiAgZ2V0IHNxcnQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0YW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUYW5nZW50IG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC90YW59LlxyXG4gICAqL1xyXG4gIHRhbihhc0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiBNYXRoLnRhbigoYXNEZWdyZWVzID8gdG9SYWRpYW4gOiAxKSAqIHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSN0YW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhbmhcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC50YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Rhbmh9LlxyXG4gICAqL1xyXG4gIGdldCB0YW5oKCkge1xyXG4gICAgY29uc3QgbnVtYmVyID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNGaW5pdGUobnVtYmVyKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zaWduO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV4cCA9IE1hdGguZXhwKDIgKiBudW1iZXIpO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSkgLyAoZXhwICsgMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0aW1lb3V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFZhbHVlIHRvIGJlIHJlc29sdmVkIGJ5IHRoZSBwcm9taXNlLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgY291bGQgYmUgYWJvcnRlZC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dFxyXG4gICAqIEBkZXNjcmlwdGlvbiBQcm9taXNlLWJhc2VkIGFuYWxvZ3VlIG9mXHJcbiAgICogW3NldFRpbWVvdXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oNTApLnRpbWVvdXQoJ3Jlc29sdmVkJykudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8gJ3Jlc29sdmVkJ1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogY29uc3QgcHJvbWlzZSA9IG5ldyBOdW0oNTApLnRpbWVvdXQoKTtcclxuICAgKiBwcm9taXNlLmFib3J0KCk7XHJcbiAgICovXHJcbiAgdGltZW91dCh2YWx1ZSkge1xyXG4gICAgbGV0IHRpbWVvdXQ7XHJcbiAgICBsZXQgcmVqZWN0O1xyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqKSA9PiB7XHJcbiAgICAgIHJlamVjdCA9IHJlajtcclxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy4kLCB2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm9taXNlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuXHJcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1RpbWVvdXQgd2FzIGFib3J0ZWQnKSk7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0Jhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiYXNlID0gMTBdIC0gQmFzZSB0aGF0IHRoZSBudW1iZXIgc2hvdWxkIGludmVydGVkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgaW4gPGJhc2U+IGJhc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmdcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvU3RyaW5nXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmd9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnRvQmFzZSgyKTsgLy8gMTAwXHJcbiAgICogbmV3IE51bSgzKS50b0Jhc2UoKTsgIC8vIDNcclxuICAgKi9cclxuICB0b0Jhc2UoYmFzZSA9IDEwKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKGJhc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9FeHBvbmVudGlhbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbnVtYmVyIGluIHRoZSBleHBvbmVudGlhbCBmb3JtYXQuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9FeHBvbmVudGlhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtOdW1iZXIjdG9FeHBvbmVudGlhbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL3RvRXhwb25lbnRpYWx9LlxyXG4gICAqL1xyXG4gIHRvRXhwb25lbnRpYWwoZnJhY3Rpb25EaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9FeHBvbmVudGlhbChmcmFjdGlvbkRpZ2l0cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0ZpeGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZGlnaXRzID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gRml4ZWQtcG9pbnQgZm9ybWF0dGVkIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci90b0ZpeGVkXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW051bWJlciN0b0ZpeGVkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9GaXhlZH0uXHJcbiAgICovXHJcbiAgdG9GaXhlZChkaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9GaXhlZChkaWdpdHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9QcmVjaXNpb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcmVjaXNpb25dIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgdG8gdGhlIHNwZWNpZmllZCBwcmVjaXNpb24uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb25cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvUHJlY2lzaW9uXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb259LlxyXG4gICAqL1xyXG4gIHRvUHJlY2lzaW9uKHByZWNpc2lvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b1ByZWNpc2lvbihwcmVjaXNpb24pO1xyXG4gIH1cclxuXHJcbiAgdmFsdWVPZigpIHtcclxuICAgIHJldHVybiBOdW1iZXIodGhpcy4kKTtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoTnVtLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTnVtJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNOdW1iZXIsXHJcbiAgY2xzOiBOdW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHJhbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0ID0gMF0gLSBTdGFydCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kID0gMV0gLSBFbmQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSYW5kb20gbnVtYmVyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIgaW4gdGhlIHJhbmdlIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiByYW5kKDEsIDUpOyAvLyAyLjMxNVxyXG4gKiByYW5kKDEsIDUpOyAvLyA0LjM1Njc2M1xyXG4gKi9cclxuZnVuY3Rpb24gcmFuZChzdGFydCA9IDAsIGVuZCA9IDEpIHtcclxuICByZXR1cm4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogTWF0aC5yYW5kb20oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByYW5kb21cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IHN0YXJ0IC0gU3RhcnQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGVuZCAtIEVuZCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJhbmRvbSBpbnRlZ2VyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIG51bWJlciBpbiB0aGUgcmFuZ2Ugc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHJhbmRvbSgxLCA1KTsgLy8gM1xyXG4gKiByYW5kb20oMSwgNSk7IC8vIDFcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbShzdGFydCwgZW5kKSB7XHJcbiAgdmFsaWRhdGUoW3N0YXJ0LCBlbmRdLCBbJ2ludExpa2UnLCAnaW50TGlrZSddLCAncmFuZG9tJyk7XHJcblxyXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgZmlyc3QhJywgJ3JhbmRvbScpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE1hdGguZmxvb3IocmFuZChzdGFydCwgZW5kICsgMSkpO1xyXG59XHJcblxyXG5leHBvcnQgeyBOdW0sIHJhbmQsIHJhbmRvbSB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBBcnJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEFyciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyByYW5kb20gfSBmcm9tICcuL051bSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5TGlrZSwgaXNOYU4sIGlzTnVtYmVyLCBpc1N0cmluZyxcclxuICB0b0FycmF5LCB2YWxpZGF0ZSwgaXRlcmF0ZSBhcyBpdGVyYXRvciwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXl8Kn0gQXJyYXlMaWtlXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFycmF5LWxpa2UgdHlwZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEFycmF5Q2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gaSAtIEl0ZXJhdGlvbiBpbmRleC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSXRlcmF0aW9uIGluZGV4LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgQ29tcGFyZUZ1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB4IC0gRmlyc3QgdmFsdWUgdG8gYmUgY29tcGFyZWQuXHJcbiAqIEBwYXJhbSB7Kn0geSAtIFNlY29uZCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFyclxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheSA9IFtdXSAtIEFuIGFycmF5IHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IEluc3RhbmNlIG9mIEFyci5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gYXJyYXkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBBcnIoWzEsIDJdKTtcclxuICovXHJcbmNsYXNzIEFyciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihhcnJheSA9IFtdKSB7XHJcbiAgICBzdXBlcih0b0FycmF5KGFycmF5IGluc3RhbmNlb2YgQXJyID8gYXJyYXkuJCA6IGFycmF5KSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIEFyciMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gTWFkZSBhcnJheS5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjY29uY2F0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFycnwqKX0gdmFsdWVzIC0gQXJyYXlzIG9yIGFueSBvdGhlciB2YWx1ZXMgdG8gY29uY2F0IHRoZSBhcnJheSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjY29uY2F0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXR9LlxyXG4gICAqL1xyXG4gIGNvbmNhdCguLi52YWx1ZXMpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdG9BcnJheSh0aGlzLiQsIHRydWUpO1xyXG5cclxuICAgIGl0ZXJhdG9yKGFyZ3VtZW50cywgKHZhbHVlKSA9PiB7XHJcbiAgICAgIHZhbHVlID0gbmV3IFN1cGVyKHZhbHVlKS4kO1xyXG5cclxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAhaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgaXRlcmF0b3IodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoYXJyYXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBBcnIjZmlyc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuZmlyc3Q7IC8vIDFcclxuICAgKiBuZXcgQXJyKFtdKS5maXJzdDsgICAgICAgIC8vIHVuZGVmaW5lZFxyXG4gICAqL1xyXG4gIGdldCBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLiRbMF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mfS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2YoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZignMScpOyAgICAgLy8gMFxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDNdKS5pbmRleE9mKDMpOyAgICAgICAvLyAtMVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIE5hTl0pLmluZGV4T2YoTmFOKTsgICAvLyAyXHJcbiAgICovXHJcbiAgaW5kZXhPZih2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gdGhpcy5rZXlPZih2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGtleSA9PT0gbnVsbCA/IC0xIDogTnVtYmVyKGtleSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mU3RyaWN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mU3RyaWN0fS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2ZTdHJpY3QoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgnMScpOyAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgzKTsgICAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCBOYU5dKS5pbmRleE9mU3RyaWN0KE5hTik7ICAgLy8gMlxyXG4gICAqL1xyXG4gIGluZGV4T2ZTdHJpY3QodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMua2V5T2ZTdHJpY3QodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBrZXkgPT09IG51bGwgPyAtMSA6IE51bWJlcihrZXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjam9pblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlcGFyYXRvciA9ICcsJ10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gLSBTdHJpbmcgb2Ygam9pbmVkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvam9pblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNqb2luXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9qb2lufS5cclxuICAgKi9cclxuICBqb2luKHNlcGFyYXRvcikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5qb2luLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xhc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkubGFzdDsgLy8gM1xyXG4gICAqIG5ldyBBcnIoW10pLmxhc3Q7ICAgICAgICAvLyB1bmRlZmluZWRcclxuICAgKi9cclxuICBnZXQgbGFzdCgpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xlbmd0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I2xlbmd0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RofS5cclxuICAgKi9cclxuICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNwb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgZGVsZXRlZCBlbGVtZW50LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3BvcF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wfS5cclxuICAgKi9cclxuICBwb3AoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcHVzaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IHZhbHVlcyBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHRoaXMge0Fycn1cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9wdXNoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3B1c2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3B1c2h9XHJcbiAgICogYmVzaWRlcyByZXR1cm5pbmcgdGhpcy5cclxuICAgKi9cclxuICBwdXNoKC4uLnZhbHVlcykge1xyXG4gICAgdGhpcy4kLnB1c2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmFuZG9tXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSYW5kb20gaXRlbSBvZiB0aGUgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyByYW5kb20gaXRlbXMgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDNcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDVcclxuICAgKi9cclxuICByYW5kb20oKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kW3JhbmRvbSgwLCB0aGlzLiQubGVuZ3RoIC0gMSldO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmV2ZXJzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBBIHdyYXAgb2YgdGhlIHJldmVyc2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmV2ZXJzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNyZXZlcnNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZXZlcnNlfS5cclxuICAgKi9cclxuICByZXZlcnNlKCkge1xyXG4gICAgdGhpcy4kLnJldmVyc2UoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NoaWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGRlbGV0ZWQgZWxlbWVudC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NoaWZ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NoaWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zaGlmdH0uXHJcbiAgICovXHJcbiAgc2hpZnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnNoaWZ0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzaHVmZmxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBzaHVmZmxpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDMsIDRdKS5zaHVmZmxlKCkuJDsgLy8gWzQsIDIsIDMsIDFdXHJcbiAgICogbmV3IEFycihbMSwgMiwgMywgNF0pLnNodWZmbGUoKS4kOyAvLyBbMSwgMywgNCwgMl1cclxuICAgKi9cclxuICBzaHVmZmxlKCkge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy4kLmxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gaW5kZXggKyBNYXRoLmZsb29yKChsZW5ndGggLSBpbmRleCkgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcbiAgICAgIGFycmF5W2luZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcclxuICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NsaWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbYmVnaW4gPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZCA9IGFycmF5Lmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIGEgc2xpY2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc2xpY2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NsaWNlfS5cclxuICAgKi9cclxuICBzbGljZShiZWdpbiwgZW5kKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy4kLnNsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzb3J0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Q29tcGFyZUZ1bmN0aW9ufSBbY29tcGFyZUZ1bmN0aW9uXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb3J0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NvcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvcnR9LlxyXG4gICAqL1xyXG4gIHNvcnQoY29tcGFyZUZ1bmN0aW9uKSB7XHJcbiAgICB2YWxpZGF0ZShbY29tcGFyZUZ1bmN0aW9uXSwgWydmdW5jdGlvbnx8ISddLCAnQXJyI3NvcnQnKTtcclxuXHJcbiAgICB0aGlzLiQuc29ydChjb21wYXJlRnVuY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjc29ydEFzY1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgYXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgbm9uLW51bWJlcnMgZmlyc3QsIHRoZW4gTmFOcywgdGhlbiBzb3J0ZWQgdmFsdWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnRBc2MoKS4kOyAvLyBbJzEwMCcsIE5hTiwgLTcsIDEsIDVdXHJcbiAgICovXHJcbiAgc29ydEFzYygpIHtcclxuICAgIHJldHVybiB0aGlzLnNvcnQoYXNjKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NvcnREZXNjXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgc29ydGVkIHZhbHVlcyBmaXJzdCwgdGhlbiBOYU5zLCB0aGVuIG5vbi1udW1iZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnREZXNjKCkuJDsgLy8gWzUsIDEsIC03LCBOYU4sICcxMDAnXVxyXG4gICAqL1xyXG4gIHNvcnREZXNjKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc29ydCgoeSwgeCkgPT4gYXNjKHgsIHkpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NwbGljZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2RlbGV0ZUNvdW50XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0gey4uLip9IFtpdGVtc10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIHJldHVybiB2YWx1ZSBvZiAjc3BsaWNlIGNhbGwuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc3BsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2V9LlxyXG4gICAqL1xyXG4gIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIC4uLml0ZW1zKSB7XHJcbiAgICByZXR1cm4gbmV3IEFycih0aGlzLiQuc3BsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gQ29uY2F0ZW5hdGVkIGFycmF5LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvciBhcnJheS5qb2luKCcnKS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLnN0cmluZygpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHN0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLmpvaW4oJycpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjdW5zaGlmdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3Vuc2hpZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjdW5zaGlmdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvdW5zaGlmdH1cclxuICAgKiBiZXNpZGVzIHJldHVybmluZyB0aGlzLlxyXG4gICAqL1xyXG4gIHVuc2hpZnQoLi4udmFsdWVzKSB7XHJcbiAgICB0aGlzLiQudW5zaGlmdC5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEFyci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ0FycidcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFzY1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHggLSBGaXJzdCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICogQHBhcmFtIHsqfSB5IC0gU2Vjb25kIHZhbHVlIHRvIGJlIGNvbXBhcmVkLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBXaGVyZSB0byBwdXQgdGhlIGZpcnN0IGVsZW1lbnQ6IGJlZm9yZSBvciBhZnRlci5cclxuICovXHJcbmZ1bmN0aW9uIGFzYyh4LCB5KSB7XHJcbiAgaWYgKCFpc051bWJlcih4KSAmJiAhaXNOdW1iZXIoeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih4KSkge1xyXG4gICAgcmV0dXJuIC0xO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih5KSkge1xyXG4gICAgcmV0dXJuIDE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeCkgJiYgaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKHgpKSB7XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHggLSB5O1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMV0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzQXJyYXlMaWtlLFxyXG4gIGNsczogQXJyXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhcnJheVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBMZW5ndGggb2YgdGhlIGFycmF5LlxyXG4gKiBAcGFyYW0ge0FycmF5Q2FsbGJhY2t9IFtjYWxsYmFja10gLSBJZiBpdCdzIHByZXNlbnQgaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb25cclxuICogdGhhdCByZXR1cm5zIHRoZSBlbGVtZW50IHRoYXQgaXMgcHVzaGVkIHRvIHRoZSBuZXcgYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIG5ldyBhcnJheSBmcm9tIHRoZSBsZW5ndGggdXNpbmcgb3B0aW9uYWwgY2FsbGJhY2suXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGFycmF5KDMpLiQ7ICAgICAgICAgICAgICAgLy8gWzAsIDEsIDJdXHJcbiAqIGFycmF5KDMsIChpKSA9PiBpICogMikuJDsgLy8gWzAsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBhcnJheShudW1iZXIsIGNhbGxiYWNrKSB7XHJcbiAgdmFsaWRhdGUoW251bWJlciwgY2FsbGJhY2tdLCBbWydpbnRMaWtlJywgJz49MCddLCAnZnVuY3Rpb258fCEnXSwgJ2FycmF5Jyk7XHJcblxyXG4gIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcclxuICAgIGFycmF5LnB1c2goY2FsbGJhY2sgPyBjYWxsYmFjayhpKSA6IGkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBBcnIoYXJyYXkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGl0ZXJhdGlvbnMuXHJcbiAqIEBwYXJhbSB7SXRlcmF0ZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uIHdpdGggdGhlIGl0ZXJhdGlvbiBpbmRleC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHJlcGxhY2luZyBmb3IgKC4uLikgY29uc3RydWN0aW9uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpdGVyYXRlKCk7XHJcbiAqL1xyXG5mdW5jdGlvbiBpdGVyYXRlKG51bWJlciwgY2FsbGJhY2spIHtcclxuICB2YWxpZGF0ZShbbnVtYmVyLCBjYWxsYmFja10sIFtbJ2ludExpa2UnLCAnPj0wJ10sICdmdW5jdGlvbiddLCAnaXRlcmF0ZScpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7XHJcbiAgICBjYWxsYmFjayhpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFyciwgYXJyYXksIGl0ZXJhdGUgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgQmxvYk9iamVjdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvYk9iamVjdCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi9Qcm9taXNlJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sXHJcbiAgdG9TdHJpbmdUYWcsIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllc1xyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge3sgYnVmZmVyOiBTdHJpbmcsIGJpbmFyeTogU3RyaW5nLCBkYXRhVVJMOiBTdHJpbmcsIHRleHQ6IFN0cmluZyB9fSBtZXRob2RzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBMaXN0IG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuY29uc3QgbWV0aG9kcyA9IHtcclxuICBidWZmZXI6ICdBcnJheUJ1ZmZlcicsXHJcbiAgYmluYXJ5OiAnQmluYXJ5U3RyaW5nJyxcclxuICBkYXRhVVJMOiAnRGF0YVVSTCcsXHJcbiAgdGV4dDogJ1RleHQnXHJcbn07XHJcbmNvbnN0IHsgVVJMIH0gPSBnbG9iYWw7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeygnYnVmZmVyJ3wnYmluYXJ5J3wnZGF0YVVSTCd8J3RleHQnKX0gUmVhZEJsb2JNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fEJsb2J8U3RyaW5nfSBCbG9iUGFydHNcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gQWxsb3dlZCBibG9iIHBhcnRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVhZGVyRXZlbnRMaXN0ZW5lclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgLSBGaXJlZCBldmVudC5cclxuICogQHBhcmFtIHtGaWxlUmVhZGVyfSByZWFkZXIgLSBGaWxlUmVhZGVyLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgQmxvYk9iamVjdFxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QmxvYn0gYmxvYiAtIEJsb2IgdG8gd3JhcC5cclxuICogQHJldHVybnMge0Jsb2JPYmplY3R9IEluc3RhbmNlIG9mIEJsb2JPYmplY3QuXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgYmxvYi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEJsb2JPYmplY3QobmV3IEJsb2IoWyd7XCJmb29cIjpcImJhclwifSddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XHJcbiAqL1xyXG5jbGFzcyBCbG9iT2JqZWN0IGV4dGVuZHMgU3VwZXIge1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQmxvYk9iamVjdCMkXHJcbiAgICogQHR5cGUge0Jsb2J9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBCbG9iLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtTdHJpbmd9IEJsb2JPYmplY3QjZGF0YVVSTFxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGRhdGFVUkwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGJsb2IuXHJcbiAgICovXHJcbiAgZ2V0IGRhdGFVUkwoKSB7XHJcbiAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3JlYWRBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlYWRCbG9iTWV0aG9kfSBtZXRob2QgLSBNZXRob2QgdGhhdCBpcyB1c2VkIGZvciByZWFkaW5nIGZyb20gYmxvYi5cclxuICAgKiBAcGFyYW0ge1JlYWRlckV2ZW50TGlzdGVuZXJ9IFtwcm9ncmVzc10gLSBQcm9ncmVzcyBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IGNvdWxkIGJlIGFib3J0ZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVhZGluZyBmcm9tIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnJlYWRBcygndGV4dCcpXHJcbiAgICogICAudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2codmFsdWUpOyAvLyAne1wiZm9vXCI6XCJiYXJcIn0nXHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICByZWFkQXMobWV0aG9kLCBwcm9ncmVzcykge1xyXG4gICAgaWYgKCFtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCcxc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgZm9sbG93aW5nIHZhbHVlczogYnVmZmVyLCBiaW5hcnksIGRhdGFVUkwsIHRleHQnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIGxldCB0b1JlamVjdDtcclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9ncmVzcykpIHtcclxuICAgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHByb2dyZXNzKGUsIHRoaXMpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRvUmVqZWN0ID0gcmVqZWN0O1xyXG5cclxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIGlmIChyZWFkZXIpIHtcclxuICAgICAgICAgIHJlamVjdCh0YXJnZXQuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZWFkZXJbYHJlYWRBcyR7IG1ldGhvZHNbbWV0aG9kXSB9YF0odGhpcy4kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb21pc2UuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcclxuICAgICAgdG9SZWplY3QobmV3IEVycm9yKCdSZWFkaW5nIHdhcyBhYm9ydGVkJykpO1xyXG5cclxuICAgICAgcmVhZGVyLmFib3J0KCk7XHJcblxyXG4gICAgICByZWFkZXIgPSBudWxsO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3NhdmVBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gTmFtZSB0aGF0IGlzIHVzZWQgZm9yIHNhdmluZyBmaWxlLlxyXG4gICAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igc2F2aW5nIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnNhdmVBcygnYmxvYi5qc29uJyk7XHJcbiAgICovXHJcbiAgc2F2ZUFzKG5hbWUgPSAnZG93bmxvYWQnKSB7XHJcbiAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgYW5jaG9yLmhyZWYgPSB0aGlzLmRhdGFVUkw7XHJcbiAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG5hbWUpO1xyXG4gICAgYW5jaG9yLmNsaWNrKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEJsb2JPYmplY3QucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdCbG9iT2JqZWN0J1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogKGJsb2IpID0+IC9eKEJsb2J8RmlsZSkkLy50ZXN0KHRvU3RyaW5nVGFnKGJsb2IpKSxcclxuICBjbHM6IEJsb2JPYmplY3RcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGJsb2JcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyhCbG9iUGFydHNbXXxCbG9iUGFydHMpfSBibG9iUGFydHMgLSBCbG9iIHBhcnRzIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBOZXcgaW5zdGFuY2Ugb2YgQmxvYk9iamVjdC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBibG9icyBub3QgaW52b2x2aW5nIEJsb2JPYmplY3QgYW5kIEJsb2IgY29uc3RydWN0b3JzLlxyXG4gKi9cclxuZnVuY3Rpb24gYmxvYihibG9iUGFydHMsIG9wdGlvbnMgPSB7fSkge1xyXG4gIGlmICghaXNBcnJheShibG9iUGFydHMpKSB7XHJcbiAgICBibG9iUGFydHMgPSBbYmxvYlBhcnRzXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihibG9iUGFydHMsIG9wdGlvbnMpKTtcclxufVxyXG5cclxuZXhwb3J0IHsgQmxvYk9iamVjdCwgYmxvYiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdHJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFN0ciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBEIH0gZnJvbSAnLi9EJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzLCByZWdleHBTcGVjaWFsQ2hhcmFjdGVycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0Z1bmN0aW9uLCBpc051bWJlckxpa2UsIGlzT2JqZWN0LCBpc1N0cmluZyxcclxuICB2YWxpZGF0ZSwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzLCBpdGVyYXRlXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmNvbnN0IGh0bWxTcGVjaWFscyA9IHtcclxuICAnJic6ICcmYW1wOycsXHJcbiAgJzwnOiAnJmx0OycsXHJcbiAgJz4nOiAnJmd0OydcclxufTtcclxuY29uc3QgcmVnZXhwU3BlY2lhbHNSZWdleHAgPSBuZXcgUmVnRXhwKFxyXG4gIG5ldyBTdXBlcihyZWdleHBTcGVjaWFsQ2hhcmFjdGVycylcclxuICAgIC53b3JkKCh4KSA9PiBgXFxcXCR7IHggfXxgKVxyXG4gICAgLnJlcGxhY2UoL1xcfCQvLCAnJyksXHJcbiAgJ2cnXHJcbik7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN0clxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbc3RyaW5nID0gJyddIC0gQSBzdHJpbmcgdG8gd3JhcC5cclxuICogQHJldHVybnMge1N0cn0gSW5zdGFuY2Ugb2YgU3RyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhIHN0cmluZy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgcyA9IG5ldyBOdW0oJzEnKTtcclxuICovXHJcbmNsYXNzIFN0ciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihzdHJpbmcgPSAnJykge1xyXG4gICAgc3VwZXIoYCR7IHN0cmluZyB9YCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIFN0ciMkXHJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIE9yaWdpbmFsIHN0cmluZy5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjY2FwaXRhbGl6ZUZpcnN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IENhcGl0YWxpemVkIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGNhcGl0YWxpemluZyB0aGUgZmlyc3Qgc3ltYm9sLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdmb28nKS5jYXBpdGFsaXplRmlyc3QoKS4kOyAvLyAnRm9vJ1xyXG4gICAqL1xyXG4gIGNhcGl0YWxpemVGaXJzdCgpIHtcclxuICAgIGNvbnN0IHN0cmluZyA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cihzdHJpbmcuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlbmRzV2l0aFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb24gPSBzdHJpbmcubGVuZ3RoXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHN0cmluZyBlbmRzIHdpdGggdGhlIGFyZ3VtZW50IHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjZW5kc1dpdGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aH0uXHJcbiAgICovXHJcbiAgZW5kc1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHBvc2l0aW9uID0gdGhpcy4kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuc2xpY2UoMCwgcG9zaXRpb24pXHJcbiAgICAgIC5yZXZlcnQoKVxyXG4gICAgICAuc3RhcnRzV2l0aChuZXcgU3RyKHNlYXJjaFN0cmluZykucmV2ZXJ0KCkuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlc2NhcGVIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZHMgZXNjYXBpbmcgXCImXCIsIFwiPFwiIGFuZCBcIj5cIiBzeW1ib2xzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdcIjEgPCAyXCIgJiBcIjcgPiA0XCIgYXJlIHRydWUgZXhwcmVzc2lvbnMuJykuZXNjYXBlSFRNTCgpLiQ7XHJcbiAgICogLy8gJ1wiMSAmbHQ7IDJcIiAmYW1wIFwiNyAmZ3Q7IDJcIiBhcmUgdHJ1ZSBleHByZXNzaW9ucy4nXHJcbiAgICovXHJcbiAgZXNjYXBlSFRNTCgpIHtcclxuICAgIGxldCBzdHJpbmcgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShodG1sU3BlY2lhbHMsIChlc2NhcGVkLCBzeW1ib2wpID0+IHtcclxuICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChzeW1ib2wsICdnJyksIGVzY2FwZWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBTdHIoc3RyaW5nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI2VzY2FwZVJlZ0V4cFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZXNjYXBpbmcgUmVnRXhwIHNwZWNpYWwgY2hhcmFjdGVycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignKDIxMy45OCAtIFtdIHt9KScpLmVzY2FwZVJlZ0V4cCgpLiQ7IC8vICdcXCgyMTNcXC45OCBcXC0gXFxbXFxdIFxce1xcfVxcKSdcclxuICAgKi9cclxuICBlc2NhcGVSZWdFeHAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHJlZ2V4cFNwZWNpYWxzUmVnZXhwLCAnXFxcXCQmJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNpblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBjaGVjayB0aGUgc3RyaW5nIGFzIGEgcHJvcGVydHkgaW4uXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGl0IGlzIGluIHRoZSBvYmplY3Qgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHN0cmluZyBpbiBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbih7IGE6IDEgfSk7IC8vIHRydWVcclxuICAgKiBuZXcgU3RyKCd0b0ZpeGVkJykuaW4oMSk7ICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbihudWxsKTsgICAgIC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaW4ob2JqZWN0KSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLiQgaW4gb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjaW5kZXhPZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoVmFsdWUgLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtmcm9tSW5kZXggPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBGb3VuZCBpbmRleCBvciAtMS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmRleE9mXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNpbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5kZXhPZn0uXHJcbiAgICovXHJcbiAgaW5kZXhPZihzZWFyY2hWYWx1ZSwgZnJvbUluZGV4KSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjbGFzdEluZGV4T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFZhbHVlIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZnJvbUluZGV4ID0gc3RyaW5nLmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gRm91bmQgaW5kZXggb3IgLTEuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI2xhc3RJbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2Z9LlxyXG4gICAqL1xyXG4gIGxhc3RJbmRleE9mKHNlYXJjaFZhbHVlLCBmcm9tSW5kZXgpIHtcclxuICAgIHJldHVybiB0aGlzLiQubGFzdEluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdHIjbGVuZ3RoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNsZW5ndGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9sZW5ndGh9LlxyXG4gICAqL1xyXG4gIGdldCBsZW5ndGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI21hdGNoXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ8U3VwZXJ9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjbWF0Y2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaH0uXHJcbiAgICovXHJcbiAgbWF0Y2gocmVnZXhwKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQubWF0Y2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGVhdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IHRpbWVzIC0gVGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9yZXBlYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3JlcGVhdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGVhdH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgyKS4kOyAvLyAnMTIzMTIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgwKS4kOyAvLyAnJ1xyXG4gICAqL1xyXG4gIHJlcGVhdCh0aW1lcykge1xyXG4gICAgdmFsaWRhdGUoW3RpbWVzXSwgW1snaW50TGlrZScsICc+PTAnXV0sICdTdHIjcmVwZWF0Jyk7XHJcblxyXG4gICAgdGltZXMgPSArdGltZXM7XHJcblxyXG4gICAgY29uc3Qgc3RyaW5nID0gdGhpcy4kO1xyXG5cclxuICAgIGxldCBzID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7XHJcbiAgICAgIHMgKz0gc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjcmVwbGFjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZ0V4cHxTdHJpbmd9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gW3JlcGxhY2VyID0gJyddIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvcmVwbGFjZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjcmVwbGFjZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGxhY2V9XHJcbiAgICogYmVzaWRlcyB0aGF0IHJlcGxhY2VyIGhhcyBhIGRlZmF1bHQgdmFsdWUgb2YgJycuXHJcbiAgICovXHJcbiAgcmVwbGFjZShyZWdleHAsIHJlcGxhY2VyID0gJycpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC5yZXBsYWNlKHJlZ2V4cCwgcmVwbGFjZXIpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGxhY2VTdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byByZXBsYWNlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcmVwbGFjZXIgPSAnJ10gLSBTdHJpbmcgdG8gcmVwbGFjZSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2xvYmFsIHN0cmluZyByZXBsYWNlaW5nLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCcxMjMxMjMnKS5yZXBsYWNlU3RyaW5nKCcxJywgJzQnKS4kOyAvLyAnNDIzNDIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMzEyMycpLnJlcGxhY2VTdHJpbmcoJzEnKS4kOyAgICAgIC8vICcyMzIzJ1xyXG4gICAqL1xyXG4gIHJlcGxhY2VTdHJpbmcoc3RyaW5nLCByZXBsYWNlciA9ICcnKSB7XHJcbiAgICBzdHJpbmcgPSBuZXcgU3VwZXIoc3RyaW5nKS4kO1xyXG5cclxuICAgIHZhbGlkYXRlKFtzdHJpbmddLCBbJ3N0cmluZyddLCAnU3RyI3JlcGxhY2VTdHJpbmcnKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3BsaXQoc3RyaW5nKS5qb2luKHJlcGxhY2VyKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNyZXZlcnRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciByZXZlcnRpbmcgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMzQnKS5yZXZlcnQoKS4kOyAvLyAnNDMyMSdcclxuICAgKi9cclxuICByZXZlcnQoKSB7XHJcbiAgICBjb25zdCBzdHJpbmcgPSB0aGlzLiQ7XHJcbiAgICBsZXQgc3RyID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IHN0cmluZy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBzdHIgKz0gc3RyaW5nW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHN0cik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzZWFyY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBJbmRleCBvZiB0aGUgZmlyc3QgbWF0Y2gsIGlmIGZvdW5kLCBhbmQgLTEgaWYgbm90LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3NlYXJjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc2VhcmNoXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2VhcmNofS5cclxuICAgKi9cclxuICBzZWFyY2gocmVnZXhwKSB7XHJcbiAgICB2YWxpZGF0ZShbcmVnZXhwXSwgWydyZWdleHAnXSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJC5zZWFyY2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc2xpY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiZWdpblNsaWNlID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRTbGljZSA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3NsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2V9LlxyXG4gICAqL1xyXG4gIHNsaWNlKGJlZ2luU2xpY2UsIGVuZFNsaWNlKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc2xpY2UuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3NwbGl0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7UmVnRXhwfFN0cmluZ30gW3NlcGFyYXRvcl0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0FycnxTdXBlcn0gRC1XcmFwIG9mIHRoZSBhcnJheS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3BsaXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdH0uXHJcbiAgICovXHJcbiAgc3BsaXQoc2VwYXJhdG9yKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQuc3BsaXQuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3N0YXJ0c1dpdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZyAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBhcmd1bWVudCBzdHJpbmcuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3RhcnRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3RhcnRzV2l0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGh9LlxyXG4gICAqL1xyXG4gIHN0YXJ0c1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbiA9IDApIHtcclxuICAgIHJldHVybiB0aGlzLiQuaW5kZXhPZi5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykgPT09IHBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc3Vic3RyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQgPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2xlbmd0aCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJ9LlxyXG4gICAqL1xyXG4gIHN1YnN0cihzdGFydCwgbGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3Vic3RyLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzdWJzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleFN0YXJ0ID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleEVuZCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyaW5nXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJpbmdde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJpbmd9LlxyXG4gICAqL1xyXG4gIHN1YnN0cmluZyhpbmRleFN0YXJ0LCBpbmRleEVuZCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnN1YnN0cmluZy5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9DYW1lbENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXHNcXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBjYW1lbCBjYXNlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignc3BpbmFsLWNhc2UnKS50b0NhbWVsQ2FzZSgpLiQ7ICAvLyAnc3BpbmFsQ2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0NhbWVsQ2FzZSgpLiQ7IC8vICdzbmFrZUNhc2UnXHJcbiAgICovXHJcbiAgdG9DYW1lbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoLy1bXi1dL2csIChtYXRjaCkgPT4gbWF0Y2hbMV0udG9VcHBlckNhc2UoKSlcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9Mb3dlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0NhcGl0YWxDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgY2FwaXRhbCBsZXR0ZXIgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9DYXBpdGFsQ2FzZSgpLiQ7ICAvLyAnU3BpbmFsIENhc2UnXHJcbiAgICogbmV3IFN0cignX3NuYWtlX2Nhc2VfJykudG9DYXBpdGFsQ2FzZSgpLiQ7IC8vICdTbmFrZSBDYXNlJ1xyXG4gICAqL1xyXG4gIHRvQ2FwaXRhbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHNbXFxTXS9nLCAobWF0Y2gpID0+IG1hdGNoLnRvVXBwZXJDYXNlKCkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9VcHBlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0RvdENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBkb3QgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9Eb3RDYXNlKCkuJDsgIC8vICdzcGluYWwuY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0RvdENhc2UoKS4kOyAvLyAnc25ha2UuY2FzZSdcclxuICAgKi9cclxuICB0b0RvdENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcuJylcclxuICAgICAgLnJlcGxhY2UoL1teLl0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAuJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoL1xcLisvZywgJy4nKVxyXG4gICAgICAucmVwbGFjZSgvXlxcLi8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvSHlwaGVuQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW1vdmVzIGZvbGxvd2luZyByZWdleHAgL1xcc1xcLV9cXC4vIG1ha2luZyB0aGUgc3RyaW5nIGNhbWVsIGNhc2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdjYW1lbENhc2UnKS50b1NwaW5hbENhc2UoKS4kOyAgICAvLyAnY2FtZWwtY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b1NwaW5hbENhc2UoKS4kOyAvLyAnc25ha2UtY2FzZSdcclxuICAgKi9cclxuICB0b0h5cGhlbkNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL1teLV0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAtJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL14tLywgJycpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9Mb3dlckNhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjdG9Mb3dlckNhc2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ1VQUEVSLUNBU0UnKS50b0xvd2VyQ2FzZSgpLiQ7ICAvLyAndXBwZXItY2FzZSdcclxuICAgKi9cclxuICB0b0xvd2VyQ2FzZSgpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC50b0xvd2VyQ2FzZSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU25ha2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFxzXFwtXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBzcGluYWwgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TbmFrZUNhc2UoKS4kOyAvLyAnc3BpbmFsX2Nhc2UnXHJcbiAgICogbmV3IFN0cignY2FtZWxDYXNlJykudG9TbmFrZUNhc2UoKS4kOyAgIC8vICdjYW1lbF9jYXNlJ1xyXG4gICAqL1xyXG4gIHRvU25ha2VDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodHJpbSh0aGlzLiQpXHJcbiAgICAgIC5yZXBsYWNlKC9bXFxzXFwtXy5dKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9bXl9dL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgXyR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9fKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9eXy8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU3BhY2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgc3BhY2UgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TcGFjZUNhc2UoKS4kOyAgLy8gJ3NwaW5hbCBjYXNlJ1xyXG4gICAqIG5ldyBTdHIoJ19zbmFrZV9jYXNlXycpLnRvU3BhY2VDYXNlKCkuJDsgLy8gJ3NuYWtlIGNhc2UnXHJcbiAgICovXHJcbiAgdG9TcGFjZUNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b1VwcGVyQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignbG93ZXItY2FzZScpLnRvVXBwZXJDYXNlKCkuJDsgIC8vICdMT1dFUi1DQVNFJ1xyXG4gICAqL1xyXG4gIHRvVXBwZXJDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnRvVXBwZXJDYXNlKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdHJpbVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltfS5cclxuICAgKi9cclxuICB0cmltKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdK3xbXFxzXFx1ZmVmZlxcdTAwYTBdKyQvZywgJycpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RyaW1MZWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1MZWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnR9LlxyXG4gICAqL1xyXG4gIHRyaW1MZWZ0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdKy8sICcnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0cmltUmlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltUmlnaHRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1SaWdodF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1SaWdodH0uXHJcbiAgICovXHJcbiAgdHJpbVJpZ2h0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL1tcXHNcXHVmZWZmXFx1MDBhMF0rJC8sICcnKSk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN0ci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N0cidcclxufSk7XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzU3RyaW5nLFxyXG4gIGNsczogU3RyXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdHJpbShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL15bXFxzXFwtXy5dK3xbXFxzXFwtXy5dKyQvZywgJycpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSlNPTlxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbanNvbiA9IG51bGxdIC0gU3RyaW5nIHRvIHBhcnNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLm51bWJlcnNdIC0gSWYgaXQgaXMgbmVlZGVkIHRvIHBhcnNlIG51bWJlci1saWtlIHN0cmluZ3MgYXMgbnVtYmVycy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLmRhdGVzXSAtIElmIGl0IGlzIG5lZWRlZCB0byBwYXJzZSBkYXRlLWxpa2Ugc3RyaW5nIGFzIGRhdGVzLlxyXG4gKiBEYXRlLWxpa2Ugc3RyaW5nIGlzIGNvbnNpZGVyZWQgdG8gbWF0Y2ggXlxcZFxcZFxcZFxcZC1cXGRcXGQtXFxkXFxkVFxcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkXFxkXFxkWj8kXHJcbiAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfSBbY2FsbGJhY2tdIC0gQ2FsbGJhY2sgdGhhdCBjYWxsZWQgb24gZXZlcnkgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcGFyc2luZyBqc29uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IDEgfScpLiQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHsgYTogMSB9XHJcbiAqIHBhcnNlSlNPTigneyBcImFcIjogXCIxXCIgfScsIHsgbnVtYmVyczogdHJ1ZSB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAvLyB7IG51bWJlcnM6IHRydWUgfVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IFwiMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaXCIgfScsIHsgZGF0ZXM6IHRydWUgfSkuJDsgLy8geyBhOiBEYXRlIHsuLi59IH1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlSlNPTihqc29uID0gbnVsbCwgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykge1xyXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcclxuICAgIHJldHVybiBEKEpTT04ucGFyc2UoanNvbikpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcclxuICAgIGNhbGxiYWNrID0gb3B0aW9ucztcclxuICAgIG9wdGlvbnMgPSB7fTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgbnVtYmVycywgZGF0ZXMgfSA9IG9wdGlvbnM7XHJcbiAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGRhdGVzICYmIC9eXFxkXFxkXFxkXFxkLVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGRcXGRcXGRaPyQvLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgfSBlbHNlIGlmIChudW1iZXJzICYmIGlzTnVtYmVyTGlrZSh2YWx1ZSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FsbGJhY2sgPyBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBEKHBhcnNlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN0ciwgcGFyc2VKU09OIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIG1hcmt1cFRvSlNPTiBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMsIGh0bWxBbGxvd2VkQXR0clN5bWJvbHMsIHZvaWRFbGVtZW50cyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTWFya3VwRWxlbWVudFxyXG4gKiBAcHJvcGVydHkgeydjb21tZW50J3wndGV4dCd8J2VsZW1lbnQnfSB0eXBlIC0gVHlwZSBvZiB0aGUgbm9kZS5cclxuICogQHByb3BlcnR5IHtNYXJrdXBFbGVtZW50fSBwYXJlbnQgLSBUeXBlIG9mIHRoZSBub2RlLlxyXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBTdHJpbmc+fSBhdHRycyAtIE5vZGUgYXR0cmlidXRlc1xyXG4gKiBAcHJvcGVydHkge01hcmt1cEVsZW1lbnRbXX0gY2hpbGRyZW4gLSBOb2RlIGNoaWxkcmVuLlxyXG4gKi9cclxuXHJcbmNvbnN0IHN1Ym1pdFN0cmluZyA9ICdQbGVhc2UsIHN1Ym1pdCBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vZHdheW5lanMvZHdheW5lL2lzc3Vlcy4nO1xyXG5jb25zdCBOT0RFX1JFR0VYX1NFVCA9IG5ldyBTdXBlcih7XHJcbiAgJ3RhZy1vcGVuJzogbmV3IFJlZ0V4cChgPCgkeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgfSlcXFxccypgLCAnaScpLFxyXG4gICd0YWctY2xvc2UnOiBjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChodG1sQWxsb3dlZFRhZ1N5bWJvbHMpLFxyXG4gIGNvbW1lbnQ6IC88IS0tKCg/Oi1bXlxcLT5dfFteXFwtPl0pKD86LT9bXi1dKSpbXi1dP3wpLS0+L1xyXG59KTtcclxuY29uc3QgVEFHX09QRU5fQ0xPU0UgPSAvXihcXC8/KT4vO1xyXG4vLyBjb25zdCBBVFRSSUJVVEUgPSAvXihbXlxcdTAwMDAtXFx1MDAyMFxcc1wiJz5cXC89XSspKD86XFxzKj1cXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcc1wiJ2A8Pj1dKykpP1xccyovO1xyXG5jb25zdCBBVFRSSUJVVEUgPSBuZXcgUmVnRXhwKGBeKCR7IGh0bWxBbGxvd2VkQXR0clN5bWJvbHMgfSkoPzpcXFxccyo9XFxcXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcXFxzXCInXFxgPD49XSspKT9cXFxccypgKTtcclxuY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IG5vZGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoZWxlbSkgPT4gZWxlbSlcclxuICAuY2FzZSgndGFnLW9wZW4nLCAoZWxlbSwgbm9kZSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB2YWx1ZTogbmFtZSxcclxuICAgICAgc2VsZkNsb3NpbmdcclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIG5vZGUgPSB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGF0dHJzOiBuZXcgU3VwZXIobm9kZS5hdHRycykubWFwKCh2YWx1ZSkgPT4gKFxyXG4gICAgICAgIHBhcnNlQ2hhcmFjdGVyRGF0YSh2YWx1ZSlcclxuICAgICAgKSkuJCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICBjaGlsZHJlbjogbmV3IEFycihbXSlcclxuICAgIH07XHJcblxyXG4gICAgZWxlbS5jaGlsZHJlbi5wdXNoKG5vZGUpO1xyXG5cclxuICAgIGlmICghc2VsZkNsb3NpbmcgJiYgdm9pZEVsZW1lbnRzLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XHJcbiAgICAgIGVsZW0gPSBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtO1xyXG4gIH0pXHJcbiAgLmNhc2UoJ3RhZy1jbG9zZScsIChlbGVtLCBub2RlKSA9PiB7XHJcbiAgICBpZiAoZWxlbS5uYW1lID09PSBub2RlLnZhbHVlKSB7XHJcbiAgICAgIGVsZW0gPSBlbGVtLnBhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbTtcclxuICB9KVxyXG4gIC5jYXNlKFsnY29tbWVudCcsICd0ZXh0J10sIChlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2UsIHR5cGUpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB7XHJcbiAgICAgIG5hbWU6IGAjJHsgdHlwZSB9YCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICB2YWx1ZTogbm9kZS52YWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ3RleHQnICYmIGVsZW0ubmFtZSAhPT0gJ3NjcmlwdCcgJiYgZWxlbS5uYW1lICE9PSAnc3R5bGUnKSB7XHJcbiAgICAgIGVsZW1lbnQudmFsdWUgPSBwYXJzZUNoYXJhY3RlckRhdGEoZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgICBpZiAoY29sbGFwc2VXaGl0ZVNwYWNlKSB7XHJcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IG5ldyBTdHIoZWxlbWVudC52YWx1ZSkudHJpbSgpLiQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNvbGxhcHNlV2hpdGVTcGFjZSB8fCAhL15cXHMqJC8udGVzdChlbGVtZW50LnZhbHVlKSkge1xyXG4gICAgICBlbGVtLmNoaWxkcmVuLnB1c2goZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfSk7XHJcbmNvbnN0IHJhd1RleHRTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCBmYWxzZSlcclxuICAuY2FzZShbJ3RpdGxlJywgJ3RleHRhcmVhJywgJ3N0eWxlJywgJ3NjcmlwdCddLCB0cnVlKTtcclxuXHJcbmNsYXNzIEludGVybmFsUGFyc2luZ0Vycm9yIHtcclxuICBjb25zdHJ1Y3RvcihpbmRleCkge1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUGFyc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIHR5cGUgPSAnUEFSU0lOR19FUlJPUic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrdXAgLSBNYXJrdXAgdG8gcGFyc2UgdG8gSlNPTi5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIGNvbGxhcHNlZC5cclxuICogQHJldHVybnMge0Fyci48TWFya3VwRWxlbWVudD59IE1hcmt1cCBlbGVtZW50cyBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBwYXJzaW5nIGh0bWwgYW5kIHhtbCB0byBKU09OLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKG1hcmt1cCwgY29sbGFwc2VXaGl0ZVNwYWNlKSA9PiB7XHJcbiAgY29sbGFwc2VXaGl0ZVNwYWNlID0gISFjb2xsYXBzZVdoaXRlU3BhY2U7XHJcblxyXG4gIGNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihbXSk7XHJcbiAgY29uc3Qgc3RhcnRNYXJrdXAgPSBtYXJrdXA7XHJcbiAgbGV0IGZvdW5kO1xyXG4gIGxldCBnbG9iYWxJbmRleCA9IDA7XHJcbiAgbGV0IGVsZW0gPSB7XHJcbiAgICBuYW1lOiBudWxsLFxyXG4gICAgY2hpbGRyZW46IGVsZW1lbnRzXHJcbiAgfTtcclxuXHJcbiAgd2hpbGUgKG1hcmt1cC5sZW5ndGgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGZvdW5kID0gZmluZChtYXJrdXAsIGVsZW0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEludGVybmFsUGFyc2luZ0Vycm9yKSkge1xyXG4gICAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFBhcnNpbmcgZXJyb3IgbmVhciBpbmRleCAkeyBuZWFyU3RyaW5nKHN0YXJ0TWFya3VwLCBnbG9iYWxJbmRleCArIGVyci5pbmRleCkgfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgYXR0cnMsXHJcbiAgICAgIHNlbGZDbG9zaW5nLFxyXG4gICAgICBpbmRleCxcclxuICAgICAgdmFsdWVcclxuICAgIH0gPSBmb3VuZDtcclxuXHJcbiAgICBnbG9iYWxJbmRleCArPSBpbmRleDtcclxuXHJcbiAgICBpZiAoIWluZGV4KSB7XHJcbiAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm9kZSA9IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgdmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICd0YWctb3BlbicpIHtcclxuICAgICAgbm9kZS5hdHRycyA9IGF0dHJzO1xyXG4gICAgICBub2RlLnNlbGZDbG9zaW5nID0gc2VsZkNsb3Npbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbSA9IG5vZGVTd2l0Y2hlcihub2RlLnR5cGUsIFtlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2VdKTtcclxuXHJcbiAgICBtYXJrdXAgPSBtYXJrdXAuc2xpY2UoaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnRzO1xyXG5cclxuICBmdW5jdGlvbiB0aHJvd1VuZXhwZWN0ZWRFcnJvcigpIHtcclxuICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFVuZXhwZWN0ZWQgcGFyc2luZyBlcnJvciBuZWFyIGluZGV4ICR7IG5lYXJTdHJpbmcoc3RhcnRNYXJrdXAsIGdsb2JhbEluZGV4KSB9LiAkeyBzdWJtaXRTdHJpbmcgfWApO1xyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbmQobWFya3VwLCBlbGVtKSB7XHJcbiAgY29uc3QgeyBuYW1lIH0gPSBlbGVtO1xyXG4gIGxldCBtYXRjaGVzO1xyXG5cclxuICBpZiAocmF3VGV4dFN3aXRjaGVyKG5hbWUpKSB7XHJcbiAgICBtYXRjaGVzID0gbmV3IFN1cGVyKHtcclxuICAgICAgJ3RhZy1jbG9zZSc6IG1hcmt1cC5tYXRjaChjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChuYW1lKSlcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtYXRjaGVzID0gTk9ERV9SRUdFWF9TRVQubWFwKChyZWdleCkgPT4gKFxyXG4gICAgICBtYXJrdXAubWF0Y2gocmVnZXgpXHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIGxldCBtYXRjaDtcclxuXHJcbiAgaWYgKFxyXG4gICAgbWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG1hdGNoKSA9PiAoXHJcbiAgICAgIG1hdGNoICYmIG1hdGNoLmluZGV4ID09PSAwXHJcbiAgICApKVxyXG4gICkge1xyXG4gICAgY29uc3QgcmV0dXJuaW5nID0ge1xyXG4gICAgICB0eXBlOiBtYXRjaC5rZXksXHJcbiAgICAgIGluZGV4OiBtYXRjaC52YWx1ZVswXS5sZW5ndGgsXHJcbiAgICAgIHZhbHVlOiBtYXRjaC52YWx1ZVsxXVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcblxyXG4gICAgaWYgKG1hdGNoLmtleSA9PT0gJ3RhZy1vcGVuJykge1xyXG4gICAgICBjb25zdCBzdGFydE1hcmt1cCA9IG1hcmt1cDtcclxuICAgICAgbGV0IGNsb3NlTWF0Y2g7XHJcblxyXG4gICAgICByZXR1cm5pbmcuc2VsZkNsb3NpbmcgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuaW5nLmF0dHJzID0gYXR0cnM7XHJcblxyXG4gICAgICB3aGlsZSAoXHJcbiAgICAgICAgKG1hcmt1cCA9IHN0YXJ0TWFya3VwLnNsaWNlKHJldHVybmluZy5pbmRleCkpICYmXHJcbiAgICAgICAgIShjbG9zZU1hdGNoID0gbWFya3VwLm1hdGNoKFRBR19PUEVOX0NMT1NFKSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgYXR0ciA9IG1hcmt1cC5tYXRjaChBVFRSSUJVVEUpO1xyXG5cclxuICAgICAgICBpZiAoIWF0dHIpIHtcclxuICAgICAgICAgIHJldHVybmluZy5pbmRleCArPSAxO1xyXG5cclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXR0cnNbYXR0clsxXV0gPSAoYXR0clsyXSB8fCAnJykucmVwbGFjZSgvXihcInwnKXwoXCJ8JykkL2csICcnKTtcclxuICAgICAgICByZXR1cm5pbmcuaW5kZXggKz0gYXR0clswXS5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjbG9zZU1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuaW5nLmluZGV4ICs9IGNsb3NlTWF0Y2hbMF0ubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybmluZy5zZWxmQ2xvc2luZyA9ICEhY2xvc2VNYXRjaFsxXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXR1cm5pbmc7XHJcbiAgfVxyXG5cclxuICBsZXQgeyB2YWx1ZTogaW5kZXggfSA9IG1hdGNoZXMubWluKChtYXRjaCkgPT4gKFxyXG4gICAgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IE5hTlxyXG4gICkpO1xyXG5cclxuICBpZiAoaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICBpbmRleCA9IG1hcmt1cC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogJ3RleHQnLFxyXG4gICAgaW5kZXgsXHJcbiAgICB2YWx1ZTogbWFya3VwLnNsaWNlKDAsIGluZGV4KVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdENsb3NlVGFnUmVnRXhwKHRhZ05hbWUpIHtcclxuICByZXR1cm4gbmV3IFJlZ0V4cChgPC8oJHsgdGFnTmFtZSB9KVxcXFxzKj5gLCAnaScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuZWFyU3RyaW5nKG1hcmt1cCwgaW5kZXgpIHtcclxuICByZXR1cm4gYCR7IGluZGV4IH0gKH5+fiBcIiR7IG1hcmt1cC5zbGljZShpbmRleCwgaW5kZXggKyAxNSkgfVwiIH5+fiwgdGhlIHN0cmluZyBpdHNlbGYgaXMgXCIkeyBtYXJrdXAgfVwiKWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ2hhcmFjdGVyRGF0YShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyYoXFx3K3wjeD9cXGQrKTsvZywgKG1hdGNoKSA9PiB7XHJcbiAgICBkaXYuaW5uZXJIVE1MID0gbWF0Y2g7XHJcblxyXG4gICAgcmV0dXJuIGRpdi50ZXh0Q29udGVudCB8fCBkaXYuaW5uZXJUZXh0O1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEVsZW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEVsZW0gY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgQXJyLCBhcnJheSwgaXRlcmF0ZSBhcyB0aW1lcyB9IGZyb20gJy4vQXJyJztcclxuaW1wb3J0IHsgYmxvYiB9IGZyb20gJy4vQmxvYk9iamVjdCc7XHJcbmltcG9ydCB7IG1ldGhvZCB9IGZyb20gJy4vRnVuYyc7XHJcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICcuL1Byb21pc2UnO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7XHJcbiAgY29uc3RydWN0b3JzLCBhcHBsaWVkUmVnRXhwcywgaHRtbEVsZW1lbnRzLCBzdmdFbGVtZW50cyxcclxuICBjYW52YXNHZXRNZXRob2RzLCBjYW52YXNSZXN0TWV0aG9kc1xyXG59IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLFxyXG4gIGlzSW50ZWdlciwgaXNOaWwsIGlzTnVtYmVyLCBpc051bGwsIGlzU3RyaW5nLFxyXG4gIGFzc2lnbiwgZHluYW1pY0RlZmluZVByb3BlcnRpZXMsIGRlZmluZVByb3BlcnRpZXMsIHRvQXJyYXksXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2xcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgbWFya3VwVG9KU09OIGZyb20gJy4vaGVscGVycy9tYXJrdXBUb0pTT04nO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdHJpbmd9IEVsZW1FdmVudFN0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBjb250YWluaW5nIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBjb21tYSB3aXRoIHplcm8gb3IgbW9yZSBzcGFjZXMgb3IganVzdCBzcGFjZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtVmFsdWVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSAtIE9sZCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtfSBlbGVtIC0gQ3VycmVudCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBJbmRleCBpbiB0aGUgc2V0IG9mIHRoZSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEVsZW1TZXRPZkNhbGxiYWNrXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFbGVtZW50fSBjcmVhdGVkIC0gQ3JlYXRlZCBlbGVtZW50LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgb2YgdGhlIGl0ZXJhdGVkIGVsZW1lbnQgaW4gdGhlIG9iamVjdC5cclxuICogQHBhcmFtIHtLZXl9IGtleSAtIEtleSBvZiB0aGUgaXRlcmF0ZWQgZWxlbWVudCBpbiB0aGUgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0aGF0IGlzIGl0ZXJhdGVkIG92ZXIuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEN1cnJlbnQgZWxlbWVudC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIFZhbGlkYXRlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gRWxlbWVudCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIC0gRWxlbWVudCB0byB2YWxpZGF0ZS5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGVsZW1lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBDdHhDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtTGlzdGVuZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0V2ZW50fSBlIC0gRmlyZWQgZXZlbnQuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgb24gd2hpY2ggdGhlIGxpc3RlbmVyIHdhcyBjYWxsZWQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIEluZGV4IG9mIHRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSBsaXN0ZW5lciB3YXMgY2FsbGVkLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRWxlbVJlbW92ZUxpc3RlbmVyc1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Li4uRWxlbUV2ZW50U3RyaW5nfSBldmVudHMgLSBJZiBhdCBsZWFzdCBvbmUgYXJndW1lbnQgcHJlc2VudCBvbmx5IHJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIHNwZWNpZmllZFxyXG4gKiBieSB0aGUgZXZlbnRzIGluIHRoZSBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuY29uc3QgbmF0aXZlRG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XHJcbmNvbnN0IGVtcHR5RGl2ID0gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IGV2ZW50U2VwYXJhdG9yID0gLygsfCApICovO1xyXG5jb25zdCB0ZXh0UHJvcGVydHkgPSBuZXcgU3VwZXIoTm9kZS5wcm90b3R5cGUpLnByb3BlcnR5RGVzY3JpcHRvcigndGV4dENvbnRlbnQnKSA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcclxuY29uc3QgY2xhc3NlcyA9IHt9O1xyXG5jb25zdCBhdHRycyA9IHt9O1xyXG5jb25zdCB3aW5kb3dzRHdheW5lRGF0YSA9IG5ldyBBcnIoW10pO1xyXG5jb25zdCBpbnB1dEVsZW1lbnRzID0gJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnO1xyXG5jb25zdCBjbGljayA9IG1ldGhvZCgnY2xpY2snKTtcclxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5jb25zdCB4bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyc7XHJcbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmNvbnN0IHhodG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XHJcbmNvbnN0IHR5cGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKGVsZW0sIHR5cGUpID0+IHtcclxuICBjb25zdCBucyA9IHR5cGUgPT09ICdzdmcnXHJcbiAgICA/IHN2Z05TXHJcbiAgICA6IGVsZW0ucHJvcCgnbmFtZXNwYWNlVVJJJykgfHwgbmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSB8fCB4aHRtbE5TO1xyXG5cclxuICByZXR1cm4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0eXBlKTtcclxufSlcclxuICAuY2FzZShcclxuICAgICh0eXBlKSA9PiB0eXBlID09PSAnI2NvbW1lbnQnLFxyXG4gICAgKCkgPT4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICAodHlwZSkgPT4gdHlwZSA9PT0gJyN0ZXh0JyxcclxuICAgICgpID0+IG5hdGl2ZURvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKVxyXG4gICk7XHJcbmNvbnN0IHJlZlN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICdocmVmJylcclxuICAuY2FzZShcclxuICAgIFsnaW1nJywgJ3NjcmlwdCcsICdpZnJhbWUnLCAnYXVkaW8nLCAndmlkZW8nXSxcclxuICAgICdzcmMnXHJcbiAgKVxyXG4gIC5jYXNlKFxyXG4gICAgJ2Zvcm0nLFxyXG4gICAgJ2FjdGlvbidcclxuICApO1xyXG5jb25zdCBmaWx0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKHNlbGVjdG9yKSA9PiBzZWxlY3RvcilcclxuICAuY2FzZShcclxuICAgIGlzU3RyaW5nLFxyXG4gICAgKHNlbGVjdG9yKSA9PiAoXHJcbiAgICAgIChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcilcclxuICAgIClcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICBbaXNBcnJheSwgaXNFbGVtXSxcclxuICAgIChlbGVtcykgPT4ge1xyXG4gICAgICBlbGVtcyA9IG5ldyBBcnIoZWxlbXMpO1xyXG5cclxuICAgICAgcmV0dXJuIChlbGVtKSA9PiBlbGVtcy5pbmRleE9mKGVsZW0pICE9PSAtMTtcclxuICAgIH1cclxuICApO1xyXG5jb25zdCBpbm5lclN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsIDApXHJcbiAgLmNhc2UoJ3BhZGRpbmctYm94JywgKHBhZGRpbmdzKSA9PiBwYWRkaW5ncylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIChwYWRkaW5ncywgYm9yZGVycykgPT4gcGFkZGluZ3MgKyBib3JkZXJzKTtcclxuY29uc3Qgb3V0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoYm9yZGVycywgcGFkZGluZ3MpID0+IGJvcmRlcnMgKyBwYWRkaW5ncylcclxuICAuY2FzZSgncGFkZGluZy1ib3gnLCAoYm9yZGVycykgPT4gYm9yZGVycylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIDApO1xyXG5jb25zdCBhdHRyTlNTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgbnVsbClcclxuICAuY2FzZSgoYXR0cikgPT4gYXR0ciA9PT0gJ3htbG5zJyB8fCBhdHRyID09PSAneG1sbnM6eGxpbmsnLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5uYW1lID09PSAnc3ZnJ1xyXG4gICAgICA/IHhtbE5TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpXHJcbiAgLmNhc2UoKGF0dHIpID0+IC9eeGxpbms6XFx3Ly50ZXN0KGF0dHIpLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5jbG9zZXN0KCdzdmcnKS5sZW5ndGhcclxuICAgICAgPyB4bGlua05TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBFbGVtXHJcbiAqIEBleHRlbmRzIEFyclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IFtlbGVtID0gW11dIC0gQW4gZWxlbWVudCBvciBhbiBhcnJheSBvZiBlbGVtZW50cyB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gZWxlbWVudHMgc2V0LiBBbHNvIGhhcyBhbGwgbWV0aG9kcyBmcm9tIGZyb21cclxuICogW0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0uXHJcbiAqIEdldHRlcnMgbWV0aG9kcyByZXR1cm4gdGhlIHNhbWUgYXMgbWV0aG9kcyBmcm9tIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBhbmQgdGhlIHJlc3QgcmV0dXJuIHRoaXMuXHJcbiAqIFdvcmsgZm9yIHRoZSBmaXJzdCBjYW52YXMgZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBuZXcgRWxlbShkb2N1bWVudC5ib2R5KTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNscycpKTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2xzJykpO1xyXG4gKi9cclxuY2xhc3MgRWxlbSBleHRlbmRzIEFyciB7XHJcbiAgY29uc3RydWN0b3IoZWxlbSA9IFtdKSB7XHJcbiAgICBzdXBlcigoKCkgPT4ge1xyXG4gICAgICBsZXQgZWxlbWVudCA9IGVsZW07XHJcblxyXG4gICAgICBpZiAoaXNBcnJheUxpa2UoZWxlbWVudCkgJiYgKFxyXG4gICAgICAgIGlzV2luZG93KGVsZW1lbnQpIHx8XHJcbiAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0VsZW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc1N0eWxlUnVsZShlbGVtZW50KVxyXG4gICAgICApKSB7XHJcbiAgICAgICAgZWxlbWVudCA9IFtlbGVtZW50XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ldyBBcnIodG9BcnJheShuZXcgU3VwZXIoZWxlbWVudCkuJCwgdHJ1ZSkpLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgICBpZiAoZWxlbXMuaW5kZXhPZihlbGVtKSA9PT0gLTEgJiYgKFxyXG4gICAgICAgICAgaXNFbGVtZW50KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1dpbmRvdyhlbGVtKSB8fFxyXG4gICAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbSkgfHxcclxuICAgICAgICAgIGlzRG9jdW1lbnRGcmFnbWVudChlbGVtKSB8fFxyXG4gICAgICAgICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1N0eWxlUnVsZShlbGVtKVxyXG4gICAgICAgICkpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5wdXNoKGVsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgICAgICAgZWxlbXMucHVzaC5hcHBseShlbGVtcywgZWxlbS4kKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFtdKS4kO1xyXG4gICAgfSkoKSk7XHJcblxyXG4gICAgdGhpcy4kJCA9IGVsZW07XHJcblxyXG4gICAgdGhpcy5mb3JFYWNoKGFkZER3YXluZURhdGEpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7QXJyYXkuPE5vZGV8V2luZG93Pn0gRWxlbSMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXkuPE5vZGV8V2luZG93Pn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1Y3RlZCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7Kn0gRWxlbSMkJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLihTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXSl9IGVsZW1lbnRzIC0gRWFjaCBhcmd1bWVudCBpcyBhIHNlbGVjdG9yLCBvciBFbGVtLCBvciBFbGVtZW50LCBvciBhcnJheSBvZiBFbGVtZW50cy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgZWxlbWVudHMgdG8gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEuZmluZCgnLmNsczEnKVxyXG4gICAqICAgLmFkZChlbGVtMi5maW5kKCcuY2xzMicpKVxyXG4gICAqICAgLmhpZGUoKTtcclxuICAgKi9cclxuICBhZGQoLi4uZWxlbWVudHMpIHtcclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZWxlbSkgPT4ge1xyXG4gICAgICB0b0ZpbmQoZWxlbSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4T2YoZWxlbSkgPT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLnB1c2goZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZENsYXNzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBjbGFzc2VzIC0gQ2xhc3NlcyB0byBhZGQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgY2xhc3NlcyB0byB0aGUgYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdyZWQnLCAncm91bmQnKTtcclxuICAgKi9cclxuICBhZGRDbGFzcyguLi5jbGFzc2VzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3QgPSBlbGVtLmNsYXNzTGlzdDtcclxuXHJcbiAgICAgIGl0ZXJhdGUoaXNFbGVtZW50KGVsZW0pICYmIGFyZ3VtZW50cywgKGNscykgPT4gbGlzdC5hZGQoY2xzKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiBjb21tZW50IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBjb21tZW50IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjb21tZW50IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRIVE1MKCc8ZGl2PjE8L2Rpdj4nKTtcclxuICAgKi9cclxuICBhZGRDb21tZW50KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKGVuZCA/ICdiZWZvcmVlbmQnIDogJ2FmdGVyYmVnaW4nLCBgPCEtLSR7IHRleHQgfS0tPmApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQgLSBJZiB0aGUgSFRNTCBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgaXQncyBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgSFRNTCB0byBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uYWRkSFRNTCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICovXHJcbiAgYWRkSFRNTChodG1sLCBlbmQgPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmluc2VydEFkamFjZW50SFRNTChlbmQgPyAnYmVmb3JlZW5kJyA6ICdhZnRlcmJlZ2luJywgaHRtbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciAtIFNlbGVjdG9yIGZvciB0aGUgcnVsZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjc3Mgc3R5bGVzIGludG8gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmFkZFJ1bGUoJ2ltZy1zaXplJywgJ2ltZy5zcXVhcmUnLCB7XHJcbiAgICogICB3aWR0aDogJzQwcHggIWltcG9ydGFudCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4ICFpbXBvcnRhbnQnXHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgYWRkUnVsZShuYW1lLCBzZWxlY3Rvciwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgc2hlZXQgfSA9IGVsZW07XHJcbiAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IHNoZWV0LmNzc1J1bGVzO1xyXG4gICAgICAgIGNvbnN0IHJ1bGVzID0gbmV3IFN1cGVyKHN0eWxlKS53b3JkKCh2YWx1ZSwgcHJvcGVydHkpID0+IChcclxuICAgICAgICAgIGAkeyBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKSB9OiAkeyB2YWx1ZSB9O1xcbmBcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShcclxuICAgICAgICAgIGAkeyBzZWxlY3RvciB9IHskeyBydWxlcyAmJiAnXFxuJyB9JHsgcnVsZXMgfX1gLFxyXG4gICAgICAgICAgbGVuZ3RoXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzaGVldC5jc3NSdWxlc1tsZW5ndGhdLmR3YXluZURhdGEgPSB7IG5hbWUgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSB0ZXh0IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyB0ZXh0IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRUZXh0KCcxMjMnKTtcclxuICAgKi9cclxuICBhZGRUZXh0KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpLmludG8oZWxlbSwgZW5kKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FwcGx5XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBzdHJpbmdzIC0gU3RyaW5ncyB0byBhcHBseS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgdGhhdCBpcyBhIHNob3J0aGFuZCBmb3IgbWFueSBvdGhlciBtZXRob2RzLlxyXG4gICAqIEFsbCBzaG9ydGhhbmRzIGNhbiBiZSBzZXBhcmF0ZWQgd2l0aCBzcGFjZSBhbmQgd3JpdHRlbiB3aXRoaW4gb25lIHN0cmluZy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hcHBseShcclxuICAgKiAgICcjaWQgLmMxIC5jMiBAYm9yZGVyKDFweCBzb2xpZCBibGFjaykgJGRpc2FibGVkICRhdHRyKHNvbWUgdmFsdWUpICooQ2xpY2sgbWUhKSdcclxuICAgKiApO1xyXG4gICAqIC8vIHNob3J0aGFuZCBmb3JcclxuICAgKiAvLyBlbGVtXHJcbiAgICogLy8gICAuaWQoJ2lkJylcclxuICAgKiAvLyAgIC5hZGRDbGFzcygnYzEnLCAnYzInKVxyXG4gICAqIC8vICAgLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCBibGFjaycpXHJcbiAgICogLy8gICAuYXR0cih7XHJcbiAgICogLy8gICAgIGF0dHIsICdzb21lIHZhbHVlJ1xyXG4gICAqIC8vICAgICBkaXNhYmxlZDogJydcclxuICAgKiAvLyAgIH0pXHJcbiAgICogLy8gICAudGV4dCgnQ2xpY2sgbWUhJyk7XHJcbiAgICogLy8gVGhlcmUgaXMgYSBmdWxsIGxpc3Qgb2YgcG9zc2libGUgdHlwZXMgb2Ygc3ludGF4IGJlbG93Li4uXHJcbiAgICpcclxuICAgKiBlbGVtLmFwcGx5KCcjaWQnKTsgICAgICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5pZCgnaWQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCcuYzEgLmMyJyk7ICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5hZGRDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctLmMxIC0uYzInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctQGZsb2F0IC1AZGlzcGxheScpOyAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDU1MoJ2Zsb2F0JywgJ2Rpc3BsYXknKTtcclxuICAgKiBlbGVtLmFwcGx5KCctJGExIC0kYTInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVBdHRyKCdhMScsICdhMicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyooc29tZSB0ZXh0KScpOyAgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLnRleHQoJ3NvbWUgdGV4dCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyYoPGRpdj4xPC9kaXY+KScpOyAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmh0bWwoJzxkaXY+MTwvZGl2PicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BmbG9hdChyaWdodCknKTsgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnZmxvYXQnLCAncmlnaHQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCdAdHJhbnNmb3JtKHNjYWxlKDVweCkpJyk7IC8vIHNob3J0aGFuZCBmb3IgZWxlbS5jc3MoJ3RyYW5zZm9ybScsICdzY2FsZSg1cHgpJyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbigycHggMnB4KScpOyAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4nLCAnMnB4IDJweCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BtYXJnaW5MZWZ0KDJweCknKTsgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnbWFyZ2luTGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbi1sZWZ0KDJweCknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4tbGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHIoc29tZSB2YWx1ZSknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICdzb21lIHZhbHVlJyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHInKTsgICAgICAgICAgICAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICcnKTtcclxuICAgKi9cclxuICBhcHBseSguLi5zdHJpbmdzKSB7XHJcbiAgICBsZXQgYXBwbGllZDtcclxuICAgIGxldCBzZXRBcHBsaWVkO1xyXG4gICAgbGV0IGNhbGxiYWNrO1xyXG4gICAgbGV0IG5hbWU7XHJcbiAgICBsZXQgbnAxO1xyXG4gICAgbGV0IHNsaWNlO1xyXG5cclxuICAgIG5ldyBTdHIobmV3IEFycihhcmd1bWVudHMpLmpvaW4oJyAnKSlcclxuICAgICAgLnNwbGl0KC8oXFxzKykvKVxyXG4gICAgICAuZm9yRWFjaCgoc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFhcHBsaWVkKSB7XHJcbiAgICAgICAgICBucDEgPSBzdHJpbmcuc2xpY2UoMCwgMSk7XHJcbiAgICAgICAgICBjYWxsYmFjayA9IGFwcGxpZWRSZWdFeHBzW25wMV07XHJcbiAgICAgICAgICBzbGljZSA9IDE7XHJcblxyXG4gICAgICAgICAgaWYgKGNhbGxiYWNrICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrW3N0cmluZy5zbGljZSgxLCAyKV07XHJcbiAgICAgICAgICAgIHNsaWNlID0gMjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoL15cXHMrJC8udGVzdChzdHJpbmcpIHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbmFtZSA9IHN0cmluZy5zbGljZShzbGljZSkubWF0Y2goL15bXigpXSsvKTtcclxuXHJcbiAgICAgICAgICBpZiAoIW5hbWUgJiYgKG5wMSAhPT0gJyonICYmIG5wMSAhPT0gJyYnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYXBwbGllZCA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSA/IG5hbWVbMF0gOiAnJyxcclxuICAgICAgICAgICAgYXJnczogc3RyaW5nLnNsaWNlKHNsaWNlICsgKG5hbWUgPyBuYW1lWzBdIDogJycpLmxlbmd0aCksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHNldEFwcGxpZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzZXRBcHBsaWVkKSB7XHJcbiAgICAgICAgICBhcHBsaWVkLmFyZ3MgKz0gc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhcHBsaWVkLmFyZ3MgfHwgL15cXChbXFxzXFxTXStcXCkkLy50ZXN0KGFwcGxpZWQuYXJncykpIHtcclxuICAgICAgICAgIGFwcGxpZWQuY2FsbGJhY2sodGhpcywgYXBwbGllZC5uYW1lLCBhcHBsaWVkLmFyZ3MucmVwbGFjZSgvXlxcKHxcXCkkL2csICcnKSk7XHJcbiAgICAgICAgICBhcHBsaWVkID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldEFwcGxpZWQgPSBmYWxzZTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jYXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgU3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrPn0gW2F0dHJdIC0gTmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIGdldCBvclxyXG4gICAqIGFuIG9iamVjdCBvZiB0aGUgZm9ybWF0IHsgW2F0dHJOYW1lXTogdmFsdWUsIC4uLiB9IHRvIHNldCBhdHRyaWJ1dGVzLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrfSBbdmFsdWVdIC0gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nXHJcbiAgICogaXQgc2hvdWxkIGJlIGEgdmFsdWUgdG8gc2V0IGZvciB0aGF0IGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7U3VwZXJ8U3RyaW5nfEVsZW19IElmIG5vIGFyZ3VtZW50cyBwYXNzZWQsIEQtV3JhcCBvZiBhdHRyaWJ1dGVzIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCwgaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBhdHRyaWJ1dGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmF0dHIoJ2F0dHIxJywgJ3ZhbHVlMScpOyAvLyBhdHRyaWJ1dGUgYXR0cjEgc2V0IHRvICd2YWx1ZTEnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyMScpOyAgICAgICAgICAgLy8gJ3ZhbHVlMSdcclxuICAgKiBlbGVtLmF0dHIoe1xyXG4gICAqICAgYXR0cjE6ICd2YWx1ZTMnLCAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBhdHRyMSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIGF0dHIyOiAndmFsdWUyJyAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgYXR0cjIgc2V0IHRvICd2YWx1ZTInXHJcbiAgICogfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyByZXR1cm5lZFxyXG4gICAqIGVsZW0uYXR0cigpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgYXR0cjE6ICd2YWx1ZTMnLCBhdHRyMjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGF0dHIoYXR0ciwgdmFsdWUpIHtcclxuICAgIGNvbnN0IGVsZW0gPSBnZXRFbGVtKHRoaXMpO1xyXG5cclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKGVsZW0uYXR0cmlidXRlcykub2JqZWN0KChvLCBhdHRyKSA9PiB7XHJcbiAgICAgICAgb1thdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhhdHRyKSkge1xyXG4gICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgcmV0dXJuIGlzTnVsbChucylcclxuICAgICAgICA/IGVsZW0uZ2V0QXR0cmlidXRlKGF0dHIpXHJcbiAgICAgICAgOiBlbGVtLmdldEF0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIGF0dHIgPSB7IFthdHRyXTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKGF0dHIpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICB2YWx1ZSA9IGlzRnVuY3Rpb24odmFsdWUpXHJcbiAgICAgICAgICA/IHZhbHVlKG5ldyBFbGVtKGVsZW0pLmF0dHIoa2V5KSwgZWxlbSwgaW5kZXgpXHJcbiAgICAgICAgICA6IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoaXNOaWwodmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IEVsZW0oZWxlbSkucmVtb3ZlQXR0cihrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbnMgPSBhdHRyTlNTd2l0Y2hlcihrZXksIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMobnMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNibG9iXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucyA9IHt9XSAtIE9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIGJsb2J9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxCbG9iT2JqZWN0Pn0gTmV3IGluc3RhbmNlIG9mIHByb21pc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgYSB7QGxpbmsgQmxvYk9iamVjdH0gUHJvbWlzZS4gV29ya3Mgd2l0aCBpbWFnZSBvciBjYW52YXMgZmlyc3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogaW1hZ2UuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgIC8vIEJsb2JPYmplY3RcclxuICAgKiBjYW52YXMuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgLy8gQmxvYk9iamVjdFxyXG4gICAqL1xyXG4gIGJsb2Iob3B0aW9ucyA9IHt9KSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtID0gdGhpcy5maXJzdCgpO1xyXG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGVsZW07XHJcblxyXG4gICAgICBpZiAobmFtZSAhPT0gJ2ltZycgJiYgbmFtZSAhPT0gJ2NhbnZhcycpIHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdGaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXNuXFwndCBhbiBpbWFnZSBvciBhIGNhbnZhcyEgKEVsZW0jYmxvYiknKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuYW1lID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGVsZW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtXHJcbiAgICAgICAgLmxvYWQoKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGlmIChlbGVtLmlzQnJva2VuKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ1RoZSBpbWFnZSBpcyBicm9rZW4hIChFbGVtI2Jsb2IpJykpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IG5ldyBFbGVtKG5hdGl2ZURvY3VtZW50KS5jYW52YXMoKTtcclxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWxlbS53aWR0aCgpO1xyXG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gZWxlbS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICBjYW52YXNcclxuICAgICAgICAgICAgLndpZHRoKHdpZHRoKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KGhlaWdodClcclxuICAgICAgICAgICAgLmRyYXdJbWFnZShlbGVtLiRbMF0sIDAsIDApO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUoY2FudmFzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pLnRoZW4oKGNhbnZhcykgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhVVJMID0gY2FudmFzLmRhdGFVUkwoKTtcclxuICAgICAgY29uc3QgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YVVSTC5zcGxpdCgnLCcpWzFdKTtcclxuICAgICAgY29uc3QgbGVuZ3RoID0gYnl0ZVN0cmluZy5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IGFiID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XHJcbiAgICAgIGNvbnN0IGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xyXG5cclxuICAgICAgdGltZXMobGVuZ3RoLCAoaSkgPT4ge1xyXG4gICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBibG9iKGFiLCBvcHRpb25zKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2JsdXJcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTEVsZW1lbnQjYmx1cl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJ9LlxyXG4gICAqL1xyXG4gIGJsdXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmJsdXIoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2FsY0NTU1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHNldWRvXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL1dpbmRvdy9nZXRDb21wdXRlZFN0eWxlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW2dldENvbXB1dGVkU3R5bGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0Q29tcHV0ZWRTdHlsZX0uXHJcbiAgICogUmV0dXJucyBjb21wdXRlZCBzdHlsZSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBvciB1bmRlZmluZWQuXHJcbiAgICovXHJcbiAgY2FsY0NTUyhwc2V1ZG8gPSBudWxsKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShnZXRFbGVtKHRoaXMpLCBwc2V1ZG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoYW5nZVJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNoYW5naW5nIGNzcyBzdHlsZXMgaW4gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmNoYW5nZVJ1bGUoJ2ltZy1zaXplJywge1xyXG4gICAqICAgd2lkdGg6ICc1MHB4ICFpbXBvcnRhbnQnLFxyXG4gICAqICAgaGVpZ2h0OiAnNTBweCAhaW1wb3J0YW50J1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGNoYW5nZVJ1bGUobmFtZSwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgdmFsdWU6IHJ1bGUgfSA9IG5ldyBBcnIoZWxlbS5zaGVldC5jc3NSdWxlcykuZmluZCgocnVsZSkgPT4gcnVsZS5kd2F5bmVEYXRhICYmIHJ1bGUuZHdheW5lRGF0YS5uYW1lID09PSBuYW1lKSB8fCB7fTtcclxuXHJcbiAgICAgICAgaWYgKHJ1bGUpIHtcclxuICAgICAgICAgIG5ldyBFbGVtKHJ1bGUpLmNzcyhzdHlsZSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudCAtIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciBhIHdyYXAgb2YgdGhlIHNldCBvZiB0aGUgY2hpbGRyZW5cclxuICAgKiBvZiB0aGlzIGluZGV4IG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkIG90aGVyd2lzZSBhbiBlbGVtZW50IHRvIHB1dCBpbnRvIHRoaXMgZWxlbWVudCwgYSBjb2xsZWN0aW9uXHJcbiAgICogb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBlbGVtZW50cyBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgdGhleSBhcmUgaW5zZXJ0ZWQgdG8gdGhlIHN0YXJ0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIGEgd3JhcCBvZiBjaGlsZHJlbiBvciBpbnNlcnRlZCBlbGVtZW50cy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBjaGlsZCA9IGVsZW0uY2hpbGQoMSk7XHJcbiAgICpcclxuICAgKiBlbGVtLmNoaWxkKGVsZW0yKTtcclxuICAgKiBlbGVtLmNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmNoaWxkKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgY2hpbGQoZWxlbWVudCwgZW5kID0gdHJ1ZSkge1xyXG4gICAgaWYgKGlzSW50ZWdlcihlbGVtZW50KSAmJiBlbGVtZW50ID49IDApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4oKS5lbGVtKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b0ZpbmQoZWxlbWVudCkuaW50byh0aGlzLCBlbmQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoaWxkcmVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBELVdyYXAgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBlbGVtZW50J3MgY2hpbGRyZW4uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGNoaWxkcmVuID0gZWxlbS5jaGlsZHJlbigpO1xyXG4gICAqL1xyXG4gIGNoaWxkcmVuKCkge1xyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMubGVuZ3RoID8gdGhpcy4kWzBdLmNoaWxkTm9kZXMgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xhc3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjbHNdIC0gSWYgaXQncyBwcmVzZW50IGl0IGhhcyB0byBjb250YWluIGNsYXNzIGF0dHJpYnV0ZSB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0FycnxFbGVtfSBJZiB0aGUgYXJndW1lbnQgaXMgcHJlc2VudCB0aGlzIHJldHVybmVkIG90aGVyd2lzZSBhIHdyYXAgb2YgdGhlIGNsYXNzZXMgYXJyYXkgcmV0dXJuZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZy9zZXR0aW5nIGNsYXNzZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY2xhc3MoJ2MxIGMyJyk7IC8vIGNsYXNzIHNldCB0byAnYzEgYzInXHJcbiAgICogZWxlbS5jbGFzcygpLiQ7ICAgICAgLy8gWydjMScsICdjMiddXHJcbiAgICovXHJcbiAgY2xhc3MoY2xzKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBBcnIoZ2V0RWxlbSh0aGlzKS5jbGFzc05hbWUuc3BsaXQoJyAnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbHM7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NsaWNrXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MRWxlbWVudC9jbGlja1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtIVE1MRWxlbWVudCNjbGlja117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2NsaWNrfS5cclxuICAgKi9cclxuICBjbGljaygpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uY2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xvbmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtkZWVwID0gZmFsc2VdIC0gU2VlIHRoZWUgbGluay5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jbG9uZU5vZGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTm9kZSNjbG9uZU5vZGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9Ob2RlL2Nsb25lTm9kZX0uXHJcbiAgICovXHJcbiAgY2xvbmUoZGVlcCA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChlbGVtLmNsb25lTm9kZSghIWRlZXApKTtcclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2Nsb3Nlc3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBTZXQgb2YgdGhlIGNsb3Nlc3QgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0VsZW1lbnQjY2xvc2VzdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xvc2VzdH0uXHJcbiAgICovXHJcbiAgY2xvc2VzdChzZWxlY3Rvcikge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4ge1xyXG4gICAgICB3aGlsZSAoZWxlbSkge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjb250YWluc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGZpbmQgb3V0IGlmIGl0J3Mgd2l0aGluIHRoZSBmaXJzdCBlbGVtZW50XHJcbiAgICogaW4gdGhlIHNldCBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBhcmd1bWVudCB3aXRoaW4gdGhpcyBlbGVtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgaXMgZXh0ZW5zaW9uIGZvclxyXG4gICAqIFtOb2RlI2NvbnRhaW5zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jb250YWluc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0xLmNvbnRhaW5zKGVsZW0yKTsgICAvLyB0cnVlfGZhbHNlXHJcbiAgICogZWxlbS5jb250YWlucyhzZWxlY3Rvcik7IC8vIHRydWV8ZmFsc2VcclxuICAgKi9cclxuICBjb250YWlucyhlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmNvbnRhaW5zKGdldEVsZW0oZWxlbWVudCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIFR5cGUgb2YgY3JlYXRlZCBlbGVtZW50LiBJZiB0eXBlIGlzIFwiI3RleHRcIiBhIHRleHQgbm9kZSBpcyBjcmVhdGVkLlxyXG4gICAqIElmIHR5cGUgaXMgXCIjY29tbWVudFwiIGEgY29tbWVudCBub2RlIGlzIGNyZWF0ZWQuXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9ucyAtIFN0cmluZ3MgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIEVsZW0jYXBwbHl9LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgZWxlbWVudHMgaW5zaWRlIHRoaXMgZWxlbWVudC5cclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IGFuIEVsZW1lbnQgdGhlIGVsZW1lbnQgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZSgnZGl2JywgJyNpZCAuYzEgLmMyICpTb21lIHRleHQqJyk7XHJcbiAgICpcclxuICAgKiAvLyBhbHNvIHRoZXJlIGFyZSBzaG9ydGhhbmRzIGZvciBhbG1vc3QgZXZlcnkgSFRNTC1lbGVtZW50XHJcbiAgICogZWxlbS5kaXYoKTtcclxuICAgKiBlbGVtLmlucHV0KCckdHlwZShjaGVja2JveCkgJG5hbWUoY291bnRyeSknKTtcclxuICAgKi9cclxuICBjcmVhdGUodHlwZSwgLi4uYXBwbGllZEV4cHJlc3Npb25zKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBuZXcgRWxlbSh0eXBlU3dpdGNoZXIodHlwZSwgW25ldyBFbGVtKGVsZW0pXSkpO1xyXG5cclxuICAgICAgZWxlbWVudC5pbnRvKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbXMuYWRkKGVsZW1lbnQuYXBwbHkuYXBwbHkoZWxlbWVudCwgYXBwbGllZEV4cHJlc3Npb25zKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjcmVhdGVDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiB0aGUgY29tbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0gLSB3cmFwIG9mIHRoZSBjcmVhdGVkIGNvbW1lbnRzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIGNvbW1lbnRzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSBjb21tZW50IGlzIGp1c3QgY3JlYXRlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jcmVhdGVDb21tZW50KCdjb21tZW50Jyk7XHJcbiAgICovXHJcbiAgY3JlYXRlQ29tbWVudCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuY3JlYXRlKCcjY29tbWVudCcpXHJcbiAgICAgIC50ZXh0KHRleHQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgdGV4dCBub2Rlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBjcmVhdGluZyB0ZXh0IG5vZGVzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSB0ZXh0IG5vZGUgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZVRleHQoJ3RleHQnKTtcclxuICAgKi9cclxuICBjcmVhdGVUZXh0KHRleHQpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC5jcmVhdGUoJyN0ZXh0JylcclxuICAgICAgLnRleHQodGV4dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY3NzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2s+fSBbcHJvcGVydHldIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0IG9yXHJcbiAgICogYW4gb2JqZWN0IG9mIHRoZSBmb3JtYXQgeyBbcHJvcGVydHldOiB2YWx1ZSwgLi4uIH0gdG8gc2V0IHN0eWxlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHkuXHJcbiAgICogQHJldHVybnMge1N1cGVyfFN0cmluZ3xFbGVtfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkLCBELVdyYXAgb2YgY3NzIHN0eWxlcyBvZiB0aGUgZWxlbWVudCByZXR1cm5lZCxcclxuICAgKiBpZiAxIHN0cmluZyBhcmd1bWVudCBpcyBwYXNzZWQgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBzdHlsZXMuIFN1cHBvcnRzICFpbXBvcnRhbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsgLy8gZGlzcGxheSBzZXQgdG8gJ25vbmUnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5jc3MoJ2Rpc3BsYXknKTsgICAgICAgICAvLyAnbm9uZSdcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBkaXNwbGF5OiAnaW5saW5lJywgICAgICAgICAvLyBkaXNwbGF5IHNldCB0byAnaW5saW5lJ1xyXG4gICAqICAgY3Vyc29yOiAncG9pbnRlcicgICAgICAgICAgLy8gY3Vyc29yIHNldCB0byAncG9pbnRlcidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmNzcygpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgZGlzcGxheTogJ25vbmUnLCBjdXJzb3I6ICdwb2ludGVyJyB9XHJcbiAgICovXHJcbiAgY3NzKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgbGV0IHN0eWxlID0gZ2V0RWxlbSh0aGlzKS5zdHlsZTtcclxuXHJcbiAgICBpZiAoaXNTdHlsZVJ1bGUodGhpcy4kWzBdKSkge1xyXG4gICAgICBzdHlsZSA9IHRoaXMuJFswXS5zdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdHIoc3R5bGUuY3NzVGV4dClcclxuICAgICAgICAuc3BsaXQoLzsgPy8pXHJcbiAgICAgICAgLm9iamVjdCgobywgdmFsdWUpID0+IHtcclxuICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KC86IC8pO1xyXG5cclxuICAgICAgICAgICAgb1tuZXcgU3RyKHByb3BlcnR5WzBdKS50b0NhbWVsQ2FzZSgpLiRdID0gcHJvcGVydHlbMV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkgPSBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKS4kO1xyXG5cclxuICAgICAgcmV0dXJuIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpICsgKHN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkocHJvcGVydHkpID8gJyAhaW1wb3J0YW50JyA6ICcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pICYmICFpc1N0eWxlUnVsZShlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKHByb3BlcnR5KS5mb3JFYWNoKCh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgICBwcm9wZXJ0eSA9IG5ldyBTdHIocHJvcGVydHkpLnRvSHlwaGVuQ2FzZSgpLiQ7XHJcblxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZShuZXcgRWxlbShlbGVtKS5jc3MocHJvcGVydHkpLCBlbGVtLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICBlbGVtLnN0eWxlLnNldFByb3BlcnR5KFxyXG4gICAgICAgICAgcHJvcGVydHksXHJcbiAgICAgICAgICB2YWx1ZS5yZXBsYWNlKC8gPyFpbXBvcnRhbnQkLywgJycpLFxyXG4gICAgICAgICAgLyFpbXBvcnRhbnQkLy50ZXN0KHZhbHVlKSA/ICdpbXBvcnRhbnQnIDogJydcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2N0eFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8Q3R4Q2FsbGJhY2t9IFtwcm9wZXJ0eV0gLSBJZiBwcmVzZW50IGFuZCBvYmplY3RcclxuICAgKiBpdCdzIGFzc2lnbmVkIHRvIHRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQsIGlmIGZ1bmN0aW9uXHJcbiAgICogaXQncyBjYWxsZWQgd2l0aCBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYXJndW1lbnQsIGlmIHN0cmluZ1xyXG4gICAqIHRoZSB2YWx1ZSBmcm9tIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgdXNlZCBmb3IgYXNzaWduaW5nXHJcbiAgICogdGhpcyBwcm9wZXJ0eSB0byBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYW5kIGlmIG5vdCBwcmVzZW50XHJcbiAgICogY2FudmFzIHJlbmRlcmluZyBjb250ZXh0IHJldHVybmVkLlxyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFNlZSB0aGUgcHJvcGVydHkgYXJndW1lbnQuXHJcbiAgICogQHJldHVybnMge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxFbGVtfVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgZmlyc3QgY2FudmFzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNhbnZhcy5jdHg7IC8vIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAqL1xyXG4gIGN0eChwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGxldCBjdHg7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIGN0eCA9IGVsZW0uZHdheW5lRGF0YS5jdHg7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkoY3R4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXNzaWduKGN0eCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2RhdGFcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsIFN0cmluZ3xFbGVtVmFsdWVDYWxsYmFjaz59IFtrZXldIC0gTmFtZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgKHdpdGhvdXQgZGF0YS0gcHJlZml4KVxyXG4gICAqIHRvIGdldCBvciBhbiBvYmplY3Qgb2YgdGhlIGZvcm1hdCB7IFthdHRyTmFtZV06IHZhbHVlLCAuLi4gfSB0byBzZXQgYXR0cmlidXRlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgYXR0cmlidXRlLlxyXG4gICAqIEByZXR1cm5zIHtTdXBlcnxTdHJpbmd8RWxlbX0gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCwgRC1XcmFwIG9mIGRhdGFzZXQgb2YgdGhlIGVsZW1lbnQgcmV0dXJuZWQsXHJcbiAgICogaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgcmV0dXJuZWQgb3RoZXJ3aXNlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nL3NldHRpbmcgZGF0YSBhdHRyaWJ1dGVzLiBTZWVcclxuICAgKiBbSFRNTEVsZW1lbnQjZGF0YXNldF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2RhdGFzZXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJywgJ3ZhbHVlJyk7IC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMScgYW5kIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJyk7ICAgICAgICAgIC8vICd2YWx1ZTEnXHJcbiAgICogZWxlbS5kYXRhKHtcclxuICAgKiAgIHNvbWVLZXkxOiAndmFsdWUzJywgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIHNvbWVLZXkyOiAndmFsdWUyJyAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MiBzZXQgdG8gJ3ZhbHVlMidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoKS4kOyAgICAgICAgICAgICAgICAgIC8vIHsgc29tZUtleTE6ICd2YWx1ZTMnLCBzb21lS2V5MjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGRhdGEoa2V5LCB2YWx1ZSkge1xyXG4gICAgY29uc3QgZGF0YXNldCA9IGdldEVsZW0odGhpcykuZGF0YXNldDtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdXBlcihkYXRhc2V0KS5vYmplY3QoKG8sIHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvW2tleV0gPSB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgaXNTdHJpbmcoa2V5KSkge1xyXG4gICAgICByZXR1cm4gZGF0YXNldFtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAga2V5ID0geyBba2V5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXRlcmF0ZShrZXksICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgZWxlbS5kYXRhc2V0W2tleV0gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlKGVsZW0uZGF0YXNldFtrZXldLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkYXRhVVJMXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt0eXBlID0gJ2ltYWdlL3BuZyddIC0gU2VlIHRoZSBsaW5rXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmNvZGVyT3B0aW9ucyA9IDAuOTJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IERhdGEgVVJMIGZvciB0aGUgZmlyc3QgY2FudmFzIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC90b0RhdGFVUkxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTENhbnZhc0VsZW1lbnQjdG9EYXRhVVJMXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvdG9EYXRhVVJMfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2FudmFzLmRhdGFVUkwoKTtcclxuICAgKi9cclxuICBkYXRhVVJMKHR5cGUsIGVuY29kZXJPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3R4LmNhbnZhcy50b0RhdGFVUkwuYXBwbHkoY3R4LmNhbnZhcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkZWxldGVSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlbGV0aW5nIGNzcyBzdHlsZXMgaW4gYSBzdHlsZSB0YWcuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuZGVsZXRlUnVsZSgnaW1nLXNpemUnKTtcclxuICAgKi9cclxuICBkZWxldGVSdWxlKG5hbWUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHJ1bGUgPSBuZXcgQXJyKGVsZW0uc2hlZXQuY3NzUnVsZXMpLmZpbmQoKHJ1bGUpID0+IHJ1bGUuZHdheW5lRGF0YSAmJiBydWxlLmR3YXluZURhdGEubmFtZSA9PT0gbmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChydWxlKSB7XHJcbiAgICAgICAgICBlbGVtLnNoZWV0LmRlbGV0ZVJ1bGUocnVsZS5rZXkpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZGlzcGF0Y2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RXZlbnR9IGV2ZW50IC0gRXZlbnQgb3IgYSBzdHJpbmcgKG5ldyBFdmVudChldmVudCkgaXMgY3JlYXRlZCkuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudEluaXQgPSB7fV0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZXZlbnRJbml0LmJ1YmJsZXMgPSB0cnVlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtldmVudEluaXQuY2FuY2VsYWJsZSA9IHRydWVdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZGV0YWlscyA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIGFzc2lnbmVkIHRvIHRoZSBldmVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0V2ZW50L0V2ZW50XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0V2ZW50VGFyZ2V0I2Rpc3BhdGNoRXZlbnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9kaXNwYXRjaEV2ZW50fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5kaXNwYXRjaCgnY2xpY2snKTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKCdjbGljaycsIHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGxhYmxlOiBmYWxzZSB9KTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKG5ldyBDdXN0b21FdmVudCgnY3VzdG9tLWV2ZW50JykpO1xyXG4gICAqL1xyXG4gIGRpc3BhdGNoKGV2ZW50LCBldmVudEluaXQgPSB7fSwgZGV0YWlscyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGJ1YmJsZXMgPSB0cnVlLCBjYW5jZWxhYmxlID0gdHJ1ZSB9ID0gZXZlbnRJbml0IHx8IHt9O1xyXG4gICAgbGV0IGZpbmFsRXZlbnQgPSBldmVudDtcclxuXHJcbiAgICBpZiAoIS9FdmVudCQvLnRlc3QodG9TdHJpbmdUYWcoZmluYWxFdmVudCkpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZmluYWxFdmVudCA9IG5ldyBFdmVudChmaW5hbEV2ZW50LCB7IGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGZpbmFsRXZlbnQgPSBuYXRpdmVEb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcclxuICAgICAgICBmaW5hbEV2ZW50LmluaXRFdmVudChldmVudCwgYnViYmxlcywgY2FuY2VsYWJsZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFzc2lnbihmaW5hbEV2ZW50LCBkZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmRpc3BhdGNoRXZlbnQoZmluYWxFdmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2VsZW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleCA9IDBdIC0gSW5kZXggb2YgdGhlIGVsZW1lbnQgb2YgdGhlIHNldCB0byBnZXQuIE5lZ2F0aXZlIGluZGV4IG1lYW5zIGVsZW0ubGVuZ3RoICsgaW5kZXguXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmVsZW0oMSk7IC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDFcclxuICAgKiBlbGVtLmVsZW0oKTsgIC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDBcclxuICAgKi9cclxuICBlbGVtKGluZGV4ID0gMCkge1xyXG4gICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICBpbmRleCA9IHRoaXMubGVuZ3RoICsgaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMuJFtpbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbHRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbnxFbGVtZW50W118RWxlbX0gW3NlbGVjdG9yID0gQm9vbGVhbl0gLSBJZiBpdCdzIGEgc3RyaW5nIHRoZSBtZXRob2QgZmlsdGVycyBlbGVtZW50cyB3aXRoIHRoZSBzZWxlY3RvclxyXG4gICAqIG90aGVyd2lzZSBzdXBlci5maWx0ZXIgaXMgY2FsbGVkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaWx0ZXJpbmcgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uZmlsdGVyKChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5jbG9zZXN0KCcucGFyZW50JykpO1xyXG4gICAqIGVsZW0uZmlsdGVyKGVsZW1zSW5BcnJheSk7XHJcbiAgICogZWxlbS5maWx0ZXIoZWxlbXNJbkVsZW0pO1xyXG4gICAqIGVsZW0uZmlsdGVyKCcuY2hpbGQnKTtcclxuICAgKi9cclxuICBmaWx0ZXIoc2VsZWN0b3IgPSBCb29sZWFuKSB7XHJcbiAgICByZXR1cm4gbmV3IEVsZW0oc3VwZXIuZmlsdGVyKGZpbHRlclN3aXRjaGVyKHNlbGVjdG9yKSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIC0gU2VsZWN0b3IgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7RWxlbXx7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IE5ldyBpbnN0YW5jZSBvZiBFbGVtIGlmIHNlbGVjdG9yIGlzIGEgc3RyaW5nXHJcbiAgICogb3RoZXJ3aXNlIHN1cGVyLmZpbmQgaXMgY2FsbGVkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtFbGVtZW50I3F1ZXJ5U2VsZWN0b3JBbGxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FbGVtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gICAqL1xyXG4gIGZpbmQoc2VsZWN0b3IpIHtcclxuICAgIGlmICghaXNTdHJpbmcoc2VsZWN0b3IpKSB7XHJcbiAgICAgIHJldHVybiBzdXBlci5maW5kKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChmaW5kKHNlbGVjdG9yLCBlbGVtKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNmaXJzdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGVsZW0uZWxlbSgwKS5cclxuICAgKi9cclxuICBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0oMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZmlyc3RDaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBmaXJzdCBjaGlsZCBpbiBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBmaXJzdCBjaGlsZHJlbiBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5maXJzdCgpOyAgICAgICAvLyBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5maXJzdCgnLmZvbycpOyAvLyBmaW5kIGZpcnN0IGNoaWxkIHRoYXQgaGFzIGZvbyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGZpcnN0Q2hpbGQoc2VsZWN0b3IgPSBudWxsKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgdmFsdWU6IGZvdW5kIH0gPSBuZXcgRWxlbShlbGVtKVxyXG4gICAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZm9jdXNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2ZvY3VzXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0hUTUxFbGVtZW50I2ZvY3VzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvZm9jdXN9LlxyXG4gICAqL1xyXG4gIGZvY3VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5mb2N1cygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNnZXRSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7eyBzZWxlY3RvcjogKFN0cmluZ3x2b2lkKSwgcnVsZXM6IE9iamVjdCB9fSBTZXQgb2YgdGhlIGNzcyBydWxlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHNldCBvZiB0aGUgcnVsZXMgdW5kZXIgdGhlIG5hbWUuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuYWRkUnVsZSgnaW1nLXNpemUnLCAnaW1nLnNxdWFyZScsIHtcclxuICAgKiAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4J1xyXG4gICAqIH0pO1xyXG4gICAqIHN0eWxlLmdldFJ1bGUoJ2ltZy1zaXplJyk7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgc2VsZWN0b3I6ICdpbWcuc3F1YXJlJyxcclxuICAgKiAvLyAgIHJ1bGVzOiB7XHJcbiAgICogLy8gICAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogLy8gICAgIGhlaWdodDogJzQwcHgnXHJcbiAgICogLy8gICB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGdldFJ1bGUobmFtZSkge1xyXG4gICAgbGV0IGZvdW5kID0ge1xyXG4gICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxyXG4gICAgICBydWxlczoge31cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgY29uc3QgeyB2YWx1ZTogcnVsZSB9ID0gbmV3IEFycihlbGVtLnNoZWV0LmNzc1J1bGVzKS5maW5kKChydWxlKSA9PiBydWxlLmR3YXluZURhdGEgJiYgcnVsZS5kd2F5bmVEYXRhLm5hbWUgPT09IG5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgICBpZiAocnVsZSkge1xyXG4gICAgICAgICAgZm91bmQgPSB7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiBydWxlLnNlbGVjdG9yVGV4dCxcclxuICAgICAgICAgICAgcnVsZXM6IG5ldyBFbGVtKHJ1bGUpLmNzcygpLiRcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZm91bmQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaGFzQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBoYXMgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgYXR0cmlidXRlIG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyJywgJ3ZhbHVlJykuaGFzQXR0cignYXR0cicpOyAvLyB0cnVlXHJcbiAgICogZWxlbS5yZW1vdmVBdHRyKCdhdHRyJykuaGFzQXR0cignYXR0cicpOyAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc0F0dHIoYXR0cikge1xyXG4gICAgY29uc3QgZWxlbSA9IGdldEVsZW0odGhpcyk7XHJcbiAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgIHJldHVybiBpc051bGwobnMpXHJcbiAgICAgID8gZWxlbS5oYXNBdHRyaWJ1dGUoYXR0cilcclxuICAgICAgOiBlbGVtLmhhc0F0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoYXNDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gTmFtZSBvZiB0aGUgY2xhc3MuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaGFzIHRoZSBjbGFzcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgY2xhc3Mgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7ICAgIC8vIHRydWVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaGFzQ2xhc3MoY2xzKSB7XHJcbiAgICByZXR1cm4gZ2V0RWxlbSh0aGlzKS5jbGFzc0xpc3QuY29udGFpbnMoY2xzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoZWlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbaGVpZ2h0XSAtIEhlaWdodCB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkIGhlaWdodCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaGVpZ2h0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIGhlaWdodCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIGhlaWdodC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5oZWlnaHQoMTIzKTtcclxuICAgKiBlbGVtLmhlaWdodCgpOyAvLyAxMjNcclxuICAgKi9cclxuICBoZWlnaHQoaGVpZ2h0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wLmFwcGx5KHRoaXMsIG5ldyBBcnIoYXJndW1lbnRzKS51bnNoaWZ0KCdoZWlnaHQnKS4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoaWRlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEhpZGVzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmhpZGUoKTtcclxuICAgKi9cclxuICBoaWRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50RGlzcGxheSA9IGVsZW0uY3NzKCdkaXNwbGF5Jyk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudERpc3BsYXkuaW5kZXhPZignbm9uZScpKSB7XHJcbiAgICAgICAgZWxlbS5wcm9wKCdkd2F5bmVEYXRhJykucHJldmlvdXNEaXNwbGF5ID0gY3VycmVudERpc3BsYXk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUgIWltcG9ydGFudCcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaHRtbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbaHRtbF0gLSBIVE1MIHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCBIVE1MLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBIVE1MIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyBIVE1MIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaHRtbCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIEhUTUwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaHRtbCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICogZWxlbS5odG1sKCk7IC8vICc8ZGl2PjE8L2Rpdj4nXHJcbiAgICovXHJcbiAgaHRtbChodG1sKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGdldEVsZW0odGhpcykuaW5uZXJIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmlubmVySFRNTCA9IGlzRnVuY3Rpb24oaHRtbCkgPyBodG1sKGVsZW0uaW5uZXJIVE1MLCBlbGVtLCBpbmRleCkgOiBodG1sO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBbaWRdIC0gSWQgdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBpZCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaWRzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaWQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgaWQgb3Igc2V0cyBpZHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaWQoJ3VuaXF1ZScpO1xyXG4gICAqIGVsZW0uaWQoKTsgLy8gJ3VuaXF1ZSdcclxuICAgKi9cclxuICBpZChpZCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaWQgPSBpZDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJIZWlnaHRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gR2V0dGVyIGZvciBmaW5kaW5nIGhvdyBtdWNoIGhlaWdodCBjb250ZW50IG9mIHRoZSBmaXJzdCBlbGVtZW50IGNhbiBiZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jc3Moe1xyXG4gICAqICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXHJcbiAgICogICBoZWlnaHQ6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nVG9wOiAnMnB4JyxcclxuICAgKiAgIHBhZGRpbmdCb3R0b206ICczcHgnLFxyXG4gICAqICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkIGJsYWNrJyxcclxuICAgKiAgIGJvcmRlckJvdHRvbTogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lckhlaWdodDsgLy8gMTkwXHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAuaW5uZXJIZWlnaHQ7IC8vIDIwMFxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLmlubmVySGVpZ2h0OyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5pbm5lckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIHBhZGRpbmdUb3AsXHJcbiAgICAgIHBhZGRpbmdCb3R0b21cclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJUb3BXaWR0aCkgKyBweChib3JkZXJCb3R0b21XaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdUb3ApICsgcHgocGFkZGluZ0JvdHRvbSk7XHJcblxyXG4gICAgcmV0dXJuIHB4KGhlaWdodCkgLSBpbm5lclN3aXRjaGVyKGJveFNpemluZywgW3BhZGRpbmdzLCBib3JkZXJzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggY29udGVudCBvZiB0aGUgZmlyc3QgZWxlbWVudCBjYW4gYmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lcldpZHRoOyAvLyAxOTBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ2NvbnRlbnQtYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAyMDBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ3BhZGRpbmctYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJXaWR0aCgpIHtcclxuICAgIGNvbnN0IGVsZW0gPSB0aGlzLiRbMF07XHJcblxyXG4gICAgaWYgKGlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAgIHJldHVybiBlbGVtLmlubmVyV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBib3JkZXJMZWZ0V2lkdGgsXHJcbiAgICAgIGJvcmRlclJpZ2h0V2lkdGgsXHJcbiAgICAgIGJveFNpemluZyxcclxuICAgICAgcGFkZGluZ0xlZnQsXHJcbiAgICAgIHBhZGRpbmdSaWdodCxcclxuICAgICAgd2lkdGhcclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJMZWZ0V2lkdGgpICsgcHgoYm9yZGVyUmlnaHRXaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdMZWZ0KSArIHB4KHBhZGRpbmdSaWdodCk7XHJcblxyXG4gICAgcmV0dXJuIHB4KHdpZHRoKSAtIGlubmVyU3dpdGNoZXIoYm94U2l6aW5nLCBbcGFkZGluZ3MsIGJvcmRlcnNdKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnNlcnRBZnRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGluc2VydCB0aGlzIGVsZW1lbnQgYWZ0ZXIgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYWZ0ZXIgdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudC5cclxuICAgKiBUaGUgZWxlbWVudHMgcmVtYWluIGluIHRoZSBzYW1lIG9yZGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGVsZW0yKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW5zZXJ0QWZ0ZXIoZWxlbWVudCkge1xyXG4gICAgZWxlbWVudCA9IHRvRmluZChlbGVtZW50KS5maXJzdCgpO1xyXG5cclxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xyXG5cclxuICAgIGlmICghcGFyZW50Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0KCkuJFswXTtcclxuICAgIHBhcmVudCA9IHBhcmVudC4kWzBdO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW0sIGVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaW5zZXJ0QmVmb3JlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gaW5zZXJ0IHRoaXMgZWxlbWVudCBiZWZvcmUgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYmVmb3JlIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQuXHJcbiAgICogVGhlIGVsZW1lbnRzIHJlbWFpbiBpbiB0aGUgc2FtZSBvcmRlci5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5pbnNlcnRCZWZvcmUoZWxlbTIpO1xyXG4gICAqIGVsZW0uaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEJlZm9yZSgnI2lkIGRpdi5jMScpO1xyXG4gICAqL1xyXG4gIGluc2VydEJlZm9yZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLmZpcnN0KCk7XHJcblxyXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XHJcblxyXG4gICAgaWYgKCFwYXJlbnQubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQgPSBlbGVtZW50LiRbMF07XHJcbiAgICBwYXJlbnQgPSBwYXJlbnQuJFswXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnRvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gcHV0IHRoaXMgZWxlbWVudHMgaW50byBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIC0gSWYgdGhlIGVsZW1lbnRzIHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSB0aGV5IGFyZSBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmludG8oZWxlbTIpO1xyXG4gICAqIGVsZW0uaW50byhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5pbnRvKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW50byhlbGVtZW50LCBlbmQgPSB0cnVlKSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLiRbMF07XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAhZWxlbWVudCB8fFxyXG4gICAgICBpc1dpbmRvdyhlbGVtZW50KSB8fFxyXG4gICAgICBpc0hUTUxEb2N1bWVudChlbGVtZW50KSB8fFxyXG4gICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudClcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAuc2xpY2UoKVxyXG4gICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cclxuICAgKiBJZiB0aGUgc2VsZWN0b3IgaXMgdW5kZWZpbmVkIG9yIG51bGwgYWx3YXlzIHJldHVybnMgdHJ1ZS4gSWYgaXQncyBub3QgZm9yIG5vdCBlbGVtZW50c1xyXG4gICAqIGVudHJpZXMgcmV0dXJucyBmYWxzZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRWxlbWVudCNtYXRjaGVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvRWxlbWVudC9tYXRjaGVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRDbGFzcygnY2xzJyk7XHJcbiAgICogZWxlbS5pcygnLmNscycpOyAgICAgICAgIC8vIHRydWVcclxuICAgKlxyXG4gICAqIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NscycpO1xyXG4gICAqIGVsZW0uaXMoJy5jbHMnKTsgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGlzKHNlbGVjdG9yKSB7XHJcbiAgICBpZiAoaXNOdWxsKHNlbGVjdG9yKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtID0gZ2V0RWxlbSh0aGlzKTtcclxuICAgIGNvbnN0IG1hdGNoZXMgPSAoXHJcbiAgICAgIGVsZW0ubWF0Y2hlcyB8fFxyXG4gICAgICBlbGVtLm1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgIGVsZW0ub01hdGNoZXNTZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIWlzRWxlbWVudCh0aGlzLiRbMF0pKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBTZWxlY3RvciAnJHsgc2VsZWN0b3IgfScgaXMgbm90IGEgdmFsaWQgc2VsZWN0b3IgKEVsZW0jaXMpYCk7XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaXNCcm9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBpbWFnZSBpbiB0aGUgc2V0IGlzIGJyb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGlzIGJyb2tlbi4gTm90IGltYWdlIGFuZCBub3QgbG9hZGVkIGltYWdlIGlzIGNvbnNpZGVyZWQgcHJvcGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBpbWcgPSBlbGVtLmltZygpLm9uKHtcclxuICAgKiAgICdsb2FkJzogb25sb2FkLFxyXG4gICAqICAgJ2Vycm9yJzogb25sb2FkXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBvbmxvYWQgPSAoKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhpbWcuaXNCcm9rZW4oKSk7IC8vIHRydWVcclxuICAgKiB9O1xyXG4gICAqXHJcbiAgICogaW1nLnJlZignL3NvbWUvbm9uLWV4aXN0ZW50L3NpdGUvbm90LWZvdW5kLnBuZycpO1xyXG4gICAqL1xyXG4gIGlzQnJva2VuKCkge1xyXG4gICAgbGV0IGlzQnJva2VuID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnaW1nJykge1xyXG4gICAgICAgIGlzQnJva2VuID0gISEoZWxlbS5jb21wbGV0ZSAmJiAoIWVsZW0ubmF0dXJhbFdpZHRoIHx8ICFlbGVtLm5hdHVyYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0Jyb2tlbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1dpdGhpbkRvY3VtZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXMgd2l0aGluIHRoZSBkb2N1bWVudCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBpcyB3aXRoaW4gdGhlIGRvY3VtZW50IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEVsZW0oZG9jdW1lbnQuYm9keSkuaXNXaXRoaW5Eb2N1bWVudCgpOyAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBFbGVtKGRvY3VtZW50KS5kaXYoKS5pc1dpdGhpbkRvY3VtZW50KCk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNXaXRoaW5Eb2N1bWVudCgpIHtcclxuICAgIHJldHVybiB0aGlzLmZpcnN0KCkuY2xvc2VzdCgnaHRtbCcpLmxlbmd0aCAhPT0gMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNsYXN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgZWxlbS5lbGVtKC0xKS5cclxuICAgKi9cclxuICBsYXN0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbSgtMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbGFzdENoaWxkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VsZWN0b3IgPSBudWxsXSAtIElmIHByZXNlbnQsIGZpbmRzIGxhc3QgY2hpbGQgaW4gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBsYXN0IGNoaWxkcmVuIG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmxhc3QoKTsgICAgICAgLy8gZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5sYXN0KCcuZm9vJyk7IC8vIGZpbmQgbGFzdCBjaGlsZCB0aGF0IGhhcyAnZm9vJyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGxhc3RDaGlsZChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgeyB2YWx1ZTogZm91bmQgfSA9IG5ldyBFbGVtKGVsZW0pXHJcbiAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbG9hZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48eyBwcm9wZXI6IEVsZW0sIGJyb2tlbjogRWxlbSB9Pn0gUHJvbWlzZSB3aXRoIGJyb2tlbiBhbmQgcHJvcGVyIGltYWdlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9hZHMgZWFjaCBpbWFnZSBpbiB0aGUgc2V0IGFuZCBwdXRzIGl0IHRvIHRoZSBwcm9wZXIgb3IgYnJva2VuIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBpbWFnZXMubG9hZCgpLnRoZW4oKHsgYnJva2VuIH0pID0+IHtcclxuICAgKiAgIGJyb2tlbi5maWx0ZXIoJ2ltZycpLnJlZignL2ZhbGxiYWNrLnBuZycpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGxvYWQoKSB7XHJcbiAgICBjb25zdCBpbWFnZXMgPSB7XHJcbiAgICAgIHByb3BlcjogbmV3IEVsZW0oKSxcclxuICAgICAgYnJva2VuOiBuZXcgRWxlbSgpXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChcclxuICAgICAgdGhpc1xyXG4gICAgICAgIC5maWx0ZXIoKGVsZW0pID0+IGdldE5hbWUoZWxlbSkgPT09ICdpbWcnKVxyXG4gICAgICAgIC5tYXAoKGVsZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0ICRlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICAgICAgaWYgKGVsZW0uY29tcGxldGUpIHtcclxuICAgICAgICAgICAgaW1hZ2VzWyRlbGVtLmlzQnJva2VuKCkgPyAnYnJva2VuJyA6ICdwcm9wZXInXS5wdXNoKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lcnMgPSAkZWxlbS5vbih7XHJcbiAgICAgICAgICAgICAgbG9hZCgpIHtcclxuICAgICAgICAgICAgICAgIGltYWdlcy5wcm9wZXIuYWRkKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZXJyb3IoKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZXMuYnJva2VuLmFkZChlbGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuJFxyXG4gICAgKS50aGVuKCgpID0+IGltYWdlcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbW92ZUF0dHJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgLSBBdHRyaWJ1dGUgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ZhbHVlID0gJyddIC0gVmFsdWUgdG8gc2V0IGZvciB0aGUgYXR0cmlidXRlLiBJZiBub3Qgc2V0IGF0dHJpYnV0ZSBvZiB0aGUgcHJldmlvdXMgZWxlbWVudCBvciAnJyB1c2VkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgbW92aW5nIGFuIGF0dHJpYnV0ZSBmcm9tIHByZXZpb3VzIGVsZW1lbnQgdG8gdGhlIG5leHQgb25lIChmaXJzdCBlbGVtZW50IGluIHRoaXMgc2V0KS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEubW92ZUF0dHIoJ2F0dHInLCAndmFsdWUnKTsgICAgIC8vIGF0dHJpYnV0ZSAnYXR0cicgc2V0IHRvICd2YWx1ZScgb24gZWxlbTFcclxuICAgKiBlbGVtMi5tb3ZlQXR0cignYXR0cicpOyAgICAgICAgICAgICAgLy8gYXR0cmlidXRlICdhdHRyJyByZW1vdmVkIGZyb20gZWxlbTEuIHNldCB0byAndmFsdWUnIG9uIGVsZW0yXHJcbiAgICogZWxlbTMubW92ZUF0dHIoJ2F0dHInLCAnbmV3IHZhbHVlJyk7IC8vIGF0dHJpYnV0ZSAnYXR0cicgcmVtb3ZlZCBmcm9tIGVsZW0yLiBzZXQgdG8gJ25ldyB2YWx1ZScgb24gZWxlbTNcclxuICAgKi9cclxuICBtb3ZlQXR0cihhdHRyLCB2YWx1ZSA9ICcnKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gYXR0cnNbYXR0cl07XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy5lbGVtKCk7XHJcblxyXG4gICAgaWYgKHByZXYgJiYgZWxlbS5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgdmFsdWUgPSBwcmV2LmF0dHIoYXR0cik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHByZXYucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgYXR0cnNbYXR0cl0gPSBlbGVtLmF0dHIoYXR0ciwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI21vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIG1vdmluZyBhIGNsYXNzIGZyb20gcHJldmlvdXMgZWxlbWVudCB0byB0aGUgbmV4dCBvbmUgKGZpcnN0IGVsZW1lbnQgaW4gdGhpcyBzZXQpLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtMS5tb3ZlQ2xhc3MoJ2NscycpOyAvLyBjbGFzcyAnY2xzJyBhZGRlZCB0byBlbGVtMVxyXG4gICAqIGVsZW0yLm1vdmVDbGFzcygnY2xzJyk7IC8vIGNsYXNzICdjbHMnIHJlbW92ZWQgZnJvbSBlbGVtMS4gYWRkZWQgdG8gZWxlbTFcclxuICAgKi9cclxuICBtb3ZlQ2xhc3MoY2xzKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY2xhc3Nlc1tjbHNdO1xyXG4gICAgY29uc3QgZWxlbSA9IHRoaXMuZWxlbSgpO1xyXG5cclxuICAgIGlmIChwcmV2ICYmIGVsZW0ubGVuZ3RoKSB7XHJcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoY2xzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgY2xhc3Nlc1tjbHNdID0gZWxlbS5hZGRDbGFzcyhjbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7U3RyaW5nfSBFbGVtI25hbWVcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gbm9kZU5hbWUgKGxvd2VyY2FzZWQpIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGVsZW0xID0gZWxlbS5jcmVhdGUoJ2RpdicpO1xyXG4gICAqIGVsZW0xLm5hbWUgLy8gJ2RpdidcclxuICAgKi9cclxuICBnZXQgbmFtZSgpIHtcclxuICAgIHJldHVybiBnZXROYW1lKHRoaXMuJFswXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbmV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbmV4dCBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5uZXh0KCk7ICAgICAgIC8vIGZpbmRzIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqIGVsZW0ubmV4dCgnLmZvbycpOyAvLyBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgbmV4dChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5uZXh0U2libGluZykge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNvZmZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5FbGVtRXZlbnRTdHJpbmd9IGV2ZW50cyAtIEV2ZW50cyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmVtb3ZlcyBhbGwgdGhlIGxpc3RlbmVycyBmcm9tIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHNwZWNpZmllZCBieSB0aGUgZXZlbnRzIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrJyk7XHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrLCBpbnB1dCcpO1xyXG4gICAqIGVsZW0ub2ZmKCdjbGljaywgaW5wdXQnLCAnZm9jdXMnKTtcclxuICAgKi9cclxuICBvZmYoLi4uZXZlbnRzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSBlbGVtLmR3YXluZURhdGE7XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaXRlcmF0ZShldmVudC5zcGxpdChldmVudFNlcGFyYXRvciksIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgKGxpc3RlbmVyc1tldmVudF0gfHwgbmV3IFN1cGVyKCkpLmZvckVhY2goKHsgcmVtb3ZlTGlzdGVuZXIgfSkgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtFbGVtRXZlbnRTdHJpbmd8T2JqZWN0LjxFbGVtRXZlbnRTdHJpbmd8RWxlbUxpc3RlbmVyPn0gZXZlbnQgLSBFaXRoZXIgYSB7QGxpbmsgRWxlbUV2ZW50U3RyaW5nfSBzdHJpbmdcclxuICAgKiBvciBhbiBvYmplY3Qgd2l0aCBldmVudCBrZXlzIChhIGtleSBpcyBhbHNvIEVsZW1FdmVudFN0cmluZykgYW5kIGxpc3RlbmVycyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gU2VsZWN0b3IgdG8gZmlsdGVyIGV2ZW50IHRhcmdldHMuXHJcbiAgICogQHBhcmFtIHtFbGVtTGlzdGVuZXJ9IFtsaXN0ZW5lcl0gLSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBzdHJpbmcgaXQgbXVzdCBiZSBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZvclxyXG4gICAqIHNwZWNpZmllZCBldmVudChzKS5cclxuICAgKiBAcmV0dXJucyB7RWxlbVJlbW92ZUxpc3RlbmVyc30gRnVuY3Rpb24gdGhhdCB0YWtlcyBvcHRpb25hbCBldmVudCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gQWRkcyBldmVudCBsaXN0ZW5lcnMgZm9yIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBGb3IgZGVidWdnaW5nOiBJZiB5b3UgbmVlZCB0byBrbm93IHdoYXQgbGlzdGVuZXJzIGFyZSBpbiB3b3JrIChhbmQgd2hhdCBzZWxlY3RvcnMgZmlsdGVyIHRhcmdldHMpXHJcbiAgICogeW91IGNhbiBsb29rIGF0IHRoZSBiYXNlIHByb3BlcnR5IG9mIHRoZSBvbmx5IGR3YXluZSBsaXN0ZW5lciB0aGF0IGxpc3RlbnMgZm9yIHRoZSBldmVudFxyXG4gICAqIGFuZCBmaW5kIGFsbCB3b3JraW5nIGxpc3RlbmVycyBpbiBsaXN0ZW5lci5iYXNlLmR3YXluZURhdGEubGlzdGVuZXJzW2V2ZW50XS4kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLm9uKFxyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnLFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnLFxyXG4gICAqICAgKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKVxyXG4gICAqICk7XHJcbiAgICogZWxlbS5vbihcclxuICAgKiAgICdjaGFuZ2UsIGlucHV0JyxcclxuICAgKiAgIChlLCBlbGVtLCBpbmRleCkgPT4gY29uc29sZS5sb2coZWxlbS52YWx1ZSlcclxuICAgKiApO1xyXG4gICAqIGVsZW0ub24oXHJcbiAgICogICB7XHJcbiAgICogICAgICdjaGFuZ2UsIGlucHV0JzogKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKSxcclxuICAgKiAgICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogICB9LFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnXHJcbiAgICogKTtcclxuICAgKlxyXG4gICAqIGNvbnN0IHJlbW92ZUxpc3RlbmVycyA9IGVsZW0ub24oe1xyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnOiAoZSwgZWxlbSwgaW5kZXgpID0+IGNvbnNvbGUubG9nKGVsZW0udmFsdWUpLFxyXG4gICAqICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2NsaWNrJyk7XHJcbiAgICogcmVtb3ZlTGlzdGVuZXJzKCdibHVyLCBjaGFuZ2UnKTtcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2JsdXIsIGNoYW5nZScsICdpbnB1dCcpO1xyXG4gICAqIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAqL1xyXG4gIG9uKGV2ZW50LCBzZWxlY3RvciA9IG51bGwsIGxpc3RlbmVyKSB7XHJcbiAgICBjb25zdCBhbGxMaXN0ZW5lcnMgPSBuZXcgU3VwZXIoe30pO1xyXG5cclxuICAgIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xyXG4gICAgICBsaXN0ZW5lciA9IHNlbGVjdG9yO1xyXG4gICAgICBzZWxlY3RvciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU3RyaW5nKGV2ZW50KSkge1xyXG4gICAgICBldmVudCA9IHsgW2V2ZW50XTogbGlzdGVuZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudCA9IG5ldyBTdXBlcihldmVudCkub2JqZWN0KChsaXN0ZW5lcnMsIGxpc3RlbmVyLCBldmVudCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKGV2ZW50LnNwbGl0KGV2ZW50U2VwYXJhdG9yKSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IGxpc3RlbmVyO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSAmJiAhaXNXaW5kb3coZWxlbSkgJiYgIWlzSFRNTERvY3VtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gKHdpbmRvd3NEd2F5bmVEYXRhLmZpbmQoKHsgZWxlbWVudCB9KSA9PiBlbGVtZW50ID09PSBlbGVtKSB8fCB7fSkudmFsdWUgfHwgZWxlbS5kd2F5bmVEYXRhO1xyXG5cclxuICAgICAgZXZlbnQuZm9yRWFjaCgobGlzdGVuZXIsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnNbZXZlbnRdID0gbGlzdGVuZXJzW2V2ZW50XSB8fCBuZXcgU3VwZXIoe30pLmRlZmluZSgnaW5kZXgnLCB7XHJcbiAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSByZW1vdmVFdmVudExpc3RlbmVycy5wcm9wKCdpbmRleCcpO1xyXG5cclxuICAgICAgICBpZiAoIXJlbW92ZUV2ZW50TGlzdGVuZXJzLmhhcygnbGlzdGVuZXInKSkge1xyXG4gICAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5mb3JFYWNoKCh7IHNlbGVjdG9yLCBsaXN0ZW5lciB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKG5ldyBFbGVtKGUudGFyZ2V0KS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwoZWxlbSwgZSwgZWxlbSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIG5ld0xpc3RlbmVyLmJhc2UgPSBlbGVtO1xyXG5cclxuICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbmV3TGlzdGVuZXIsIGZhbHNlKTtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlZmluZSgnbGlzdGVuZXInLCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXdMaXN0ZW5lcixcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlbGV0ZShpbmRleCk7XHJcblxyXG4gICAgICAgICAgaWYgKCFyZW1vdmVFdmVudExpc3RlbmVycy5jb3VudCkge1xyXG4gICAgICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHJlbW92ZUV2ZW50TGlzdGVuZXJzLnByb3AoJ2xpc3RlbmVyJyksIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMuZGVsZXRlKCdsaXN0ZW5lcicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFsbExpc3RlbmVycy5wcm9wKGV2ZW50LCAoYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpIHx8IG5ldyBBcnIoKSkucHVzaChyZW1vdmVMaXN0ZW5lcikpO1xyXG5cclxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5hc3NpZ24oe1xyXG4gICAgICAgICAgaW5kZXg6IGluZGV4ICsgMSxcclxuICAgICAgICAgIFtpbmRleF06IHtcclxuICAgICAgICAgICAgc2VsZWN0b3IsXHJcbiAgICAgICAgICAgIGxpc3RlbmVyLFxyXG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lclxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhldmVudCkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGl0ZXJhdGUoZXZlbnQuc3BsaXQoZXZlbnRTZXBhcmF0b3IpLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFsbExpc3RlbmVycy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpLmZvckVhY2goKHJlbW92ZUxpc3RlbmVyKSA9PiByZW1vdmVMaXN0ZW5lcigpKTtcclxuICAgICAgICAgICAgICBhbGxMaXN0ZW5lcnMuZGVsZXRlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxsTGlzdGVuZXJzLmZvckVhY2goKHJlbW92ZUxpc3RlbmVycykgPT4ge1xyXG4gICAgICAgIHJlbW92ZUxpc3RlbmVycy5mb3JFYWNoKChyZW1vdmVMaXN0ZW5lcikgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRWxlbSNvdXRlckhlaWdodFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggaGVpZ2h0IHRoZSBlbGVtZW50IGFjdHVhbGx5IGlzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcclxuICAgKiAgIGhlaWdodDogJzIwMHB4JyxcclxuICAgKiAgIHBhZGRpbmdUb3A6ICcycHgnLFxyXG4gICAqICAgcGFkZGluZ0JvdHRvbTogJzNweCcsXHJcbiAgICogICBib3JkZXJUb3A6ICcxcHggc29saWQgYmxhY2snLFxyXG4gICAqICAgYm9yZGVyQm90dG9tOiAnNHB4IHNvbGlkIGJsYWNrJ1xyXG4gICAqICAgbWFyZ2luVG9wOiAnMHB4JyxcclxuICAgKiAgIG1hcmdpbkJvdHRvbTogJzVweCdcclxuICAgKiB9KS5vdXRlckhlaWdodDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJIZWlnaHQ7IC8vIDIxNVxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLm91dGVySGVpZ2h0OyAvLyAyMTBcclxuICAgKi9cclxuICBnZXQgb3V0ZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIG1hcmdpblRvcCxcclxuICAgICAgbWFyZ2luQm90dG9tLFxyXG4gICAgICBwYWRkaW5nVG9wLFxyXG4gICAgICBwYWRkaW5nQm90dG9tXHJcbiAgICB9ID0gdGhpcy5jYWxjQ1NTKCk7XHJcbiAgICBjb25zdCBib3JkZXJzID0gcHgoYm9yZGVyVG9wV2lkdGgpICsgcHgoYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgY29uc3QgcGFkZGluZ3MgPSBweChwYWRkaW5nVG9wKSArIHB4KHBhZGRpbmdCb3R0b20pO1xyXG5cclxuICAgIHJldHVybiBweChoZWlnaHQpICsgcHgobWFyZ2luVG9wKSArIHB4KG1hcmdpbkJvdHRvbSkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jb3V0ZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggdGhlIGVsZW1lbnQgYWN0dWFsbHkgaXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiAgIG1hcmdpbkxlZnQ6ICcwcHgnLFxyXG4gICAqICAgbWFyZ2luUmlnaHQ6ICc1cHgnXHJcbiAgICogfSkub3V0ZXJXaWR0aDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjE1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdwYWRkaW5nLWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjEwXHJcbiAgICovXHJcbiAgZ2V0IG91dGVyV2lkdGgoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlcldpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgYm9yZGVyTGVmdFdpZHRoLFxyXG4gICAgICBib3JkZXJSaWdodFdpZHRoLFxyXG4gICAgICBib3hTaXppbmcsXHJcbiAgICAgIG1hcmdpbkxlZnQsXHJcbiAgICAgIG1hcmdpblJpZ2h0LFxyXG4gICAgICBwYWRkaW5nTGVmdCxcclxuICAgICAgcGFkZGluZ1JpZ2h0LFxyXG4gICAgICB3aWR0aFxyXG4gICAgfSA9IHRoaXMuY2FsY0NTUygpO1xyXG4gICAgY29uc3QgYm9yZGVycyA9IHB4KGJvcmRlckxlZnRXaWR0aCkgKyBweChib3JkZXJSaWdodFdpZHRoKTtcclxuICAgIGNvbnN0IHBhZGRpbmdzID0gcHgocGFkZGluZ0xlZnQpICsgcHgocGFkZGluZ1JpZ2h0KTtcclxuXHJcbiAgICByZXR1cm4gcHgod2lkdGgpICsgcHgobWFyZ2luTGVmdCkgKyBweChtYXJnaW5SaWdodCkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcGFyZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHJldHVybnMgd3JhcCBvZiB0aGUgc2V0IG9mIHRoZSBwYXJlbnQgZWxlbWVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICovXHJcbiAgcGFyZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4gZWxlbXMuYWRkKGVsZW0ucGFyZW50Tm9kZSksIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3BhcmVudFRyZWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHdyYXAgb2YgYWxsIHBhcmVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ucGFyZW50VHJlZSgpOyAvLyBFbGVtXHJcbiAgICovXHJcbiAgcGFyZW50VHJlZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgd2hpbGUgKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpIHtcclxuICAgICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgIH1cclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3ByZXZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gSWYgcHJlc2VudCwgZmluZHMgcHJldmlvdXMgZWxlbWVudCB0byBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ubmV4dCgpOyAgICAgICAvLyBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogZWxlbS5uZXh0KCcuZm9vJyk7IC8vIGZpbmRzIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgcHJldihzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5wcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgICBpZiAobmV3IEVsZW0oZWxlbSkuaXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZWxlbXMuYWRkKGVsZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcHJvcFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRWxlbVZhbHVlQ2FsbGJhY2t8Kj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gYXNzaWduZWQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7RWxlbVZhbHVlQ2FsbGJhY2t8Kn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nXHJcbiAgICogdGhpcyBoYXMgdG8gYmUgYW4gYXNzaWduZWQgdmFsdWUgaWYgaXQncyBwcmVzZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfCp9IFJldHVybnMgdGhpcyBpZiBpdCdzIHNldHRlciBvciBhIHZhbHVlIGlmIGdldHRlci5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgaXMgZWl0aGVyIGEgcHJvcGVydHkgZ2V0dGVyIGZvciB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogb3IgYSBzZXR0ZXIgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnLCBmYWxzZSk7XHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBwcm9wKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJFswXSA/IHRoaXMuJFswXVtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKHByb3BlcnR5LCAodmFsdWUsIHByb3ApID0+IHtcclxuICAgICAgICBlbGVtW3Byb3BdID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZShlbGVtW3Byb3BdLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZWZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2t9IFtsaW5rXSAtIElmIGl0J3MgcHJlc2VudCBsaW5rIHRvIGEgcmVzb3VyY2UuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiB0aGUgbGluayBhcmd1bWVudCBpc24ndCBwcmVzZW50IGl0J3MgYSBnZXR0ZXIgb2YgdGhlICdzcmMnIGF0dHJpYnV0ZVxyXG4gICAqIGZvciB0aGUgb25lIG9mIGZvbGxvd2luZyBlbGVtZW50czogaW1nLCBzY3JpcHQsIGlmcmFtZSwgYXVkaW8sIHZpZGVvOyBvZiB0aGUgJ2FjdGlvbicgYXR0cmlidXRlXHJcbiAgICogZm9yIGEgZm9ybSBlbGVtZW50IGFuZCBvZiB0aGUgJ2hyZWYnIGF0dHJpYnV0ZSBmb3IgdGhlIHJlc3QuIElmIGl0J3MgcHJlc2VudCBpdCdzIGEgc2V0dGVyXHJcbiAgICogb2YgdGhlIHNhbWUgYXR0cmlidXRlIGZvciBhbGwgdGhlIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHJlc291cmNlcyBsaW5rcyBhbmQgc2V0dGluZyB0aGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlZignL3NvbWUvY29vbC9pbWFnZS5wbmcnKTtcclxuICAgKiBlbGVtLnJlZigpOyAvLyAnL3NvbWUvY29vbC9pbWFnZS5wbmcnXHJcbiAgICovXHJcbiAgcmVmKGxpbmspIHtcclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKHJlZlN3aXRjaGVyKHRoaXMubmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZWxlbSA9IG5ldyBFbGVtKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbS5hdHRyKHJlZlN3aXRjaGVyKGVsZW0ubmFtZSksIGxpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgZnJvbSB0aGUgZG9jdW1lbnQuXHJcbiAgICogTm90ZTogaXQgZG9lc24ndCByZW1vdmUgdGhlbSBmcm9tIHRoZSBzZXQgc28gd2F0Y2ggb3V0IGZvciB0aGUgbWVtb3J5IGxlYWtzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZSgpO1xyXG4gICAqL1xyXG4gIHJlbW92ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXR0cmlidXRlcyAtIEF0dHJpYnV0ZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBhdHRyaWJ1dGVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUF0dHIoJ2ZvbycsICdiYXInLCAnYmF6Jyk7XHJcbiAgICovXHJcbiAgcmVtb3ZlQXR0ciguLi5hdHRyaWJ1dGVzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGF0dHIpID0+IHtcclxuICAgICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlTlMobnMsIGF0dHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZW1vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gY2xhc3NlcyAtIENsYXNzZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBjbGFzc2VzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdmb28nLCAnYmFyJywgJ2JheicpO1xyXG4gICAqL1xyXG4gIHJlbW92ZUNsYXNzKC4uLmNsYXNzZXMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgbGlzdCA9IGVsZW0uY2xhc3NMaXN0O1xyXG5cclxuICAgICAgaXRlcmF0ZShpc0VsZW1lbnQoZWxlbSkgJiYgYXJndW1lbnRzLCAoY2xzKSA9PiBsaXN0LnJlbW92ZShjbHMpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlbW92ZUNTU1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gcHJvcHMgLSBDU1MgcHJvcGVydGllcyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBhbGwgdGhlIENTUyBwcm9wZXJ0aWVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNTUygnZGlzcGxheScsICdwb3NpdGlvbicsICdtYXJnaW4nKTtcclxuICAgKi9cclxuICByZW1vdmVDU1MoLi4ucHJvcHMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoY3NzKSA9PiB7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShjc3MpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlcGxhY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbXxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byByZXBsYWNlIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiB3aXRoIGEgc2V0IG9mIGVsZW1lbnRzIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQgKEVsZW1lbnQsIHNldCBvZiBlbGVtZW50cyBvciBhIHNlbGVjdG9yIG9mIHRoZW0pLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBpcyBzaW1pbGFyIHRvXHJcbiAgICogW05vZGUjcmVwbGFjZUNoaWxkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9yZXBsYWNlQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlcGxhY2UoZWxlbTIpO1xyXG4gICAqIGVsZW0ucmVwbGFjZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5yZXBsYWNlKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgcmVwbGFjZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZmlyc3QoKS5wYXJlbnQoKTtcclxuXHJcbiAgICBpZiAoIXBhcmVudC5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGVsZW0gPSBwYXJlbnQ7XHJcbiAgICBsZXQgbWV0aG9kID0gJ2ludG8nO1xyXG4gICAgY29uc3QgbmV4dCA9IHRoaXMubmV4dCgpLmZpcnN0KCkuJFswXTtcclxuICAgIGNvbnN0IHByZXYgPSB0aGlzLnByZXYoKS5maXJzdCgpLiRbMF07XHJcblxyXG4gICAgaWYgKG5leHQpIHtcclxuICAgICAgZWxlbSA9IG5leHQ7XHJcbiAgICAgIG1ldGhvZCA9ICdpbnNlcnRCZWZvcmUnO1xyXG4gICAgfSBlbHNlIGlmIChwcmV2KSB7XHJcbiAgICAgIGVsZW0gPSBwcmV2O1xyXG4gICAgICBtZXRob2QgPSAnaW5zZXJ0QWZ0ZXInO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmlyc3QoKS5yZW1vdmUoKTtcclxuXHJcbiAgICBlbGVtZW50W21ldGhvZF0oZWxlbSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2V0T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBIVE1MIGVsZW1lbnQgdHlwZS5cclxuICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R8QXJyYXkuPCo+fSBpdGVyYXRvciAtIEEgbnVtYmVyIChob3cgbWFueSBlbGVtZW50cyB0byBjcmVhdGUgaW5zaWRlIGVhY2ggZWxlbWVudCksXHJcbiAgICogYW4gb2JqZWN0IG9yIGFuIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cclxuICAgKiBAcGFyYW0ge0VsZW1TZXRPZkNhbGxiYWNrfSBjYWxsYmFja1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIHNldCBvZiBlbGVtZW50cyBpbnNpZGUgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQgYmFzZWQgb24gYW4gYXJyYXkgb3IgYW4gb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiB0YWJsZS5zZXRPZigndHInLCBbWzEsIDJdLCBbMywgNF0sIFs1LCA2XV0sIChyb3csIGFycmF5KSA9PiB7XHJcbiAgICogICBEKHJvdykuc2V0T2YoJ3RkJywgYXJyYXksIChjb2wsIG51bWJlcikgPT4ge1xyXG4gICAqICAgICBEKGNvbCkudGV4dChudW1iZXIpO1xyXG4gICAqICAgfSk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgc2V0T2YodHlwZSwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZSh7IDI6IGNhbGxiYWNrIH0sIHsgMjogWydmdW5jdGlvbiddIH0sICdFbGVtI3NldE9mJyk7XHJcblxyXG4gICAgaXRlcmF0b3IgPSBuZXcgU3VwZXIoaXRlcmF0b3IpLiQ7XHJcblxyXG4gICAgaWYgKGlzTnVtYmVyKGl0ZXJhdG9yKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhbGlkYXRlKHsgMTogaXRlcmF0b3IgfSwgeyAxOiBbJ2ludExpa2UnLCAnPj0wJ10gfSwgJ0VsZW0jc2V0T2YnKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignMm5kIGFyZ3VtZW50IG11c3QgYmUgZWl0aGVyIG9yIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBvciBvYmplY3QhIChhdCBFbGVtI3NldE9mKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRvciA9IGFycmF5KGl0ZXJhdG9yKS4kO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGl0ZXJhdGUoaXRlcmF0b3IsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlZCA9IG5ldyBFbGVtKGVsZW0pLmNyZWF0ZSh0eXBlKTtcclxuXHJcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlZC4kWzBdLCB2YWx1ZSwga2V5LCBpdGVyYXRvciwgZWxlbSwgaW5kZXgpO1xyXG5cclxuICAgICAgICBlbGVtcy5hZGQoY3JlYXRlZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2hvd1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG93cyBhbGwgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBJZiBhbiBlbGVtZW50IHdhcyBoaWRkZW4gdXNpbmcge0BsaW5rIEVsZW0jaGlkZX0gcHJldmlvdXMgZGlzcGxheSBpcyBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uc2hvdygpO1xyXG4gICAqL1xyXG4gIHNob3coKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZHdheW5lRGF0YSB9ID0gZWxlbTtcclxuXHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChlbGVtLmNzcygnZGlzcGxheScpLmluZGV4T2YoJ25vbmUnKSA9PT0gMCkge1xyXG4gICAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgZHdheW5lRGF0YS5wcmV2aW91c0Rpc3BsYXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkd2F5bmVEYXRhLnByZXZpb3VzRGlzcGxheSA9ICcnO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbdGV4dF0gLSBUZXh0IHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCB0ZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB0ZXh0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyB0ZXh0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIHRleHQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB0ZXh0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRleHQoJzEyMycpO1xyXG4gICAqIGVsZW0udGV4dCgpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHRleHQodGV4dCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3AodGV4dFByb3BlcnR5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCB0eHQgPSBlbGVtW3RleHRQcm9wZXJ0eV07XHJcblxyXG4gICAgICBuZXcgRWxlbShlbGVtKS5wcm9wKFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eSxcclxuICAgICAgICBpc0Z1bmN0aW9uKHRleHQpXHJcbiAgICAgICAgICA/IHRleHQodHh0LCBlbGVtLCBpbmRleClcclxuICAgICAgICAgIDogdGV4dFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIEF0dHJpYnV0ZSB0byB0b2dnbGUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtjb25kaXRpb25dIC0gSWYgcHJlc2VudCBhbmQgdGhlIGNvbmRpdGlvbiBpcyB0cnV0aHkgbWV0aG9kIGFkZHMgdGhlIGF0dHJpYnV0ZVxyXG4gICAqIHdpdGggdGhlICcnIHZhbHVlIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS4gSWYgbm90IHByZXNlbnQgbWV0aG9kIGFkZHNcclxuICAgKiB0aGUgYXR0cmlidXRlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYW5kIHJlbW92ZXMgaWYgaXQgZG9lcy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHRvZ2dsaW5nIGF0dHJpYnV0ZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicpO1xyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicsIHNvbWVDb25kaXRpb24pO1xyXG4gICAqL1xyXG4gIHRvZ2dsZUF0dHIoYXR0ciwgY29uZGl0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICFlbGVtLmhhc0F0dHIoYXR0cikgOiBjb25kaXRpb24pIHtcclxuICAgICAgICBlbGVtLmF0dHIoYXR0ciwgJycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gdG9nZ2xlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHByZXNlbnQgYW5kIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5IG1ldGhvZCBhZGRzIHRoZSBjbGFzc1xyXG4gICAqIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGNsYXNzLiBJZiBub3QgcHJlc2VudCBtZXRob2QgYWRkc1xyXG4gICAqIHRoZSBjbGFzcyBpZiBpdCBkb2Vzbid0IGV4aXN0IGFuZCByZW1vdmVzIGlmIGl0IGRvZXMuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB0b2dnbGluZyBjbGFzc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnKTtcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnLCBzb21lQ29uZGl0aW9uKTtcclxuICAgKi9cclxuICB0b2dnbGVDbGFzcyhjbHMsIGNvbmRpdGlvbikge1xyXG4gICAgcmV0dXJuIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICF0aGlzLmhhc0NsYXNzKGNscykgOiBjb25kaXRpb24pXHJcbiAgICAgID8gdGhpcy5hZGRDbGFzcyhjbHMpXHJcbiAgICAgIDogdGhpcy5yZW1vdmVDbGFzcyhjbHMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRvU3RyaW5nVGFnKCkge1xyXG4gICAgcmV0dXJuIHRvU3RyaW5nVGFnKHRoaXMuJCQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3VwXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gW2xldmVsID0gMV0gLSBXaGF0IGxldmVsIHVwIGFsb25nIHRoZSB0cmVlIHNob3VsZCBiZSB0aGUgcGFyZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIGNvbGxlY3Rpb24gb2YgcGFyZW50cyBvZiBsZXZlbCAmbHQ7bGV2ZWwmZ3Q7LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnVwKCk7XHJcbiAgICogZWxlbS51cCgyKTtcclxuICAgKi9cclxuICB1cChsZXZlbCA9IDEpIHtcclxuICAgIHZhbGlkYXRlKFtsZXZlbF0sIFtbJ2ludExpa2UnLCAnPj0wJ11dLCAnRWxlbSN1cCcpO1xyXG5cclxuICAgIGxldmVsID0gTnVtYmVyKGxldmVsKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGxldCBuID0gbGV2ZWw7XHJcblxyXG4gICAgICB3aGlsZSAobi0tICYmIGVsZW0pIHtcclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSN2YWxpZGF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1ZhbGlkYXRlQ2FsbGJhY2t9IFt2YWxpZGF0b3JdIC0gSWYgcHJlc2VudCwgZnVuY3Rpb24gdGhhdCB2YWxpZGF0ZXMgaW5wdXRzLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfE9iamVjdC48U3RyaW5nLCBFcnJvcnwqPnxudWxsfVxyXG4gICAqIElmIGEgY2FsbGJhY2sgYXJndW1lbnQgcHJvdmlkZWQgcmV0dXJucyB0aGlzLiBJZiBubyBhcmd1bWVudHMgcHJvdmlkZWQgcmV0dXJucyBlaXRoZXIgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBpbnB1dCBuYW1lcyBrZXlzIGFuZCBlcnJvcnMgdmFsdWVzIG9yIG51bGwgaWYgbm8gZXJyb3JzIGZvdW5kLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBhIGNhbGxiYWNrIGFyZ3VtZW50IHByb3ZpZGVkIGFkZHMgaXQgdG8gdGhlIGVsZW1lbnQgdmFsaWRhdG9ycyBsaXN0LlxyXG4gICAqIElmIG5vIGFyZ3VtZW50cyBwcm92aWRlZCB2YWxpZGF0ZXMgZXZlcnkgaW5wdXQgZWxlbWVudCBpbiB0aGUgc2V0IHdpdGggaXRzIG93biBmdW5jdGlvbnMuXHJcbiAgICogSWYgYW4gZWxlbWVudCBpcyBhIGZvcm0gaXQgdmFsaWRhdGVzIGFsbCBpbnB1dCBlbGVtZW50cyBpbnNpZGUgaXQuIEFmdGVyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICogZmlyZXMgJ3ZhbGlkYXRlJyBldmVudCB3aXRoICd2YWxpZCcgYW5kICdlcnJvcicgKGlmIGZvcm0gaXQncyBlcnJvcnMpIHByb3BlcnRpZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGZvcm0ub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsICh2YWx1ZSwgaW5wdXQpID0+IHtcclxuICAgKiAgIGlucHV0ID0gRChpbnB1dCk7XHJcbiAgICpcclxuICAgKiAgIGlmIChOdW1iZXIodmFsdWUpICUgMykge1xyXG4gICAqICAgICBpbnB1dC5hZGRDbGFzcygnaW52YWxpZCcpO1xyXG4gICAqXHJcbiAgICogICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlIHNob3VsZCBiZSBkaXZpZGVkIGJ5IDMhJyk7XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIGlucHV0LnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgdmFsaWRhdGUodmFsaWRhdG9yKSB7XHJcbiAgICB2YWxpZGF0ZShbdmFsaWRhdG9yXSwgWydmdW5jdGlvbnx8ISddLCAnRWxlbSN2YWxpZGF0ZScpO1xyXG5cclxuICAgIGlmICh2YWxpZGF0b3IpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoeyBkd2F5bmVEYXRhIH0pID0+IHtcclxuICAgICAgICBkd2F5bmVEYXRhLnZhbGlkYXRvcnMucHVzaCh2YWxpZGF0b3IpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgU3VwZXIoeyBlcnJvcnM6IG51bGwgfSk7XHJcblxyXG4gICAgdGhpc1xyXG4gICAgICAuZmlsdGVyKGAkeyBpbnB1dEVsZW1lbnRzIH0sIGZvcm1gKVxyXG4gICAgICAuZm9yRWFjaCgoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ2Zvcm0nKSB7XHJcbiAgICAgICAgICBsZXQgZm9ybUVycm9ycyA9IHsgZXJyb3JzOiBudWxsIH07XHJcbiAgICAgICAgICBjb25zdCBmb3JtID0gbmV3IEVsZW0oZWxlbSk7XHJcbiAgICAgICAgICBjb25zdCBpbnB1dHMgPSBmb3JtLmZpbmQoaW5wdXRFbGVtZW50cyk7XHJcblxyXG4gICAgICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3JXcmFwKGlucHV0LCBpbmRleCwgZm9ybUVycm9ycyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBlcnJvcnMuZGVlcEFzc2lnbihmb3JtRXJyb3JzKTtcclxuXHJcbiAgICAgICAgICBmb3JtRXJyb3JzID0gZm9ybUVycm9ycy5lcnJvcnM7XHJcblxyXG4gICAgICAgICAgZm9ybS5kaXNwYXRjaCgndmFsaWRhdGUnLCB7fSwge1xyXG4gICAgICAgICAgICB2YWxpZDogIWZvcm1FcnJvcnMsXHJcbiAgICAgICAgICAgIGVycm9yczogZm9ybUVycm9yc1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVycm9yID0gKGZvcm1FcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdO1xyXG5cclxuICAgICAgICAgICAgbmV3IEVsZW0oaW5wdXQpLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICAgICAgdmFsaWQ6ICFpbnB1dEVycm9yLFxyXG4gICAgICAgICAgICAgIGVycm9yOiBpbnB1dEVycm9yIHx8IG51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbnB1dEVycm9yID0geyBlcnJvcnM6IG51bGwgfTtcclxuXHJcbiAgICAgICAgdmFsaWRhdG9yV3JhcChlbGVtLCBpbmRleCwgaW5wdXRFcnJvcik7XHJcbiAgICAgICAgZXJyb3JzLmRlZXBBc3NpZ24oaW5wdXRFcnJvcik7XHJcblxyXG4gICAgICAgIGlucHV0RXJyb3IgPSAoaW5wdXRFcnJvci5lcnJvcnMgfHwge30pW2VsZW0ubmFtZV07XHJcblxyXG4gICAgICAgIG5ldyBFbGVtKGVsZW0pLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICB2YWxpZDogIWlucHV0RXJyb3IsXHJcbiAgICAgICAgICBlcnJvcjogaW5wdXRFcnJvciB8fCBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRvcldyYXAoaW5wdXQsIGluZGV4LCBlcnJvcnMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkgJiYgIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXQuZHdheW5lRGF0YS52YWxpZGF0b3JzLmZvckVhY2goKHZhbGlkYXRvcikgPT4ge1xyXG4gICAgICAgICAgdmFsaWRhdG9yKGlucHV0LnZhbHVlLCBpbnB1dCwgaW5kZXgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAoZXJyb3JzLmVycm9ycyA9IGVycm9ycy5lcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdID0gZXJyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVycm9ycy5ldmVyeSgoZXJyb3IpID0+IGlzTnVsbChlcnJvcikpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlcnJvcnMuJC5lcnJvcnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jd2lkdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbd2lkdGhdIC0gV2lkdGggdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgd2lkdGhzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgd2lkdGggYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB3aWR0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS53aWR0aCgxMjMpO1xyXG4gICAqIGVsZW0ud2lkdGgoKTsgLy8gMTIzXHJcbiAgICovXHJcbiAgd2lkdGgod2lkdGgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3AuYXBwbHkodGhpcywgbmV3IEFycihhcmd1bWVudHMpLnVuc2hpZnQoJ3dpZHRoJykuJCk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEVsZW0ucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdFbGVtJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IHdpblxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiB3aW5kb3cuXHJcbiAqL1xyXG5jb25zdCB3aW4gPSBuZXcgRWxlbShnbG9iYWwpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gZG9jXHJcbiAqIEB0eXBlIHtFbGVtfVxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBFbGVtIGluc3RhbmNlIG9mIGRvY3VtZW50LlxyXG4gKi9cclxuY29uc3QgZG9jID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gaHRtbFxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuXHJcbiAqL1xyXG5jb25zdCBodG1sID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGJvZHlcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuYm9keS5cclxuICovXHJcbmNvbnN0IGJvZHkgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5ib2R5KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGhlYWRcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuaGVhZC5cclxuICovXHJcbmNvbnN0IGhlYWQgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5oZWFkKTtcclxuXHJcbmNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihodG1sRWxlbWVudHMpLmNvbmNhdChzdmdFbGVtZW50cykuJDtcclxuY29uc3QgcHJvcHMgPSBuZXcgQXJyKGVsZW1lbnRzKS5tYXAoKHR5cGUpID0+IG5ldyBTdHIodHlwZSkudG9DYW1lbENhc2UoKS4kKS4kO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIHByb3BzLCAoZWxlbSwgaSkgPT4gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLmNyZWF0ZS5hcHBseSh0aGlzLCBuZXcgQXJyKGFyZ3VtZW50cykudW5zaGlmdChlbGVtZW50c1tpXSkuJCk7XHJcbn0pO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIGNhbnZhc0dldE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICByZXR1cm4gY3R4W21ldGhvZF0uYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xyXG4gIH1cclxufSk7XHJcblxyXG5keW5hbWljRGVmaW5lUHJvcGVydGllcyhFbGVtLnByb3RvdHlwZSwgY2FudmFzUmVzdE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICBjdHhbbWV0aG9kXS5hcHBseShjdHgsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbXxTdHJpbmd9IGVsZW0gLSBFbGVtZW50LCBzZWxlY3RvciBvZiBFbGVtZW50cyBvciBFbGVtLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICovXHJcbmZ1bmN0aW9uIHRvRmluZChlbGVtKSB7XHJcbiAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfVxyXG5cclxuICBpZiAoaXNTdHJpbmcoZWxlbSkpIHtcclxuICAgIGVsZW0gPSBmaW5kKGVsZW0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQncyBFbGVtLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBFbGVtIG9yIG5vdC5cclxuICovXHJcbmZ1bmN0aW9uIGlzRWxlbSh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNXaW5kb3dcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgV2luZG93LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIFdpbmRvdy5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIFdpbmRvdyBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1dpbmRvdyh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdXaW5kb3cnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSFRNTERvY3VtZW50XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIEhUTUxEb2N1bWVudC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNIVE1MRG9jdW1lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnSFRNTERvY3VtZW50JztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnRcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBEb2N1bWVudEZyYWdtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudC5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRG9jdW1lbnRGcmFnbWVudCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTdHlsZVJ1bGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBzdHlsZSBydWxlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZS5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZSBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1N0eWxlUnVsZSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdDU1NTdHlsZVJ1bGUnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIENvbW1lbnQgb3IgVGV4dC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBDb21tZW50IG9yIFRleHQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNDb21tZW50T3JUZXh0KHZhbHVlKSB7XHJcbiAgY29uc3QgdGFnID0gdG9TdHJpbmdUYWcodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdGFnID09PSAnQ29tbWVudCcgfHwgdGFnID09PSAnVGV4dCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0RWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW19IGVsZW0gLSBFbGVtZW50IHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIGFyZ3VtZW50IG9yIGEgZmFsbGJhY2sgaWYgbmVlZGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RWxlbShlbGVtKSB7XHJcbiAgcmV0dXJuIGlzRWxlbWVudChlbGVtLiRbMF0pID8gZWxlbS4kWzBdIDogZW1wdHlEaXY7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0TmFtZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtXSAtIEVsZW1lbnQgd2hpY2ggbmFtZSBpcyBuZWVkZWQgdG8ga25vdy5cclxuICogQHJldHVybnMge1N0cmluZ30gRWxlbWVudCBuYW1lLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TmFtZShlbGVtKSB7XHJcbiAgcmV0dXJuIChlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB8fCAnJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhZGREd2F5bmVEYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgdG8gYWRkIGR3YXluZURhdGEgdG8uXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gYWRkRHdheW5lRGF0YShlbGVtKSB7XHJcbiAgaWYgKCF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW0sICdkd2F5bmVEYXRhJykgJiYgIWlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgRWxlbWVudCNkd2F5bmVEYXRhXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHByZXZpb3VzRGlzcGxheSAtIFBhcmFtZXRlciB1c2VkIGZvciBoaWRpbmcvc2hvd2luZyBlbGVtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIFN1cGVyPn0gcmVtb3ZlTGlzdGVuZXJzIC0gUGFyYW1ldGVyIHVzZWQgZm9yIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAcHJvcGVydHkge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gW2N0eF0gLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAgICAgKiBAcHJvcGVydHkge0Fycn0gdmFsaWRhdG9ycyAtIFZhbGlkYXRvcnMgYXNzaWduZWQgdG8gZWxlbWVudC5cclxuICAgICAqIEBkZXNjcmlwdGlvbiBEIGRhdGEuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtLCAnZHdheW5lRGF0YScsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBwcmV2aW91c0Rpc3BsYXk6ICcnLFxyXG4gICAgICAgIGxpc3RlbmVyczoge30sXHJcbiAgICAgICAgY3R4OiBnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJyAmJiBlbGVtLmdldENvbnRleHQoJzJkJyksXHJcbiAgICAgICAgdmFsaWRhdG9yczogbmV3IEFycihbXSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyhlbGVtKSAmJiAhd2luZG93c0R3YXluZURhdGEuc29tZSgoeyBlbGVtZW50IH0pID0+IGVsZW1lbnQgPT09IGVsZW0pKSB7XHJcbiAgICB3aW5kb3dzRHdheW5lRGF0YS5wdXNoKHtcclxuICAgICAgZWxlbWVudDogZWxlbSxcclxuICAgICAgbGlzdGVuZXJzOiB7fVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IChlbGVtKSA9PiAoXHJcbiAgICBpc0VsZW1lbnQoZWxlbSkgfHxcclxuICAgIGlzV2luZG93KGVsZW0pIHx8XHJcbiAgICBpc0hUTUxEb2N1bWVudChlbGVtKSB8fFxyXG4gICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbSkgfHxcclxuICAgIC9eKEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0KSQvLnRlc3QodG9TdHJpbmdUYWcoZWxlbSkpXHJcbiAgKSxcclxuICBjbHM6IEVsZW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGZpbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgLSBTZWxlY3RvciB0byBmaW5kLlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtiYXNlID0gZG9jdW1lbnRdIC0gQmFzZSB0byBmaW5kIGluLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gKiBbRG9jdW1lbnQjcXVlcnlTZWxlY3RvckFsbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gKi9cclxuZnVuY3Rpb24gZmluZChzZWxlY3RvciwgYmFzZSA9IG5hdGl2ZURvY3VtZW50KSB7XHJcbiAgcmV0dXJuIG5ldyBFbGVtKFxyXG4gICAgaXNFbGVtZW50KGJhc2UpIHx8IGlzSFRNTERvY3VtZW50KGJhc2UpXHJcbiAgICAgID8gYmFzZS5xdWVyeVNlbGVjdG9yQWxsKFN0cmluZyhzZWxlY3RvcikpXHJcbiAgICAgIDogW11cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSFRNTFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBwYXJzZS5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlXHJcbiAqIGNvbGxhcHNlZCBkdXJpbmcgdGhlIHBhcnNpbmcuXHJcbiAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFBhcnNlcyBIVE1MIGFuZCByZXR1cm5zIGEgd3JhcCBvZiAjZG9jdW1lbnQtZnJhZ21lbnQgY29udGFpbmluZyB0aGUgY29udGVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHBhcnNlSFRNTCgnPGRpdj4xMjM8L2Rpdj4nKTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VIVE1MKGh0bWwsIGNvbGxhcHNlV2hpdGVTcGFjZSkge1xyXG4gIGNvbnN0IGpzb24gPSBtYXJrdXBUb0pTT04oaHRtbCwgY29sbGFwc2VXaGl0ZVNwYWNlKTtcclxuICBjb25zdCB0ZW1wbGF0ZSA9IGRvYy50ZW1wbGF0ZSgpO1xyXG4gIGNvbnN0IGVsZW0gPSBuZXcgRWxlbSh0ZW1wbGF0ZS4kWzBdLmNvbnRlbnQpO1xyXG5cclxuICBqc29uLmZvckVhY2goZnVuY3Rpb24gZm9yRWFjaE5vZGUobm9kZSkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBhdHRycyxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBwYXJlbnQuZWxlbSB8fCBlbGVtO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHBhcmVudE5vZGUuY3JlYXRlKG5hbWUpO1xyXG5cclxuICAgIG5vZGUuZWxlbSA9IGVsZW1lbnQ7XHJcblxyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF0dHJzKSB7XHJcbiAgICAgIGVsZW1lbnQuYXR0cihhdHRycyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5hbWUgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgbm9kZS5lbGVtID0gbmV3IEVsZW0oZWxlbWVudC5wcm9wKCdjb250ZW50JykpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZvckVhY2hOb2RlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHB4XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBzaXplIC0gU3RyaW5nIGNvbnRhaW5pbmcgcGl4ZWxzIHZhbHVlIG9yIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2YgcGl4ZWxzLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIHBhcnNpbmcgcGl4ZWwgc3RyaW5ncy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogcHgoJzBweCcpOyAgLy8gMFxyXG4gKiBweCgnNDJweCcpOyAvLyA0MlxyXG4gKi9cclxuZnVuY3Rpb24gcHgoc2l6ZSkge1xyXG4gIHJldHVybiBOdW1iZXIoU3RyaW5nKHNpemUpLnJlcGxhY2UoL3B4JC8sICcnKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IEVsZW0sIHdpbiwgZG9jLCBodG1sLCBib2R5LCBoZWFkLCBmaW5kLCBwYXJzZUhUTUwsIHB4IH07XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRCbG9jayhCbG9jaykge1xyXG4gIGNsYXNzIERCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIiAvPic7XHJcblxyXG4gICAgZWxlbXMgPSBudWxsO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLiQkLnBhcmVudDtcclxuICAgICAgY29uc3QgeyBuYW1lIH0gPSB0aGlzLmFyZ3M7XHJcbiAgICAgIGxldCBmb3VuZDtcclxuXHJcbiAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgZm91bmQgPSBjaGlsZHJlbi5maW5kKCh7IG5hbWU6IG5vZGVOYW1lIH0pID0+IG5vZGVOYW1lID09PSBgZC1ibG9jay0keyBuYW1lIH1gKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kICYmIGZvdW5kLnZhbHVlLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1ibG9jaycsXHJcbiAgICB2YWx1ZTogREJsb2NrXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xyXG5pbXBvcnQgeyBFbGVtIH0gZnJvbSAnLi4vRWxlbSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFYWNoKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFYWNoIGV4dGVuZHMgQmxvY2sge1xyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICBpdGVtOiBpdGVtTmFtZSA9ICckaXRlbScsXHJcbiAgICAgICAgICBpbmRleDogaW5kZXhOYW1lID0gJyRpbmRleCdcclxuICAgICAgICB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG5cclxuICAgICAgYXNzaWduKHRoaXMuJCQsIHtcclxuICAgICAgICB1aWRzOiBuZXcgU3VwZXIoe30pLFxyXG4gICAgICAgIGl0ZW1zOiBuZXcgQXJyKFtdKSxcclxuICAgICAgICBVSUQ6IFN0cmluZyh0aGlzLmFyZ3MudWlkKSxcclxuICAgICAgICBpdGVtTmFtZSxcclxuICAgICAgICBpbmRleE5hbWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJSZW5kZXIoKSB7XHJcbiAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHRoaXMuYXJncy5zZXQpO1xyXG4gICAgICB0aGlzLndhdGNoQXJncygnc2V0JywgKHNldCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHNldCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdFZhbHVlcyhzZXQpIHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGVsZW1zOiB7XHJcbiAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdWlkcyxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgIFVJRFxyXG4gICAgICB9ID0gdGhpcy4kJDtcclxuICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcztcclxuICAgICAgY29uc3QgJHVpZHMgPSB1aWRzLiQ7XHJcbiAgICAgIGNvbnN0IG5ld0tleXMgPSB7fTtcclxuICAgICAgY29uc3QgbmV3VUlEcyA9IHt9O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBzY29wZVtpdGVtTmFtZV0gPSBpdGVtO1xyXG4gICAgICAgIHNjb3BlW2luZGV4TmFtZV0gPSBpbmRleDtcclxuXHJcbiAgICAgICAgY29uc3QgdWlkID0gcGFyZW50LiQkLmV2YWx1YXRlKFN0cmluZyhVSUQpLCBudWxsLCBudWxsLCBmYWxzZSwgZmFsc2UsIHRoaXMpO1xyXG5cclxuICAgICAgICBuZXdLZXlzW3VpZF0gPSBuZXdLZXlzW3VpZF0gfHwge307XHJcbiAgICAgICAgbmV3S2V5c1t1aWRdW2luZGV4XSA9IHRydWU7XHJcbiAgICAgICAgbmV3VUlEc1tpbmRleF0gPSB1aWQ7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGVbaXRlbU5hbWVdID0gbnVsbDtcclxuICAgICAgc2NvcGVbaW5kZXhOYW1lXSA9IG51bGw7XHJcblxyXG4gICAgICB1aWRzLmZvckVhY2goKGl0ZW1zLCB1aWQpID0+IHtcclxuICAgICAgICBpZiAoIW5ld0tleXNbdWlkXSkge1xyXG4gICAgICAgICAgaXRlbXMuZm9yRWFjaCgoSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXRlbXMuc3BsaWNlKE9iamVjdC5rZXlzKG5ld0tleXNbdWlkXSkubGVuZ3RoKS5mb3JFYWNoKChJdGVtKSA9PiB7XHJcbiAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBhZnRlciA9IHN0YXJ0O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCB1aWQgPSBuZXdVSURzW2luZGV4XTtcclxuICAgICAgICBsZXQgYmxvY2s7XHJcblxyXG4gICAgICAgIGlmICgkdWlkc1t1aWRdICYmICR1aWRzW3VpZF0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBibG9jayA9IG5ld0tleXNbdWlkXVtpbmRleF0gPSB1aWRzLiRbdWlkXS5zaGlmdCgpO1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaW5kZXhOYW1lXSA9IGluZGV4O1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaXRlbU5hbWVdID0gaXRlbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYmxvY2sgPSBuZXdLZXlzW3VpZF1baW5kZXhdID0gY3JlYXRlQmxvY2soe1xyXG4gICAgICAgICAgICBub2RlOiB7XHJcbiAgICAgICAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgICAgICAgIGl0ZW0sXHJcbiAgICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgICAgbmFtZTogJyNkLWl0ZW0nLFxyXG4gICAgICAgICAgICAgIGJsb2NrOiBwYXJlbnQsXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbSxcclxuICAgICAgICAgICAgcGFyZW50QmxvY2s6IHRoaXMsXHJcbiAgICAgICAgICAgIHBhcmVudFNjb3BlOiBwYXJlbnRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICBlbmRcclxuICAgICAgICB9ID0gYmxvY2suJCQuZWxlbXM7XHJcblxyXG4gICAgICAgIGlmIChzdGFydC5wcmV2KCkuJFswXSAhPT0gYWZ0ZXIuJFswXSkge1xyXG4gICAgICAgICAgY29uc3QgeyBjb250ZW50IH0gPSBibG9jay4kJC5lbGVtcztcclxuXHJcbiAgICAgICAgICBuZXcgRWxlbShbXHJcbiAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICBjb250ZW50LFxyXG4gICAgICAgICAgICBlbmRcclxuICAgICAgICAgIF0pLmluc2VydEFmdGVyKGFmdGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFmdGVyID0gZW5kO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuJCQudWlkcyA9IG5ldyBTdXBlcihuZXdLZXlzKS5tYXAoKGl0ZW1zKSA9PiAoXHJcbiAgICAgICAgbmV3IFN1cGVyKGl0ZW1zKS52YWx1ZXMoKVxyXG4gICAgICApKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1lYWNoJyxcclxuICAgIHZhbHVlOiBERWFjaFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgRWxlbSB9IGZyb20gJy4uL0VsZW0nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREVsZW1lbnRzKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFbGVtZW50cyBleHRlbmRzIEJsb2NrIHtcclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAodmFsdWUpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBjaGlsZHJlbixcclxuICAgICAgICAgIG1peGlucyxcclxuICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUsXHJcbiAgICAgICAgICBlbGVtczoge1xyXG4gICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgY29udGVudCxcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHRoaXMuJCQ7XHJcbiAgICAgICAgbGV0IGFmdGVyID0gc3RhcnQ7XHJcblxyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICBjaGlsZC5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG1peGluKSA9PiB7XHJcbiAgICAgICAgICBtaXhpbi5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udGVudC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kJC5jaGlsZHJlbiA9IG5ldyBBcnIoW10pO1xyXG4gICAgICAgIHRoaXMuJCQubWl4aW5zID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgdGhpcy4kJC53YXRjaGVyc1RvUmVtb3ZlID0gd2F0Y2hlcnNUb1JlbW92ZS5maWx0ZXIoKHsgd2F0Y2hlcnMsIHdhdGNoZXIsIGZvckRFbGVtZW50cyB9KSA9PiB7XHJcbiAgICAgICAgICBpZiAoZm9yREVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gd2F0Y2hlcnMuaW5kZXhPZih3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHdhdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBuZXcgRWxlbSgpO1xyXG5cclxuICAgICAgICBuZXcgQXJyKHZhbHVlIHx8IFtdKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgYmxvY2sgPSBjcmVhdGVCbG9jayh7XHJcbiAgICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgcGFyZW50LFxyXG4gICAgICAgICAgICBwYXJlbnRCbG9jazogdGhpcyxcclxuICAgICAgICAgICAgcGFyZW50U2NvcGU6IHRoaXNcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbXMgfSA9IGJsb2NrLiQkO1xyXG5cclxuICAgICAgICAgICAgYWZ0ZXIgPSBlbGVtcy5lbmQ7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChlbGVtcy5zdGFydCwgZWxlbXMuY29udGVudCwgZWxlbXMuZW5kKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFmdGVyID0gYmxvY2s7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChibG9jayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJCQuZWxlbXMuY29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWVsZW1lbnRzJyxcclxuICAgIHZhbHVlOiBERWxlbWVudHNcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRJZihCbG9jaykge1xyXG4gIGNsYXNzIERJZiBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIi8+JztcclxuXHJcbiAgICBpbmRleCA9IEluZmluaXR5O1xyXG4gICAgZWxlbXMgPSBudWxsO1xyXG4gICAgdmFsdWVzID0gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkLCBpKSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGF0dHJzLFxyXG4gICAgICAgIGNoaWxkcmVuXHJcbiAgICAgIH0gPSBjaGlsZDtcclxuICAgICAgY29uc3QgY29uZCA9IHRoaXMuZXZhbHVhdGVBbmRXYXRjaChuYW1lID09PSAnZC1lbHNlJyA/ICd7dHJ1ZX0nIDogYXR0cnMuaWYgfHwgJ3t0cnVlfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIGlmICghIW5ld1ZhbHVlID09PSB0aGlzLnZhbHVlcy4kW2ldKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnZhbHVlcy4kW2ldID0gISFuZXdWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGkgPiB0aGlzLmluZGV4KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaSA8IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy52YWx1ZXMuZmluZChCb29sZWFuKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kKSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gZm91bmQua2V5O1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IHRoaXMuY2hpbGRyZW4uJFtmb3VuZC5rZXldLmNoaWxkcmVuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gSW5maW5pdHk7XHJcbiAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGNvbmQgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaTtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb25kO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtaWYnLFxyXG4gICAgdmFsdWU6IERJZlxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREl0ZW0oQmxvY2spIHtcclxuICBjbGFzcyBESXRlbSBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntjaGlsZHJlbn1cIi8+JztcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnI2QtaXRlbScsXHJcbiAgICB2YWx1ZTogREl0ZW1cclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IEFyciB9IGZyb20gJy4uL0Fycic7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFN3aXRjaChCbG9jaykge1xyXG4gIGNsYXNzIERTd2l0Y2ggZXh0ZW5kcyBCbG9jayB7XHJcbiAgICBzdGF0aWMgdGVtcGxhdGUgPSAnPGQtZWxlbWVudHMgdmFsdWU9XCJ7ZWxlbXN9XCIvPic7XHJcblxyXG4gICAgaW5kZXggPSBJbmZpbml0eTtcclxuICAgIGVsZW1zID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XHJcbiAgICAgIHN1cGVyKG9wdHMpO1xyXG5cclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGFyZ3MsXHJcbiAgICAgICAgYXJnczogeyB2YWx1ZSB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG4gICAgICBsZXQgd2FzRGVmYXVsdDtcclxuXHJcbiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy5jaGlsZHJlbi5vYmplY3QoKHZhbHVlcywgY2hpbGQsIGkpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgYXR0cnMsXHJcbiAgICAgICAgICBjaGlsZHJlblxyXG4gICAgICAgIH0gPSBjaGlsZDtcclxuXHJcbiAgICAgICAgaWYgKHdhc0RlZmF1bHQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYW1lICE9PSAnZC1jYXNlJyAmJiBuYW1lICE9PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWRlZmF1bHQnKSB7XHJcbiAgICAgICAgICB3YXNEZWZhdWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2YWw7XHJcblxyXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgdmFsID0gYXJncy52YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFsID0gdGhpcy5ldmFsdWF0ZUFuZFdhdGNoKGF0dHJzLmlmIHx8ICd7dW5kZWZpbmVkfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lcXVhbHModGhpcy52YWx1ZXMuJFtpXS52YWx1ZSwgbmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlcy4kW2ldLnZhbHVlID0gbmV3VmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA+IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpIDwgdGhpcy5pbmRleCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgIHRoaXMuZWxlbXMgPSBjaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMudmFsdWVzLmZpbmQoKHsgdmFsdWUgfSkgPT4gKFxyXG4gICAgICAgICAgICAgIHRoaXMuZXF1YWxzKHZhbHVlLCBhcmdzLnZhbHVlKVxyXG4gICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBmb3VuZC5rZXk7XHJcbiAgICAgICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lcXVhbHModmFsLCB2YWx1ZSkgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsdWVzLnB1c2goe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGNoaWxkcmVuLFxyXG4gICAgICAgICAgdmFsdWU6IHZhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCBuZXcgQXJyKFtdKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICAgIHRoaXMud2F0Y2hBcmdzKCd2YWx1ZScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBjaGlsZHJlbiB9LCBpKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB2YWwgPSBuYW1lID09PSAnZC1kZWZhdWx0J1xyXG4gICAgICAgICAgICA/IG5ld1ZhbHVlXHJcbiAgICAgICAgICAgIDogdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuZXF1YWxzKHZhbCwgbmV3VmFsdWUpICYmIHRoaXMuaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyh2YWx1ZTEsIHZhbHVlMikge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKHZhbHVlMSkuZXF1YWxzKHZhbHVlMik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc3dpdGNoJyxcclxuICAgIHZhbHVlOiBEU3dpdGNoXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFRleHQoQmxvY2spIHtcclxuICBjbGFzcyBEVGV4dCBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntbeyBuYW1lOiBcXCcjdGV4dFxcJywgdmFsdWU6IHRleHQgfV19XCIvPic7XHJcblxyXG4gICAgdGV4dCA9ICcnO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLnRleHQgPSBpc05pbCh0aGlzLmFyZ3MudmFsdWUpID8gJycgOiB0aGlzLmFyZ3MudmFsdWU7XHJcblxyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAobmV3VmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnRleHQgPSBpc05pbChuZXdWYWx1ZSkgPyAnJyA6IG5ld1ZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC10ZXh0JyxcclxuICAgIHZhbHVlOiBEVGV4dFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEQXR0cihNaXhpbikge1xyXG4gIGNsYXNzIERBdHRyIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIG5ld1ZhbHVlID0gbmV3IFN1cGVyKG5ld1ZhbHVlKS4kO1xyXG5cclxuICAgICAgbmV3IFN1cGVyKG9sZFZhbHVlKS5mb3JFYWNoKCh2YWx1ZSwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghbmV3VmFsdWVbcHJvcF0pIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cihwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBlbGVtLmF0dHIobmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWF0dHInLFxyXG4gICAgdmFsdWU6IERBdHRyXHJcbiAgfTtcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREJpbmQoTWl4aW4pIHtcclxuICBjbGFzcyBEQmluZCBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGlmICh0aGlzLm9mZikge1xyXG4gICAgICAgIHRoaXMub2ZmKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMub2ZmID0gdGhpcy5lbGVtLm9uKHRoaXMubWF0Y2hbMF0sIHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1iaW5kJyxcclxuICAgIHZhbHVlOiBEQmluZFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcsIGl0ZXJhdGUgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRENsYXNzKE1peGluKSB7XG4gIGNsYXNzIERDbGFzcyBleHRlbmRzIE1peGluIHtcbiAgICBhZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcblxuICAgICAgbmV3VmFsdWUgPSBuZXcgU3VwZXIobmV3VmFsdWUpLiQ7XG4gICAgICBvbGRWYWx1ZSA9IG5ldyBTdXBlcihvbGRWYWx1ZSkuJDtcblxuICAgICAgaWYgKGlzU3RyaW5nKG5ld1ZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlLnNwbGl0KC9cXHMrLyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cmluZyhvbGRWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBuZXdWYWx1ZS5zcGxpdCgvXFxzKy8pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheShuZXdWYWx1ZSkpIHtcbiAgICAgICAgaXRlcmF0ZShvbGRWYWx1ZSwgKGNscykgPT4ge1xuICAgICAgICAgIGlmIChpc1N0cmluZyhjbHMpICYmICFuZXdWYWx1ZVtjbHNdKSB7XG4gICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXRlcmF0ZShuZXdWYWx1ZSwgKGNscykgPT4ge1xuICAgICAgICAgIGlmIChpc1N0cmluZyhjbHMpKSB7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QobmV3VmFsdWUpKSB7XG4gICAgICAgIGl0ZXJhdGUob2xkVmFsdWUsICh2YWwsIGNscykgPT4ge1xuICAgICAgICAgIGlmICh2YWwgJiYgIW5ld1ZhbHVlW2Nsc10pIHtcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVyYXRlKG5ld1ZhbHVlLCAodmFsLCBjbHMpID0+IHtcbiAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvbGRWYWx1ZSkpIHtcbiAgICAgICAgaXRlcmF0ZShvbGRWYWx1ZSwgKGNscykgPT4ge1xuICAgICAgICAgIGlmIChpc1N0cmluZyhjbHMpKSB7XG4gICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob2xkVmFsdWUpKSB7XG4gICAgICAgIGl0ZXJhdGUob2xkVmFsdWUsICh2YWwsIGNscykgPT4ge1xuICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2QtY2xhc3MnLFxuICAgIHZhbHVlOiBEQ2xhc3NcbiAgfTtcbn1cbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vaGVscGVycyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJERWxlbShNaXhpbikge1xyXG4gIGNsYXNzIERFbGVtIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgcGFyZW50IH0gPSB0aGlzLiQkO1xyXG5cclxuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSAmJiBpc1N0cmluZyhvbGRWYWx1ZSkpIHtcclxuICAgICAgICBkZWxldGUgcGFyZW50W29sZFZhbHVlXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzU3RyaW5nKG5ld1ZhbHVlKSkge1xyXG4gICAgICAgIHBhcmVudFtuZXdWYWx1ZV0gPSB0aGlzLmVsZW07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1lbGVtJyxcclxuICAgIHZhbHVlOiBERWxlbVxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREhpZGUoTWl4aW4pIHtcclxuICBjbGFzcyBESGlkZSBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGVsZW0uaGlkZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0uc2hvdygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtaGlkZScsXHJcbiAgICB2YWx1ZTogREhpZGVcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRPbihNaXhpbikge1xyXG4gIGNsYXNzIERPbiBleHRlbmRzIE1peGluIHtcclxuICAgIHN0YXRpYyBldmFsdWF0ZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgICAgc3VwZXIob3B0cyk7XHJcblxyXG4gICAgICB0aGlzLmVsZW0ub24odGhpcy5tYXRjaFswXSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZXZhbHVhdGVPbmNlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLW9uJyxcclxuICAgIHZhbHVlOiBET25cclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRTaG93KE1peGluKSB7XHJcbiAgY2xhc3MgRFNob3cgZXh0ZW5kcyBNaXhpbiB7XHJcbiAgICBhZnRlclVwZGF0ZSh2YWx1ZSkge1xyXG4gICAgICBjb25zdCB7IGVsZW0gfSA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICBlbGVtLnNob3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLXNob3cnLFxyXG4gICAgdmFsdWU6IERTaG93XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBTdXBlciB9IGZyb20gJy4uL1N1cGVyJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRTdHlsZShNaXhpbikge1xyXG4gIGNsYXNzIERTdHlsZSBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICBjb25zdCB7IGVsZW0gfSA9IHRoaXM7XHJcblxyXG4gICAgICBuZXdWYWx1ZSA9IG5ldyBTdXBlcihuZXdWYWx1ZSkuJDtcclxuXHJcbiAgICAgIG5ldyBTdXBlcihvbGRWYWx1ZSkuZm9yRWFjaCgodmFsdWUsIHByb3ApID0+IHtcclxuICAgICAgICBpZiAoIW5ld1ZhbHVlW3Byb3BdKSB7XHJcbiAgICAgICAgICBlbGVtLnJlbW92ZUNTUyhwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBlbGVtLmNzcyhuZXdWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc3R5bGUnLFxyXG4gICAgdmFsdWU6IERTdHlsZVxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNOaWwgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRUZXh0KE1peGluKSB7XHJcbiAgY2xhc3MgRFRleHQgZXh0ZW5kcyBNaXhpbiB7XHJcbiAgICBhZnRlclVwZGF0ZSh2YWx1ZSkge1xyXG4gICAgICB0aGlzLmVsZW0udGV4dChcclxuICAgICAgICBpc05pbCh2YWx1ZSlcclxuICAgICAgICAgID8gJydcclxuICAgICAgICAgIDogYCR7IHZhbHVlIH1gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtdGV4dCcsXHJcbiAgICB2YWx1ZTogRFRleHRcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRWYWxpZGF0ZShNaXhpbikge1xyXG4gIGNsYXNzIERWYWxpZGF0ZSBleHRlbmRzIE1peGluIHtcclxuICAgIHN0YXRpYyBldmFsdWF0ZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgICAgc3VwZXIob3B0cyk7XHJcblxyXG4gICAgICBjb25zdCB7IGVsZW0gfSA9IHRoaXM7XHJcbiAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHRoaXMuZXZhbHVhdGVPbmNlKCk7XHJcblxyXG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0b3IpKSB7XHJcbiAgICAgICAgZWxlbS52YWxpZGF0ZSh2YWxpZGF0b3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtdmFsaWRhdGUnLFxyXG4gICAgdmFsdWU6IERWYWxpZGF0ZVxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi4vU3dpdGNoZXInO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNOaWwgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuY29uc3QgcHJvcFN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICh0eXBlLCBlbGVtKSA9PiAoXG4gIGVsZW0uaGFzQXR0cignY29udGVudGVkaXRhYmxlJykgfHwgZWxlbS5oYXNBdHRyKCdjb250ZW50RWRpdGFibGUnKVxuICAgID8gJ3RleHQnXG4gICAgOiAndmFsdWUnXG4pKVxuICAuY2FzZSgnaW5wdXQnLCAodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlID09PSAnZmlsZScpIHtcbiAgICAgIHJldHVybiAnZmlsZXMnO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlID09PSAncmFkaW8nIHx8IHR5cGUgPT09ICdjaGVja2JveCdcbiAgICAgID8gJ2NoZWNrZWQnXG4gICAgICA6ICd2YWx1ZSc7XG4gIH0pO1xuY29uc3Qgc2V0VmFsdWVTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAodmFsdWUpID0+IHZhbHVlKVxuICAuY2FzZSgnaW5wdXQnLCAodmFsdWUsIHR5cGUsIGlucHV0VmFsdWUpID0+IHtcbiAgICBpZiAodHlwZSAhPT0gJ3JhZGlvJyAmJiB0eXBlICE9PSAnY2hlY2tib3gnKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gaW5wdXRWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihpbnB1dFZhbHVlKSAhPT0gLTE7XG4gIH0pO1xuY29uc3QgZ2V0VmFsdWVTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAodmFsdWUpID0+IHZhbHVlKVxuICAuY2FzZSgnaW5wdXQnLCAodmFsdWUsIHR5cGUsIGlucHV0VmFsdWUsIHZhbHVlcykgPT4ge1xuICAgIGlmICh0eXBlICE9PSAncmFkaW8nICYmIHR5cGUgIT09ICdjaGVja2JveCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gaW5wdXRWYWx1ZVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMuaW5kZXhPZihpbnB1dFZhbHVlKSA9PT0gLTFcbiAgICAgICAgICA/IG5ldyBBcnIodmFsdWVzKS5jb25jYXQoaW5wdXRWYWx1ZSkuJFxuICAgICAgICAgIDogdmFsdWVzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW2lucHV0VmFsdWVdO1xuICAgIH1cblxuICAgIGlmICghaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSB2YWx1ZXMuaW5kZXhPZihpbnB1dFZhbHVlKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLm5ldyBBcnIodmFsdWVzKS5zbGljZSgwLCBpbmRleCkuJCxcbiAgICAgICAgLi4ubmV3IEFycih2YWx1ZXMpLnNsaWNlKGluZGV4ICsgMSkuJFxuICAgICAgXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbmNvbnN0IGxpc3RlbmVyU3dpdGNoZXIgPSBzd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgJ2lucHV0JylcbiAgLmNhc2UoJ3NlbGVjdCcsICdjaGFuZ2UnKVxuICAuY2FzZSgnaW5wdXQnLCAodHlwZSkgPT4gKFxuICAgIHR5cGUgPT09ICdyYWRpbydcbiAgICB8fCB0eXBlID09PSAnY2hlY2tib3gnXG4gICAgfHwgdHlwZSA9PT0gJ2NvbG9yJ1xuICAgIHx8IHR5cGUgPT09ICdmaWxlJ1xuICAgICAgPyAnY2hhbmdlJ1xuICAgICAgOiAnaW5wdXQnXG4gICkpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEVmFsdWUoTWl4aW4pIHtcbiAgY2xhc3MgRFZhbHVlIGV4dGVuZHMgTWl4aW4ge1xuICAgIHN0YXRpYyBldmFsdWF0ZSA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgc3VwZXIob3B0cyk7XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgJCQ6IHtcbiAgICAgICAgICBfdmFsdWUsXG4gICAgICAgICAgcGFyZW50XG4gICAgICAgIH0sXG4gICAgICAgIGVsZW1cbiAgICAgIH0gPSB0aGlzO1xuICAgICAgY29uc3QgdHlwZSA9IGVsZW0ucHJvcCgndHlwZScpO1xuXG4gICAgICB0aGlzLnByb3AgPSBwcm9wU3dpdGNoZXIoZWxlbS5uYW1lLCBbdHlwZSwgZWxlbV0pO1xuICAgICAgdGhpcy50eXBlID0gdHlwZTtcblxuICAgICAgY29uc3QgaW5pdGlhbFNjb3BlVmFsdWUgPSBwYXJlbnQuJCQuZXZhbHVhdGUoYHskeyBfdmFsdWUgfX1gLCAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5zZXRQcm9wKG5ld1ZhbHVlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgY29uc3QgaW5pdGlhbEVsZW1WYWx1ZSA9IHRoaXMuZ2V0UHJvcChpbml0aWFsU2NvcGVWYWx1ZSk7XG5cbiAgICAgIGlmIChpc05pbChpbml0aWFsU2NvcGVWYWx1ZSkgfHwgdHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICBwYXJlbnRbX3ZhbHVlXSA9IGluaXRpYWxFbGVtVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFByb3AoaW5pdGlhbFNjb3BlVmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBlbGVtLm9uKGxpc3RlbmVyU3dpdGNoZXIoZWxlbS5uYW1lLCBbdHlwZV0pLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGVsZW0uJFswXSkge1xuICAgICAgICAgIHBhcmVudFtfdmFsdWVdID0gdGhpcy5nZXRQcm9wKHBhcmVudFtfdmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UHJvcCh2YWx1ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBlbGVtLFxuICAgICAgICBwcm9wLFxuICAgICAgICB0eXBlXG4gICAgICB9ID0gdGhpcztcblxuICAgICAgaWYgKHByb3AgPT09ICd0ZXh0Jykge1xuICAgICAgICBlbGVtLnRleHQodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5wcm9wKHByb3AsIHNldFZhbHVlU3dpdGNoZXIoZWxlbS5uYW1lLCBbdmFsdWUsIHR5cGUsIGVsZW0uJFswXS52YWx1ZV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQcm9wKHZhbHVlcykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBlbGVtLFxuICAgICAgICBwcm9wLFxuICAgICAgICB0eXBlXG4gICAgICB9ID0gdGhpcztcblxuICAgICAgcmV0dXJuIHByb3AgPT09ICd0ZXh0J1xuICAgICAgICA/IGVsZW0udGV4dCgpXG4gICAgICAgIDogZ2V0VmFsdWVTd2l0Y2hlcihlbGVtLm5hbWUsIFtlbGVtLnByb3AocHJvcCksIHR5cGUsIGVsZW0uJFswXS52YWx1ZSwgdmFsdWVzXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC12YWx1ZScsXG4gICAgdmFsdWU6IERWYWx1ZVxuICB9O1xufVxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgQmxvY2tcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEJsb2NrIGNsYXNzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFyciB9IGZyb20gJy4vQXJyJztcclxuaW1wb3J0IHsgZmluZCwgZG9jLCBFbGVtIH0gZnJvbSAnLi9FbGVtJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHtcclxuICBpdGVyYXRlLCBkZWZpbmVQcm9wZXJ0aWVzLCB2YWxpZGF0ZSxcclxuICBpc0Z1bmN0aW9uLCBpc05pbCwgaXNVbmRlZmluZWRcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgKiBhcyBCbG9ja3MgZnJvbSAnLi9ibG9ja3MnO1xyXG5pbXBvcnQgKiBhcyBNaXhpbnMgZnJvbSAnLi9taXhpbnMnO1xyXG5pbXBvcnQgeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMsIGh0bWxBbGxvd2VkQXR0clN5bWJvbHMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCBtYXJrdXBUb0pTT04gZnJvbSAnLi9oZWxwZXJzL21hcmt1cFRvSlNPTic7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIFdhdGNoZXJcclxuICogQHBhcmFtIHsqfSBuZXdWYWx1ZSAtIE5ldyB2YWx1ZS5cclxuICogQHBhcmFtIHsqfSBvbGRWYWx1ZSAtIE9sZCB2YWx1ZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIFdyYXBwZXJcclxuICogQHBhcmFtIHtCbG9ja30gQmxvY2sgY2xhc3MgdG8gd3JhcC5cclxuICogQHJldHVybnMge0Jsb2NrfSBOZXcgQmxvY2sgY2xhc3MuXHJcbiAqL1xyXG5cclxuY29uc3QgYmxvY2tzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuY29uc3QgbWl4aW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuY29uc3QgaXNQcm90b3R5cGVPZiA9IHt9LmlzUHJvdG90eXBlT2Y7XHJcbmNvbnN0IHRhZ05hbWUgPSBuZXcgUmVnRXhwKGBeJHsgaHRtbEFsbG93ZWRUYWdTeW1ib2xzIH0kYCwgJ2knKTtcclxuY29uc3QgYXR0ck5hbWUgPSBuZXcgUmVnRXhwKGBeJHsgaHRtbEFsbG93ZWRBdHRyU3ltYm9scyB9JGApO1xyXG5jb25zdCBleHByZXNzaW9uUmVnRXhwID0gL15cXHtbXFxzXFxTXStcXH0kLztcclxuY29uc3QgeyBkb2N1bWVudCB9ID0gZ2xvYmFsO1xyXG5jb25zdCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmxldCBvbkV2YWxFcnJvcjtcclxubGV0IGV2YWxNb2RlO1xyXG5sZXQgZ2V0dGluZztcclxubGV0IGNoYW5nZWQ7XHJcblxyXG4vKipcclxuICogQGNsYXNzIEJsb2NrXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBFbGVtZW50IG9wdGlvbnMuXHJcbiAqIEByZXR1cm5zIHtCbG9ja30gSW5zdGFuY2Ugb2YgQmxvY2suXHJcbiAqIEBkZXNjcmlwdGlvbiBDbGFzcyBmb3IgZHluYW1pYyB0ZW1wbGF0aW5nLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpbXBvcnQgeyBELCBCbG9jaywgaW5pdEFwcCwgcmVnaXN0ZXJCbG9jayB9IGZyb20gJ2R3YXluZSc7XHJcbiAqXHJcbiAqIGNsYXNzIEFwcCBleHRlbmRzIEJsb2NrIHtcclxuICogICBzdGF0aWMgdGVtcGxhdGUgPSAnPEhlbGxvIHRleHQ9XCJ7dGV4dH1cIi8+JztcclxuICpcclxuICogICBjb25zdHJ1Y3RvcihhcmdzLCBjaGlsZHJlbikge1xyXG4gKiAgICAgc3VwZXIoYXJncywgY2hpbGRyZW4pO1xyXG4gKlxyXG4gKiAgICAgdGhpcy50ZXh0ID0gJ3dvcmxkICgwKSc7XHJcbiAqICAgICB0aGlzLnRpbWVzID0gMDtcclxuICpcclxuICogICAgIHRoaXMuc2V0SW50ZXJ2YWwoKTtcclxuICogICB9XHJcbiAqXHJcbiAqICAgc2V0SW50ZXJ2YWwoKSB7XHJcbiAqICAgICBEKDEwMDApLmludGVydmFsKCgpID0+IHtcclxuICogICAgICAgdGhpcy50ZXh0ID0gYHdvcmxkICgkeyArK3RoaXMudGltZXMgfSlgO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgfVxyXG4gKiB9XHJcbiAqXHJcbiAqIGNsYXNzIEhlbGxvIGV4dGVuZHMgQmxvY2sge1xyXG4gKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICdIZWxsbywgPGQtdGV4dCB2YWx1ZT1cInthcmdzLnRleHR9XCIvPiEnO1xyXG4gKiB9XHJcbiAqXHJcbiAqIEJsb2NrLkFwcCA9IEFwcDtcclxuICogQmxvY2suSGVsbG8gPSBIZWxsbztcclxuICpcclxuICogaW5pdEFwcCgpO1xyXG4gKi9cclxuY2xhc3MgQmxvY2sge1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Jvb2xlYW59IFtCbG9jay5jb2xsYXBzZVdoaXRlU3BhY2UgPSB0cnVlXVxyXG4gICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZGVzY3JpcHRpb24gSWYgdGhlIHdoaXRlc3BhY2UgYmV0d2VlbiBodG1sIGVsZW1lbnRzIGFuZFxyXG4gICAqIGluIHRoZSBzdGFydCBhbmQgdGhlIGVuZCBpbnNpZGUgdGhlIHRhZyBzaG91bGQgYmUgb21pdHRlZCBkdXJpbmcgcGFyc2luZy5cclxuICAgKi9cclxuICBzdGF0aWMgY29sbGFwc2VXaGl0ZVNwYWNlID0gdHJ1ZTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7T2JqZWN0fSBbQmxvY2suZGVmYXVsdEFyZ3MgPSB0cnVlXVxyXG4gICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBQcm92aWRlIGRlZmF1bHQgYXJncyBpZiB0aGF0IGFyZ3MgbWF5IG5vdCBhcHBlYXIgaW4gdGhlIGFyZ3NcclxuICAgKiAodXNpbmcgXCJkLXJlc3RcIikgYnV0IHlvdSB1c2UgdGhlbSBpbiB5b3VyIHRlbXBsYXRlIGFuZCB3YW50IHRoZW0gdG8gYmUgd2F0Y2hlZC5cclxuICAgKi9cclxuICBzdGF0aWMgZGVmYXVsdEFyZ3MgPSB7fTtcclxuXHJcbiAgc3RhdGljIGdldCBvbkV2YWxFcnJvcigpIHtcclxuICAgIHJldHVybiBvbkV2YWxFcnJvcjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXQgb25FdmFsRXJyb3IobGlzdGVuZXIpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xyXG4gICAgICBvbkV2YWxFcnJvciA9IGxpc3RlbmVyO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25FdmFsRXJyb3IgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jay53cmFwXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7V3JhcHBlcn0gZnVuYyAtIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB3cmFwcGVkIGJsb2NrLlxyXG4gICAqIEByZXR1cm5zIHtCbG9ja30gTmV3IGJsb2NrLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHdyYXBwaW5nIGJsb2NrcyBpbnRvIGFub3RoZXIgYmxvY2tzLlxyXG4gICAqIEl0IGlzIGNvbnNpZGVyZWQgYmVzdCBwcmFjdGljZSB0byBqdXN0IGV4dGVuZHMgdGhlIG9sZCBibG9jayB3aXRoIGEgbmV3IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2xhc3MgTXlCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2PjEyMzwvZGl2Pic7XHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogTXlCbG9jay53cmFwKChCbG9jaykgPT4ge1xyXG4gICAqICAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgICBzdGF0aWMgdGVtcGxhdGUgPSBgPHNlY3Rpb24gY2xhc3M9XCJ3cmFwcGVyXCI+JHsgQmxvY2sudGVtcGxhdGUgfTwvc2VjdGlvbj5gO1xyXG4gICAqXHJcbiAgICogICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAqICAgICAgIHRoaXMuYWRkaXRpb25hbFZhciA9ICdhZGRpdGlvbmFsJztcclxuICAgKiAgICAgfVxyXG4gICAqICAgfTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBzdGF0aWMgd3JhcChmdW5jKSB7XHJcbiAgICB2YWxpZGF0ZShbZnVuY10sIFsnZnVuY3Rpb24nXSk7XHJcblxyXG4gICAgcmV0dXJuIGZ1bmModGhpcyk7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihvcHRzKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGFyZ3M6IG9yaWdpbmFsQXJncyxcclxuICAgICAgY2hpbGRyZW4sXHJcbiAgICAgIGJsb2NrLFxyXG4gICAgICBwYXJlbnQsXHJcbiAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICBwYXJlbnRTY29wZVxyXG4gICAgfSA9IG9wdHM7XHJcbiAgICBjb25zdCB3YXRjaGVyc1RvUmVtb3ZlID0gbmV3IEFycihbXSk7XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xyXG4gICAgICAvKipcclxuICAgICAgICogQG1lbWJlciB7QmxvY2t9IEJsb2NrIyRcclxuICAgICAgICogQHR5cGUge0Jsb2NrfVxyXG4gICAgICAgKiBAcHVibGljXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGlzLlxyXG4gICAgICAgKi9cclxuICAgICAgJDoge1xyXG4gICAgICAgIHZhbHVlOiB0aGlzXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG1lbWJlciB7T2JqZWN0fSBCbG9jayMkJFxyXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBhcmdzIC0gUHJpdmF0ZSBhcmdzIHNjb3BlLlxyXG4gICAgICAgKiBAcHJvcGVydHkge0Fycn0gY2hpbGRyZW4gLSBDaGlsZCBibG9ja3MuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7QXJyfSBtaXhpbnMgLSBDaGlsZCBtaXhpbnMuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBlbGVtcyAtIEVsZW1lbnRzIGNvbm5lY3RlZCB0byB0aGUgYmxvY2suXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMucGFyZW50IC0gUGFyZW50IGVsZW1lbnQuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMuc3RhcnQgLSBTdGFydCBjb21tZW50IGJsb2NrLlxyXG4gICAgICAgKiBAcHJvcGVydHkge0VsZW19IGVsZW1zLmVuZCAtIEVuZCBjb21tZW50IGJsb2NrLlxyXG4gICAgICAgKiBAcHJvcGVydHkge0VsZW19IGVsZW1zLmNvbnRlbnQgLSBDb250ZW50IGVsZW1lbnRzLlxyXG4gICAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBldmFsdWF0ZSAtIEV2YWx1YXRlIGZ1bmN0aW9uLlxyXG4gICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gZ2xvYmFsIC0gUHJpdmF0ZSBnbG9iYWwgc2NvcGUuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBsb2NhbHMgLSBQcml2YXRlIGxvY2FscyBzY29wZS5cclxuICAgICAgICogQHByb3BlcnR5IHtBcnJ9IHdhdGNoZXJzVG9SZW1vdmUgLSBXYXRjaGVycyB0byByZW1vdmUgYmVmb3JlIHJlbW92aW5nIGVsZW1lbnQuXHJcbiAgICAgICAqL1xyXG4gICAgICAkJDoge1xyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgcGFyZW50OiBwYXJlbnRTY29wZSxcclxuICAgICAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICAgICAgY2hpbGRyZW46IG5ldyBBcnIoW10pLFxyXG4gICAgICAgICAgbWl4aW5zOiBuZXcgQXJyKFtdKSxcclxuICAgICAgICAgIEJsb2NrOiBibG9jayxcclxuICAgICAgICAgIGVsZW1zOiB7XHJcbiAgICAgICAgICAgIHN0YXJ0OiBkb2MuY3JlYXRlQ29tbWVudChgICR7IG5hbWUgfTogc3RhcnQgYCksXHJcbiAgICAgICAgICAgIGVuZDogZG9jLmNyZWF0ZUNvbW1lbnQoYCAkeyBuYW1lIH06IGVuZCBgKSxcclxuICAgICAgICAgICAgY29udGVudDogbmV3IEVsZW0oKSxcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgd2F0Y2hlcnNUb1JlbW92ZSxcclxuICAgICAgICAgIGV2YWx1YXRlOiAoZXhwcmVzc2lvbiwgb25DaGFuZ2UsIGluc3RhbmNlLCBmb3JERWxlbWVudHMsIGZvckRJdGVtLCBmb3JERWFjaCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWV4cHJlc3Npb25SZWdFeHAudGVzdChleHByZXNzaW9uKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3JERWxlbWVudHMgPSAhIWZvckRFbGVtZW50cztcclxuICAgICAgICAgICAgZm9yREl0ZW0gPSAhIWZvckRJdGVtO1xyXG4gICAgICAgICAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5yZXBsYWNlKC9eXFx7fFxcfSQvZywgJycpO1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSAobmFtZSA9PT0gJyNkLWl0ZW0nICYmICFmb3JESXRlbSkgfHwgZm9yREVhY2hcclxuICAgICAgICAgICAgICA/IChmb3JERWFjaCB8fCB0aGlzKS4kJC5zY29wZVxyXG4gICAgICAgICAgICAgIDogdGhpcztcclxuXHJcbiAgICAgICAgICAgIC8qIGVzbGludCBuby1uZXctZnVuYzogMCAqL1xyXG4gICAgICAgICAgICBjb25zdCB7IHdhdGNoZXJzVG9SZW1vdmUgfSA9IGluc3RhbmNlID8gaW5zdGFuY2UuJCQgOiB7fTtcclxuICAgICAgICAgICAgY29uc3QgZnVuYyA9IG5ldyBGdW5jdGlvbihcclxuICAgICAgICAgICAgICAnJyxcclxuICAgICAgICAgICAgICAnd2l0aChkb2N1bWVudC5Ed2F5bmVTdG9yZSl7JCQuZXhwcj1ldmFsKFwiJCQuZXhwcj1cIiskJC5leHByKTtyZXR1cm4gJCQuZXhwcn0nXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZXZhbHVhdGUuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGV2YWx1YXRlKCkge1xyXG4gICAgICAgICAgICAgIGxldCByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgZXZhbE1vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZ2V0dGluZyA9IG5ldyBBcnIoW10pO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgc3RvcmUuJCQuZXhwciA9IGV4cHJlc3Npb247XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuRHdheW5lU3RvcmUgPSBzdG9yZTtcclxuXHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMoKTtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvbkV2YWxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICBvbkV2YWxFcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFdhdGNoZXJzID0gbmV3IEFycihbXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZ2V0dGluZy5mb3JFYWNoKCh3YXRjaGVycykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB3YXRjaGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Jlc3VsdCA9IGV2YWx1YXRlLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdSZXN1bHQgIT09IHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UobmV3UmVzdWx0LCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgY29uc3Qgd2F0Y2hlckJsb2NrID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvckRFbGVtZW50cyxcclxuICAgICAgICAgICAgICAgICAgICB3YXRjaGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXJzXHJcbiAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICB3YXRjaGVyLm9uUmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsV2F0Y2hlcnMuZm9yRWFjaCgod2F0Y2hlckJsb2NrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICB9ID0gd2F0Y2hlckJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXgxID0gd2F0Y2hlcnNUb1JlbW92ZS5pbmRleE9mKHdhdGNoZXJCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleDIgPSB3YXRjaGVycy5pbmRleE9mKHdhdGNoZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleDEgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUuc3BsaWNlKGluZGV4MSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4MiAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcnMuc3BsaWNlKGluZGV4MiwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICBsb2NhbFdhdGNoZXJzLnB1c2god2F0Y2hlckJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgd2F0Y2hlcnNUb1JlbW92ZS5wdXNoKHdhdGNoZXJCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXJzLnB1c2god2F0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBldmFsTW9kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZ2V0dGluZyA9IG5ldyBBcnIoW10pO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgc3RvcmUuJCQuZXhwciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuRHdheW5lU3RvcmUgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBhcmdzID0gbmV3IFN1cGVyKG9yaWdpbmFsQXJncykubWFwKCh2YWx1ZSwgYXJnKSA9PiB7XHJcbiAgICAgIGlmIChuYW1lID09PSAnZC1lYWNoJyAmJiAoXHJcbiAgICAgICAgYXJnID09PSAnaXRlbSdcclxuICAgICAgICB8fCBhcmcgPT09ICdpbmRleCdcclxuICAgICAgICB8fCBhcmcgPT09ICd1aWQnXHJcbiAgICAgICkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGZvckRFbGVtZW50cyA9IG5hbWUgPT09ICdkLWVsZW1lbnRzJyAmJiBhcmcgPT09ICd2YWx1ZSc7XHJcblxyXG4gICAgICByZXR1cm4gcGFyZW50U2NvcGUuJCQuZXZhbHVhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXJnc1thcmddID0gdmFsdWU7XHJcbiAgICAgIH0sIHRoaXMsIGZvckRFbGVtZW50cywgZm9yREVsZW1lbnRzICYmIHBhcmVudEJsb2NrLiQkLm5hbWUgPT09ICcjZC1pdGVtJyk7XHJcbiAgICB9KS4kO1xyXG5cclxuICAgIHRoaXMuYXJncyA9IGFyZ3M7XHJcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gfHwgbmV3IEFycihbXSk7XHJcbiAgICB0aGlzLmdsb2JhbCA9IE9iamVjdC5jcmVhdGUoXHJcbiAgICAgIHBhcmVudFNjb3BlXHJcbiAgICAgICAgPyBPYmplY3QuY3JlYXRlKHBhcmVudFNjb3BlLmdsb2JhbClcclxuICAgICAgICA6IG51bGxcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy4kJC5lbGVtcy5zdGFydC4kWzBdLkR3YXluZUJsb2NrID0gdGhpcztcclxuICAgIHRoaXMuJCQuZWxlbXMuZW5kLiRbMF0uRHdheW5lQmxvY2sgPSB0aGlzO1xyXG5cclxuICAgIGlmIChwYXJlbnRCbG9jaykge1xyXG4gICAgICBwYXJlbnRCbG9jay4kJC5jaGlsZHJlbi5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayNhZnRlckNvbnN0cnVjdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZGVzY3JpcHRpb24gSXMgY2FsbGVkIGFmdGVyIGJsb2NrIGNvbnN0cnVjdGlvbiAoaW5jbHVkaW5nIGFsbCBzY29wZXMpXHJcbiAgICogYnV0IGJlZm9yZSByZW5kZXJpbmcgdGhlIGJsb2NrIGFuZCBpdHMgY2hpbGRyZW4uXHJcbiAgICovXHJcbiAgYWZ0ZXJDb25zdHJ1Y3QoKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI2FmdGVyUmVuZGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJcyBjYWxsZWQgYWZ0ZXIgYmxvY2sgaGFzIGJlZW4gcmVuZGVyZWQuXHJcbiAgICovXHJcbiAgYWZ0ZXJSZW5kZXIoKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI2FmdGVyUmVuZGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJcyBjYWxsZWQgYmVmb3JlIHRoZSBibG9jayByZW1vdmFsLlxyXG4gICAqL1xyXG4gIGJlZm9yZVJlbW92ZSgpIHt9XHJcblxyXG4gIGV2YWx1YXRlQW5kV2F0Y2goZXhwcmVzc2lvbiwgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiB0aGlzLiQkLnBhcmVudC4kJC5ldmFsdWF0ZShleHByZXNzaW9uLCBjYWxsYmFjaywgdGhpcyk7XHJcbiAgfVxyXG5cclxuICBldmFsdWF0ZU9uY2UoZXhwcmVzc2lvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuJCQucGFyZW50LiQkLmV2YWx1YXRlKGV4cHJlc3Npb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayNyZW1vdmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3QgZm9yY2luZyB0aGUgYmxvY2sgdG8gYmUgcmVtb3ZlZC4gQ2FsbHNcclxuICAgKiByZW1vdmUgbWV0aG9kIGZvciBhbGwgb2YgaXRzIGNoaWxkIGJsb2NrcyBhbmQgY2FsbHMgYmVmb3JlUmVtb3ZlIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG4gIHJlbW92ZShpc1BhcmVudFNpZ25hbCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgY2hpbGRyZW4sXHJcbiAgICAgIG1peGlucyxcclxuICAgICAgZWxlbXM6IHtcclxuICAgICAgICBzdGFydCxcclxuICAgICAgICBjb250ZW50LFxyXG4gICAgICAgIGVuZFxyXG4gICAgICB9LFxyXG4gICAgICB3YXRjaGVyc1RvUmVtb3ZlXHJcbiAgICB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICByZW1vdmVXYXRjaGVycyh3YXRjaGVyc1RvUmVtb3ZlKTtcclxuXHJcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICBjaGlsZC5yZW1vdmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtaXhpbnMuZm9yRWFjaCgobWl4aW4pID0+IHtcclxuICAgICAgbWl4aW4ucmVtb3ZlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5iZWZvcmVSZW1vdmUoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmNhdWdodCBlcnJvciBpbiBiZWZvcmVSZW1vdmU6JywgZXJyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzUGFyZW50U2lnbmFsICYmIHBhcmVudEJsb2NrKSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50QmxvY2suJCQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcclxuXHJcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICBwYXJlbnRCbG9jay4kJC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbmV3IEVsZW0oW1xyXG4gICAgICBzdGFydCxcclxuICAgICAgY29udGVudCxcclxuICAgICAgZW5kXHJcbiAgICBdKS5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjd2F0Y2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IFthcmdzXSAtIFZhcnMgdG8gd2F0Y2ggKGFyZ3MsIGdsb2JhbCBvciBsb2NhbCkuXHJcbiAgICogQHBhcmFtIHtXYXRjaGVyfSB3YXRjaGVyIC0gQ2FsbGVkIHdoZW4gd2F0Y2hlZCB2YXJzIGFyZSBjaGFuZ2VkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHdhdGNoaW5nIGZvciB2YXJzLiBJZiBubyB2YXJzIHBhc3NlZCBpbiBhcmd1bWVudHNcclxuICAgKiBhbGwgdmFycyBhcmUgdG8gYmUgd2F0Y2hlZC4gT3RoZXJ3aXNlIHNwZWNpZmllZCB2YXJzIHdpbGwgYmUgd2F0Y2hlZC5cclxuICAgKiBXYXRjaGVycyBzaG91bGQgbm90IGJlIHB1dCBpbnNpZGUgdGhlIGNvbnN0cnVjdG9yLiBJdCBpcyBjb25zaWRlcmVkIGJlc3RcclxuICAgKiBwcmFjdGljZSB0byBkbyBpdCBpbnNpZGUgdGhlIHtAbGluayBCbG9jayNhZnRlckNvbnN0cnVjdH0gbWV0aG9kLlxyXG4gICAqIE5vdGUgdGhhdCB0aGVzZSBleHByZXNzaW9ucyAodmFycywgaS5lLiBcImFyZ3MuYXJnXCIpIGFyZSBub3QgdG8gYmVcclxuICAgKiBldmFsdWF0ZWQgc28geW91IGNhbm5vdCBwdXQgdGhlcmUgdGhpbmdzIGxpa2UgXCJhW2JdXCIgb3IgYW55IGpzIGNvZGUsXHJcbiAgICogb25seSBleHByZXNzaW9ucyBsaWtlIFwiYVwiLCBcImJcIiwgXCJhcmdzLmFcIiwgXCJhcmdzLmJcIiBhbmQgXCJnbG9iYWwuYVwiLCBcImdsb2JhbC5iXCIuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNsYXNzIE15QmxvY2sgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICBzdGF0aWMgdGVtcGxhdGUgPSAnPGRpdiAvPic7XHJcbiAgICpcclxuICAgKiAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAqICAgICB0aGlzLndhdGNoKCdhJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoKCdhcmdzLmEnLCAnZ2xvYmFsLnInLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2goKCkgPT4ge30pO1xyXG4gICAqICAgfVxyXG4gICAqIH1cclxuICAgKi9cclxuICB3YXRjaCgpIHtcclxuICAgIGNvbnN0IHdhdGNoZXIgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIGlmICghaXNGdW5jdGlvbih3YXRjaGVyKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgZm9yIChjb25zdCBnbG9iYWwgaW4gdGhpcy4kJC5nbG9iYWwpIHtcclxuICAgICAgICAvKiBlc2xpbnQgZ3VhcmQtZm9yLWluOiAwICovXHJcbiAgICAgICAgdGhpcy4kJC5nbG9iYWxbZ2xvYmFsXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0ZXJhdGUodGhpcy4kJC5hcmdzLCAoeyB3YXRjaGVycyB9KSA9PiB7XHJcbiAgICAgICAgd2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCQubG9jYWxzLCAoeyB3YXRjaGVycyB9KSA9PiB7XHJcbiAgICAgICAgd2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKHZhcmlhYmxlKSA9PiB7XHJcbiAgICAgIGlmICh2YXJpYWJsZSA9PT0gd2F0Y2hlcikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyaWFibGUgPSBgJHsgdmFyaWFibGUgfWA7XHJcblxyXG4gICAgICBpZiAoL15hcmdzXFwuLy50ZXN0KHZhcmlhYmxlKSkge1xyXG4gICAgICAgIHZhcmlhYmxlID0gdmFyaWFibGUucmVwbGFjZSgvXmFyZ3NcXC4vLCAnJyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy4kJC5hcmdzW3ZhcmlhYmxlXSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kJC5hcmdzW3ZhcmlhYmxlXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKC9eZ2xvYmFsXFwuLy50ZXN0KHZhcmlhYmxlKSkge1xyXG4gICAgICAgIHZhcmlhYmxlID0gdmFyaWFibGUucmVwbGFjZSgvXmdsb2JhbFxcLi8sICcnKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLiQkLmdsb2JhbFt2YXJpYWJsZV0pIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJCQuZ2xvYmFsW3ZhcmlhYmxlXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLiQkLmxvY2Fsc1t2YXJpYWJsZV0pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuJCQubG9jYWxzW3ZhcmlhYmxlXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjd2F0Y2hBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBbYXJnc10gLSBBcmdzIHRvIHdhdGNoLlxyXG4gICAqIEBwYXJhbSB7V2F0Y2hlcn0gd2F0Y2hlciAtIENhbGxlZCB3aGVuIHdhdGNoZWQgYXJncyBhcmUgY2hhbmdlZC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB3YXRjaGluZyBmb3IgYXJncy4gSWYgbm8gYXJncyBwYXNzZWQgaW4gYXJndW1lbnRzXHJcbiAgICogYWxsIGFyZ3MgYXJlIHRvIGJlIHdhdGNoZWQuIE90aGVyd2lzZSBzcGVjaWZpZWQgYXJncyB3aWxsIGJlIHdhdGNoZWQuXHJcbiAgICogV2F0Y2hlcnMgc2hvdWxkIG5vdCBiZSBwdXQgaW5zaWRlIHRoZSBjb25zdHJ1Y3Rvci4gSXQgaXMgY29uc2lkZXJlZCBiZXN0XHJcbiAgICogcHJhY3RpY2UgdG8gZG8gaXQgaW5zaWRlIHRoZSB7QGxpbmsgQmxvY2sjYWZ0ZXJDb25zdHJ1Y3R9IG1ldGhvZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2xhc3MgTXlCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2IC8+JztcclxuICAgKlxyXG4gICAqICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICogICAgIHRoaXMud2F0Y2hBcmdzKCdhJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoQXJncygnYScsICdiJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoQXJncygoKSA9PiB7fSk7XHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqL1xyXG4gIHdhdGNoQXJncygpIHtcclxuICAgIGNvbnN0IHdhdGNoZXIgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIGlmICghaXNGdW5jdGlvbih3YXRjaGVyKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgcmV0dXJuIGl0ZXJhdGUodGhpcy4kJC5hcmdzLCAoeyB3YXRjaGVycyB9KSA9PiB7XHJcbiAgICAgICAgd2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGFyZykgPT4ge1xyXG4gICAgICBpZiAoYXJnID09PSB3YXRjaGVyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMuJCQuYXJnc1thcmddKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkLmFyZ3NbYXJnXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjd2F0Y2hHbG9iYWxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IFtnbG9iYWxzXSAtIEdsb2JhbHMgdG8gd2F0Y2guXHJcbiAgICogQHBhcmFtIHtXYXRjaGVyfSB3YXRjaGVyIC0gQ2FsbGVkIHdoZW4gd2F0Y2hlZCBnbG9iYWxzIGFyZSBjaGFuZ2VkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHdhdGNoaW5nIGZvciBnbG9iYWxzLiBJZiBubyBnbG9iYWxzIHBhc3NlZCBpbiBhcmd1bWVudHNcclxuICAgKiBhbGwgZ2xvYmFscyBhcmUgdG8gYmUgd2F0Y2hlZC4gT3RoZXJ3aXNlIHNwZWNpZmllZCBnbG9iYWxzIHdpbGwgYmUgd2F0Y2hlZC5cclxuICAgKiBXYXRjaGVycyBzaG91bGQgbm90IGJlIHB1dCBpbnNpZGUgdGhlIGNvbnN0cnVjdG9yLiBJdCBpcyBjb25zaWRlcmVkIGJlc3RcclxuICAgKiBwcmFjdGljZSB0byBkbyBpdCBpbnNpZGUgdGhlIHtAbGluayBCbG9jayNhZnRlckNvbnN0cnVjdH0gbWV0aG9kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXYgLz4nO1xyXG4gICAqXHJcbiAgICogICBhZnRlckNvbnN0cnVjdCgpIHtcclxuICAgKiAgICAgdGhpcy53YXRjaEdsb2JhbCgnYScsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaEdsb2JhbCgnYScsICdiJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoR2xvYmFsKCgpID0+IHt9KTtcclxuICAgKiAgIH1cclxuICAgKiB9XHJcbiAgICovXHJcbiAgd2F0Y2hHbG9iYWxzKCkge1xyXG4gICAgY29uc3Qgd2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBmb3IgKGNvbnN0IGdsb2JhbCBpbiB0aGlzLiQkLmdsb2JhbCkge1xyXG4gICAgICAgIC8qIGVzbGludCBndWFyZC1mb3ItaW46IDAgKi9cclxuICAgICAgICB0aGlzLiQkLmdsb2JhbFtnbG9iYWxdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZ2xvYmFsKSA9PiB7XHJcbiAgICAgIGlmIChnbG9iYWwgPT09IHdhdGNoZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy4kJC5nbG9iYWxbZ2xvYmFsXSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kJC5nbG9iYWxbZ2xvYmFsXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjd2F0Y2hMb2NhbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IFtsb2NhbHNdIC0gTG9jYWxzIHRvIHdhdGNoLlxyXG4gICAqIEBwYXJhbSB7V2F0Y2hlcn0gd2F0Y2hlciAtIENhbGxlZCB3aGVuIHdhdGNoZWQgbG9jYWxzIGFyZSBjaGFuZ2VkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHdhdGNoaW5nIGZvciBsb2NhbHMuIElmIG5vIGxvY2FscyBwYXNzZWQgaW4gYXJndW1lbnRzXHJcbiAgICogYWxsIGxvY2FscyBhcmUgdG8gYmUgd2F0Y2hlZC4gT3RoZXJ3aXNlIHNwZWNpZmllZCBsb2NhbHMgd2lsbCBiZSB3YXRjaGVkLlxyXG4gICAqIFdhdGNoZXJzIHNob3VsZCBub3QgYmUgcHV0IGluc2lkZSB0aGUgY29uc3RydWN0b3IuIEl0IGlzIGNvbnNpZGVyZWQgYmVzdFxyXG4gICAqIHByYWN0aWNlIHRvIGRvIGl0IGluc2lkZSB0aGUge0BsaW5rIEJsb2NrI2FmdGVyQ29uc3RydWN0fSBtZXRob2QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNsYXNzIE15QmxvY2sgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICBzdGF0aWMgdGVtcGxhdGUgPSAnPGRpdiAvPic7XHJcbiAgICpcclxuICAgKiAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAqICAgICB0aGlzLndhdGNoTG9jYWxzKCdhJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoTG9jYWxzKCdhJywgJ2InLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hMb2NhbHMoKCkgPT4ge30pO1xyXG4gICAqICAgfVxyXG4gICAqIH1cclxuICAgKi9cclxuICB3YXRjaExvY2FscygpIHtcclxuICAgIGNvbnN0IHdhdGNoZXIgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIGlmICghaXNGdW5jdGlvbih3YXRjaGVyKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgcmV0dXJuIGl0ZXJhdGUodGhpcy4kJC5sb2NhbHMsICh7IHdhdGNoZXJzIH0pID0+IHtcclxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAobG9jYWwpID0+IHtcclxuICAgICAgaWYgKGxvY2FsID09PSB3YXRjaGVyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMuJCQubG9jYWxzW2xvY2FsXSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kJC5sb2NhbHNbbG9jYWxdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxucmVnaXN0ZXJCdWlsdElucyhCbG9ja3MsIEJsb2NrKTtcclxuXHJcbmNsYXNzIE1peGluIHtcclxuICBzdGF0aWMgZXZhbHVhdGUgPSB0cnVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihvcHRzKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICBlbGVtLFxyXG4gICAgICBtYXRjaCxcclxuICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgIHBhcmVudFNjb3BlXHJcbiAgICB9ID0gb3B0cztcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XHJcbiAgICAgICQkOiB7XHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIF92YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudFNjb3BlLFxyXG4gICAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlOiBuZXcgQXJyKFtdKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5tYXRjaCA9IG5ldyBBcnIobWF0Y2gpLnNsaWNlKDEpLiQ7XHJcbiAgICB0aGlzLmVsZW0gPSBlbGVtO1xyXG5cclxuICAgIGlmIChuZXcgU3VwZXIodGhpcykucHJvdG8oKS4kLmNvbnN0cnVjdG9yLmV2YWx1YXRlKSB7XHJcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmV2YWx1YXRlQW5kV2F0Y2goKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNvblVwZGF0ZTpgLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLmFmdGVyVXBkYXRlKHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYXJlbnRCbG9jaykge1xyXG4gICAgICBwYXJlbnRCbG9jay4kJC5taXhpbnMucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFmdGVyVXBkYXRlKCkge31cclxuXHJcbiAgYmVmb3JlUmVtb3ZlKCkge31cclxuXHJcbiAgZXZhbHVhdGVBbmRXYXRjaChjYWxsYmFjaykge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBfdmFsdWUsXHJcbiAgICAgIHBhcmVudFxyXG4gICAgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgcmV0dXJuIHBhcmVudC4kJC5ldmFsdWF0ZShfdmFsdWUsIGNhbGxiYWNrLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIGV2YWx1YXRlT25jZSgpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgX3ZhbHVlLFxyXG4gICAgICBwYXJlbnRcclxuICAgIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIHJldHVybiBwYXJlbnQuJCQuZXZhbHVhdGUoX3ZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTWl4aW4jcmVtb3ZlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm90IGZvcmNpbmcgdGhlIG1peGluIHRvIGJlIHJlbW92ZWQuXHJcbiAgICovXHJcbiAgcmVtb3ZlKGlzUGFyZW50U2lnbmFsKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICB3YXRjaGVyc1RvUmVtb3ZlXHJcbiAgICB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICByZW1vdmVXYXRjaGVycyh3YXRjaGVyc1RvUmVtb3ZlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmJlZm9yZVJlbW92ZSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuY2F1Z2h0IGVycm9yIGluIGJlZm9yZVJlbW92ZTonLCBlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNQYXJlbnRTaWduYWwgJiYgcGFyZW50QmxvY2spIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnRCbG9jay4kJC5taXhpbnMuaW5kZXhPZih0aGlzKTtcclxuXHJcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICBwYXJlbnRCbG9jay4kJC5taXhpbnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxucmVnaXN0ZXJCdWlsdElucyhNaXhpbnMsIE1peGluKTtcclxuXHJcbmZ1bmN0aW9uIGluaXRBcHAoKSB7XHJcbiAgY29uc3Qgcm9vdCA9IGZpbmQoJ2Qtcm9vdCcpLmZpcnN0KCk7XHJcblxyXG4gIGlmICghcm9vdC5sZW5ndGgpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignTm8gZC1yb290IGVsZW1lbnQgaXMgZm91bmQhIChpbml0QXBwKScpO1xyXG4gIH1cclxuXHJcbiAgcmVnaXN0ZXJCbG9ja3MoQmxvY2ssIGJsb2Nrcyk7XHJcblxyXG4gIGl0ZXJhdGUoTWl4aW4sIChNaXhpbiwgbmFtZSkgPT4ge1xyXG4gICAgaWYgKG5hbWUgPT09ICdldmFsdWF0ZScpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNGdW5jdGlvbihNaXhpbikpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBUaGUgXCIkeyBuYW1lIH1cIiBtaXhpbiBpcyBub3QgYSBmdW5jdGlvbiBhbmQgd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoaW5pdEFwcClgKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWF0dHJOYW1lLnRlc3QobmFtZSkpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBOYW1lIFwiJHsgbmFtZSB9XCIgaXMgbm90IGFsbG93ZWQgZm9yIG1peGlucyBzbyB0aGUgbWl4aW4gd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoaW5pdEFwcClgKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzSW5zdGFuY2VPZk1peGluKE1peGluKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFRoZSBcIiR7IG5hbWUgfVwiIG1peGluIGRvZXMgbm90IGV4dGVuZCBNaXhpbiBhbmQgd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoaW5pdEFwcClgKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBtaXhpbnNbbmFtZV0gPSBNaXhpbjtcclxuXHJcbiAgICBkZWZpbmVQcm9wZXJ0aWVzKE1peGluLCB7XHJcbiAgICAgIF9tYXRjaDogbmV3IFJlZ0V4cChgXiR7IG5hbWUgfSg/Oi0oW1xcXFxzXFxcXFNdKykpPyRgKVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGJsb2NrID0gcm9vdC5hdHRyKCdibG9jaycpO1xyXG5cclxuICBpZiAoIWJsb2Nrc1tibG9ja10pIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgTm8gXCIkeyBibG9jayB9XCIgYmxvY2sgaXMgcmVnaXN0ZXJlZCEgKGluaXRBcHApYCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZXBsYWNlbWVudCA9IGRvYy5jcmVhdGVDb21tZW50KCcgZC1yb290OiBzdGFydCAnKTtcclxuICBjb25zdCBwYXJlbnQgPSByb290LnBhcmVudCgpO1xyXG5cclxuICByZXBsYWNlbWVudC5hZGQoZG9jLmNyZWF0ZUNvbW1lbnQoJyBkLXJvb3Q6IGVuZCAnKSk7XHJcblxyXG4gIHJvb3QucmVwbGFjZShyZXBsYWNlbWVudCk7XHJcblxyXG4gIGNyZWF0ZUJsb2NrKHtcclxuICAgIG5vZGU6IHtcclxuICAgICAgbmFtZTogYmxvY2ssXHJcbiAgICAgIGF0dHJzOiB7fSxcclxuICAgICAgY2hpbGRyZW46IG5ldyBBcnIoW10pXHJcbiAgICB9LFxyXG4gICAgYWZ0ZXI6IHJlcGxhY2VtZW50LmZpcnN0KCksXHJcbiAgICBwYXJlbnRcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJCbG9ja3MoQmxvY2ssIGJsb2Nrcykge1xyXG4gIGl0ZXJhdGUoQmxvY2ssIChCbG9jaywgbmFtZSkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICBuYW1lID09PSAnY29sbGFwc2VXaGl0ZVNwYWNlJ1xyXG4gICAgICB8fCBuYW1lID09PSAnZGVmYXVsdEFyZ3MnXHJcbiAgICAgIHx8IG5hbWUgPT09ICd0ZW1wbGF0ZSdcclxuICAgICAgfHwgbmFtZSA9PT0gJ3dyYXAnXHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNGdW5jdGlvbihCbG9jaykpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBUaGUgXCIkeyBuYW1lIH1cIiBibG9jayBpcyBub3QgYSBmdW5jdGlvbiBhbmQgd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoaW5pdEFwcClgKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXRhZ05hbWUudGVzdChuYW1lKSAmJiBuYW1lICE9PSAnI2QtaXRlbScpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBOYW1lIFwiJHsgbmFtZSB9XCIgaXMgbm90IGFsbG93ZWQgZm9yIGJsb2NrcyBzbyB0aGUgYmxvY2sgd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoaW5pdEFwcClgKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzSW5zdGFuY2VPZkJsb2NrKEJsb2NrKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFRoZSBcIiR7IG5hbWUgfVwiIGJsb2NrIGRvZXMgbm90IGV4dGVuZCBCbG9jayBhbmQgd2lsbCBub3QgYmUgcmVnaXN0ZXJlZCAoaW5pdEFwcClgKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IE9iamVjdC5jcmVhdGUoYmxvY2tzKTtcclxuXHJcbiAgICBibG9ja3NbbmFtZV0gPSB7XHJcbiAgICAgIGJsb2NrOiBCbG9jayxcclxuICAgICAgaHRtbDogZGVlcENsb25lQ2hpbGRyZW4oXHJcbiAgICAgICAgbWFya3VwVG9KU09OKFxyXG4gICAgICAgICAgYCR7IEJsb2NrLnRlbXBsYXRlIHx8ICcnIH1gLFxyXG4gICAgICAgICAgQmxvY2suY29sbGFwc2VXaGl0ZVNwYWNlXHJcbiAgICAgICAgKVxyXG4gICAgICApLFxyXG4gICAgICBjaGlsZHJlblxyXG4gICAgfTtcclxuXHJcbiAgICByZWdpc3RlckJsb2NrcyhCbG9jaywgY2hpbGRyZW4pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckJ1aWx0SW5zKHNldCwgcHJvdG8pIHtcclxuICBpdGVyYXRlKHNldCwgKHJlZ2lzdGVyKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHZhbHVlXHJcbiAgICB9ID0gcmVnaXN0ZXIocHJvdG8sIGNyZWF0ZUJsb2NrKTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIHtcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIGVudW1lcmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVCbG9jayh7IG5vZGUsIGFmdGVyLCBwYXJlbnQsIHBhcmVudEJsb2NrLCBwYXJlbnRTY29wZSB9KSB7XHJcbiAgcGFyZW50U2NvcGUgPSAobm9kZSAmJiBub2RlLmJsb2NrKSB8fCBwYXJlbnRTY29wZTtcclxuXHJcbiAgY29uc3QgbmFtZSA9IChub2RlICYmIG5vZGUubmFtZSkgfHwgJ1Vua25vd25CbG9jayc7XHJcbiAgY29uc3QgYXJncyA9IChub2RlICYmIG5vZGUuYXR0cnMpIHx8IHt9O1xyXG4gIGNvbnN0IGNoaWxkcmVuID0gKG5vZGUgJiYgbm9kZS5jaGlsZHJlbikgfHwgbmV3IEFycihbXSk7XHJcbiAgY29uc3QgZWxlbSA9IHBhcmVudC5wcm9wKCduYW1lc3BhY2VVUkknKSA9PT0gc3ZnTlNcclxuICAgID8gZG9jLnN2ZygpXHJcbiAgICA6IG5ldyBFbGVtKGRvYy50ZW1wbGF0ZSgpLiRbMF0uY29udGVudCk7XHJcbiAgY29uc3QgbG9jYWxCbG9ja3MgPSBwYXJlbnRTY29wZSA/IHBhcmVudFNjb3BlLiQkLkJsb2NrLmNoaWxkcmVuIDogYmxvY2tzO1xyXG4gIGxldCBjb25zdHJ1Y3RvciA9IG5vZGUgJiYgbm9kZS5uYW1lICYmIGxvY2FsQmxvY2tzW25vZGUubmFtZV0gPyBsb2NhbEJsb2Nrc1tub2RlLm5hbWVdLmJsb2NrIDogbnVsbDtcclxuICBsZXQgZEJsb2NrTWF0Y2g7XHJcblxyXG4gIGlmICghY2hpbGRyZW4ubGVuZ3RoICYmIChkQmxvY2tNYXRjaCA9IG5hbWUubWF0Y2goL15kLWJsb2NrLShbXFxzXFxTXSspJC8pIHx8IG5hbWUgPT09ICdkLWJsb2NrJykpIHtcclxuICAgIGNvbnN0cnVjdG9yID0gYmxvY2tzWydkLWJsb2NrJ10uYmxvY2s7XHJcblxyXG4gICAgYXJncy5uYW1lID0gZEJsb2NrTWF0Y2ggPyBkQmxvY2tNYXRjaFsxXSA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBpZiAoIWNvbnN0cnVjdG9yKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICBjaGlsZHJlblxyXG4gICAgfSA9IG5vZGU7XHJcblxyXG4gICAgaWYgKG5hbWUgPT09ICcjdGV4dCcgJiYgZXhwcmVzc2lvblJlZ0V4cC50ZXN0KHZhbHVlKSkge1xyXG4gICAgICByZXR1cm4gY3JlYXRlQmxvY2soe1xyXG4gICAgICAgIG5vZGU6IHtcclxuICAgICAgICAgIG5hbWU6ICdkLXRleHQnLFxyXG4gICAgICAgICAgYXR0cnM6IHsgdmFsdWUgfSxcclxuICAgICAgICAgIGNoaWxkcmVuOiBuZXcgQXJyKFtdKSxcclxuICAgICAgICAgIGJsb2NrOiBwYXJlbnRTY29wZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgcGFyZW50LFxyXG4gICAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICAgIHBhcmVudFNjb3BlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtLmNyZWF0ZShuYW1lKTtcclxuICAgIGNvbnN0IGN1cnJlbnRNaXhpbnMgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICBjb25zdCBhdHRycyA9IG5ldyBTdXBlcihhcmdzKS5vYmplY3QoKG9iamVjdCwgdmFsdWUsIGF0dHIpID0+IHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSBpdGVyYXRlKG1peGlucywgKE1peGluLCBuYW1lKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBhdHRyLm1hdGNoKE1peGluLl9tYXRjaCk7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbWF0Y2gsXHJcbiAgICAgICAgICAgIG5hbWVcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIGN1cnJlbnRNaXhpbnMucHVzaCh7XHJcbiAgICAgICAgICBuYW1lOiBtYXRjaC5uYW1lLFxyXG4gICAgICAgICAgbWF0Y2g6IG1hdGNoLm1hdGNoLFxyXG4gICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICBlbGVtOiBlbGVtZW50LFxyXG4gICAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgICBwYXJlbnRTY29wZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG9iamVjdFthdHRyXSA9IHBhcmVudFNjb3BlLiQkLmV2YWx1YXRlKHZhbHVlLCAodmFsdWUpID0+IHtcclxuICAgICAgICBlbGVtZW50LmF0dHIoYXR0ciwgdmFsdWUpO1xyXG4gICAgICB9LCBwYXJlbnRCbG9jayk7XHJcbiAgICB9KS4kO1xyXG5cclxuICAgIGlmICghaXNOaWwodmFsdWUpKSB7XHJcbiAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF0dHJzKSB7XHJcbiAgICAgIGVsZW1lbnQuYXR0cihhdHRycyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFmdGVyLmxlbmd0aCkge1xyXG4gICAgICBlbGVtZW50Lmluc2VydEFmdGVyKGFmdGVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQuaW50byhwYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyID0gbmV3IEVsZW0oKTtcclxuXHJcbiAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgdHJhbnNmb3JtRElmQ2hpbGRyZW4oY2hpbGRyZW4pLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYmxvY2sgPSBjcmVhdGVCbG9jayh7XHJcbiAgICAgICAgICBub2RlOiBjaGlsZCxcclxuICAgICAgICAgIGFmdGVyLFxyXG4gICAgICAgICAgcGFyZW50OiBlbGVtZW50LFxyXG4gICAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgICBwYXJlbnRTY29wZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBCbG9jaykge1xyXG4gICAgICAgICAgYWZ0ZXIgPSBibG9jay4kJC5lbGVtcy5lbmQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFmdGVyID0gYmxvY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjdXJyZW50TWl4aW5zLmZvckVhY2goKG9wdHMpID0+IHtcclxuICAgICAgY3JlYXRlTWl4aW4ob3B0cyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGNvbnN0IGJsb2NrID0gbm9kZSAmJiBub2RlLm5hbWUgPyBsb2NhbEJsb2Nrc1tub2RlLm5hbWVdIDogbnVsbDtcclxuICBjb25zdCBibG9ja0luc3RhbmNlID0gbmV3IGNvbnN0cnVjdG9yKHtcclxuICAgIG5hbWUsXHJcbiAgICBhcmdzLFxyXG4gICAgY2hpbGRyZW4sXHJcbiAgICBibG9jayxcclxuICAgIHBhcmVudCxcclxuICAgIHBhcmVudEJsb2NrLFxyXG4gICAgcGFyZW50U2NvcGVcclxuICB9KTtcclxuXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYmxvY2tJbnN0YW5jZSwge1xyXG4gICAgYXJnczoge1xyXG4gICAgICB2YWx1ZTogYmxvY2tJbnN0YW5jZS5hcmdzXHJcbiAgICB9LFxyXG4gICAgZ2xvYmFsOiB7XHJcbiAgICAgIHZhbHVlOiBibG9ja0luc3RhbmNlLmdsb2JhbFxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBsZXQgaHRtbCA9IG5hbWUgPT09ICdkLWVsZW1lbnRzJ1xyXG4gICAgPyBuZXcgQXJyKGJsb2NrSW5zdGFuY2UuYXJncy52YWx1ZSB8fCBbXSlcclxuICAgIDogZGVlcENsb25lQ2hpbGRyZW4oYmxvY2suaHRtbCwgYmxvY2tJbnN0YW5jZSk7XHJcblxyXG4gIGlmIChuYW1lID09PSAnZC1lbGVtZW50cycgJiYgcGFyZW50QmxvY2suJCQubmFtZSA9PT0gJyNkLWl0ZW0nKSB7XHJcbiAgICBodG1sID0gZGVlcENsb25lQ2hpbGRyZW4oaHRtbCwgcGFyZW50QmxvY2spO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qge1xyXG4gICAgJCQsXHJcbiAgICBhcmdzOiBBcmdzLFxyXG4gICAgZ2xvYmFsLFxyXG4gICAgLi4ubG9jYWxzXHJcbiAgfSA9IGJsb2NrSW5zdGFuY2U7XHJcbiAgY29uc3QgZXZlbnR1YWxBcmdzID0ge1xyXG4gICAgLi4uY29uc3RydWN0b3IuZGVmYXVsdEFyZ3MsXHJcbiAgICAuLi5BcmdzXHJcbiAgfTtcclxuXHJcbiAgZGVsZXRlIGxvY2Fscy4kO1xyXG4gIGRlbGV0ZSBsb2NhbHMuJCQ7XHJcblxyXG4gICQkLmFyZ3MgPSBjb25zdHJ1Y3RQcml2YXRlU2NvcGUoZXZlbnR1YWxBcmdzKTtcclxuICAkJC5sb2NhbHMgPSBjb25zdHJ1Y3RQcml2YXRlU2NvcGUobG9jYWxzKTtcclxuICAkJC5nbG9iYWwgPSBjb25zdHJ1Y3RQcml2YXRlU2NvcGUoZ2xvYmFsLCAnZ2xvYmFsJywgcGFyZW50U2NvcGUpO1xyXG5cclxuICBpZiAobmFtZSA9PT0gJyNkLWl0ZW0nKSB7XHJcbiAgICBjb25zdCBzY29wZVZhbHVlcyA9IHtcclxuICAgICAgW25vZGUuaXRlbU5hbWVdOiBub2RlLml0ZW0sXHJcbiAgICAgIFtub2RlLmluZGV4TmFtZV06IG5vZGUuaW5kZXhcclxuICAgIH07XHJcbiAgICBsZXQgcGFyZW50ID0gYmxvY2tJbnN0YW5jZTtcclxuICAgIGxldCBzY29wZSA9IHBhcmVudFNjb3BlO1xyXG4gICAgbGV0IERJdGVtRm91bmQ7XHJcblxyXG4gICAgd2hpbGUgKCFESXRlbUZvdW5kICYmIChwYXJlbnQgPSBwYXJlbnQuJCQucGFyZW50QmxvY2spKSB7XHJcbiAgICAgIERJdGVtRm91bmQgPSBwYXJlbnQuJCQubmFtZSA9PT0gJyNkLWl0ZW0nO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChESXRlbUZvdW5kKSB7XHJcbiAgICAgIHNjb3BlID0gcGFyZW50LiQkLnNjb3BlO1xyXG4gICAgfVxyXG5cclxuICAgICQkLkJsb2NrID0gcGFyZW50U2NvcGUuJCQuQmxvY2s7XHJcbiAgICAkJC5wcml2YXRlU2NvcGUgPSBjb25zdHJ1Y3RQcml2YXRlU2NvcGUoc2NvcGVWYWx1ZXMpO1xyXG4gICAgY29uc3RydWN0UHVibGljU2NvcGUoJCQuc2NvcGUgPSBPYmplY3QuY3JlYXRlKHNjb3BlKSwgc2NvcGVWYWx1ZXMsICQkLnByaXZhdGVTY29wZSk7XHJcbiAgfVxyXG5cclxuICBpZiAobmFtZSA9PT0gJ2QtZWFjaCcpIHtcclxuICAgICQkLnNjb3BlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRTY29wZSk7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RQdWJsaWNTY29wZShBcmdzLCBldmVudHVhbEFyZ3MsICQkLmFyZ3MpO1xyXG4gIGNvbnN0cnVjdFB1YmxpY1Njb3BlKGdsb2JhbCwgZ2xvYmFsLCAkJC5nbG9iYWwpO1xyXG4gIGNvbnN0cnVjdFB1YmxpY1Njb3BlKGJsb2NrSW5zdGFuY2UsIGxvY2FscywgJCQubG9jYWxzKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGJsb2NrSW5zdGFuY2UuYWZ0ZXJDb25zdHJ1Y3QoKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNhZnRlckNvbnN0cnVjdDpgLCBlcnIpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZWxlbXMgPSBuZXcgRWxlbShbXHJcbiAgICAkJC5lbGVtcy5zdGFydCxcclxuICAgICQkLmVsZW1zLmVuZFxyXG4gIF0pO1xyXG5cclxuICBpZiAoYWZ0ZXIubGVuZ3RoKSB7XHJcbiAgICBlbGVtcy5pbnNlcnRBZnRlcihhZnRlcik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVsZW1zLmludG8ocGFyZW50KTtcclxuICB9XHJcblxyXG4gIGFmdGVyID0gJCQuZWxlbXMuc3RhcnQ7XHJcblxyXG4gIC8vIGNvbnNvbGUubG9nKGJsb2NrSW5zdGFuY2UpO1xyXG5cclxuICB0cmFuc2Zvcm1ESWZDaGlsZHJlbihodG1sKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgY29uc3QgYmxvY2sgPSBjcmVhdGVCbG9jayh7XHJcbiAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICBhZnRlcixcclxuICAgICAgcGFyZW50LFxyXG4gICAgICBwYXJlbnRCbG9jazogYmxvY2tJbnN0YW5jZSxcclxuICAgICAgcGFyZW50U2NvcGVcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbXMgfSA9IGJsb2NrLiQkO1xyXG5cclxuICAgICAgYWZ0ZXIgPSBlbGVtcy5lbmQ7XHJcblxyXG4gICAgICAkJC5lbGVtcy5jb250ZW50LmFkZChlbGVtcy5zdGFydCwgZWxlbXMuY29udGVudCwgZWxlbXMuZW5kKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFmdGVyID0gYmxvY2s7XHJcblxyXG4gICAgICAkJC5lbGVtcy5jb250ZW50LmFkZChibG9jayk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBibG9ja0luc3RhbmNlLmFmdGVyUmVuZGVyKCk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBVbmNhdWdodCBlcnJvciBpbiAkeyBuYW1lIH0jYWZ0ZXJSZW5kZXI6YCwgZXJyKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBibG9ja0luc3RhbmNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVNaXhpbih7IG5hbWUsIHZhbHVlLCBtYXRjaCwgZWxlbSwgcGFyZW50QmxvY2ssIHBhcmVudFNjb3BlIH0pIHtcclxuICBjb25zdCBNaXhpbiA9IG1peGluc1tuYW1lXTtcclxuXHJcbiAgbmV3IE1peGluKHtcclxuICAgIHZhbHVlLFxyXG4gICAgbWF0Y2gsXHJcbiAgICBlbGVtLFxyXG4gICAgcGFyZW50QmxvY2ssXHJcbiAgICBwYXJlbnRTY29wZVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWVwQ2xvbmVDaGlsZHJlbihjaGlsZHJlbiwgYmxvY2spIHtcclxuICByZXR1cm4gbmV3IEFycihjaGlsZHJlbiB8fCBbXSkubWFwKChjaGlsZCkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBhdHRycyxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIGNoaWxkcmVuXHJcbiAgICB9ID0gY2hpbGQ7XHJcbiAgICBjb25zdCBuZXdDaGlsZCA9IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIGF0dHJzOiB7IC4uLmF0dHJzIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKGJsb2NrKSB7XHJcbiAgICAgIG5ld0NoaWxkLmJsb2NrID0gYmxvY2s7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgIG5ld0NoaWxkLmNoaWxkcmVuID0gZGVlcENsb25lQ2hpbGRyZW4oY2hpbGRyZW4sIGJsb2NrKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3Q2hpbGQ7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybURJZkNoaWxkcmVuKGNoaWxkcmVuKSB7XHJcbiAgcmV0dXJuIG5ldyBBcnIoY2hpbGRyZW4gfHwgW10pXHJcbiAgICAuY29uY2F0KHt9KVxyXG4gICAgLm9iamVjdCgob2JqZWN0LCBjaGlsZCkgPT4ge1xyXG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGNoaWxkO1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgaHRtbCxcclxuICAgICAgICBpZkVsc2VcclxuICAgICAgfSA9IG9iamVjdDtcclxuXHJcbiAgICAgIGlmIChuYW1lICE9PSAnZC1lbHNlLWlmJyAmJiBuYW1lICE9PSAnZC1lbHNlJykge1xyXG4gICAgICAgIGlmIChpZkVsc2UpIHtcclxuICAgICAgICAgIGh0bWwucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdkLWlmJyxcclxuICAgICAgICAgICAgYmxvY2s6IGlmRWxzZS4kWzBdLmJsb2NrLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogaWZFbHNlXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBvYmplY3QuaWZFbHNlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1pZicpIHtcclxuICAgICAgICAgIG9iamVjdC5pZkVsc2UgPSBuZXcgQXJyKFtjaGlsZF0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlzVW5kZWZpbmVkKG5hbWUpKSB7XHJcbiAgICAgICAgICBodG1sLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAoaWZFbHNlIHx8IGh0bWwpLnB1c2goY2hpbGQpO1xyXG5cclxuICAgICAgICBpZiAobmFtZSA9PT0gJ2QtZWxzZScgJiYgaWZFbHNlKSB7XHJcbiAgICAgICAgICBodG1sLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiAnZC1pZicsXHJcbiAgICAgICAgICAgIGJsb2NrOiBpZkVsc2UuJFswXS5ibG9jayxcclxuICAgICAgICAgICAgY2hpbGRyZW46IGlmRWxzZVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgb2JqZWN0LmlmRWxzZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgIGh0bWw6IG5ldyBBcnIoW10pLFxyXG4gICAgICBpZkVsc2U6IG51bGxcclxuICAgIH0pLiQuaHRtbDtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbnN0YW5jZU9mQmxvY2soYmxvY2spIHtcclxuICByZXR1cm4gaXNQcm90b3R5cGVPZi5jYWxsKEJsb2NrLCBibG9jaykgJiYgaXNQcm90b3R5cGVPZi5jYWxsKEJsb2NrLnByb3RvdHlwZSwgYmxvY2sucHJvdG90eXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbnN0YW5jZU9mTWl4aW4obWl4aW4pIHtcclxuICByZXR1cm4gaXNQcm90b3R5cGVPZi5jYWxsKE1peGluLCBtaXhpbikgJiYgaXNQcm90b3R5cGVPZi5jYWxsKE1peGluLnByb3RvdHlwZSwgbWl4aW4ucHJvdG90eXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlV2F0Y2hlcnMod2F0Y2hlcnNUb1JlbW92ZSkge1xyXG4gIHdhdGNoZXJzVG9SZW1vdmUuZm9yRWFjaCgoeyB3YXRjaGVyLCB3YXRjaGVycyB9KSA9PiB7XHJcbiAgICBjb25zdCBpbmRleCA9IHdhdGNoZXJzLmluZGV4T2Yod2F0Y2hlcik7XHJcblxyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICB3YXRjaGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb25zdHJ1Y3RQcml2YXRlU2NvcGUob2JqZWN0LCB0eXBlLCBwYXJlbnRTY29wZSkge1xyXG4gIGxldCBzY29wZSA9IHt9O1xyXG5cclxuICBpZiAodHlwZSA9PT0gJ2dsb2JhbCcpIHtcclxuICAgIHNjb3BlID0gT2JqZWN0LmNyZWF0ZShcclxuICAgICAgcGFyZW50U2NvcGVcclxuICAgICAgICA/IHBhcmVudFNjb3BlLiQkLmdsb2JhbFxyXG4gICAgICAgIDogbnVsbFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgU3VwZXIob2JqZWN0KS5vYmplY3QoKHNjb3BlLCB2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICBzY29wZVtrZXldID0ge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgd2F0Y2hlcnM6IHtcclxuICAgICAgICB0ZW1wOiBuZXcgQXJyKFtdKSxcclxuICAgICAgICBwZXJtOiBuZXcgQXJyKFtdKVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIHNjb3BlKS4kO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb25zdHJ1Y3RQdWJsaWNTY29wZShzY29wZSwgc2NvcGVWYWx1ZXMsIHByaXZhdGVTY29wZSkge1xyXG4gIG5ldyBTdXBlcihzY29wZSkuZGVmaW5lKG5ldyBTdXBlcihzY29wZVZhbHVlcykubWFwKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICBjb25zdCBzY29wZSA9IHByaXZhdGVTY29wZVtrZXldO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGdldCgpIHtcclxuICAgICAgICBpZiAoZXZhbE1vZGUpIHtcclxuICAgICAgICAgIGlmIChnZXR0aW5nLmluZGV4T2Yoc2NvcGUud2F0Y2hlcnMudGVtcCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGdldHRpbmcucHVzaChzY29wZS53YXRjaGVycy50ZW1wKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzY29wZS52YWx1ZTtcclxuICAgICAgfSxcclxuICAgICAgc2V0KHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBzY29wZS52YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjaGFuZ2VkKSB7XHJcbiAgICAgICAgICBjaGFuZ2VkID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvbGRUZW1wV2F0Y2hlcnMgPSBzY29wZS53YXRjaGVycy50ZW1wLnNsaWNlKCk7XHJcbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzY29wZS52YWx1ZTtcclxuXHJcbiAgICAgICAgc2NvcGUud2F0Y2hlcnMudGVtcCA9IG5ldyBBcnIoW10pO1xyXG4gICAgICAgIHNjb3BlLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgICAgIG9sZFRlbXBXYXRjaGVycy5mb3JFYWNoKCh3YXRjaGVyKSA9PiB7XHJcbiAgICAgICAgICB3YXRjaGVyLm9uUmVtb3ZlKCk7XHJcbiAgICAgICAgICB3YXRjaGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2hhbmdlZC5wdXNoKHtcclxuICAgICAgICAgIHNjb3BlLFxyXG4gICAgICAgICAgb2xkVmFsdWUsXHJcbiAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGlmICghY2hhbmdlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3Qgd2FzID0gbmV3IEFycihbXSk7XHJcblxyXG4gICAgICAgICAgd2hpbGUgKGNoYW5nZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBjaGFuZ2VkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlXHJcbiAgICAgICAgICAgICAgfSA9IGNoYW5nZWRbaV07XHJcblxyXG4gICAgICAgICAgICAgIHNjb3BlLndhdGNoZXJzLnBlcm0uZm9yRWFjaCgod2F0Y2hlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdhcy5pbmRleE9mKHdhdGNoZXIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICB3YXRjaGVyKHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIHdhcy5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBjaGFuZ2VkLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNoYW5nZWQgPSBudWxsO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0pLiQpO1xyXG59XHJcblxyXG5leHBvcnQgeyBCbG9jaywgTWl4aW4sIGluaXRBcHAgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL2Zvcm1hdHNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgZGlmZmVyZW50IHR5cGVzIG9mIGZvcm1hdHRpbmcgZm9yIHtAbGluayBEYXRlI2Zvcm1hdH0uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcbmltcG9ydCB7IFN0ciB9IGZyb20gJy4uL1N0cic7XHJcblxyXG5jb25zdCB6ZXJvID0gbmV3IFN0cignMCcpO1xyXG5jb25zdCBkYXlzT2ZUaGVXZWVrTmFtZXMgPSBbXHJcbiAgJ1N1bmRheScsXHJcbiAgJ01vbmRheScsXHJcbiAgJ1R1ZXNkYXknLFxyXG4gICdXZWRuZXNkYXknLFxyXG4gICdUaHVyc2RheScsXHJcbiAgJ0ZyaWRheScsXHJcbiAgJ1NhdHVyZGF5J1xyXG5dO1xyXG5jb25zdCBkYXlzT2ZUaGVXZWVrQWxpYXNlcyA9IG5ldyBTdXBlcihkYXlzT2ZUaGVXZWVrTmFtZXMpLm1hcCgodmFsdWUpID0+IHZhbHVlLnNsaWNlKDAsIDMpKS4kO1xyXG5jb25zdCBtb250aHNOYW1lcyA9IFtcclxuICAnSmFudWFyeScsXHJcbiAgJ0ZlYnJ1YXJ5JyxcclxuICAnTWFyY2gnLFxyXG4gICdBcHJpbCcsXHJcbiAgJ01heScsXHJcbiAgJ0p1bmUnLFxyXG4gICdKdWxlJyxcclxuICAnQXVndXN0JyxcclxuICAnU2VwdGVtYmVyJyxcclxuICAnT2N0b2JlcicsXHJcbiAgJ05vdmVtYmVyJyxcclxuICAnRGVjZW1iZXInXHJcbl07XHJcbmNvbnN0IG1vbnRoc0FsaWFzZXMgPSBuZXcgU3VwZXIobW9udGhzTmFtZXMpLm1hcCgodmFsdWUpID0+IHZhbHVlLnNsaWNlKDAsIDMpKS4kO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBtb2R1bGU6Y29uc3RhbnRzL2Zvcm1hdHN+bWF0Y2hDYWxsYmFja1xyXG4gKiBAcGFyYW0ge0RhdH0gZGF0ZSAtIEQtd3JhcCBvZiBhIGRhdGUgdG8gYXBwbHkgZm9ybWF0IHRvLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIC0gTWF0Y2hlZCBhcHBsaWVkIGV4cHJlc3Npb24uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IG1vZHVsZTpjb25zdGFudHMvZm9ybWF0c35mb3JtYXRFeHByXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBmb3JtYXQgLSBNYXRjaGVkIGZvcm1hdC5cclxuICogQHByb3BlcnR5IHttb2R1bGU6Y29uc3RhbnRzL2Zvcm1hdHN+bWF0Y2hDYWxsYmFja30gbWF0Y2ggLSBDYWxsYmFjayBpZiB0aGVyZSB3YXMgYSBtYXRjaC5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGUge21vZHVsZTpjb25zdGFudHMvZm9ybWF0c35mb3JtYXRFeHByW119XHJcbiAqIEBkZXNjcmlwdGlvbiBBcnJheSBvZiBkaWZmZXJlbnQgZm9ybWF0cy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IFtcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdjY2MnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgnYycpLCAzKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnYycsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdjJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ3NzJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ3MnKSwgMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ3MnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgncycpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdtbScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdtJyksIDIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdtJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ20nKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnaGgnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgnaCcpLCAyKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnaCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdoJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2RkZGQnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRheXNPZlRoZVdlZWtOYW1lc1tkYXRlW3V0Y10oJ2R3JyldXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdkZGQnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRheXNPZlRoZVdlZWtBbGlhc2VzW2RhdGVbdXRjXSgnZHcnKV1cclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2RkJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ2QnKSwgMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2QnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgnZCcpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdNTU1NJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBtb250aHNOYW1lc1tkYXRlW3V0Y10oJ00nKSAtIDFdXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdNTU0nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IG1vbnRoc0FsaWFzZXNbZGF0ZVt1dGNdKCdNJykgLSAxXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnTU0nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgnTScpLCAyKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnTScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdNJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ3l5eXknLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgneScpLCA0KVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAneXknLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IFN0cmluZyhkYXRlW3V0Y10oJ3knKSkuc2xpY2UoLTIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICd5JyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ3knKVxyXG4gIH1cclxuXTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gcm91bmRcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IG51bWJlciAtIE51bWJlciB0byByb3VuZC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0cyAtIE51bWJlciBvZiB0aGUgZGlnaXRzIG9mIHRoZSBvdXRwdXQuXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFN0cmluZyB3aXRoIG5lY2Vzc2FyeSBhZGRpdGlvbmFsIHN0YXJ0aW5nIHplcm9lcy5cclxuICovXHJcbmZ1bmN0aW9uIHJvdW5kKG51bWJlciwgZGlnaXRzKSB7XHJcbiAgY29uc3Qgc3RyaW5nID0gU3RyaW5nKG51bWJlcik7XHJcbiAgbGV0IHplcm9lcyA9IGRpZ2l0cyAtIHN0cmluZy5sZW5ndGg7XHJcblxyXG4gIHplcm9lcyA9IHplcm9lcyA8IDAgPyAwIDogemVyb2VzO1xyXG5cclxuICByZXR1cm4gemVyby5yZXBlYXQoemVyb2VzKS4kICsgc3RyaW5nO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIERhdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgRGF0IGNsYXNzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IE51bSB9IGZyb20gJy4vTnVtJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi9TdHInO1xyXG5pbXBvcnQgeyBzd2l0Y2hlciB9IGZyb20gJy4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBjb25zdHJ1Y3RvcnMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCBmb3JtYXRzIGZyb20gJy4vY29uc3RhbnRzL2Zvcm1hdHMnO1xyXG5pbXBvcnQgeyBpc0RhdGUsIGl0ZXJhdGUsIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllcyB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeyp9IERhdGVMaWtlXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeydjJ3wncyd8J20nfCdoJ3wnZCd8J3cnfCdNJ3wneSd9IEFkZFBlcmlvZFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYyd8J3MnfCdtJ3wnaCd8J2QnfCdkdyd8J00nfCd5J30gR2V0UGVyaW9kXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeydjJ3wncyd8J20nfCdoJ3wnZCd8J00nfCd5J30gT2ZPbmVQZXJpb2RcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2MnfCdzJ3wnbSd8J2gnfCdkJ3wnTSd8J3knfSBTZXRQZXJpb2RcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2NjYyd8J2MnfCdzcyd8J3MnfCdtbSd8J20nfCdoaCd8J2gnfCdkZGRkJ3wnZGRkJ3wnZGQnfCdkJ3wnTU1NTSd8J01NTSd8J01NJ3wnTSd8J3l5eXknfCd5eSd8J3knfSBGb3JtYXRcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbmNvbnN0IGNvZWZmcyA9IHtcclxuICBjOiAxLFxyXG4gIHM6IDEwMDAsXHJcbiAgbTogNjAwMDAsXHJcbiAgaDogMzYwMDAwMCxcclxuICBkOiA4NjQwMDAwMCxcclxuICB3OiA2MDQ4MDAwMDAsXHJcbiAgTTogMjU5MjAwMDAwMCxcclxuICB5OiAzMTUzNjAwMDAwMFxyXG59O1xyXG5cclxuY29uc3QgZ2V0U3dpdGNoZXIgPSBzd2l0Y2hlcih7XHJcbiAgYzogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1NaWxsaXNlY29uZHNgXSgpLFxyXG4gIHM6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9U2Vjb25kc2BdKCksXHJcbiAgbTogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1NaW51dGVzYF0oKSxcclxuICBoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfUhvdXJzYF0oKSxcclxuICBkOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfURhdGVgXSgpLFxyXG4gIGR3OiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfURheWBdKCksXHJcbiAgTTogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1Nb250aGBdKCkgKyAxLFxyXG4gIHk6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RnVsbFllYXJgXSgpXHJcbn0sICdlcXVhbHMnLCBOYU4pO1xyXG5jb25zdCBzZXRTd2l0Y2hlciA9IHN3aXRjaGVyKHtcclxuICBjOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1NaWxsaXNlY29uZHNgXSh2YWx1ZSksXHJcbiAgczogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9U2Vjb25kc2BdKHZhbHVlKSxcclxuICBtOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1NaW51dGVzYF0odmFsdWUpLFxyXG4gIGg6IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfUhvdXJzYF0odmFsdWUpLFxyXG4gIGQ6IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfURhdGVgXSh2YWx1ZSksXHJcbiAgTTogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9TW9udGhgXSh2YWx1ZSAtIDEpLFxyXG4gIHk6IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfUZ1bGxZZWFyYF0odmFsdWUpXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBEYXRcclxuICogQGV4dGVuZHMgU3VwZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0RhdGV9IFtkYXRlID0gbmV3IERhdGUoKV0gLSBBIGRhdGUgdG8gd3JhcC5cclxuICogQHJldHVybnMge0RhdH0gSW5zdGFuY2Ugb2YgRGF0LlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhIGRhdGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGRhdGUgPSBuZXcgRGF0KG5ldyBEYXRlKCkpO1xyXG4gKi9cclxuY2xhc3MgRGF0IGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGUgPSBuZXcgRGF0ZSgpKSB7XHJcbiAgICBzdXBlcihkYXRlKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgRGF0IyRcclxuICAgICAqIEB0eXBlIHtEYXRlfVxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIE9yaWdpbmFsIGRhdGUuXHJcbiAgICAgKi9cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0FkZFBlcmlvZHxPYmplY3QuPEFkZFBlcmlvZCwgTnVtYmVyPn0gd2hhdCAtIFdoYXQgdG8gYWRkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyXSAtIE51bWJlciBvZiB3aGF0IHRvIGFkZCBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBwZXJpb2Qgc3RyaW5nLlxyXG4gICAqIEByZXR1cm5zIHtEYXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgYW1vdW50cyBvZiB0aW1lIHRvIHRoZSBkYXRlLiBSZXR1cm5zIG5ldyBpbnN0YW5jZSBvZiBEYXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpKS5hZGQoJ2MnLCAyKS50b0lTT1N0cmluZygpOyAgICAgICAgIC8vICcyMDAwLTAxLTAxVDAwOjAwOjAwLjAwMVonXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpLmFkZCh7IGM6IDIsIGQ6IDUgfSkudG9JU09TdHJpbmcoKTsgLy8gJzIwMDAtMDEtMDZUMDA6MDA6MDAuMDAxWidcclxuICAgKi9cclxuICBhZGQod2hhdCwgbnVtYmVyKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHdoYXQgPSB7IFt3aGF0XTogbnVtYmVyIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMudGltZSh0aGlzLnRpbWUoKSArIG5ldyBTdXBlcih3aGF0KS5zdW0oKHZhbHVlLCB3aGF0KSA9PiBjb2VmZnNbd2hhdF0gKiB2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjZXhwaXJlc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IFt2YWx1ZSA9IHRoaXNdIC0gVmFsdWUgdG8gcmVzb2x2ZSBhZnRlciB0aGUgZGF0ZSBleHBpcmVzLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWZpbmluZyB3aGVuIHRoZSBkYXRlIGV4cGlyZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQoKS5hZGQoJ2MnLCA1MDApLmV4cGlyZXMoJ0V4cGlyZWQnKS50aGVuKCh2YWx1ZSkgPT4ge1xyXG4gICAqICAgLy8gQWZ0ZXIgNTAwIG1pbGxpc2Vjb25kc1xyXG4gICAqICAgY29uc29sZS5sb2codmFsdWUpOyAvLyAnRXhwaXJlZCdcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBleHBpcmVzKHZhbHVlKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgdmFsdWUgPSB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgTnVtKHRoaXMuJCAtIG5vdygpKS50aW1lb3V0KHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2Zvcm1hdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIC0gVGVtcGxhdGUgZm9yIHRoZSBvdXRwdXQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwcmVmaXggPSAnJ10gLSBJZiBuZWVkZWQgW2FsbCBzcGVjaWFsIHN0cmluZ3Nde0BsaW5rIEZvcm1hdH1cclxuICAgKiBhcmUgdHJlYXRlZCBhcyB0aGV5IHNob3VsZCBiZSBwcmVmaXggd2l0aCBwcmVmaXguXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gRm9ybWF0dGVkIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBjcmVhdGluZyBmb3JtYXR0ZWQgb3V0cHV0IGJhc2VkIG9uIGEgc3RyaW5nLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKS5mb3JtYXQoJ1NlY29uZHM6ICRzcywgbWlsbGlzZWNvbmRzOiAkY2NjLicsICckJyk7XHJcbiAgICogLy8gJ1NlY29uZHM6IDU5LCBtaWxsaXNlY29uZHM6IDk5OS4nXHJcbiAgICovXHJcbiAgZm9ybWF0KHN0cmluZywgcHJlZml4ID0gJycpIHtcclxuICAgIHN0cmluZyA9IG5ldyBTdHIobmV3IFN1cGVyKHN0cmluZykuJCk7XHJcbiAgICBwcmVmaXggPSBTdHJpbmcobmV3IFN1cGVyKHByZWZpeCkuJCk7XHJcblxyXG4gICAgaXRlcmF0ZShmb3JtYXRzLCAoZm9ybWF0KSA9PiB7XHJcbiAgICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlU3RyaW5nKHByZWZpeCArIGZvcm1hdC5mb3JtYXQsIGZvcm1hdC5tYXRjaCh0aGlzLCAnZ2V0JykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHN0cmluZy4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjZm9ybWF0VVRDXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBTZWUge0BsaW5rIERhdCNmb3JtYXR9LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJlZml4ID0gJyddIC0gU2VlIHtAbGluayBEYXQjZm9ybWF0fS5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBGb3JtYXR0ZWQgc3RyaW5nLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBVVEMgdmVyc2lvbiBvZiB7QGxpbmsgRGF0I2Zvcm1hdH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQoJzE5OTktMDctMDdUMDM6MDk6MDkuMDk5WicpLmZvcm1hdFVUQyhcclxuICAgKiAgIGBcclxuICAgKiAgICAgTWlsbGlzZWNvbmRzOiAkY2NjfCRjLlxyXG4gICAqICAgICBTZWNvbmRzOiAgICAgICRzc3wkcy5cclxuICAgKiAgICAgTWludXRlczogICAgICAkbW18JG0uXHJcbiAgICogICAgIEhvdXJzOiAgICAgICAgJGhofCRoLlxyXG4gICAqICAgICBEYXk6ICAgICAgICAgICRkZGRkfCRkZGR8JGRkfCRkLlxyXG4gICAqICAgICBNb250aDogICAgICAgICRNTU1NfCRNTU18JE1NfCRNLlxyXG4gICAqICAgICBZZWFyOiAgICAgICAgICR5eXl5fCR5eXwkeS5cclxuICAgKiAgIGAsXHJcbiAgICogICAnJCdcclxuICAgKiApO1xyXG4gICAqIC8vIE1pbGxpc2Vjb25kczogMDk5fDk5LlxyXG4gICAqIC8vIFNlY29uZHM6ICAgICAgMDl8OS5cclxuICAgKiAvLyBNaW51dGVzOiAgICAgIDA5fDkuXHJcbiAgICogLy8gSG91cnM6ICAgICAgICAwM3wzLlxyXG4gICAqIC8vIERheTogICAgICAgICAgRnJpZGF5fEZyaXwwN3w3LlxyXG4gICAqIC8vIE1vbnRoOiAgICAgICAgSnVseXxKdWx8MDd8Ny5cclxuICAgKiAvLyBZZWFyOiAgICAgICAgIDE5OTl8OTl8MTk5OS5cclxuICAgKi9cclxuICBmb3JtYXRVVEMoc3RyaW5nLCBwcmVmaXggPSAnJykge1xyXG4gICAgc3RyaW5nID0gbmV3IFN0cihuZXcgU3VwZXIoc3RyaW5nKS4kKTtcclxuICAgIHByZWZpeCA9IFN0cmluZyhuZXcgU3VwZXIocHJlZml4KS4kKTtcclxuXHJcbiAgICBpdGVyYXRlKGZvcm1hdHMsIChmb3JtYXQpID0+IHtcclxuICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2VTdHJpbmcocHJlZml4ICsgZm9ybWF0LmZvcm1hdCwgZm9ybWF0Lm1hdGNoKHRoaXMsICdnZXRVVEMnKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc3RyaW5nLiQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNnZXRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtHZXRQZXJpb2R9IHdoYXQgLSBXaGF0IHRvIGdldC5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2Ygd2hhdCB0byBnZXQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyB2YWx1ZXMgc3VjaCBhcyBzZWNvbmRzIG9yIG1pbnV0ZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpKS5nZXQoJ3MnKTsgLy8gNTlcclxuICAgKi9cclxuICBnZXQod2hhdCkge1xyXG4gICAgcmV0dXJuIGdldFN3aXRjaGVyKHdoYXQsIFt0aGlzLiQsICdnZXQnXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNnZXRVVENcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtHZXRQZXJpb2R9IHdoYXQgLSBTZWUge0BsaW5rIERhdCNnZXR9LlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IE51bWJlciBvZiB3aGF0IHRvIGdldC5cclxuICAgKiBAZGVzY3JpcHRpb24gVVRDIHZlcnNpb24gb2Yge0BsaW5rIERhdCNnZXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBkYXRlID0gbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpO1xyXG4gICAqXHJcbiAgICogZGF0ZS5nZXRVVEMoJ2MnKTsgIC8vIDk5OVxyXG4gICAqIGRhdGUuZ2V0VVRDKCdzJyk7ICAvLyA1OVxyXG4gICAqIGRhdGUuZ2V0VVRDKCdtJyk7ICAvLyA1OVxyXG4gICAqIGRhdGUuZ2V0VVRDKCdoJyk7ICAvLyAyM1xyXG4gICAqIGRhdGUuZ2V0VVRDKCdkJyk7ICAvLyAzMVxyXG4gICAqIGRhdGUuZ2V0VVRDKCdkdycpOyAvLyA1XHJcbiAgICogZGF0ZS5nZXRVVEMoJ00nKTsgIC8vIDEyXHJcbiAgICogZGF0ZS5nZXRVVEMoJ3knKTsgIC8vIDE5OTlcclxuICAgKi9cclxuICBnZXRVVEMod2hhdCkge1xyXG4gICAgcmV0dXJuIGdldFN3aXRjaGVyKHdoYXQsIFt0aGlzLiQsICdnZXRVVEMnXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNpc0FmdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGF0ZUxpa2V9IGRhdGUgLSBEYXRlIHRvIGJlIGNvbXBhcmVkIHRvIHRoaXMgZGF0ZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhpcyBkYXRlIGlzIGFmdGVyIHRoZSBhcmd1bWVudCBvbmUuXHJcbiAgICogQGRlc2NyaXB0aW9uIEZpbmRzIG91dCBpZiB0aGlzIGRhdGUgaXMgYWZ0ZXIgdGhlIGFyZ3VtZW50IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0FmdGVyKG5ldyBEYXRlKDMzNCkpOyAvLyBmYWxzZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMzMzKSkuaXNBZnRlcihuZXcgRGF0ZSgzMzIpKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGlzQWZ0ZXIoZGF0ZSkge1xyXG4gICAgZGF0ZSA9IG5ldyBEYXRlKG5ldyBTdXBlcihkYXRlKS4kKTtcclxuXHJcbiAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPCB0aGlzLiQuZ2V0VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjaXNCZWZvcmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEYXRlTGlrZX0gZGF0ZSAtIERhdGUgdG8gYmUgY29tcGFyZWQgdG8gdGhpcyBkYXRlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGlzIGRhdGUgaXMgYmVmb3JlIHRoZSBhcmd1bWVudCBvbmUuXHJcbiAgICogQGRlc2NyaXB0aW9uIEZpbmRzIG91dCBpZiB0aGlzIGRhdGUgaXMgYmVmb3JlIHRoZSBhcmd1bWVudCBvbmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMzMzKSkuaXNCZWZvcmUobmV3IERhdGUoMzM0KSk7IC8vIHRydWVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQmVmb3JlKG5ldyBEYXRlKDMzMikpOyAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGlzQmVmb3JlKGRhdGUpIHtcclxuICAgIGRhdGUgPSBuZXcgRGF0ZShuZXcgU3VwZXIoZGF0ZSkuJCk7XHJcblxyXG4gICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpID4gdGhpcy4kLmdldFRpbWUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2lzQmV0d2VlblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RhdGVMaWtlfSBkYXRlMSAtIFN0YXJ0IG9mIHRoZSByYW5nZS5cclxuICAgKiBAcGFyYW0ge0RhdGVMaWtlfSBkYXRlMiAtIEVuZCBvZiB0aGUgcmFuZ2UuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoaXMgZGF0ZSBpcyBhZnRlciBkYXRlMSBhbmQgYmVmb3JlIGRhdGUyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBGaW5kcyBvdXQgaWYgdGhpcyBkYXRlIGlzIGFmdGVyIGRhdGUxIGFuZCBiZWZvcmUgZGF0ZTIuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMzMzKSkuaXNCZXR3ZWVuKG5ldyBEYXRlKDMzMiksIG5ldyBEYXRlKDMzNCkpOyAvLyB0cnVlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0JldHdlZW4obmV3IERhdGUoMzM0KSwgbmV3IERhdGUoMzMyKSk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNCZXR3ZWVuKGRhdGUxLCBkYXRlMikge1xyXG4gICAgY29uc3QgdGltZSA9IHRoaXMuJC5nZXRUaW1lKCk7XHJcblxyXG4gICAgZGF0ZTEgPSBuZXcgRGF0ZShuZXcgU3VwZXIoZGF0ZTEpLiQpO1xyXG4gICAgZGF0ZTIgPSBuZXcgRGF0ZShuZXcgU3VwZXIoZGF0ZTIpLiQpO1xyXG5cclxuICAgIHJldHVybiB0aW1lID4gZGF0ZTEuZ2V0VGltZSgpICYmIHRpbWUgPCBkYXRlMi5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNpc0ludmFsaWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBkYXRlIGlzIGludmFsaWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIGRhdGUgaXMgaW52YWxpZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnYScpKS5pc0ludmFsaWQoKTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMSkpLmlzSW52YWxpZCgpOyAgIC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNJbnZhbGlkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b1N0cmluZygpID09PSAnSW52YWxpZCBEYXRlJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2lzUGFzc2VkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgZGF0ZSBpcyBwYXNzZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIGRhdGUgaXMgcGFzc2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDEpKS5pc1Bhc3NlZCgpOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgaXNQYXNzZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pc0JlZm9yZShub3coKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNvZk9uZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge09mT25lUGVyaW9kfSB3aGF0IC0gUGVyaW9kIHRvIGNoZWNrLlxyXG4gICAqIEBwYXJhbSB7RGF0ZUxpa2V9IGRhdGUgLSBEYXRlIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0d28gZGF0ZXMgYXJlIG9mIG9uZSBzZWNvbmQsIG1pbnV0ZSBvciBzb21ldGhpbmcgZWxzZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0d28gZGF0ZXMgYXJlIG9mIG9uZSBzZWNvbmQsIG1pbnV0ZSBvciBzb21ldGhpbmcgZWxzZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS4wMDBaJykpLm9mT25lKCdzJywgbmV3IERhdGUoMTk5OS0xMi0zMVQyMzo1OTo1OS4zMzNaJykpOyAvLyB0cnVlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS4wMDBaJykpLm9mT25lKCdzJywgbmV3IERhdGUoMTk5OS0xMi0zMVQyMzo1OTo1OC45OTlaJykpOyAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIG9mT25lKHdoYXQsIGRhdGUpIHtcclxuICAgIGlmICghKHdoYXQgaW4gY29lZmZzKSB8fCB3aGF0ID09PSAndycpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGUgPSBuZXcgRGF0KG5ldyBEYXRlKGRhdGUpKTtcclxuXHJcbiAgICBsZXQgc3RhcnRlZDtcclxuXHJcbiAgICByZXR1cm4gaXRlcmF0ZShjb2VmZnMsIChjb2VmZiwgdykgPT4ge1xyXG4gICAgICBpZiAodyA9PT0gd2hhdCkge1xyXG4gICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXN0YXJ0ZWQgfHwgdyA9PT0gJ3cnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3RhcnRlZCAmJiB0aGlzLmdldCh3KSAhPT0gZGF0ZS5nZXQodykpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pICE9PSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I3NldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1NldFBlcmlvZHxPYmplY3QuPFNldFBlcmlvZCwgTnVtYmVyPn0gd2hhdCAtIFdoYXQgdG8gYWRkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyXSAtIE51bWJlciBvZiB3aGF0IHRvIHNldCBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBwZXJpb2Qgc3RyaW5nLlxyXG4gICAqIEByZXR1cm5zIHtEYXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBzZXR0aW5nIHZhbHVlcyBzdWNoIGFzIHNlY29uZHMgb3IgbWludXRlcy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpLnNldCgncycsIDU4KS5nZXQoJ3MnKTsgICAgICAgICAgIC8vIDU4XHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpLnNldCh7IGM6IDk5OCwgczogNTggfSkuZ2V0KCdjJyk7IC8vIDk5OFxyXG4gICAqL1xyXG4gIHNldCh3aGF0LCBudW1iZXIpIHtcclxuICAgIGNvbnN0IGRhdGUgPSB0aGlzLiQ7XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICB3aGF0ID0geyBbd2hhdF06IG51bWJlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHdoYXQgPSBuZXcgU3VwZXIod2hhdCkuJDtcclxuXHJcbiAgICBpdGVyYXRlKHdoYXQsICh2YWx1ZSwgd2hhdCkgPT4ge1xyXG4gICAgICBzZXRTd2l0Y2hlcih3aGF0LCBbZGF0ZSwgdmFsdWUsICdzZXQnXSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I3NldFVUQ1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1NldFBlcmlvZHxPYmplY3QuPFNldFBlcmlvZCwgTnVtYmVyPn0gd2hhdCAtIFNlZSB7QGxpbmsgRGF0I3NldH0uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtudW1iZXJdIC0gU2VlIHtAbGluayBEYXQjc2V0fS5cclxuICAgKiBAcmV0dXJucyB7RGF0fSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFVUQyB2ZXJzaW9uIG9mIHtAbGluayBEYXQjc2V0fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZGF0ZSA9IG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpKTtcclxuICAgKlxyXG4gICAqIGRhdGUuc2V0VVRDKCdjY2MnLCA5OTgpLmdldFVUQygnY2NjJyk7IC8vIDk5OFxyXG4gICAqIGRhdGUuc2V0VVRDKHtcclxuICAgKiAgIHM6IDU4LFxyXG4gICAqICAgbTogNTgsXHJcbiAgICogICBoOiAyMlxyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogZGF0ZS5nZXRVVEMoJ3MnKTsgLy8gNThcclxuICAgKiBkYXRlLmdldFVUQygnbScpOyAvLyA1OFxyXG4gICAqIGRhdGUuZ2V0VVRDKCdoJyk7IC8vIDIzXHJcbiAgICovXHJcbiAgc2V0VVRDKHdoYXQsIG51bWJlcikge1xyXG4gICAgY29uc3QgZGF0ZSA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHdoYXQgPSB7IFt3aGF0XTogbnVtYmVyIH07XHJcbiAgICB9XHJcblxyXG4gICAgd2hhdCA9IG5ldyBTdXBlcih3aGF0KS4kO1xyXG5cclxuICAgIGl0ZXJhdGUod2hhdCwgKHZhbHVlLCB3aGF0KSA9PiB7XHJcbiAgICAgIHNldFN3aXRjaGVyKHdoYXQsIFtkYXRlLCB2YWx1ZSwgJ3NldFVUQyddKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjc2V0VVRDXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZV0gLSBUaW1lIHRvIHNldC5cclxuICAgKiBAcmV0dXJucyB7RGF0fE51bWJlcn0gLSBJZiB0aGUgdGltZSBhcmd1bWVudCBpcyBwcmVzZW50IHRoaXMgaXMgcmV0dXJuZWQgb3RoZXJ3aXNlIHRoZSB0aW1lIGlzIHJldHVybmVkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvciBib3RoXHJcbiAgICogW0RhdGUjZ2V0VGltZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS9nZXRUaW1lfSBhbmRcclxuICAgKiBbRGF0ZSNzZXRUaW1lXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL3NldFRpbWV9LlxyXG4gICAqL1xyXG4gIHRpbWUodGltZSkge1xyXG4gICAgY29uc3QgZGF0ZSA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBkYXRlLnNldFRpbWUodGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgdG9JU09TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvSVNPU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICB0b0xvY2FsZVN0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9Mb2NhbGVTdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIHRvU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgdmFsdWVPZigpIHtcclxuICAgIHJldHVybiB0aGlzLiQudmFsdWVPZigpO1xyXG4gIH1cclxufVxyXG5kZWZpbmVQcm9wZXJ0aWVzKERhdC5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ0RhdCdcclxufSk7XHJcblxyXG5jb25zdHJ1Y3RvcnNbMV0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzRGF0ZSxcclxuICBjbHM6IERhdFxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gbm93XHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMge051bWJlcn0gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5cclxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL25vd1xyXG4gKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICogW0RhdGUubm93XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL25vd30uXHJcbiAqL1xyXG5mdW5jdGlvbiBub3coKSB7XHJcbiAgcmV0dXJuIERhdGUubm93KCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGF0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RGF0ZUxpa2V9IFtkYXRlID0gbmV3IERhdGUoKV0gLSBEYXRlLWxpa2UgdmFsdWUgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIERhdGUgY29uc3RydWN0b3IuXHJcbiAqIEByZXR1cm5zIHtEYXR9IE5ldyBpbnN0YW5jZSBvZiBEYXQuXHJcbiAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvciBuZXcgRGF0KG5ldyBEYXRlKGRhdGUpKTtcclxuICovXHJcbmZ1bmN0aW9uIGRhdGUoZGF0ZSkge1xyXG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuIG5ldyBEYXQobmV3IERhdGUobm93KCkpKTtcclxuICB9XHJcblxyXG4gIGRhdGUgPSBuZXcgU3VwZXIoZGF0ZSkuJDtcclxuXHJcbiAgcmV0dXJuIG5ldyBEYXQobmV3IERhdGUoZGF0ZSkpO1xyXG59XHJcblxyXG5leHBvcnQgeyBEYXQsIG5vdywgZGF0ZSB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL2NvbnN0cnVjdFVSTFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBjb25zdHJ1Y3RVUkwgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFyciB9IGZyb20gJy4uL0Fycic7XHJcbmltcG9ydCB7IFN0ciB9IGZyb20gJy4uL1N0cic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNQbGFpbk9iamVjdCB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcbmltcG9ydCB7IGl0ZXJhdGUgfSBmcm9tICcuL2l0ZXJhdGUnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtSZWdFeHB9XHJcbiAqIEBkZXNjcmlwdGlvbiBBYnNvbHV0ZSBVUkwgcGF0dGVybi5cclxuICovXHJcbmNvbnN0IGFic29sdXRlVVJMUmVnZXhwID0gL14oKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC98ZGF0YTpbYS16XStcXC9bYS16XSs7YmFzZTY0LCkvaTtcclxuY29uc3QgcXVlcnlTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKCkgPT4gbmV3IEFycihbXSkpXHJcbiAgLmNhc2UoaXNBcnJheSwgKHByZWZpeCwgcXVlcnkpID0+IHtcclxuICAgIGxldCBxdWVyeVBhcmFtcyA9IG5ldyBBcnIoW10pO1xyXG5cclxuICAgIGl0ZXJhdGUocXVlcnksICh2YWx1ZSkgPT4ge1xyXG4gICAgICBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkgfHwgaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBxdWVyeVBhcmFtcyA9IHF1ZXJ5UGFyYW1zLmNvbmNhdChxdWVyeVN3aXRjaGVyKHZhbHVlLCBbYCR7IHByZWZpeCB9W11gXSkpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHF1ZXJ5UGFyYW1zLnB1c2goe1xyXG4gICAgICAgIHBhcmFtOiBgJHsgcHJlZml4IH1bXWAsXHJcbiAgICAgICAgdmFsdWVcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcXVlcnlQYXJhbXMuJDtcclxuICB9KVxyXG4gIC5jYXNlKGlzUGxhaW5PYmplY3QsIChwcmVmaXgsIHF1ZXJ5KSA9PiB7XHJcbiAgICBsZXQgcXVlcnlQYXJhbXMgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICBpdGVyYXRlKHF1ZXJ5LCAodmFsdWUsIHBhcmFtKSA9PiB7XHJcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSB8fCBpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIHF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXMuY29uY2F0KHF1ZXJ5U3dpdGNoZXIodmFsdWUsIFtwcmVmaXggPyBgJHsgcHJlZml4IH1bJHsgcGFyYW0gfV1gIDogcGFyYW1dKSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcXVlcnlQYXJhbXMucHVzaCh7XHJcbiAgICAgICAgcGFyYW06IHByZWZpeCA/IGAkeyBwcmVmaXggfVskeyBwYXJhbSB9XWAgOiBwYXJhbSxcclxuICAgICAgICB2YWx1ZTogaXNPYmplY3QodmFsdWUpID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogU3RyaW5nKHZhbHVlKVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBxdWVyeVBhcmFtcy4kO1xyXG4gIH0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBjb25zdHJ1Y3RVUkxcclxuICogQHBhcmFtIHtTdHJpbmd9IGJhc2VVUkwgLSBCYXNlVVJMIG9mIHRoZSBvdXRwdXQgVVJMLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gTWFpbiBwYXJ0IG9mIHRoZSBvdXRwdXQgVVJMLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gUGFyYW1zIHRvIHJlcGxhY2UgaW4gdGhlIHVybCBleHByZXNzaW9ucyBsaWtlIFwiOnBhcmFtXCIuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSAtIE9iamVjdCB3aXRoIHF1ZXJ5IHBhcmFtcy5cclxuICogQHBhcmFtIHtPYmplY3R9IFtoYXNoID0gJyddIC0gVVJMIGhhc2guXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZW5jb2RlT3B0aW9ucyA9IHt9XSAtIElmIHlvdSBuZWVkIHRvIGVuY29kZSBzb21ldGhpbmcuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZW5jb2RlT3B0aW9ucy5wYXJhbXMgPSB0cnVlXSAtIElmIHlvdSBuZWVkIHRvIGVuY29kZSBwYXJhbXMuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZW5jb2RlT3B0aW9ucy5xdWVyeSA9IHRydWVdIC0gSWYgeW91IG5lZWQgdG8gZW5jb2RlIHF1ZXJ5IHBhcmFtcy5cclxuICogQHJldHVybnMge1N0cmluZ30gQ29uc3RydWN0ZWQgVVJMLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNvbnN0cnVjdGluZyBVUkwgZnJvbSB0aGUgYmFzZSBVUkwsIFVSTCwgcGFyYW1zIGFuZCBxdWVyeSBwYXJhbXMuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAoYmFzZVVSTCwgdXJsLCBwYXJhbXMsIHF1ZXJ5LCBoYXNoID0gJycsIGVuY29kZU9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gIGNvbnN0IHtcclxuICAgIHBhcmFtczogZW5jb2RlUGFyYW1zID0gdHJ1ZSxcclxuICAgIHF1ZXJ5OiBlbmNvZGVRdWVyeSA9IHRydWVcclxuICB9ID0gZW5jb2RlT3B0aW9ucztcclxuICBsZXQgVVJMID0gaXNBYnNvbHV0ZSh1cmwpXHJcbiAgICA/IHVybFxyXG4gICAgOiBgJHsgU3RyaW5nKGJhc2VVUkwpLnJlcGxhY2UoL1xcLyskLywgJycpIH0vJHsgU3RyaW5nKHVybCkucmVwbGFjZSgvXlxcLysvLCAnJykgfWA7XHJcblxyXG4gIGl0ZXJhdGUocGFyYW1zLCAodmFsdWUsIHBhcmFtKSA9PiB7XHJcbiAgICBVUkwgPSBuZXcgU3RyKFVSTCkucmVwbGFjZVN0cmluZyhgOiR7IHBhcmFtIH1gLCBlbmNvZGUodmFsdWUsIGVuY29kZVBhcmFtcykpLiQ7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHF1ZXJ5UGFyYW1zID0gcXVlcnlTd2l0Y2hlcihxdWVyeSwgWycnXSk7XHJcblxyXG4gIGlmIChxdWVyeVBhcmFtcy5sZW5ndGgpIHtcclxuICAgIFVSTCArPSAoVVJMLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgcXVlcnlQYXJhbXNcclxuICAgICAgLm1hcCgoeyBwYXJhbSwgdmFsdWUgfSkgPT4gYCR7IGVuY29kZShwYXJhbSwgZW5jb2RlUXVlcnkpIH09JHsgZW5jb2RlKHZhbHVlLCBlbmNvZGVRdWVyeSkgfWApXHJcbiAgICAgIC5qb2luKCcmJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYCR7IFVSTCB9JHsgaGFzaCA/IGAjJHsgaGFzaCB9YCA6ICcnIH1gO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Fic29sdXRlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2sgaWYgaXQgaXMgYWJzb2x1dGUgb3Igbm90LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IFVSTCBpcyBhYnNvbHV0ZSBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Fic29sdXRlKHVybCkge1xyXG4gIHJldHVybiBhYnNvbHV0ZVVSTFJlZ2V4cC50ZXN0KHVybCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZW5jb2RlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBTdHJpbmcgdG8gZW5jb2RlIHVzaW5nIGVuY29kZVVSSUNvbXBvbmVudC5cclxuICogQHBhcmFtIHtCb29sZWFufSBpc0VuY29kZWQgLSBJZiB0aGUgc3RyaW5nIHNob3VsZCBiZSBlbmNvZGVkLlxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBFbmNvZGVkIHN0cmluZy5cclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZShzdHJpbmcsIGlzRW5jb2RlZCkge1xyXG4gIHJldHVybiBpc0VuY29kZWQgPyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSA6IHN0cmluZztcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBGZXRjaFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgRmV0Y2ggY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IEFyciB9IGZyb20gJy4vQXJyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi9TdHInO1xyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLFxyXG4gIGFzc2lnbiwgU3ltYm9sLCB2YWxpZGF0ZSwgaXRlcmF0ZSwgZGVmaW5lUHJvcGVydGllc1xyXG59IGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCBjb25zdHJ1Y3RVUkwgZnJvbSAnLi9oZWxwZXJzL2NvbnN0cnVjdFVSTCc7XHJcbmltcG9ydCBwYXJzZUhlYWRlcnMgZnJvbSAnLi9oZWxwZXJzL3BhcnNlSGVhZGVycyc7XHJcbmltcG9ydCB0cmFuc2Zvcm1EYXRhIGZyb20gJy4vaGVscGVycy90cmFuc2Zvcm1EYXRhJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2dldCd8J3Bvc3QnfCdkZWxldGUnfCdoZWFkJ3wncHV0J3wncGF0Y2gnfSBGZXRjaE1ldGhvZFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZldGNoQ29uZmlnXHJcbiAqIEBwdWJsaWNcclxuICogQHByb3BlcnR5IHtBcnJheS48QWZ0ZXJNaWRkbGV3YXJlfEZldGNoRXJyb3JBZnRlck1pZGRsZXdhcmU+fSBbYWZ0ZXJdXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbYXV0aF1cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFthdXRoLnVzZXJuYW1lXVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW2F1dGgucGFzc3dvcmRdXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbYmFzZVVSTF1cclxuICogQHByb3BlcnR5IHtBcnJheS48QmVmb3JlTWlkZGxld2FyZXxGZXRjaEVycm9yQmVmb3JlTWlkZGxld2FyZT59IFtiZWZvcmVdXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gW2RhdGFdXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZ1tdPn0gW2hlYWRlcnNdXHJcbiAqIEBwcm9wZXJ0eSB7RmV0Y2hNZXRob2R9IFttZXRob2RdXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbcGFyYW1zXVxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3F1ZXJ5XVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW3Jlc3BvbnNlVHlwZV1cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFt0aW1lb3V0XVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW3VybF1cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBbd2l0aENyZWRlbnRpYWxzXVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGZXRjaFJlc3BvbnNlXHJcbiAqIEBwdWJsaWNcclxuICogQHByb3BlcnR5IHtGZXRjaENvbmZpZ30gY29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gZGF0YVxyXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBTdHJpbmc+fSBoZWFkZXJzXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzdGF0dXNcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IHN0YXR1c1RleHRcclxuICogQHByb3BlcnR5IHtYTUxIdHRwUmVxdWVzdH0geGhyXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBGZXRjaEFmdGVyTWlkZGxld2FyZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RmV0Y2hSZXNwb25zZX0gY29uZmlnIC0gRmV0Y2ggcmVzcG9uc2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBGZXRjaEVycm9yQWZ0ZXJNaWRkbGV3YXJlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFcnJvcnwqfSBlcnIgLSBUaHJvd24gZXJyb3IuXHJcbiAqIEBwYXJhbSB7RmV0Y2hSZXNwb25zZX0gY29uZmlnIC0gRmV0Y2ggcmVzcG9uc2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBGZXRjaEJlZm9yZU1pZGRsZXdhcmVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBjb25maWcgLSBGZXRjaCBjb25maWcuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBGZXRjaEVycm9yQmVmb3JlTWlkZGxld2FyZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXJyb3J8Kn0gZXJyIC0gVGhyb3duIGVycm9yLlxyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBjb25maWcgLSBGZXRjaCBjb25maWcuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBGZXRjaENvbmZpZ0Z1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtGZXRjaENvbmZpZ30gY29uZmlnXHJcbiAqL1xyXG5cclxuY29uc3QgZGVmYXVsdHMgPSB7XHJcbiAgYWZ0ZXI6IFtdLFxyXG4gIGF1dGg6IHtcclxuICAgIHVzZXJuYW1lOiAnJyxcclxuICAgIHBhc3N3b3JkOiAnJ1xyXG4gIH0sXHJcbiAgYmFzZVVSTDogZ2xvYmFsLmxvY2F0aW9uLm9yaWdpbixcclxuICBiZWZvcmU6IFtdLFxyXG4gIGRhdGE6IG51bGwsXHJcbiAgaGVhZGVyczoge30sXHJcbiAgbWV0aG9kOiAnZ2V0JyxcclxuICBwYXJhbXM6IHt9LFxyXG4gIHF1ZXJ5OiB7fSxcclxuICByZXNwb25zZVR5cGU6ICcnLFxyXG4gIHRpbWVvdXQ6IDAsXHJcbiAgdXJsOiAnJyxcclxuICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlXHJcbn07XHJcbmNvbnN0IHVwbG9hZE1ldGhvZHMgPSBuZXcgQXJyKFsncG9zdCcsICdwdXQnXSk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIEZldGNoXHJcbiAqIEBleHRlbmRzIEZ1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZyA9IHt9XSAtIEEgbnVtYmVyIHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtGZXRjaH0gSW5zdGFuY2Ugb2YgRmV0Y2guXHJcbiAqIEFuIGluc3RhbmNlIG9mIEZldGNoIGlzIGEgZnVuY3Rpb24gdGhhdCBzaW1wbHkgY2FsbHMgI3JlcXVlc3Qgd2l0aCB0aGUgc2FtZSBhcmd1bWVudHMuXHJcbiAqIEBkZXNjcmlwdGlvbiBDbGFzcyBmb3IgZmV0Y2hpbmcgZGF0YS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKTtcclxuICpcclxuICogZmV0Y2goJy9kYXRhJykudGhlbigocmVzKSA9PiB7XHJcbiAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICogfSk7XHJcbiAqL1xyXG5jbGFzcyBGZXRjaCBleHRlbmRzIEZ1bmN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBmZXRjaCgpIHtcclxuICAgICAgcmV0dXJuIGZldGNoLnJlcXVlc3QuYXBwbHkoZmV0Y2gsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29uZiA9IG5ldyBTdXBlcih7fSkuZGVlcEFzc2lnbihkZWZhdWx0cywgY29uZmlnKS4kO1xyXG5cclxuICAgIGlmIChjb25mLmJlZm9yZS5pbmRleE9mKGZldGNoQmVmb3JlTWlkZGxld2FyZSkgPT09IC0xKSB7XHJcbiAgICAgIGNvbmYuYmVmb3JlLnB1c2goZmV0Y2hCZWZvcmVNaWRkbGV3YXJlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge0ZldGNoQ29uZmlnfSBGZXRjaCMkJFxyXG4gICAgICogQHR5cGUge0ZldGNoQ29uZmlnfVxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIEZldGNoIGNvbmZpZy5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZldGNoLCAnJCQnLCB7IHZhbHVlOiBjb25mIH0pO1xyXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGZldGNoLCBGZXRjaC5wcm90b3R5cGUpO1xyXG5cclxuICAgIHJldHVybiBmZXRjaDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjYWZ0ZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtGZXRjaEFmdGVyTWlkZGxld2FyZXxGZXRjaEVycm9yQWZ0ZXJNaWRkbGV3YXJlfSBtaWRkbGV3YXJlIC0gTWlkZGxld2FyZSB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthZnRlckFsbCA9IHRydWVdIC0gQm9vbGVhbiBwYXJhbWV0ZXIgd2hlcmUgdG8gcHV0IHRoZSBtaWRkbGV3YXJlLlxyXG4gICAqIFRydXRoeSBwYXJhbWV0ZXIgc3RhbmRzIGZvciBcInRvIHRoZSBlbmRcIiBhbmQgZmFsc2V5IGZvciBcInRvIHRoZSBiZWdpbm5pbmdcIi5cclxuICAgKiBAcmV0dXJucyB7RmV0Y2h9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWlkZGxld2FyZSB0aGF0IGlzIGNhbGxlZCBhZnRlciB0aGUgcmVxdWVzdC5cclxuICAgKiBJZiB0aGUgbWlkZGxld2FyZSBoYXMgMiBvciBsZXNzIGFyZ3VtZW50cyBpdCdzIHRyZWF0ZWQgYXMgc3VjY2VzcyBtaWRkbGV3YXJlIG90aGVyd2lzZSBhcyBhbiBlcnJvciBvbmUuXHJcbiAgICogSWYgdGhlIG1pZGRsZXdhcmUgcmV0dXJucyBhIHByb21pc2UgaXQgYmVjb21lcyBhIHBhcnQgb2YgdGhlIG1pZGRsZXdhcmUgY2hhaW4uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKClcclxuICAgKiAgIC5hZnRlcigoZXJyLCByZXMpID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgKlxyXG4gICAqICAgICB0aHJvdyBlcnI7XHJcbiAgICogICB9KVxyXG4gICAqICAgLmFmdGVyKChyZXMpID0+IHtcclxuICAgKiAgICAgcmVzLmpzb24gPSBEKHJlcy5kYXRhKS5wYXJzZUpTT04oKTpcclxuICAgKiAgIH0pO1xyXG4gICAqL1xyXG4gIGFmdGVyKG1pZGRsZXdhcmUsIGFmdGVyQWxsID0gdHJ1ZSkge1xyXG4gICAgdmFsaWRhdGUoW21pZGRsZXdhcmVdLCBbJ2Z1bmN0aW9uJ10sICdGZXRjaCNhZnRlcicpO1xyXG5cclxuICAgIGNvbnN0IHsgYWZ0ZXIgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGFmdGVyQWxsKSB7XHJcbiAgICAgIGFmdGVyLnB1c2gobWlkZGxld2FyZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhZnRlci51bnNoaWZ0KG1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNiZWZvcmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtGZXRjaEJlZm9yZU1pZGRsZXdhcmV8RmV0Y2hFcnJvckJlZm9yZU1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBNaWRkbGV3YXJlIHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2JlZm9yZUFsbCA9IHRydWVdIC0gQm9vbGVhbiBwYXJhbWV0ZXIgd2hlcmUgdG8gcHV0IHRoZSBtaWRkbGV3YXJlLlxyXG4gICAqIFRydXRoeSBwYXJhbWV0ZXIgc3RhbmRzIGZvciBcInRvIHRoZSBiZWdpbm5pbmdcIiBhbmQgZmFsc2V5IGZvciBcInRvIHRoZSBlbmRcIi5cclxuICAgKiBAcmV0dXJucyB7RmV0Y2h9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWlkZGxld2FyZSB0aGF0IGlzIGNhbGxlZCBiZWZvcmUgdGhlIHJlcXVlc3QuXHJcbiAgICogSWYgdGhlIG1pZGRsZXdhcmUgaGFzIDIgb3IgbGVzcyBhcmd1bWVudHMgaXQncyB0cmVhdGVkIGFzIHN1Y2Nlc3MgbWlkZGxld2FyZSBvdGhlcndpc2UgYXMgYW4gZXJyb3Igb25lLlxyXG4gICAqIElmIHRoZSBtaWRkbGV3YXJlIHJldHVybnMgYSBwcm9taXNlIGl0IGJlY29tZXMgYSBwYXJ0IG9mIHRoZSBtaWRkbGV3YXJlIGNoYWluLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpXHJcbiAgICogICAuYmVmb3JlKChlcnIsIHJlcSkgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAqXHJcbiAgICogICAgIHRocm93IGVycjtcclxuICAgKiAgIH0pXHJcbiAgICogICAuYmVmb3JlKChyZXEpID0+IHtcclxuICAgKiAgICAgaWYgKHJlcS51cmwgPT09ICcvdmVyeUxvbmdSZXF1ZXN0Jykge1xyXG4gICAqICAgICAgIHJlcS50aW1lb3V0ID0gMzAwMDA7XHJcbiAgICogICAgIH1cclxuICAgKiAgIH0pO1xyXG4gICAqL1xyXG4gIGJlZm9yZShtaWRkbGV3YXJlLCBiZWZvcmVBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0ZldGNoI2JlZm9yZScpO1xyXG5cclxuICAgIGNvbnN0IHsgYmVmb3JlIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChiZWZvcmVBbGwpIHtcclxuICAgICAgYmVmb3JlLnVuc2hpZnQobWlkZGxld2FyZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBiZWZvcmUucHVzaChtaWRkbGV3YXJlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjY29uZmlnXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEZldGNoQ29uZmlnfEZldGNoQ29uZmlnRnVuY3Rpb259IFtwcm9wZXJ0eV0gLSBJZiBpdCdzIGEgZnVuY3Rpb25cclxuICAgKiBpdCdzIGNhbGxlZCB3aXRoIHRoZSBmZXRjaCBjb25maWcgYXJndW1lbnQsIGlmIGl0J3MgYSBzdHJpbmcgdGhlIHZhbHVlIGFyZ3VtZW50XHJcbiAgICogaXMgdXNlZCBmb3IgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkgdG8gdGhlIGZldGNoIGNvbmZpZ1xyXG4gICAqIG90aGVyd2lzZSBpdCdzIGFzc2lnbmVkIHRvIHRoZSBmZXRjaCBjb25maWcuXHJcbiAgICogQHBhcmFtIHsqfSBbdmFsdWVdIC0gU2VlIHRoZSBwcm9wZXJ0eSBhcmd1bWVudC5cclxuICAgKiBAcmV0dXJucyB7RmV0Y2h8RmV0Y2hDb25maWd9IElmIHRoZSBhcmd1bWVudCBpcyBwcmVzZW50IHRoaXMgaXMgcmV0dXJuZWQgb3RoZXJ3aXNlIHRoZSBmZXRjaCBjb25maWcgaXMgcmV0dXJuZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBhbmQgc2V0dGluZyBjb25maWcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKCk7XHJcbiAgICpcclxuICAgKiBmZXRjaC5jb25maWcoeyBiYXNlVVJMOiA1MDAwIH0pO1xyXG4gICAqIGZldGNoLmNvbmZpZygpLnRpbWVvdXQ7IC8vIDUwMDBcclxuICAgKlxyXG4gICAqIGZldGNoLmNvbmZpZygoY29uZmlnKSA9PiB7XHJcbiAgICogICBjb25maWcuYmFzZVVSTCArPSAnL2FwaSc7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgY29uZmlnKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgY29uc3QgY29uZiA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBjb25mO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0Z1bmN0aW9uKHByb3BlcnR5KSkge1xyXG4gICAgICBwcm9wZXJ0eShjb25mKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKGNvbmYpLmRlZXBBc3NpZ24ocHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt1cmxdIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAZGVzY3JpcHRpb24gU2hvcnRoYW5kIGZvciAjcmVxdWVzdCBmb3IgZGVsZXRlIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5kZWxldGUoJy9kYXRhJykudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGRlbGV0ZSh1cmwsIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gdXJsO1xyXG4gICAgICB1cmwgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIGFzc2lnbih7IG1ldGhvZDogJ2RlbGV0ZScgfSwgY29uZmlnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2dldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBnZXQgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLmdldCgnL2RhdGEnKS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgZ2V0KHVybCwgY29uZmlnID0ge30pIHtcclxuICAgIGlmICghaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSB1cmw7XHJcbiAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHVybCwgYXNzaWduKHsgbWV0aG9kOiAnZ2V0JyB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjaGVhZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBoZWFkIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5oZWFkKCcvZGF0YScpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBoZWFkKHVybCwgY29uZmlnID0ge30pIHtcclxuICAgIGlmICghaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSB1cmw7XHJcbiAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHVybCwgYXNzaWduKHsgbWV0aG9kOiAnaGVhZCcgfSwgY29uZmlnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2hlYWRlcnNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsIFN0cmluZ3xTdHJpbmdbXT59IGhlYWRlciAtIEEgaGVhZGVyIHN0cmluZyBvciBhbiBvYmplY3Qgb2YgdGhlIGZvbGxvd2luZyBmb3JtYXQ6XHJcbiAgICogeyBbaGVhZGVyXTogW3ZhbHVlMSwgdmFsdWUyLCAuLi5dIH0uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8U3RyaW5nW119IFt2YWx1ZV0gLSBIZWFkZXIgdmFsdWUuIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZ1xyXG4gICAqIHRoaXMgaGFzIHRvIGJlIGEgaGVhZGVyIHZhbHVlIG9yIGFuIGFycmF5IG9mIGhlYWRlciB2YWx1ZXMuXHJcbiAgICogQHJldHVybnMge0ZldGNofSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igc2V0dGluZyByZXF1ZXN0IGhlYWRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKClcclxuICAgKiAgIC5oZWFkZXJzKCdIZWFkZXIxJywgJ1ZhbHVlJylcclxuICAgKiAgIC5oZWFkZXJzKCdIZWFkZXIyJywgWydWYWx1ZTEnLCAnVmFsdWUyJ10pXHJcbiAgICogICAuaGVhZGVycyh7XHJcbiAgICogICAgIEhlYWRlcjM6IFsnVmFsdWUxJywgJ1ZhbHVlMiddXHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICBoZWFkZXJzKGhlYWRlciwgdmFsdWUpIHtcclxuICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIGhlYWRlciA9IHsgW2hlYWRlcl06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0ZShoZWFkZXIsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFycmF5ID0gaGVhZGVyc1toZWFkZXJdIHx8IFtdO1xyXG4gICAgICBjb25zdCB0b1B1c2ggPSBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcclxuXHJcbiAgICAgIChoZWFkZXJzW2hlYWRlcl0gPSBhcnJheSkucHVzaC5hcHBseShhcnJheSwgdG9QdXNoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNpbnN0YW5jZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIE5ldyBjb25maWcgaWYgbmVlZGVkLlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaH0gTmV3IGluc3RhbmNlIG9mIEZldGNoLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIG5ldyBmZXRjaCBpbnN0YW5jZXMgYmFzZWQgb24gYWxyZWFkeSBleGlzdGVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgbWFpbkZldGNoID0gbmV3IEZldGNoKHtcclxuICAgKiAgIGJhc2VVUkw6ICcvL290aGVyLmRvbWFpbi5jb20vYXBpJyxcclxuICAgKiAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZVxyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogY29uc3QgbG9uZ0ZldGNoID0gbWFpbkZldGNoLmluc3RhbmNlKHtcclxuICAgKiAgIHRpbWVvdXQ6IDEwMDAwXHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgaW5zdGFuY2UoY29uZmlnID0ge30pIHtcclxuICAgIGNvbnN0IGRhdGFDb25maWcgPSBuZXcgU3VwZXIoY29uZmlnKS5oYXNPd24oJ2RhdGEnKVxyXG4gICAgICA/IHsgZGF0YTogY29uZmlnLmRhdGEgfVxyXG4gICAgICA6IHt9O1xyXG5cclxuICAgIGRlbGV0ZSBjb25maWcuZGF0YTtcclxuXHJcbiAgICBjb25zdCBjb25mID0gbmV3IFN1cGVyKHt9KVxyXG4gICAgICAuZGVlcEFzc2lnbih0aGlzLiQkLCBjb25maWcpXHJcbiAgICAgIC5hc3NpZ24oZGF0YUNvbmZpZylcclxuICAgICAgLiQ7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBGZXRjaChjb25mKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjcGF0Y2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt1cmxdIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcGFyYW0geyp9IFtkYXRhXSAtIEFkZGl0aW9uYWwgcGFyYW1ldGVyIGZvciB1cGxvYWRpbmcgZGF0YS5cclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAZGVzY3JpcHRpb24gU2hvcnRoYW5kIGZvciAjcmVxdWVzdCBmb3IgaGVhZCByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEZldGNoKCkucGF0Y2goJy9kYXRhJywgeyB1c2VyOiAnSm9obicgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHBhdGNoKHVybCwgZGF0YSA9IHt9LCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gZGF0YTtcclxuICAgICAgZGF0YSA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdwYXRjaCcsIGRhdGEgfSwgY29uZmlnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI3Bvc3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt1cmxdIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcGFyYW0geyp9IFtkYXRhXSAtIEFkZGl0aW9uYWwgcGFyYW1ldGVyIGZvciB1cGxvYWRpbmcgZGF0YS5cclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAZGVzY3JpcHRpb24gU2hvcnRoYW5kIGZvciAjcmVxdWVzdCBmb3IgaGVhZCByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEZldGNoKCkucG9zdCgnL2RhdGEnLCB7IHVzZXI6ICdKb2huJyB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgcG9zdCh1cmwsIGRhdGEgPSB7fSwgY29uZmlnID0ge30pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmICFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IGRhdGE7XHJcbiAgICAgIGRhdGEgPSB1cmw7XHJcbiAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHVybCwgYXNzaWduKHsgbWV0aG9kOiAncG9zdCcsIGRhdGEgfSwgY29uZmlnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI3B1dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIC0gQWRkaXRpb25hbCBwYXJhbWV0ZXIgZm9yIHVwbG9hZGluZyBkYXRhLlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBoZWFkIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5wdXQoJy9kYXRhJywgeyB1c2VyOiAnSm9obicgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHB1dCh1cmwsIGRhdGEgPSB7fSwgY29uZmlnID0ge30pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmICFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IGRhdGE7XHJcbiAgICAgIGRhdGEgPSB1cmw7XHJcbiAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHVybCwgYXNzaWduKHsgbWV0aG9kOiAncHV0JywgZGF0YSB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjcmVxdWVzdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBVUkwgZm9yIHRoZSByZXF1ZXN0LlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gQWRkaXRpb25hbCBjb25maWcgZm9yIHRoaXMgcGFydGljdWxhciByZXF1ZXN0LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXF1ZXN0IHJlc3BvbnNlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNYWluIGZ1bmN0aW9uIGZvciBtYWtpbmcgcmVxdWVzdHMuIEFsbCByZXF1ZXN0IG1ldGhvZHMgY2FsbCB0aGlzIG1ldGhvZFxyXG4gICAqIGluY2x1ZGluZyB0aGUgZmV0Y2ggaW5zdGFuY2UgaXRzZWxmLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpO1xyXG4gICAqXHJcbiAgICogZmV0Y2gucmVxdWVzdCgnL2RhdGEnLCB7IHRpbWVvdXQ6IDEwMDAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogZmV0Y2gucmVxdWVzdCh7IHRpbWVvdXQ6IDEwMDAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogZmV0Y2gucmVxdWVzdCgpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICByZXF1ZXN0KHVybCwgY29uZmlnID0ge30pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IHVybDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhQ29uZmlnID0gbmV3IFN1cGVyKGNvbmZpZykuaGFzT3duKCdkYXRhJylcclxuICAgICAgPyB7IGRhdGE6IGNvbmZpZy5kYXRhIH1cclxuICAgICAgOiB7fTtcclxuICAgIGNvbnN0IHVybENvbmZpZyA9IGlzU3RyaW5nKHVybClcclxuICAgICAgPyB7IHVybCB9XHJcbiAgICAgIDoge307XHJcblxyXG4gICAgZGVsZXRlIGNvbmZpZy5kYXRhO1xyXG5cclxuICAgIGNvbnN0IGNvbmYgPSBuZXcgU3VwZXIodGhpcy4kJClcclxuICAgICAgLmRlZXBDbG9uZSgpXHJcbiAgICAgIC5kZWVwQXNzaWduKHVybENvbmZpZywgY29uZmlnKVxyXG4gICAgICAuYXNzaWduKGRhdGFDb25maWcpXHJcbiAgICAgIC4kO1xyXG5cclxuICAgIGxldCB4aHI7XHJcbiAgICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5cclxuICAgIGl0ZXJhdGUoY29uZi5iZWZvcmUsIChtaWRkbGV3YXJlKSA9PiB7XHJcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGlmIChtaWRkbGV3YXJlLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgIHJlc29sdmUobWlkZGxld2FyZShjb25mKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICBpZiAobWlkZGxld2FyZS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgcmVzb2x2ZShtaWRkbGV3YXJlKGVyciwgY29uZikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgICBwYXNzd29yZFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0YSxcclxuICAgICAgICBoZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZCxcclxuICAgICAgICBvbnByb2dyZXNzLFxyXG4gICAgICAgIHJlc3BvbnNlVHlwZSxcclxuICAgICAgICB0aW1lb3V0LFxyXG4gICAgICAgIHVybCxcclxuICAgICAgICB3aXRoQ3JlZGVudGlhbHNcclxuICAgICAgfSA9IGNvbmY7XHJcblxyXG4gICAgICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlLCB1c2VybmFtZSwgcGFzc3dvcmQpO1xyXG5cclxuICAgICAgaXRlcmF0ZShoZWFkZXJzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xyXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgdmFsdWUpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChvbnByb2dyZXNzKSB7XHJcbiAgICAgICAgaWYgKHVwbG9hZE1ldGhvZHMuaW5kZXhPZlN0cmljdChtZXRob2QpID09PSAtMSkge1xyXG4gICAgICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSBvbnByb2dyZXNzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4aHIudXBsb2FkLm9ucHJvZ3Jlc3MgPSBvbnByb2dyZXNzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgeGhyLm9uYWJvcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCB3YXMgYWJvcnRlZCcpKTtcclxuXHJcbiAgICAgICAgeGhyID0gbnVsbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHhoci5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSk7XHJcblxyXG4gICAgICAgIHhociA9IG51bGw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB4aHIub250aW1lb3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3QgdGltZSBleGNlZWRlZCcpKTtcclxuXHJcbiAgICAgICAgeGhyID0gbnVsbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF4aHIgfHwgIXhoci5zdGF0dXMgfHwgeGhyLnJlYWR5U3RhdGUgIT09IDQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xyXG4gICAgICAgICAgY29uZmlnOiBjb25mLFxyXG4gICAgICAgICAgZGF0YTogIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHhoci5yZXNwb25zZVRleHQgOiB4aHIucmVzcG9uc2UsXHJcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSxcclxuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXMsXHJcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzID09PSAxMjIzID8gJ05vIENvbnRlbnQnIDogeGhyLnN0YXR1c1RleHQsXHJcbiAgICAgICAgICB4aHJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5cclxuICAgICAgICBpdGVyYXRlKGFmdGVyLCAobWlkZGxld2FyZSkgPT4ge1xyXG4gICAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtaWRkbGV3YXJlLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKG1pZGRsZXdhcmUocmVzcG9uc2UpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChtaWRkbGV3YXJlLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShtaWRkbGV3YXJlKGVyciwgcmVzcG9uc2UpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlXHJcbiAgICAgICAgICAudGhlbigoKSA9PiByZXNwb25zZSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgZXJyLnJlc3BvbnNlID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XHJcbiAgICAgIHhoci50aW1lb3V0ID0gTnVtYmVyKHRpbWVvdXQpIHx8IDA7XHJcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIXdpdGhDcmVkZW50aWFscztcclxuXHJcbiAgICAgIHhoci5zZW5kKGRhdGEpO1xyXG4gICAgfSkpO1xyXG5cclxuICAgIHByb21pc2UuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcclxuICAgICAgaWYgKHhocikge1xyXG4gICAgICAgIHhoci5hYm9ydCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEZldGNoLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnRmV0Y2gnXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBmZXRjaEJlZm9yZU1pZGRsZXdhcmVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtGZXRjaENvbmZpZ30gY29uZmlnXHJcbiAqIEBkZXNjcmlwdGlvbiBCdWlsdC1pbiBiZWZvcmUgbWlkZGxld2FyZSBmb3IgdXJsLCBkYXRhLCBtZXRob2QsIGhlYWRlcnMgY29uc3RydWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZmV0Y2hCZWZvcmVNaWRkbGV3YXJlKGNvbmZpZykge1xyXG4gIGNvbnN0IHtcclxuICAgIGJhc2VVUkwsXHJcbiAgICBkYXRhLFxyXG4gICAgaGVhZGVycyxcclxuICAgIG1ldGhvZCxcclxuICAgIHBhcmFtcyxcclxuICAgIHF1ZXJ5LFxyXG4gICAgdXJsXHJcbiAgfSA9IGNvbmZpZztcclxuICBjb25zdCBNRVRIT0QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgY29uZmlnLm1ldGhvZCA9IE1FVEhPRDtcclxuICBjb25maWcudXJsID0gY29uc3RydWN0VVJMKGJhc2VVUkwsIHVybCwgcGFyYW1zLCBxdWVyeSk7XHJcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKGRhdGEsIE1FVEhPRCwgaGVhZGVycyk7XHJcbiAgY29uZmlnLmhlYWRlcnMgPSBuZXcgU3VwZXIoaGVhZGVycykub2JqZWN0KChoZWFkZXJzLCB2YWx1ZXMsIGhlYWRlcikgPT4ge1xyXG4gICAgaGVhZGVyID0gbmV3IFN0cihoZWFkZXIpXHJcbiAgICAgIC50b0NhcGl0YWxDYXNlKClcclxuICAgICAgLnJlcGxhY2UoL1xccysvZywgJy0nKVxyXG4gICAgICAuJDtcclxuXHJcbiAgICBoZWFkZXJzW2hlYWRlcl0gPSB2YWx1ZXMuam9pbignLCAnKTtcclxuICB9KS4kO1xyXG59XHJcblxyXG4vKipcclxuICogQGNvbnN0IHtGZXRjaH0gZmV0Y2hcclxuICogQHR5cGUge0ZldGNofVxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBFbXB0eSBpbnN0YW5jZSBvZiBGZXRjaC5cclxuICovXHJcbmNvbnN0IGZldGNoID0gbmV3IEZldGNoKCk7XHJcblxyXG5leHBvcnQgeyBGZXRjaCwgZmV0Y2ggfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgUm91dGVyXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBSb3V0ZXIuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi9BcnInO1xyXG5pbXBvcnQgeyBFbGVtLCB3aW4gfSBmcm9tICcuL0VsZW0nO1xyXG5pbXBvcnQgeyBzZWxmIH0gZnJvbSAnLi9GdW5jJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi9TdHInO1xyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBzd2l0Y2hlciB9IGZyb20gJy4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBhc3NpZ24sIGlzTmlsLCBpc1JlZ0V4cCwgaXNTdHJpbmcgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgY29uc3RydWN0VVJMIGZyb20gJy4vaGVscGVycy9jb25zdHJ1Y3RVUkwnO1xyXG5pbXBvcnQgcmVzb2x2ZVVSTCBmcm9tICcuL2hlbHBlcnMvcmVzb2x2ZVVSTCc7XHJcblxyXG5jb25zdCBSb3V0ZXMgPSBuZXcgQXJyKFtdKTtcclxuY29uc3Qgc3Vic2NyaWJlcnMgPSBuZXcgU3VwZXIoe30pO1xyXG5jb25zdCB7XHJcbiAgaGlzdG9yeSxcclxuICBsb2NhdGlvbixcclxuICBsb2NhdGlvbjoge1xyXG4gICAgb3JpZ2luLFxyXG4gICAgaHJlZlxyXG4gIH1cclxufSA9IGdsb2JhbDtcclxubGV0IGluaXRpYWxpemVkO1xyXG5sZXQgcHVzaGVkO1xyXG5sZXQgd2FzUm9vdDtcclxubGV0IHdhc0RlZmF1bHQ7XHJcbmxldCByb290Um91dGU7XHJcbmxldCByZWRpcmVjdFJvdXRlO1xyXG5sZXQgUmVkaXJlY3RSb3V0ZTtcclxubGV0IGRlZmF1bHRSb3V0ZTtcclxubGV0IERlZmF1bHRSb3V0ZTtcclxubGV0IGN1cnJlbnRSb3V0ZTtcclxubGV0IGN1cnJlbnRSb3V0ZVBhcmFtcztcclxuXHJcbmNvbnN0IHBhdGhTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKCkgPT4ge1xyXG4gIHRocm93IG5ldyBFcnJvcignU3RhdGUgcGF0aCBtdXN0IGJlIGEgc3RyaW5nLCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciB1bmRlZmluZWQhIChhdCByZWdpc3RlclN0YXRlKScpO1xyXG59KVxyXG4gIC5jYXNlKGlzUmVnRXhwLCAocGF0aCkgPT4gKHtcclxuICAgIHBhdGg6IHBhdGguc291cmNlLnJlcGxhY2UoL1xcXFxcXC8vZywgJy8nKSxcclxuICAgIHVybDogcGF0aCxcclxuICAgIHBhcmFtczoge31cclxuICB9KSlcclxuICAuY2FzZShpc05pbCwgKCkgPT4gKHtcclxuICAgIHBhdGg6ICcvJyxcclxuICAgIHVybDogJy8nLFxyXG4gICAgcGFyYW1zOiB7fVxyXG4gIH0pKVxyXG4gIC5jYXNlKGlzU3RyaW5nLCAocGF0aCkgPT4ge1xyXG4gICAgaWYgKHBhdGguaW5kZXhPZignLycpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignSWYgcm91dGUgcGF0aCBpcyBhIHN0cmluZyBpdCBtdXN0IHN0YXJ0IHdpdGggXCIvXCIhIChhdCByZWdpc3RlclN0YXRlKScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGluZGV4ID0gcGF0aC5pbmRleE9mKCc/Jyk7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgU3VwZXIoe30pO1xyXG4gICAgbGV0IG5ld1VSTCA9ICcnO1xyXG4gICAgY29uc3QgbmV3UGF0aCA9IG5ldyBTdHIocGF0aClcclxuICAgICAgLnNsaWNlKDAsIGluZGV4ID09PSAtMSA/IHBhdGgubGVuZ3RoIDogaW5kZXgpXHJcbiAgICAgIC5yZXBsYWNlKC9eXFwvfFxcLyQvZylcclxuICAgICAgLnNwbGl0KC9cXC8vKVxyXG4gICAgICAubWFwKChwYXJ0LCBpLCBhcnJheSkgPT4ge1xyXG4gICAgICAgIGlmICghcGFydCAmJiBhcnJheS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lmIHJvdXRlIHBhdGggaXMgYSBzdHJpbmcgaXQgbXVzdCBub3QgY29udGFpbiBcIi8vXCIgb3IgZW5kIHdpdGggXCIvXCIhIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnQuaW5kZXhPZignOicpO1xyXG5cclxuICAgICAgICBpZiAoaW5kZXggPiAwKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lmIHJvdXRlIHBhdGggaXMgYSBzdHJpbmcgcmVzb3VyY2UgcGFydCBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiBVUkwgcGFyYW1ldGVyISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXJsOiBwYXJ0LFxyXG4gICAgICAgICAgICB2YWx1ZTogcGFydFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICByZWdleHAgPSAvW14vXSovXHJcbiAgICAgICAgfSA9IHJlc29sdmVQYXJhbWV0ZXIoXHJcbiAgICAgICAgICBwYXJ0LnNsaWNlKDEpLFxyXG4gICAgICAgICAgJ1VSTCBwYXJhbWV0ZXIgbXVzdCBub3QgYmUgYW4gZW1wdHkgc3RyaW5nIG9yIGNvbnRhaW4gY2hhcmFjdGVycyBiZXNpZGVzIFwiYS16QS1aXyRcIiEgKGF0IG1ha2VSb3V0ZSknLFxyXG4gICAgICAgICAgJ1VSTCBwYXJhbWV0ZXIgcmVnZXhwIHZhbGlkYXRvciBtdXN0IGJlIHdpdGhpbiBwYXJlbnRoZXNlcyAoZS5nLiA6dXNlcklkKFxcXFxkKykgYW5kIG5vdCBjb250YWluIG9uZXMpISAoYXQgbWFrZVJvdXRlKSdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBwYXJhbXMuJFtuYW1lXSA9IHBhcmFtcy5jb3VudDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHR5cGU6ICdwYXJhbScsXHJcbiAgICAgICAgICB1cmw6IGA6JHsgbmFtZSB9YCxcclxuICAgICAgICAgIHZhbHVlOiByZWdleHBcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgICAud29yZCgoeyB0eXBlLCB1cmwsIHZhbHVlIH0pID0+IHtcclxuICAgICAgICBsZXQgbmV3UGF0aDtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwYXJhbScpIHtcclxuICAgICAgICAgIG5ld1BhdGggPSBgKCR7IHZhbHVlLnNvdXJjZS5yZXBsYWNlKC9cXFxcXFwvL2csICcvJykgfSlgO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuZXdQYXRoID0gbmV3IFN0cih2YWx1ZSkuZXNjYXBlUmVnRXhwKCkuJDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld1VSTCArPSBgLyR7IHVybCB9YDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGAvJHsgbmV3UGF0aCB9YDtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcGF0aDogbmV3UGF0aCxcclxuICAgICAgdXJsOiBuZXdVUkwsXHJcbiAgICAgIHBhcmFtczogcGFyYW1zLiRcclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG5jbGFzcyBSb3V0ZSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBwYXRoID0gJy8nLFxyXG4gICAgICBhYnN0cmFjdCA9IGZhbHNlLFxyXG4gICAgICBwYXJlbnQsXHJcbiAgICAgIGRlY29kZVF1ZXJ5ID0gdHJ1ZSxcclxuICAgICAgZW5jb2RlUXVlcnkgPSB0cnVlLFxyXG4gICAgICBkZWNvZGVQYXJhbXMgPSB0cnVlLFxyXG4gICAgICBlbmNvZGVQYXJhbXMgPSB0cnVlXHJcbiAgICB9ID0gb3B0aW9ucyB8fCB7fTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgdXJsOiByZWxhdGl2ZVVSTCxcclxuICAgICAgcGF0aDogcmVsYXRpdmVQYXRoLFxyXG4gICAgICBwYXJhbXNcclxuICAgIH0gPSBwYXRoU3dpdGNoZXIocGF0aCk7XHJcbiAgICBjb25zdCBxdWVyeSA9IHt9O1xyXG5cclxuICAgIG5ldyBTdXBlcih0aGlzKS5hc3NpZ24oe1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBwYXJlbnROYW1lOiBwYXJlbnQsXHJcbiAgICAgIGFic3RyYWN0OiAhIWFic3RyYWN0LFxyXG4gICAgICBjaGlsZHJlbjogbmV3IEFycihbXSksXHJcbiAgICAgIGRlY29kZVBhcmFtczogISFkZWNvZGVQYXJhbXMsXHJcbiAgICAgIGRlY29kZVF1ZXJ5OiAhIWRlY29kZVF1ZXJ5LFxyXG4gICAgICBlbmNvZGVQYXJhbXM6ICEhZW5jb2RlUGFyYW1zLFxyXG4gICAgICBlbmNvZGVRdWVyeTogISFlbmNvZGVRdWVyeSxcclxuICAgICAgcGFyYW1zLFxyXG4gICAgICBxdWVyeSxcclxuICAgICAgcmVsYXRpdmVQYXRoLFxyXG4gICAgICByZWxhdGl2ZVVSTFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgaW5kZXggPSBpc1N0cmluZyhwYXRoKSA/IHBhdGguaW5kZXhPZignPycpIDogLTE7XHJcblxyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICBuZXcgU3RyKHBhdGgpXHJcbiAgICAgICAgLnJlcGxhY2UoLyYkLylcclxuICAgICAgICAuc2xpY2UoaW5kZXggKyAxKVxyXG4gICAgICAgIC5zcGxpdCgnJicpXHJcbiAgICAgICAgLmZvckVhY2goKHBhcmFtKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIHJlZ2V4cCA9IC9bXFxzXFxTXSovXHJcbiAgICAgICAgICB9ID0gcmVzb2x2ZVBhcmFtZXRlcihcclxuICAgICAgICAgICAgcGFyYW0sXHJcbiAgICAgICAgICAgICdRdWVyeSBwYXJhbWV0ZXIgbXVzdCBub3QgYmUgYW4gZW1wdHkgc3RyaW5nIG9yIGNvbnRhaW4gY2hhcmFjdGVycyBiZXNpZGVzIFwiYS16QS1aXyRcIiEgKGF0IG1ha2VSb3V0ZSknLFxyXG4gICAgICAgICAgICAnUXVlcnkgcGFyYW1ldGVyIHJlZ2V4cCB2YWxpZGF0b3IgbXVzdCBiZSB3aXRoaW4gcGFyZW50aGVzZXMgKGUuZy4gOnVzZXJJZChcXFxcZCspKSBhbmQgbm90IGNvbnRhaW4gdGhlbSEgKGF0IG1ha2VSb3V0ZSknXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIHF1ZXJ5W25hbWVdID0gbmV3IFJlZ0V4cChgXiR7IHJlZ2V4cC5zb3VyY2UucmVwbGFjZSgvXFxcXFxcLy9nLCAnLycpIH0kYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5hbWUgPT09IGRlZmF1bHRSb3V0ZSAmJiAoXHJcbiAgICAgICAgbmV3IFN1cGVyKHBhcmFtcykuY291bnRcclxuICAgICAgICB8fCBuZXcgU3VwZXIocXVlcnkpLmNvdW50XHJcbiAgICAgICkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWZhdWx0IHJvdXRlIG11c3Qgbm90IGhhdmUgVVJMIG9yIHF1ZXJ5IHBhcmFtcyEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGJhc2VSb3V0ZSA9IG5ldyBSb3V0ZSgpO1xyXG5cclxuZnVuY3Rpb24gaW5pdFJvdXRlcigpIHtcclxuICBpZiAoaW5pdGlhbGl6ZWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVkID0gdHJ1ZTtcclxuICBSZWRpcmVjdFJvdXRlID0gKFJvdXRlcy5maW5kKCh7IG5hbWUgfSkgPT4gbmFtZSA9PT0gcmVkaXJlY3RSb3V0ZSkgfHwge30pLnZhbHVlO1xyXG4gIERlZmF1bHRSb3V0ZSA9IChSb3V0ZXMuZmluZCgoeyBuYW1lIH0pID0+IG5hbWUgPT09IGRlZmF1bHRSb3V0ZSkgfHwge30pLnZhbHVlO1xyXG5cclxuICBpZiAocmVkaXJlY3RSb3V0ZSAmJiAhUmVkaXJlY3RSb3V0ZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBpcyBubyBzcGVjaWZpZWQgZmFsbGJhY2sgcm91dGUgKFwiJHsgcmVkaXJlY3RSb3V0ZSB9XCIpISAoYXQgaW5pdFJvdXRlcilgKTtcclxuICB9XHJcblxyXG4gIFJvdXRlc1xyXG4gICAgLmZvckVhY2goKHJvdXRlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBwYXJlbnROYW1lLFxyXG4gICAgICAgIG5hbWVcclxuICAgICAgfSA9IHJvdXRlO1xyXG4gICAgICBjb25zdCBQYXJlbnROYW1lID0gcGFyZW50TmFtZSB8fCByb290Um91dGU7XHJcbiAgICAgIGNvbnN0IHsgdmFsdWU6IHBhcmVudCB9ID0gUm91dGVzLmZpbmQoKHsgbmFtZSB9KSA9PiBuYW1lID09PSBQYXJlbnROYW1lKSB8fCB7fTtcclxuXHJcbiAgICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIHBhcmVudCByb3V0ZSAoXCIkeyBQYXJlbnROYW1lIH1cIikgZm91bmQgZm9yIHRoZSByb3V0ZSAoXCIkeyBuYW1lIH1cIikhIChhdCBpbml0Um91dGVyKWApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXBhcmVudC5hYnN0cmFjdCAmJiBuYW1lICE9PSByb290Um91dGUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcmVudCByb3V0ZSBtdXN0IGJlIGFic3RyYWN0IChmb3IgXCIkeyBuYW1lIH1cIikhIChhdCBpbml0Um91dGVyKWApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobmFtZSAhPT0gcm9vdFJvdXRlKSB7XHJcbiAgICAgICAgcm91dGUucGFyZW50TmFtZSA9IFBhcmVudE5hbWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJvdXRlLnBhcmVudCA9IG5hbWUgPT09IHJvb3RSb3V0ZVxyXG4gICAgICAgID8gYmFzZVJvdXRlXHJcbiAgICAgICAgOiBwYXJlbnQ7XHJcbiAgICB9KVxyXG4gICAgLmZvckVhY2goKHJvdXRlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIHBhcmVudDoge1xyXG4gICAgICAgICAgcGFyYW1zOiBwYXJlbnRQYXJhbXMsXHJcbiAgICAgICAgICBxdWVyeTogcGFyZW50UXVlcnksXHJcbiAgICAgICAgICBwYXRoXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJhbXMsXHJcbiAgICAgICAgcXVlcnksXHJcbiAgICAgICAgcmVsYXRpdmVVUkwsXHJcbiAgICAgICAgcmVsYXRpdmVQYXRoXHJcbiAgICAgIH0gPSByb3V0ZTtcclxuICAgICAgbGV0IHByb3RvID0gcm91dGU7XHJcbiAgICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAgIGxldCBuZXdQYXRoID0gcmVsYXRpdmVQYXRoO1xyXG4gICAgICBsZXQgbmV3VVJMID0gJyc7XHJcblxyXG4gICAgICBpZiAoaXNSZWdFeHAocGF0aCkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTCByZWdleHAgcm91dGUgY2Fubm90IGJlIGV4dGVuZGVkISAoYXQgaW5pdFJvdXRlciknKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2hpbGUgKHByb3RvID0gcHJvdG8ucGFyZW50KSB7XHJcbiAgICAgICAgY291bnQgKz0gbmV3IFN1cGVyKHByb3RvLnBhcmFtcykuY291bnQ7XHJcbiAgICAgICAgbmV3UGF0aCA9IHByb3RvLnJlbGF0aXZlUGF0aCArIG5ld1BhdGg7XHJcbiAgICAgICAgbmV3VVJMID0gcHJvdG8ucmVsYXRpdmVVUkwgKyBuZXdVUkw7XHJcblxyXG4gICAgICAgIHByb3RvLmNoaWxkcmVuLnB1c2gocm91dGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBuZXdQYXRoID0gbmV3IFJlZ0V4cChgXiR7IG5ld1BhdGgucmVwbGFjZSgvXFwvKy9nLCAnLycpLnJlcGxhY2UoL1xcLyQvLCAnJykgfHwgJy8nIH0kYCk7XHJcbiAgICAgIG5ld1VSTCA9IGlzUmVnRXhwKHJlbGF0aXZlVVJMKVxyXG4gICAgICAgID8gbmV3UGF0aFxyXG4gICAgICAgIDogKG5ld1VSTCArIHJlbGF0aXZlVVJMKS5yZXBsYWNlKC9cXC8rL2csICcvJykucmVwbGFjZSgvXFwvJC8sICcnKSB8fCAnLyc7XHJcblxyXG4gICAgICBuZXcgU3VwZXIocXVlcnkpLnByb3RvKHBhcmVudFF1ZXJ5KTtcclxuICAgICAgbmV3IFN1cGVyKHBhcmFtcylcclxuICAgICAgICAucHJvdG8ocGFyZW50UGFyYW1zKVxyXG4gICAgICAgIC5mb3JFYWNoKCh2YWx1ZSwga2V5LCBwYXJhbXMpID0+IHtcclxuICAgICAgICAgIHBhcmFtc1trZXldICs9IGNvdW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG5hbWUgPT09IGRlZmF1bHRSb3V0ZSAmJiAoXHJcbiAgICAgICAgICBuZXcgU3VwZXIocGFyYW1zKS5jb3VudFxyXG4gICAgICAgICAgfHwgbmV3IFN1cGVyKHF1ZXJ5KS5jb3VudFxyXG4gICAgICAgICkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmF1bHQgcm91dGUgbXVzdCBub3QgaGF2ZSBVUkwgb3IgcXVlcnkgcGFyYW1zISAoYXQgaW5pdFJvdXRlciknKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcm91dGUudXJsID0gbmV3VVJMO1xyXG4gICAgICByb3V0ZS52YWxpZGF0ZVBhdGggPSBuZXdQYXRoO1xyXG4gICAgfSk7XHJcblxyXG4gIGNoYW5nZVJvdXRlKCk7XHJcblxyXG4gIHdpbi5vbih7XHJcbiAgICBwb3BzdGF0ZSgpIHtcclxuICAgICAgaWYgKGxvY2F0aW9uLmhyZWYgIT09IGhyZWYpIHtcclxuICAgICAgICBwdXNoZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocHVzaGVkKSB7XHJcbiAgICAgICAgY2hhbmdlUm91dGUoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNsaWNrKGUpIHtcclxuICAgICAgY29uc3QgY2xvc2VzdExpbmsgPSBuZXcgRWxlbShlLnRhcmdldCkuY2xvc2VzdCgnYScpO1xyXG5cclxuICAgICAgaWYgKGNsb3Nlc3RMaW5rLmxlbmd0aCAmJiBjbG9zZXN0TGluay5hdHRyKCd0YXJnZXQnKSAhPT0gJ19ibGFuaycpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGZvcndhcmQoY2xvc2VzdExpbmsuYXR0cignaHJlZicpIHx8ICcnLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlUm91dGUob3B0aW9ucykge1xyXG4gIGNvbnN0IHtcclxuICAgIG5hbWUsXHJcbiAgICBwYXRoLFxyXG4gICAgYWJzdHJhY3QsXHJcbiAgICByb290LFxyXG4gICAgZmFsbGJhY2tUbyxcclxuICAgIGRlZmF1bHQ6IGlzRGVmYXVsdFxyXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICBpZiAoaW5pdGlhbGl6ZWQpIHtcclxuICAgIGNvbnNvbGUud2FybignUm91dGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkIChhdCBtYWtlUm91dGUpJyk7XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfVxyXG5cclxuICBpZiAod2FzUm9vdCAmJiByb290KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGNhbid0IGJlIHR3byByb290IHJvdXRlcyAoXCIkeyByb290Um91dGUgfVwiIGFuZCBcIiR7IG5hbWUgfVwiKSEgKGF0IG1ha2VSb3V0ZSlgKTtcclxuICB9XHJcblxyXG4gIGlmICh3YXNEZWZhdWx0ICYmIGlzRGVmYXVsdCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBjYW4ndCBiZSB0d28gZGVmYXVsdCByb3V0ZXMgKFwiJHsgZGVmYXVsdFJvdXRlIH1cIiBhbmQgXCIkeyBuYW1lIH1cIikhIChhdCBtYWtlUm91dGUpYCk7XHJcbiAgfVxyXG5cclxuICBpZiAoIW5hbWUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignU3RhdGUgbXVzdCBoYXZlIGEgbm9uLWVtcHR5IHN0cmluZyBcIm5hbWVcIiBwcm9wZXJ0eSEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICB9XHJcblxyXG4gIGlmIChSb3V0ZXMuc29tZSgoeyBuYW1lOiBOYW1lIH0pID0+IE5hbWUgPT09IG5hbWUpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXRlIG11c3QgaGF2ZSB1bmlxdWUgXCJuYW1lXCIgcHJvcGVydHkhIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgfVxyXG5cclxuICBpZiAocm9vdCkge1xyXG4gICAgd2FzUm9vdCA9IHRydWU7XHJcbiAgICByb290Um91dGUgPSBuYW1lO1xyXG4gICAgb3B0aW9ucy5wYXJlbnQgPSBudWxsO1xyXG5cclxuICAgIGlmIChmYWxsYmFja1RvKSB7XHJcbiAgICAgIHJlZGlyZWN0Um91dGUgPSBmYWxsYmFja1RvO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGlzRGVmYXVsdCkge1xyXG4gICAgd2FzRGVmYXVsdCA9IHRydWU7XHJcbiAgICBkZWZhdWx0Um91dGUgPSBuYW1lO1xyXG5cclxuICAgIGlmIChhYnN0cmFjdCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmF1bHQgcm91dGUgY2FuXFwndCBiZSBhYnN0cmFjdCEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNSZWdFeHAocGF0aCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWZhdWx0IHJvdXRlIGNhblxcJ3QgaGF2ZSBhIHJlZ2V4cCBwYXRoISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm91dGUgPSBuZXcgUm91dGUob3B0aW9ucyk7XHJcblxyXG4gIFJvdXRlcy5wdXNoKHJvdXRlKTtcclxuXHJcbiAgbGV0IHVuc3Vic2NyaWJlO1xyXG4gIGxldCByb3V0ZUxvYWRlZDtcclxuXHJcbiAgcmV0dXJuIChCbG9jaykgPT4gKFxyXG4gICAgY2xhc3MgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICAgIHN0YXRpYyB0ZW1wbGF0ZSA9IGA8ZGl2IGNsYXNzPVwiZHdheW5lLXJvdXRlIHJvdXRlLSR7IG5hbWUgfVwiIGQtc2hvdz1cIntfX2lzQ3VycmVudFJvdXRlX199XCI+JHsgQmxvY2sudGVtcGxhdGUgfTwvZGl2PmA7XHJcblxyXG4gICAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XHJcbiAgICAgICAgc3VwZXIob3B0cyk7XHJcblxyXG4gICAgICAgIGlmIChyb290KSB7XHJcbiAgICAgICAgICBpbml0Um91dGVyKCk7XHJcblxyXG4gICAgICAgICAgY29uc3Qgcm91dGVyID0ge1xyXG4gICAgICAgICAgICBidWlsZFVSTChuYW1lLCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiByb3V0ZSB9ID0gUm91dGVzLmZpbmQoKHsgbmFtZTogbiB9KSA9PiBuID09PSBuYW1lKSB8fCB7fTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCFyb3V0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBhcmUgbm8gcm91dGVzIHdpdGggbmFtZSBcIiR7IG5hbWUgfVwiISAoYXQgcm91dGVyLmJ1aWxkVVJMKWApO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgdXJsLFxyXG4gICAgICAgICAgICAgICAgZW5jb2RlUGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgZW5jb2RlUXVlcnlcclxuICAgICAgICAgICAgICB9ID0gcm91dGU7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChpc1JlZ0V4cCh1cmwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VSTCBjYW4gYmUgYnVpbHQgb25seSBmcm9tIHRoZSBzdHJpbmcgVVJMcyEgKGF0IHJvdXRlci5idWlsZFVSTCknKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHt9LFxyXG4gICAgICAgICAgICAgICAgcXVlcnkgPSB7fSxcclxuICAgICAgICAgICAgICAgIGhhc2ggPSAnJ1xyXG4gICAgICAgICAgICAgIH0gPSBvcHRpb25zO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gY29uc3RydWN0VVJMKG9yaWdpbiwgdXJsLCBwYXJhbXMsIHF1ZXJ5LCBoYXNoLCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGVuY29kZVBhcmFtcyxcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBlbmNvZGVRdWVyeVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnbyhuYW1lLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgZm9yd2FyZChyb3V0ZXIuYnVpbGRVUkwobmFtZSwgb3B0aW9ucyksIHRydWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnb1RvVVJMKHVybCkge1xyXG4gICAgICAgICAgICAgIGZvcndhcmQodXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcHVzaFVSTCh1cmwpIHtcclxuICAgICAgICAgICAgICBjaGFuZ2VIaXN0b3J5KHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZGlyZWN0KG5hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICBmb3J3YXJkKHJvdXRlci5idWlsZFVSTChuYW1lLCBvcHRpb25zKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG9VUkwodXJsKSB7XHJcbiAgICAgICAgICAgICAgZm9yd2FyZCh1cmwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXBsYWNlVVJMKHVybCkge1xyXG4gICAgICAgICAgICAgIGNoYW5nZUhpc3RvcnkodXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB0aGlzLmdsb2JhbC5yb3V0ZXIgPSByb3V0ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9faXNDdXJyZW50Um91dGVfXyA9IChcclxuICAgICAgICAgIHJvdXRlID09PSBjdXJyZW50Um91dGVcclxuICAgICAgICAgIHx8IHJvdXRlLmNoaWxkcmVuLmluZGV4T2YoY3VycmVudFJvdXRlKSAhPT0gLTFcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuYXJncy5yb3V0ZSA9IGN1cnJlbnRSb3V0ZVBhcmFtcztcclxuXHJcbiAgICAgICAgcm91dGVMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICB1bnN1YnNjcmliZSA9IHN1YnNjcmliZShuYW1lLCAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBpc0N1cnJlbnRSb3V0ZSA9IChcclxuICAgICAgICAgICAgcm91dGUgPT09IGN1cnJlbnRSb3V0ZVxyXG4gICAgICAgICAgICB8fCByb3V0ZS5jaGlsZHJlbi5pbmRleE9mKGN1cnJlbnRSb3V0ZSkgIT09IC0xXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIGlmIChpc0N1cnJlbnRSb3V0ZSkge1xyXG4gICAgICAgICAgICBjYWxsQmVmb3JlTG9hZCh0aGlzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNhbGxCZWZvcmVMZWF2ZSh0aGlzKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLmFyZ3Mucm91dGUgPSBjdXJyZW50Um91dGVQYXJhbXM7XHJcbiAgICAgICAgICB0aGlzLl9faXNDdXJyZW50Um91dGVfXyA9IGlzQ3VycmVudFJvdXRlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fX2lzQ3VycmVudFJvdXRlX18pIHtcclxuICAgICAgICAgIGNhbGxCZWZvcmVMb2FkKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgYmVmb3JlUmVtb3ZlKCkge1xyXG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBudWxsO1xyXG4gICAgICAgIGNhbGxCZWZvcmVMZWF2ZSh0aGlzKTtcclxuICAgICAgICBzdXBlci5iZWZvcmVSZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGxCZWZvcmVMb2FkKHJvdXRlKSB7XHJcbiAgICBpZiAocm91dGUuYmVmb3JlTG9hZFJvdXRlICYmICFyb3V0ZUxvYWRlZCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJvdXRlLmJlZm9yZUxvYWRSb3V0ZSgpO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBVbmNhdWdodCBlcnJvciBpbiAkeyBuYW1lIH0jYmVmb3JlTGVhdmU6YCwgZXJyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJvdXRlTG9hZGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbGxCZWZvcmVMZWF2ZShyb3V0ZSkge1xyXG4gICAgaWYgKHJvdXRlLmJlZm9yZUxlYXZlUm91dGUgJiYgcm91dGVMb2FkZWQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByb3V0ZS5iZWZvcmVMZWF2ZVJvdXRlKCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNiZWZvcmVMZWF2ZTpgLCBlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcm91dGVMb2FkZWQgPSBmYWxzZTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1YnNjcmliZShuYW1lLCBjYWxsYmFjaykge1xyXG4gIHN1YnNjcmliZXJzLiRbbmFtZV0gPSBjYWxsYmFjaztcclxuXHJcbiAgcmV0dXJuICgpID0+IHtcclxuICAgIHN1YnNjcmliZXJzLmRlbGV0ZShuYW1lKTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3J3YXJkKHVybCwgcHVzaCkge1xyXG4gIGNoYW5nZUhpc3RvcnkodXJsLCBwdXNoKTtcclxuICBjaGFuZ2VSb3V0ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VSb3V0ZSgpIHtcclxuICBjb25zdCByb3V0ZSA9IGZpbmRSb3V0ZUJ5VVJMKCk7XHJcblxyXG4gIGlmIChyb3V0ZSkge1xyXG4gICAgKHtcclxuICAgICAgcm91dGU6IGN1cnJlbnRSb3V0ZSxcclxuICAgICAgLi4uY3VycmVudFJvdXRlUGFyYW1zXHJcbiAgICB9ID0gcm91dGUpO1xyXG4gICAgYXNzaWduKGN1cnJlbnRSb3V0ZVBhcmFtcywge1xyXG4gICAgICBuYW1lOiBjdXJyZW50Um91dGUubmFtZSxcclxuICAgICAgaG9zdDogbG9jYXRpb24uaG9zdCxcclxuICAgICAgaG9zdG5hbWU6IGxvY2F0aW9uLmhvc3RuYW1lLFxyXG4gICAgICBocmVmOiBsb2NhdGlvbi5ocmVmLFxyXG4gICAgICBvcmlnaW46IGxvY2F0aW9uLm9yaWdpbixcclxuICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxyXG4gICAgICBwb3J0OiBsb2NhdGlvbi5wb3J0LFxyXG4gICAgICBwcm90b2NvbDogbG9jYXRpb24ucHJvdG9jb2wsXHJcbiAgICAgIHNlYXJjaDogbG9jYXRpb24uc2VhcmNoXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKHJlZGlyZWN0Um91dGUpIHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIHVybCxcclxuICAgICAgICBlbmNvZGVQYXJhbXMsXHJcbiAgICAgICAgZW5jb2RlUXVlcnlcclxuICAgICAgfSA9IFJlZGlyZWN0Um91dGU7XHJcblxyXG4gICAgICByZXR1cm4gZm9yd2FyZChjb25zdHJ1Y3RVUkwob3JpZ2luLCB1cmwsIHt9LCB7fSwgJycsIHtcclxuICAgICAgICBwYXJhbXM6IGVuY29kZVBhcmFtcyxcclxuICAgICAgICBxdWVyeTogZW5jb2RlUXVlcnlcclxuICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnRSb3V0ZSA9IG51bGw7XHJcbiAgICBjdXJyZW50Um91dGVQYXJhbXMgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgc3Vic2NyaWJlcnMuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kUm91dGVCeVVSTCgpIHtcclxuICBjb25zdCBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lIHx8ICcvJztcclxuICBjb25zdCBzZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2ggfHwgJyc7XHJcbiAgbGV0IHVybFBhcmFtcztcclxuXHJcbiAgUm91dGVzLnNvbWUoKHJvdXRlKSA9PiB7XHJcbiAgICBpZiAocm91dGUuYWJzdHJhY3QpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgdXJsOiByb3V0ZVVSTCxcclxuICAgICAgdmFsaWRhdGVQYXRoLFxyXG4gICAgICBwYXJhbXMsXHJcbiAgICAgIHF1ZXJ5OiByZXF1aXJlZFF1ZXJ5LFxyXG4gICAgICBkZWNvZGVQYXJhbXMsXHJcbiAgICAgIGRlY29kZVF1ZXJ5XHJcbiAgICB9ID0gcm91dGU7XHJcbiAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVVUkwoZGVjb2RlUXVlcnkpO1xyXG4gICAgY29uc3QgcXVlcnkgPSBuZXcgU3VwZXIocmVzb2x2ZWQucXVlcnkpO1xyXG4gICAgY29uc3QgZXZlbnR1YWxQYXJhbXMgPSB7fTtcclxuICAgIGNvbnN0IG1hdGNoID0gKFxyXG4gICAgICAocGF0aG5hbWUucmVwbGFjZSgvXFwvJC8sICcnKSB8fCAnLycpICtcclxuICAgICAgKGlzUmVnRXhwKHJvdXRlVVJMKSA/IHNlYXJjaCA6ICcnKVxyXG4gICAgKS5tYXRjaCh2YWxpZGF0ZVBhdGgpO1xyXG5cclxuICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIGVzbGludCBndWFyZC1mb3ItaW46IDAgKi9cclxuICAgIGZvciAoY29uc3QgcGFyYW0gaW4gcmVxdWlyZWRRdWVyeSkge1xyXG4gICAgICBpZiAoIXF1ZXJ5Lmhhc093bihwYXJhbSkgfHwgIXJlcXVpcmVkUXVlcnlbcGFyYW1dLnRlc3QocXVlcnkuJFtwYXJhbV0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWF0Y2guc2hpZnQoKTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHBhcmFtIGluIHBhcmFtcykge1xyXG4gICAgICBldmVudHVhbFBhcmFtc1twYXJhbV0gPSBkZWNvZGUobWF0Y2hbcGFyYW1zW3BhcmFtXV0sIGRlY29kZVBhcmFtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdXJsUGFyYW1zID0ge1xyXG4gICAgICByb3V0ZSxcclxuICAgICAgcGFyYW1zOiBldmVudHVhbFBhcmFtcyxcclxuICAgICAgcXVlcnk6IHF1ZXJ5LiQsXHJcbiAgICAgIGhhc2g6IHJlc29sdmVkLmhhc2hcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSk7XHJcblxyXG4gIGlmICh1cmxQYXJhbXMpIHtcclxuICAgIHJldHVybiB1cmxQYXJhbXM7XHJcbiAgfVxyXG5cclxuICBpZiAoIWRlZmF1bHRSb3V0ZSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHJvdXRlOiBEZWZhdWx0Um91dGUsXHJcbiAgICBwYXJhbXM6IHt9LFxyXG4gICAgLi4ucmVzb2x2ZVVSTChEZWZhdWx0Um91dGUuZGVjb2RlUXVlcnkpXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVjb2RlKHN0cmluZywgZGVjb2RlUGFyYW1zKSB7XHJcbiAgcmV0dXJuIGRlY29kZVBhcmFtc1xyXG4gICAgPyBkZWNvZGVVUklDb21wb25lbnQoc3RyaW5nKVxyXG4gICAgOiBzdHJpbmc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUhpc3RvcnkodXJsLCBwdXNoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGhpc3RvcnlbcHVzaCA/ICdwdXNoU3RhdGUnIDogJ3JlcGxhY2VTdGF0ZSddKG51bGwsIG51bGwsIHVybCk7XHJcbiAgICBwdXNoZWQgPSB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc29sdmVQYXJhbWV0ZXIocGFyYW0sIG5hbWVFcnJvck5hbWUsIHZhbHVlRXJyb3JOYW1lKSB7XHJcbiAgY29uc3QgbmFtZU1hdGNoID0gcGFyYW0ubWF0Y2goL15bYS16XyRdKy9pKTtcclxuXHJcbiAgaWYgKCFuYW1lTWF0Y2gpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihuYW1lRXJyb3JOYW1lKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5hbWUgPSBuYW1lTWF0Y2hbMF07XHJcbiAgY29uc3QgdmFsdWUgPSBwYXJhbS5zbGljZShuYW1lLmxlbmd0aCk7XHJcbiAgbGV0IHJlZ2V4cDtcclxuXHJcbiAgaWYgKHZhbHVlICYmICh2YWx1ZS5pbmRleE9mKCcoJykgfHwgdmFsdWUuaW5kZXhPZignKScpICE9PSB2YWx1ZS5sZW5ndGggLSAxKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKHZhbHVlRXJyb3JOYW1lKTtcclxuICB9XHJcblxyXG4gIGlmICh2YWx1ZSkge1xyXG4gICAgcmVnZXhwID0gbmV3IFJlZ0V4cCh2YWx1ZS5zbGljZSgxLCAtMSkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWUsXHJcbiAgICByZWdleHBcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgeyBtYWtlUm91dGUgfTtcclxuIiwiLyogZXNsaW50IG5vLW5lc3RlZC10ZXJuYXJ5OiAwICovXHJcbi8qIGVzbGludCBuby1uZWdhdGVkLWNvbmRpdGlvbjogMCAqL1xyXG5leHBvcnQgZGVmYXVsdCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvYXBwbGllZFJlZ0V4cHNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgZGlmZmVyZW50IHR5cGVzIG9mIHN5bnRheCBmb3Ige0BsaW5rIEVsZW0jYXBwbHl9LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgbWF0Y2hBcHBsaWVkRXhwckNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7RWxlbX0gZWxlbSAtIEQtZWxlbSBvZiBhbiBlbGVtZW50IHRvIGFwcGx5IGV4cHJlc3Npb24gdG8uXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBNYXRjaGVkIGFwcGxpZWQgbmFtZS5cclxuICogQHBhcmFtIHtTdHJpbmd9IGFyZyAtIEFyZ3VtZW50IHdpdGhpbiB0aGUgcGFyZW50aGVzZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtPYmplY3QuPFN0cmluZywgbWF0Y2hBcHBsaWVkRXhwckNhbGxiYWNrfE9iamVjdC48U3RyaW5nLCBtYXRjaEFwcGxpZWRFeHByQ2FsbGJhY2s+Pn1cclxuICogQGRlc2NyaXB0aW9uIE9iamVjdCBvZiBkaWZmZXJlbnQgdHlwZXMgb2Ygc3ludGF4LlxyXG4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBhcHBsaWVkUmVnRXhwcyA9IHtcclxuICAnIycoZWxlbSwgaWQpIHtcclxuICAgIGVsZW0uaWQoaWQpO1xyXG4gIH0sXHJcbiAgJy4nKGVsZW0sIGNscykge1xyXG4gICAgZWxlbS5hZGRDbGFzcyhjbHMpO1xyXG4gIH0sXHJcbiAgJChlbGVtLCBhdHRyLCB2YWx1ZSkge1xyXG4gICAgZWxlbS5hdHRyKGF0dHIsIHZhbHVlKTtcclxuICB9LFxyXG4gICdAJyhlbGVtLCBwcm9wLCB2YWx1ZSkge1xyXG4gICAgZWxlbS5jc3MocHJvcCwgdmFsdWUpO1xyXG4gIH0sXHJcbiAgJyYnKGVsZW0sIG5hbWUsIGh0bWwpIHtcclxuICAgIGVsZW0uaHRtbChodG1sKTtcclxuICB9LFxyXG4gICcqJyhlbGVtLCBuYW1lLCB0ZXh0KSB7XHJcbiAgICBlbGVtLnRleHQodGV4dCk7XHJcbiAgfSxcclxuICAnLSc6IHtcclxuICAgICcuJyhlbGVtLCBjbHMpIHtcclxuICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xyXG4gICAgfSxcclxuICAgICQoZWxlbSwgYXR0cikge1xyXG4gICAgICBlbGVtLnJlbW92ZUF0dHIoYXR0cik7XHJcbiAgICB9LFxyXG4gICAgJ0AnKGVsZW0sIHByb3ApIHtcclxuICAgICAgZWxlbS5yZW1vdmVDU1MocHJvcCk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvZWxlbWVudHNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgZGlmZmVyZW50IGNhbnZhcyBtZXRob2RzIGZvciB7QGxpbmsgRWxlbX0gZm9yIGNyZWF0aW5nIGh0bWwtZWxlbWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdFxyXG4gKiBAdHlwZSB7U3RyaW5nW119XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2FudmFzR2V0TWV0aG9kcyA9IFtcclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjcmVhdGVJbWFnZURhdGFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0ltYWdlRGF0YXx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jcmVhdGVJbWFnZURhdGFcclxuICAgKi9cclxuICAnY3JlYXRlSW1hZ2VEYXRhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY3JlYXRlTGluZWFyR3JhZGllbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0NhbnZhc0dyYWRpZW50fHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NyZWF0ZUxpbmVhckdyYWRpZW50XHJcbiAgICovXHJcbiAgJ2NyZWF0ZUxpbmVhckdyYWRpZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY3JlYXRlUGF0dGVyblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7Q2FudmFzUGF0dGVybnx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jcmVhdGVQYXR0ZXJuXHJcbiAgICovXHJcbiAgJ2NyZWF0ZVBhdHRlcm4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjcmVhdGVSYWRpYWxHcmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7Q2FudmFzR3JhZGllbnR8dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY3JlYXRlUmFkaWFsR3JhZGllbnRcclxuICAgKi9cclxuICAnY3JlYXRlUmFkaWFsR3JhZGllbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnZXRJbWFnZURhdGFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0ltYWdlRGF0YXx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9nZXRJbWFnZURhdGFcclxuICAgKi9cclxuICAnZ2V0SW1hZ2VEYXRhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZ2V0TGluZURhc2hcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge051bWJlcltdfHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2dldExpbmVEYXNoXHJcbiAgICovXHJcbiAgJ2dldExpbmVEYXNoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaXNQb2ludEluUGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbnx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9pc1BvaW50SW5QYXRoXHJcbiAgICovXHJcbiAgJ2lzUG9pbnRJblBhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpc1BvaW50SW5TdHJva2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW58dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvaXNQb2ludEluU3Ryb2tlXHJcbiAgICovXHJcbiAgJ2lzUG9pbnRJblN0cm9rZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lYXN1cmVUZXh0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtUZXh0TWV0cmljc3x2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9tZWFzdXJlVGV4dFxyXG4gICAqL1xyXG4gICdtZWFzdXJlVGV4dCdcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBjYW52YXNSZXN0TWV0aG9kcyA9IFtcclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhcmNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2FyY1xyXG4gICAqL1xyXG4gICdhcmMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhcmNUb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvYXJjVG9cclxuICAgKi9cclxuICAnYXJjVG8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiZWdpblBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2JlZ2luUGF0aFxyXG4gICAqL1xyXG4gICdiZWdpblBhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiZXppZXJDdXJ2ZVRvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9iZXppZXJDdXJ2ZVRvXHJcbiAgICovXHJcbiAgJ2JlemllckN1cnZlVG8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjbGVhclJlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NsZWFyUmVjdFxyXG4gICAqL1xyXG4gICdjbGVhclJlY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjbGlwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jbGlwXHJcbiAgICovXHJcbiAgJ2NsaXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjbG9zZVBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2Nsb3NlUGF0aFxyXG4gICAqL1xyXG4gICdjbG9zZVBhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkcmF3Rm9jdXNJZk5lZWRlZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZHJhd0ZvY3VzSWZOZWVkZWRcclxuICAgKi9cclxuICAnZHJhd0ZvY3VzSWZOZWVkZWQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkcmF3SW1hZ2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2RyYXdJbWFnZVxyXG4gICAqL1xyXG4gICdkcmF3SW1hZ2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNlbGxpcHNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9lbGxpcHNlXHJcbiAgICovXHJcbiAgJ2VsbGlwc2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmaWxsXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsXHJcbiAgICovXHJcbiAgJ2ZpbGwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmaWxsUmVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFJlY3RcclxuICAgKi9cclxuICAnZmlsbFJlY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmaWxsVGV4dFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFRleHRcclxuICAgKi9cclxuICAnZmlsbFRleHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsaW5lVG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2xpbmVUb1xyXG4gICAqL1xyXG4gICdsaW5lVG8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtb3ZlVG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL21vdmVUb1xyXG4gICAqL1xyXG4gICdtb3ZlVG8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwdXRJbWFnZURhdGFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3B1dEltYWdlRGF0YVxyXG4gICAqL1xyXG4gICdwdXRJbWFnZURhdGEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNxdWFkcmF0aWNDdXJ2ZVRvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9xdWFkcmF0aWNDdXJ2ZVRvXHJcbiAgICovXHJcbiAgJ3F1YWRyYXRpY0N1cnZlVG8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNyZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9yZWN0XHJcbiAgICovXHJcbiAgJ3JlY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNyZXNldFRyYW5zZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcmVzZXRUcmFuc2Zvcm1cclxuICAgKi9cclxuICAncmVzZXRUcmFuc2Zvcm0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNyZXN0b3JlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9yZXN0b3JlXHJcbiAgICovXHJcbiAgJ3Jlc3RvcmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNyb3RhdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3JvdGF0ZVxyXG4gICAqL1xyXG4gICdyb3RhdGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzYXZlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zYXZlXHJcbiAgICovXHJcbiAgJ3NhdmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzY2FsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc2NhbGVcclxuICAgKi9cclxuICAnc2NhbGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzZXRMaW5lRGFzaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc2V0TGluZURhc2hcclxuICAgKi9cclxuICAnc2V0TGluZURhc2gnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzZXRUcmFuc2Zvcm1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NldFRyYW5zZm9ybVxyXG4gICAqL1xyXG4gICdzZXRUcmFuc2Zvcm0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdHJva2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3N0cm9rZVxyXG4gICAqL1xyXG4gICdzdHJva2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdHJva2VSZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zdHJva2VSZWN0XHJcbiAgICovXHJcbiAgJ3N0cm9rZVJlY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdHJva2VUZXh0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zdHJva2VUZXh0XHJcbiAgICovXHJcbiAgJ3N0cm9rZVRleHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0cmFuc2Zvcm1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3RyYW5zZm9ybVxyXG4gICAqL1xyXG4gICd0cmFuc2Zvcm0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0cmFuc2xhdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3RyYW5zbGF0ZVxyXG4gICAqL1xyXG4gICd0cmFuc2xhdGUnXHJcbl07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9jb25zdHJ1Y3RvcnNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgY29uc3RydWN0b3JzIGxldmVscy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEB0eXBlIHtBcnJheVtdfVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNvbnN0cnVjdG9ycyA9IFtcclxuICBbXSxcclxuICBbXSxcclxuICBbXVxyXG5dO1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvZWxlbWVudHNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgbWV0aG9kcyBmb3Ige0BsaW5rIEVsZW19IGZvciBjcmVhdGluZyBodG1sLWVsZW1lbnRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUge1N0cmluZ1tdfVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGh0bWxFbGVtZW50cyA9IFtcclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FiYnJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhYmJyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYWRkcmVzc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FkZHJlc3MnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhcmVhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYXJlYScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FydGljbGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhcnRpY2xlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYXVkaW9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhdWRpbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdiJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYmFzZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Jhc2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiZGlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdiZGknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiZG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdiZG8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNibG9ja3F1b3RlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYmxvY2txdW90ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JvZHlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdib2R5JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYnJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdicicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2J1dHRvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2J1dHRvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NhbnZhc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NhbnZhcycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NhcHRpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjYXB0aW9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2l0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NpdGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjb2RlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY29kZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NvbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NvbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NvbGdyb3VwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY29sZ3JvdXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjb250ZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY29udGVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RhdGFsaXN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGF0YWxpc3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGVsXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGVsJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGV0YWlsc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RldGFpbHMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZm5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZm4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkaWFsb2dcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkaWFsb2cnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkaXZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkaXYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RsJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2VsZW1lbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdlbGVtZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZW1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdlbScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2VtYmVkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZW1iZWQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmaWVsZHNldFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZpZWxkc2V0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmlnY2FwdGlvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZpZ2NhcHRpb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmaWd1cmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmaWd1cmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb290ZXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb290ZXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb3JtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2gxXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoMlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2gyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoMycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2g0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoNVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2g1JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoNicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hlYWRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoZWFkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGVhZGVyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaGVhZGVyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGdyb3VwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaGdyb3VwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaHJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdocicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2lcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaWZyYW1lXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaWZyYW1lJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaW1nXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaW1nJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaW5wdXRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpbnB1dCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2luc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2lucycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2tiZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2tiZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xhYmVsXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGFiZWwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsZWdlbmRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdsZWdlbmQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsaVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xpJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGlua1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xpbmsnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtYWluXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWFpbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21hcmtcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtYXJrJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVudVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lbnUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZW51aXRlbVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lbnVpdGVtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWV0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21ldGEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXRlclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21ldGVyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbmF2XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbmF2JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbm9zY3JpcHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdub3NjcmlwdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI29sXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnb2wnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNvcHRncm91cFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ29wdGdyb3VwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jb3B0aW9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnb3B0aW9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jb3V0cHV0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnb3V0cHV0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3AnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwYXJhbVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3BhcmFtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcHJlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncHJlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcHJvZ3Jlc3NcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwcm9ncmVzcycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3FcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdxJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcnBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdycCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3J0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNydGNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdydGMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNydWJ5XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncnVieScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2FtcFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NhbXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzY3JpcHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzY3JpcHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzZWN0aW9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2VjdGlvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NlbGVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NlbGVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NoYWRvd1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NoYWRvdycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NtYWxsXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc21hbGwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzb3VyY2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzb3VyY2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzcGFuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3BhbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0cm9uZ1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N0cm9uZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0eWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3R5bGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdWJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdWInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdW1tYXJ5XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3VtbWFyeScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N1cFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N1cCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RhYmxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGFibGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0Ym9keVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3Rib2R5JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0ZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RlbXBsYXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGVtcGxhdGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0ZXh0YXJlYVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RleHRhcmVhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGZvb3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0Zm9vdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0aGVhZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RoZWFkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGltZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RpbWUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0aXRsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RpdGxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0cicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyYWNrXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndHJhY2snLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN1XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3VsXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndWwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN2YXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd2YXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN2aWRlb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ZpZGVvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jd2JyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnd2JyJ1xyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN2Z0VsZW1lbnRzID0gW1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FsdEdseXBoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYWx0R2x5cGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbHRHbHlwaERlZlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FsdEdseXBoRGVmJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYWx0R2x5cGhJdGVtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYWx0R2x5cGhJdGVtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYW5pbWF0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FuaW1hdGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbmltYXRlQ29sb3JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbmltYXRlQ29sb3InLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbmltYXRlTW90aW9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYW5pbWF0ZU1vdGlvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FuaW1hdGVUcmFuc2Zvcm1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbmltYXRlVHJhbnNmb3JtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2lyY2xlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY2lyY2xlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2xpcFBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjbGlwUGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NvbG9yUHJvZmlsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NvbG9yLXByb2ZpbGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjdXJzb3JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjdXJzb3InLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZWZzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGVmcycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Rlc2NcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZXNjJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGlzY2FyZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Rpc2NhcmQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNlbGxpcHNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZWxsaXBzZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlQmxlbmRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUJsZW5kJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVDb2xvck1hdHJpeFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlQ29sb3JNYXRyaXgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUNvbXBvbmVudFRyYW5zZmVyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVDb21wb25lbnRUcmFuc2ZlcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlQ29tcG9zaXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVDb21wb3NpdGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUNvbnZvbHZlTWF0cml4XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVDb252b2x2ZU1hdHJpeCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRGlmZnVzZUxpZ2h0aW5nXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVEaWZmdXNlTGlnaHRpbmcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZURpc3BsYWNlbWVudE1hcFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRGlzcGxhY2VtZW50TWFwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVEaXN0YW50TGlnaHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZURpc3RhbnRMaWdodCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRHJvcFNoYWRvd1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRHJvcFNoYWRvdycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRmxvb2RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUZsb29kJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVGdW5jQVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRnVuY0EnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUZ1bmNCXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVGdW5jQicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRnVuY0dcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUZ1bmNHJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVGdW5jUlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRnVuY1InLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUdhdXNzaWFuQmx1clxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlR2F1c3NpYW5CbHVyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVJbWFnZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlSW1hZ2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZU1lcmdlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVNZXJnZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlTWVyZ2VOb2RlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVNZXJnZU5vZGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZU1vcnBob2xvZ3lcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZU1vcnBob2xvZ3knLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZU9mZnNldFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlT2Zmc2V0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVQb2ludExpZ2h0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVQb2ludExpZ2h0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVTcGVjdWxhckxpZ2h0aW5nXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVTcGVjdWxhckxpZ2h0aW5nJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVTcG90TGlnaHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZVNwb3RMaWdodCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlVGlsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlVGlsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlVHVyYnVsZW5jZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlVHVyYnVsZW5jZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udEZhY2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250LWZhY2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb250RmFjZUZvcm1hdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQtZmFjZS1mb3JtYXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb250RmFjZU5hbWVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250LWZhY2UtbmFtZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRGYWNlU3JjXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9udC1mYWNlLXNyYycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRGYWNlVXJpXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9udC1mYWNlLXVyaScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvcmVpZ25PYmplY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb3JlaWduT2JqZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZ1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2cnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnbHlwaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2dseXBoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZ2x5cGhSZWZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdnbHlwaFJlZicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hhdGNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaGF0Y2gnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoYXRjaHBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoYXRjaHBhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoa2VyblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hrZXJuJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaW1hZ2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpbWFnZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xpbmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdsaW5lJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGluZWFyR3JhZGllbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdsaW5lYXJHcmFkaWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21hcmtlclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21hcmtlcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21hc2tcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtYXNrJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVzaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lc2gnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXNoZ3JhZGllbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXNoZ3JhZGllbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXNocGF0Y2hcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXNocGF0Y2gnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXNocm93XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVzaHJvdycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21ldGFkYXRhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWV0YWRhdGEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtaXNzaW5nR2x5cGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtaXNzaW5nLWdseXBoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbXBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtcGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcGF0dGVyblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3BhdHRlcm4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwb2x5Z29uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncG9seWdvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BvbHlsaW5lXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncG9seWxpbmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNyYWRpYWxHcmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3JhZGlhbEdyYWRpZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcmVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3JlY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzZXRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzZXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzb2xpZGNvbG9yXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc29saWRjb2xvcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0b3BcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdG9wJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3R5bGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdHlsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N2Z1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N2ZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N3aXRjaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N3aXRjaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N5bWJvbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N5bWJvbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RleHRQYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGV4dFBhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0cmVmXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndHJlZicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RzcGFuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndHNwYW4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN1bmtub3duXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndW5rbm93bicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3VzZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3VzZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3ZpZXdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd2aWV3JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdmtlcm5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd2a2VybidcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCB2b2lkRWxlbWVudHMgPSBbXHJcbiAgJ2FyZWEnLFxyXG4gICdiYXNlJyxcclxuICAnYnInLFxyXG4gICdjb2wnLFxyXG4gICdjb21tYW5kJyxcclxuICAnZW1iZWQnLFxyXG4gICdocicsXHJcbiAgJ2ltZycsXHJcbiAgJ2lucHV0JyxcclxuICAna2V5Z2VuJyxcclxuICAnbGluaycsXHJcbiAgJ21ldGEnLFxyXG4gICdwYXJhbScsXHJcbiAgJ3NvdXJjZScsXHJcbiAgJ3RyYWNrJyxcclxuICAnd2JyJ1xyXG5dO1xyXG4iLCJleHBvcnQgY29uc3QgaHRtbEFsbG93ZWRUYWdTeW1ib2xzID0gJ1thLXpdW2EtelxcXFxkXFxcXC1fLjohQCNcXFxcJCVcXFxcXiYqKClcXFxcW1xcXFxde31cXFxcXFxcXD1cXCdcIl0qJztcclxuZXhwb3J0IGNvbnN0IGh0bWxBbGxvd2VkQXR0clN5bWJvbHMgPSAnW15cXFxcdTAwMDAtXFxcXHUwMDIwXFxcXHNcIlxcJz4vPV0rJztcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL3JlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHNwZWNpYWwgY2hhcmFjdGVycyBmb3IgUmVnRXhwLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY29uc3RcclxuICogQG5hbWUgbW9kdWxlOmNvbnN0YW50cy9yZWdleHBTcGVjaWFsQ2hhcmFjdGVyc35yZWdleHBTcGVjaWFsQ2hhcmFjdGVyc1xyXG4gKiBAdHlwZSB7U3RyaW5nW119XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcmVnZXhwU3BlY2lhbENoYXJhY3RlcnMgPSBbXHJcbiAgJy4nLFxyXG4gICcrJywgJyonLCAnPycsXHJcbiAgJygnLCAnKScsXHJcbiAgJ1snLCAnXScsXHJcbiAgJ3snLCAnfScsXHJcbiAgJzwnLCAnPicsXHJcbiAgJ14nLCAnJCcsXHJcbiAgJyEnLFxyXG4gICc9JyxcclxuICAnOicsXHJcbiAgJy0nLFxyXG4gICd8JyxcclxuICAnLCcsXHJcbiAgJ1xcXFwnXHJcbl07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy92YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgZGlmZmVyZW50IHR5cGVzIG9mIHZhbGlkYXRlIGV4cHJlc3Npb25zIGZvciB7QGxpbmsgbW9kdWxlOmhlbHBlcnMvdmFsaWRhdGV9LlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIG1ldGhvZHMgZnJvbSAnLi4vaGVscGVycy9jaGVja1R5cGVzJztcclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgY2hlY2tWYWxpZGl0eUNhbGxiYWNrXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjay5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gdmFsaWRhdGVFeHByXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiB0aGUgdGhyb3duIGVycm9yLlxyXG4gKiBAcHJvcGVydHkge0Vycm9yfSBlcnJvciAtIFR5cGUgb2YgdGhlIHRocm93biBlcnJvci5cclxuICogQHByb3BlcnR5IHtjaGVja1ZhbGlkaXR5Q2FsbGJhY2t9IGNoZWNrIC0gQ2FsbGJhY2sgZm9yIGNoZWNraW5nIHZhbHVlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7dmFsaWRhdGVFeHByW119XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBPYmplY3Qgb2YgZGlmZmVyZW50IHR5cGVzIG9mIHZhbGlkYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdmFsaWRhdGVDaGVja0V4cHJlc3Npb25zID0ge1xyXG4gICc+MCc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbiA+IDAsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBwb3NpdGl2ZSEnLFxyXG4gICAgZXJyb3I6IFJhbmdlRXJyb3JcclxuICB9LFxyXG4gICc+PTAnOiB7XHJcbiAgICBjaGVjazogKG4pID0+IG4gPj0gMCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG5vbi1uZWdhdGl2ZSEnLFxyXG4gICAgZXJyb3I6IFJhbmdlRXJyb3JcclxuICB9LFxyXG4gICc8MCc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbiA8IDAsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBuZWdhdGl2ZSEnLFxyXG4gICAgZXJyb3I6IFJhbmdlRXJyb3JcclxuICB9LFxyXG4gICc8PTAnOiB7XHJcbiAgICBjaGVjazogKG4pID0+IG4gPD0gMCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG5vbi1wb3NpdGl2ZSEnLFxyXG4gICAgZXJyb3I6IFJhbmdlRXJyb3JcclxuICB9LFxyXG4gICchISc6IHtcclxuICAgIGNoZWNrOiAodikgPT4gIW1ldGhvZHMuaXNOaWwodiksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBub3QgbnVsbCBvciB1bmRlZmluZWQhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGFycmF5OiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc0FycmF5LFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYW4gYXJyYXkhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdhcnJheXx8ISc6IHtcclxuICAgIGNoZWNrOiAoYSkgPT4gbWV0aG9kcy5pc0FycmF5KGEpIHx8IG1ldGhvZHMuaXNOaWwoYSksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBhcnJheSwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBhcnJheUxpa2U6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzQXJyYXlMaWtlLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYXJyYXktbGlrZSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2FycmF5TGlrZXx8ISc6IHtcclxuICAgIGNoZWNrOiAoYSkgPT4gbWV0aG9kcy5pc0FycmF5TGlrZShhKSB8fCBtZXRob2RzLmlzTmlsKGEpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYXJyYXktbGlrZSwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBkYXRlOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc0RhdGUsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIGRhdGUhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdkYXRlfHwhJzoge1xyXG4gICAgY2hlY2s6IChkKSA9PiBtZXRob2RzLmlzRGF0ZShkKSB8fCBtZXRob2RzLmlzTmlsKGQpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRlLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGRhdGVMaWtlOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc0RhdGVMaWtlLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgZGF0ZS1saWtlIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnZGF0ZUxpa2V8fCEnOiB7XHJcbiAgICBjaGVjazogKGQpID0+IG1ldGhvZHMuaXNEYXRlTGlrZShkKSB8fCBtZXRob2RzLmlzTmlsKGQpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgZGF0ZS1saWtlLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGZ1bmN0aW9uOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc0Z1bmN0aW9uLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbiEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2Z1bmN0aW9ufHwhJzoge1xyXG4gICAgY2hlY2s6IChmKSA9PiBtZXRob2RzLmlzRnVuY3Rpb24oZikgfHwgbWV0aG9kcy5pc05pbChmKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24sIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgaW50OiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc0ludGVnZXIsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBpbnRlZ2VyIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnaW50fHwhJzoge1xyXG4gICAgY2hlY2s6IChpKSA9PiBtZXRob2RzLmlzSW50ZWdlcihpKSB8fCBtZXRob2RzLmlzTmlsKGkpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYW4gaW50ZWdlciwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBpbnRMaWtlOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc0ludGVnZXJMaWtlLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgaW50ZWdlci1saWtlIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnaW50TGlrZXx8ISc6IHtcclxuICAgIGNoZWNrOiAoaSkgPT4gbWV0aG9kcy5pc0ludGVnZXJMaWtlKGkpIHx8IG1ldGhvZHMuaXNOaWwoaSksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBpbnRlZ2VyLWxpa2UsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgbnVtYmVyOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc051bWJlcixcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnbnVtYmVyfHwhJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBtZXRob2RzLmlzTnVtYmVyKG4pIHx8IG1ldGhvZHMuaXNOaWwobiksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBudW1iZXJMaWtlOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc051bWJlckxpa2UsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBudW1iZXItbGlrZSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ251bWJlckxpa2V8fCEnOiB7XHJcbiAgICBjaGVjazogKG4pID0+IG1ldGhvZHMuaXNOdW1iZXJMaWtlKG4pIHx8IG1ldGhvZHMuaXNOaWwobiksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBudW1iZXItbGlrZSwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBvYmplY3Q6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzT2JqZWN0LFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnb2JqZWN0fHwhJzoge1xyXG4gICAgY2hlY2s6IChvKSA9PiBtZXRob2RzLmlzT2JqZWN0KG8pIHx8IG1ldGhvZHMuaXNOaWwobyksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgcmVnZXhwOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc1JlZ0V4cCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgcmVndWxhciBleHByZXNzaW9uIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAncmVnZXhwfHwhJzoge1xyXG4gICAgY2hlY2s6IChyKSA9PiBtZXRob2RzLmlzUmVnRXhwKHIpIHx8IG1ldGhvZHMuaXNOaWwociksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBzdHJpbmc6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzU3RyaW5nLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmchJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdzdHJpbmd8fCEnOiB7XHJcbiAgICBjaGVjazogKHMpID0+IG1ldGhvZHMuaXNTdHJpbmcocykgfHwgbWV0aG9kcy5pc05pbChzKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvU3ltYm9sXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFN5bWJvbCBjbGFzcy5cclxuICovXHJcblxyXG5leHBvcnQgY29uc3QgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbCB8fCB7XHJcbiAgdG9TdHJpbmdUYWc6ICdTeW1ib2wudG9TdHJpbmdUYWcnLFxyXG4gIGl0ZXJhdG9yOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KVxyXG59O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBQcm9taXNlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBQcm9taXNlIGNsYXNzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGRlZmluZVByb3BlcnRpZXMsIFN5bWJvbCB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIG9uRnVsZmlsbGVkT3JSZWplY3RlZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBQcm9taXNlIHZhbHVlLlxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN1Y2Nlc3MgLSBJZiB0aGUgcHJldmlvdXMgcHJvbWlzZSBpcyBmdWxmaWxsZWQgaXQncyB0cnVlIGFuZCBmYWxzZSBpZiByZWplY3RlZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIG9uUmVqZWN0ZWRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Vycm9yfCp9IGVyciAtIFByb21pc2UgZXJyb3IuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBvbkZ1bGZpbGxlZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBQcm9taXNlIHZhbHVlLlxyXG4gKi9cclxuXHJcbmNvbnN0IHNlY3JldCA9IHt9O1xyXG5jb25zdCBpdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgUHJvbWlzZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIC0gRnVuY3Rpb24gdGhhdCB0YWtlcyB0d28gYXJndW1lbnRzOiByZXNvbHZlIGFuZCByZWplY3QgZnVuY3Rpb25zLlxyXG4gKiBDYWxsIHRoZSByZXNvbHZlIGZ1bmN0aW9uIHdoZW4geW91IG5lZWQgdG8gZnVsZmlsbCB0aGUgcHJvbWlzZSBhbmQgY2FsbCB0aGUgcmVqZWN0IG9uZVxyXG4gKiB3aGVuIHlvdSBuZWVkIHRvIHJlamVjdCBpdC5cclxuICogQHJldHVybnMge1Byb21pc2V9IEluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZVxyXG4gKiBAZGVzY3JpcHRpb24gQ2xhc3Mgd2l0aCBhbG1vc3QgaWRlbnRpY2FsIEFQSSB0b1xyXG4gKiBbRVM2IFByb21pc2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2V9LlxyXG4gKiBUaGVyZSBpcyBhIGNvdXBsZSBkaWZmZXJlbmNlczogc2V0IFByb21pc2Uub25FcnJvciB0byBhIGZ1bmN0aW9uIHdpdGggd2hpY2ggeW91IHdhbnQgdG9cclxuICogc3Vic2NyaWJlIHRvIGEgcHJvbWlzZSBlcnJvciBhbmQgc2V0IFByb21pc2Uub25VbmhhbmRsZWRSZWplY3Rpb24gdG8gYSBmdW5jdGlvbiB3aXRoIHdoaWNoXHJcbiAqIHlvdSB3YW50IHRvIHN1YnNjcmliZSB0byBhbiB1bmhhbmRsZWQgZXJyb3JcclxuICogKGRlZmF1bHRzIHRvIGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlLCAnJXMgJW8nLCAnVW5jYXVnaHQgKGluIHByb21pc2UpJykpLlxyXG4gKi9cclxuY2xhc3MgUHJvbWlzZSB7XHJcbiAgc3RhdGljIG9uRXJyb3IgPSBudWxsO1xyXG4gIHN0YXRpYyBvblVuaGFuZGxlZFJlamVjdGlvbiA9IGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlLCAnJXMgJW8nLCAnVW5jYXVnaHQgKGluIHByb21pc2UpJyk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XHJcbiAgICBpZiAoIWlzRnVuY3Rpb24oZXhlY3V0b3IpKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFByb21pc2UgcmVzb2x2ZXIgJHsge30udG9TdHJpbmcuY2FsbChleGVjdXRvcikgfSBpcyBub3QgYSBmdW5jdGlvbmApO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBoaWRkZW5TdGF0dXM7XHJcbiAgICBsZXQgaGlkZGVuVmFsdWU7XHJcblxyXG4gICAgY29uc3RcdG9uRnVsZmlsbCA9IFtdO1xyXG4gICAgY29uc3Qgb25SZWplY3QgPSBbXTtcclxuICAgIGNvbnN0IHJlYWxQcm9taXNlID0gdGhpcztcclxuICAgIGNvbnN0IGhpZGRlblByb21pc2UgPSB7XHJcbiAgICAgIGhhbmRsZWQ6IGZhbHNlLFxyXG4gICAgICBnZXQgc3RhdHVzKCkge1xyXG4gICAgICAgIHJldHVybiBoaWRkZW5TdGF0dXM7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldCBzdGF0dXModmFsdWUpIHtcclxuICAgICAgICBoaWRkZW5TdGF0dXMgPSB2YWx1ZTtcclxuICAgICAgICByZWFsUHJvbWlzZS5zdGF0dXMgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0IHZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiBoaWRkZW5WYWx1ZTtcclxuICAgICAgfSxcclxuICAgICAgc2V0IHZhbHVlKHZhbCkge1xyXG4gICAgICAgIGhpZGRlblZhbHVlID0gdmFsO1xyXG4gICAgICAgIHJlYWxQcm9taXNlLnZhbHVlID0gdmFsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGhpZGRlblByb21pc2Uuc3RhdHVzID0gJ3BlbmRpbmcnO1xyXG4gICAgaGlkZGVuUHJvbWlzZS52YWx1ZSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IGhpZGRlblByb21pc2VcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW58T2JqZWN0fSBoYW5kbGVkIC0gSWYgdGhlIHByb21pc2UgaXMgaGFuZGxlZCBvciBub3QuXHJcbiAgICAgKiBAcHJvcGVydHkgeydwZW5kaW5nJ3wnZnVsZmlsbGVkJ3wncmVqZWN0ZWQnfSBzdGF0dXMgLSBTdGF0dXMgb2YgdGhlIHByb21pc2UuXHJcbiAgICAgKiBAcHJvcGVydHkgeyp9IHZhbHVlIC0gVmFsdWUgb2YgdGhlIHByb21pc2UuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBoaWRkZW5Qcm9taXNlI2hhbmRsZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7KCdyZWplY3QnfCdyZXNvbHZlJyl9IGV2ZW50IC0gVHlwZSBvZiB0aGUgZXZlbnQgdG8gaGFuZGxlLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciAtIEhhbmRsZXIgaXRzZWxmLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSAtIFJlc29sdmUgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgLSBSZWplY3QgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VjcmV0IC0gU2VjcmV0LlxyXG4gICAgICogQGRlc2NyaXB0aW9uIFByaXZhdGUgbWV0aG9kIGZvciBoYW5kbGluZyBwcm9taXNlcy5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7aGlkZGVuUHJvbWlzZX0gUHJvbWlzZSMkJFxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBkZWZpbmVQcm9wZXJ0aWVzKHRoaXMuJCQgPSB7fSwge1xyXG4gICAgICAnZ2V0L3NldCBoYW5kbGVkJzoge1xyXG4gICAgICAgIGdldCgpIHtcclxuICAgICAgICAgIHJldHVybiBoaWRkZW5Qcm9taXNlLmhhbmRsZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQoa2V5KSB7XHJcbiAgICAgICAgICBpZiAoa2V5ID09PSBzZWNyZXQpIHtcclxuICAgICAgICAgICAgaGlkZGVuUHJvbWlzZS5oYW5kbGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZShzdGF0dXMsIGYsIHJlc29sdmUsIHJlamVjdCwga2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gc2VjcmV0KSB7XHJcbiAgICAgICAgICBjb25zdCBwcm94eSA9IGlzRnVuY3Rpb24oZikgPyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKGYodmFsdWUpKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gOiBudWxsO1xyXG5cclxuICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdyZXNvbHZlJykge1xyXG4gICAgICAgICAgICBvbkZ1bGZpbGwucHVzaChwcm94eSB8fCAoKHZhbHVlKSA9PiByZXNvbHZlKHZhbHVlKSkpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdyZWplY3QnKSB7XHJcbiAgICAgICAgICAgIG9uUmVqZWN0LnB1c2gocHJveHkgfHwgKChlcnIpID0+IHJlamVjdChlcnIpKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAnZ2V0IHN0YXR1cycoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhpZGRlblByb21pc2Uuc3RhdHVzO1xyXG4gICAgICB9LFxyXG4gICAgICAnZ2V0IHZhbHVlJygpIHtcclxuICAgICAgICByZXR1cm4gaGlkZGVuUHJvbWlzZS52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICByZWplY3QoZXJyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWplY3QoZXJyKSB7XHJcbiAgICAgIGlmIChoaWRkZW5Qcm9taXNlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKSB7XHJcbiAgICAgICAgaGlkZGVuUHJvbWlzZS5zdGF0dXMgPSAncmVqZWN0ZWQnO1xyXG4gICAgICAgIGhpZGRlblByb21pc2UudmFsdWUgPSBlcnI7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBvblJlamVjdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaGlkZGVuUHJvbWlzZS5oYW5kbGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICBvblJlamVjdFtpXShlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgb25VbmhhbmRsZWRSZWplY3Rpb24sXHJcbiAgICAgICAgICBvbkVycm9yXHJcbiAgICAgICAgfSA9IFByb21pc2U7XHJcblxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9uRXJyb3IpKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIGlmICghaGlkZGVuUHJvbWlzZS5oYW5kbGVkICYmIGlzRnVuY3Rpb24ob25VbmhhbmRsZWRSZWplY3Rpb24pKSB7XHJcbiAgICAgICAgICAgIG9uVW5oYW5kbGVkUmVqZWN0aW9uKGVycik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XHJcbiAgICAgIGlmIChoaWRkZW5Qcm9taXNlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUudGhlbikpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZS50aGVuKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcclxuICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhpZGRlblByb21pc2Uuc3RhdHVzID0gJ2Z1bGZpbGxlZCc7XHJcbiAgICAgICAgaGlkZGVuUHJvbWlzZS52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gb25GdWxmaWxsLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBoaWRkZW5Qcm9taXNlLmhhbmRsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIG9uRnVsZmlsbFtpXSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UuYWxsXHJcbiAgICogQHBhcmFtIHsoQXJyYXl8SXRlcmFibGUpLjxQcm9taXNlfCo+fSBpdGVyYWJsZSAtIEl0ZXJhYmxlIG9iamVjdCAobGlrZSBhcnJheSkgb2YgcHJvbWlzZXNcclxuICAgKiBvciBhbnkgdmFsdWVzLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UvYWxsXHJcbiAgICovXHJcbiAgc3RhdGljIGFsbChpdGVyYWJsZSkge1xyXG4gICAgY29uc3QgYXJyYXkgPSBbXTtcclxuXHJcbiAgICBsZXQgdG9SZXNvbHZlID0gMDtcclxuXHJcbiAgICBpZiAoaXRlcmFibGVbaXRlcmF0b3JdKSB7XHJcbiAgICAgIGl0ZXJhYmxlID0gaXRlcmFibGVbaXRlcmF0b3JdKCk7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGxldCBuZXh0O1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuXHJcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IGl0ZXJhYmxlLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShuZXh0LnZhbHVlKTtcclxuXHJcbiAgICAgICAgICB0b1Jlc29sdmUrKztcclxuXHJcbiAgICAgICAgICAoKGkpID0+IHtcclxuICAgICAgICAgICAgcHJvbWlzZS50aGVuKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHRvUmVzb2x2ZS0tO1xyXG4gICAgICAgICAgICAgIGFycmF5W2ldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQuZG9uZSAmJiAhdG9SZXNvbHZlKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sIDEpO1xyXG4gICAgICAgICAgICB9LCByZWplY3QpO1xyXG4gICAgICAgICAgfSkoaSsrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaSkge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBsZW5ndGggPSBpdGVyYWJsZS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKCFsZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9SZXNvbHZlID0gbGVuZ3RoO1xyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGl0ZXJhYmxlW2ldKTtcclxuXHJcbiAgICAgICAgcHJvbWlzZS50aGVuKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgdG9SZXNvbHZlLS07XHJcbiAgICAgICAgICBhcnJheVtpXSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgIGlmICghdG9SZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoYXJyYXkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIHJlamVjdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlLnJhY2VcclxuICAgKiBAcGFyYW0geyhBcnJheXxJdGVyYWJsZSkuPFByb21pc2V8Kj59IGl0ZXJhYmxlIC0gSXRlcmFibGUgb2JqZWN0IChsaWtlIGFycmF5KSBvZiBwcm9taXNlc1xyXG4gICAqIG9yIGFueSB2YWx1ZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9yYWNlXHJcbiAgICovXHJcbiAgc3RhdGljIHJhY2UoaXRlcmFibGUpIHtcclxuICAgIGlmIChpdGVyYWJsZVtpdGVyYXRvcl0pIHtcclxuICAgICAgaXRlcmFibGUgPSBpdGVyYWJsZVtpdGVyYXRvcl0oKTtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcblxyXG4gICAgICAgIHdoaWxlICghKG5leHQgPSBpdGVyYWJsZS5uZXh0KCkpLmRvbmUpIHtcclxuICAgICAgICAgIG5leHQudmFsdWUudGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaXRlcmFibGVbaV0udGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZS5yZWplY3RcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gcmVqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UvcmVqZWN0XHJcbiAgICovXHJcbiAgc3RhdGljIHJlamVjdCh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgcmVqZWN0KHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlLnJlc29sdmVcclxuICAgKiBAcGFyYW0ge1Byb21pc2V8VGhlbmFibGV8Kn0gdmFsdWUgLSBQcm9taXNlLCB0aGVuYWJsZSBvciBhbnkgdmFsdWUgdG8gcmVzb2x2ZS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL3Jlc29sdmVcclxuICAgKi9cclxuICBzdGF0aWMgcmVzb2x2ZSh2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUudGhlbikpIHtcclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICByZXNvbHZlKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWJvcnQoKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UjY2F0Y2hcclxuICAgKiBAcGFyYW0ge29uUmVqZWN0ZWR9IG9uUmVqZWN0ZWQgLSBvblJlamVjdGVkIGNhbGxiYWNrLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UvY2F0Y2hcclxuICAgKi9cclxuICBjYXRjaChvblJlamVjdGVkKSB7XHJcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlI2ZpbmFsbHlcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtvbkZ1bGZpbGxlZE9yUmVqZWN0ZWR9IG9uRnVsZmlsbGVkT3JSZWplY3RlZCAtIG9uRnVsZmlsbGVkT3JSZWplY3RlZCBjYWxsYmFjay5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBjYXRjaGluZyBib3RoIGZ1bGZpbGxlZCBhbmQgcmVqZWN0ZWQgcHJvbWlzZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHNwaW5uZXIuc2hvdygpO1xyXG4gICAqIGZldGNoRGF0YSgpXHJcbiAgICogICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAqICAgICAvLyBkbyBzb21ldGhpbmcgd2l0aCBkYXRhXHJcbiAgICogICB9KVxyXG4gICAqICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgKiAgICAgLy8gaGFuZGxlIGVycm9yIHNvbWVob3dcclxuICAgKiAgIH0pXHJcbiAgICogICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICogICAgIHNwaW5uZXIuaGlkZSgpO1xyXG4gICAqICAgfSk7XHJcbiAgICovXHJcbiAgZmluYWxseShvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQpIHtcclxuICAgIGNvbnN0IGlzRnVuYyA9IGlzRnVuY3Rpb24ob25GdWxmaWxsZWRPclJlamVjdGVkKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy50aGVuKCh2YWx1ZSkgPT4gKFxyXG4gICAgICBQcm9taXNlXHJcbiAgICAgICAgLnJlc29sdmUoXHJcbiAgICAgICAgICBpc0Z1bmNcclxuICAgICAgICAgICAgPyBvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQodmFsdWUsIHRydWUpXHJcbiAgICAgICAgICAgIDogMFxyXG4gICAgICAgIClcclxuICAgICAgICAudGhlbigoKSA9PiB2YWx1ZSlcclxuICAgICksIChlcnIpID0+IChcclxuICAgICAgUHJvbWlzZVxyXG4gICAgICAgIC5yZXNvbHZlKFxyXG4gICAgICAgICAgaXNGdW5jXHJcbiAgICAgICAgICAgID8gb25GdWxmaWxsZWRPclJlamVjdGVkKGVyciwgZmFsc2UpXHJcbiAgICAgICAgICAgIDogMFxyXG4gICAgICAgIClcclxuICAgICAgICAudGhlbigoKSA9PiBQcm9taXNlLnJlamVjdChlcnIpKVxyXG4gICAgKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UjdGhlblxyXG4gICAqIEBwYXJhbSB7b25GdWxmaWxsZWR9IFtvbkZ1bGZpbGxlZF0gLSBvbkZ1bGZpbGxlZCBjYWxsYmFjay5cclxuICAgKiBAcGFyYW0ge29uUmVqZWN0ZWR9IFtvblJlamVjdGVkXSAtIG9uUmVqZWN0ZWQgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS90aGVuXHJcbiAgICovXHJcbiAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xyXG4gICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKHByb21pc2Uuc3RhdHVzID09PSAncGVuZGluZycpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBwcm9taXNlLmhhbmRsZSgncmVqZWN0Jywgb25SZWplY3RlZCwgcmVzb2x2ZSwgcmVqZWN0LCBzZWNyZXQpO1xyXG4gICAgICAgIHByb21pc2UuaGFuZGxlKCdyZXNvbHZlJywgb25GdWxmaWxsZWQsIHJlc29sdmUsIHJlamVjdCwgc2VjcmV0KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvbWlzZS5oYW5kbGVkID0gc2VjcmV0O1xyXG5cclxuICAgIGNvbnN0IHsgdmFsdWUgfSA9IHByb21pc2U7XHJcblxyXG4gICAgbGV0IG1ldGhvZDtcclxuICAgIGxldCBoYW5kbGVyO1xyXG5cclxuICAgIGlmIChwcm9taXNlLnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpIHtcclxuICAgICAgbWV0aG9kID0gJ3Jlc29sdmUnO1xyXG4gICAgICBoYW5kbGVyID0gb25GdWxmaWxsZWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtZXRob2QgPSAncmVqZWN0JztcclxuICAgICAgaGFuZGxlciA9IG9uUmVqZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlW21ldGhvZF0odmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaGFuZGxlcih2YWx1ZSkpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZGVmaW5lUHJvcGVydGllcyhQcm9taXNlLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnUHJvbWlzZSdcclxufSk7XHJcblxyXG5leHBvcnQgeyBQcm9taXNlIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvcGFyc2VIZWFkZXJzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHBhcnNlSGVhZGVycyBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuaW1wb3J0IHsgaXRlcmF0ZSB9IGZyb20gJy4vaXRlcmF0ZSc7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSGVhZGVyc1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gcmF3SGVhZGVycyAtIFJhdyBoZWFkZXJzLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIG9iamVjdFxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIHBhcnNpbmcgcmF3IGhlYWRlcnMuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAocmF3SGVhZGVycykgPT4ge1xyXG4gIGNvbnN0IGhlYWRlcnMgPSB7fTtcclxuXHJcbiAgaXRlcmF0ZSgocmF3SGVhZGVycyB8fCAnJykuc3BsaXQoJ1xcbicpLCAodmFsdWUpID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gdmFsdWUuaW5kZXhPZignOicpO1xyXG4gICAgY29uc3Qga2V5ID0gbmV3IFN0cih2YWx1ZS5zdWJzdHJpbmcoMCwgaW5kZXgpKVxyXG4gICAgICAudHJpbSgpXHJcbiAgICAgIC50b0NhbWVsQ2FzZSgpLiQ7XHJcbiAgICBjb25zdCB2YWwgPSBuZXcgU3RyKHZhbHVlLnN1YnN0cmluZyhpbmRleCArIDEpKS50cmltKCkuJDtcclxuXHJcbiAgICBpZiAoa2V5KSB7XHJcbiAgICAgIGhlYWRlcnNba2V5XSA9IChoZWFkZXJzW2tleV0gPyBgJHsgaGVhZGVyc1trZXldIH0sIGAgOiAnJykgKyB2YWw7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBoZWFkZXJzO1xyXG59O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3RyYW5zZm9ybURhdGFcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgdHJhbnNmb3JtRGF0YSBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcbmltcG9ydCB7IGlzT2JqZWN0LCB0b1N0cmluZ1RhZyB9IGZyb20gJy4vJztcclxuXHJcbmNvbnN0IG5vdFRvVHJhbnNmb3JtID0gbmV3IEFycihbJ0Zvcm1EYXRhJywgJ0ZpbGUnLCAnQmxvYicsICdBcnJheUJ1ZmZlcicsICdTdHJpbmcnLCAnTnVtYmVyJ10pO1xyXG5jb25zdCB3aXRob3V0Qm9keSA9IG5ldyBBcnIoWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnXSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRyYW5zZm9ybURhdGFcclxuICogQHBhcmFtIHsqfSBkYXRhIC0gRGF0YSB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCAtIEhUVFAgbWV0aG9kLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVycyAtIE9iamVjdCB3aXRoIGhlYWRlcnMuXHJcbiAqIEByZXR1cm5zIHsqfSAtIFRyYW5zZm9ybWVkIGRhdGEuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAoZGF0YSwgbWV0aG9kLCBoZWFkZXJzKSA9PiB7XHJcbiAgZGF0YSA9IG5ldyBTdXBlcihkYXRhKS4kO1xyXG5cclxuICBpZiAod2l0aG91dEJvZHkuaW5kZXhPZlN0cmljdChtZXRob2QpICE9PSAtMSkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNPYmplY3QoZGF0YSkgJiYgbm90VG9UcmFuc2Zvcm0uaW5kZXhPZlN0cmljdCh0b1N0cmluZ1RhZyhkYXRhKSkgPT09IC0xKSB7XHJcbiAgICBpZiAoIWhlYWRlcnMuY29udGVudFR5cGUpIHtcclxuICAgICAgaGVhZGVycy5jb250ZW50VHlwZSA9IFsnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04J107XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBTdXBlcihkYXRhKS5qc29uKCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZGF0YTtcclxufTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9yZXNvbHZlVVJMXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE9iamVjdC5hc3NpZ24tbGlrZSBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuXHJcbmNvbnN0IHsgbG9jYXRpb24gfSA9IGdsb2JhbDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChkZWNvZGVRdWVyeSkgPT4ge1xyXG4gIGNvbnN0IHtcclxuICAgIHNlYXJjaDogcXVlcnksXHJcbiAgICBoYXNoXHJcbiAgfSA9IGxvY2F0aW9uO1xyXG4gIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgIHF1ZXJ5OiB7fSxcclxuICAgIGhhc2g6IGhhc2gucmVwbGFjZSgvXiMvLCAnJylcclxuICB9O1xyXG5cclxuICBpZiAoIXF1ZXJ5KSB7XHJcbiAgICByZXR1cm4gcGFyYW1zO1xyXG4gIH1cclxuXHJcbiAgbmV3IFN0cihxdWVyeS5yZXBsYWNlKC9eXFw/LywgJycpKVxyXG4gICAgLnNwbGl0KCcmJylcclxuICAgIC5mb3JFYWNoKChyYXdQYXJhbSkgPT4ge1xyXG4gICAgICBsZXQgW3BhcmFtLCB2YWx1ZSA9ICcnXSA9IHJhd1BhcmFtLnNwbGl0KCc9Jyk7XHJcblxyXG4gICAgICBwYXJhbSA9IGRlY29kZVF1ZXJ5ID8gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtKSA6IHBhcmFtO1xyXG4gICAgICB2YWx1ZSA9IGRlY29kZVF1ZXJ5ID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xyXG5cclxuICAgICAgaWYgKCEvXlteW10rLy50ZXN0KHBhcmFtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHBhcmFtTmFtZTtcclxuICAgICAgbGV0IHBhcmFtT2JqZWN0ID0gcGFyYW1zLnF1ZXJ5O1xyXG5cclxuICAgICAgbmV3IFN0cihwYXJhbSlcclxuICAgICAgICAubWF0Y2goL15bXltcXF1dKnxcXFtbXltcXF1dKl0vZylcclxuICAgICAgICAuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignWycpKSB7XHJcbiAgICAgICAgICAgIHBhcmFtTmFtZSA9IG5hbWU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMSwgLTEpO1xyXG5cclxuICAgICAgICAgIHBhcmFtT2JqZWN0ID0gcGFyYW1PYmplY3RbcGFyYW1OYW1lXSA9IHBhcmFtT2JqZWN0W3BhcmFtTmFtZV0gfHwgKG5hbWUgPyB7fSA6IFtdKTtcclxuICAgICAgICAgIHBhcmFtTmFtZSA9IG5hbWUgfHwgcGFyYW1PYmplY3QubGVuZ3RoO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgcGFyYW1PYmplY3RbcGFyYW1OYW1lXSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gIHJldHVybiBwYXJhbXM7XHJcbn07XHJcbiIsImltcG9ydCAqIGFzIHN0YXRpY3MgZnJvbSAnLi9saWIvYnJvd3Nlcic7XHJcbmltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vbGliL2hlbHBlcnMvYXNzaWduJztcclxuXHJcbmNvbnN0IHsgRCB9ID0gc3RhdGljcztcclxuXHJcbmFzc2lnbihELCBzdGF0aWNzKTtcclxuXHJcbmRlbGV0ZSBELkQ7XHJcblxyXG5nbG9iYWwuRCA9IEQ7XHJcbiJdLCJuYW1lcyI6WyJ0b1N0cmluZ1RhZyIsIm9iamVjdCIsInRvU3RyaW5nIiwiY2FsbCIsInJlcGxhY2UiLCJpc0FycmF5IiwidmFsdWUiLCJpc0FycmF5TGlrZSIsImlzRnVuY3Rpb24iLCJsZW5ndGgiLCJpc0ludGVnZXIiLCJpc0Jvb2xlYW4iLCJpc0RhdGUiLCJpc0RhdGVMaWtlIiwiRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsImlzRWxlbWVudCIsInRlc3QiLCJpc0Zpbml0ZSIsImlzTnVtYmVyIiwiTnVtYmVyIiwiSW5maW5pdHkiLCJpc0ludGVnZXJMaWtlIiwicGFyc2VJbnQiLCJpc051bGwiLCJpc05pbCIsImlzTnVtYmVyTGlrZSIsImlzT2JqZWN0IiwiT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsImlzUHJpbWl0aXZlIiwicHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsImNvbnN0cnVjdG9yIiwiaXNSZWdFeHAiLCJpc1N0cmluZyIsImlzU3ltYm9sIiwiaXNVbmRlZmluZWQiLCJEIiwiaSIsImNvbnN0cnVjdG9ycyIsImxldmVsQ29uc3RydWN0b3JzIiwiayIsImxlbiIsImNscyIsImNoZWNrIiwiaXRlcmF0ZSIsImNhbGxiYWNrIiwiYXJyYXkiLCJpdGVyYXRlZEtleXMiLCJpdGVyYXRlZCIsImtleSIsImhhc093blByb3BlcnR5IiwiYXNzaWduIiwidGFyZ2V0Iiwib2JqZWN0cyIsImFyZ3VtZW50cyIsInNvdXJjZSIsImluZGV4IiwiZHluYW1pY0RlZmluZVByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwicHJvcGVydHlHZW5lcmF0b3IiLCJuYW1lIiwiZGVmaW5lUHJvcGVydHkiLCJkZWZpbmVQcm9wZXJ0aWVzIiwibWV0aG9kIiwidW5kZWZpbmVkIiwiZ2V0Iiwic2V0IiwidG9BcnJheSIsImNyZWF0ZU5ld0FycmF5IiwicHVzaCIsInZhbGlkYXRlIiwiYXJncyIsIm9wdGlvbnMiLCJudW1iZXIiLCJjaGVja2VyIiwidmFsaWRhdGVDaGVja0V4cHJlc3Npb25zIiwiZXJyb3IiLCJ0ZXh0IiwibnVtYmVycyIsImNoYXIiLCJhbHBoYWJldCIsInN0cmluZyIsInJhbmdlcyIsInNwbGl0IiwicmFuZ2UiLCJFcnJvciIsInN0YXJ0IiwiY2hhckNvZGVBdCIsImVuZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIkFscGhhYmV0Iiwic3dpdGNoZXIiLCJjYXNlcyIsIm1vZGUiLCJkZWZhdWx0VmFsdWUiLCJTd2l0Y2hlciIsIndoZW4iLCJjb25kaXRpb24iLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJkZWVwQXNzaWduIiwiZGVlcENsb25lIiwiY2xvbmUiLCJjbG9uZVN3aXRjaGVyIiwiZGVlcEVxdWFsIiwibzEiLCJvMiIsInN0cmljdCIsIm1hdGNoIiwibGFzdEluZGV4IiwicDEiLCJwMiIsImtleXMiLCJkZWVwRXZlcnkiLCJuIiwidHJlZSIsIm5ld1RyZWUiLCJjb25jYXQiLCJkZWVwRmlsdGVyIiwibnVsIiwibyIsImZpbHRlcmVkIiwiZGVlcEZpbmQiLCJyZXN1bHQiLCJkZWVwRm9yRWFjaCIsImRlZXBGb3JFYWNoRW50cnkiLCJkZWVwRnJlZXplIiwiZnJlZXplIiwiZGVlcE1hcCIsImRlZXBSZWR1Y2UiLCJJViIsImRlZXBTb21lIiwieCIsImFwcGx5Iiwibm9vcCIsInByb3AiLCJzZWxmIiwicmFuZCIsIk1hdGgiLCJyYW5kb20iLCJmbG9vciIsImFzYyIsInkiLCJBcnIiLCJibG9iIiwiYmxvYlBhcnRzIiwiQmxvYk9iamVjdCIsIkJsb2IiLCJ0cmltIiwicGFyc2VKU09OIiwianNvbiIsIkpTT04iLCJwYXJzZSIsImRhdGVzIiwicGFyc2VkIiwidGhpcyIsImZpbmQiLCJtYXJrdXAiLCJlbGVtIiwibWF0Y2hlcyIsInJhd1RleHRTd2l0Y2hlciIsIlN1cGVyIiwiY29uc3RydWN0Q2xvc2VUYWdSZWdFeHAiLCJOT0RFX1JFR0VYX1NFVCIsIm1hcCIsInJlZ2V4IiwicmV0dXJuaW5nIiwiYXR0cnMiLCJzdGFydE1hcmt1cCIsImNsb3NlTWF0Y2giLCJzZWxmQ2xvc2luZyIsInNsaWNlIiwiVEFHX09QRU5fQ0xPU0UiLCJhdHRyIiwiQVRUUklCVVRFIiwibWluIiwiTmFOIiwidGFnTmFtZSIsIlJlZ0V4cCIsIm5lYXJTdHJpbmciLCJwYXJzZUNoYXJhY3RlckRhdGEiLCJpbm5lckhUTUwiLCJkaXYiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsInRvRmluZCIsImlzRWxlbSIsIkVsZW0iLCJpc1dpbmRvdyIsImlzSFRNTERvY3VtZW50IiwiaXNEb2N1bWVudEZyYWdtZW50IiwiaXNTdHlsZVJ1bGUiLCJpc0NvbW1lbnRPclRleHQiLCJ0YWciLCJnZXRFbGVtIiwiJCIsImVtcHR5RGl2IiwiZ2V0TmFtZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJhZGREd2F5bmVEYXRhIiwid2luZG93c0R3YXluZURhdGEiLCJzb21lIiwiZWxlbWVudCIsImdldENvbnRleHQiLCJzZWxlY3RvciIsImJhc2UiLCJuYXRpdmVEb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwYXJzZUhUTUwiLCJodG1sIiwiY29sbGFwc2VXaGl0ZVNwYWNlIiwibWFya3VwVG9KU09OIiwidGVtcGxhdGUiLCJkb2MiLCJjb250ZW50IiwiZm9yRWFjaCIsImZvckVhY2hOb2RlIiwibm9kZSIsInBhcmVudCIsImNoaWxkcmVuIiwicGFyZW50Tm9kZSIsImNyZWF0ZSIsInB4Iiwic2l6ZSIsInJlZ2lzdGVyREJsb2NrIiwiQmxvY2siLCJEQmxvY2siLCJlbGVtcyIsIiQkIiwiZm91bmQiLCJyZWdpc3RlckRFYWNoIiwiY3JlYXRlQmxvY2siLCJERWFjaCIsIm9wdHMiLCJpdGVtIiwiaXRlbU5hbWUiLCJpbmRleE5hbWUiLCJfdGhpcyIsInVpZCIsImNvbnN0cnVjdFZhbHVlcyIsIndhdGNoQXJncyIsInBhcmVudEVsZW0iLCJ1aWRzIiwic2NvcGUiLCJVSUQiLCIkdWlkcyIsIm5ld0tleXMiLCJuZXdVSURzIiwiZXZhbHVhdGUiLCJpdGVtcyIsInNwbGljZSIsIkl0ZW0iLCJyZW1vdmUiLCJhZnRlciIsImJsb2NrIiwic2hpZnQiLCJwcmV2IiwiaW5zZXJ0QWZ0ZXIiLCJ2YWx1ZXMiLCJyZWdpc3RlckRFbGVtZW50cyIsIkRFbGVtZW50cyIsIl90aGlzMiIsIm1peGlucyIsIndhdGNoZXJzVG9SZW1vdmUiLCJjaGlsZCIsIm1peGluIiwiZmlsdGVyIiwid2F0Y2hlcnMiLCJ3YXRjaGVyIiwiZm9yREVsZW1lbnRzIiwiaW5kZXhPZiIsIm5ld0NvbnRlbnQiLCJhZGQiLCJyZWdpc3RlckRJZiIsIkRJZiIsImNvbmQiLCJldmFsdWF0ZUFuZFdhdGNoIiwiaWYiLCJuZXdWYWx1ZSIsIkJvb2xlYW4iLCJyZWdpc3RlckRJdGVtIiwiREl0ZW0iLCJyZWdpc3RlckRTd2l0Y2giLCJEU3dpdGNoIiwid2FzRGVmYXVsdCIsInZhbCIsImVxdWFscyIsInJlZ2lzdGVyRFRleHQiLCJEVGV4dCIsInJlZ2lzdGVyREF0dHIiLCJNaXhpbiIsIkRBdHRyIiwib2xkVmFsdWUiLCJyZW1vdmVBdHRyIiwicmVnaXN0ZXJEQmluZCIsIkRCaW5kIiwib2ZmIiwib24iLCJyZWdpc3RlckRDbGFzcyIsIkRDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJyZWdpc3RlckRFbGVtIiwiREVsZW0iLCJyZWdpc3RlckRIaWRlIiwiREhpZGUiLCJoaWRlIiwic2hvdyIsInJlZ2lzdGVyRE9uIiwiRE9uIiwiZXZhbHVhdGVPbmNlIiwicmVnaXN0ZXJEU2hvdyIsIkRTaG93IiwicmVnaXN0ZXJEU3R5bGUiLCJEU3R5bGUiLCJyZW1vdmVDU1MiLCJjc3MiLCJyZWdpc3RlckRWYWxpZGF0ZSIsIkRWYWxpZGF0ZSIsInZhbGlkYXRvciIsInJlZ2lzdGVyRFZhbHVlIiwiRFZhbHVlIiwiX3ZhbHVlIiwidHlwZSIsInByb3BTd2l0Y2hlciIsImluaXRpYWxTY29wZVZhbHVlIiwic2V0UHJvcCIsImluaXRpYWxFbGVtVmFsdWUiLCJnZXRQcm9wIiwibGlzdGVuZXJTd2l0Y2hlciIsImUiLCJzZXRWYWx1ZVN3aXRjaGVyIiwiZ2V0VmFsdWVTd2l0Y2hlciIsImluaXRBcHAiLCJyb290IiwiZmlyc3QiLCJibG9ja3MiLCJ3YXJuIiwiYXR0ck5hbWUiLCJpc0luc3RhbmNlT2ZNaXhpbiIsInJlcGxhY2VtZW50IiwiY3JlYXRlQ29tbWVudCIsInJlZ2lzdGVyQmxvY2tzIiwiaXNJbnN0YW5jZU9mQmxvY2siLCJkZWVwQ2xvbmVDaGlsZHJlbiIsInJlZ2lzdGVyQnVpbHRJbnMiLCJyZWdpc3RlciIsInBhcmVudEJsb2NrIiwicGFyZW50U2NvcGUiLCJzdmdOUyIsInN2ZyIsImxvY2FsQmxvY2tzIiwiZEJsb2NrTWF0Y2giLCJleHByZXNzaW9uUmVnRXhwIiwiY3VycmVudE1peGlucyIsIl9tYXRjaCIsImludG8iLCJibG9ja0luc3RhbmNlIiwiZ2xvYmFsIiwiQXJncyIsImxvY2FscyIsImV2ZW50dWFsQXJncyIsImRlZmF1bHRBcmdzIiwiY29uc3RydWN0UHJpdmF0ZVNjb3BlIiwic2NvcGVWYWx1ZXMiLCJESXRlbUZvdW5kIiwicHJpdmF0ZVNjb3BlIiwiYWZ0ZXJDb25zdHJ1Y3QiLCJlcnIiLCJhZnRlclJlbmRlciIsImNyZWF0ZU1peGluIiwibmV3Q2hpbGQiLCJ0cmFuc2Zvcm1ESWZDaGlsZHJlbiIsImlmRWxzZSIsImlzUHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJyZW1vdmVXYXRjaGVycyIsImNvbnN0cnVjdFB1YmxpY1Njb3BlIiwiZGVmaW5lIiwiZXZhbE1vZGUiLCJnZXR0aW5nIiwidGVtcCIsImNoYW5nZWQiLCJvbGRUZW1wV2F0Y2hlcnMiLCJvblJlbW92ZSIsIndhcyIsInBlcm0iLCJyb3VuZCIsImRpZ2l0cyIsInplcm9lcyIsInplcm8iLCJyZXBlYXQiLCJub3ciLCJkYXRlIiwiRGF0IiwiaXNBYnNvbHV0ZSIsInVybCIsImFic29sdXRlVVJMUmVnZXhwIiwiZW5jb2RlIiwiaXNFbmNvZGVkIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmV0Y2hCZWZvcmVNaWRkbGV3YXJlIiwiY29uZmlnIiwiYmFzZVVSTCIsImRhdGEiLCJoZWFkZXJzIiwicGFyYW1zIiwicXVlcnkiLCJNRVRIT0QiLCJ0b1VwcGVyQ2FzZSIsImNvbnN0cnVjdFVSTCIsInRyYW5zZm9ybURhdGEiLCJoZWFkZXIiLCJTdHIiLCJ0b0NhcGl0YWxDYXNlIiwiam9pbiIsImluaXRSb3V0ZXIiLCJpbml0aWFsaXplZCIsIlJvdXRlcyIsInJlZGlyZWN0Um91dGUiLCJkZWZhdWx0Um91dGUiLCJSZWRpcmVjdFJvdXRlIiwicm91dGUiLCJwYXJlbnROYW1lIiwiUGFyZW50TmFtZSIsInJvb3RSb3V0ZSIsImFic3RyYWN0IiwiYmFzZVJvdXRlIiwicGFyZW50UGFyYW1zIiwicGFyZW50UXVlcnkiLCJwYXRoIiwicmVsYXRpdmVVUkwiLCJyZWxhdGl2ZVBhdGgiLCJjb3VudCIsIm5ld1BhdGgiLCJuZXdVUkwiLCJ2YWxpZGF0ZVBhdGgiLCJsb2NhdGlvbiIsImhyZWYiLCJwdXNoZWQiLCJjbG9zZXN0TGluayIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsIm1ha2VSb3V0ZSIsImNhbGxCZWZvcmVMb2FkIiwiYmVmb3JlTG9hZFJvdXRlIiwicm91dGVMb2FkZWQiLCJjYWxsQmVmb3JlTGVhdmUiLCJiZWZvcmVMZWF2ZVJvdXRlIiwiZmFsbGJhY2tUbyIsImlzRGVmYXVsdCIsImRlZmF1bHQiLCJ3YXNSb290IiwiTmFtZSIsIlJvdXRlIiwidW5zdWJzY3JpYmUiLCJyb3V0ZXIiLCJlbmNvZGVQYXJhbXMiLCJlbmNvZGVRdWVyeSIsImhhc2giLCJvcmlnaW4iLCJidWlsZFVSTCIsIl9faXNDdXJyZW50Um91dGVfXyIsImN1cnJlbnRSb3V0ZSIsImN1cnJlbnRSb3V0ZVBhcmFtcyIsInN1YnNjcmliZSIsImlzQ3VycmVudFJvdXRlIiwiZGVsZXRlIiwiZm9yd2FyZCIsImNoYW5nZVJvdXRlIiwiZmluZFJvdXRlQnlVUkwiLCJob3N0IiwiaG9zdG5hbWUiLCJwYXRobmFtZSIsInBvcnQiLCJwcm90b2NvbCIsInNlYXJjaCIsInVybFBhcmFtcyIsInJvdXRlVVJMIiwicmVxdWlyZWRRdWVyeSIsImRlY29kZVBhcmFtcyIsImRlY29kZVF1ZXJ5IiwicmVzb2x2ZWQiLCJyZXNvbHZlVVJMIiwiZXZlbnR1YWxQYXJhbXMiLCJwYXJhbSIsImhhc093biIsImRlY29kZSIsIkRlZmF1bHRSb3V0ZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImNoYW5nZUhpc3RvcnkiLCJyZXNvbHZlUGFyYW1ldGVyIiwibmFtZUVycm9yTmFtZSIsInZhbHVlRXJyb3JOYW1lIiwibmFtZU1hdGNoIiwicmVnZXhwIiwid2luZG93IiwiYXBwbGllZFJlZ0V4cHMiLCJpZCIsImNhbnZhc0dldE1ldGhvZHMiLCJjYW52YXNSZXN0TWV0aG9kcyIsImh0bWxFbGVtZW50cyIsInN2Z0VsZW1lbnRzIiwidm9pZEVsZW1lbnRzIiwiaHRtbEFsbG93ZWRUYWdTeW1ib2xzIiwiaHRtbEFsbG93ZWRBdHRyU3ltYm9scyIsInJlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzIiwiUmFuZ2VFcnJvciIsInYiLCJtZXRob2RzIiwiVHlwZUVycm9yIiwiYSIsImQiLCJmIiwiciIsInMiLCJTeW1ib2wiLCJjaGFycyIsIndvcmQiLCJ0b2tlbiIsImRlZiIsInJldCIsIkNhc2UiLCJjYXNlIiwiZXZlbnR1YWxDYXNlcyIsInNldFByb3RvdHlwZU9mIiwiRnVuY3Rpb24iLCJkZWVwIiwic3VtIiwiZnVuYyIsImRlc2NyaXB0b3JzIiwicHJvcGVydHkiLCJkZXNjcmlwdG9yIiwicHJvcHMiLCJnZXR0ZXIiLCJpc0Zyb3plbiIsInJlcGxhY2VyIiwic3BhY2UiLCJ1bnNoaWZ0Iiwic3RyaW5naWZ5IiwibWF4Iiwib2JqIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImlzQ29udGV4dE9iamVjdCIsInN0YXJ0S2V5Iiwic2V0dGVyIiwicmVkdWNlIiwic2VjcmV0IiwiaXRlcmF0b3IiLCJQcm9taXNlIiwiZXhlY3V0b3IiLCJyZWplY3QiLCJoaWRkZW5Qcm9taXNlIiwic3RhdHVzIiwib25SZWplY3QiLCJoYW5kbGVkIiwib25VbmhhbmRsZWRSZWplY3Rpb24iLCJvbkVycm9yIiwicmVzb2x2ZSIsInRoZW4iLCJvbkZ1bGZpbGwiLCJoaWRkZW5TdGF0dXMiLCJoaWRkZW5WYWx1ZSIsInJlYWxQcm9taXNlIiwicHJveHkiLCJvblJlamVjdGVkIiwib25GdWxmaWxsZWRPclJlamVjdGVkIiwiaXNGdW5jIiwib25GdWxmaWxsZWQiLCJwcm9taXNlIiwiaGFuZGxlIiwiaGFuZGxlciIsIml0ZXJhYmxlIiwidG9SZXNvbHZlIiwibmV4dCIsImRvbmUiLCJjb25zb2xlIiwiYmluZCIsIkZ1bmMiLCJjYWxsZWQiLCJjYW5CZUNhbGxlZCIsImJlZm9yZSIsInN5bmMiLCJjb250ZXh0TG9ja2VkIiwiY29udGV4dCIsIm1pZGRsZXdhcmUiLCJhZnRlckFsbCIsImJlZm9yZUFsbCIsImJpbmRDb250ZXh0IiwiYmluZEFyZ3MiLCJ0aW1lcyIsImxvY2tDb250ZXh0IiwibG9ja0FyZ3MiLCJhcmdzTG9ja2VkIiwibWFyayIsInRpbWUiLCJ0aW1lRW5kIiwidW5iaW5kQ29udGV4dCIsInVuYmluZEFyZ3MiLCJ0b1JhZGlhbiIsIlBJIiwidG9EZWdyZWUiLCJsbjIiLCJMTjIiLCJsbjEwIiwiTE4xMCIsIk51bSIsInRvRGVncmVlcyIsImFjb3MiLCJhc2luIiwiYXRhbiIsImFzRGVncmVlcyIsImNvcyIsImFib3J0IiwiY2xlYXJUaW1lb3V0IiwidGltZW91dCIsImFib3J0ZWQiLCJzZXRUaW1lb3V0IiwiaW50ZXJ2YWwiLCJsb2ciLCJwb3dlciIsInBvdyIsInNpbiIsInRhbiIsInJlaiIsImZyYWN0aW9uRGlnaXRzIiwidG9FeHBvbmVudGlhbCIsInRvRml4ZWQiLCJwcmVjaXNpb24iLCJ0b1ByZWNpc2lvbiIsImFicyIsInNxcnQiLCJjYnJ0IiwiY2VpbCIsImV4cCIsImxuIiwic2lnbiIsImtleU9mIiwia2V5T2ZTdHJpY3QiLCJzZXBhcmF0b3IiLCJwb3AiLCJyZXZlcnNlIiwicmFuZG9tSW5kZXgiLCJiZWdpbiIsImNvbXBhcmVGdW5jdGlvbiIsInNvcnQiLCJkZWxldGVDb3VudCIsIlVSTCIsInByb2dyZXNzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInRvUmVqZWN0Iiwib25wcm9ncmVzcyIsIm9uZXJyb3IiLCJvbmxvYWQiLCJhbmNob3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkYXRhVVJMIiwic2V0QXR0cmlidXRlIiwiY2xpY2siLCJjcmVhdGVPYmplY3RVUkwiLCJodG1sU3BlY2lhbHMiLCJyZWdleHBTcGVjaWFsc1JlZ2V4cCIsInNlYXJjaFN0cmluZyIsInBvc2l0aW9uIiwicmV2ZXJ0Iiwic3RhcnRzV2l0aCIsImVzY2FwZWQiLCJzeW1ib2wiLCJzZWFyY2hWYWx1ZSIsImZyb21JbmRleCIsImxhc3RJbmRleE9mIiwic3RyIiwiYmVnaW5TbGljZSIsImVuZFNsaWNlIiwic3Vic3RyIiwiaW5kZXhTdGFydCIsImluZGV4RW5kIiwic3Vic3RyaW5nIiwic3VibWl0U3RyaW5nIiwibm9kZVN3aXRjaGVyIiwiSW50ZXJuYWxQYXJzaW5nRXJyb3IiLCJQYXJzaW5nRXJyb3IiLCJ0aHJvd1VuZXhwZWN0ZWRFcnJvciIsImdsb2JhbEluZGV4IiwiZWxlbWVudHMiLCJldmVudFNlcGFyYXRvciIsInRleHRQcm9wZXJ0eSIsIk5vZGUiLCJwcm9wZXJ0eURlc2NyaXB0b3IiLCJjbGFzc2VzIiwiaW5wdXRFbGVtZW50cyIsInhtbE5TIiwieGxpbmtOUyIsInhodG1sTlMiLCJ0eXBlU3dpdGNoZXIiLCJucyIsImRvY3VtZW50RWxlbWVudCIsIm5hbWVzcGFjZVVSSSIsImNyZWF0ZUVsZW1lbnROUyIsImNyZWF0ZVRleHROb2RlIiwicmVmU3dpdGNoZXIiLCJmaWx0ZXJTd2l0Y2hlciIsImlzIiwiaW5uZXJTd2l0Y2hlciIsInBhZGRpbmdzIiwiYm9yZGVycyIsIm91dGVyU3dpdGNoZXIiLCJhdHRyTlNTd2l0Y2hlciIsImxpc3QiLCJjbGFzc0xpc3QiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJzdHlsZSIsInNoZWV0IiwiY3NzUnVsZXMiLCJydWxlcyIsInRvSHlwaGVuQ2FzZSIsImluc2VydFJ1bGUiLCJkd2F5bmVEYXRhIiwic3RyaW5ncyIsImFwcGxpZWQiLCJzZXRBcHBsaWVkIiwibnAxIiwiYXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlTlMiLCJfdGhpczQiLCJsb2FkIiwiaXNCcm9rZW4iLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdJbWFnZSIsImJ5dGVTdHJpbmciLCJhdG9iIiwiYWIiLCJBcnJheUJ1ZmZlciIsImlhIiwiVWludDhBcnJheSIsImJsdXIiLCJwc2V1ZG8iLCJnZXRDb21wdXRlZFN0eWxlIiwicnVsZSIsImNoaWxkTm9kZXMiLCJjbGFzc05hbWUiLCJjbG9uZU5vZGUiLCJjb250YWlucyIsImFwcGxpZWRFeHByZXNzaW9ucyIsImdldFByb3BlcnR5VmFsdWUiLCJnZXRQcm9wZXJ0eVByaW9yaXR5IiwicmVtb3ZlUHJvcGVydHkiLCJzZXRQcm9wZXJ0eSIsImNzc1RleHQiLCJ0b0NhbWVsQ2FzZSIsImN0eCIsImRhdGFzZXQiLCJlbmNvZGVyT3B0aW9ucyIsInRvRGF0YVVSTCIsImRlbGV0ZVJ1bGUiLCJldmVudCIsImV2ZW50SW5pdCIsImRldGFpbHMiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImZpbmFsRXZlbnQiLCJFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImZvY3VzIiwic2VsZWN0b3JUZXh0IiwiaGFzQXR0cmlidXRlIiwiaGFzQXR0cmlidXRlTlMiLCJjdXJyZW50RGlzcGxheSIsInByZXZpb3VzRGlzcGxheSIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsImNvbXBsZXRlIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImltYWdlcyIsImFsbCIsIiRlbGVtIiwicmVtb3ZlTGlzdGVuZXJzIiwicHJvcGVyIiwiYnJva2VuIiwibmV4dFNpYmxpbmciLCJldmVudHMiLCJsaXN0ZW5lcnMiLCJyZW1vdmVMaXN0ZW5lciIsImxpc3RlbmVyIiwiYWxsTGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoYXMiLCJuZXdMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJldmlvdXNTaWJsaW5nIiwibGluayIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlTlMiLCIyIiwiMSIsImNyZWF0ZWQiLCJ0eHQiLCJfYXJndW1lbnRzNiIsImhhc0F0dHIiLCJoYXNDbGFzcyIsImxldmVsIiwidmFsaWRhdG9yV3JhcCIsImlucHV0IiwiZXJyb3JzIiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwidmFsaWRhdG9ycyIsImZvcm1FcnJvcnMiLCJmb3JtIiwiaW5wdXRzIiwiZGlzcGF0Y2giLCJpbnB1dEVycm9yIiwiZXZlcnkiLCJpbm5lckhlaWdodCIsImNhbGNDU1MiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm94U2l6aW5nIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJpbm5lcldpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJvdXRlcldpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0Iiwid2luIiwiYm9keSIsImhlYWQiLCJpbnB1dFZhbHVlIiwib25FdmFsRXJyb3IiLCJvcmlnaW5hbEFyZ3MiLCJleHByZXNzaW9uIiwib25DaGFuZ2UiLCJpbnN0YW5jZSIsImZvckRJdGVtIiwiZm9yREVhY2giLCJleHByIiwiRHdheW5lU3RvcmUiLCJzdG9yZSIsImxvY2FsV2F0Y2hlcnMiLCJuZXdSZXN1bHQiLCJ3YXRjaGVyQmxvY2siLCJpbmRleDEiLCJpbmRleDIiLCJhcmciLCJEd2F5bmVCbG9jayIsImlzUGFyZW50U2lnbmFsIiwiYmVmb3JlUmVtb3ZlIiwidmFyaWFibGUiLCJfdGhpczMiLCJfdGhpczUiLCJsb2NhbCIsIl90aGlzNiIsIkJsb2NrcyIsImFmdGVyVXBkYXRlIiwiTWl4aW5zIiwiZGF5c09mVGhlV2Vla05hbWVzIiwiZGF5c09mVGhlV2Vla0FsaWFzZXMiLCJtb250aHNOYW1lcyIsIm1vbnRoc0FsaWFzZXMiLCJ1dGMiLCJjb2VmZnMiLCJnZXRTd2l0Y2hlciIsInNldFN3aXRjaGVyIiwid2hhdCIsInByZWZpeCIsImZvcm1hdHMiLCJmb3JtYXQiLCJyZXBsYWNlU3RyaW5nIiwiZGF0ZTEiLCJkYXRlMiIsImlzQmVmb3JlIiwic3RhcnRlZCIsImNvZWZmIiwidyIsInNldFRpbWUiLCJ0b0lTT1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwidmFsdWVPZiIsInF1ZXJ5U3dpdGNoZXIiLCJxdWVyeVBhcmFtcyIsImVuY29kZU9wdGlvbnMiLCJyYXdIZWFkZXJzIiwibm90VG9UcmFuc2Zvcm0iLCJ3aXRob3V0Qm9keSIsImluZGV4T2ZTdHJpY3QiLCJjb250ZW50VHlwZSIsImRlZmF1bHRzIiwidXBsb2FkTWV0aG9kcyIsIkZldGNoIiwiZmV0Y2giLCJyZXF1ZXN0IiwiY29uZiIsInRvUHVzaCIsImRhdGFDb25maWciLCJ1cmxDb25maWciLCJ4aHIiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJlc3BvbnNlVHlwZSIsIndpdGhDcmVkZW50aWFscyIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJ1cGxvYWQiLCJvbmFib3J0Iiwib250aW1lb3V0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlIiwicmVzcG9uc2VUZXh0IiwicGFyc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwic3RhdHVzVGV4dCIsImNhdGNoIiwic2VuZCIsInJhd1BhcmFtIiwicGFyYW1OYW1lIiwicGFyYW1PYmplY3QiLCJzdWJzY3JpYmVycyIsImhpc3RvcnkiLCJwYXRoU3dpdGNoZXIiLCJwYXJ0IiwiZXNjYXBlUmVnRXhwIiwic3RhdGljcyJdLCJtYXBwaW5ncyI6IndCQVlBLFNBQWdCQSxHQUFZQyxZQUNoQkMsU0FBU0MsS0FBS0YsR0FBUUcsUUFBUSxpQkFBa0IsSUNPNUQsUUFBZ0JDLEdBQVFDLFNBQ1EsVUFBdkJOLEVBQVlNLEdBZ0JyQixRQUFnQkMsR0FBWUQsT0FDckJBLEdBQVNFLEVBQVdGLFVBQ2hCLEtBR0hHLEdBQVNILEVBQU1HLGFBRWRDLEdBQVVELElBQVdBLEdBQVUsRUFjeEMsUUFBZ0JFLEdB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QVFBLFNBUUEsVUFRQSxPQVFBLE9BUUEsTUFRQSxXQVFBLFVBUUEsV0FRQSxLQVFBLE1BUUEsVUFRQSxNQVFBLFNBUUEsTUFRQSxLQVFBLEtBUUEsVUFRQSxLQVFBLFFBUUEsV0FRQSxhQVFBLFNBUUEsU0FRQSxPQVFBLEtBUUEsS0FRQSxLQVFBLEtBUUEsS0FRQSxLQVFBLE9BUUEsU0FRQSxTQVFBLEtBUUEsSUFRQSxTQVFBLE1BUUEsUUFRQSxNQVFBLE1BUUEsUUFRQSxTQVFBLEtBUUEsT0FRQSxPQVFBLE9BUUEsT0FRQSxXQVFBLE9BUUEsUUFRQSxNQVFBLFdBUUEsS0FRQSxXQVFBLFNBUUEsU0FRQSxJQVFBLFFBUUEsTUFRQSxXQVFBLElBUUEsS0FRQSxLQVFBLE1BUUEsT0FRQSxJQVFBLE9BUUEsU0FRQSxVQVFBLFNBUUEsU0FRQSxRQVFBLFNBUUEsT0FRQSxTQVFBLFFBUUEsTUFRQSxVQVFBLE1BUUEsUUFRQSxRQVFBLEtBUUEsV0FRQSxXQVFBLFFBUUEsS0FRQSxRQVFBLE9BUUEsUUFRQSxLQVFBLFFBUUEsSUFRQSxLQVFBLE1BUUEsUUFRQSxPQUdXQyxJQU9YLFdBUUEsY0FRQSxlQVFBLFVBUUEsZUFRQSxnQkFRQSxtQkFRQSxTQVFBLFdBUUEsZ0JBUUEsU0FRQSxPQVFBLE9BUUEsVUFRQSxVQVFBLFVBUUEsZ0JBUUEsc0JBUUEsY0FRQSxtQkFRQSxvQkFRQSxvQkFRQSxpQkFRQSxlQVFBLFVBUUEsVUFRQSxVQVFBLFVBUUEsVUFRQSxpQkFRQSxVQVFBLFVBUUEsY0FRQSxlQVFBLFdBUUEsZUFRQSxxQkFRQSxjQVFBLFNBUUEsZUFRQSxPQVFBLFlBUUEsbUJBUUEsaUJBUUEsZ0JBUUEsZ0JBUUEsZ0JBUUEsSUFRQSxRQVFBLFdBUUEsUUFRQSxZQVFBLFFBUUEsUUFRQSxPQVFBLGlCQVFBLFNBUUEsT0FRQSxPQVFBLGVBUUEsWUFRQSxVQVFBLFdBUUEsZ0JBUUEsUUFRQSxPQVFBLFVBUUEsVUFRQSxXQVFBLGlCQVFBLE9BUUEsTUFRQSxhQVFBLE9BUUEsUUFRQSxNQVFBLFNBUUEsU0FRQSxX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