!function(){"use strict";function e(e){return{}.toString.call(e).replace(/^\[object |]$/g,"")}function t(t){return"Array"===e(t)}function n(e){if(!e||c(e))return!1;var t=e.length;return l(t)&&t>=0}function r(t){return"Boolean"===e(t)}function i(t){return"Date"===e(t)}function a(e){return e=new Date(e),!f(e.getTime())}function o(t){return/Element$/.test(e(t))}function u(e){return!!d(e)&&(e=Number(e),!f(e)&&e!==1/0&&e!==-(1/0))}function c(t){return"Function"===e(t)||"function"==typeof t}function l(e){return d(e)&&e%1===0}function s(e){return e=parseInt(Number(e)),!(!e&&0!==e)}function f(e){return!!d(e)&&(e=Number(e),e!==e)}function h(e){return null===e}function v(e){return null===e||"undefined"==typeof e}function d(t){return"Number"===e(t)}function p(e){return!(!f(e)&&"NaN"!==e)||(e=Number(e),!(!e&&0!==e))}function g(t){return!!t&&("Object"===e(t)||"object"===("undefined"==typeof t?"undefined":xt(t))||t instanceof Object)}function m(e){if(y(e))return!1;var t=Object.getPrototypeOf(e);if(h(t))return!0;var n=t.constructor;return c(n)&&n instanceof n&&h(Object.getPrototypeOf(t))}function y(e){return h(e)||/^(number|string|boolean|symbol|undefined)$/.test("undefined"==typeof e?"undefined":xt(e))}function w(t){return"RegExp"===e(t)}function $(t){return"String"===e(t)}function k(t){return"Symbol"===e(t)}function b(e){return"undefined"==typeof e}function x(e){for(var t=gt.length-1;t>=0;t--)for(var n=gt[t],r=0,i=n.length;r<i;r++){var a=n[r];if(e instanceof a.cls)return e;if(a.check(e))return new a.cls(e)}}function O(e,t){var r=n(e),i={},a=0;for(var o in e)if(!{}.hasOwnProperty.call(i,o)&&(i[o]=!0,{}.hasOwnProperty.call(e,o))){if(r&&a++>=e.length)break;var u=t(e[o],r?Number(o):o,e);if(!b(u))return u}}function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return O(arguments,function(t,n){n&&O(t,function(t,n){e[n]=t})}),e}function S(e,t,n){O(t,function(t,r){Object.defineProperty(e,t,{value:n(t,r),writable:!0,enumerable:!1,configurable:!0})})}function j(e,t){O(t,function(t,n){return/^get /.test(n)?void Object.defineProperty(e,n.replace(/^get /,""),{get:t,set:void 0,enumerable:!1,configurable:!0}):/^set /.test(n)?void Object.defineProperty(e,n.replace(/^set /,""),{set:t,get:void 0,enumerable:!1,configurable:!0}):/^get\/set /.test(n)?void Object.defineProperty(e,n.replace(/^get\/set /,""),{get:t.get,set:t.set,enumerable:!1,configurable:!0}):void("Symbol.toStringTag"!==n&&Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!1,configurable:!0}))})}function _(e,r){if(t(e)&&!r)return e;var i=[];return n(e)&&!$(e)?O(e,function(e){i.push(e)}):i.push(e),i}function T(e,n,r){O(n,function(n,i){t(n)||(n=[n]),O(n,function(t){if(t=Pt[t],!t.check(e[i]))throw new t.error(t.text.replace("$n",Nt[i])+(r?" (at "+r+")":""))})})}function R(e){return $(e)&&1===e.length}function C(e){T([e],["string"]);for(var t=e.split(/([\s\S]-+[\s\S])?/g),n=t.length,r=[],i=0;i<n;i++){var a=t[i];if(a&&" "!==a){if(/-/.test(a)&&!/[\s\S]-+[\s\S]/.test(a))throw new Error("Wrong part of the string ("+a+")! (in alphabet)");if(/-/.test(a)){var o=a.charCodeAt(0),u=a.charCodeAt(2);if(o>u)throw new Error("Start of the range must be before its end! (in alphabet)");for(var c=0,l=u-o+1;c<l;c++)r.push(String.fromCharCode(o+c))}else 1===a.length&&r.push(a)}}return new Mt(r)}function A(e,t,n){return new(Function.prototype.bind.apply(Ut,[null].concat(Array.prototype.slice.call(arguments))))}function L(e,t,n){return e?t:n}function P(e,t){O(t,function(t,n){return y(e[n])||!{}.hasOwnProperty.call(e,n)?void(e[n]=D(t)):void(y(e[n])||P(e[n],t))})}function D(e){var t=Bt(e,[e,!0]);return t!==e&&O(e,function(e,n){t[n]=D(e)}),t}function N(n,r,a){if(n===r)return!0;if(f(n)&&f(r)&&y(n)&&y(r))return!0;if(f(n)||f(r))return!1;if(y(n)||y(r))return a?n===r:n==r;if(i(n)&&i(r))return n.getTime()===r.getTime();if(i(n)||i(r))return!1;if(w(n)&&w(r))return n.source===r.source&&n.toString().match(/[gimuy]*$/)[0]===r.toString().match(/[gimuy]*$/)[0]&&n.lastIndex===r.lastIndex;if(w(n)||w(r))return!1;if(!m(n)&&!t(n)||!m(r)&&!t(r))return!1;var o=Object.getPrototypeOf(n),u=Object.getPrototypeOf(n);return Object.keys(n).length===Object.keys(r).length&&((!o||!u||e(o.constructor)===e(u.constructor))&&O(n,function(e,t){if(!(t in r&&N(e,r[t],a)))return!1})!==!1)}function M(e,t,n,r){var i=1===n;return O(e,function(e,a,o){var u=[{key:a,value:e}].concat(r);if(i||y(e)?!t(e,a,o,u):!M(e,t,n-1,u))return!1})!==!1}function U(e,t,r,i){var a=n(e),o=v(e),u=a?[]:o?e:{},c=1===r;return O(e,function(e,n,o){var l=[{key:n,value:e}].concat(i);if((c||y(e))&&t(e,n,o,l))return void(a?u.push(e):u[n]=e);if(!c){var s=U(e,t,r-1,l);s&&(a?u.push(s):u[n]=s)}}),a?u.length?u:void 0:o?u:Object.keys(u).length?u:void 0}function B(e,t,n,r){var i=1===n;return O(e,function(e,a,o){var u=[{key:a,value:e}].concat(r);if(i||y(e)){if(t(e,a,o,u))return u}else{var c=B(e,t,n-1,u);if(c)return c}})||null}function q(e,t,n,r){var i=1===n;O(e,function(e,a,o){var u=[{key:a,value:e}].concat(r);i||y(e)?t(e,a,o,u):q(e,t,n-1,u)})}function I(e,t,n,r){var i=1===n;O(e,function(e,a,o){var u=[{key:a,value:e}].concat(r);t(e,a,o,u),i||y(e)||I(e,t,n-1,u)})}function F(e){Object.freeze(e),O(e,F)}function W(e,t,r,i){var a=n(e)?[]:v(e)?e:{},o=1===r;return O(e,function(e,n,u){var c=[{key:n,value:e}].concat(i);a[n]=o||y(e)?t(e,n,u,c):W(e,t,r-1,c)}),a}function H(e,t,n,r,i,a){var o=1===n;return O(e,function(e,u,c){if(!i&&(o||y(e))&&!r)return i={IV:e},void(r=!0);var l=[{key:u,value:e}].concat(a);i=o||y(e)?{IV:t(i.IV,e,u,c,l)}:H(e,t,n-1,r,i,l)}),i}function z(e,t,n,r){var i=1===n;return O(e,function(e,a,o){var u=[{key:a,value:e}].concat(r);if(i||y(e)?t(e,a,o,u):z(e,t,n-1,u))return!0})||!1}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){return n[e].apply(n,_(t))}}function G(){}function J(e){return function(t){var n=t[e];return n}}function Q(){return arguments[0]}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+(t-e)*Math.random()}function Y(e,t){if(T([e,t],["intLike","intLike"],"random"),t<=e)throw new Error("The second argument must be greater than the first!","random");return Math.floor(Z(e,t+1))}function X(e,t){return d(e)||d(t)?d(e)?d(t)?f(e)&&f(t)?0:f(e)?-1:f(t)?1:e-t:1:-1:0}function K(e,t){T([e,t],[["intLike",">=0"],"function||!"],"array");for(var n=[],r=0;r<e;r++)n.push(t?t(r):r);return new Zt(n)}function ee(e,t){T([e,t],[["intLike",">=0"],"function"],"iterate");for(var n=0;n<e;n++)t(n)}function te(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(e)||(e=[e]),new en(new Blob(e,n))}function ne(e){return e.replace(/^[\s\-_.]+|[\s\-_.]+$/g,"")}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(arguments.length<=1)return x(JSON.parse(e));c(t)&&(n=t,t={});var r=t,i=r.numbers,a=r.dates,o=JSON.parse(e,function(e,t){return a&&/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ?$/.test(t)?t=new Date(t):i&&p(t)&&$(t)&&(t=Number(t)),n?n.apply(this,arguments):t});return x(o)}function ie(e,t){var n=t.name,r=void 0;r=fn(n)?new qt({"tag-close":e.match(ae(n))}):on.map(function(t){return e.match(t)});var i=void 0;if(i=r.find(function(e){return e&&0===e.index})){var a={type:i.key,index:i.value[0].length,value:i.value[1]},o={};if("tag-open"===i.key){var u=e,c=void 0;for(a.selfClosing=!1,a.attrs=o;(e=u.slice(a.index))&&!(c=e.match(un));){var l=e.match(cn);l?(o[l[1]]=(l[2]||"").replace(/^("|')|("|')$/g,""),a.index+=l[0].length):a.index+=1}c&&(a.index+=c[0].length,a.selfClosing=!!c[1])}return a}var s=r.min(function(e){return e?e.index:NaN}),f=s.value;return f===1/0&&(f=e.length),{type:"text",index:f,value:e.slice(0,f)}}function ae(e){return new RegExp("</("+e+")\\s*>","i")}function oe(e,t){return t+' (~~~ "'+e.slice(t,t+15)+'" ~~~, the string itself is "'+e+'")'}function ue(e){return e.replace(/&(\w+|#x?\d+);/g,function(e){return ln.innerHTML=e,ln.textContent||ln.innerText})}function ce(e){return le(e)?e:($(e)&&(e=ye(e)),new Ln(e))}function le(e){return e instanceof Ln}function se(t){return"Window"===e(t)}function fe(t){return"HTMLDocument"===e(t)}function he(t){return"DocumentFragment"===e(t)}function ve(t){return"CSSStyleRule"===e(t)}function de(t){var n=e(t);return"Comment"===n||"Text"===n}function pe(e){return o(e.$[0])?e.$[0]:gn}function ge(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||""}function me(e){({}).hasOwnProperty.call(e,"dwayneData")||se(e)?se(e)&&!kn.some(function(t){var n=t.element;return n===e})&&kn.push({element:e,listeners:{}}):Object.defineProperty(e,"dwayneData",{value:{previousDisplay:"",listeners:{},ctx:"canvas"===ge(e)&&e.getContext("2d"),validators:new Zt([])}})}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;return new Ln(o(t)||fe(t)?t.querySelectorAll(String(e)):[])}function we(e,t){var n=dn(e,t),r=Dn.template(),i=new Ln(r.$[0].content);return n.forEach(function e(t){var n=t.name,r=t.attrs,a=t.value,o=t.parent,u=t.children,c=o.elem||i,l=c.create(n);t.elem=l,a&&l.text(a),r&&l.attr(r),"template"===n&&(t.elem=new Ln(l.prop("content"))),u&&u.forEach(e)}),new Ln(i)}function $e(e){return Number(String(e).replace(/px$/,""))}function ke(e){var t=function(e){function t(){var e,n,r,i;Ot(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.elems=null,i=n,Ct(r,i)}return Tt(t,e),Et(t,[{key:"afterConstruct",value:function(){var e=this.$$.parent.children,t=this.args.name,n=void 0;t?(n=e.find(function(e){var n=e.name;return n==="d-block-"+t}),n&&n.value.children.length&&(this.elems=n.value.children)):this.elems=e}}]),t}(e);return t.template='<d-elements value="{elems}" />',{name:"d-block",value:t}}function be(e,t){var n=function(e){function n(e){Ot(this,n);var t=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),r=t.args,i=r.item,a=void 0===i?"$item":i,o=r.index,u=void 0===o?"$index":o;return E(t.$$,{uids:new qt({}),items:new Zt([]),UID:String(t.args.uid),itemName:a,indexName:u}),t}return Tt(n,e),Et(n,[{key:"afterRender",value:function(){var e=this;this.constructValues(this.args.set),this.watchArgs("set",function(t){e.constructValues(t)})}},{key:"constructValues",value:function(e){var n=this,r=this.$$,i=r.elems,a=i.start,o=i.parent,u=r.uids,c=r.parent,l=r.scope,s=r.itemName,f=r.indexName,h=r.UID,v=this.children,d=u.$,p={},g={};new qt(e).forEach(function(e,t){l[s]=e,l[f]=t;var r=c.$$.evaluate(String(h),null,null,!1,!1,n);p[r]=p[r]||{},p[r][t]=!0,g[t]=r}),l[s]=null,l[f]=null,u.forEach(function(e,t){return p[t]?void e.splice(Object.keys(p[t]).length).forEach(function(e){e.remove()}):void e.forEach(function(e){e.remove()})});var m=a;new qt(e).forEach(function(e,r){var i=g[r],a=void 0;d[i]&&d[i].length?(a=p[i][r]=u.$[i].shift(),a.$$.scope[f]=r,a.$$.scope[s]=e):a=p[i][r]=t({node:{itemName:s,indexName:f,item:e,index:r,name:"#d-item",block:c,children:v},after:m,parent:o,parentBlock:n,parentScope:c});var l=a.$$.elems,h=l.start,y=l.end;if(h.prev().$[0]!==m.$[0]){var w=a.$$.elems.content;new Ln([h,w,y]).insertAfter(m)}m=y}),this.$$.uids=new qt(p).map(function(e){return new qt(e).values()})}}]),n}(e);return{name:"d-each",value:n}}function xe(e,t){var n=function(n){function r(){return Ot(this,r),Ct(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return Tt(r,n),Et(r,[{key:"afterConstruct",value:function(){var n=this;this.watchArgs("value",function(r){var i=n.$$,a=i.children,o=i.mixins,u=i.watchersToRemove,c=i.elems,l=c.start,s=c.content,f=c.parent,h=l;a.forEach(function(e){e.remove(!0)}),o.forEach(function(e){e.remove(!0)}),s.remove(),n.$$.children=new Zt([]),n.$$.mixins=new Zt([]),n.$$.watchersToRemove=u.filter(function(e){var t=e.watchers,n=e.watcher,r=e.forDElements;if(r)return!0;var i=t.indexOf(n);i!==-1&&t.splice(i,1)});var v=new Ln;new Zt(r||[]).forEach(function(r){var i=t({node:r,after:h,parent:f,parentBlock:n,parentScope:n});if(i instanceof e){var a=i.$$.elems;h=a.end,v.add(a.start,a.content,a.end)}else h=i,v.add(i)}),n.$$.elems.content=v})}}]),r}(e);return{name:"d-elements",value:n}}function Oe(e){var t=function(e){function t(){var e,n,r,i;Ot(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.index=1/0,r.elems=null,r.values=r.children.map(function(e,t){var n=e.name,i=e.attrs,a=e.children,o=r.evaluateAndWatch("d-else"===n?"{true}":i.if||"{true}",function(e){if(!!e!==r.values.$[t]&&(r.values.$[t]=!!e,!(t>r.index))){if(t<r.index)return r.index=t,void(r.elems=a);var n=r.values.find(Boolean);n?(r.index=n.key,r.elems=r.children.$[n.key].children):(r.index=1/0,r.elems=null)}});return o&&r.index===1/0&&(r.index=t,r.elems=a),o}),i=n,Ct(r,i)}return Tt(t,e),t}(e);return t.template='<d-elements value="{elems}"/>',{name:"d-if",value:t}}function Ee(e){var t=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),t}(e);return t.template='<d-elements value="{children}"/>',{name:"#d-item",value:t}}function Se(e){var t=function(e){function t(e){Ot(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.index=1/0,n.elems=null;var r=n.args,i=n.args.value,a=void 0;return n.values=n.children.object(function(e,t,o){var u=t.name,c=t.attrs,l=t.children;if(!a&&("d-case"===u||"d-default"===u)){"d-default"===u&&(a=!0);var s=void 0;s="d-default"===u?r.value:n.evaluateAndWatch(c.if||"{undefined}",function(e){if(!(n.equals(n.values.$[o].value,e)||(n.values.$[o].value=e,o>n.index))){if(o<n.index)return n.index=o,void(n.elems=l);var t=n.values.find(function(e){var t=e.value;return n.equals(t,r.value)});t?(n.index=t.key,n.elems=t.value.children):(n.index=1/0,n.elems=null)}}),n.equals(s,i)&&n.index===1/0&&(n.index=o,n.elems=l),e.push({name:u,children:l,value:s})}},new Zt([])),n}return Tt(t,e),Et(t,[{key:"afterConstruct",value:function(){var e=this;this.watchArgs("value",function(t){e.index=1/0,e.values.forEach(function(n,r){var i=n.name,a=n.value,o=n.children,u="d-default"===i?t:a;e.equals(u,t)&&e.index===1/0&&(e.index=r,e.elems=o)})})}},{key:"equals",value:function(e,t){return new qt(e).equals(t)}}]),t}(e);return t.template='<d-elements value="{elems}"/>',{name:"d-switch",value:t}}function je(e){var t=function(e){function t(){var e,n,r,i;Ot(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.text="",i=n,Ct(r,i)}return Tt(t,e),Et(t,[{key:"afterConstruct",value:function(){var e=this;this.text=v(this.args.value)?"":this.args.value,this.watchArgs("value",function(t){e.text=v(t)?"":t})}}]),t}(e);return t.template="<d-elements value=\"{[{ name: '#text', value: text }]}\"/>",{name:"d-text",value:t}}function _e(e){var t=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Et(t,[{key:"afterUpdate",value:function(e,t){var n=this.elem;e=new qt(e).$,new qt(t).forEach(function(t,r){e[r]||n.removeAttr(r)}),n.attr(e)}}]),t}(e);return{name:"d-attr",value:t}}function Te(e){var t=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Et(t,[{key:"afterUpdate",value:function(e){this.off&&this.off(),c(e)&&(this.off=this.elem.on(this.match[0],e))}}]),t}(e);return{name:"d-bind",value:t}}function Re(e){var n=function(e){function n(){var e,t,r,i;Ot(this,n);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return t=r=Ct(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),r.classes=[],i=t,Ct(r,i)}return Tt(n,e),Et(n,[{key:"afterUpdate",value:function(e){var n=this.elem,r=this.classes,i=[];e=new qt(e).$,$(e)&&(e=e.split(/\s+/)),t(e)?(O(r,function(t){e.indexOf(t)===-1&&n.removeClass(t)}),O(e,function(e){$(e)&&(i.push(e),n.addClass(e))})):(O(r,function(t){e[t]||n.removeClass(t)}),O(e,function(e,t){e&&(i.push(t),n.addClass(t))})),this.classes=i}}]),n}(e);return{name:"d-class",value:n}}function Ce(e){var t=function(e){function t(e){Ot(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.$$.parent,i=n.evaluateOnce();return c(i)?i(n.elem):$(i)&&(r[i]=n.elem),n}return Tt(t,e),t}(e);return t.evaluate=!1,{name:"d-elem",value:t}}function Ae(e){var t=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Et(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.hide():t.show()}}]),t}(e);return{name:"d-hide",value:t}}function Le(e){var t=function(e){function t(e){Ot(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.elem.on(n.match[0],function(){n.evaluateOnce()}),n}return Tt(t,e),t}(e);return t.evaluate=!1,{name:"d-on",value:t}}function Pe(e){var t=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Et(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.show():t.hide()}}]),t}(e);return{name:"d-show",value:t}}function De(e){var t=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Et(t,[{key:"afterUpdate",value:function(e,t){var n=this.elem;e=new qt(e).$,new qt(t).forEach(function(t,r){e[r]||n.removeCSS(r)}),n.css(e)}}]),t}(e);return{name:"d-style",value:t}}function Ne(e){var t=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Et(t,[{key:"afterUpdate",value:function(e){this.elem.text(v(e)?"":""+e)}}]),t}(e);return{name:"d-text",value:t}}function Me(e){var t=function(e){function t(e){Ot(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.elem,i=n.match,a=n.evaluateOnce();return c(a)&&r.validate(a),a===!0&&"on-change"===i&&1===r.$$.dwayneData.validators.length&&r.on(Fn(r.name,[r.prop("type")]),function(){r.validate()}),n}return Tt(t,e),t}(e);return t.evaluate=!1,{name:"d-validate",value:t}}function Ue(e){var t=function(e){function t(e){Ot(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.$$,i=r._value,a=r.parent,o=n.elem,u=o.prop("type");n.prop=Wn(o.name,[u,o]),n.type=u;var c=a.$$.evaluate("{"+i+"}",function(e){n.setProp(e)},n),l=n.getProp(c);return v(c)||"checkbox"===u?a[i]=l:n.setProp(c),o.on(Vn(o.name,[u]),function(e){e.target===o.$[0]&&(a[i]=n.getProp(a[i]))}),n}return Tt(t,e),Et(t,[{key:"setProp",value:function(e){var t=this.elem,n=this.prop,r=this.type;"text"===n?t.text(e):t.prop(n,Hn(t.name,[e,r,t.$[0].value]))}},{key:"getProp",value:function(e){var t=this.elem,n=this.prop,r=this.type;return"text"===n?t.text():zn(t.name,[t.prop(n),r,t.$[0].value,e])}}]),t}(e);return t.evaluate=!1,{name:"d-value",value:t}}function Be(){var e=ye("d-root").first();if(!e.length)throw new Error("No d-root element is found! (initApp)");qe(ur,Jn),O(cr,function(e,t){if("evaluate"!==t){if(!c(e))return void console.warn('The "'+t+'" mixin is not a function and will not be registered (initApp)');if(!Xn.test(t))return void console.warn('Name "'+t+'" is not allowed for mixins so the mixin will not be registered (initApp)');if(!Ge(e))return void console.warn('The "'+t+'" mixin does not extend Mixin and will not be registered (initApp)');Qn[t]=e,j(e,{_match:new RegExp("^"+t+"(?:-([\\s\\S]+))?$")})}});var t=e.attr("block");if(!Jn[t])throw new Error('No "'+t+'" block is registered! (initApp)');var n=Dn.createComment(" d-root: start "),r=e.parent();n.add(Dn.createComment(" d-root: end ")),e.replace(n),Fe({node:{name:t,attrs:{},children:new Zt([])},after:n.first(),parent:r})}function qe(e,t){O(e,function(e,n){if("collapseWhiteSpace"!==n&&"defaultArgs"!==n&&"template"!==n&&"wrap"!==n){if(!c(e))return void console.warn('The "'+n+'" block is not a function and will not be registered (initApp)');if(!Yn.test(n)&&"#d-item"!==n)return void console.warn('Name "'+n+'" is not allowed for blocks so the block will not be registered (initApp)');if(!Ve(e))return void console.warn('The "'+n+'" block does not extend Block and will not be registered (initApp)');var r=Object.create(t);t[n]={block:e,html:He(dn(""+(e.template||""),e.collapseWhiteSpace)),children:r},qe(e,r)}})}function Ie(e,t){O(e,function(e){var n=e(t,Fe),r=n.name,i=n.value;Object.defineProperty(t,r,{value:i,enumerable:!0})})}function Fe(e){var t=e.node,n=e.after,r=e.parent,i=e.parentBlock,a=e.parentScope;a=t&&t.block||a;var o=t&&t.name||"UnknownBlock",u=t&&t.attrs||{},c=t&&t.children||new Zt([]),l=r.prop("namespaceURI")===nr?Dn.svg():new Ln(Dn.template().$[0].content),s=a?a.$$.Block.children:Jn,f=t&&t.name&&s[t.name]?s[t.name].block:null,h=void 0;if(!c.length&&(h=o.match(/^d-block-([\s\S]+)$/)||"d-block"===o)&&(f=Jn["d-block"].block,u.name=h?h[1]:null),!f){var d=function(){var e=t.value,c=t.children;if("#text"===o&&Kn.test(e))return{v:Fe({node:{name:"d-text",attrs:{value:e},children:new Zt([]),block:a},after:n,parent:r,parentBlock:i,parentScope:a})};var s=l.create(o),f=new Zt([]),h=new qt(u).object(function(e,t,n){var r=O(Qn,function(e,t){var r=n.match(e._match);if(r)return{match:r,name:t}});return r?void f.push({name:r.name,match:r.match,value:t,elem:s,parentBlock:i,parentScope:a}):void(e[n]=a.$$.evaluate(t,function(e){s.attr(n,e)},i))}).$;return v(e)||s.text(e),h&&s.attr(h),n.length?s.insertAfter(n):s.into(r),n=new Ln,c&&ze(c).forEach(function(e){var t=Fe({node:e,after:n,parent:s,parentBlock:i,parentScope:a});n=t instanceof ur?t.$$.elems.end:t}),f.forEach(function(e){We(e)}),{v:s}}();if("object"===("undefined"==typeof d?"undefined":xt(d)))return d.v}var p=t&&t.name?s[t.name]:null,g=new f({name:o,args:u,children:c,block:p,parent:r,parentBlock:i,parentScope:a});Object.defineProperties(g,{args:{value:g.args},global:{value:g.global}});var m="d-elements"===o?new Zt(g.args.value||[]):He(p.html,g);"d-elements"===o&&"#d-item"===i.$$.name&&(m=He(m,i));var y=g.$$,w=g.args,$=g.global,k=Rt(g,["$$","args","global"]),b=jt({},f.defaultArgs,w);if(delete k.$,delete k.$$,y.args=Qe(b),y.locals=Qe(k),y.global=Qe($,"global",a),"#d-item"===o){for(var x,E=(x={},St(x,t.itemName,t.item),St(x,t.indexName,t.index),x),S=g,j=a,_=void 0;!_&&(S=S.$$.parentBlock);)_="#d-item"===S.$$.name;_&&(j=S.$$.scope),y.Block=a.$$.Block,y.privateScope=Qe(E),Ze(y.scope=Object.create(j),E,y.privateScope)}"d-each"===o&&(y.scope=Object.create(a)),Ze(w,b,y.args),Ze($,$,y.global),Ze(g,k,y.locals);try{g.afterConstruct()}catch(e){console.error("Uncaught error in "+o+"#afterConstruct:",e)}var T=new Ln([y.elems.start,y.elems.end]);n.length?T.insertAfter(n):T.into(r),n=y.elems.start,ze(m).forEach(function(e){var t=Fe({node:e,after:n,parent:r,parentBlock:g,parentScope:a});if(t instanceof ur){var i=t.$$.elems;n=i.end,y.elems.content.add(i.start,i.content,i.end)}else n=t,y.elems.content.add(t)});try{g.afterRender()}catch(e){console.error("Uncaught error in "+o+"#afterRender:",e)}return g}function We(e){var t=e.name,n=e.value,r=e.match,i=e.elem,a=e.parentBlock,o=e.parentScope,u=Qn[t];new u({value:n,match:r,elem:i,parentBlock:a,parentScope:o})}function He(e,t){return new Zt(e||[]).map(function(e){var n=e.name,r=e.attrs,i=e.value,a=e.children,o={name:n,value:i,attrs:jt({},r)};return t&&(o.block=t),a&&(o.children=He(a,t)),o})}function ze(e){return new Zt(e||[]).concat({}).object(function(e,t){var n=t.name,r=e.html,i=e.ifElse;"d-else-if"!==n&&"d-else"!==n?(i&&(r.push({name:"d-if",block:i.$[0].block,children:i}),e.ifElse=null),"d-if"===n?e.ifElse=new Zt([t]):b(n)||r.push(t)):((i||r).push(t),"d-else"===n&&i&&(r.push({name:"d-if",block:i.$[0].block,children:i}),e.ifElse=null))},{html:new Zt([]),ifElse:null}).$.html}function Ve(e){return Zn.call(ur,e)&&Zn.call(ur.prototype,e.prototype)}function Ge(e){return Zn.call(cr,e)&&Zn.call(cr.prototype,e.prototype)}function Je(e){e.forEach(function(e){var t=e.watcher,n=e.watchers,r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Qe(e,t,n){var r={};return"global"===t&&(r=Object.create(n?n.$$.global:null)),new qt(e).object(function(e,t,n){e[n]={value:t,watchers:{temp:new Zt([]),perm:new Zt([])}}},r).$}function Ze(e,t,n){new qt(e).define(new qt(t).map(function(e,t){var r=n[t];return{get:function(){return ir&&ar.indexOf(r.watchers.temp)===-1&&ar.push(r.watchers.temp),r.value},set:function(e){if(e!==r.value){or||(or=[]);var t=r.watchers.temp.slice(),n=r.value;r.watchers.temp=new Zt([]),r.value=e,t.forEach(function(e){e.onRemove(),e()}),or.push({scope:r,oldValue:n,value:e}),setTimeout(function(){if(or){for(var e=new Zt([]);or.length;)for(var t=function(t){var n=or[t],r=n.scope,i=n.value,a=n.oldValue;r.watchers.perm.forEach(function(t){e.indexOf(t)===-1&&(t(i,a),e.push(t))}),or.splice(t,1)},n=or.length-1;n>=0;n--)t(n);or=null}},0)}}}}).$)}function Ye(e,t){var n=String(e),r=t-n.length;return r=r<0?0:r,lr.repeat(r).$+n}function Xe(){return Date.now()}function Ke(e){return arguments.length?(e=new qt(e).$,new yr(new Date(e))):new yr(new Date(Xe()))}function et(e){return wr.test(e)}function tt(e,t){return t?encodeURIComponent(e):e}function nt(e){var t=e.baseURL,n=e.data,r=e.headers,i=e.method,a=e.params,o=e.query,u=e.url,c=i.toUpperCase();e.method=c,e.url=kr(t,u,a,o),e.data=Er(n,c,r),e.headers=new qt(r).object(function(e,t,n){n=new rn(n).toCapitalCase().replace(/\s+/g,"-").$,e[n]=t.join(", ")}).$}function rt(){if(!Ir){if(Ir=!0,Gr=(Lr.find(function(e){var t=e.name;return t===Vr})||{}).value,Qr=(Lr.find(function(e){var t=e.name;return t===Jr})||{}).value,Vr&&!Gr)throw new Error('There is no specified fallback route ("'+Vr+'")! (at initRouter)');Lr.forEach(function(e){var t=e.parentName,n=e.name,r=t||zr,i=Lr.find(function(e){var t=e.name;return t===r})||{},a=i.value;if(!a)throw new Error('No such parent route ("'+r+'") found for the route ("'+n+'")! (at initRouter)');if(!a.abstract&&n!==zr)throw new Error('Parent route must be abstract (for "'+n+'")! (at initRouter)');n!==zr&&(e.parentName=r),e.parent=n===zr?ei:a}).forEach(function(e){var t=e.name,n=e.parent,r=n.params,i=n.query,a=n.path,o=e.params,u=e.query,c=e.relativeURL,l=e.relativePath,s=e,f=0,h=l,v="";if(w(a))throw new Error("URL regexp route cannot be extended! (at initRouter)");for(;s=s.parent;)f+=new qt(s.params).count,h=s.relativePath+h,v=s.relativeURL+v,s.children.push(e);if(h=new RegExp("^"+(h.replace(/\/+/g,"/").replace(/\/$/,"")||"/")+"$"),v=w(c)?h:(v+c).replace(/\/+/g,"/").replace(/\/$/,"")||"/",new qt(u).proto(i),new qt(o).proto(r).forEach(function(e,t,n){n[t]+=f}),t===Jr&&(new qt(o).count||new qt(u).count))throw new Error("Default route must not have URL or query params! (at initRouter)");e.url=v,e.validatePath=h}),ut(),Pn.on({popstate:function(){Mr.href!==qr&&(Fr=!0),Fr&&ut()},click:function(e){var t=new Ln(e.target).closest("a");t.length&&"_blank"!==t.attr("target")&&(e.preventDefault(),ot(t.attr("href")||"",!0))}})}}function it(e){function t(e){if(e.beforeLoadRoute&&!h)try{e.beforeLoadRoute()}catch(e){console.error("Uncaught error in "+i+"#beforeLeave:",e)}h=!0}function n(e){if(e.beforeLeaveRoute&&h)try{e.beforeLeaveRoute()}catch(e){console.error("Uncaught error in "+i+"#beforeLeave:",e)}h=!1}var r=e||{},i=r.name,a=r.path,o=r.abstract,u=r.root,c=r.fallbackTo,l=r.default;if(Ir)return console.warn("Router was already initialized (at makeRoute)"),Q;if(Wr&&u)throw new Error("There can't be two root routes (\""+zr+'" and "'+i+'")! (at makeRoute)');if(Hr&&l)throw new Error("There can't be two default routes (\""+Jr+'" and "'+i+'")! (at makeRoute)');if(!i)throw new Error('State must have a non-empty string "name" property! (at makeRoute)');if(Lr.some(function(e){var t=e.name;return t===i}))throw new Error('State must have unique "name" property! (at makeRoute)');if(u&&(Wr=!0,zr=i,e.parent=null,c&&(Vr=c)),l){if(Hr=!0,Jr=i,o)throw new Error("Default route can't be abstract! (at makeRoute)");if(w(a))throw new Error("Default route can't have a regexp path! (at makeRoute)")}var s=new Kr(e);Lr.push(s);var f=void 0,h=void 0;return function(e){var r,a;return a=r=function(e){function r(e){Ot(this,r);var a=Ct(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return u&&!function(){rt();var e={buildURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lr.find(function(t){var n=t.name;return n===e})||{},r=n.value;if(!r)throw new Error('There are no routes with name "'+e+'"! (at router.buildURL)');var i=r.url,a=r.encodeParams,o=r.encodeQuery;if(w(i))throw new Error("URL can be built only from the string URLs! (at router.buildURL)");var u=t.params,c=void 0===u?{}:u,l=t.query,s=void 0===l?{}:l,f=t.hash,h=void 0===f?"":f;return kr(Br,i,c,s,h,{params:a,query:o})},go:function(t,n){ot(e.buildURL(t,n),!0)},goToURL:function(e){ot(e,!0)},pushURL:function(e){st(e,!0)},redirect:function(t,n){ot(e.buildURL(t,n))},redirectToURL:function(e){ot(e)},replaceURL:function(e){st(e)}};a.global.router=e}(),a.__isCurrentRoute__=s===Zr||s.children.indexOf(Zr)!==-1,a.args.route=Yr,h=!1,f=at(i,function(){var e=s===Zr||s.children.indexOf(Zr)!==-1;e?t(a):n(a),a.args.route=Yr,a.__isCurrentRoute__=e}),a.__isCurrentRoute__&&t(a),a}return Tt(r,e),Et(r,[{key:"beforeRemove",value:function(){f(),f=null,n(this),_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"beforeRemove",this).call(this)}}]),r}(e),r.template='<div class="dwayne-route route-'+i+'" d-show="{__isCurrentRoute__}">'+e.template+"</div>",a}}function at(e,t){return Pr.$[e]=t,function(){Pr.delete(e)}}function ot(e,t){st(e,t),ut()}function ut(){var e=ct();if(e){var t=e;Zr=t.route,Yr=Rt(t,["route"]),E(Yr,{name:Zr.name,host:Mr.host,hostname:Mr.hostname,href:Mr.href,origin:Mr.origin,pathname:Mr.pathname,port:Mr.port,protocol:Mr.protocol,search:Mr.search})}else{if(Vr){var n=Gr,r=n.url,i=n.encodeParams,a=n.encodeQuery;return ot(kr(Br,r,{},{},"",{params:i,query:a}))}Zr=null,Yr=null}Pr.forEach(function(e){return e()})}function ct(){var e=Mr.pathname||"/",t=Mr.search||"",n=void 0;return Lr.some(function(r){if(!r.abstract){var i=r.url,a=r.validatePath,o=r.params,u=r.query,c=r.decodeParams,l=r.decodeQuery,s=Ar(l),f=new qt(s.query),h={},v=((e.replace(/\/$/,"")||"/")+(w(i)?t:"")).match(a);if(v){for(var d in u)if(!f.hasOwn(d)||!u[d].test(f.$[d]))return;v.shift();for(var p in o)h[p]=lt(v[o[p]],c);return n={route:r,params:h,query:f.$,hash:s.hash},!0}}}),n?n:Jr?jt({route:Qr,params:{}},Ar(Qr.decodeQuery)):void 0}function lt(e,t){return t?decodeURIComponent(e):e}function st(e,t){try{Nr[t?"pushState":"replaceState"](null,null,e),Fr=!0}catch(t){Mr.href=e}}function ft(e,t,n){var r=e.match(/^[a-z_$]+/i);if(!r)throw new Error(t);var i=r[0],a=e.slice(i.length),o=void 0;if(a&&(a.indexOf("(")||a.indexOf(")")!==a.length-1))throw new Error(n);return a&&(o=new RegExp(a.slice(1,-1))),{name:i,regexp:o}}var ht="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vt={"#":function(e,t){e.id(t)},".":function(e,t){e.addClass(t)},$:function(e,t,n){e.attr(t,n)},"@":function(e,t,n){e.css(t,n)},"&":function(e,t,n){e.html(n)},"*":function(e,t,n){e.text(n)},"-":{".":function(e,t){e.removeClass(t)},$:function(e,t){e.removeAttr(t)},"@":function(e,t){e.removeCSS(t)}}},dt=["createImageData","createLinearGradient","createPattern","createRadialGradient","getImageData","getLineDash","isPointInPath","isPointInStroke","measureText"],pt=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","resetTransform","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],gt=[[],[],[]],mt=["a","abbr","address","area","article","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","content","datalist","dd","del","details","dfn","dialog","div","dl","dt","element","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","ins","kbd","label","legend","li","link","main","mark","menu","menuitem","meta","meter","nav","noscript","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],yt=["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hatch","hatchpath","hkern","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","style","svg","switch","symbol","textPath","tref","tspan","unknown","use","view","vkern"],wt=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],$t="[a-z][a-z\\d\\-_.:!@#\\$%\\^&*()\\[\\]{}\\\\='\"]*",kt="[^\\u0000-\\u0020\\s\"'>/=]+",bt=[".","+","*","?","(",")","[","]","{","}","<",">","^","$","!","=",":","-","|",",","\\"],xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Et=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),St=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},Tt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Rt=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Ct=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},At=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lt=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Pt={">0":{check:function(e){return e>0},text:"$n argument must be positive!",error:RangeError},">=0":{check:function(e){return e>=0},text:"$n argument must be non-negative!",error:RangeError},"<0":{check:function(e){return e<0},text:"$n argument must be negative!",error:RangeError},"<=0":{check:function(e){return e<=0},text:"$n argument must be non-positive!",error:RangeError},"!!":{check:function(e){return!v(e)},text:"$n argument must be not null or undefined!",error:TypeError},array:{check:t,text:"$n argument must be an array!",error:TypeError},"array||!":{check:function(e){return t(e)||v(e)},text:"$n argument must be an array, or undefined, or null!",error:TypeError},arrayLike:{check:n,text:"$n argument must be array-like!",error:TypeError},"arrayLike||!":{check:function(e){return n(e)||v(e)},text:"$n argument must be array-like, or undefined, or null!",error:TypeError},date:{check:i,text:"$n argument must be a date!",error:TypeError},"date||!":{check:function(e){return i(e)||v(e)},text:"$n argument must be a date, or undefined, or null!",error:TypeError},dateLike:{check:a,text:"$n argument must be date-like!",error:TypeError},"dateLike||!":{check:function(e){return a(e)||v(e)},text:"$n argument must be date-like, or undefined, or null!",error:TypeError},function:{check:c,text:"$n argument must be a function!",error:TypeError},"function||!":{check:function(e){return c(e)||v(e)},text:"$n argument must be a function, or undefined, or null!",error:TypeError},int:{check:l,text:"$n argument must be an integer!",error:TypeError},"int||!":{check:function(e){return l(e)||v(e)},text:"$n argument must be an integer, or undefined, or null!",error:TypeError},intLike:{check:s,text:"$n argument must be integer-like!",error:TypeError},"intLike||!":{check:function(e){return s(e)||v(e)},text:"$n argument must be integer-like, or undefined, or null!",error:TypeError},number:{check:d,text:"$n argument must be a number!",error:TypeError},"number||!":{check:function(e){return d(e)||v(e)},text:"$n argument must be a number, or undefined, or null!",error:TypeError},numberLike:{check:p,text:"$n argument must be number-like!",error:TypeError},"numberLike||!":{check:function(e){return p(e)||v(e)},text:"$n argument must be number-like, or undefined, or null!",error:TypeError},object:{check:g,text:"$n argument must be an object!",error:TypeError},"object||!":{check:function(e){return g(e)||v(e)},text:"$n argument must be an object, or undefined, or null!",error:TypeError},regexp:{check:w,text:"$n argument must be a regular expression!",error:TypeError},"regexp||!":{check:function(e){return w(e)||v(e)},text:"$n argument must be a regular expression, or undefined, or null!",error:TypeError},string:{check:$,text:"$n argument must be a string!",error:TypeError},"string||!":{check:function(e){return $(e)||v(e)},text:"$n argument must be a string, or undefined, or null!",error:TypeError}},Dt=ht.Symbol||{toStringTag:"Symbol.toStringTag",iterator:Math.random().toString(36)},Nt=["1st","2nd","3rd","4th","5th","6th","7th"],Mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ot(this,e);for(var n={},r=0,i=t.length;r<i;r++){var a=t[r];if(!R(a))throw new Error("Each element of an array must be a single char! (in Alphabet)");n[a]=a}Object.defineProperty(this,"$$",{value:n})}return Et(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;r++){var a=t[r];if(!R(a))throw new Error("Each argument must be a single char! (in Alphabet#add)");this.$$[a]=a}return this}},{key:"contains",value:function(e){T([e],["string"],"Alphabet#contains");for(var t=this.$$,n=0,r=e.length;n<r;n++)if(!t[e[n]])return!1;return!0}},{key:"delete",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;r++){var a=t[r];if(!R(a))throw new Error("Each argument must be a single char! (in Alphabet#delete)");delete this.$$[a]}return this}},{key:"get",value:function(){return Object.keys(this.$$)}},{key:"token",value:function e(t){T([t],[["intLike",">0"]],"Alphabet#token");for(var n=Object.keys(this.$$),r=n.length,e="",i=0;i<t;i++)e+=n[Math.floor(Math.random()*r)];return e}}]),e}();j(Mt.prototype,St({},Dt.toStringTag,"Alphabet"));var Ut=function(e){function n(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.$$,i=r.mode,a=r.default,o=r.cases,u=O(o,function(e){var n=e.value,r=e.case;if("boolean"===i&&r||"equals"===i&&r==t||"strictEquals"===i&&r===t||"call"===i&&r(t))return{case:r,value:n}});return b(u)&&(u={value:a}),c(u.value)?(n=_(n,!0),n.push(t,u.case),u.value.apply(null,n)):u.value}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"equals",a=arguments[2];Ot(this,n);var o=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));$(r)&&(b(arguments[1])||(a=i),i=r,r={});var u=[];return O(r,function(e,t){u.push({case:t,value:e})}),Object.defineProperty(e,"$$",{value:{cases:u,mode:i,default:a}}),Object.setPrototypeOf(e,n.prototype),t=e,Ct(o,t)}return Tt(n,e),Et(n,[{key:"case",value:function(e,n){var r=this;return t(e)||(e=[e]),O(e,function(e){r.$$.cases.push({case:e,value:n})}),this}},{key:"default",value:function(e){return this.$$.default=e,this}},{key:"mode",value:function(e){return this.$$.mode=e,this}}]),n}(Function);j(Ut.prototype,St({},Dt.toStringTag,"Switcher"));var Bt=A("call",function(e){return e}).case(function(e){return new qt(e)===e},function(e){return new(Object.getPrototypeOf(e).constructor)(new qt(e.$).deepClone().$)}).case(o,function(e,t){return e.clone(t)}).case(i,function(e){return new Date(e)}).case(w,function(e){return new RegExp(e.source,e.toString().match(/[gimuy]*$/)[0])}).case(t,function(){return[]}).case(m,function(){return{}}),qt=function(){function r(e){return Ot(this,r),e instanceof r?e:void Object.defineProperty(this,"$",{value:e})}return Et(r,[{key:"assign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.$;return O(i&&arguments,function(e){O(new r(e).$,function(e,t){i[t]=e})}),this}},{key:"average",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#average"),this.sum(e)/this.count}},{key:"call",value:function(e){T([e],["function"],"Super#call");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},{key:"clone",value:function e(){var t=this.$,e=Bt(t,[t,!1]);return e!==t&&O(t,function(t,n){e[n]=t}),new this.constructor(e)}},{key:"create",value:function(e){return x(y(this.$)?void 0:Object.create(this.$,e))}},{key:"deepAssign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.$;return y(r)?this:(O(arguments,function(e){P(r,e)}),this)}},{key:"deepClone",value:function(){return new this.constructor(D(this.$))}},{key:"deepEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return N(this.$,e,!1)}},{key:"deepEvery",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepEvery"),t=Number(t),M(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepFilter",value:function(e,t){1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepFilter");var n=U(this.$,e,t,[{key:null,value:this.$}]);return x(v(n)?n:n||{})}},{key:"deepFind",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepFind"),B(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepForEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),q(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepForEachEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),I(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepFreeze",value:function(){return F(this.$),this}},{key:"deepMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepMap"),t=Number(t),x(W(this.$,e,t,[{key:null,value:this.$}]))}},{key:"deepReduce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments[2];T([e,t],["function",["numberLike",">0"]],"Super#deepReduce"),t=Number(t);var r=this.$,i=[{key:null,value:this.$}];return arguments.length<3?H(r,e,t,!1,void 0,i).IV:H(r,e,t,!1,{IV:n},i).IV}},{key:"deepSome",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepSome"),t=Number(t),z(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepStrictEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return N(this.$,e,!0)}},{key:"define",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),e=new r(e).$,g(this.$)&&Object.defineProperties(this.$,e),this}},{key:"delete",value:function(){for(var e=this.$,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(e&&n,function(t){delete e[t]}),this}},{key:"equals",value:function(e){var t=this.$;return e=new r(e).$,t==e||f(t)&&f(e)}},{key:"every",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return T([e],["function"],"Super#every"),O(this.$,function(t,n,r){if(!e(t,n,r))return!1})!==!1}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;T([e],["function"],"Super#filter");var t=this.$,r=n(t),i=r?[]:v(t)?t:{};return O(t,function(n,a){e(n,a,t)&&(r?i.push(n):i[a]=n)}),x(i)}},{key:"find",value:function(e){return T([e],["function"],"Super#find"),O(this.$,function(t,n,r){if(e(t,n,r))return{key:n,value:t}})||null}},{key:"forEach",value:function(e){return T([e],["function"],"Super#forEach"),O(this.$,function(t,n,r){e(t,n,r)}),this}},{key:"freeze",value:function(){return Object.freeze(this.$),this}},{key:"get",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return O(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{get:e})}),this}},{key:"has",value:function(e){var t=this.$;return!!g(t)&&e in t}},{key:"hasOwn",value:function(e){var t=this.$;return!!g(t)&&{}.hasOwnProperty.call(t,e)}},{key:"instanceof",value:function(e){return this.$ instanceof e}},{key:"isFrozen",value:function(){return Object.isFrozen(this.$)}},{key:"json",value:function(e,n){return 1!==arguments.length||c(e)||t(e)||[].unshift.call(arguments,null),[].unshift.call(arguments,this.$),JSON.stringify.apply(JSON,arguments)}},{key:"keyOf",value:function(e){var t=O(this.$,function(t,n){if(t==e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keyOfStrict",value:function(e){var t=O(this.$,function(t,n){if(t===e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keys",value:function(){var e=this.$;return x(g(e)?Object.keys(e):[])}},{key:"map",value:function(e){T([e],["function"],"Super#map");var t=this.$,r=n(t)?[]:h(t)?null:{};return O(t,function(n,i){r[i]=e(n,i,t)}),x(r)}},{key:"max",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#max"),this.object(function(t,n,r,i){var a=Number(e?e(n,r,i):n);a>t.value&&(t.key=r,t.value=a)},{key:null,value:-(1/0)}).$}},{key:"min",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#min"),this.object(function(t,n,r,i){var a=Number(e?e(n,r,i):n);a<t.value&&(t.key=r,t.value=a)},{key:null,value:1/0}).$}},{key:"object",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T([e],["function"],"Super#object"),O(this.$,function(n,r,i){e(t,n,r,i)}),x(t)}},{key:"prop",value:function(e,t){return arguments.length<=1&&$(e)?this.$?this.$[e]:void 0:(arguments.length>=2&&(e=St({},e,t)),this.assign(e))}},{key:"propertyDescriptor",value:function(e){var t=this.$;return g(t)?Object.getOwnPropertyDescriptor(t,e):void 0}},{key:"propertyNames",value:function(){var e=this.$;return x(g(e)?Object.getOwnPropertyNames(e):[])}},{key:"propertySymbols",value:function(){var e=this.$;return x(g(e)?Object.getOwnPropertySymbols(e):[])}},{key:"proto",value:function(e){var t=this.$,n=!v(t);return arguments.length?(n&&(g(e)||h(e))&&Object.setPrototypeOf(t,e),this):n?new r(Object.getPrototypeOf(t)):new r}},{key:"reduce",value:function(e,t){T([e],["function"],"Super#reduce");var n=this.$,r=void 0;return 1===arguments.length&&O(n,function(e,n){return r=n,t=e,!0}),O(n,function(i,a){a!==r&&(t=e(t,i,a,n))}),t}},{key:"set",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return O(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{set:e})}),this}},{key:"some",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return T([e],["function"],"Super#some"),O(this.$,function(t,n,r){if(e(t,n,r))return!0})||!1}},{key:"strictEquals",value:function(e){var t=this.$;return e=new r(e).$,t===e||f(t)&&f(e)}},{key:"sum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#sum"),this.reduce(function(t,n,r,i){return t+Number(e?e(n,r,i):n)},0)}},{key:"toJSON",value:function(){return this.$}},{key:"value",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return O(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{value:e})}),this}},{key:"values",value:function(){var e=[];return O(this.$,function(t){e.push(t)}),x(e)}},{key:"word",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#word"),this.reduce(function(t,n,r,i){return t+String(e?e(n,r,i):n)},"")}},{key:"count",get:function(){var e=this.$;return g(e)?n(e)?e.length:Object.keys(e).length:0}},{key:"toStringTag",get:function(){return e(this.$)}},{key:"type",get:function(){return xt(this.$)}}],[{key:"addStaticProperties",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),j(this,e),this}},{key:"addInstanceProperties",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),j(this.prototype,e),this}}]),r}();j(qt.prototype,St({},Dt.toStringTag,"Super")),gt[0].push({check:function(){return!0},cls:qt});var It={},Ft=Dt.iterator,Wt=function(){function e(t){function n(t){"pending"===s.status&&!function(){s.status="rejected",s.value=t;for(var n=0,r=u.length;n<r;n++)s.handled=!0,u[n](t);var i=e.onUnhandledRejection,a=e.onError;c(a)&&a(t),setTimeout(function(){!s.handled&&c(i)&&i(t)},1)}()}function r(e){if("pending"===s.status){if(e&&c(e.then))return e.then(function(e){r(e)},function(e){n(e)});s.status="fulfilled",s.value=e;for(var t=0,i=o.length;t<i;t++)s.handled=!0,o[t](e)}}if(Ot(this,e),!c(t))throw new TypeError("Promise resolver "+{}.toString.call(t)+" is not a function");var i=void 0,a=void 0,o=[],u=[],l=this,s={handled:!1,get status(){return i},set status(e){i=e,l.status=e},get value(){return a},set value(e){a=e,l.value=e}};s.status="pending",s.value=void 0,j(this.$$={},{"get/set handled":{get:function(){return s.handled},set:function(e){e===It&&(s.handled=!0)}},handle:function(e,t,n,r,i){if(i===It){var a=c(t)?function(e){try{n(t(e))}catch(e){r(e)}}:null;"resolve"===e?o.push(a||function(e){return n(e)}):"reject"===e&&u.push(a||function(e){return r(e)})}},"get status":function(){return s.status},"get value":function(){return s.value}});try{t(r,n)}catch(e){n(e)}}return Et(e,[{key:"abort",value:function(){}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(t){var n=c(t);return this.then(function(r){return e.resolve(n?t(r,!0):0).then(function(){return r})},function(r){return e.resolve(n?t(r,!1):0).then(function(){return e.reject(r)})})}},{key:"then",value:function(t,n){var r=this.$$;if("pending"===r.status)return new e(function(e,i){r.handle("reject",n,e,i,It),r.handle("resolve",t,e,i,It)});r.handled=It;var i=r.value,a=void 0,o=void 0;if("fulfilled"===r.status?(a="resolve",o=t):(a="reject",o=n),!c(o))return e[a](i);try{return e.resolve(o(i))}catch(t){return e.reject(t)}}}],[{key:"all",value:function(t){var n=[],r=0;if(t[Ft])return t=t[Ft](),new e(function(i,a){for(var o=void 0,u=0,c=function(){var t=e.resolve(o.value);r++,function(e){t.then(function(t){r--,n[e]=t,setTimeout(function(){o.done&&!r&&i(n)},1)},a)}(u++)};!(o=t.next()).done;)c();if(!u)return e.resolve([])});var i=t.length;return i?(r=i,new e(function(a,o){for(var u=function(i){var u=e.resolve(t[i]);u.then(function(e){r--,n[i]=e,r||a(n)},o)},c=0;c<i;c++)u(c)})):e.resolve([])}},{key:"race",value:function(t){return t[Ft]?(t=t[Ft](),new e(function(e,n){for(var r=void 0;!(r=t.next()).done;)r.value.then(e,n)})):new e(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"resolve",value:function(t){return t&&c(t.then)?t:new e(function(e){e(t)})}}]),e}();Wt.onError=null,Wt.onUnhandledRejection=console.error.bind(console,"%s %o","Uncaught (in promise)"),j(Wt.prototype,St({},Dt.toStringTag,"Promise"));var Ht=function(e){function t(){function e(){var t=this,n=arguments;if(++e.$$.called<e.$$.canBeCalled){var i=function(){var i=e.$$,a=i.before,o=i.after,u=i.sync,c=i.contextLocked,l=e.$$,s=l.context,f=l.args,h=void 0;if(s=c?s:s||t,f=f.concat(_(n)),u)return O(a,function(t){f=t.call(s,_(f),e)}),h=r.apply(s,_(f)),O(o,function(t){h=t.call(s,h,e)}),{v:h};var v=Wt.resolve(f);return O(a,function(t){v=v.then(function(n){return t.call(s,_(n),e)})}),v=v.then(function(e){return r.apply(s,_(e))}),O(o,function(t){v=v.then(function(n){return t.call(s,n,e)})}),{v:v}}();if("object"===("undefined"==typeof i?"undefined":xt(i)))return i.v}}var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Ot(this,t);var i=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperty(e,"$$",{value:{after:[],args:[],argsLocked:[],before:[],called:0,canBeCalled:1/0,context:null,contextLocked:!1,sync:!0}}),Object.defineProperty(e,"$",{value:r}),Object.setPrototypeOf(e,t.prototype),n=e,Ct(i,n)}return Tt(t,e),Et(t,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Func#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"apply",value:function(e,t){return function(){}.apply.apply(this,arguments)}},{key:"async",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$$.sync=!e,this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Func#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"bind",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bindContext(e).bindArgs(n)}},{key:"bindArgs",value:function(e){var t=this.$$;return t.args=t.args.concat(_(e)),this}},{key:"bindContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e),this}},{key:"call",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){}.call.apply(this,arguments)}},{key:"canBeCalled",value:function(e){return this.$$.canBeCalled=e,this}},{key:"limitArgsTo",value:function(e){return this.before(function(t){return t.slice(0,e)},!1)}},{key:"lock",value:function(e,t){return this.lockContext(e).lockArgs(t)}},{key:"lockArgs",value:function(e){var t=this.$$;return t.args=t.argsLocked=t.argsLocked.concat(_(e)),this}},{key:"lockContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e,t.contextLocked=!0),this}},{key:"timing",value:function(e){return e=arguments.length?String(e):this.$.name||"anonymous",this.before(function(t){return console.time(e),t},!1),this.after(function(t){return console.timeEnd(e),t},!1),this}},{key:"toString",value:function(){return function(){}.toString.call(this.$)}},{key:"unbind",value:function(){return this.unbindContext().unbindArgs()}},{key:"unbindArgs",value:function(){var e=this.$$;return e.args=e.argsLocked,this}},{key:"unbindContext",value:function(){var e=this.$$;return e.contextLocked||(e.context=null),this}},{key:"called",get:function(){return this.$$.called}}]),t}(qt);j(Ht.prototype,St({},Dt.toStringTag,"Func")),gt[1].push({check:c,cls:Ht});var zt=Math.PI/180,Vt=180/Math.PI,Gt=Math.LN2,Jt=Math.LN10,Qt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,+e))}return Tt(t,e),Et(t,[{key:"acos",value:function(e){return(e?Vt:1)*Math.acos(this.$)}},{key:"asin",value:function(e){return(e?Vt:1)*Math.asin(this.$)}},{key:"atan",value:function(e){return(e?Vt:1)*Math.atan(this.$)}},{key:"cos",value:function(e){return Math.cos((e?zt:1)*this.$)}},{key:"interval",value:function(e){function t(){return i=!0,clearTimeout(a)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];T([e],["function"],"Num#interval"),e=new Ht(e).bindContext({abort:t}),n=_(n);var r=this.$,i=void 0,a=setTimeout(function t(){i||(e.apply(null,n),i||(a=setTimeout(t,r)))},0);return t}},{key:"log",value:function(e){return Math.log(e)/Math.log(this.$)}},{key:"pow",value:function(e){return Math.pow(this.$,e)}},{key:"root",value:function(e){return Math.pow(this.$,1/e)}},{key:"sin",value:function(e){return Math.sin((e?zt:1)*this.$)}},{key:"tan",value:function(e){return Math.tan((e?zt:1)*this.$)}},{key:"timeout",value:function e(t){var n=this,e=void 0,r=void 0,i=new Wt(function(i,a){r=a,e=setTimeout(i,n.$,t)});return i.abort=function(){return clearTimeout(e),r(new Error("Timeout was aborted")),this},i}},{key:"toBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.$.toString(e)}},{key:"toExponential",value:function(e){return this.$.toExponential(e)}},{key:"toFixed",value:function(e){return this.$.toFixed(e)}},{key:"toPrecision",value:function(e){return this.$.toPrecision(e)}},{key:"valueOf",value:function(){return Number(this.$)}},{key:"abs",get:function(){return Math.abs(this.$)}},{key:"acosh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e-1))}},{key:"asinh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e+1))}},{key:"atanh",get:function(){var e=this.$;return Math.log((1+e)/(1-e))/2}},{key:"cbrt",get:function(){var e=Math.pow(Math.abs(this.$),1/3);return this.$>0?e:-e}},{key:"ceil",get:function(){return Math.ceil(this.$)}},{key:"cosh",get:function(){var e=this.exp;return(e+1/e)/2}},{key:"cube",get:function(){return this.$*this.$*this.$}},{key:"exp",get:function(){return Math.exp(this.$)}},{key:"floor",get:function(){return Math.floor(this.$)}},{key:"ln",get:function(){return Math.log(this.$)}},{key:"log2",get:function(){return this.ln/Gt}},{key:"log10",get:function(){return this.ln/Jt}},{key:"round",get:function(){return Math.round(this.$)}},{key:"sign",get:function(){var e=this.$;return e?e>0?1:-1:e}},{key:"sinh",get:function(){var e=this.exp;return(e-1/e)/2}},{key:"sq",get:function(){return this.$*this.$}},{key:"sqrt",get:function(){return Math.sqrt(this.$)}},{key:"tanh",get:function(){var e=this.$;if(!u(e))return this.sign;var t=Math.exp(2*e);return(t-1)/(t+1)}}]),t}(qt);j(Qt.prototype,St({},Dt.toStringTag,"Num")),gt[1].push({check:d,cls:Qt});var Zt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_(e instanceof t?e.$:e)))}return Tt(t,e),Et(t,[{key:"concat",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=_(this.$,!0);return O(arguments,function(e){return e=new qt(e).$,n(e)&&!$(e)?void O(e,function(e){i.push(e)}):void i.push(e)}),new this.constructor(i)}},{key:"indexOf",value:function(e){var t=this.keyOf(e);return null===t?-1:Number(t)}},{key:"indexOfStrict",value:function(e){var t=this.keyOfStrict(e);return null===t?-1:Number(t)}},{key:"join",value:function(e){return this.$.join.apply(this.$,arguments)}},{key:"pop",value:function(){return this.$.pop()}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.push.apply(this.$,arguments),this}},{key:"random",value:function(){return this.$[Y(0,this.$.length-1)]}},{key:"reverse",value:function(){return this.$.reverse(),this}},{key:"shift",value:function(){return this.$.shift()}},{key:"shuffle",value:function(){var e=this.$.length;return this.forEach(function(t,n,r){var i=n+Math.floor((e-n)*Math.random());r[n]=r[i],r[i]=t})}},{key:"slice",value:function(e,t){return new this.constructor(this.$.slice.apply(this.$,arguments))}},{key:"sort",value:function(e){return T([e],["function||!"],"Arr#sort"),this.$.sort(e),this}},{key:"sortAsc",value:function(){return this.sort(X)}},{key:"sortDesc",value:function(){return this.sort(function(e,t){return X(t,e)})}},{key:"splice",value:function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return new t(this.$.splice.apply(this.$,arguments))}},{key:"string",value:function(){return this.join("")}},{key:"unshift",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.unshift.apply(this.$,arguments),this}},{key:"first",get:function(){return this.$[0]}},{key:"last",get:function(){var e=this.$;return e[e.length-1]}},{key:"length",get:function(){return this.$.length}}]),t}(qt);j(Zt.prototype,St({},Dt.toStringTag,"Arr")),gt[1].push({check:n,cls:Zt});var Yt={buffer:"ArrayBuffer",binary:"BinaryString",dataURL:"DataURL",text:"Text"},Xt=ht,Kt=Xt.URL,en=function(e){function t(){return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Et(t,[{key:"readAs",value:function(e,t){var n=this;if(!Yt[e])throw new Error("1st argument must be one of following values: buffer, binary, dataURL, text");var r=new FileReader,i=void 0;c(t)&&(r.onprogress=function(e){t(e,this)});var a=new Wt(function(t,a){i=a,r.onerror=function(e){var t=e.target;r&&a(t.error)},r.onload=function(e){var n=e.target;t(n.result)},r["readAs"+Yt[e]](n.$)});return a.abort=function(){return i(new Error("Reading was aborted")),r.abort(),r=null,this},a}},{key:"saveAs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"download",t=document.createElement("a");return t.href=this.dataURL,t.setAttribute("download",e),t.click(),this}},{key:"dataURL",get:function(){return Kt.createObjectURL(this.$)}}]),t}(qt);j(en.prototype,St({},Dt.toStringTag,"BlobObject")),gt[1].push({check:function(t){return/^(Blob|File)$/.test(e(t))},cls:en});var tn={"&":"&amp;","<":"&lt;",">":"&gt;"},nn=new RegExp(new qt(bt).word(function(e){return"\\"+e+"|"}).replace(/\|$/,""),"g"),rn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,""+e))}return Tt(t,e),Et(t,[{key:"capitalizeFirst",value:function(){var e=this.$;return new t(e.slice(0,1).toUpperCase()+e.slice(1))}},{key:"endsWith",value:function(e,n){return arguments.length<2&&(n=this.$.length),this.slice(0,n).revert().startsWith(new t(e).revert().$)}},{key:"escapeHTML",value:function(){var e=this.$;return O(tn,function(t,n){e=e.replace(new RegExp(n,"g"),t)}),new t(e)}},{key:"escapeRegExp",value:function(){return this.replace(nn,"\\$&")}},{key:"in",value:function(e){return!!g(e)&&this.$ in e}},{key:"indexOf",value:function(e,t){return this.$.indexOf.apply(this.$,arguments)}},{key:"lastIndexOf",value:function(e,t){return this.$.lastIndexOf.apply(this.$,arguments)}},{key:"match",value:function(e){return x(this.$.match.apply(this.$,arguments))}},{key:"repeat",value:function(e){T([e],[["intLike",">=0"]],"Str#repeat"),e=+e;for(var n=this.$,r="",i=0;i<e;i++)r+=n;return new t(r)}},{key:"replace",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new t(this.$.replace(e,n))}},{key:"replaceString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new qt(e).$,T([e],["string"],"Str#replaceString"),new t(this.$.split(e).join(n))}},{key:"revert",value:function(){for(var e=this.$,n="",r=e.length-1;r>=0;r--)n+=e[r];return new t(n)}},{key:"search",value:function(e){return T([e],["regexp"]),this.$.search.apply(this.$,arguments)}},{key:"slice",value:function(e,n){return new t(this.$.slice.apply(this.$,arguments))}},{key:"split",value:function(e){return x(this.$.split.apply(this.$,arguments))}},{key:"startsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.$.indexOf.apply(this.$,arguments)===t}},{key:"substr",value:function(e,n){return new t(this.$.substr.apply(this.$,arguments))}},{key:"substring",value:function(e,n){return new t(this.$.substring.apply(this.$,arguments))}},{key:"toCamelCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"-").replace(/-[^-]/g,function(e){return e[1].toUpperCase()}).replace(/^[\S]/,function(e){return e.toLowerCase()}))}},{key:"toCapitalCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s[\S]/g,function(e){return e.toUpperCase()}).replace(/\s+/g," ").replace(/^\s/,"").replace(/^[\S]/,function(e){
return e.toUpperCase()}))}},{key:"toDotCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,".").replace(/[^.]/g,function(e){return e.toLowerCase()===e?e:"."+e}).replace(/\.+/g,".").replace(/^\./,"").toLowerCase())}},{key:"toHyphenCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"-").replace(/[^-]/g,function(e){return e.toLowerCase()===e?e:"-"+e}).replace(/-+/g,"-").replace(/^-/,"").toLowerCase())}},{key:"toLowerCase",value:function(){return new t(this.$.toLowerCase())}},{key:"toSnakeCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"_").replace(/[^_]/g,function(e){return e.toLowerCase()===e?e:"_"+e}).replace(/_+/g,"_").replace(/^_/,"").toLowerCase())}},{key:"toSpaceCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s+/g," ").replace(/^\s/,"").toLowerCase())}},{key:"toString",value:function(){return this.$}},{key:"toUpperCase",value:function(){return new t(this.$.toUpperCase())}},{key:"trim",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+|[\s\ufeff\u00a0]+$/g,""))}},{key:"trimLeft",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+/,""))}},{key:"trimRight",value:function(){return new t(this.$.replace(/[\s\ufeff\u00a0]+$/,""))}},{key:"length",get:function(){return this.$.length}}]),t}(qt);j(rn.prototype,St({},Dt.toStringTag,"Str")),gt[2].push({check:$,cls:rn});var an="Please, submit an issue at https://github.com/dwaynejs/dwayne/issues.",on=new qt({"tag-open":new RegExp("<("+$t+")\\s*","i"),"tag-close":ae($t),comment:/<!--((?:-[^\->]|[^\->])(?:-?[^-])*[^-]?|)-->/}),un=/^(\/?)>/,cn=new RegExp("^("+kt+")(?:\\s*=\\s*('[^']*'|\"[^\"]*\"|[^\\s\"'`<>=]+))?\\s*"),ln=document.createElement("div"),sn=A("strictEquals",function(e){return e}).case("tag-open",function(e,t){var n=t,r=n.value,i=n.selfClosing;return t={name:r,attrs:new qt(t.attrs).map(function(e){return ue(e)}).$,parent:e,children:new Zt([])},e.children.push(t),i||wt.indexOf(r)!==-1||(e=t),e}).case("tag-close",function(e,t){return e.name===t.value&&(e=e.parent),e}).case(["comment","text"],function(e,t,n,r){var i={name:"#"+r,parent:e,value:t.value};return"text"===r&&"script"!==e.name&&"style"!==e.name&&(i.value=ue(i.value),n&&(i.value=new rn(i.value).trim().$)),n&&/^\s*$/.test(i.value)||e.children.push(i),e}),fn=A("strictEquals",!1).case(["title","textarea","style","script"],!0),hn=function e(t){Ot(this,e),this.index=t},vn=function(e){function t(){var e,n,r,i;Ot(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.type="PARSING_ERROR",i=n,Ct(r,i)}return Tt(t,e),t}(Error),dn=function(e,t){function n(){throw new vn("Unexpected parsing error near index "+oe(i,o)+". "+an)}t=!!t;for(var r=new Zt([]),i=e,a=void 0,o=0,u={name:null,children:r};e.length;){try{a=ie(e,u)}catch(e){throw e instanceof hn||n(),new vn("Parsing error near index "+oe(i,o+e.index))}var c=a,l=c.type,s=c.attrs,f=c.selfClosing,h=c.index,v=c.value;o+=h,h||n();var d={type:l,value:v};"tag-open"===l&&(d.attrs=s,d.selfClosing=f),u=sn(d.type,[u,d,t]),e=e.slice(h)}return r},pn=ht.document,gn=pn.createElement("div"),mn=/(,| ) */,yn=new qt(Node.prototype).propertyDescriptor("textContent")?"textContent":"innerText",wn={},$n={},kn=new Zt([]),bn="input, select, textarea, datalist, keygen, output",xn=(V("click"),"http://www.w3.org/2000/svg"),On="http://www.w3.org/2000/xmlns/",En="http://www.w3.org/1999/xlink",Sn="http://www.w3.org/1999/xhtml",jn=A("call",function(e,t){var n="svg"===t?xn:e.prop("namespaceURI")||pn.documentElement.namespaceURI||Sn;return pn.createElementNS(n,t)}).case(function(e){return"#comment"===e},function(){return pn.createComment("")}).case(function(e){return"#text"===e},function(){return pn.createTextNode("")}),_n=A("strictEquals","href").case(["img","script","iframe","audio","video"],"src").case("form","action"),Tn=A("call",function(e){return e}).case($,function(e){return function(t){return new Ln(t).is(e)}}).case([t,le],function(e){return e=new Zt(e),function(t){return e.indexOf(t)!==-1}}),Rn=A("strictEquals",0).case("padding-box",function(e){return e}).case("border-box",function(e,t){return e+t}),Cn=A("strictEquals",function(e,t){return e+t}).case("padding-box",function(e){return e}).case("border-box",0),An=A("call",null).case(function(e){return"xmlns"===e||"xmlns:xlink"===e},function(e){return"svg"===e.name?On:null}).case(function(e){return/^xlink:\w/.test(e)},function(e){return e.closest("svg").length?En:null}),Ln=function(t){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ot(this,r);var t=Ct(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,function(){var t=e;return n(t)&&(se(t)||fe(t)||he(t)||o(t)||de(t)||ve(t))&&(t=[t]),new Zt(_(new qt(t).$,!0)).object(function(e,t){return e.indexOf(t)===-1&&(o(t)||se(t)||fe(t)||he(t)||de(t)||ve(t))?e.push(t):void(le(t)&&e.push.apply(e,t.$))},[]).$}()));return t.$$=e,t.forEach(me),t}return Tt(r,t),Et(r,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(arguments,function(t){ce(t).forEach(function(t){e.indexOf(t)===-1&&e.push(t)})}),this}},{key:"addClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;O(o(t)&&e,function(e){return n.add(e)})})}},{key:"addComment",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){o(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin","<!--"+e+"-->")})}},{key:"addHTML",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){o(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin",e)})}},{key:"addRule",value:function(e,t,n){return this.some(function(r){if("style"===ge(r)){var i=r.sheet,a=i.cssRules.length,o=new qt(n).word(function(e,t){return new rn(t).toHyphenCase()+": "+e+";\n"});return i.insertRule(t+" {"+(o&&"\n")+o+"}",a),i.cssRules[a].dwayneData={name:e},!0}}),this}},{key:"addText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){new r(pn.createTextNode(e)).into(n,t)})}},{key:"apply",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=void 0,a=void 0,o=void 0,u=void 0,l=void 0,s=void 0;return new rn(new Zt(arguments).join(" ")).split(/(\s+)/).forEach(function(t){if(!i){if(l=t.slice(0,1),o=vt[l],s=1,o&&!c(o)&&(o=o[t.slice(1,2)],s=2),/^\s+$/.test(t)||!o)return;if(u=t.slice(s).match(/^[^()]+/),!u&&"*"!==l&&"&"!==l)return;i={name:u?u[0]:"",args:t.slice(s+(u?u[0]:"").length),callback:o},a=!0}a||(i.args+=t),i.args&&!/^\([\s\S]+\)$/.test(i.args)||(i.callback(e,i.name,i.args.replace(/^\(|\)$/g,"")),i=null),a=!1}),this}},{key:"attr",value:function(e,t){var n=pe(this);if(!arguments.length)return new qt(n.attributes).object(function(e,t){e[t.name]=t.value});if(arguments.length<=1&&$(e)){var i=An(e,[new r(n)]);return h(i)?n.getAttribute(e):n.getAttributeNS(i,e)}return arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){o(t)&&new qt(e).forEach(function(e,i){if(e=c(e)?e(new r(t).attr(i),t,n):e,v(e))return new r(t).removeAttr(i);var a=An(i,[new r(t)]);h(a)?t.setAttribute(i,e):t.setAttributeNS(a,i,e)})})}},{key:"blob",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wt(function(t,n){var i=e.first(),a=i.name;return"img"!==a&&"canvas"!==a&&n(new Error("First element in the set isn't an image or a canvas! (Elem#blob)")),"canvas"===a?t(i):void i.load().then(function(){if(i.isBroken())return n(new Error("The image is broken! (Elem#blob)"));var e=new r(pn).canvas(),a=i.width(),o=i.height();e.width(a).height(o).drawImage(i.$[0],0,0),t(e)})}).then(function(e){var n=e.dataURL(),r=atob(n.split(",")[1]),i=r.length,a=new ArrayBuffer(i),o=new Uint8Array(a);return ee(i,function(e){o[e]=r.charCodeAt(e)}),te(a,t)})}},{key:"blur",value:function(){return this.forEach(function(e){o(e)&&e.blur()})}},{key:"calcCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return getComputedStyle(pe(this),e)}},{key:"changeRule",value:function(e,t){return this.some(function(n){if("style"===ge(n)){var i=new Zt(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},a=i.value;if(a)return new r(a).css(t),!0}}),this}},{key:"child",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l(e)&&e>=0?this.children().elem(e):ce(e).into(this,t)}},{key:"children",value:function(){return new r(this.length?this.$[0].childNodes:[])}},{key:"class",value:function(e){return arguments.length?this.forEach(function(t){o(t)&&(t.className=e)}):new Zt(pe(this).className.split(" "))}},{key:"click",value:function(){return this.forEach(function(e){o(e)&&e.click()})}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.object(function(t,n){t.add(n.cloneNode(!!e))},new r)}},{key:"closest",value:function(e){return this.object(function(t,n){for(;n;){if(new r(n).is(e))return t.add(n);n=n.parentNode}},new r)}},{key:"contains",value:function(e){return e=ce(e),pe(this).contains(pe(e))}},{key:"create",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.object(function(t,i){var a=new r(jn(e,[new r(i)]));a.into(i),t.add(a.apply.apply(a,n))},new r)}},{key:"createComment",value:function(e){return this.create("#comment").text(e)}},{key:"createText",value:function(e){return this.create("#text").text(e)}},{key:"css",value:function(e,t){var n=pe(this).style;return ve(this.$[0])&&(n=this.$[0].style),arguments.length?arguments.length<=1&&$(e)?(e=new rn(e).toHyphenCase().$,n.getPropertyValue(e)+(n.getPropertyPriority(e)?" !important":"")):(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){(o(t)||ve(t))&&new qt(e).forEach(function(e,i){i=new rn(i).toHyphenCase().$,c(e)&&(e=e(new r(t).css(i),t,n)),t.style.removeProperty(i),t.style.setProperty(i,e.replace(/ ?!important$/,""),/!important$/.test(e)?"important":"")})})):new rn(n.cssText).split(/; ?/).object(function(t,n){n&&(e=n.split(/: /),t[new rn(e[0]).toCamelCase().$]=e[1])})}},{key:"ctx",value:function e(t,n){var e=void 0;return this.some(function(t){if("canvas"===ge(t))return e=t.dwayneData.ctx,!0}),arguments.length?e?(c(t)?t(e):(arguments.length>=2&&(t=St({},t,n)),E(e,t)),this):this:e}},{key:"data",value:function(e,t){var n=pe(this).dataset;return arguments.length?1===arguments.length&&$(e)?n[e]:(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){o(t)&&O(e,function(e,r){t.dataset[r]=c(e)?e(t.dataset[r],t,n):e})})):new qt(n).object(function(e,t,n){e[n]=t})}},{key:"dataURL",value:function(e,t){var n=this.ctx();return n?n.canvas.toDataURL.apply(n.canvas,arguments):""}},{key:"deleteRule",value:function(e){return this.some(function(t){if("style"===ge(t)){var n=new Zt(t.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e});if(n)return t.sheet.deleteRule(n.key),!0}}),this}},{key:"dispatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n||{},a=i.bubbles,u=void 0===a||a,c=i.cancelable,l=void 0===c||c,s=t;if(!/Event$/.test(e(s))){try{s=new Event(s,{bubbles:u,cancelable:l})}catch(e){s=pn.createEvent("Event"),s.initEvent(t,u,l)}E(s,r)}return this.forEach(function(e){o(e)&&e.dispatchEvent(s)})}},{key:"elem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(e=this.length+e),new r(this.$[e])}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return new r(_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"filter",this).call(this,Tn(e)))}},{key:"find",value:function(e){return $(e)?this.object(function(t,n){t.add(ye(e,n))},new r):_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"find",this).call(this,e)}},{key:"first",value:function(){return this.elem(0)}},{key:"firstChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var i=new r(n).children().find(function(t){return new r(t).is(e)})||{},a=i.value;t.add(a)},new r)}},{key:"focus",value:function(){return this.forEach(function(e){o(e)&&e.focus()})}},{key:"getRule",value:function(e){var t={selector:void 0,rules:{}};return this.some(function(n){if("style"===ge(n)){var i=new Zt(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},a=i.value;if(a)return t={selector:a.selectorText,rules:new r(a).css().$},!0}}),t}},{key:"hasAttr",value:function(e){var t=pe(this),n=An(e,[new r(t)]);return h(n)?t.hasAttribute(e):t.hasAttributeNS(n,e)}},{key:"hasClass",value:function(e){return pe(this).classList.contains(e)}},{key:"height",value:function(e){return this.prop.apply(this,new Zt(arguments).unshift("height").$)}},{key:"hide",value:function(){return this.forEach(function(e){e=new r(e);var t=e.css("display");t.indexOf("none")&&(e.prop("dwayneData").previousDisplay=t),e.css("display","none !important")})}},{key:"html",value:function(e){return arguments.length?this.forEach(function(t,n){o(t)&&(t.innerHTML=c(e)?e(t.innerHTML,t,n):e)}):pe(this).innerHTML}},{key:"id",value:function(e){return arguments.length?this.forEach(function(t){o(t)&&(t.id=e)}):pe(this).id}},{key:"insertAfter",value:function(e){e=ce(e).first();var t=e.parent();return t.length?(e=e.next().$[0],t=t.$[0],this.forEach(function(n){e?t.insertBefore(n,e):t.appendChild(n)})):this}},{key:"insertBefore",value:function(e){e=ce(e).first();var t=e.parent();return t.length?(e=e.$[0],t=t.$[0],this.forEach(function(n){t.insertBefore(n,e)})):this}},{key:"into",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=ce(e).$[0],!e||se(e)||fe(e)||de(e)?this:!t&&e.firstChild?this.slice().reverse().forEach(function(t){e.insertBefore(t,e.firstChild)}):this.forEach(function(t){e.appendChild(t)})}},{key:"is",value:function(e){if(h(e))return!0;var t=pe(this),n=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;if(!o(this.$[0]))return!1;try{return n.call(t,e)}catch(t){return console.error("Selector '"+e+"' is not a valid selector (Elem#is)"),!1}}},{key:"isBroken",value:function e(){var e=!1;return this.some(function(t){if("img"===ge(t))return e=!(!t.complete||t.naturalWidth&&t.naturalHeight),!0}),e}},{key:"isWithinDocument",value:function(){return 0!==this.first().closest("html").length}},{key:"last",value:function(){return this.elem(-1)}},{key:"lastChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var i=new r(n).children().reverse().find(function(t){return new r(t).is(e)})||{},a=i.value;t.add(a)},new r)}},{key:"load",value:function(){var e={proper:new r,broken:new r};return Wt.all(this.filter(function(e){return"img"===ge(e)}).map(function(t){var n=new r(t);return t.complete?void e[n.isBroken()?"broken":"proper"].push(t):new Wt(function(r){var i=n.on({load:function(){e.proper.add(t),i(),r()},error:function(){e.broken.add(t),i(),r()}})})}).$).then(function(){return e})}},{key:"moveAttr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$n[e],r=this.elem();return n&&r.length&&(arguments.length<2&&(t=n.attr(e)),n.removeAttr(e)),r.length&&($n[e]=r.attr(e,t)),this}},{key:"moveClass",value:function(e){var t=wn[e],n=this.elem();return t&&n.length&&t.removeClass(e),n.length&&(wn[e]=n.addClass(e)),this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.nextSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"off",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.dwayneData.listeners;O(e,function(e){O(e.split(mn),function(e){(n[e]||new qt).forEach(function(e){var t=e.removeListener;return t()})})})})}},{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],i=new qt({});return c(t)&&(n=t,t=null),$(e)&&(e=St({},e,n)),e=new qt(e).object(function(e,t,n){O(n.split(mn),function(n){e[n]=t})}),this.forEach(function(n){if(o(n)||se(n)||fe(n)){var a=(kn.find(function(e){var t=e.element;return t===n})||{}).value||n.dwayneData,u=a.listeners;e.forEach(function(e,a){var o=u[a]=u[a]||new qt({}).define("index",{value:0,configurable:!0,writable:!0}),c=o.prop("index");if(!o.has("listener")){var l=function(e){o.forEach(function(t){var i=t.selector,a=t.listener;new r(e.target).is(i)&&a.call(n,e,n,c)})};l.base=n,n.addEventListener(a,l,!1),o.define("listener",{value:l,configurable:!0,writable:!0})}var s=function(){o.delete(c),o.count||(n.removeEventListener(a,o.prop("listener"),!1),o.delete("listener"))};i.prop(a,(i.prop(a)||new Zt).push(s)),o.assign(St({index:c+1},c,{selector:t,listener:e,removeListener:s}))})}}),function(e){return arguments.length?void O(arguments,function(e){O(e.split(mn),function(e){i.has(e)&&(i.prop(e).forEach(function(e){return e()}),i.delete(e))})}):void i.forEach(function(e){e.forEach(function(e){return e()})})}}},{key:"parent",value:function(){return this.object(function(e,t){return e.add(t.parentNode)},new r)}},{key:"parentTree",value:function(){return this.object(function(e,t){for(;t=t.parentNode;)e.add(t)},new r)}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.previousSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"prop",value:function(e,t){return arguments.length<=1&&$(e)?this.$[0]?this.$[0][e]:void 0:(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){O(e,function(e,r){t[r]=c(e)?e(t[r],t,n):e})}))}},{key:"ref",value:function(e){return arguments.length?this.forEach(function(t){t=new r(t),t.attr(_n(t.name),e)}):this.attr(_n(this.name))}},{key:"remove",value:function(){return this.forEach(function(e){var t=e.parentNode;t&&t.removeChild(e)})}},{key:"removeAttr",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forEach(function(t){o(t)&&O(e,function(e){var n=An(e,[new r(t)]);h(n)?t.removeAttribute(e):t.removeAttributeNS(n,e)})})}},{key:"removeClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;O(o(t)&&e,function(e){return n.remove(e)})})}},{key:"removeCSS",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){o(t)&&O(e,function(e){t.style.removeProperty(e)})})}},{key:"replace",value:function(e){e=ce(e);var t=this.first().parent();if(!t.length)return this;var n=t,r="into",i=this.next().first().$[0],a=this.prev().first().$[0];i?(n=i,r="insertBefore"):a&&(n=a,r="insertAfter"),this.first().remove(),e[r](n)}},{key:"setOf",value:function(e,t,n){if(T({2:n},{2:["function"]},"Elem#setOf"),t=new qt(t).$,d(t)){try{T({1:t},{1:["intLike",">=0"]},"Elem#setOf")}catch(e){throw new Error("2nd argument must be either or non-negative integer, or object! (at Elem#setOf)")}t=K(t).$}return this.object(function(i,a,o){O(t,function(u,c){var l=new r(a).create(e);n(l.$[0],u,c,t,a,o),i.add(l)})},new r)}},{key:"show",value:function(){return this.forEach(function(e){var t=e,n=t.dwayneData;e=new r(e),0===e.css("display").indexOf("none")&&e.css("display",n.previousDisplay),n.previousDisplay=""})}},{key:"text",value:function(e){return arguments.length?this.forEach(function(t,n){var i=t[yn];new r(t).prop(yn,c(e)?e(i,t,n):e)}):this.prop(yn)}},{key:"toggleAttr",value:function(e,t){var n=arguments;return this.forEach(function(i){i=new r(i),(n.length<2?!i.hasAttr(e):t)?i.attr(e,""):i.removeAttr(e)})}},{key:"toggleClass",value:function(e,t){return(arguments.length<2?!this.hasClass(e):t)?this.addClass(e):this.removeClass(e)}},{key:"up",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return T([e],[["intLike",">=0"]],"Elem#up"),e=Number(e),this.object(function(t,n){for(var r=e;r--&&n;)n=n.parentNode;t.add(n)},new r)}},{key:"validate",value:function(e){function t(e,t,n){try{if(e.validity&&!e.validity.valid)throw new Error(e.validationMessage);e.dwayneData.validators.forEach(function(n){n(e.value,e,t)})}catch(t){(n.errors=n.errors||{})[e.name]=t}}if(T([e],["function||!"],"Elem#validate"),e)return this.forEach(function(t){var n=t.dwayneData;n.validators.push(e)});var n=new qt({errors:null});return this.filter(bn+", form").forEach(function(e,i){if("form"===ge(e)){var a=function(){var i={errors:null},a=new r(e),o=a.find(bn);return o.forEach(function(e,n){t(e,n,i)}),n.deepAssign(i),i=i.errors,a.dispatch("validate",{},{valid:!i,errors:i}),{v:o.forEach(function(e){var t=(i||{})[e.name];new r(e).dispatch("validate",{},{valid:!t,error:t||null})})}}();if("object"===("undefined"==typeof a?"undefined":xt(a)))return a.v}var o={errors:null};t(e,i,o),n.deepAssign(o),o=(o.errors||{})[e.name],new r(e).dispatch("validate",{},{valid:!o,error:o||null})}),n.every(function(e){return h(e)})?null:n.$.errors}},{key:"width",value:function(e){return this.prop.apply(this,new Zt(arguments).unshift("width").$)}},{key:"innerHeight",get:function(){var e=this.$[0];if(se(e))return e.innerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,i=t.boxSizing,a=t.height,o=t.paddingTop,u=t.paddingBottom,c=$e(n)+$e(r),l=$e(o)+$e(u);return $e(a)-Rn(i,[l,c])}},{key:"innerWidth",get:function(){var e=this.$[0];if(se(e))return e.innerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,i=t.boxSizing,a=t.paddingLeft,o=t.paddingRight,u=t.width,c=$e(n)+$e(r),l=$e(a)+$e(o);return $e(u)-Rn(i,[l,c])}},{key:"name",get:function(){return ge(this.$[0])}},{key:"outerHeight",get:function(){var e=this.$[0];if(se(e))return e.outerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,i=t.boxSizing,a=t.height,o=t.marginTop,u=t.marginBottom,c=t.paddingTop,l=t.paddingBottom,s=$e(n)+$e(r),f=$e(c)+$e(l);return $e(a)+$e(o)+$e(u)+Cn(i,[s,f])}},{key:"outerWidth",get:function(){var e=this.$[0];if(se(e))return e.outerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,i=t.boxSizing,a=t.marginLeft,o=t.marginRight,u=t.paddingLeft,c=t.paddingRight,l=t.width,s=$e(n)+$e(r),f=$e(u)+$e(c);return $e(l)+$e(a)+$e(o)+Cn(i,[s,f])}},{key:"toStringTag",get:function(){return e(this.$$)}}]),r}(Zt);j(Ln.prototype,St({},Dt.toStringTag,"Elem"));var Pn=new Ln(ht),Dn=new Ln(pn),Nn=new Ln(pn.documentElement),Mn=new Ln(pn.body),Un=new Ln(pn.head),Bn=new Zt(mt).concat(yt).$,qn=new Zt(Bn).map(function(e){return new rn(e).toCamelCase().$}).$;S(Ln.prototype,qn,function(e,t){return function(){return this.create.apply(this,new Zt(arguments).unshift(Bn[t]).$)}}),S(Ln.prototype,dt,function(e){return function(){var t=this.ctx();if(t)return t[e].apply(t,arguments)}}),S(Ln.prototype,pt,function(e){return function(){var t=this.ctx();return t&&t[e].apply(t,arguments),this}}),gt[2].push({check:function(t){return o(t)||se(t)||fe(t)||de(t)||he(t)||/^(HTMLCollection|NodeList)$/.test(e(t))},cls:Ln});var In=Object.freeze({registerDBlock:ke,registerDEach:be,registerDElements:xe,registerDIf:Oe,registerDItem:Ee,registerDSwitch:Se,registerDText:je}),Fn=A("strictEquals","input").case("form","input, change").case("select","change").case("input",function(e){return"radio"===e||"checkbox"===e||"color"===e||"file"===e?"change":"input"}),Wn=A("strictEquals",function(e,t){return t.hasAttr("contenteditable")||t.hasAttr("contentEditable")?"text":"value"}).case("input",function(e){return"file"===e?"files":"radio"===e||"checkbox"===e?"checked":"value"}),Hn=A("strictEquals",function(e){return e}).case("input",function(e,t,n){return"radio"!==t&&"checkbox"!==t?e:"radio"===t?e===n:e.indexOf(n)!==-1}),zn=A("strictEquals",function(e){return e}).case("input",function(e,n,r,i){if("radio"!==n&&"checkbox"!==n)return e;if("radio"===n)return e?r:null;if(e)return i?i.indexOf(r)===-1?new Zt(i).concat(r).$:i:[r];if(!t(i))return[];var a=i.indexOf(r);return a!==-1?[].concat(Lt(new Zt(i).slice(0,a).$),Lt(new Zt(i).slice(a+1).$)):i}),Vn=A("strictEquals","input").case("select","change").case("input",function(e){return"radio"===e||"checkbox"===e||"color"===e||"file"===e?"change":"input"}),Gn=Object.freeze({registerDAttr:_e,registerDBind:Te,registerDClass:Re,registerDElem:Ce,registerDHide:Ae,registerDOn:Le,registerDShow:Pe,registerDStyle:De,registerDText:Ne,registerDValidate:Me,registerDValue:Ue}),Jn=Object.create(null),Qn=Object.create(null),Zn={}.isPrototypeOf,Yn=new RegExp("^"+$t+"$","i"),Xn=new RegExp("^"+kt+"$"),Kn=/^\{[\s\S]+\}$/,er=ht,tr=er.document,nr="http://www.w3.org/2000/svg",rr=void 0,ir=void 0,ar=void 0,or=void 0,ur=function(){function e(t){var n=this;Ot(this,e);var r=t.name,i=t.args,a=t.children,o=t.block,u=t.parent,c=t.parentBlock,l=t.parentScope,s=new Zt([]);Object.defineProperties(this,{$:{value:this},$$:{value:{name:r,parent:l,parentBlock:c,children:new Zt([]),mixins:new Zt([]),Block:o,elems:{start:Dn.createComment(" "+r+": start "),end:Dn.createComment(" "+r+": end "),content:new Ln,parent:u},watchersToRemove:s,evaluate:function e(t,i,a,o,u,c){function e(){var n=this,r=void 0;i&&(ir=!0,ar=new Zt([])),l.$$.expr=t,tr.DwayneStore=l;try{r=h()}catch(e){rr&&rr(e)}return i&&!function(){var t=new Zt([]);ar.forEach(function(a){var u=function(){var t=e.call(n);t!==r&&i(t,r)},c={forDElements:o,watcher:u,watchers:a};u.onRemove=function(){t.forEach(function(e){var t=e.watcher,n=e.watchers,r=f.indexOf(e),i=n.indexOf(t);r!==-1&&f.splice(r,1),i!==-1&&n.splice(i,1)})},t.push(c),f.push(c),a.push(u)}),ir=!1,ar=new Zt([])}(),l.$$.expr=null,tr.DwayneStore=null,r}if(!Kn.test(t))return t||!0;o=!!o,u=!!u,t=t.replace(/^\{|\}$/g,"");var l="#d-item"===r&&!u||c?(c||n).$$.scope:n,s=a?a.$$:{},f=s.watchersToRemove,h=new Function("",'with(document.DwayneStore){$$.expr=eval("$$.expr="+$$.expr);return $$.expr}');return e.call(n)}}}});var f=new qt(i).map(function(e,t){if("d-each"===r&&("item"===t||"index"===t||"uid"===t))return e;var i="d-elements"===r&&"value"===t;return l.$$.evaluate(e,function(e){n.args[t]=e},n,i,i&&"#d-item"===c.$$.name)}).$;this.args=f,this.children=a||new Zt([]),this.global=Object.create(l?Object.create(l.global):null),this.$$.elems.start.$[0].DwayneBlock=this,this.$$.elems.end.$[0].DwayneBlock=this,c&&c.$$.children.push(this)}return Et(e,null,[{key:"wrap",value:function(e){return T([e],["function"]),e(this)}},{key:"onEvalError",get:function(){return rr},set:function(e){rr=c(e)?e:null}}]),Et(e,[{key:"afterConstruct",value:function(){}},{key:"afterRender",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluateAndWatch",value:function(e,t){return this.$$.parent.$$.evaluate(e,t,this)}},{key:"evaluateOnce",value:function(e){return this.$$.parent.$$.evaluate(e)}},{key:"remove",value:function(e){var t=this.$$,n=t.parentBlock,r=t.children,i=t.mixins,a=t.elems,o=a.start,u=a.content,c=a.end,l=t.watchersToRemove;Je(l),r.forEach(function(e){e.remove(!0)}),i.forEach(function(e){e.remove(!0)});try{this.beforeRemove()}catch(e){console.error("Uncaught error in beforeRemove:",e)}if(!e&&n){var s=n.$$.children.indexOf(this);s!==-1&&n.$$.children.splice(s,1)}new Ln([o,u,c]).remove()}},{key:"watch",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t)){if(1===arguments.length){for(var n in this.$$.global)this.$$.global[n].watchers.perm.push(t);return O(this.$$.args,function(e){var n=e.watchers;n.perm.push(t)}),O(this.$$.locals,function(e){var n=e.watchers;n.perm.push(t)})}O(arguments,function(n){if(n!==t){if(n=""+n,/^args\./.test(n)){if(n=n.replace(/^args\./,""),!e.$$.args[n])return;return void e.$$.args[n].watchers.perm.push(t)}if(/^global\./.test(n)){if(n=n.replace(/^global\./,""),!e.$$.global[n])return;return void e.$$.global[n].watchers.perm.push(t)}e.$$.locals[n]&&e.$$.locals[n].watchers.perm.push(t)}})}}},{key:"watchArgs",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))return 1===arguments.length?O(this.$$.args,function(e){var n=e.watchers;n.perm.push(t)}):void O(arguments,function(n){n!==t&&e.$$.args[n]&&e.$$.args[n].watchers.perm.push(t)})}},{key:"watchGlobals",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))if(1!==arguments.length)O(arguments,function(n){n!==t&&e.$$.global[n]&&e.$$.global[n].watchers.perm.push(t)});else for(var n in this.$$.global)this.$$.global[n].watchers.perm.push(t)}},{key:"watchLocals",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))return 1===arguments.length?O(this.$$.locals,function(e){var n=e.watchers;n.perm.push(t)}):void O(arguments,function(n){n!==t&&e.$$.locals[n]&&e.$$.locals[n].watchers.perm.push(t)})}}]),e}();ur.collapseWhiteSpace=!0,ur.defaultArgs={},Ie(In,ur);var cr=function(){function e(t){var n=this;Ot(this,e);var r=t.value,i=t.elem,a=t.match,o=t.parentBlock,u=t.parentScope;Object.defineProperties(this,{$$:{value:{_value:r,parent:u,parentBlock:o,watchersToRemove:new Zt([])}}}),this.match=new Zt(a).slice(1).$,this.elem=i,new qt(this).proto().$.constructor.evaluate&&(this.value=this.evaluateAndWatch(function(e,t){n.value=e;try{n.afterUpdate(e,t)}catch(e){console.error("Uncaught error in "+name+"#onUpdate:",e)}}),this.afterUpdate(this.value)),o&&o.$$.mixins.push(this)}return Et(e,[{key:"afterUpdate",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluateAndWatch",value:function(e){var t=this.$$,n=t._value,r=t.parent;return r.$$.evaluate(n,e,this)}},{key:"evaluateOnce",value:function(){var e=this.$$,t=e._value,n=e.parent;return n.$$.evaluate(t)}},{key:"remove",value:function(e){var t=this.$$,n=t.parentBlock,r=t.watchersToRemove;Je(r);try{this.beforeRemove()}catch(e){console.error("Uncaught error in beforeRemove:",e)}if(!e&&n){var i=n.$$.mixins.indexOf(this);i!==-1&&n.$$.mixins.splice(i,1)}}}]),e}();cr.evaluate=!0,Ie(Gn,cr);var lr=new rn("0"),sr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fr=new qt(sr).map(function(e){return e.slice(0,3)}).$,hr=["January","February","March","April","May","June","Jule","August","September","October","November","December"],vr=new qt(hr).map(function(e){return e.slice(0,3)}).$,dr=[{format:"ccc",match:function(e,t){return Ye(e[t]("c"),3)}},{format:"c",match:function(e,t){return e[t]("c")}},{format:"ss",match:function(e,t){return Ye(e[t]("s"),2)}},{format:"s",match:function(e,t){return e[t]("s")}},{format:"mm",match:function(e,t){return Ye(e[t]("m"),2)}},{format:"m",match:function(e,t){return e[t]("m")}},{format:"hh",match:function(e,t){return Ye(e[t]("h"),2)}},{format:"h",match:function(e,t){return e[t]("h")}},{format:"dddd",match:function(e,t){return sr[e[t]("dw")]}},{format:"ddd",match:function(e,t){return fr[e[t]("dw")]}},{format:"dd",match:function(e,t){return Ye(e[t]("d"),2)}},{format:"d",match:function(e,t){return e[t]("d")}},{format:"MMMM",match:function(e,t){return hr[e[t]("M")-1]}},{format:"MMM",match:function(e,t){return vr[e[t]("M")-1]}},{format:"MM",match:function(e,t){return Ye(e[t]("M"),2)}},{format:"M",match:function(e,t){return e[t]("M")}},{format:"yyyy",match:function(e,t){return Ye(e[t]("y"),4)}},{format:"yy",match:function(e,t){return String(e[t]("y")).slice(-2)}},{format:"y",match:function(e,t){return e[t]("y")}}],pr={c:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,M:2592e6,y:31536e6},gr=A({c:function(e,t){return e[t+"Milliseconds"]()},s:function(e,t){return e[t+"Seconds"]()},m:function(e,t){return e[t+"Minutes"]()},h:function(e,t){return e[t+"Hours"]()},d:function(e,t){return e[t+"Date"]()},dw:function(e,t){return e[t+"Day"]()},M:function(e,t){return e[t+"Month"]()+1;
},y:function(e,t){return e[t+"FullYear"]()}},"equals",NaN),mr=A({c:function(e,t,n){return e[n+"Milliseconds"](t)},s:function(e,t,n){return e[n+"Seconds"](t)},m:function(e,t,n){return e[n+"Minutes"](t)},h:function(e,t,n){return e[n+"Hours"](t)},d:function(e,t,n){return e[n+"Date"](t)},M:function(e,t,n){return e[n+"Month"](t-1)},y:function(e,t,n){return e[n+"FullYear"](t)}}),yr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Ot(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return Tt(t,e),Et(t,[{key:"add",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),this.time(this.time()+new qt(e).sum(function(e,t){return pr[t]*e}))}},{key:"expires",value:function(e){return arguments.length||(e=this),new Qt(this.$-Xe()).timeout(e)}},{key:"format",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new rn(new qt(e).$),n=String(new qt(n).$),O(dr,function(r){e=e.replaceString(n+r.format,r.match(t,"get"))}),e.$}},{key:"formatUTC",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new rn(new qt(e).$),n=String(new qt(n).$),O(dr,function(r){e=e.replaceString(n+r.format,r.match(t,"getUTC"))}),e.$}},{key:"get",value:function(e){return gr(e,[this.$,"get"])}},{key:"getUTC",value:function(e){return gr(e,[this.$,"getUTC"])}},{key:"isAfter",value:function(e){return e=new Date(new qt(e).$),e.getTime()<this.$.getTime()}},{key:"isBefore",value:function(e){return e=new Date(new qt(e).$),e.getTime()>this.$.getTime()}},{key:"isBetween",value:function(e,t){var n=this.$.getTime();return e=new Date(new qt(e).$),t=new Date(new qt(t).$),n>e.getTime()&&n<t.getTime()}},{key:"isInvalid",value:function(){return"Invalid Date"===this.$.toString()}},{key:"isPassed",value:function(){return this.isBefore(Xe())}},{key:"ofOne",value:function(e,n){var r=this;if(!(e in pr)||"w"===e)return!1;n=new t(new Date(n));var i=void 0;return O(pr,function(t,a){if(a===e&&(i=!0),i&&"w"!==a)return(!i||r.get(a)===n.get(a))&&void 0})!==!1}},{key:"set",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=St({},e,t)),e=new qt(e).$,O(e,function(e,t){mr(t,[n,e,"set"])}),this}},{key:"setUTC",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=St({},e,t)),e=new qt(e).$,O(e,function(e,t){mr(t,[n,e,"setUTC"])}),this}},{key:"time",value:function(e){var t=this.$;return arguments.length&&t.setTime(e),t.getTime()}},{key:"toISOString",value:function(){return this.$.toISOString()}},{key:"toLocaleString",value:function(){return this.$.toLocaleString()}},{key:"toString",value:function(){return this.$.toString()}},{key:"valueOf",value:function(){return this.$.valueOf()}}]),t}(qt);j(yr.prototype,St({},Dt.toStringTag,"Dat")),gt[1].push({check:i,cls:yr});var wr=/^(([a-z][a-z\d+\-.]*:)?\/\/|data:[a-z]+\/[a-z]+;base64,)/i,$r=A("call",function(){return new Zt([])}).case(t,function(e,n){var r=new Zt([]);return O(n,function(n){return m(n)||t(n)?void(r=r.concat($r(n,[e+"[]"]))):void r.push({param:e+"[]",value:n})}),r.$}).case(m,function(e,n){var r=new Zt([]);return O(n,function(n,i){return m(n)||t(n)?void(r=r.concat($r(n,[e?e+"["+i+"]":i]))):void r.push({param:e?e+"["+i+"]":i,value:g(n)?JSON.stringify(n):String(n)})}),r.$}),kr=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=a.params,u=void 0===o||o,c=a.query,l=void 0===c||c,s=et(t)?t:String(e).replace(/\/+$/,"")+"/"+String(t).replace(/^\/+/,"");O(n,function(e,t){s=new rn(s).replaceString(":"+t,tt(e,u)).$});var f=$r(r,[""]);return f.length&&(s+=(s.indexOf("?")===-1?"?":"&")+f.map(function(e){var t=e.param,n=e.value;return tt(t,l)+"="+tt(n,l)}).join("&")),""+s+(i?"#"+i:"")},br=function(e){var t={};return O((e||"").split("\n"),function(e){var n=e.indexOf(":"),r=new rn(e.substring(0,n)).trim().toCamelCase().$,i=new rn(e.substring(n+1)).trim().$;r&&(t[r]=(t[r]?t[r]+", ":"")+i)}),t},xr=new Zt(["FormData","File","Blob","ArrayBuffer","String","Number"]),Or=new Zt(["DELETE","GET","HEAD"]),Er=function(t,n,r){return t=new qt(t).$,Or.indexOfStrict(n)!==-1?null:g(t)&&xr.indexOfStrict(e(t))===-1?(r.contentType||(r.contentType=["application/json;charset=utf-8"]),new qt(t).json()):t},Sr={after:[],auth:{username:"",password:""},baseURL:ht.location.origin,before:[],data:null,headers:{},method:"get",params:{},query:{},responseType:"",timeout:0,url:"",withCredentials:!1},jr=new Zt(["post","put"]),_r=function(e){function n(){function e(){return e.request.apply(e,arguments)}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ot(this,n);var i=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),a=new qt({}).deepAssign(Sr,r).$;return a.before.indexOf(nt)===-1&&a.before.push(nt),Object.defineProperty(e,"$$",{value:a}),Object.setPrototypeOf(e,n.prototype),t=e,Ct(i,t)}return Tt(n,e),Et(n,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Fetch#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Fetch#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"config",value:function(e,t){var n=this.$$;return arguments.length?(c(e)?e(n):(arguments.length>=2&&(e=St({},e,t)),new qt(n).deepAssign(e)),this):n}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,E({method:"delete"},t))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,E({method:"get"},t))}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,E({method:"head"},t))}},{key:"headers",value:function e(n,r){var e=this.$$.headers;return arguments.length>=2&&(n=St({},n,r)),O(n,function(n,r){var i=e[r]||[],a=t(n)?n:[n];(e[r]=i).push.apply(i,a)}),this}},{key:"instance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new qt(e).hasOwn("data")?{data:e.data}:{};delete e.data;var r=new qt({}).deepAssign(this.$$,e).assign(t).$;return new n(r)}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,E({method:"patch",data:t},n))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,E({method:"post",data:t},n))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,E({method:"put",data:t},n))}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};1!==arguments.length||$(e)||(t=e);var n=new qt(t).hasOwn("data")?{data:t.data}:{},r=$(e)?{url:e}:{};delete t.data;var i=new qt(this.$$).deepClone().deepAssign(r,t).assign(n).$,a=void 0,o=Wt.resolve();return O(i.before,function(e){o=o.then(function(){return e.length>=2?Wt.resolve():new Wt(function(t){t(e(i))})},function(t){return e.length<2?Wt.reject(t):new Wt(function(n){n(e(t,i))})})}),o=o.then(function(){return new Wt(function(e,t){var n=i.after,r=i.auth,o=r.username,u=r.password,c=i.data,l=i.headers,s=i.method,f=i.onprogress,h=i.responseType,v=i.timeout,d=i.url,p=i.withCredentials;a=new XMLHttpRequest,a.open(s,d,!0,o,u),O(l,function(e,t){a.setRequestHeader(t,e)}),f&&(jr.indexOfStrict(s)===-1?a.onprogress=f:a.upload.onprogress=f),a.onabort=function(){t(new Error("Request was aborted")),a=null},a.onerror=function(){t(new Error("Network error")),a=null},a.ontimeout=function(){t(new Error("Request time exceeded")),a=null},a.onreadystatechange=function(){if(a&&a.status&&4===a.readyState){var t={config:i,data:h&&"text"!==h?a.response:a.responseText,headers:br(a.getAllResponseHeaders()),status:1223===a.status?204:a.status,statusText:1223===a.status?"No Content":a.statusText,xhr:a},r=Wt.resolve();O(n,function(e){r=r.then(function(){return e.length>=2?Wt.resolve():new Wt(function(n){n(e(t))})},function(n){return e.length<2?Wt.reject(n):new Wt(function(r){r(e(n,t))})})}),e(r.then(function(){return t}).catch(function(e){try{e.response=t}catch(t){throw e}throw e}))}},a.responseType=h,a.timeout=Number(v)||0,a.withCredentials=!!p,a.send(c)})}),o.abort=function(){return a&&a.abort(),this},o}}]),n}(Function);j(_r.prototype,St({},Dt.toStringTag,"Fetch"));var Tr=new _r,Rr=ht,Cr=Rr.location,Ar=function(e){var t=Cr.search,n=Cr.hash,r={query:{},hash:n.replace(/^#/,"")};return t?(new rn(t.replace(/^\?/,"")).split("&").forEach(function(t){var n=t.split("="),i=At(n,2),a=i[0],o=i[1],u=void 0===o?"":o;if(a=e?decodeURIComponent(a):a,u=e?decodeURIComponent(u):u,/^[^[]+/.test(a)){var c=void 0,l=r.query;new rn(a).match(/^[^[\]]*|\[[^[\]]*]/g).forEach(function(e){return e.indexOf("[")?void(c=e):(e=e.slice(1,-1),l=l[c]=l[c]||(e?{}:[]),void(c=e||l.length))}),l[c]=u}}),r):r},Lr=new Zt([]),Pr=new qt({}),Dr=ht,Nr=Dr.history,Mr=Dr.location,Ur=Dr.location,Br=Ur.origin,qr=Ur.href,Ir=void 0,Fr=void 0,Wr=void 0,Hr=void 0,zr=void 0,Vr=void 0,Gr=void 0,Jr=void 0,Qr=void 0,Zr=void 0,Yr=void 0,Xr=A("call",function(){throw new Error("State path must be a string, a regular expression or undefined! (at registerState)")}).case(w,function(e){return{path:e.source.replace(/\\\//g,"/"),url:e,params:{}}}).case(v,function(){return{path:"/",url:"/",params:{}}}).case($,function(e){if(e.indexOf("/"))throw new Error('If route path is a string it must start with "/"! (at registerState)');var t=e.indexOf("?"),n=new qt({}),r="",i=new rn(e).slice(0,t===-1?e.length:t).replace(/^\/|\/$/g).split(/\//).map(function(e,t,r){if(!e&&r.length>1)throw new Error('If route path is a string it must not contain "//" or end with "/"! (at makeRoute)');var i=e.indexOf(":");if(i>0)throw new Error("If route path is a string resource part must be either a string or an URL parameter! (at makeRoute)");if(i===-1)return{url:e,value:e};var a=ft(e.slice(1),'URL parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"URL parameter regexp validator must be within parentheses (e.g. :userId(\\d+) and not contain ones)! (at makeRoute)"),o=a.name,u=a.regexp,c=void 0===u?/[^\/]*/:u;return n.$[o]=n.count,{type:"param",url:":"+o,value:c}}).word(function(e){var t=e.type,n=e.url,i=e.value,a=void 0;return a="param"===t?"("+i.source.replace(/\\\//g,"/")+")":new rn(i).escapeRegExp().$,r+="/"+n,"/"+a});return{path:i,url:r,params:n.$}}),Kr=function e(t){Ot(this,e),t=t||{};var n=t||{},r=n.name,i=n.path,a=void 0===i?"/":i,o=n.abstract,u=void 0!==o&&o,c=n.parent,l=n.decodeQuery,s=void 0===l||l,f=n.encodeQuery,h=void 0===f||f,v=n.decodeParams,d=void 0===v||v,p=n.encodeParams,g=void 0===p||p,m=Xr(a),y=m.url,w=m.path,k=m.params,b={};new qt(this).assign({name:r,parentName:c,abstract:!!u,children:new Zt([]),decodeParams:!!d,decodeQuery:!!s,encodeParams:!!g,encodeQuery:!!h,params:k,query:b,relativePath:w,relativeURL:y});var x=$(a)?a.indexOf("?"):-1;if(x!==-1&&new rn(a).replace(/&$/).slice(x+1).split("&").forEach(function(e){var t=ft(e,'Query parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"Query parameter regexp validator must be within parentheses (e.g. :userId(\\d+)) and not contain them! (at makeRoute)"),n=t.name,r=t.regexp,i=void 0===r?/[\s\S]*/:r;b[n]=new RegExp("^"+i.source.replace(/\\\//g,"/")+"$")}),r===Jr&&(new qt(k).count||new qt(b).count))throw new Error("Default route must not have URL or query params! (at makeRoute)")},ei=new Kr,ti=Object.freeze({D:x,isArray:t,isArrayLike:n,isBoolean:r,isDate:i,isDateLike:a,isElement:o,isFinite:u,isFunction:c,isInteger:l,isIntegerLike:s,isNaN:f,isNull:h,isNil:v,isNumber:d,isNumberLike:p,isObject:g,isPlainObject:m,isPrimitive:y,isRegExp:w,isString:$,isSymbol:k,isUndefined:b,Alphabet:Mt,alphabet:C,Arr:Zt,array:K,iterate:ee,BlobObject:en,blob:te,Block:ur,Mixin:cr,initApp:Be,Dat:yr,now:Xe,date:Ke,Elem:Ln,win:Pn,doc:Dn,html:Nn,body:Mn,head:Un,find:ye,parseHTML:we,px:$e,Fetch:_r,fetch:Tr,Func:Ht,method:V,noop:G,prop:J,self:Q,Num:Qt,rand:Z,random:Y,Promise:Wt,makeRoute:it,Str:rn,parseJSON:re,Super:qt,Switcher:Ut,switcher:A,when:L}),ni=x;E(ni,ti),delete ni.D,ht.D=ni}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL2xpYi9oZWxwZXJzL3RvU3RyaW5nVGFnLmpzIiwiLi4vbGliL2hlbHBlcnMvY2hlY2tUeXBlcy5qcyIsIi4uL2xpYi9ELmpzIiwiLi4vbGliL2hlbHBlcnMvaXRlcmF0ZS5qcyIsIi4uL2xpYi9oZWxwZXJzL2Fzc2lnbi5qcyIsIi4uL2xpYi9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwiLi4vbGliL2hlbHBlcnMvdG9BcnJheS5qcyIsIi4uL2xpYi9oZWxwZXJzL3ZhbGlkYXRlLmpzIiwiLi4vbGliL0FscGhhYmV0LmpzIiwiLi4vbGliL1N3aXRjaGVyLmpzIiwiLi4vbGliL1N1cGVyLmpzIiwiLi4vbGliL0Z1bmMuanMiLCIuLi9saWIvTnVtLmpzIiwiLi4vbGliL0Fyci5qcyIsIi4uL2xpYi9CbG9iT2JqZWN0LmpzIiwiLi4vbGliL1N0ci5qcyIsIi4uL2xpYi9oZWxwZXJzL21hcmt1cFRvSlNPTi5qcyIsIi4uL2xpYi9FbGVtLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWJsb2NrLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWVhY2guanMiLCIuLi9saWIvYmxvY2tzL2QtZWxlbWVudHMuanMiLCIuLi9saWIvYmxvY2tzL2QtaWYuanMiLCIuLi9saWIvYmxvY2tzL2QtaXRlbS5qcyIsIi4uL2xpYi9ibG9ja3MvZC1zd2l0Y2guanMiLCIuLi9saWIvYmxvY2tzL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC1hdHRyLmpzIiwiLi4vbGliL21peGlucy9kLWJpbmQuanMiLCIuLi9saWIvbWl4aW5zL2QtY2xhc3MuanMiLCIuLi9saWIvbWl4aW5zL2QtZWxlbS5qcyIsIi4uL2xpYi9taXhpbnMvZC1oaWRlLmpzIiwiLi4vbGliL21peGlucy9kLW9uLmpzIiwiLi4vbGliL21peGlucy9kLXNob3cuanMiLCIuLi9saWIvbWl4aW5zL2Qtc3R5bGUuanMiLCIuLi9saWIvbWl4aW5zL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWxpZGF0ZS5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWx1ZS5qcyIsIi4uL2xpYi9CbG9jay5qcyIsIi4uL2xpYi9jb25zdGFudHMvZm9ybWF0cy5qcyIsIi4uL2xpYi9EYXQuanMiLCIuLi9saWIvaGVscGVycy9jb25zdHJ1Y3RVUkwuanMiLCIuLi9saWIvRmV0Y2guanMiLCIuLi9saWIvUm91dGVyLmpzIiwiLi4vbGliL2NvbnN0YW50cy9nbG9iYWwuanMiLCIuLi9saWIvY29uc3RhbnRzL2FwcGxpZWRSZWdFeHBzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jYW52YXNNZXRob2RzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jb25zdHJ1Y3RvcnMuanMiLCIuLi9saWIvY29uc3RhbnRzL2VsZW1lbnRzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9odG1sQWxsb3dlZFRhZ1N5bWJvbHMuanMiLCIuLi9saWIvY29uc3RhbnRzL3JlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzLmpzIiwiLi4vbGliL2NvbnN0YW50cy92YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMuanMiLCIuLi9saWIvaGVscGVycy9TeW1ib2wuanMiLCIuLi9saWIvUHJvbWlzZS5qcyIsIi4uL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIi4uL2xpYi9oZWxwZXJzL3RyYW5zZm9ybURhdGEuanMiLCIuLi9saWIvaGVscGVycy9yZXNvbHZlVVJMLmpzIiwiLi4vYnJvd3Nlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3RvU3RyaW5nVGFnXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHRvU3RyaW5nVGFnIG1ldGhvZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvU3RyaW5nVGFnXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGdldCB0b1N0cmluZ1RhZyBvZi5cclxuICogQHJldHVybnMge1N0cmluZ30gQ3V0IHN0cmluZy5cclxuICogQGRlc2NyaXB0aW9uIEN1dCBcIlR5cGVcIiBzdHJpbmcgZnJvbSBcIltvYmplY3QgVHlwZV1cIiBzdHJpbmcgdGhhdCBnb3R0ZW4gZnJvbSB7fS50b1N0cmluZyxjYWxsKG9iamVjdCkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdUYWcob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqZWN0KS5yZXBsYWNlKC9eXFxbb2JqZWN0IHxdJC9nLCAnJyk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9jaGVja1R5cGVzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBpczxUeXBlPiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHRvU3RyaW5nVGFnIH0gZnJvbSAnLi90b1N0cmluZ1RhZyc7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzQXJyYXlcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYW4gYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXkgb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNBcnJheShbXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzQXJyYXkoMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7IC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdBcnJheSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNBcnJheUxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYXJyYXktbGlrZS5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhcnJheS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIHRoZSBhcmd1bWVudCBoYXMgbm9uLW5lZ2F0aXZlIGludGVnZXIgXCJsZW5ndGhcIiBwcm9wZXJ0eSBhbmQgaXNuJ3QgYSBmdW5jdGlvbi5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzQXJyYXlMaWtlKFtdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNBcnJheUxpa2UoJycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5TGlrZSgoKSA9PiB7fSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0FycmF5TGlrZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcclxuICBpZiAoIXZhbHVlIHx8IGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcclxuICBcclxuICByZXR1cm4gaXNJbnRlZ2VyKGxlbmd0aCkgJiYgbGVuZ3RoID49IDA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNCb29sZWFuXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgYm9vbGVhbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIGJvb2xlYW4gb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNCb29sZWFuKHRydWUpOyAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNCb29sZWFuKG5ldyBCb29sZWFuKGZhbHNlKSk7IC8vIHRydWVcclxuICogaXNCb29sZWFuKG51bGwpOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Jvb2xlYW4nO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRGF0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIGRhdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBkYXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRGF0ZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRGF0ZSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNEYXRlTGlrZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBkYXRlLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZGF0ZS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIG5ldyBEYXRlKGFyZ3VtZW50KSBpcyBub3QgaW52YWxpZCBkYXRlLlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNEYXRlTGlrZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJyk7IC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGVMaWtlKHZhbHVlKSB7XHJcbiAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICFpc05hTih2YWx1ZS5nZXRUaW1lKCkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbWVudFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBlbGVtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGVsZW1lbnQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xyXG4gIHJldHVybiAvRWxlbWVudCQvLnRlc3QodG9TdHJpbmdUYWcodmFsdWUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Zpbml0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBmaW5pdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZmluaXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRmluaXRlKDApOyAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0Zpbml0ZSgnMCcpOyAgICAgIC8vIGZhbHNlXHJcbiAqIGlzRmluaXRlKEluZmluaXR5KTsgLy8gZmFsc2VcclxuICogaXNGaW5pdGUoTmFOKTsgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gIWlzTmFOKHZhbHVlKSAmJiB2YWx1ZSAhPT0gSW5maW5pdHkgJiYgdmFsdWUgIT09IC1JbmZpbml0eTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Z1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgZnVuY3Rpb24uXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiBvciBub3QuXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0Z1bmN0aW9uKCgpID0+IHt9KTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIFxyXG4gKiBjb25zdCBmdW5jID0gKCkgPT4ge307XHJcbiAqIE9iamVjdC5zZXRQcm90b3R5cGVPZihmdW5jLCB7fSk7XHJcbiAqIGlzRnVuY3Rpb24oZnVuYyk7ICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNJbnRlZ2VyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGFuIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW50ZWdlciBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlcigwKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoMC4xKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihJbmZpbml0eSk7ICAgICAgLy8gZmFsc2VcclxuICogaXNJbnRlZ2VyKE5hTik7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xyXG4gIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgJSAxID09PSAwO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSW50ZWdlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgaW50ZWdlci1saWtlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGludGVnZXItbGlrZSBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlckxpa2UoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNJbnRlZ2VyTGlrZShuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXJMaWtlKDAuMSk7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0ludGVnZXJMaWtlKCcwJyk7ICAgICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlZ2VyTGlrZSh2YWx1ZSkge1xyXG4gIHZhbHVlID0gcGFyc2VJbnQoTnVtYmVyKHZhbHVlKSk7XHJcblxyXG4gIHJldHVybiAhISh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOYU5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgTmFOLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIE5hTiBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzTmFOKDApOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKCdOYU4nKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKE5hTik7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOYU4obmV3IE51bWJlcihOYU4pKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVsbFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBudWxsLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIG51bGwgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bGwobnVsbCk7ICAgICAgLy8gdHJ1ZVxyXG4gKiBpc051bGwodW5kZWZpbmVkKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcclxuICByZXR1cm4gdmFsdWUgPT09IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOaWxcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVsbCBvciB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc05pbChudWxsKTsgICAgICAvLyB0cnVlXHJcbiAqIGlzTmlsKHVuZGVmaW5lZCk7IC8vIHRydWVcclxuICogaXNOaWwoZmFsc2UpOyAgICAgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVtYmVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNOdW1iZXIoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIobmV3IE51bWJlcigwKSk7IC8vIHRydWVcclxuICogaXNOdW1iZXIoTmFOKTsgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnTnVtYmVyJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc051bWJlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVtYmVyLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVtYmVyLWxpa2Ugb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bWJlckxpa2UoMCk7ICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKCcwJyk7ICAgICAgICAvLyB0cnVlXHJcbiAqIGlzTnVtYmVyTGlrZSgnSW5maW5pdHknKTsgLy8gdHJ1ZVxyXG4gKiBpc051bWJlckxpa2UoJ05hTicpOyAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKE5hTik7ICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXJMaWtlKHZhbHVlKSB7XHJcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ05hTicpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBcclxuICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICEhKHZhbHVlIHx8IHZhbHVlID09PSAwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc09iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBvYmplY3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0IG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNPYmplY3Qoe30pOyAgIC8vIHRydWVcclxuICogaXNPYmplY3QoMSk7ICAgIC8vIGZhbHNlXHJcbiAqIGlzT2JqZWN0KG51bGwpOyAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ09iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNQbGFpbk9iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHBsYWluIG9iamVjdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHBsYWluIG9iamVjdCBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IG9iaiA9IHt9O1xyXG4gKlxyXG4gKiBpZlBsYWluT2JqZWN0KG9iaik7IC8vIHRydWVcclxuICpcclxuICogT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgbnVsbCk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gdHJ1ZVxyXG4gKlxyXG4gKiBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCB7fSk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XHJcbiAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xyXG5cclxuICBpZiAoaXNOdWxsKHByb3RvKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25zdHJ1Y3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xyXG5cclxuICByZXR1cm4gaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiZcclxuICAgIGNvbnN0cnVjdG9yIGluc3RhbmNlb2YgY29uc3RydWN0b3IgJiZcclxuICAgIGlzTnVsbChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1ByaW1pdGl2ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBwcmltaXRpdmUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgcHJpbWl0aXZlIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNQcmltaXRpdmUoMSk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNQcmltaXRpdmUoe30pOyAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzUHJpbWl0aXZlKCcnKTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUHJpbWl0aXZlKG5ldyBOdW1iZXIoMCkpOyAvLyBmYWxzZVxyXG4gKiBpc1ByaW1pdGl2ZSh0cnVlKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShTeW1ib2woJ2ZvbycpKTsgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShudWxsKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZSh1bmRlZmluZWQpOyAgICAgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XHJcbiAgcmV0dXJuIGlzTnVsbCh2YWx1ZSkgfHwgL14obnVtYmVyfHN0cmluZ3xib29sZWFufHN5bWJvbHx1bmRlZmluZWQpJC8udGVzdCh0eXBlb2YgdmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzUmVnRXhwXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgcmVndWxhciBleHByZXNzaW9uIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNSZWdFeHAoL2Zvby8pOyAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUmVnRXhwKCcvZm9vLycpOyAgICAgICAgICAgLy8gZmFsc2VcclxuICogaXNSZWdFeHAobmV3IFJlZ0V4cCgnZm9vJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnUmVnRXhwJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1N0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHN0cmluZy5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHN0cmluZyBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzU3RyaW5nKCcwJyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNTdHJpbmcobmV3IFN0cmluZygnMCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ1N0cmluZyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTeW1ib2xcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYSBzeW1ib2wuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBzeW1ib2wgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1N5bWJvbChTeW1ib2woJzEnKSk7IC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdTeW1ib2wnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzVW5kZWZpbmVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIHVuZGVmaW5lZC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1VuZGVmaW5lZChudWxsKTsgICAgICAvLyBmYWxzZVxyXG4gKiBpc1VuZGVmaW5lZCh1bmRlZmluZWQpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcclxuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBEXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEQgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBEXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbdmFsdWVdIC0gQW55IHZhbHVlLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IFdyYXAgb2YgdGhlIGFyZ3VtZW50LlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgRC13cmFwIG9mIGFuIG9iamVjdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogRCh7fSk7ICAgICAgICAgICAgLy8gU3VwZXJcclxuICogRCgoKSA9PiB7fSk7ICAgICAgLy8gRnVuY1xyXG4gKiBEKFtdKTsgICAgICAgICAgICAvLyBBcnJcclxuICogRCgxKTsgICAgICAgICAgICAgLy8gTnVtXHJcbiAqIEQoJzEnKTsgICAgICAgICAgIC8vIFN0clxyXG4gKiBEKG5ldyBEYXRlKCkpOyAgICAvLyBEYXRcclxuICogRChkb2N1bWVudC5ib2R5KTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gRCh2YWx1ZSkge1xyXG4gIGZvciAobGV0IGkgPSBjb25zdHJ1Y3RvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIGNvbnN0IGxldmVsQ29uc3RydWN0b3JzID0gY29uc3RydWN0b3JzW2ldO1xyXG5cclxuICAgIGZvciAobGV0IGsgPSAwLCBsZW4gPSBsZXZlbENvbnN0cnVjdG9ycy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGxldmVsQ29uc3RydWN0b3JzW2tdO1xyXG5cclxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgY29uc3RydWN0b3IuY2xzKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uc3RydWN0b3IuY2hlY2sodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3Rvci5jbHModmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2hlbHBlcnMvY2hlY2tUeXBlcyc7XHJcbmV4cG9ydCB7IEQgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9pdGVyYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGl0ZXJhdGUgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGlzQXJyYXlMaWtlLCBpc1VuZGVmaW5lZCB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGlvbkNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBJdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gSXRlcmF0aW9uIGtleS5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJbml0aWFsIGl0ZXJhYmxlIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHBhcmFtIHsoT2JqZWN0fEFycmF5fG51bGx8dW5kZWZpbmVkKX0gb2JqZWN0IC0gVmFsdWUgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IElmIGNhbGxiYWNrIHJldHVybnMgbm90IHVuZGVmaW5lZCB0aGVuIGl0ZXJhdGUgcmV0dXJucyB0aGlzIHZhbHVlLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGl0ZXJhdGluZyBvdmVyIGFsbCB0eXBlcyBvZiB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXRlcmF0ZShvYmplY3QsIGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgYXJyYXkgPSBpc0FycmF5TGlrZShvYmplY3QpO1xyXG4gIGNvbnN0IGl0ZXJhdGVkS2V5cyA9IHt9O1xyXG5cclxuICBsZXQgaXRlcmF0ZWQgPSAwO1xyXG5cclxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcclxuICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhdGVkS2V5cywga2V5KSkge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlZEtleXNba2V5XSA9IHRydWU7XHJcblxyXG4gICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XHJcbiAgICAgIGlmIChhcnJheSAmJiBpdGVyYXRlZCsrID49IG9iamVjdC5sZW5ndGgpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdmFsdWUgPSBjYWxsYmFjayhvYmplY3Rba2V5XSwgYXJyYXkgPyBOdW1iZXIoa2V5KSA6IGtleSwgb2JqZWN0KTtcclxuXHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvYXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE9iamVjdC5hc3NpZ24tbGlrZSBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaXRlcmF0ZSB9IGZyb20gJy4vaXRlcmF0ZSc7XHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEBmdW5jdGlvbiBhc3NpZ25cclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBhc3NpZ24gcmVzdCBvZiBhcmd1bWVudHMgdG8uXHJcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzIC0gT2JqZWN0cyB0aGF0IGFyZSBhc3NpZ25lZCB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUYXJnZXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgLi4ub2JqZWN0cykge1xyXG4gIGl0ZXJhdGUoYXJndW1lbnRzLCAoc291cmNlLCBpbmRleCkgPT4ge1xyXG4gICAgaWYgKGluZGV4KSB7XHJcbiAgICAgIGl0ZXJhdGUoc291cmNlLCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICAgXHJcbiAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL2RlZmluZVByb3BlcnR5XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRlZmluZVByb3BlcnR5IGFuZCBkeW5hbWljRGVmaW5lUHJvcGVydGllcyBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGl0ZXJhdGUgfSBmcm9tICcuL2l0ZXJhdGUnO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSW5kZXggb2YgdGhlIGFycmF5LlxyXG4gKiBAcmV0dXJucyB7Kn0gR2VuZXJhdGVkIHByb3BlcnR5LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZHluYW1pY0RlZmluZVByb3BlcnRpZXNcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBkZWZpbmUgcHJvcGVydGllcyBmb3IuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BlcnRpZXMgLSBPYmplY3Qgd2hpY2gga2V5cyBhcmUgcHJvcGVydGllcy5cclxuICogQHBhcmFtIHtwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrfSBwcm9wZXJ0eUdlbmVyYXRvciAtIENhbGxiYWNrIGZvciBldmVyeSBwcm9wZXJ0eS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgZHluYW1pYyBjcmVhdGluZyBwcm9wZXJ0aWVzIGJhc2VkIG9uIG5hbWUgb2YgdGhlIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljRGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMsIHByb3BlcnR5R2VuZXJhdG9yKSB7XHJcbiAgaXRlcmF0ZShwcm9wZXJ0aWVzLCAobmFtZSwgaSkgPT4ge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICB2YWx1ZTogcHJvcGVydHlHZW5lcmF0b3IobmFtZSwgaSksXHJcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBUYXJnZXQgdG8gZGVmaW5lIHByb3BlcnRpZXMgZm9yLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmVlZGVkIHRvIGJlIGFzc2lnbiB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBkZWZpbmluZyBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcGVydGllcykge1xyXG4gIGl0ZXJhdGUocHJvcGVydGllcywgKG1ldGhvZCwgbmFtZSkgPT4ge1xyXG4gICAgaWYgKC9eZ2V0IC8udGVzdChuYW1lKSkge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLnJlcGxhY2UoL15nZXQgLywgJycpLCB7XHJcbiAgICAgICAgZ2V0OiBtZXRob2QsXHJcbiAgICAgICAgc2V0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvXnNldCAvLnRlc3QobmFtZSkpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZS5yZXBsYWNlKC9ec2V0IC8sICcnKSwge1xyXG4gICAgICAgIHNldDogbWV0aG9kLFxyXG4gICAgICAgIGdldDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoL15nZXRcXC9zZXQgLy50ZXN0KG5hbWUpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUucmVwbGFjZSgvXmdldFxcL3NldCAvLCAnJyksIHtcclxuICAgICAgICBnZXQ6IG1ldGhvZC5nZXQsXHJcbiAgICAgICAgc2V0OiBtZXRob2Quc2V0LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSAhPT0gJ1N5bWJvbC50b1N0cmluZ1RhZycpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICAgIHZhbHVlOiBtZXRob2QsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvdG9BcnJheVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyB0b0FycmF5IG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNTdHJpbmcgfSBmcm9tICcuL2NoZWNrVHlwZXMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdG9BcnJheVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQW55IHZhbHVlLlxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtjcmVhdGVOZXdBcnJheSA9IGZhbHNlXSAtIElmIGl0IGlzIG5lZWRlZCB0byBjcmVhdGUgbmV3IGFycmF5LlxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IENyZWF0ZSBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhcnJheSBvZiBhbnkgdmFsdWUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgY3JlYXRlTmV3QXJyYXkpIHtcclxuICBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgIWNyZWF0ZU5ld0FycmF5KSB7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhcnJheSA9IFtdO1xyXG5cclxuICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmICFpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgIGl0ZXJhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBhcnJheTtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3ZhbGlkYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHZhbGlkYXRlIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyB2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG5jb25zdCBudW1iZXJzID0gWycxc3QnLCAnMm5kJywgJzNyZCcsICc0dGgnLCAnNXRoJywgJzZ0aCcsICc3dGgnXTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdmFsaWRhdGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBBcmd1bWVudHMgb2YgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT2JqZWN0IHdpdGggdmFsaWRhdGUgcGFyYW1ldGVycy5cclxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIE5hbWUgb2YgdGhlIGZ1bmN0aW9uIHdoYXQgY2FsbGVkIHZhbGlkYXRlLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjaGVja2luZyBhcmd1bWVudHMgb2Ygb3RoZXIgZnVuY3Rpb25zLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGFyZ3MsIG9wdGlvbnMsIG5hbWUpIHtcclxuICBpdGVyYXRlKG9wdGlvbnMsIChhcnJheSwgbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIWlzQXJyYXkoYXJyYXkpKSB7XHJcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFycmF5LCAoY2hlY2tlcikgPT4ge1xyXG4gICAgICBjaGVja2VyID0gdmFsaWRhdGVDaGVja0V4cHJlc3Npb25zW2NoZWNrZXJdO1xyXG5cclxuICAgICAgaWYgKCFjaGVja2VyLmNoZWNrKGFyZ3NbbnVtYmVyXSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgY2hlY2tlci5lcnJvcihjaGVja2VyLnRleHQucmVwbGFjZSgnJG4nLCBudW1iZXJzW251bWJlcl0pICsgKG5hbWUgPyBgIChhdCAkeyBuYW1lIH0pYCA6ICcnKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEFscGhhYmV0XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBBbHBoYWJldCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc1N0cmluZywgdmFsaWRhdGUsIGRlZmluZVByb3BlcnRpZXMsIFN5bWJvbCB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ30gQ2hhclxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBvZiBvbmUgY2hhci5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtBcnJheUxpa2V9IGFscGhhYmV0IC0gQWxwaGFiZXQgdG8gd3JhcC5cclxuICogQHJldHVybnMge0FscGhhYmV0fSBJbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBhbHBoYWJldCBtYW5pcHVsYXRpb25zOiBhZGQsIGRlbGV0ZSBzeW1ib2xzLCBnZW5lcmF0ZSBhIHRva2VuIGZyb20gYW4gYWxwaGFiZXQsXHJcbiAqIGNoZWNrIGlmIGFuIGFscGhhYmV0IGNvbnRhaW5zIGEgd29yZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAqL1xyXG5jbGFzcyBBbHBoYWJldCB7XHJcbiAgY29uc3RydWN0b3IoYWxwaGFiZXQgPSBbXSkge1xyXG4gICAgY29uc3QgYSA9IHt9O1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBhbHBoYWJldC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjaGFyID0gYWxwaGFiZXRbaV07XHJcblxyXG4gICAgICBpZiAoIWNoZWNrKGNoYXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXkgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFbY2hhcl0gPSBjaGFyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7T2JqZWN0fSBBbHBoYWJldCMkJFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSBhbHBoYWJldC5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICckJCcsIHsgdmFsdWU6IGEgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFscGhhYmV0I2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLkNoYXJ9IGNoYXJzIC0gQ2hhcnMgdG8gYWRkLlxyXG4gICAqIEByZXR1cm5zIHtBbHBoYWJldH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgbGV0dGVycyB0byB0aGUgYWxwaGFiZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGFscGhhYmV0ID0gbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5hZGQoJ2QnLCAnZScpO1xyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZ2V0KCkuJDsgLy8gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxyXG4gICAqL1xyXG4gIGFkZCguLi5jaGFycykge1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGNoYXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc1tpXTtcclxuXHJcbiAgICAgIGlmICghY2hlY2soY2hhcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VhY2ggYXJndW1lbnQgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQjYWRkKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkW2NoYXJdID0gY2hhcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjY29udGFpbnNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHdvcmQgLSBXb3JkIHRvIGNoZWNrIGlmIGl0IGlzIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB3b3JkIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCB0aGF0IHJldHVybnMgaWYgYSB3b3JkIGlzIGluIGFscGhhYmV0IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgYWxwaGFiZXQgPSBuZXcgQWxwaGFiZXQoWydmJywgJ2InLCAnbycsICdhJywgJ3InXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnZm9vJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmFyJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmF6Jyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgY29udGFpbnMod29yZCkge1xyXG4gICAgdmFsaWRhdGUoW3dvcmRdLCBbJ3N0cmluZyddLCAnQWxwaGFiZXQjY29udGFpbnMnKTtcclxuXHJcbiAgICBjb25zdCBhbHBoYWJldCA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHdvcmQubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFhbHBoYWJldFt3b3JkW2ldXSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5DaGFyfSBjaGFycyAtIENoYXJzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7QWxwaGFiZXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWxldGluZyBsZXR0ZXJzIGZyb20gdGhlIGFscGhhYmV0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBhbHBoYWJldCA9IG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJywgJ2QnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5kZWxldGUoJ2EnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYicsICdjJywgJ2QnXVxyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZGVsZXRlKCdiJywgJ2QnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYyddXHJcbiAgICovXHJcbiAgZGVsZXRlKC4uLmNoYXJzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gY2hhcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hhciA9IGNoYXJzW2ldO1xyXG5cclxuICAgICAgaWYgKCFjaGVjayhjaGFyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRWFjaCBhcmd1bWVudCBtdXN0IGJlIGEgc2luZ2xlIGNoYXIhIChpbiBBbHBoYWJldCNkZWxldGUpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlbGV0ZSB0aGlzLiQkW2NoYXJdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNnZXRcclxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFdyYXAgb2YgYW4gYXJyYXkgb2YgYWxwaGFiZXQgbGV0dGVycy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIGFycmF5IG9mIGFscGhhYmV0IGxldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJ10pLmdldCgpLiQ7IC8vIFsnYScsICdiJywgJ2MnXVxyXG4gICAqL1xyXG4gIGdldCgpIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLiQkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjdG9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIFRva2VuIGxlbmd0aC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZW5lcmF0aW5nIHJhbmRvbSB0b2tlbiB3aXRoIGdpdmVuIGxlbmd0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSkudG9rZW4oNCk7IC8vICdhYmNiJ1xyXG4gICAqL1xyXG4gIHRva2VuKGxlbmd0aCkge1xyXG4gICAgdmFsaWRhdGUoW2xlbmd0aF0sIFtbJ2ludExpa2UnLCAnPjAnXV0sICdBbHBoYWJldCN0b2tlbicpO1xyXG5cclxuICAgIGNvbnN0IGFscGhhYmV0ID0gT2JqZWN0LmtleXModGhpcy4kJCk7XHJcbiAgICBjb25zdCBsZW4gPSBhbHBoYWJldC5sZW5ndGg7XHJcbiAgICBsZXQgdG9rZW4gPSAnJztcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRva2VuICs9IGFscGhhYmV0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlbildO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b2tlbjtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoQWxwaGFiZXQucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdBbHBoYWJldCdcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVjayhjaGFyKSB7XHJcbiAgcmV0dXJuIGlzU3RyaW5nKGNoYXIpICYmIGNoYXIubGVuZ3RoID09PSAxO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byBnZW5lcmF0ZSBhbiBhbHBoYWJldCBmcm9tLlxyXG4gKiBAcmV0dXJucyB7QWxwaGFiZXR9IE5ldyBpbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhbHBoYWJldCBmcm9tIGEgc3RyaW5nIHRoYXQgaGFzIGZvcm1hdCBsaWtlIHRoaXM6XHJcbiAqICcmbHQ7Y2hhcjEmZ3Q7LSZsdDtjaGFyMiZndDsgJmx0O2NoYXIzJmd0Oy0mbHQ7Y2hhcjQmZ3Q7J1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBhMSA9IGFscGhhYmV0KCdhLWMgMS0zJyk7XHJcbiAqIGNvbnN0IGEyID0gYWxwaGFiZXQoJzUtNWYtZycpO1xyXG4gKlxyXG4gKiBhMS5nZXQoKS4kOyAvLyBbJzEnLCAnMicsICczJywgJ2EnLCAnYicsICdjJ11cclxuICogYTIuZ2V0KCkuJDsgLy8gWyc1JywgJ2YnLCAnZyddXHJcbiAqL1xyXG5mdW5jdGlvbiBhbHBoYWJldChzdHJpbmcpIHtcclxuICB2YWxpZGF0ZShbc3RyaW5nXSwgWydzdHJpbmcnXSk7XHJcblxyXG4gIGNvbnN0IHJhbmdlcyA9IHN0cmluZy5zcGxpdCgvKFtcXHNcXFNdLStbXFxzXFxTXSk/L2cpO1xyXG4gIGNvbnN0IGxlbmd0aCA9IHJhbmdlcy5sZW5ndGg7XHJcbiAgY29uc3QgYWxwaGFiZXQgPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgcmFuZ2UgPSByYW5nZXNbaV07XHJcblxyXG4gICAgaWYgKCFyYW5nZSB8fCByYW5nZSA9PT0gJyAnKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkgJiYgIS9bXFxzXFxTXS0rW1xcc1xcU10vLnRlc3QocmFuZ2UpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgV3JvbmcgcGFydCBvZiB0aGUgc3RyaW5nICgkeyByYW5nZSB9KSEgKGluIGFscGhhYmV0KWApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkpIHtcclxuICAgICAgY29uc3Qgc3RhcnQgPSByYW5nZS5jaGFyQ29kZUF0KDApO1xyXG4gICAgICBjb25zdCBlbmQgPSByYW5nZS5jaGFyQ29kZUF0KDIpO1xyXG5cclxuICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBvZiB0aGUgcmFuZ2UgbXVzdCBiZSBiZWZvcmUgaXRzIGVuZCEgKGluIGFscGhhYmV0KScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBrID0gMCwgbGVuID0gZW5kIC0gc3RhcnQgKyAxOyBrIDwgbGVuOyBrKyspIHtcclxuICAgICAgICBhbHBoYWJldC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoc3RhcnQgKyBrKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyYW5nZS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgYWxwaGFiZXQucHVzaChyYW5nZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IEFscGhhYmV0KGFscGhhYmV0KTtcclxufVxyXG5cclxuZXhwb3J0IHsgQWxwaGFiZXQsIGFscGhhYmV0IH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIFN3aXRjaGVyXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBTd2l0Y2hlciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCxcclxuICBpdGVyYXRlLCBTeW1ib2wsIHRvQXJyYXksIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYm9vbGVhbid8J2VxdWFscyd8J3N0cmljdEVxdWFscyd8J2NhbGwnfSBTd2l0Y2hlck1vZGVcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHN3aXRjaGVyIG1vZGVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3dpdGNoZXJDYWxsQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufCp9IE9uIHdoYXQgdGhlIGNhbGxiYWNrIHJldHVybnMgZGVwZW5kcyBpZiB0aGUgY2FzZSBpcyBhIG1hdGNoICh0cnV0aHkgZm9yIHRoZSBtYXRjaCkuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBTd2l0Y2hlck1hdGNoQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgLSBBcmd1bWVudHMgZnJvbSB0aGUgc2Vjb25kIGFyZ3VtZW50IHRoYXQgc3dpdGNoZXIgd2FzIGNhbGxlZCB3aXRoLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gbWF0Y2hlZCAtIFN3aXRjaGVyIG1hdGNoZWQgY2FzZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIFN3aXRjaGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtPYmplY3R9IFtjYXNlcyA9IHt9XSAtIE9iamVjdCBvZiBjYXNlcy5cclxuICogQHBhcmFtIHtTd2l0Y2hlck1vZGV9IFttb2RlID0gJ2VxdWFscyddIC0gU3dpdGNoZXIgbW9kZS5cclxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAtIFN3aXRjaGVyIGRlZmF1bHQgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtTd2l0Y2hlcn0gLSBJbnN0YW5jZSBvZiBTd2l0Y2hlci5cclxuICogQGRlc2NyaXB0aW9uIFN3aXRjaGVyIGNsYXNzIGZvciBjcmVhdGluZyBmdW5jdGlvbnMgd29ya2luZyBzaW1pbGFyIHRvIHN3aXRjaCAodmFsdWUpIHt9IGNvbnN0cnVjdGlvbixcclxuICogYnV0IHdpdGggdGhlIHZhbHVlIGFzc2lnbm1lbnQuIFN3aXRjaGVyIGluc3RhbmNlIGlzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgdmFsdWUgYXJndW1lbnQgYW5kIGFuIG9wdGlvbmFsXHJcbiAqIGFyZ3MgYXJndW1lbnQuIEFyZ3Mgd2l0aCBhZGRpdGlvbmFsIHN3aXRjaGVyIHZhbHVlIGFuZCBtYXRjaGVkIGNhc2VcclxuICogYXJlIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbiBvZiB0aGUgbWF0Y2hlZCBjYXNlIChpZiBpdCBpcyBhIGZ1bmN0aW9uKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSk7XHJcbiAqIGNvbnN0IHN3aXRjaGVyID0gbmV3IFN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSwgJ3N0cmljdEVxdWFscycpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcih7XHJcbiAqICAgY2FzZTE6ICd2YWx1ZTEnLFxyXG4gKiAgIGNhc2UyOiAndmFsdWUyJ1xyXG4gKiB9LCAnc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKlxyXG4gKiAvLyBTZWUgW3N3aXRjaGVyXXtAbGluayBzd2l0Y2hlcn0gZXhhbXBsZXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIEZ1bmN0aW9uIHtcclxuICBjb25zdHJ1Y3RvcihjYXNlcyA9IHt9LCBtb2RlID0gJ2VxdWFscycsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBpZiAoaXNTdHJpbmcoY2FzZXMpKSB7XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQoYXJndW1lbnRzWzFdKSkge1xyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IG1vZGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1vZGUgPSBjYXNlcztcclxuICAgICAgY2FzZXMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBldmVudHVhbENhc2VzID0gW107XHJcblxyXG4gICAgaXRlcmF0ZShjYXNlcywgKHZhbHVlLCBDYXNlKSA9PiB7XHJcbiAgICAgIGV2ZW50dWFsQ2FzZXMucHVzaCh7IGNhc2U6IENhc2UsIHZhbHVlIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3dpdGNoZXIodmFsdWUsIGFyZ3MgPSBbXSkge1xyXG4gICAgICBjb25zdCB7IG1vZGUsIGRlZmF1bHQ6IGRlZiwgY2FzZXMgfSA9IHN3aXRjaGVyLiQkO1xyXG5cclxuICAgICAgbGV0IHJldCA9IGl0ZXJhdGUoY2FzZXMsICh7IHZhbHVlOiB2YWwsIGNhc2U6IENhc2UgfSkgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChtb2RlID09PSAnYm9vbGVhbicgJiYgQ2FzZSkgfHxcclxuICAgICAgICAgIC8qIGVzbGludCBlcWVxZXE6IDAgKi9cclxuICAgICAgICAgIChtb2RlID09PSAnZXF1YWxzJyAmJiBDYXNlID09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdzdHJpY3RFcXVhbHMnICYmIENhc2UgPT09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdjYWxsJyAmJiBDYXNlKHZhbHVlKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiB7IGNhc2U6IENhc2UsIHZhbHVlOiB2YWwgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHJldCkpIHtcclxuICAgICAgICByZXQgPSB7IHZhbHVlOiBkZWYgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJldC52YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gcmV0LnZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcmdzID0gdG9BcnJheShhcmdzLCB0cnVlKTtcclxuICAgICAgYXJncy5wdXNoKHZhbHVlLCByZXQuY2FzZSk7XHJcblxyXG4gICAgICByZXR1cm4gcmV0LnZhbHVlLmFwcGx5KG51bGwsIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBTd2l0Y2hlciMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGNhc2VzIC0gQXJyYXkgb2YgY2FzZXMuXHJcbiAgICAgKiBAcHJvcGVydHkge1N3aXRjaGVyTW9kZX0gbW9kZSAtIFN3aXRjaGVyIG1vZGUuXHJcbiAgICAgKiBAcHJvcGVydHkgeyp9IGRlZmF1bHQgLSBTd2l0Y2hlciBkZWZhdWx0IHZhbHVlLlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3dpdGNoZXIsICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBjYXNlczogZXZlbnR1YWxDYXNlcyxcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihzd2l0Y2hlciwgU3dpdGNoZXIucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gc3dpdGNoZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN3aXRjaGVyI2Nhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfFN3aXRjaGVyQ2FsbENhbGxiYWNrfEFycmF5LjwqfFN3aXRjaGVyQ2FsbENhbGxiYWNrPn0gY2FzZXMgLSBDYXNlIG9yIGFuIGFycmF5IG9mIGNhc2VzLlxyXG4gICAqIEBwYXJhbSB7KnxTd2l0Y2hlck1hdGNoQ2FsbGJhY2t9IHZhbHVlIC0gVmFsdWUgdGhhdCBoYXMgdG8gYmUgYXNzaWduZWQgb3IgYSBmdW5jdGlvblxyXG4gICAqIHRoYXQgaXMgY2FsbGVkIHdpdGggc3dpdGNoZXIgdmFsdWUsIGlmIGl0J3MgdGhlIGNhc2UuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZGVmaW5pbmcgbmV3IGNhc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5jYXNlKDIsICd0d28nKTtcclxuICAgKlxyXG4gICAqIHN3KDEpOyAvLyAnb25lJ1xyXG4gICAqIHN3KDIpOyAvLyAndHdvJ1xyXG4gICAqL1xyXG4gIGNhc2UoY2FzZXMsIHZhbHVlKSB7XHJcbiAgICBpZiAoIWlzQXJyYXkoY2FzZXMpKSB7XHJcbiAgICAgIGNhc2VzID0gW2Nhc2VzXTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGNhc2VzLCAoQ2FzZSkgPT4ge1xyXG4gICAgICB0aGlzLiQkLmNhc2VzLnB1c2goeyBjYXNlOiBDYXNlLCB2YWx1ZSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNkZWZhdWx0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gZGVmIC0gTmV3IGRlZmF1bHQgdmFsdWUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBkZWZhdWx0IHN3aXRjaGVyIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5kZWZhdWx0KCd0aHJlZScpO1xyXG4gICAqXHJcbiAgICogc3coMSk7IC8vICdvbmUnXHJcbiAgICogc3coMik7IC8vICd0aHJlZSdcclxuICAgKi9cclxuICBkZWZhdWx0KGRlZikge1xyXG4gICAgdGhpcy4kJC5kZWZhdWx0ID0gZGVmO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNtb2RlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3dpdGNoZXJNb2RlfSBtb2RlIC0gTmV3IHN3aXRjaGVyIG1vZGUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBzd2l0Y2hlciBtb2RlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAubW9kZSgnc3RyaWN0RXF1YWxzJylcclxuICAgKiAgIC5jYXNlKDEsICdudW1iZXInKVxyXG4gICAqICAgLmNhc2UoJzEnLCAnc3RyaW5nJyk7XHJcbiAgICpcclxuICAgKiBzdygxKTsgICAvLyAnbnVtYmVyJ1xyXG4gICAqIHN3KCcxJyk7IC8vICdzdHJpbmcnXHJcbiAgICovXHJcbiAgbW9kZShtb2RlKSB7XHJcbiAgICB0aGlzLiQkLm1vZGUgPSBtb2RlO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZGVmaW5lUHJvcGVydGllcyhTd2l0Y2hlci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N3aXRjaGVyJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gc3dpdGNoZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gW2Nhc2VzID0ge31dIC0gT2JqZWN0IG9mIGNhc2VzLlxyXG4gKiBAcGFyYW0ge1N3aXRjaGVyTW9kZX0gW21vZGUgPSAnZXF1YWxzJ10gLSBTd2l0Y2hlciBtb2RlLlxyXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIC0gU3dpdGNoZXIgZGVmYXVsdCB2YWx1ZS5cclxuICogQHJldHVybnMge1N3aXRjaGVyfSBOZXcgaW5zdGFuY2Ugb2YgU3dpdGNoZXIuXHJcbiAqIEBkZXNjcmlwdGlvbiBTaW1wbGUgd3JhcCBvZiBbbmV3IFN3aXRjaGVyKC4uLilde0BsaW5rIFN3aXRjaGVyfS5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICdmb28nLFxyXG4gKiAgIDI6ICdiYXInXHJcbiAqIH0pO1xyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdiYXInXHJcbiAqIHN3KDMpOyAvLyB1bmRlZmluZWRcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoKVxyXG4gKiAgIC5jYXNlKFsxLCAyXSwgJ2ZvbycpXHJcbiAqICAgLmNhc2UoMywgJ2JhcicpO1xyXG4gKiAgIFxyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdmb28nXHJcbiAqIHN3KDMpOyAvLyAnYmFyJ1xyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3cgPSBzd2l0Y2hlcignY2FsbCcpXHJcbiAqICAgLmNhc2UoaXNBcnJheSwgJ2FycmF5JylcclxuICogICAuY2FzZShpc1N0cmluZywgJ3N0cmluZycpXHJcbiAqICAgLmNhc2UoaXNOdW1iZXIsICdudW1iZXInKVxyXG4gKiAgIC5kZWZhdWx0KCdyZXN0Jyk7XHJcbiAqICAgXHJcbiAqIHN3KFtdKTsgICAgLy8gJ2FycmF5J1xyXG4gKiBzdygnZm9vJyk7IC8vICdzdHJpbmcnXHJcbiAqIHN3KDEyMyk7ICAgLy8gJ251bWJlcidcclxuICogc3coe30pOyAgICAvLyAncmVzdCdcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICh2YWx1ZSkgPT4ge1xyXG4gKiAgICAgY29uc29sZS5sb2codmFsdWUgKyAxKTtcclxuICogICB9LFxyXG4gKiAgIDI6ICgpID0+IHtcclxuICogICAgIGNvbnNvbGUubG9nKHZhbHVlIC0gMSk7XHJcbiAqICAgfVxyXG4gKiB9KTtcclxuICogXHJcbiAqIHN3KDEpOyAvLyAyXHJcbiAqIHN3KDIpOyAvLyAxXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBzdyA9IHN3aXRjaGVyKHtcclxuICogICBmaXJzdDogKGFycmF5KSA9PiBhcnJheVswXSxcclxuICogICBsYXN0OiAoYXJyYXkpID0+IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdXHJcbiAqIH0sICdlcXVhbHMnLCAoYXJyYXksIGluZGV4KSA9PiBhcnJheVtpbmRleF0pO1xyXG4gKiBjb25zdCBhcnJheSA9IFsxLCAyLCAzLCA0XTtcclxuICogXHJcbiAqIHN3KCdmaXJzdCcsIFthcnJheV0pOyAvLyAxXHJcbiAqIHN3KCdsYXN0JywgW2FycmF5XSk7ICAvLyA0XHJcbiAqIHN3KDEsIFthcnJheV0pOyAgICAgICAvLyAyXHJcbiAqIHN3KDIsIFthcnJheV0pOyAgICAgICAvLyAzXHJcbiAqL1xyXG5mdW5jdGlvbiBzd2l0Y2hlcihjYXNlcywgbW9kZSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgcmV0dXJuIG5ldyBTd2l0Y2hlciguLi5hcmd1bWVudHMpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHdoZW5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Jvb2xlYW58Kn0gY29uZGl0aW9uIC0gQ29uZGl0aW9uIHVzZWQgZm9yIHJldHVybmluZyB0aGUgcHJvcGVyIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMSAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMiAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgZmFsc2V5LlxyXG4gKiBAcmV0dXJucyB7Kn0gdmFsdWUxIG9yIHZhbHVlMi5cclxuICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAqIFt0ZXJuYXJ5IG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ubC9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29uZGl0aW9uYWxfT3BlcmF0b3J9LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogd2hlbih0cnVlLCAndHJ1ZScsICdmYWxzZScpOyAvLyAndHJ1ZSdcclxuICovXHJcbmZ1bmN0aW9uIHdoZW4oY29uZGl0aW9uLCB2YWx1ZTEsIHZhbHVlMikge1xyXG4gIHJldHVybiBjb25kaXRpb24gPyB2YWx1ZTEgOiB2YWx1ZTI7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN3aXRjaGVyLCBzd2l0Y2hlciwgd2hlbiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdXBlclxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgU3VwZXIgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRCB9IGZyb20gJy4vRCc7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzL2NvbnN0cnVjdG9ycyc7XHJcbmltcG9ydCB7XHJcbiAgaXNBcnJheSwgaXNBcnJheUxpa2UsIGlzRGF0ZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNOYU4sIGlzTnVsbCxcclxuICBpc09iamVjdCwgaXNQbGFpbk9iamVjdCwgaXNQcmltaXRpdmUsIGlzUmVnRXhwLCBpc1N0cmluZywgaXNVbmRlZmluZWQsXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2wsIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdXBlcnxBcnJ8RnVuY3xFbGVtfFN0cnxOdW18RGF0fEJsb2JPYmplY3R9IERXcmFwXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFueSBraW5kIG9mIEQtV3JhcC5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ3xOdW1iZXJ8bnVsbH0gS2V5XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEtleSB0eXBlIHVzZWQgaW4gbWFueSBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7VHJlZUVsZW1lbnRbXX0gVHJlZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRyZWVFbGVtZW50XHJcbiAqIEBwdWJsaWNcclxuICogQHByb3BlcnR5IHtLZXl9IGtleSAtIFRyZWUgZWxlbWVudCBrZXkuXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWUgLSBUcmVlIGVsZW1lbnQgdmFsdWUuXHJcbiAqIEBkZXNjcmlwdGlvbiB7QGxpbmsgVHJlZX0gZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBSZWR1Y2VDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSAtIFByZXZpb3VzIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQ3VycmVudCBpdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gQ3VycmVudCBpdGVyYXRpb24ga2V5L2luZGV4LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gZWxlbWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEpTT05DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IGtleSAtIEN1cnJlbnQgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGtleS5cclxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBPYmplY3RDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdPYmplY3QgLSBUaGUgbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVkdWNlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgLSBQcmV2aW91cyB2YWx1ZS5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3VwZXJNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAdGhpcyB7RFdyYXB9XHJcbiAqL1xyXG5cclxuY29uc3QgY2xvbmVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKG9iamVjdCkgPT4gb2JqZWN0KVxyXG4gIC5jYXNlKFxyXG4gICAgKG9iamVjdCkgPT4gbmV3IFN1cGVyKG9iamVjdCkgPT09IG9iamVjdCxcclxuICAgIChvYmplY3QpID0+IG5ldyAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkuY29uc3RydWN0b3IpKG5ldyBTdXBlcihvYmplY3QuJCkuZGVlcENsb25lKCkuJClcclxuICApXHJcbiAgLmNhc2UoaXNFbGVtZW50LCAob2JqZWN0LCBkZWVwKSA9PiBvYmplY3QuY2xvbmUoZGVlcCkpXHJcbiAgLmNhc2UoaXNEYXRlLCAob2JqZWN0KSA9PiBuZXcgRGF0ZShvYmplY3QpKVxyXG4gIC5jYXNlKGlzUmVnRXhwLCAob2JqZWN0KSA9PiBuZXcgUmVnRXhwKG9iamVjdC5zb3VyY2UsIG9iamVjdC50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSkpXHJcbiAgLmNhc2UoaXNBcnJheSwgKCkgPT4gW10pXHJcbiAgLmNhc2UoaXNQbGFpbk9iamVjdCwgKCkgPT4gKHt9KSk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN1cGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIEFuIG9iamVjdCB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEluc3RhbmNlIG9mIFN1cGVyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhbnkgdmFsdWUuIEFuZCB0aGVyZSBpcyBubyB3YXkgdG8gY3JlYXRlIGEgbmVzdGVkIHdyYXAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBTdXBlcih7fSk7IC8vIFN1cGVyXHJcbiAqL1xyXG5jbGFzcyBTdXBlciB7XHJcbiAgY29uc3RydWN0b3Iob2JqZWN0KSB7XHJcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgU3VwZXIpIHtcclxuICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgU3VwZXIjJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gV3JhcHBlZCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnJCcsIHsgdmFsdWU6IG9iamVjdCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIuYWRkU3RhdGljUHJvcGVydGllc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBwcm9wZXJ0aWVzIGtleXMgYW5kIHZhbHVlcyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHByb3BlcnR5IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFNldHMgc3RhdGljIHByb3BlcnRpZXMgZm9yIERXcmFwIGNvbnN0cnVjdG9ycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogU3VwZXIuYWRkU3RhdGljUHJvcGVydGllcygnY29vbCcsIDQyKTtcclxuICAgKiBTdXBlci5hZGRTdGF0aWNQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZFN0YXRpY1Byb3BlcnRpZXMocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmluZVByb3BlcnRpZXModGhpcywgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIG9iamVjdFxyXG4gICAqIHdpdGggcHJvcGVydGllcyBrZXlzIGFuZCB2YWx1ZXMgdmFsdWVzLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbdmFsdWVdIC0gSWYgYSBwcm9wZXJ0eSBwYXJhbWV0ZXIgaXMgYSBzdHJpbmcgdGhpcyBoYXMgdG8gYmUgYSBwcm9wZXJ0eSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTZXRzIHN0YXRpYyBwcm9wZXJ0aWVzIGZvciBEV3JhcCBwcm90b3R5cGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXMoJ2Nvb2wnLCA0Mik7XHJcbiAgICogU3VwZXIuYWRkSW5zdGFuY2VQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZEluc3RhbmNlUHJvcGVydGllcyhwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVmaW5lUHJvcGVydGllcyh0aGlzLnByb3RvdHlwZSwgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhc3NpZ25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi4oT2JqZWN0fFN1cGVyfCopfSBvYmplY3RzIC0gT2JqZWN0cyB0byBiZSBhc3NpZ25lZCB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuYXNzaWduXVxyXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiB9KS5hc3NpZ24oeyBhOiAzIH0sIHsgYzogMywgZDogNCB9LCB7IGQ6IDUgfSkuJDsgLy8geyBhOiAzLCBiOiAyLCBjOiAzLCBkOiA1IH1cclxuICAgKi9cclxuICBhc3NpZ24oLi4ub2JqZWN0cykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgaXRlcmF0ZShuZXcgU3VwZXIobykuJCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhdmVyYWdlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IG51bGxdIC0gQ2FsbGJhY2sgdGhhdCBpcyBwYXNzZWQgdG8ge0BsaW5rIFN1cGVyI3N1bX0uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXZlcmFnZSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3Igb2JqZWN0LnN1bShjYWxsYmFjaykgLyBvYmplY3QuY291bnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuYXZlcmFnZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogNSB9KS5hdmVyYWdlKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSk7IC8vIDEwXHJcbiAgICovXHJcbiAgYXZlcmFnZShjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI2F2ZXJhZ2UnKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5zdW0oY2FsbGJhY2spIC8gdGhpcy5jb3VudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjY2FsbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N1cGVyTWV0aG9kfSBmdW5jIC0gRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdpdGggdGhpcyBjb250ZXh0LlxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyAtIEFyZ3VtZW50cyB0byBiZSBjYWxsZWQgd2l0aC5cclxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJuIG9mIGZ1bmN0aW9uIGNhbGwuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGZ1bmMuY2FsbChET2JqZWN0LCAuLi5hcmdzKTtcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5jYWxsKGZ1bmN0aW9uIChiLCBjKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYiArIGM7XHJcbiAgICogfSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICBjYWxsKGZ1bmMsIC4uLmFyZ3MpIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjY2FsbCcpO1xyXG5cclxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjbG9uZVxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGFzc2lnbnMgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IHRvIGFuIGVtcHR5IG9uZSBhbmQgcmV0dXJucyB0aGUgbmV3IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyIH0gfSkuY2xvbmUoKS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogMiB9IH1cclxuICAgKi9cclxuICBjbG9uZSgpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIGZhbHNlXSk7XHJcblxyXG4gICAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgICAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY2xvbmVba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoY2xvbmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdXBlciNjb3VudFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBrZXlzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuY291bnQ7IC8vIDJcclxuICAgKi9cclxuICBnZXQgY291bnQoKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gb2JqZWN0Lmxlbmd0aCA6IE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjcmVhdGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yc10gLSBEZXNjcmlwdG9ycyBwYXNzZWQgdG8gT2JqZWN0LmNyZWF0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBELVdyYXAuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5jcmVhdGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLmNyZWF0ZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGNyZWF0ZShkZXNjcmlwdG9ycykge1xyXG4gICAgcmV0dXJuIEQoaXNQcmltaXRpdmUodGhpcy4kKSA/IHVuZGVmaW5lZCA6IE9iamVjdC5jcmVhdGUodGhpcy4kLCBkZXNjcmlwdG9ycykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwQXNzaWduXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKn0gb2JqZWN0cyAtIE9iamVjdHMgdG8gYmUgYXNzaWduZWQgdG8gdGhlIG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5kZWVwQXNzaWduKFxyXG4gICAqICAge1xyXG4gICAqICAgICBiOiB7XHJcbiAgICogICAgICAgYzogMlxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYjogMVxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYzoge1xyXG4gICAqICAgICAgICAgZDogMVxyXG4gICAqICAgICAgIH1cclxuICAgKiAgICAgfSxcclxuICAgKiAgICAgYjogMlxyXG4gICAqICAgfSxcclxuICAgKiAgIG51bGxcclxuICAgKiB9KTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICBhOiB7XHJcbiAgICogLy8gICAgIGI6IDEsXHJcbiAgICogLy8gICAgIGM6IHtcclxuICAgKiAvLyAgICAgICBkOiAxXHJcbiAgICogLy8gICAgIH1cclxuICAgKiAvLyAgIH0sXHJcbiAgICogLy8gICBiOiAyLFxyXG4gICAqIC8vIH1cclxuICAgKi9cclxuICBkZWVwQXNzaWduKC4uLm9iamVjdHMpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoaXNQcmltaXRpdmUob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgZGVlcEFzc2lnbihvYmplY3QsIG8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBDbG9uZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBEV3JhcC5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBjbG9uaW5nIG1ldGhvZC4gQ2xvbmVzIHBsYWluIG9iamVjdHMsIGFycmF5cywgcmVndWxhciBleHByZXNzaW9ucyBhbmQgZWxlbWVudHMsIHRoZSByZXN0IHN0YXlzIHRoZSBzYW1lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiBbMiwgM10sIGM6IHsgZDogNCB9IH0pLmRlZXBDbG9uZSgpLiQ7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgYTogMSxcclxuICAgKiAvLyAgIGI6IFsyLCAzXSxcclxuICAgKiAvLyAgIGM6IHsgZDogNCB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGRlZXBDbG9uZSgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZWVwQ2xvbmUodGhpcy4kKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBFcXVhbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIE9iamVjdCB0byBjb21wYXJlIHRvLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAtIElmIHRoZSBvYmplY3RzIGFyZSBkZWVwIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWVwIGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcigvMS8pLmRlZXBFcXVhbHMoLzEvKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFcXVhbHMob2JqZWN0ID0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLiQsIG9iamVjdCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRXZlcnlcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IGl0ZXJhdGlvbiBnb2VzIG9uIGFuZCBpZiBmYWxzZXkgaXQgc3RvcHMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIE90aGVyd2lzZSBmYWxzZS4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZXZlcnl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRXZlcnkoKHZhbHVlKSA9PiB2YWx1ZSA8IDQpOyAvLyB0cnVlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwRXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFdmVyeShjYWxsYmFjaywgbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgIG4gPSBjYWxsYmFjaztcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgIH0gZWxzZSBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBFdmVyeScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgcmV0dXJuIGRlZXBFdmVyeSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBhbmQgaWYgZmFsc2V5IGl0J3MgZXhjbHVkZWQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IEQtV3JhcCBvZiBmaWx0ZXJlZCBvYmplY3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgZmlsdGVyZWQgYnkgdGhlIGNhbGxiYWNrIG9iamVjdC4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZmlsdGVyfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlJTIpLiQ7ICAgICAvLyB7IGE6IDEsIGI6IHsgZDogMyB9IH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDEpLiQ7IC8vIHsgYTogMSB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlID4gMykuJDsgICAvLyB7fVxyXG4gICAqL1xyXG4gIGRlZXBGaWx0ZXIoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmlsdGVyJyk7XHJcblxyXG4gICAgY29uc3QgZmlsdGVyZWQgPSBkZWVwRmlsdGVyKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSk7XHJcblxyXG4gICAgcmV0dXJuIEQoaXNOaWwoZmlsdGVyZWQpID8gZmlsdGVyZWQgOiBmaWx0ZXJlZCB8fCB7fSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBGaW5kXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtUcmVlfG51bGx9IFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gaWYgc29tZXRoaW5nIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cmVlIG9mIHRoZSBlbGVtZW50cyBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNmaW5kfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbmQoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gMik7XHJcbiAgICogLy8gW1xyXG4gICAqIC8vICAgeyBrZXk6ICdjJywgdmFsdWU6IDIgfSxcclxuICAgKiAvLyAgIHsga2V5OiAnYicsIHZhbHVlOiB7IGM6IDIsIGQ6IDMgfSB9LFxyXG4gICAqIC8vICAgeyBrZXk6IG51bGwsIHZhbHVlOiA8aW5pdGlhbCBvYmplY3Q+IH1cclxuICAgKiAvLyBdXHJcbiAgICovXHJcbiAgZGVlcEZpbmQoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmluZCcpO1xyXG5cclxuICAgIHJldHVybiBkZWVwRmluZCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2goY2FsbGJhY2ssIG4gPSBJbmZpbml0eSkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBGb3JFYWNoJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICBkZWVwRm9yRWFjaCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqIFVubGlrZSB7QGxpbmsgU3VwZXIjZGVlcEZvckVhY2h9IHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgb24gZXZlcnkgdmFsdWUgb2YgZXZlcnkgb2JqZWN0IGluc2lkZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2hFbnRyeShjYWxsYmFjaywgbiA9IEluZmluaXR5KSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcEZvckVhY2gnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIGRlZXBGb3JFYWNoRW50cnkodGhpcy4kLCBjYWxsYmFjaywgbiwgW3sga2V5OiBudWxsLCB2YWx1ZTogdGhpcy4kIH1dKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZGVlcEZyZWV6ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZnJlZXplfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGRlZXBGcmVlemUoKSB7XHJcbiAgICBkZWVwRnJlZXplKHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBNYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gRC1XcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGEgd3JhcCBvZiBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGNhbGxiYWNrLiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNtYXB9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwTWFwKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSkuJDtcclxuICAgKiAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogOSB9IH1cclxuICAgKi9cclxuICBkZWVwTWFwKGNhbGxiYWNrLCBuID0gSW5maW5pdHkpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwTWFwJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICByZXR1cm4gRChkZWVwTWFwKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwUmVkdWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcFJlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEBwYXJhbSB7Kn0gW0lWID0gPGZpcnN0IHZhbHVlPnx1bmRlZmluZWRdIC0gSW5pdGlhbCB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7Kn0gTW9kaWZpZWQgSVYuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgbW9kaWZpZWQgSVYuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3JlZHVjZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IHsgYzogMiwgZDogMyB9IH0pLmRlZXBSZWR1Y2UoKHN1bSwgdmFsdWUpID0+IHN1bSArIHZhbHVlICogdmFsdWUsIEluZmluaXR5LCAwKTsgLy8gMTRcclxuICAgKi9cclxuICBkZWVwUmVkdWNlKGNhbGxiYWNrLCBuID0gSW5maW5pdHksIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFJlZHVjZScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG4gICAgY29uc3QgdHJlZSA9IFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHVuZGVmaW5lZCwgdHJlZSkuSVY7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHsgSVYgfSwgdHJlZSkuSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBTb21lXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIHNvbWUgb2YgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBPdGhlcndpc2UgZmFsc2UuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3NvbWV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwU29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwU29tZSgoKSA9PiB0cnVlKTsgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGRlZXBTb21lKGNhbGxiYWNrLCBuKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgbiA9IGNhbGxiYWNrO1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgfSBlbHNlIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFNvbWUnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIHJldHVybiBkZWVwU29tZSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwU3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZSB0by5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiB0aGUgb2JqZWN0cyBhcmUgZGVlcCBzdHJpY3QgZXF1YWwgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZXAgc3RyaWN0IGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcFN0cmljdEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gZmFsc2VcclxuICAgKiBuZXcgU3VwZXIoLzEvKS5kZWVwU3RyaWN0RXF1YWxzKC8xLyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICAgKi9cclxuICBkZWVwU3RyaWN0RXF1YWxzKG9iamVjdCA9IG51bGwpIHtcclxuICAgIHJldHVybiBkZWVwRXF1YWwodGhpcy4kLCBvYmplY3QsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWZpbmVcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBkZXNjcmlwdG9ycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgcHJvcGVydHkgZGVzY3JpcHRvci5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZGVmaW5lUHJvcGVydHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0eX1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LmRlZmluZVByb3BlcnRpZXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0aWVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5kZWZpbmUoJ2EnLCB7XHJcbiAgICogICB2YWx1ZTogMSxcclxuICAgKiAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAqICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICBjb25maWd1cmFibGU6IGZhbHNlXHJcbiAgICogfSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLmRlZmluZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGRlZmluZShwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogZGVzY3JpcHRvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3BlcnR5ID0gbmV3IFN1cGVyKHByb3BlcnR5KS4kO1xyXG5cclxuICAgIGlmIChpc09iamVjdCh0aGlzLiQpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuJCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IHByb3BzIC0gTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbXVsdGlwbGVcclxuICAgKiBbXCJkZWxldGVcIiBvcGVyYXRvcl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZGVsZXRlKCdjJywgJ2EnKS4kOyAvLyB7IGI6IDIgfVxyXG4gICAqL1xyXG4gIGRlbGV0ZSguLi5wcm9wcykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIHByb3BzLCAocHJvcGVydHkpID0+IHtcclxuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PScgb3BlcmF0b3IgYW5kIGZhbHNlIGlmIG5vdC4gTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBlcXVhbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKDMpLmVxdWFscygnMycpOyAgIC8vIHRydWVcclxuICAgKiBuZXcgU3VwZXIoTmFOKS5lcXVhbHMoTmFOKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGVxdWFscyhvYmplY3QpIHtcclxuICAgIGNvbnN0IG8gPSB0aGlzLiQ7XHJcblxyXG4gICAgb2JqZWN0ID0gbmV3IFN1cGVyKG9iamVjdCkuJDtcclxuXHJcbiAgICAvKiBlc2xpbnQgZXFlcWVxOiAwICovXHJcbiAgICByZXR1cm4gbyA9PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNldmVyeVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgZmFsc2V5IGl0IHN0b3BzLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmV2ZXJ5KCh2YWx1ZSkgPT4gdmFsdWUgPCA0KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAgICovXHJcbiAgZXZlcnkoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNldmVyeScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pICE9PSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBlbGVtZW50IGlzIGluY2x1ZGVkIGFuZCBpZiBmYWxzZXkgaXQncyBleGNsdWRlZC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBELVdyYXAgb2YgZmlsdGVyZWQgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGZpbHRlcmVkIGJ5IHRoZSBjYWxsYmFjayBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgLy8geyBhOiAxLCBjOiAzIH1cclxuICAgKiBuZXcgU3VwZXIobnVsbCkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBmaWx0ZXIoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmaWx0ZXInKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcblxyXG4gICAgLyogZXNsaW50IG5vLW5lc3RlZC10ZXJuYXJ5OiAwICovXHJcbiAgICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IGlzTmlsKG9iamVjdCkgPyBvYmplY3QgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEQobyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gQm9vbGVhbl0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogSWYgcmV0dXJucyB0cnV0aHkgaXRlcmF0aW9uIHN0b3BzIGFuZCBpZiBmYWxzZXkgaXQgY29udGludWVzLlxyXG4gICAqIEByZXR1cm5zIHt7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IHsga2V5LCB2YWx1ZSB9IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBmb3VuZCB7IGtleSwgdmFsdWUgfSBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5maW5kKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDIpOyAvLyB7IGtleTogJ2InLCB2YWx1ZTogMiB9XHJcbiAgICogbmV3IFN1cGVyKFsxLCAyLCAzXSkuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSAyKTsgICAgICAgICAgICAvLyB7IGtleTogMSwgdmFsdWU6IDIgfVxyXG4gICAqL1xyXG4gIGZpbmQoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI2ZpbmQnKTtcclxuXHJcbiAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4geyBrZXksIHZhbHVlIH07XHJcbiAgICAgIH1cclxuICAgIH0pIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZvckVhY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgaXRlcmF0aW5nIG92ZXIgYW55IG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5mb3JFYWNoKCh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgKiAgIG9iamVjdFtrZXldID0gdmFsdWUgKiB2YWx1ZTtcclxuICAgKiB9KS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogNSB9IH1cclxuICAgKi9cclxuICBmb3JFYWNoKGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmb3JFYWNoJyk7XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNmcmVlemVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZnJlZXplXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5mcmVlemVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9mcmVlemV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGZyZWV6ZSgpIHtcclxuICAgIE9iamVjdC5mcmVlemUodGhpcy4kKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZ2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBGdW5jdGlvbj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBnZXR0ZXJzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZ2V0dGVyXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgZ2V0dGVyIGZ1bmN0aW9uLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIGdldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IG9iamVjdDEgPSBuZXcgU3VwZXIoe30pLmdldCgnYScsICgpID0+IDEpLiQ7XHJcbiAgICogb2JqZWN0MS5hOyAvLyAxXHJcbiAgICpcclxuICAgKiBjb25zdCBvYmplY3QyID0gbmV3IFN1cGVyKHt9KS5nZXQoe1xyXG4gICAqICAgYTogKCkgPT4gMlxyXG4gICAqIH0pLiQ7XHJcbiAgICogb2JqZWN0Mi5hOyAvLyAyXHJcbiAgICovXHJcbiAgZ2V0KHByb3BlcnR5LCBnZXR0ZXIpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IGdldHRlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpdGVyYXRlKGlzT2JqZWN0KG9iamVjdCkgJiYgbmV3IFN1cGVyKHByb3BlcnR5KS4kLCAoZ2V0dGVyLCBwcm9wZXJ0eSkgPT4ge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgeyBnZXQ6IGdldHRlciB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNoYXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8Kn0ga2V5IC0gUHJvcGVydHkgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyB0aGUga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpblwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW59LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhcygnYicpOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgaGFzKGtleSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGtleSBpbiBvYmplY3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2hhc093blxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBrZXkgLSBQcm9wZXJ0eSB0byBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGl0cyBvd24ga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0I2hhc093blByb3BlcnR5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhc093bignYicpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuaGFzT3duKCdoYXNPd25Qcm9wZXJ0eScpOyAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc093bihrZXkpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjaW5zdGFuY2VvZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciAtIENvbnN0cnVjdG9yIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIGNvbnN0cnVjdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2luc3RhbmNlb2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpbnN0YW5jZW9mXCIgb3BlcmF0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9pbnN0YW5jZW9mfS5cclxuICAgKi9cclxuICBpbnN0YW5jZW9mKGNvbnN0cnVjdG9yKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kIGluc3RhbmNlb2YgY29uc3RydWN0b3I7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2lzRnJvemVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGZyb3plbi5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuaXNGcm96ZW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plbn0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZnJlZXplKCkuaXNGcm96ZW4oKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGlzRnJvemVuKCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5pc0Zyb3plbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNqc29uXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfFN0cmluZ1tdfSBbcmVwbGFjZXJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW3NwYWNlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBKU09OIHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0pTT04vc3RyaW5naWZ5XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0pTT04uc3RyaW5naWZ5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9KU09OL3N0cmluZ2lmeX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuanNvbigpOyAvLyAne1wiYVwiOjEsXCJiXCI6MixcImNcIjozfSdcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmpzb24oJyAgICAnKTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICAgIFwiYVwiOiAxLFxyXG4gICAqIC8vICAgICBcImJcIjogMixcclxuICAgKiAvLyAgICAgXCJjXCI6IDNcclxuICAgKiAvLyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5qc29uKChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICogICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICByZXR1cm4gdmFsdWUlMiA/IGtleSArIHZhbHVlMCA6IHVuZGVmaW5lZDtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHZhbHVlO1xyXG4gICAqIH0sIDIpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIFwiYVwiOiBcImExXCIsXHJcbiAgICogLy8gICBcImNcIjogXCJjM1wiXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGpzb24ocmVwbGFjZXIsIHNwYWNlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihyZXBsYWNlcikgJiYgIWlzQXJyYXkocmVwbGFjZXIpKSB7XHJcbiAgICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5LmFwcGx5KEpTT04sIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2tleU9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBmaW5kLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd8TnVtYmVyfG51bGx9IEEga2V5IG9yIGFuIGluZGV4IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIGVxdWFsIHRvIHRoZSBhcmd1bWVudCB2YWx1ZSBpbiB0aGUgb2JqZWN0LiBOYU5zIGFyZSBjb25zaWRlcmVkIHRvIGJlIGVxdWFsLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmtleU9mKDIpOyAgIC8vICdiJ1xyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2YoJzInKTsgLy8gJ2InXHJcbiAgICovXHJcbiAga2V5T2YodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IGl0ZXJhdGUodGhpcy4kLCAodmFsLCBrZXkpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlPZlN0cmljdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfE51bWJlcnxudWxsfSBBIGtleSBvciBhbiBpbmRleCBpZiBmb3VuZCBhbmQgbnVsbCBpZiBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBzdHJpY3QgZXF1YWwgdG8gdGhlIGFyZ3VtZW50IHZhbHVlIGluIHRoZSBvYmplY3QuIE5hTnMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2ZTdHJpY3QoMik7ICAgLy8gJ2InXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlPZlN0cmljdCgnMicpOyAvLyAnYidcclxuICAgKi9cclxuICBrZXlPZlN0cmljdCh2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gaXRlcmF0ZSh0aGlzLiQsICh2YWwsIGtleSkgPT4ge1xyXG4gICAgICBpZiAodmFsID09PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSBrZXlzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0LmtleXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlzKCkuJDsgLy8gWydhJywgJ2InLCAnYyddXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLmtleXMoKS4kOyAgICAgICAgICAgICAgICAgLy8gW11cclxuICAgKi9cclxuICBrZXlzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3Qua2V5cyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHdyYXAgb2YgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBjYWxsYmFjay5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5tYXAoKHZhbHVlKSA9PiB2YWx1ZSAqIDIpLiQ7IC8vIHsgYTogMiwgYjogNCwgYzogNiB9XHJcbiAgICogbmV3IFN1cGVyKG51bGwpLm1hcCgodmFsdWUpID0+IHZhbHVlICogMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBtYXAoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI21hcCcpO1xyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IG8gPSBpc0FycmF5TGlrZShvYmplY3QpID8gW10gOiBpc051bGwob2JqZWN0KSA/IG51bGwgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgb1trZXldID0gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNvbXBhcmlzb24gd2l0aCB0aGUgcHJldmlvdXMgbWF4IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt7a2V5OiBLZXksIHZhbHVlOiBOdW1iZXJ9fSBPYmplY3Qgd2l0aCBtYXggdmFsdWUgYW5kIGtleSBvZiB0aGUgbWF4IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGZpbmRpbmcgbWF4IHZhbHVlIGluIHRoZSBvYmplY3QuXHJcbiAgICogSWYgbm8gY2FsbGJhY2sgaXMgcHJlc2VudCBjb21wYXJpc29uIGlzIGJldHdlZW4gdmFsdWVzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCk7ICAgICAgICAgICAgICAgICAgICAgLy8geyBrZXk6ICdjJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCh2YWx1ZSkgPT4gNCAtIHZhbHVlKTsgLy8geyBrZXk6ICdhJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6ICdhJywgYjogJ2InLCBjOiAnYycgfSkubWF4KCk7ICAgICAgICAgICAgICAgLy8geyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1heChjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21heCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWF4LCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPiBtYXgudmFsdWUpIHtcclxuICAgICAgICBtYXgua2V5ID0ga2V5O1xyXG4gICAgICAgIG1heC52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfSkuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjbWluXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjb21wYXJpc29uIHdpdGggdGhlIHByZXZpb3VzIG1pbiB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7e2tleTogS2V5LCB2YWx1ZTogTnVtYmVyfX0gT2JqZWN0IHdpdGggbWluIHZhbHVlIGFuZCBrZXkgb2YgdGhlIG1pbiB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG1pbiB2YWx1ZSBpbiB0aGUgb2JqZWN0LlxyXG4gICAqIElmIG5vIGNhbGxiYWNrIGlzIHByZXNlbnQgY29tcGFyaXNvbiBpcyBiZXR3ZWVuIHZhbHVlcyBvZiB0aGUgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigpOyAgICAgICAgICAgICAgICAgICAgIC8vIHsga2V5OiAnYScsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigodmFsdWUpID0+IDQgLSB2YWx1ZSk7IC8vIHsga2V5OiAnYycsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAnYScsIGI6ICdiJywgYzogJ2MnIH0pLm1pbigpOyAgICAgICAgICAgICAgIC8vIHsga2V5OiBudWxsLCB2YWx1ZTogSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1pbihjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21pbicpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWluLCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPCBtaW4udmFsdWUpIHtcclxuICAgICAgICBtaW4ua2V5ID0ga2V5O1xyXG4gICAgICAgIG1pbi52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiBJbmZpbml0eSB9KS4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNvYmplY3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3RDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtPYmplY3R8Kn0gW29iamVjdCA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBXcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIFRoZSBvYmplY3QgaXMgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGludG8gdGhlIGNhbGxiYWNrLiBUaGUgb3V0cHV0IGlzIHRoaXMgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyIH0pLm9iamVjdCgob2JqZWN0LCB2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICogICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAqICAgb2JqZWN0W2tleSArIGtleV0gPSB2YWx1ZSAqIDI7XHJcbiAgICogfSkuJDsgLy8geyBhOiAxLCBhYTogMiwgYjogMiwgYmI6IDQgfVxyXG4gICAqL1xyXG4gIG9iamVjdChjYWxsYmFjaywgb2JqZWN0ID0ge30pIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI29iamVjdCcpO1xyXG5cclxuICAgIGl0ZXJhdGUodGhpcy4kLCAodmFsdWUsIGtleSwgb2JqKSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKG9iamVjdCwgdmFsdWUsIGtleSwgb2JqKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG9iamVjdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIGFzc2lnbmVkIG9iamVjdC5cclxuICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZ1xyXG4gICAqIHRoaXMgaGFzIHRvIGJlIGFuIGFzc2lnbmVkIHZhbHVlIGlmIGl0J3MgcHJlc2VudC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB8Kn0gUmV0dXJucyB0aGlzIGlmIGl0J3MgYSBzZXR0ZXIgb3IgYSB2YWx1ZSBpZiBnZXR0ZXIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBhbmQgc2V0dGluZyBwcm9wZXJ0aWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnKTsgICAgICAgICAgICAgIC8vIDFcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnLCA3KS4kOyAgICAgICAgIC8vIHsgYTogNywgYjogMiwgYzogMyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5wcm9wKHsgYTogNywgYjogOCB9KS4kOyAvLyB7IGE6IDcsIGI6IDgsIGM6IDMgfVxyXG4gICAqL1xyXG4gIHByb3AocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxICYmIGlzU3RyaW5nKHByb3BlcnR5KSkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kID8gdGhpcy4kW3Byb3BlcnR5XSA6IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmFzc2lnbihwcm9wZXJ0eSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgLSBQcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R8dW5kZWZpbmVkfSBQcm9wZXJ0eSBkZXNjcmlwdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxIH0pLnByb3BlcnR5RGVzY3JpcHRvcignYScpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIHZhbHVlOiAxLFxyXG4gICAqIC8vICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgKiAvLyAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAqIC8vICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIHByb3BlcnR5RGVzY3JpcHRvcihwcm9wZXJ0eSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBpc09iamVjdChvYmplY3QpID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KSA6IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjcHJvcGVydHlOYW1lc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmFtZXMgYXJyYXkuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuZGVmaW5lKCdjJywgeyB2YWx1ZTogMyB9KS4kOyAvLyBbJ2EnLCAnYicsICdjJ11cclxuICAgKi9cclxuICBwcm9wZXJ0eU5hbWVzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNwcm9wZXJ0eVN5bWJvbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBELVdyYXAgb2YgdGhlIG5hbWVzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5U3ltYm9sc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBbU3ltYm9sKCdmb28nKV06IDEgfSkuZGVmaW5lKFN5bWJvbCgnYmFyJyksIHsgdmFsdWU6IDIgfSkuJDsgLy8gW1N5bWJvbCgnZm9vJyksIFN5bWJvbCgnYmFyJyldXHJcbiAgICovXHJcbiAgcHJvcGVydHlTeW1ib2xzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCkgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3RvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3Byb3RvXSAtIElmIGl0J3MgcHJlc2VudCBpdCdzIHNldCBhcyBhIHByb3RvdHlwZSB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gSW4gZ2V0dGVyIG1vZGUgcmV0dXJucyB3cmFwIG9mIHRoZSBwcm90b3R5cGUgYW5kIGluIHNldHRlciBtb2RlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZ2V0UHJvdG90eXBlT2Zde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRQcm90b3R5cGVPZn1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LnNldFByb3RvdHlwZU9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qvc2V0UHJvdG90eXBlT2Z9LlxyXG4gICAqL1xyXG4gIHByb3RvKHByb3RvKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBpc0NvbnRleHRPYmplY3QgPSAhaXNOaWwob2JqZWN0KTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBpZiAoaXNDb250ZXh0T2JqZWN0ICYmIChpc09iamVjdChwcm90bykgfHwgaXNOdWxsKHByb3RvKSkpIHtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90byk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0NvbnRleHRPYmplY3QgPyBuZXcgU3VwZXIoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpIDogbmV3IFN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3JlZHVjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHsqfSBbSVYgPSA8Zmlyc3QgdmFsdWU+fHVuZGVmaW5lZF0gLSBJbml0aWFsIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHsqfSBNb2RpZmllZCBJVi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBtb2RpZmllZCBJVi4gSWYgdGhlIHNlY29uZCBhcmd1bWVudCBpcyBub3QgcHJlc2VudCBmaXJzdCB2YWx1ZSBpbiB0aGUgb2JqZWN0IGlzIHRha2VuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkucmVkdWNlKChzdW0sIHZhbHVlKSA9PiBzdW0gKyB2YWx1ZSAqIHZhbHVlLCAwKTsgLy8gMTRcclxuICAgKi9cclxuICByZWR1Y2UoY2FsbGJhY2ssIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNyZWR1Y2UnKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IHN0YXJ0S2V5O1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHN0YXJ0S2V5ID0ga2V5O1xyXG4gICAgICAgIElWID0gdmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSAhPT0gc3RhcnRLZXkpIHtcclxuICAgICAgICBJViA9IGNhbGxiYWNrKElWLCB2YWx1ZSwga2V5LCBvYmplY3QpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3NldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRnVuY3Rpb24+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgc2V0dGVycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3NldHRlcl0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHNldHRlciBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWZpbmluZyBzZXR0ZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBvYmplY3QgPSBuZXcgU3VwZXIoe30pXHJcbiAgICogICAuZ2V0KCdwdWJsaWMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICogICAgIHJldHVybiB0aGlzLl9wcml2YXRlO1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5zZXQoJ3B1YmxpYycsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsICcxJykuJDsgLy8geyBwdWJsaWM6IHVuZGVmaW5lZCB9XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsIDEpLiQ7ICAgLy8geyBwdWJsaWM6IDEsIF9wcml2YXRlOiAxIH1cclxuICAgKlxyXG4gICAqIG5ldyBTdXBlcih7fSkuc2V0KHtcclxuICAgKiAgIHB1YmxpYyh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfVxyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHNldChwcm9wZXJ0eSwgc2V0dGVyKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiBzZXR0ZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShpc09iamVjdChvYmplY3QpICYmIG5ldyBTdXBlcihwcm9wZXJ0eSkuJCwgKHNldHRlciwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgc2V0OiBzZXR0ZXIgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc29tZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRydWUgaWYgc29tZSBvZiB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLiBPdGhlcndpc2UgZmFsc2UuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuc29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5zb21lKCgpID0+IHRydWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsc2VcclxuICAgKi9cclxuICBzb21lKGNhbGxiYWNrID0gQm9vbGVhbikge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjc29tZScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KSB8fCBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PT0nIG9wZXJhdG9yIGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBzdHJpY3QgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcigzKS5zdHJpY3RFcXVhbHMoJzMnKTsgICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdXBlcihOYU4pLnN0cmljdEVxdWFscyhOYU4pOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgc3RyaWN0RXF1YWxzKG9iamVjdCkge1xyXG4gICAgY29uc3QgbyA9IHRoaXMuJDtcclxuXHJcbiAgICBvYmplY3QgPSBuZXcgU3VwZXIob2JqZWN0KS4kO1xyXG5cclxuICAgIHJldHVybiBvID09PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNzdW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gbnVsbF0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU3VtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3Igc3VtbWluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnN1bSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyA2XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5zdW0oKHZhbHVlKSA9PiB2YWx1ZSAqIHZhbHVlKTsgLy8gMTRcclxuICAgKi9cclxuICBzdW0oY2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9ufHwhJ10sICdTdXBlciNzdW0nKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZWR1Y2UoKHN1bSwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHN1bSArIE51bWJlcihjYWxsYmFjayA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkgOiB2YWx1ZSlcclxuICAgICksIDApO1xyXG4gIH1cclxuXHJcbiAgdG9KU09OKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdG9TdHJpbmdUYWdcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0b1N0cmluZyB0YWcgb2YgdGhlIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS50b1N0cmluZ1RhZzsgLy8gJ09iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoW10pLnRvU3RyaW5nVGFnOyAvLyAnQXJyYXknXHJcbiAgICogbmV3IFN1cGVyKDEpLnRvU3RyaW5nVGFnOyAgLy8gJ051bWJlcidcclxuICAgKi9cclxuICBnZXQgdG9TdHJpbmdUYWcoKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmdUYWcodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdHlwZVxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtcInR5cGVvZlwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5zdGFuY2VvZn0uLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnR5cGU7ICAgLy8gJ29iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoMSkudHlwZTsgICAgLy8gJ251bWJlcidcclxuICAgKiBuZXcgU3VwZXIoJzEnKS50eXBlOyAgLy8gJ3N0cmluZydcclxuICAgKiBuZXcgU3VwZXIodHJ1ZSkudHlwZTsgLy8gJ2Jvb2xlYW4nXHJcbiAgICovXHJcbiAgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgdmFsdWVzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdC48U3RyaW5nLCAqPn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgdmFsdWUgdG8gYmUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUsIG5vbi1jb25maWd1cmFibGUgdmFsdWVzLlxyXG4gICAqIFN5bm9ueW0gZm9yIG9iamVjdC5kZWZpbmUocHJvcGVydHksIHsgdmFsdWU6IHZhbHVlIH0pLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKCdhJywgMSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKHtcclxuICAgKiAgIGE6IDFcclxuICAgKiB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geyBhOiAxIH1cclxuICAgKi9cclxuICB2YWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUoaXNPYmplY3Qob2JqZWN0KSAmJiBuZXcgU3VwZXIocHJvcGVydHkpLiQsICh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgdmFsdWUgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgRC1XcmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkudmFsdWVzKCkuJDsgLy8gWzEsIDIsIDNdXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLnZhbHVlcygpLiQ7ICAgICAgICAgICAgICAgICAvLyBbXVxyXG4gICAqL1xyXG4gIHZhbHVlcygpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKGFycmF5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjd29yZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3IgY29uY2F0ZW5hdGluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEyMydcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKHZhbHVlKSA9PiB2YWx1ZSArIHZhbHVlKTsgLy8gJzExMjIzMydcclxuICAgKi9cclxuICB3b3JkKGNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbnx8ISddLCAnU3VwZXIjd29yZCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnJlZHVjZSgod29yZCwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHdvcmQgKyBTdHJpbmcoY2FsbGJhY2sgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpIDogdmFsdWUpXHJcbiAgICApLCAnJyk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN1cGVyLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnU3VwZXInXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwQXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IC0gT2JqZWN0IHRvIGFzc2lnbiBwcm9wZXJ0aWVzIHRvLlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBhc3NpZ24gcHJvcGVydGllcyBmcm9tLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBBc3NpZ24odGFyZ2V0LCBvYmplY3QpIHtcclxuICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmIChpc1ByaW1pdGl2ZSh0YXJnZXRba2V5XSkgfHwgIXt9Lmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgIHRhcmdldFtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzUHJpbWl0aXZlKHRhcmdldFtrZXldKSkge1xyXG4gICAgICBkZWVwQXNzaWduKHRhcmdldFtrZXldLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcENsb25lXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGNsb25lLlxyXG4gKiBAZGVzY3JpcHRpb24gRG9lcyB0aGUgZGVlcCBjbG9uaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcENsb25lKG9iamVjdCkge1xyXG4gIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIHRydWVdKTtcclxuXHJcbiAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICBjbG9uZVtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNsb25lO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFcXVhbFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG8xIC0gRmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Kn0gbzIgLSBTZWNvbmQgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RyaWN0IC0gSWYgY29tcGFyaXNvbiBzaG91bGQgYmUgc3RyaWN0IG9yIG5vdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgdGhlIG9iamVjdCBhcmUgZGVlcCBlcXVhbCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXF1YWwobzEsIG8yLCBzdHJpY3QpIHtcclxuICBpZiAobzEgPT09IG8yKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGlmIChpc05hTihvMSkgJiYgaXNOYU4obzIpICYmIGlzUHJpbWl0aXZlKG8xKSAmJiBpc1ByaW1pdGl2ZShvMikpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKG8xKSB8fCBpc05hTihvMikpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChpc1ByaW1pdGl2ZShvMSkgfHwgaXNQcmltaXRpdmUobzIpKSB7XHJcbiAgICByZXR1cm4gc3RyaWN0ID8gbzEgPT09IG8yIDogbzEgPT0gbzI7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSAmJiBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gbzEuZ2V0VGltZSgpID09PSBvMi5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSB8fCBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNSZWdFeHAobzEpICYmIGlzUmVnRXhwKG8yKSkge1xyXG4gICAgcmV0dXJuIG8xLnNvdXJjZSA9PT0gbzIuc291cmNlICYmXHJcbiAgICAgIG8xLnRvU3RyaW5nKCkubWF0Y2goL1tnaW11eV0qJC8pWzBdID09PSBvMi50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSAmJlxyXG4gICAgICBvMS5sYXN0SW5kZXggPT09IG8yLmxhc3RJbmRleDtcclxuICB9XHJcblxyXG4gIGlmIChpc1JlZ0V4cChvMSkgfHwgaXNSZWdFeHAobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoKCFpc1BsYWluT2JqZWN0KG8xKSAmJiAhaXNBcnJheShvMSkpIHx8ICghaXNQbGFpbk9iamVjdChvMikgJiYgIWlzQXJyYXkobzIpKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcDEgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YobzEpO1xyXG4gIGNvbnN0IHAyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG8xKTtcclxuXHJcbiAgaWYgKE9iamVjdC5rZXlzKG8xKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKG8yKS5sZW5ndGgpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChwMSAmJiBwMiAmJiAodG9TdHJpbmdUYWcocDEuY29uc3RydWN0b3IpICE9PSB0b1N0cmluZ1RhZyhwMi5jb25zdHJ1Y3RvcikpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvMSwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmICghKGtleSBpbiBvMikgfHwgIWRlZXBFcXVhbCh2YWx1ZSwgbzJba2V5XSwgc3RyaWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFdmVyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgbm90IGl0IHN0b3BzLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgYWxsIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXZlcnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIHJldHVybiBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICAgID8gIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgICA6ICFkZWVwRXZlcnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSlcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBGaWx0ZXJcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBpbiB0aGUgb3V0cHV0IGFuZCBpZiBub3QgaXQncyBleGNsdWRlZC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gb2JqZWN0cyBvZiBpdGVyYXRpb24uXHJcbiAqIEByZXR1cm5zIHsqfSBGaWx0ZXJlZCBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRmlsdGVyKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcbiAgY29uc3QgbnVsID0gaXNOaWwob2JqZWN0KTtcclxuICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IG51bCA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpKSB7XHJcbiAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb1trZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCkge1xyXG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IGRlZXBGaWx0ZXIodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgICBpZiAoZmlsdGVyZWQpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaChmaWx0ZXJlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IGZpbHRlcmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpZiAoYXJyYXkpIHtcclxuICAgIHJldHVybiBvLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBpZiAoIW51bCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7VHJlZXxudWxsfSAtIElmIGZvdW5kIHRoZSB3aG9sZSB0cmVlIGlzIHJldHVybmVkIGFuZCBpZiBub3QgaXQncyBudWxsIHdoYXQncyByZXR1cm5lZC5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGaW5kKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBlbmQgPSBuID09PSAxO1xyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXdUcmVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gZGVlcEZpbmQodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH0pIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRm9yRWFjaChvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVlcEZvckVhY2godmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hFbnRyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGb3JFYWNoRW50cnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKTtcclxuXHJcbiAgICBpZiAoIWVuZCAmJiAhaXNQcmltaXRpdmUodmFsdWUpKSB7XHJcbiAgICAgIGRlZXBGb3JFYWNoRW50cnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZyZWV6ZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBmcmVlemUuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmplY3QpIHtcclxuICBPYmplY3QuZnJlZXplKG9iamVjdCk7XHJcbiAgaXRlcmF0ZShvYmplY3QsIGRlZXBGcmVlemUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBNYXBcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBSZXR1cm5lZCB2YWx1ZSBpcyB1c2VkIHRvIGNyZWF0ZSB0byBuZXcgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IE5ldyBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwTWFwKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBvID0gaXNBcnJheUxpa2Uob2JqZWN0KSA/IFtdIDogaXNOaWwob2JqZWN0KSA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgb1trZXldID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgOiBkZWVwTWFwKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIG5ld1RyZWUpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwUmVkdWNlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cclxuICogQHBhcmFtIHtEZWVwUmVkdWNlQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgb24gZXZlcnkgZWxlbWVudC5cclxuICogUmV0dXJuZWQgdmFsdWUgaXMgdXNlZCB0byBjcmVhdGUgdG8gbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhcnQgLSBJZiBjYWxsYmFjayB3YXMgY2FsbGVkIGFscmVhZHkgb3Igbm90LlxyXG4gKiBAcGFyYW0ge3sgSVY6ICogfXx1bmRlZmluZWR9IElWIC0gSWYgY2FsbGJhY2sgd2FzIGNhbGxlZCBhbHJlYWR5IG9yIG5vdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3sgSVY6ICogfX0gVHJhbnNmb3JtZWQgSVYuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwUmVkdWNlKG9iamVjdCwgY2FsbGJhY2ssIG4sIHN0YXJ0LCBJViwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBpZiAoIUlWICYmIChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiAhc3RhcnQpIHtcclxuICAgICAgSVYgPSB7IElWOiB2YWx1ZSB9O1xyXG4gICAgICBzdGFydCA9IHRydWU7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIElWID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IHsgSVY6IGNhbGxiYWNrKElWLklWLCB2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpIH1cclxuICAgICAgOiBkZWVwUmVkdWNlKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIHN0YXJ0LCBJViwgbmV3VHJlZSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBJVjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwU29tZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiBzb21lIG9mIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwU29tZShvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgcmV0dXJuIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpXHJcbiAgICAgICAgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpXHJcbiAgICAgICAgOiBkZWVwU29tZSh2YWx1ZSwgY2FsbGJhY2ssIG4gLSAxLCBuZXdUcmVlKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0pIHx8IGZhbHNlO1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMF0ucHVzaCh7XHJcbiAgY2hlY2s6ICgpID0+IHRydWUsXHJcbiAgY2xzOiBTdXBlclxyXG59KTtcclxuXHJcbmV4cG9ydCB7IFN1cGVyIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEZ1bmNcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEZ1bmMgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgdmFsaWRhdGUsIHRvQXJyYXksIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllcywgaXRlcmF0ZSB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEJlZm9yZU1pZGRsZXdhcmVcclxuICogQHBhcmFtIHtBcnJheX0gYXJncyAtIFByZXZpb3VzIGFyZ3VtZW50cy5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMge0FycmF5fSAtIE5ldyBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBBZnRlck1pZGRsZXdhcmVcclxuICogQHBhcmFtIHsqfSByZXR1cm5WYWx1ZSAtIFByZXZpb3VzIHJldHVybiB2YWx1ZS5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMgeyp9IC0gTmV3IHJldHVybiB2YWx1ZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEZ1bmNcclxuICogQGV4dGVuZHMgU3VwZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuYyA9IGZ1bmN0aW9uICgpIHt9XSAtIEZ1bmN0aW9uIHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtGdW5jfSBJbnN0YW5jZSBvZiBGdW5jLlxyXG4gKiBAZGVzY3JpcHRpb24gQSB3cmFwIG9mIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhNYXRoLm1heCk7XHJcbiAqXHJcbiAqIGZ1bmMoMSwgNCwgLTIsIDUpOyAvLyA1XHJcbiAqL1xyXG5jbGFzcyBGdW5jIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKGZ1bmMgPSAoKSA9PiB7fSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm94eSgpIHtcclxuICAgICAgaWYgKCsrcHJveHkuJCQuY2FsbGVkIDwgcHJveHkuJCQuY2FuQmVDYWxsZWQpIHtcclxuICAgICAgICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIsIHN5bmMsIGNvbnRleHRMb2NrZWQgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCB7IGNvbnRleHQsIGFyZ3MgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCByZXQ7XHJcblxyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0TG9ja2VkID8gY29udGV4dCA6IGNvbnRleHQgfHwgdGhpcztcclxuICAgICAgICBhcmdzID0gYXJncy5jb25jYXQodG9BcnJheShhcmd1bWVudHMpKTtcclxuXHJcbiAgICAgICAgaWYgKHN5bmMpIHtcclxuICAgICAgICAgIGl0ZXJhdGUoYmVmb3JlLCAobWlkZGxld2FyZSkgPT4ge1xyXG4gICAgICAgICAgICBhcmdzID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHRvQXJyYXkoYXJncyksIHByb3h5KTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgdG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgICAgcmV0ID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xyXG5cclxuICAgICAgICBpdGVyYXRlKGJlZm9yZSwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKGFyZ3MpID0+IG1pZGRsZXdhcmUuY2FsbChjb250ZXh0LCB0b0FycmF5KGFyZ3MpLCBwcm94eSkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKChhcmdzKSA9PiBmdW5jLmFwcGx5KGNvbnRleHQsIHRvQXJyYXkoYXJncykpKTtcclxuXHJcbiAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKHJldCkgPT4gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge09iamVjdH0gRnVuYyMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFmdGVyIC0gQWZ0ZXIgbWlkZGxld2FyZSBhcnJheS5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3MgLSBMb2NrZWQgYW5kIGJvdW5kIGFyZ3VtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3NMb2NrZWQgLSBMb2NrZWQgYXJndW1lbnRzLlxyXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gYmVmb3JlIC0gQmVmb3JlIG1pZGRsZXdhcmUgYXJyYXkuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FsbGVkIC0gSG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FuQmVDYWxsZWQgLSBIb3cgbWFueSB0aW1lcyB0aGUgZnVuY3Rpb24gY2FuIGJlIGFjdHVhbGx5IGNhbGxlZC5cclxuICAgICAqIEBwcm9wZXJ0eSB7Kn0gY29udGV4dCAtIExvY2tlZCBvciBib3VuZCBjb250ZXh0LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBjb250ZXh0TG9ja2VkIC0gSXMgY29udGV4dCBsb2NrZWQgb3Igbm90LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBzeW5jIC0gSXMgZnVuY3Rpb24gc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBhZnRlcjogW10sXHJcbiAgICAgICAgYXJnczogW10sXHJcbiAgICAgICAgYXJnc0xvY2tlZDogW10sXHJcbiAgICAgICAgYmVmb3JlOiBbXSxcclxuICAgICAgICBjYWxsZWQ6IDAsXHJcbiAgICAgICAgY2FuQmVDYWxsZWQ6IEluZmluaXR5LFxyXG4gICAgICAgIGNvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgY29udGV4dExvY2tlZDogZmFsc2UsXHJcbiAgICAgICAgc3luYzogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBGdW5jIyRcclxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCAnJCcsIHsgdmFsdWU6IGZ1bmMgfSk7XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJveHksIEZ1bmMucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gcHJveHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYWZ0ZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtBZnRlck1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBBZnRlciBtaWRkbGV3YXJlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYWZ0ZXJBbGwgPSB0cnVlXSAtIEJvb2xlYW4gcGFyYW1ldGVyIHdoZXJlIHRvIHB1dCBtaWRkbGV3YXJlLlxyXG4gICAqIFRydXRoeSBwYXJhbWV0ZXIgc3RhbmRzIGZvciBcInRvIHRoZSBlbmRcIiBhbmQgZmFsc2V5IGZvciBcInRvIHRoZSBiZWdpbm5pbmdcIi5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBZGRzIGFmdGVyIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYWZ0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0ICogcmVzdWx0KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoNCk7ICAvLyAyNVxyXG4gICAqIGZ1bmMoLTQpOyAvLyA5XHJcbiAgICovXHJcbiAgYWZ0ZXIobWlkZGxld2FyZSwgYWZ0ZXJBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYWZ0ZXInKTtcclxuXHJcbiAgICBjb25zdCB7IGFmdGVyIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChhZnRlckFsbCkge1xyXG4gICAgICBhZnRlci5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWZ0ZXIudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNhcHBseVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIENvbnRleHQgdG8gY2FsbCB3aXRoLlxyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYXBwbHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRnVuY3Rpb24jYXBwbHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2FwcGx5fS5cclxuICAgKi9cclxuICBhcHBseShjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gKCgpID0+IHt9KS5hcHBseS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2FzeW5jXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEpID0+IGEgKyAxKS5hc3luYygpO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDVcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBhc3luYyhjb25kaXRpb24gPSB0cnVlKSB7XHJcbiAgICB0aGlzLiQkLnN5bmMgPSAhY29uZGl0aW9uO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0JlZm9yZU1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBCZWZvcmUgbWlkZGxld2FyZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2JlZm9yZUFsbCA9IHRydWVdIC0gQm9vbGVhbiBwYXJhbWV0ZXIgd2hlcmUgdG8gcHV0IG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGVuZFwiLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEFkZHMgYmVmb3JlIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYmVmb3JlKChbYXJnXSkgPT4gW2FyZyAqIGFyZ10pO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KTsgLy8gMTdcclxuICAgKiBmdW5jKDMpOyAvLyAxMFxyXG4gICAqL1xyXG4gIGJlZm9yZShtaWRkbGV3YXJlLCBiZWZvcmVBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYmVmb3JlJyk7XHJcblxyXG4gICAgY29uc3QgeyBiZWZvcmUgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGJlZm9yZUFsbCkge1xyXG4gICAgICBiZWZvcmUudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJlZm9yZS5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIENvbXBvc2l0aW9uIG9mIHtAbGluayBGdW5jI2JpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjYmluZEFyZ3N9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmEgKyBhICsgYjtcclxuICAgKiB9KS5iaW5kKHsgYTogMiB9LCAxKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgYmluZChjb250ZXh0LCAuLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuYmluZENvbnRleHQoY29udGV4dClcclxuICAgICAgLmJpbmRBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IGFyZ3MgLSBBcmd1bWVudHMgdG8gYmluZC5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCaW5kcyBhcmd1bWVudHMgaW4gYWRkaXRpb24gdG8gYWxyZWFkeSBsb2NrZWQgYW5kIGJvdW5kIG9uZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoLi4uYXJncykgPT4ge1xyXG4gICAqICAgbGV0IHN1bSA9IDA7XHJcbiAgICpcclxuICAgKiAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAqICAgICBzdW0gKz0gYXJnc1tpXTtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHN1bTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKlxyXG4gICAqIGZ1bmMuYmluZEFyZ3MoWzRdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDEwXHJcbiAgICpcclxuICAgKiBmdW5jLmJpbmRBcmdzKFs1XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxNVxyXG4gICAqL1xyXG4gIGJpbmRBcmdzKGFyZ3MpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGZ1bmMuYXJncyA9IGZ1bmMuYXJncy5jb25jYXQodG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEJpbmQgbmV3IGNvbnRleHQgaWYgaXQncyBub3QgYWxyZWFkeSBsb2NrZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgYTogMSB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQ29udGV4dCh7IGE6IDIgfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKCk7IC8vIDJcclxuICAgKi9cclxuICBiaW5kQ29udGV4dChjb250ZXh0KSB7XHJcbiAgICBjb25zdCBmdW5jID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoIWZ1bmMuY29udGV4dExvY2tlZCkge1xyXG4gICAgICBmdW5jLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbGxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBDb250ZXh0IHRvIGNhbGwgd2l0aC5cclxuICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vY2FsbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtGdW5jdGlvbiNjYWxsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9jYWxsfS5cclxuICAgKi9cclxuICBjYWxsKGNvbnRleHQsIC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiAoKCkgPT4ge30pLmNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRnVuYyNjYWxsZWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpO1xyXG4gICAqIGZ1bmMoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMuY2FsbGVkIC8vIDJcclxuICAgKi9cclxuICBnZXQgY2FsbGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCQuY2FsbGVkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbkJlQ2FsbGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lcyAtIE51bWJlciBvZiBtYXhpbXVtIHRpbWVzIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgKG1pZGRsZXdhcmVzIGFyZSBhbHNvIHRha2VuIGZvciBhIGNvdW50KS5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGxpbWl0aW5nIGNhbGwgdGltZXMgb2YgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuY2FuQmVDYWxsZWQoMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEpOyAvLyAyXHJcbiAgICogZnVuYygxKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgY2FuQmVDYWxsZWQodGltZXMpIHtcclxuICAgIHRoaXMuJCQuY2FuQmVDYWxsZWQgPSB0aW1lcztcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsaW1pdEFyZ3NUb1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGFyZ3VtZW50cyB0byBsaW1pdCB0by5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCdWlsdC1pbiBiZWZvcmUgbWlkZGxld2FyZSBmb3IgbGltaXRpbmcgbnVtYmVyIG9mIGFyZ3VtZW50c1xyXG4gICAqIHRoYXQgaXMgcHV0IHRvIHRoZSBlbmQgb2YgYmVmb3JlIG1pZGRsZXdhcmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEsIGIpID0+IFthLCBiXSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgMl1cclxuICAgKlxyXG4gICAqIGZ1bmMubGltaXRBcmdzVG8oMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgdW5kZWZpbmVkXVxyXG4gICAqL1xyXG4gIGxpbWl0QXJnc1RvKG51bWJlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuYmVmb3JlKChhcmdzKSA9PiBhcmdzLnNsaWNlKDAsIG51bWJlciksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gY29udGV4dCAtIENvbnRleHQgdG8gbG9jay5cclxuICAgKiBAcGFyYW0geyhBcnJheXxBcmd1bWVudHN8Kil9IGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9jay5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyNsb2NrQ29udGV4dH0gYW5kIHtAbGluayBGdW5jI2xvY2tBcmdzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYSArIGI7XHJcbiAgICogfSkubG9jayh7IGE6IDIgfSwgWzFdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgbG9jayhjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAubG9ja0NvbnRleHQoY29udGV4dClcclxuICAgICAgLmxvY2tBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2xvY2tBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBsb2NrLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBib3VuZCBhcmd1bWVudHMgYW5kIGFkZHMgbmV3IGFyZ3VtZW50cyB0byBhbHJlYWR5IGxvY2tlZCBvbmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyA2XHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tBcmdzKFs0XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxMFxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQXJncyhbNiwgN10pO1xyXG4gICAqIGZ1bmMubG9ja0FyZ3MoWzVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICovXHJcbiAgbG9ja0FyZ3MoYXJncykge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkID0gZnVuYy5hcmdzTG9ja2VkLmNvbmNhdCh0b0FycmF5KGFyZ3MpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrQ29udGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgLSBDb250ZXh0IHRvIGxvY2suXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9ja3MgY29udGV4dCBpZiBpdCdzIG5vdCBhbHJlYWR5IGxvY2tlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uICgpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmE7XHJcbiAgICogfSkubG9ja0NvbnRleHQoeyBhOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tDb250ZXh0KHsgYTogMiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqL1xyXG4gIGxvY2tDb250ZXh0KGNvbnRleHQpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgIGZ1bmMuY29udGV4dExvY2tlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjdGltaW5nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrIC0gQXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdG8gY29uc29sZS50aW1lKCkgYW5kIGNvbnNvbGUudGltZUVuZCgpLlxyXG4gICAqIEJ5IGRlZmF1bHQgbmFtZSBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24sIG9yIGlmIGl0J3Mgbm90IHByZXNlbnQsICdhbm9ueW1vdXMnIGlzIHVzZWQuXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gQnVpbHQtaW4gYmVmb3JlIGFuZCBhZnRlciBtaWRkbGV3YXJlcyBmb3Igbm90aW5nIGNhbGxpbmcgdGltZS5cclxuICAgKiBJbiBjYXNlIG9mIGFzeW5jaHJvbm91cyBmdW5jdGlvbnMgaXQgbm90ZXMgdGltZSBiZXR3ZWVuIGNhbGxpbmcgZnVuY3Rpb24gYW5kIHJlc29sdmluZyBvciByZWplY3RpbmcgdGhlIHJlc3VsdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKChhKSA9PiBhICsgMSlcclxuICAgKiAgIC50aW1pbmcoJ3BsdXMgMScpO1xyXG4gICAqXHJcbiAgICogZnVuYygyKTsgLy8gcGx1cyAxOiAwLjAxMG1zXHJcbiAgICpcclxuICAgKiBjb25zdCBhc3luYyA9IG5ldyBGdW5jKCgpID0+IG5ldyBQcm9taXNlKCgpID0+IHtcclxuICAgKiAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKTtcclxuICAgKiAgIH0pKVxyXG4gICAqICAgLmFzeW5jKClcclxuICAgKiAgIC50aW1pbmcoKTtcclxuICAgKlxyXG4gICAqIGFzeW5jKCk7XHJcbiAgICogLy8gQWZ0ZXIgMSBzZWNvbmQuLi5cclxuICAgKiAvLyBhbm9ueW1vdXM6IDEwMDAuMDEwbXNcclxuICAgKi9cclxuICB0aW1pbmcobWFyaykge1xyXG4gICAgbWFyayA9IGFyZ3VtZW50cy5sZW5ndGggPyBTdHJpbmcobWFyaykgOiB0aGlzLiQubmFtZSB8fCAnYW5vbnltb3VzJztcclxuXHJcbiAgICB0aGlzLmJlZm9yZSgoYXJncykgPT4ge1xyXG4gICAgICBjb25zb2xlLnRpbWUobWFyayk7XHJcblxyXG4gICAgICByZXR1cm4gYXJncztcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLmFmdGVyKChyZXQpID0+IHtcclxuICAgICAgY29uc29sZS50aW1lRW5kKG1hcmspO1xyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHRvU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuICgoKSA9PiB7fSkudG9TdHJpbmcuY2FsbCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyN1bmJpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjdW5iaW5kQXJnc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoYSkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vICsgJyAmICcgKyAgYTtcclxuICAgKiB9KS5iaW5kKHsgZm9vOiAyIH0sIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAnMiAmIDEnXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZCgpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAndW5kZWZpbmVkICYgdW5kZWZpbmVkJ1xyXG4gICAqL1xyXG4gIHVuYmluZCgpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC51bmJpbmRDb250ZXh0KClcclxuICAgICAgLnVuYmluZEFyZ3MoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyN1bmJpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBhbGwgYm91bmQgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSkuYmluZEFyZ3MoWzQsIDVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICB1bmJpbmRBcmdzKCkge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRXJhc2VzIGNvbnRleHQgaWYgaXQncyBub3QgbG9ja2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgZm9vOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgdW5iaW5kQ29udGV4dCgpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEZ1bmMucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdGdW5jJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNGdW5jdGlvbixcclxuICBjbHM6IEZ1bmNcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIG1ldGhvZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgLSBNZXRob2QgdG8gY2FsbC5cclxuICogQHBhcmFtIHsoQXJyYXl8QXJndW1lbnRzfCopfSBhcmdzIC0gQXJndW1lbnRzIHRvIGNhbGwgdGhlIG1ldGhvZCB3aXRoLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgY2FsbHMgc3RhdGVkIG1ldGhvZCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZnVuY3Rpb25cclxuICogdGhhdCBjYWxscyBzdGF0ZWQgbWV0aG9kIG9mIGl0cyBmaXJzdCBhcmd1bWVudCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogWzEuMjM0NSwgMi43ODksIDMuMTRdLm1hcChtZXRob2QoJ3RvRml4ZWQnLCBbMl0pKTsgLy8gWycxLjIzJywgJzIuNzknLCAnMy4xNCddXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXRob2QobWV0aG9kLCBhcmdzID0gW10pIHtcclxuICByZXR1cm4gKHgpID0+IHhbbWV0aG9kXS5hcHBseSh4LCB0b0FycmF5KGFyZ3MpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBub29wXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBFbXB0eSBmdW5jdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBwcm9wXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHByb3AgLSBQcm9wZXJ0eSB0byByZXR1cm4uXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdpdmVuIHByb3BlcnR5IG9mIGl0cyBmaXJzdCBhcmd1bWVudC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJuIHRoZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZ2l2ZW4gcHJvcGVydHkgb2YgaXRzIGZpcnN0IGFyZ3VtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBbJ2ZvbycsICcxMicsICc3ODkwJ10ubWFwKHByb3AoJ2xlbmd0aCcpKTsgLy8gWzMsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9wKHByb3ApIHtcclxuICByZXR1cm4gKHsgW3Byb3BdOiB2YWx1ZSB9KSA9PiB2YWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBzZWxmXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMgeyp9IEZpcnN0IGFyZ3VtZW50IGl0c2VsZi5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFsxLCAyXS5tYXAoc2VsZik7ICAgICAgICAgICAgICAgICAgICAgLy8gWzEsIDJdXHJcbiAqIFsxLCAzLCBOYU4sIDAsIDcsIG51bGxdLmZpbHRlcihzZWxmKTsgLy8gWzEsIDMsIDddXHJcbiAqL1xyXG5mdW5jdGlvbiBzZWxmKCkge1xyXG4gIHJldHVybiBhcmd1bWVudHNbMF07XHJcbn1cclxuXHJcbmV4cG9ydCB7IEZ1bmMsIG1ldGhvZCwgbm9vcCwgcHJvcCwgc2VsZiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBOdW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE51bSBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBGdW5jIH0gZnJvbSAnLi9GdW5jJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc051bWJlciwgaXNGaW5pdGUsIHRvQXJyYXksXHJcbiAgZGVmaW5lUHJvcGVydGllcywgdmFsaWRhdGUsIFN5bWJvbFxyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG5jb25zdCB0b1JhZGlhbiA9IE1hdGguUEkgLyAxODA7XHJcbmNvbnN0IHRvRGVncmVlID0gMTgwIC8gTWF0aC5QSTtcclxuY29uc3QgbG4yID0gTWF0aC5MTjI7XHJcbmNvbnN0IGxuMTAgPSBNYXRoLkxOMTA7XHJcblxyXG4vKipcclxuICogQGNsYXNzIE51bVxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyID0gMF0gLSBBIG51bWJlciB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7TnVtfSBJbnN0YW5jZSBvZiBOdW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgbnVtYmVyLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBudW0gPSBuZXcgTnVtKDEpO1xyXG4gKi9cclxuY2xhc3MgTnVtIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKG51bWJlciA9IDApIHtcclxuICAgIHN1cGVyKCtudW1iZXIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBOdW0jJFxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBudW1iZXIuXHJcbiAgICAgKi9cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fic1xyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hYnNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hYnNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWJzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgxKS5hYnM7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMSkuYWJzOyAvLyAxXHJcbiAgICovXHJcbiAgZ2V0IGFicygpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYWNvc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjY29zaW5lIG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3N9LlxyXG4gICAqL1xyXG4gIGFjb3ModG9EZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gKHRvRGVncmVlcyA/IHRvRGVncmVlIDogMSkgKiBNYXRoLmFjb3ModGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fjb3NoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYWNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWNvc2h9LlxyXG4gICAqL1xyXG4gIGdldCBhY29zaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciAtIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2FzaW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2FzaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXNpbmhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbmh9LlxyXG4gICAqL1xyXG4gIGdldCBhc2luaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciArIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI2FzaW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFt0b0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSByZXR1cm4gdmFsdWUgaXMgdHJhbnNmb3JtZWQgaW50byBkZWdyZWVzLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IEFyY3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmFzaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbn0uXHJcbiAgICovXHJcbiAgYXNpbih0b0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiAodG9EZWdyZWVzID8gdG9EZWdyZWUgOiAxKSAqIE1hdGguYXNpbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYXRhblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjc2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFufS5cclxuICAgKi9cclxuICBhdGFuKHRvRGVncmVlcykge1xyXG4gICAgcmV0dXJuICh0b0RlZ3JlZXMgPyB0b0RlZ3JlZSA6IDEpICogTWF0aC5hdGFuKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNhdGFuaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmF0YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2F0YW5ofS5cclxuICAgKi9cclxuICBnZXQgYXRhbmgoKSB7XHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgcmV0dXJuIE1hdGgubG9nKCgxICsgbnVtYmVyKSAvICgxIC0gbnVtYmVyKSkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jY2JydFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY2JydF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0fS5cclxuICAgKi9cclxuICBnZXQgY2JydCgpIHtcclxuICAgIGNvbnN0IGNicnQgPSBNYXRoLnBvdyhNYXRoLmFicyh0aGlzLiQpLCAxIC8gMyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJCA+IDAgPyBjYnJ0IDogLWNicnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNjZWlsXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5jZWlsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuY2VpbDsgIC8vIDJcclxuICAgKiBuZXcgTnVtKC0xLjEpLmNlaWw7IC8vIC0xXHJcbiAgICovXHJcbiAgZ2V0IGNlaWwoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNjb3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBDb3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Nvc30uXHJcbiAgICovXHJcbiAgY29zKGFzRGVncmVlcykge1xyXG4gICAgcmV0dXJuIE1hdGguY29zKChhc0RlZ3JlZXMgPyB0b1JhZGlhbiA6IDEpICogdGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Nvc2hcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaH0uXHJcbiAgICovXHJcbiAgZ2V0IGNvc2goKSB7XHJcbiAgICBjb25zdCBleHAgPSB0aGlzLmV4cDtcclxuXHJcbiAgICByZXR1cm4gKGV4cCArIDEgLyBleHApIC8gMjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2N1YmVcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gQ3ViZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLmN1YmU7ICAvLyA4XHJcbiAgICogbmV3IE51bSgtMykuY2VpbDsgLy8gLTI3XHJcbiAgICovXHJcbiAgZ2V0IGN1YmUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kICogdGhpcy4kICogdGhpcy4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jZXhwXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2V4cFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmV4cF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9leHB9LlxyXG4gICAqL1xyXG4gIGdldCBleHAoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5leHAodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Zsb29yXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Zsb29yXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguZmxvb3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvZmxvb3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuZmxvb3I7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMS4xKS5mbG9vcjsgLy8gLTJcclxuICAgKi9cclxuICBnZXQgZmxvb3IoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jaW50ZXJ2YWxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGV2ZXJ5IDxudW1iZXI+IG1pbGxpc2Vjb25kcy5cclxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10gLSBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgYWJvcnRzIHRoZSBpbnRlcnZhbC4gVGhlIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uIChpZiBpdCdzIG5vdCBhbHJlYWR5IGJvdW5kKVxyXG4gICAqIGlzIHRoZSBvYmplY3Qgd2l0aCB0aGUgYWJvcnQgbWV0aG9kLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zZXRJbnRlcnZhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbmFsb2d1ZSBvZiB0aGVcclxuICAgKiBbc2V0SW50ZXJ2YWxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0SW50ZXJ2YWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCB0aW1lcyA9IDA7XHJcbiAgICogbmV3IE51bSg1MCkuaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgaWYgKCsrdGltZXMgPT09IDEwKSB7XHJcbiAgICogICAgIHRoaXMuYWJvcnQoKTtcclxuICAgKiAgIH1cclxuICAgKiB9KTtcclxuICAgKi9cclxuICBpbnRlcnZhbChmdW5jLCBhcmdzID0gW10pIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnTnVtI2ludGVydmFsJyk7XHJcblxyXG4gICAgZnVuYyA9IG5ldyBGdW5jKGZ1bmMpLmJpbmRDb250ZXh0KHsgYWJvcnQgfSk7XHJcbiAgICBhcmdzID0gdG9BcnJheShhcmdzKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IGFib3J0ZWQ7XHJcbiAgICBsZXQgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gaW50ZXJ2YWwoKSB7XHJcbiAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XHJcblxyXG4gICAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIG51bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuXHJcbiAgICByZXR1cm4gYWJvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGFib3J0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgcmV0dXJuIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2xuXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZ1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZ117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2d9LlxyXG4gICAqL1xyXG4gIGdldCBsbigpIHtcclxuICAgIHJldHVybiBNYXRoLmxvZyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jbG9nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBOdW1iZXIgdG8gZ2V0IGxvZ2FyaXRobSBvZi5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBMb2dhcml0aG0gb2YgdGhlIGFyZ3VtZW50IG51bWJlciB0byB0aGUgbnVtYmVyIGJhc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGxvZ2FyaXRobSBvZiB0aGUgYXJndW1lbnQgbnVtYmVyIHRvIHRoZSBudW1iZXIgYmFzZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgyKS5sb2coMTYpOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oMykubG9nKDI0Myk7IC8vIDVcclxuICAgKi9cclxuICBsb2cobnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyKSAvIE1hdGgubG9nKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cyXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5sb2cyXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJ9LlxyXG4gICAqL1xyXG4gIGdldCBsb2cyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG4gLyBsbjI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cxMFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2cxMFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZzEwXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzEwfS5cclxuICAgKi9cclxuICBnZXQgbG9nMTAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sbiAvIGxuMTA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNwb3dcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgdG8gdGhlIDxwb3dlcj4gcG93ZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Bvd1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnBvd117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9wb3d9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnBvdyguNSk7IC8vIDJcclxuICAgKiBuZXcgTnVtKDMpLnBvdygyKTsgIC8vIDlcclxuICAgKi9cclxuICBwb3cocG93ZXIpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh0aGlzLiQsIHBvd2VyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI3Jvb3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSA8cG93ZXI+IHJvb3Qgb2YgdGhlIG51bWJlci5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbnVtYmVyLnBvdygxIC8gcG93ZXIpO1xyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnJvb3QoMik7ICAgLy8gMC41XHJcbiAgICogbmV3IE51bSgyNDMpLnJvb3QoNSk7IC8vIDNcclxuICAgKi9cclxuICByb290KHBvd2VyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5wb3codGhpcy4kLCAxIC8gcG93ZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jcm91bmRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5yb3VuZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9yb3VuZH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oMS4xKS5mbG9vcjsgIC8vIDFcclxuICAgKiBuZXcgTnVtKC0xLjEpLmZsb29yOyAvLyAtMVxyXG4gICAqIG5ldyBOdW0oMS41KS5mbG9vcjsgIC8vIDJcclxuICAgKi9cclxuICBnZXQgcm91bmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2lnblxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2lnbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWdufS5cclxuICAgKi9cclxuICBnZXQgc2lnbigpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIW51bWJlcikge1xyXG4gICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudW1iZXIgPiAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jc2luXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYXNEZWdyZWVzID0gZmFsc2VdIElmIGl0IGlzIHRydXRoeSB0aGUgbnVtYmVyIGlzIHRyZWF0ZWQgYXMgYSBkZWdyZWUgdmFsdWUuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5zaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lufS5cclxuICAgKi9cclxuICBzaW4oYXNEZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zaW4oKGFzRGVncmVlcyA/IHRvUmFkaWFuIDogMSkgKiB0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2luaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2luaF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5ofS5cclxuICAgKi9cclxuICBnZXQgc2luaCgpIHtcclxuICAgIGNvbnN0IGV4cCA9IHRoaXMuZXhwO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSAvIGV4cCkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc3FcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIHNxdWFyZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLnNxOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oLTMpLnNxOyAvLyA5XHJcbiAgICovXHJcbiAgZ2V0IHNxKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCAqIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI3NxcnRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnNxcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydH0uXHJcbiAgICovXHJcbiAgZ2V0IHNxcnQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0YW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUYW5nZW50IG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC90YW59LlxyXG4gICAqL1xyXG4gIHRhbihhc0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiBNYXRoLnRhbigoYXNEZWdyZWVzID8gdG9SYWRpYW4gOiAxKSAqIHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSN0YW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhbmhcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC50YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Rhbmh9LlxyXG4gICAqL1xyXG4gIGdldCB0YW5oKCkge1xyXG4gICAgY29uc3QgbnVtYmVyID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNGaW5pdGUobnVtYmVyKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zaWduO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV4cCA9IE1hdGguZXhwKDIgKiBudW1iZXIpO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSkgLyAoZXhwICsgMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0aW1lb3V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFZhbHVlIHRvIGJlIHJlc29sdmVkIGJ5IHRoZSBwcm9taXNlLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgY291bGQgYmUgYWJvcnRlZC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dFxyXG4gICAqIEBkZXNjcmlwdGlvbiBQcm9taXNlLWJhc2VkIGFuYWxvZ3VlIG9mXHJcbiAgICogW3NldFRpbWVvdXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oNTApLnRpbWVvdXQoJ3Jlc29sdmVkJykudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8gJ3Jlc29sdmVkJ1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogY29uc3QgcHJvbWlzZSA9IG5ldyBOdW0oNTApLnRpbWVvdXQoKTtcclxuICAgKiBwcm9taXNlLmFib3J0KCk7XHJcbiAgICovXHJcbiAgdGltZW91dCh2YWx1ZSkge1xyXG4gICAgbGV0IHRpbWVvdXQ7XHJcbiAgICBsZXQgcmVqZWN0O1xyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqKSA9PiB7XHJcbiAgICAgIHJlamVjdCA9IHJlajtcclxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy4kLCB2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm9taXNlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuXHJcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1RpbWVvdXQgd2FzIGFib3J0ZWQnKSk7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0Jhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiYXNlID0gMTBdIC0gQmFzZSB0aGF0IHRoZSBudW1iZXIgc2hvdWxkIGludmVydGVkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgaW4gPGJhc2U+IGJhc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmdcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvU3RyaW5nXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmd9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnRvQmFzZSgyKTsgLy8gMTAwXHJcbiAgICogbmV3IE51bSgzKS50b0Jhc2UoKTsgIC8vIDNcclxuICAgKi9cclxuICB0b0Jhc2UoYmFzZSA9IDEwKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKGJhc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9FeHBvbmVudGlhbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbnVtYmVyIGluIHRoZSBleHBvbmVudGlhbCBmb3JtYXQuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9FeHBvbmVudGlhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtOdW1iZXIjdG9FeHBvbmVudGlhbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL3RvRXhwb25lbnRpYWx9LlxyXG4gICAqL1xyXG4gIHRvRXhwb25lbnRpYWwoZnJhY3Rpb25EaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9FeHBvbmVudGlhbChmcmFjdGlvbkRpZ2l0cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0ZpeGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZGlnaXRzID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gRml4ZWQtcG9pbnQgZm9ybWF0dGVkIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci90b0ZpeGVkXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW051bWJlciN0b0ZpeGVkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9GaXhlZH0uXHJcbiAgICovXHJcbiAgdG9GaXhlZChkaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9GaXhlZChkaWdpdHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9QcmVjaXNpb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcmVjaXNpb25dIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgdG8gdGhlIHNwZWNpZmllZCBwcmVjaXNpb24uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb25cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvUHJlY2lzaW9uXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb259LlxyXG4gICAqL1xyXG4gIHRvUHJlY2lzaW9uKHByZWNpc2lvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b1ByZWNpc2lvbihwcmVjaXNpb24pO1xyXG4gIH1cclxuXHJcbiAgdmFsdWVPZigpIHtcclxuICAgIHJldHVybiBOdW1iZXIodGhpcy4kKTtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoTnVtLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTnVtJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNOdW1iZXIsXHJcbiAgY2xzOiBOdW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHJhbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0ID0gMF0gLSBTdGFydCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kID0gMV0gLSBFbmQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSYW5kb20gbnVtYmVyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIgaW4gdGhlIHJhbmdlIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiByYW5kKDEsIDUpOyAvLyAyLjMxNVxyXG4gKiByYW5kKDEsIDUpOyAvLyA0LjM1Njc2M1xyXG4gKi9cclxuZnVuY3Rpb24gcmFuZChzdGFydCA9IDAsIGVuZCA9IDEpIHtcclxuICByZXR1cm4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogTWF0aC5yYW5kb20oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByYW5kb21cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IHN0YXJ0IC0gU3RhcnQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGVuZCAtIEVuZCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJhbmRvbSBpbnRlZ2VyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIG51bWJlciBpbiB0aGUgcmFuZ2Ugc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHJhbmRvbSgxLCA1KTsgLy8gM1xyXG4gKiByYW5kb20oMSwgNSk7IC8vIDFcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbShzdGFydCwgZW5kKSB7XHJcbiAgdmFsaWRhdGUoW3N0YXJ0LCBlbmRdLCBbJ2ludExpa2UnLCAnaW50TGlrZSddLCAncmFuZG9tJyk7XHJcblxyXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgZmlyc3QhJywgJ3JhbmRvbScpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE1hdGguZmxvb3IocmFuZChzdGFydCwgZW5kICsgMSkpO1xyXG59XHJcblxyXG5leHBvcnQgeyBOdW0sIHJhbmQsIHJhbmRvbSB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBBcnJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEFyciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyByYW5kb20gfSBmcm9tICcuL051bSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5TGlrZSwgaXNOYU4sIGlzTnVtYmVyLCBpc1N0cmluZyxcclxuICB0b0FycmF5LCB2YWxpZGF0ZSwgaXRlcmF0ZSBhcyBpdGVyYXRvciwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXl8Kn0gQXJyYXlMaWtlXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFycmF5LWxpa2UgdHlwZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEFycmF5Q2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gaSAtIEl0ZXJhdGlvbiBpbmRleC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSXRlcmF0aW9uIGluZGV4LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgQ29tcGFyZUZ1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB4IC0gRmlyc3QgdmFsdWUgdG8gYmUgY29tcGFyZWQuXHJcbiAqIEBwYXJhbSB7Kn0geSAtIFNlY29uZCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFyclxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheSA9IFtdXSAtIEFuIGFycmF5IHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IEluc3RhbmNlIG9mIEFyci5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gYXJyYXkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBBcnIoWzEsIDJdKTtcclxuICovXHJcbmNsYXNzIEFyciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihhcnJheSA9IFtdKSB7XHJcbiAgICBzdXBlcih0b0FycmF5KGFycmF5IGluc3RhbmNlb2YgQXJyID8gYXJyYXkuJCA6IGFycmF5KSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIEFyciMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gTWFkZSBhcnJheS5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjY29uY2F0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFycnwqKX0gdmFsdWVzIC0gQXJyYXlzIG9yIGFueSBvdGhlciB2YWx1ZXMgdG8gY29uY2F0IHRoZSBhcnJheSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjY29uY2F0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXR9LlxyXG4gICAqL1xyXG4gIGNvbmNhdCguLi52YWx1ZXMpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdG9BcnJheSh0aGlzLiQsIHRydWUpO1xyXG5cclxuICAgIGl0ZXJhdG9yKGFyZ3VtZW50cywgKHZhbHVlKSA9PiB7XHJcbiAgICAgIHZhbHVlID0gbmV3IFN1cGVyKHZhbHVlKS4kO1xyXG5cclxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAhaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgaXRlcmF0b3IodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoYXJyYXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBBcnIjZmlyc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuZmlyc3Q7IC8vIDFcclxuICAgKiBuZXcgQXJyKFtdKS5maXJzdDsgICAgICAgIC8vIHVuZGVmaW5lZFxyXG4gICAqL1xyXG4gIGdldCBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLiRbMF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mfS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2YoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZignMScpOyAgICAgLy8gMFxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDNdKS5pbmRleE9mKDMpOyAgICAgICAvLyAtMVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIE5hTl0pLmluZGV4T2YoTmFOKTsgICAvLyAyXHJcbiAgICovXHJcbiAgaW5kZXhPZih2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gdGhpcy5rZXlPZih2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGtleSA9PT0gbnVsbCA/IC0xIDogTnVtYmVyKGtleSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mU3RyaWN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mU3RyaWN0fS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2ZTdHJpY3QoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgnMScpOyAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgzKTsgICAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCBOYU5dKS5pbmRleE9mU3RyaWN0KE5hTik7ICAgLy8gMlxyXG4gICAqL1xyXG4gIGluZGV4T2ZTdHJpY3QodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMua2V5T2ZTdHJpY3QodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBrZXkgPT09IG51bGwgPyAtMSA6IE51bWJlcihrZXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjam9pblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlcGFyYXRvciA9ICcsJ10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gLSBTdHJpbmcgb2Ygam9pbmVkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvam9pblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNqb2luXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9qb2lufS5cclxuICAgKi9cclxuICBqb2luKHNlcGFyYXRvcikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5qb2luLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xhc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkubGFzdDsgLy8gM1xyXG4gICAqIG5ldyBBcnIoW10pLmxhc3Q7ICAgICAgICAvLyB1bmRlZmluZWRcclxuICAgKi9cclxuICBnZXQgbGFzdCgpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xlbmd0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I2xlbmd0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RofS5cclxuICAgKi9cclxuICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNwb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgZGVsZXRlZCBlbGVtZW50LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3BvcF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wfS5cclxuICAgKi9cclxuICBwb3AoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcHVzaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IHZhbHVlcyBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHRoaXMge0Fycn1cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9wdXNoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3B1c2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3B1c2h9XHJcbiAgICogYmVzaWRlcyByZXR1cm5pbmcgdGhpcy5cclxuICAgKi9cclxuICBwdXNoKC4uLnZhbHVlcykge1xyXG4gICAgdGhpcy4kLnB1c2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmFuZG9tXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSYW5kb20gaXRlbSBvZiB0aGUgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyByYW5kb20gaXRlbXMgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDNcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDVcclxuICAgKi9cclxuICByYW5kb20oKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kW3JhbmRvbSgwLCB0aGlzLiQubGVuZ3RoIC0gMSldO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmV2ZXJzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBBIHdyYXAgb2YgdGhlIHJldmVyc2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmV2ZXJzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNyZXZlcnNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZXZlcnNlfS5cclxuICAgKi9cclxuICByZXZlcnNlKCkge1xyXG4gICAgdGhpcy4kLnJldmVyc2UoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NoaWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGRlbGV0ZWQgZWxlbWVudC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NoaWZ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NoaWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zaGlmdH0uXHJcbiAgICovXHJcbiAgc2hpZnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnNoaWZ0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzaHVmZmxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBzaHVmZmxpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDMsIDRdKS5zaHVmZmxlKCkuJDsgLy8gWzQsIDIsIDMsIDFdXHJcbiAgICogbmV3IEFycihbMSwgMiwgMywgNF0pLnNodWZmbGUoKS4kOyAvLyBbMSwgMywgNCwgMl1cclxuICAgKi9cclxuICBzaHVmZmxlKCkge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy4kLmxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gaW5kZXggKyBNYXRoLmZsb29yKChsZW5ndGggLSBpbmRleCkgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcbiAgICAgIGFycmF5W2luZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcclxuICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NsaWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbYmVnaW4gPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZCA9IGFycmF5Lmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIGEgc2xpY2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc2xpY2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NsaWNlfS5cclxuICAgKi9cclxuICBzbGljZShiZWdpbiwgZW5kKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy4kLnNsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzb3J0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Q29tcGFyZUZ1bmN0aW9ufSBbY29tcGFyZUZ1bmN0aW9uXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb3J0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NvcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvcnR9LlxyXG4gICAqL1xyXG4gIHNvcnQoY29tcGFyZUZ1bmN0aW9uKSB7XHJcbiAgICB2YWxpZGF0ZShbY29tcGFyZUZ1bmN0aW9uXSwgWydmdW5jdGlvbnx8ISddLCAnQXJyI3NvcnQnKTtcclxuXHJcbiAgICB0aGlzLiQuc29ydChjb21wYXJlRnVuY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjc29ydEFzY1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgYXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgbm9uLW51bWJlcnMgZmlyc3QsIHRoZW4gTmFOcywgdGhlbiBzb3J0ZWQgdmFsdWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnRBc2MoKS4kOyAvLyBbJzEwMCcsIE5hTiwgLTcsIDEsIDVdXHJcbiAgICovXHJcbiAgc29ydEFzYygpIHtcclxuICAgIHJldHVybiB0aGlzLnNvcnQoYXNjKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NvcnREZXNjXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgc29ydGVkIHZhbHVlcyBmaXJzdCwgdGhlbiBOYU5zLCB0aGVuIG5vbi1udW1iZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnREZXNjKCkuJDsgLy8gWzUsIDEsIC03LCBOYU4sICcxMDAnXVxyXG4gICAqL1xyXG4gIHNvcnREZXNjKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc29ydCgoeSwgeCkgPT4gYXNjKHgsIHkpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NwbGljZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2RlbGV0ZUNvdW50XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0gey4uLip9IFtpdGVtc10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIHJldHVybiB2YWx1ZSBvZiAjc3BsaWNlIGNhbGwuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc3BsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2V9LlxyXG4gICAqL1xyXG4gIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIC4uLml0ZW1zKSB7XHJcbiAgICByZXR1cm4gbmV3IEFycih0aGlzLiQuc3BsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gQ29uY2F0ZW5hdGVkIGFycmF5LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvciBhcnJheS5qb2luKCcnKS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLnN0cmluZygpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHN0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLmpvaW4oJycpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjdW5zaGlmdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3Vuc2hpZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjdW5zaGlmdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvdW5zaGlmdH1cclxuICAgKiBiZXNpZGVzIHJldHVybmluZyB0aGlzLlxyXG4gICAqL1xyXG4gIHVuc2hpZnQoLi4udmFsdWVzKSB7XHJcbiAgICB0aGlzLiQudW5zaGlmdC5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEFyci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ0FycidcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFzY1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHggLSBGaXJzdCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICogQHBhcmFtIHsqfSB5IC0gU2Vjb25kIHZhbHVlIHRvIGJlIGNvbXBhcmVkLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBXaGVyZSB0byBwdXQgdGhlIGZpcnN0IGVsZW1lbnQ6IGJlZm9yZSBvciBhZnRlci5cclxuICovXHJcbmZ1bmN0aW9uIGFzYyh4LCB5KSB7XHJcbiAgaWYgKCFpc051bWJlcih4KSAmJiAhaXNOdW1iZXIoeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih4KSkge1xyXG4gICAgcmV0dXJuIC0xO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih5KSkge1xyXG4gICAgcmV0dXJuIDE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeCkgJiYgaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKHgpKSB7XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHggLSB5O1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMV0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzQXJyYXlMaWtlLFxyXG4gIGNsczogQXJyXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhcnJheVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBMZW5ndGggb2YgdGhlIGFycmF5LlxyXG4gKiBAcGFyYW0ge0FycmF5Q2FsbGJhY2t9IFtjYWxsYmFja10gLSBJZiBpdCdzIHByZXNlbnQgaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb25cclxuICogdGhhdCByZXR1cm5zIHRoZSBlbGVtZW50IHRoYXQgaXMgcHVzaGVkIHRvIHRoZSBuZXcgYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIG5ldyBhcnJheSBmcm9tIHRoZSBsZW5ndGggdXNpbmcgb3B0aW9uYWwgY2FsbGJhY2suXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGFycmF5KDMpLiQ7ICAgICAgICAgICAgICAgLy8gWzAsIDEsIDJdXHJcbiAqIGFycmF5KDMsIChpKSA9PiBpICogMikuJDsgLy8gWzAsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBhcnJheShudW1iZXIsIGNhbGxiYWNrKSB7XHJcbiAgdmFsaWRhdGUoW251bWJlciwgY2FsbGJhY2tdLCBbWydpbnRMaWtlJywgJz49MCddLCAnZnVuY3Rpb258fCEnXSwgJ2FycmF5Jyk7XHJcblxyXG4gIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcclxuICAgIGFycmF5LnB1c2goY2FsbGJhY2sgPyBjYWxsYmFjayhpKSA6IGkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBBcnIoYXJyYXkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGl0ZXJhdGlvbnMuXHJcbiAqIEBwYXJhbSB7SXRlcmF0ZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uIHdpdGggdGhlIGl0ZXJhdGlvbiBpbmRleC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHJlcGxhY2luZyBmb3IgKC4uLikgY29uc3RydWN0aW9uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpdGVyYXRlKCk7XHJcbiAqL1xyXG5mdW5jdGlvbiBpdGVyYXRlKG51bWJlciwgY2FsbGJhY2spIHtcclxuICB2YWxpZGF0ZShbbnVtYmVyLCBjYWxsYmFja10sIFtbJ2ludExpa2UnLCAnPj0wJ10sICdmdW5jdGlvbiddLCAnaXRlcmF0ZScpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7XHJcbiAgICBjYWxsYmFjayhpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFyciwgYXJyYXksIGl0ZXJhdGUgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgQmxvYk9iamVjdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvYk9iamVjdCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi9Qcm9taXNlJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sXHJcbiAgdG9TdHJpbmdUYWcsIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllc1xyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge3sgYnVmZmVyOiBTdHJpbmcsIGJpbmFyeTogU3RyaW5nLCBkYXRhVVJMOiBTdHJpbmcsIHRleHQ6IFN0cmluZyB9fSBtZXRob2RzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBMaXN0IG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuY29uc3QgbWV0aG9kcyA9IHtcclxuICBidWZmZXI6ICdBcnJheUJ1ZmZlcicsXHJcbiAgYmluYXJ5OiAnQmluYXJ5U3RyaW5nJyxcclxuICBkYXRhVVJMOiAnRGF0YVVSTCcsXHJcbiAgdGV4dDogJ1RleHQnXHJcbn07XHJcbmNvbnN0IHsgVVJMIH0gPSBnbG9iYWw7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeygnYnVmZmVyJ3wnYmluYXJ5J3wnZGF0YVVSTCd8J3RleHQnKX0gUmVhZEJsb2JNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fEJsb2J8U3RyaW5nfSBCbG9iUGFydHNcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gQWxsb3dlZCBibG9iIHBhcnRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVhZGVyRXZlbnRMaXN0ZW5lclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgLSBGaXJlZCBldmVudC5cclxuICogQHBhcmFtIHtGaWxlUmVhZGVyfSByZWFkZXIgLSBGaWxlUmVhZGVyLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgQmxvYk9iamVjdFxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QmxvYn0gYmxvYiAtIEJsb2IgdG8gd3JhcC5cclxuICogQHJldHVybnMge0Jsb2JPYmplY3R9IEluc3RhbmNlIG9mIEJsb2JPYmplY3QuXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgYmxvYi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEJsb2JPYmplY3QobmV3IEJsb2IoWyd7XCJmb29cIjpcImJhclwifSddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XHJcbiAqL1xyXG5jbGFzcyBCbG9iT2JqZWN0IGV4dGVuZHMgU3VwZXIge1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQmxvYk9iamVjdCMkXHJcbiAgICogQHR5cGUge0Jsb2J9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBCbG9iLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtTdHJpbmd9IEJsb2JPYmplY3QjZGF0YVVSTFxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGRhdGFVUkwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGJsb2IuXHJcbiAgICovXHJcbiAgZ2V0IGRhdGFVUkwoKSB7XHJcbiAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3JlYWRBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlYWRCbG9iTWV0aG9kfSBtZXRob2QgLSBNZXRob2QgdGhhdCBpcyB1c2VkIGZvciByZWFkaW5nIGZyb20gYmxvYi5cclxuICAgKiBAcGFyYW0ge1JlYWRlckV2ZW50TGlzdGVuZXJ9IFtwcm9ncmVzc10gLSBQcm9ncmVzcyBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IGNvdWxkIGJlIGFib3J0ZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVhZGluZyBmcm9tIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnJlYWRBcygndGV4dCcpXHJcbiAgICogICAudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2codmFsdWUpOyAvLyAne1wiZm9vXCI6XCJiYXJcIn0nXHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICByZWFkQXMobWV0aG9kLCBwcm9ncmVzcykge1xyXG4gICAgaWYgKCFtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCcxc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgZm9sbG93aW5nIHZhbHVlczogYnVmZmVyLCBiaW5hcnksIGRhdGFVUkwsIHRleHQnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIGxldCB0b1JlamVjdDtcclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9ncmVzcykpIHtcclxuICAgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHByb2dyZXNzKGUsIHRoaXMpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRvUmVqZWN0ID0gcmVqZWN0O1xyXG5cclxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIGlmIChyZWFkZXIpIHtcclxuICAgICAgICAgIHJlamVjdCh0YXJnZXQuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZWFkZXJbYHJlYWRBcyR7IG1ldGhvZHNbbWV0aG9kXSB9YF0odGhpcy4kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb21pc2UuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcclxuICAgICAgdG9SZWplY3QobmV3IEVycm9yKCdSZWFkaW5nIHdhcyBhYm9ydGVkJykpO1xyXG5cclxuICAgICAgcmVhZGVyLmFib3J0KCk7XHJcblxyXG4gICAgICByZWFkZXIgPSBudWxsO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3NhdmVBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gTmFtZSB0aGF0IGlzIHVzZWQgZm9yIHNhdmluZyBmaWxlLlxyXG4gICAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igc2F2aW5nIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnNhdmVBcygnYmxvYi5qc29uJyk7XHJcbiAgICovXHJcbiAgc2F2ZUFzKG5hbWUgPSAnZG93bmxvYWQnKSB7XHJcbiAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgYW5jaG9yLmhyZWYgPSB0aGlzLmRhdGFVUkw7XHJcbiAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG5hbWUpO1xyXG4gICAgYW5jaG9yLmNsaWNrKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEJsb2JPYmplY3QucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdCbG9iT2JqZWN0J1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogKGJsb2IpID0+IC9eKEJsb2J8RmlsZSkkLy50ZXN0KHRvU3RyaW5nVGFnKGJsb2IpKSxcclxuICBjbHM6IEJsb2JPYmplY3RcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGJsb2JcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyhCbG9iUGFydHNbXXxCbG9iUGFydHMpfSBibG9iUGFydHMgLSBCbG9iIHBhcnRzIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBOZXcgaW5zdGFuY2Ugb2YgQmxvYk9iamVjdC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBibG9icyBub3QgaW52b2x2aW5nIEJsb2JPYmplY3QgYW5kIEJsb2IgY29uc3RydWN0b3JzLlxyXG4gKi9cclxuZnVuY3Rpb24gYmxvYihibG9iUGFydHMsIG9wdGlvbnMgPSB7fSkge1xyXG4gIGlmICghaXNBcnJheShibG9iUGFydHMpKSB7XHJcbiAgICBibG9iUGFydHMgPSBbYmxvYlBhcnRzXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihibG9iUGFydHMsIG9wdGlvbnMpKTtcclxufVxyXG5cclxuZXhwb3J0IHsgQmxvYk9iamVjdCwgYmxvYiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdHJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFN0ciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBEIH0gZnJvbSAnLi9EJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzLCByZWdleHBTcGVjaWFsQ2hhcmFjdGVycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0Z1bmN0aW9uLCBpc051bWJlckxpa2UsIGlzT2JqZWN0LCBpc1N0cmluZyxcclxuICB2YWxpZGF0ZSwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzLCBpdGVyYXRlXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmNvbnN0IGh0bWxTcGVjaWFscyA9IHtcclxuICAnJic6ICcmYW1wOycsXHJcbiAgJzwnOiAnJmx0OycsXHJcbiAgJz4nOiAnJmd0OydcclxufTtcclxuY29uc3QgcmVnZXhwU3BlY2lhbHNSZWdleHAgPSBuZXcgUmVnRXhwKFxyXG4gIG5ldyBTdXBlcihyZWdleHBTcGVjaWFsQ2hhcmFjdGVycylcclxuICAgIC53b3JkKCh4KSA9PiBgXFxcXCR7IHggfXxgKVxyXG4gICAgLnJlcGxhY2UoL1xcfCQvLCAnJyksXHJcbiAgJ2cnXHJcbik7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN0clxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbc3RyaW5nID0gJyddIC0gQSBzdHJpbmcgdG8gd3JhcC5cclxuICogQHJldHVybnMge1N0cn0gSW5zdGFuY2Ugb2YgU3RyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhIHN0cmluZy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgcyA9IG5ldyBOdW0oJzEnKTtcclxuICovXHJcbmNsYXNzIFN0ciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihzdHJpbmcgPSAnJykge1xyXG4gICAgc3VwZXIoYCR7IHN0cmluZyB9YCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIFN0ciMkXHJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIE9yaWdpbmFsIHN0cmluZy5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjY2FwaXRhbGl6ZUZpcnN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IENhcGl0YWxpemVkIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGNhcGl0YWxpemluZyB0aGUgZmlyc3Qgc3ltYm9sLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdmb28nKS5jYXBpdGFsaXplRmlyc3QoKS4kOyAvLyAnRm9vJ1xyXG4gICAqL1xyXG4gIGNhcGl0YWxpemVGaXJzdCgpIHtcclxuICAgIGNvbnN0IHN0cmluZyA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cihzdHJpbmcuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlbmRzV2l0aFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb24gPSBzdHJpbmcubGVuZ3RoXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHN0cmluZyBlbmRzIHdpdGggdGhlIGFyZ3VtZW50IHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjZW5kc1dpdGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aH0uXHJcbiAgICovXHJcbiAgZW5kc1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHBvc2l0aW9uID0gdGhpcy4kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuc2xpY2UoMCwgcG9zaXRpb24pXHJcbiAgICAgIC5yZXZlcnQoKVxyXG4gICAgICAuc3RhcnRzV2l0aChuZXcgU3RyKHNlYXJjaFN0cmluZykucmV2ZXJ0KCkuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlc2NhcGVIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZHMgZXNjYXBpbmcgXCImXCIsIFwiPFwiIGFuZCBcIj5cIiBzeW1ib2xzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdcIjEgPCAyXCIgJiBcIjcgPiA0XCIgYXJlIHRydWUgZXhwcmVzc2lvbnMuJykuZXNjYXBlSFRNTCgpLiQ7XHJcbiAgICogLy8gJ1wiMSAmbHQ7IDJcIiAmYW1wIFwiNyAmZ3Q7IDJcIiBhcmUgdHJ1ZSBleHByZXNzaW9ucy4nXHJcbiAgICovXHJcbiAgZXNjYXBlSFRNTCgpIHtcclxuICAgIGxldCBzdHJpbmcgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShodG1sU3BlY2lhbHMsIChlc2NhcGVkLCBzeW1ib2wpID0+IHtcclxuICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChzeW1ib2wsICdnJyksIGVzY2FwZWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBTdHIoc3RyaW5nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI2VzY2FwZVJlZ0V4cFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZXNjYXBpbmcgUmVnRXhwIHNwZWNpYWwgY2hhcmFjdGVycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignKDIxMy45OCAtIFtdIHt9KScpLmVzY2FwZVJlZ0V4cCgpLiQ7IC8vICdcXCgyMTNcXC45OCBcXC0gXFxbXFxdIFxce1xcfVxcKSdcclxuICAgKi9cclxuICBlc2NhcGVSZWdFeHAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHJlZ2V4cFNwZWNpYWxzUmVnZXhwLCAnXFxcXCQmJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNpblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBjaGVjayB0aGUgc3RyaW5nIGFzIGEgcHJvcGVydHkgaW4uXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGl0IGlzIGluIHRoZSBvYmplY3Qgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHN0cmluZyBpbiBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbih7IGE6IDEgfSk7IC8vIHRydWVcclxuICAgKiBuZXcgU3RyKCd0b0ZpeGVkJykuaW4oMSk7ICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbihudWxsKTsgICAgIC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaW4ob2JqZWN0KSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLiQgaW4gb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjaW5kZXhPZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoVmFsdWUgLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtmcm9tSW5kZXggPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBGb3VuZCBpbmRleCBvciAtMS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmRleE9mXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNpbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5kZXhPZn0uXHJcbiAgICovXHJcbiAgaW5kZXhPZihzZWFyY2hWYWx1ZSwgZnJvbUluZGV4KSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjbGFzdEluZGV4T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFZhbHVlIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZnJvbUluZGV4ID0gc3RyaW5nLmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gRm91bmQgaW5kZXggb3IgLTEuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI2xhc3RJbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2Z9LlxyXG4gICAqL1xyXG4gIGxhc3RJbmRleE9mKHNlYXJjaFZhbHVlLCBmcm9tSW5kZXgpIHtcclxuICAgIHJldHVybiB0aGlzLiQubGFzdEluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdHIjbGVuZ3RoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNsZW5ndGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9sZW5ndGh9LlxyXG4gICAqL1xyXG4gIGdldCBsZW5ndGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI21hdGNoXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ8U3VwZXJ9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjbWF0Y2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaH0uXHJcbiAgICovXHJcbiAgbWF0Y2gocmVnZXhwKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQubWF0Y2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGVhdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IHRpbWVzIC0gVGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9yZXBlYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3JlcGVhdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGVhdH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgyKS4kOyAvLyAnMTIzMTIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgwKS4kOyAvLyAnJ1xyXG4gICAqL1xyXG4gIHJlcGVhdCh0aW1lcykge1xyXG4gICAgdmFsaWRhdGUoW3RpbWVzXSwgW1snaW50TGlrZScsICc+PTAnXV0sICdTdHIjcmVwZWF0Jyk7XHJcblxyXG4gICAgdGltZXMgPSArdGltZXM7XHJcblxyXG4gICAgY29uc3Qgc3RyaW5nID0gdGhpcy4kO1xyXG5cclxuICAgIGxldCBzID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7XHJcbiAgICAgIHMgKz0gc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjcmVwbGFjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZ0V4cHxTdHJpbmd9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gW3JlcGxhY2VyID0gJyddIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvcmVwbGFjZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjcmVwbGFjZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGxhY2V9XHJcbiAgICogYmVzaWRlcyB0aGF0IHJlcGxhY2VyIGhhcyBhIGRlZmF1bHQgdmFsdWUgb2YgJycuXHJcbiAgICovXHJcbiAgcmVwbGFjZShyZWdleHAsIHJlcGxhY2VyID0gJycpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC5yZXBsYWNlKHJlZ2V4cCwgcmVwbGFjZXIpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGxhY2VTdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byByZXBsYWNlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcmVwbGFjZXIgPSAnJ10gLSBTdHJpbmcgdG8gcmVwbGFjZSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2xvYmFsIHN0cmluZyByZXBsYWNlaW5nLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCcxMjMxMjMnKS5yZXBsYWNlU3RyaW5nKCcxJywgJzQnKS4kOyAvLyAnNDIzNDIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMzEyMycpLnJlcGxhY2VTdHJpbmcoJzEnKS4kOyAgICAgIC8vICcyMzIzJ1xyXG4gICAqL1xyXG4gIHJlcGxhY2VTdHJpbmcoc3RyaW5nLCByZXBsYWNlciA9ICcnKSB7XHJcbiAgICBzdHJpbmcgPSBuZXcgU3VwZXIoc3RyaW5nKS4kO1xyXG5cclxuICAgIHZhbGlkYXRlKFtzdHJpbmddLCBbJ3N0cmluZyddLCAnU3RyI3JlcGxhY2VTdHJpbmcnKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3BsaXQoc3RyaW5nKS5qb2luKHJlcGxhY2VyKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNyZXZlcnRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciByZXZlcnRpbmcgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMzQnKS5yZXZlcnQoKS4kOyAvLyAnNDMyMSdcclxuICAgKi9cclxuICByZXZlcnQoKSB7XHJcbiAgICBjb25zdCBzdHJpbmcgPSB0aGlzLiQ7XHJcbiAgICBsZXQgc3RyID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IHN0cmluZy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBzdHIgKz0gc3RyaW5nW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHN0cik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzZWFyY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBJbmRleCBvZiB0aGUgZmlyc3QgbWF0Y2gsIGlmIGZvdW5kLCBhbmQgLTEgaWYgbm90LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3NlYXJjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc2VhcmNoXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2VhcmNofS5cclxuICAgKi9cclxuICBzZWFyY2gocmVnZXhwKSB7XHJcbiAgICB2YWxpZGF0ZShbcmVnZXhwXSwgWydyZWdleHAnXSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJC5zZWFyY2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc2xpY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiZWdpblNsaWNlID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRTbGljZSA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3NsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2V9LlxyXG4gICAqL1xyXG4gIHNsaWNlKGJlZ2luU2xpY2UsIGVuZFNsaWNlKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc2xpY2UuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3NwbGl0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7UmVnRXhwfFN0cmluZ30gW3NlcGFyYXRvcl0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0FycnxTdXBlcn0gRC1XcmFwIG9mIHRoZSBhcnJheS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3BsaXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdH0uXHJcbiAgICovXHJcbiAgc3BsaXQoc2VwYXJhdG9yKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQuc3BsaXQuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3N0YXJ0c1dpdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZyAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBhcmd1bWVudCBzdHJpbmcuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3RhcnRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3RhcnRzV2l0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGh9LlxyXG4gICAqL1xyXG4gIHN0YXJ0c1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbiA9IDApIHtcclxuICAgIHJldHVybiB0aGlzLiQuaW5kZXhPZi5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykgPT09IHBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc3Vic3RyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQgPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2xlbmd0aCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJ9LlxyXG4gICAqL1xyXG4gIHN1YnN0cihzdGFydCwgbGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3Vic3RyLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzdWJzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleFN0YXJ0ID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleEVuZCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyaW5nXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJpbmdde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJpbmd9LlxyXG4gICAqL1xyXG4gIHN1YnN0cmluZyhpbmRleFN0YXJ0LCBpbmRleEVuZCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnN1YnN0cmluZy5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9DYW1lbENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXHNcXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBjYW1lbCBjYXNlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignc3BpbmFsLWNhc2UnKS50b0NhbWVsQ2FzZSgpLiQ7ICAvLyAnc3BpbmFsQ2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0NhbWVsQ2FzZSgpLiQ7IC8vICdzbmFrZUNhc2UnXHJcbiAgICovXHJcbiAgdG9DYW1lbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoLy1bXi1dL2csIChtYXRjaCkgPT4gbWF0Y2hbMV0udG9VcHBlckNhc2UoKSlcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9Mb3dlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0NhcGl0YWxDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgY2FwaXRhbCBsZXR0ZXIgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9DYXBpdGFsQ2FzZSgpLiQ7ICAvLyAnU3BpbmFsIENhc2UnXHJcbiAgICogbmV3IFN0cignX3NuYWtlX2Nhc2VfJykudG9DYXBpdGFsQ2FzZSgpLiQ7IC8vICdTbmFrZSBDYXNlJ1xyXG4gICAqL1xyXG4gIHRvQ2FwaXRhbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHNbXFxTXS9nLCAobWF0Y2gpID0+IG1hdGNoLnRvVXBwZXJDYXNlKCkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9VcHBlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0RvdENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBkb3QgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9Eb3RDYXNlKCkuJDsgIC8vICdzcGluYWwuY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0RvdENhc2UoKS4kOyAvLyAnc25ha2UuY2FzZSdcclxuICAgKi9cclxuICB0b0RvdENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcuJylcclxuICAgICAgLnJlcGxhY2UoL1teLl0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAuJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoL1xcLisvZywgJy4nKVxyXG4gICAgICAucmVwbGFjZSgvXlxcLi8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvSHlwaGVuQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW1vdmVzIGZvbGxvd2luZyByZWdleHAgL1xcc1xcLV9cXC4vIG1ha2luZyB0aGUgc3RyaW5nIGNhbWVsIGNhc2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdjYW1lbENhc2UnKS50b1NwaW5hbENhc2UoKS4kOyAgICAvLyAnY2FtZWwtY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b1NwaW5hbENhc2UoKS4kOyAvLyAnc25ha2UtY2FzZSdcclxuICAgKi9cclxuICB0b0h5cGhlbkNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL1teLV0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAtJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL14tLywgJycpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9Mb3dlckNhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjdG9Mb3dlckNhc2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ1VQUEVSLUNBU0UnKS50b0xvd2VyQ2FzZSgpLiQ7ICAvLyAndXBwZXItY2FzZSdcclxuICAgKi9cclxuICB0b0xvd2VyQ2FzZSgpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC50b0xvd2VyQ2FzZSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU25ha2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFxzXFwtXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBzcGluYWwgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TbmFrZUNhc2UoKS4kOyAvLyAnc3BpbmFsX2Nhc2UnXHJcbiAgICogbmV3IFN0cignY2FtZWxDYXNlJykudG9TbmFrZUNhc2UoKS4kOyAgIC8vICdjYW1lbF9jYXNlJ1xyXG4gICAqL1xyXG4gIHRvU25ha2VDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodHJpbSh0aGlzLiQpXHJcbiAgICAgIC5yZXBsYWNlKC9bXFxzXFwtXy5dKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9bXl9dL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgXyR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9fKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9eXy8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU3BhY2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgc3BhY2UgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TcGFjZUNhc2UoKS4kOyAgLy8gJ3NwaW5hbCBjYXNlJ1xyXG4gICAqIG5ldyBTdHIoJ19zbmFrZV9jYXNlXycpLnRvU3BhY2VDYXNlKCkuJDsgLy8gJ3NuYWtlIGNhc2UnXHJcbiAgICovXHJcbiAgdG9TcGFjZUNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b1VwcGVyQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignbG93ZXItY2FzZScpLnRvVXBwZXJDYXNlKCkuJDsgIC8vICdMT1dFUi1DQVNFJ1xyXG4gICAqL1xyXG4gIHRvVXBwZXJDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnRvVXBwZXJDYXNlKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdHJpbVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltfS5cclxuICAgKi9cclxuICB0cmltKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdK3xbXFxzXFx1ZmVmZlxcdTAwYTBdKyQvZywgJycpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RyaW1MZWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1MZWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnR9LlxyXG4gICAqL1xyXG4gIHRyaW1MZWZ0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdKy8sICcnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0cmltUmlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltUmlnaHRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1SaWdodF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1SaWdodH0uXHJcbiAgICovXHJcbiAgdHJpbVJpZ2h0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL1tcXHNcXHVmZWZmXFx1MDBhMF0rJC8sICcnKSk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN0ci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N0cidcclxufSk7XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzU3RyaW5nLFxyXG4gIGNsczogU3RyXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdHJpbShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL15bXFxzXFwtXy5dK3xbXFxzXFwtXy5dKyQvZywgJycpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSlNPTlxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbanNvbiA9IG51bGxdIC0gU3RyaW5nIHRvIHBhcnNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLm51bWJlcnNdIC0gSWYgaXQgaXMgbmVlZGVkIHRvIHBhcnNlIG51bWJlci1saWtlIHN0cmluZ3MgYXMgbnVtYmVycy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLmRhdGVzXSAtIElmIGl0IGlzIG5lZWRlZCB0byBwYXJzZSBkYXRlLWxpa2Ugc3RyaW5nIGFzIGRhdGVzLlxyXG4gKiBEYXRlLWxpa2Ugc3RyaW5nIGlzIGNvbnNpZGVyZWQgdG8gbWF0Y2ggXlxcZFxcZFxcZFxcZC1cXGRcXGQtXFxkXFxkVFxcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkXFxkXFxkWj8kXHJcbiAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfSBbY2FsbGJhY2tdIC0gQ2FsbGJhY2sgdGhhdCBjYWxsZWQgb24gZXZlcnkgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcGFyc2luZyBqc29uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IDEgfScpLiQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHsgYTogMSB9XHJcbiAqIHBhcnNlSlNPTigneyBcImFcIjogXCIxXCIgfScsIHsgbnVtYmVyczogdHJ1ZSB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAvLyB7IG51bWJlcnM6IHRydWUgfVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IFwiMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaXCIgfScsIHsgZGF0ZXM6IHRydWUgfSkuJDsgLy8geyBhOiBEYXRlIHsuLi59IH1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlSlNPTihqc29uID0gbnVsbCwgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykge1xyXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcclxuICAgIHJldHVybiBEKEpTT04ucGFyc2UoanNvbikpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcclxuICAgIGNhbGxiYWNrID0gb3B0aW9ucztcclxuICAgIG9wdGlvbnMgPSB7fTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgbnVtYmVycywgZGF0ZXMgfSA9IG9wdGlvbnM7XHJcbiAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGRhdGVzICYmIC9eXFxkXFxkXFxkXFxkLVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGRcXGRcXGRaPyQvLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgfSBlbHNlIGlmIChudW1iZXJzICYmIGlzTnVtYmVyTGlrZSh2YWx1ZSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FsbGJhY2sgPyBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBEKHBhcnNlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN0ciwgcGFyc2VKU09OIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIG1hcmt1cFRvSlNPTiBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMsIGh0bWxBbGxvd2VkQXR0clN5bWJvbHMsIHZvaWRFbGVtZW50cyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTWFya3VwRWxlbWVudFxyXG4gKiBAcHJvcGVydHkgeydjb21tZW50J3wndGV4dCd8J2VsZW1lbnQnfSB0eXBlIC0gVHlwZSBvZiB0aGUgbm9kZS5cclxuICogQHByb3BlcnR5IHtNYXJrdXBFbGVtZW50fSBwYXJlbnQgLSBUeXBlIG9mIHRoZSBub2RlLlxyXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBTdHJpbmc+fSBhdHRycyAtIE5vZGUgYXR0cmlidXRlc1xyXG4gKiBAcHJvcGVydHkge01hcmt1cEVsZW1lbnRbXX0gY2hpbGRyZW4gLSBOb2RlIGNoaWxkcmVuLlxyXG4gKi9cclxuXHJcbmNvbnN0IHN1Ym1pdFN0cmluZyA9ICdQbGVhc2UsIHN1Ym1pdCBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vZHdheW5lanMvZHdheW5lL2lzc3Vlcy4nO1xyXG5jb25zdCBOT0RFX1JFR0VYX1NFVCA9IG5ldyBTdXBlcih7XHJcbiAgJ3RhZy1vcGVuJzogbmV3IFJlZ0V4cChgPCgkeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgfSlcXFxccypgLCAnaScpLFxyXG4gICd0YWctY2xvc2UnOiBjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChodG1sQWxsb3dlZFRhZ1N5bWJvbHMpLFxyXG4gIGNvbW1lbnQ6IC88IS0tKCg/Oi1bXlxcLT5dfFteXFwtPl0pKD86LT9bXi1dKSpbXi1dP3wpLS0+L1xyXG59KTtcclxuY29uc3QgVEFHX09QRU5fQ0xPU0UgPSAvXihcXC8/KT4vO1xyXG4vLyBjb25zdCBBVFRSSUJVVEUgPSAvXihbXlxcdTAwMDAtXFx1MDAyMFxcc1wiJz5cXC89XSspKD86XFxzKj1cXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcc1wiJ2A8Pj1dKykpP1xccyovO1xyXG5jb25zdCBBVFRSSUJVVEUgPSBuZXcgUmVnRXhwKGBeKCR7IGh0bWxBbGxvd2VkQXR0clN5bWJvbHMgfSkoPzpcXFxccyo9XFxcXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcXFxzXCInXFxgPD49XSspKT9cXFxccypgKTtcclxuY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IG5vZGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoZWxlbSkgPT4gZWxlbSlcclxuICAuY2FzZSgndGFnLW9wZW4nLCAoZWxlbSwgbm9kZSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB2YWx1ZTogbmFtZSxcclxuICAgICAgc2VsZkNsb3NpbmdcclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIG5vZGUgPSB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGF0dHJzOiBuZXcgU3VwZXIobm9kZS5hdHRycykubWFwKCh2YWx1ZSkgPT4gKFxyXG4gICAgICAgIHBhcnNlQ2hhcmFjdGVyRGF0YSh2YWx1ZSlcclxuICAgICAgKSkuJCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICBjaGlsZHJlbjogbmV3IEFycihbXSlcclxuICAgIH07XHJcblxyXG4gICAgZWxlbS5jaGlsZHJlbi5wdXNoKG5vZGUpO1xyXG5cclxuICAgIGlmICghc2VsZkNsb3NpbmcgJiYgdm9pZEVsZW1lbnRzLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XHJcbiAgICAgIGVsZW0gPSBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtO1xyXG4gIH0pXHJcbiAgLmNhc2UoJ3RhZy1jbG9zZScsIChlbGVtLCBub2RlKSA9PiB7XHJcbiAgICBpZiAoZWxlbS5uYW1lID09PSBub2RlLnZhbHVlKSB7XHJcbiAgICAgIGVsZW0gPSBlbGVtLnBhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbTtcclxuICB9KVxyXG4gIC5jYXNlKFsnY29tbWVudCcsICd0ZXh0J10sIChlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2UsIHR5cGUpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB7XHJcbiAgICAgIG5hbWU6IGAjJHsgdHlwZSB9YCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICB2YWx1ZTogbm9kZS52YWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ3RleHQnICYmIGVsZW0ubmFtZSAhPT0gJ3NjcmlwdCcgJiYgZWxlbS5uYW1lICE9PSAnc3R5bGUnKSB7XHJcbiAgICAgIGVsZW1lbnQudmFsdWUgPSBwYXJzZUNoYXJhY3RlckRhdGEoZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgICBpZiAoY29sbGFwc2VXaGl0ZVNwYWNlKSB7XHJcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IG5ldyBTdHIoZWxlbWVudC52YWx1ZSkudHJpbSgpLiQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNvbGxhcHNlV2hpdGVTcGFjZSB8fCAhL15cXHMqJC8udGVzdChlbGVtZW50LnZhbHVlKSkge1xyXG4gICAgICBlbGVtLmNoaWxkcmVuLnB1c2goZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfSk7XHJcbmNvbnN0IHJhd1RleHRTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCBmYWxzZSlcclxuICAuY2FzZShbJ3RpdGxlJywgJ3RleHRhcmVhJywgJ3N0eWxlJywgJ3NjcmlwdCddLCB0cnVlKTtcclxuXHJcbmNsYXNzIEludGVybmFsUGFyc2luZ0Vycm9yIHtcclxuICBjb25zdHJ1Y3RvcihpbmRleCkge1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUGFyc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIHR5cGUgPSAnUEFSU0lOR19FUlJPUic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrdXAgLSBNYXJrdXAgdG8gcGFyc2UgdG8gSlNPTi5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIGNvbGxhcHNlZC5cclxuICogQHJldHVybnMge0Fyci48TWFya3VwRWxlbWVudD59IE1hcmt1cCBlbGVtZW50cyBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBwYXJzaW5nIGh0bWwgYW5kIHhtbCB0byBKU09OLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKG1hcmt1cCwgY29sbGFwc2VXaGl0ZVNwYWNlKSA9PiB7XHJcbiAgY29sbGFwc2VXaGl0ZVNwYWNlID0gISFjb2xsYXBzZVdoaXRlU3BhY2U7XHJcblxyXG4gIGNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihbXSk7XHJcbiAgY29uc3Qgc3RhcnRNYXJrdXAgPSBtYXJrdXA7XHJcbiAgbGV0IGZvdW5kO1xyXG4gIGxldCBnbG9iYWxJbmRleCA9IDA7XHJcbiAgbGV0IGVsZW0gPSB7XHJcbiAgICBuYW1lOiBudWxsLFxyXG4gICAgY2hpbGRyZW46IGVsZW1lbnRzXHJcbiAgfTtcclxuXHJcbiAgd2hpbGUgKG1hcmt1cC5sZW5ndGgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGZvdW5kID0gZmluZChtYXJrdXAsIGVsZW0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEludGVybmFsUGFyc2luZ0Vycm9yKSkge1xyXG4gICAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFBhcnNpbmcgZXJyb3IgbmVhciBpbmRleCAkeyBuZWFyU3RyaW5nKHN0YXJ0TWFya3VwLCBnbG9iYWxJbmRleCArIGVyci5pbmRleCkgfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgYXR0cnMsXHJcbiAgICAgIHNlbGZDbG9zaW5nLFxyXG4gICAgICBpbmRleCxcclxuICAgICAgdmFsdWVcclxuICAgIH0gPSBmb3VuZDtcclxuXHJcbiAgICBnbG9iYWxJbmRleCArPSBpbmRleDtcclxuXHJcbiAgICBpZiAoIWluZGV4KSB7XHJcbiAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm9kZSA9IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgdmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICd0YWctb3BlbicpIHtcclxuICAgICAgbm9kZS5hdHRycyA9IGF0dHJzO1xyXG4gICAgICBub2RlLnNlbGZDbG9zaW5nID0gc2VsZkNsb3Npbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbSA9IG5vZGVTd2l0Y2hlcihub2RlLnR5cGUsIFtlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2VdKTtcclxuXHJcbiAgICBtYXJrdXAgPSBtYXJrdXAuc2xpY2UoaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnRzO1xyXG5cclxuICBmdW5jdGlvbiB0aHJvd1VuZXhwZWN0ZWRFcnJvcigpIHtcclxuICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFVuZXhwZWN0ZWQgcGFyc2luZyBlcnJvciBuZWFyIGluZGV4ICR7IG5lYXJTdHJpbmcoc3RhcnRNYXJrdXAsIGdsb2JhbEluZGV4KSB9LiAkeyBzdWJtaXRTdHJpbmcgfWApO1xyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbmQobWFya3VwLCBlbGVtKSB7XHJcbiAgY29uc3QgeyBuYW1lIH0gPSBlbGVtO1xyXG4gIGxldCBtYXRjaGVzO1xyXG5cclxuICBpZiAocmF3VGV4dFN3aXRjaGVyKG5hbWUpKSB7XHJcbiAgICBtYXRjaGVzID0gbmV3IFN1cGVyKHtcclxuICAgICAgJ3RhZy1jbG9zZSc6IG1hcmt1cC5tYXRjaChjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChuYW1lKSlcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtYXRjaGVzID0gTk9ERV9SRUdFWF9TRVQubWFwKChyZWdleCkgPT4gKFxyXG4gICAgICBtYXJrdXAubWF0Y2gocmVnZXgpXHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIGxldCBtYXRjaDtcclxuXHJcbiAgaWYgKFxyXG4gICAgbWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG1hdGNoKSA9PiAoXHJcbiAgICAgIG1hdGNoICYmIG1hdGNoLmluZGV4ID09PSAwXHJcbiAgICApKVxyXG4gICkge1xyXG4gICAgY29uc3QgcmV0dXJuaW5nID0ge1xyXG4gICAgICB0eXBlOiBtYXRjaC5rZXksXHJcbiAgICAgIGluZGV4OiBtYXRjaC52YWx1ZVswXS5sZW5ndGgsXHJcbiAgICAgIHZhbHVlOiBtYXRjaC52YWx1ZVsxXVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcblxyXG4gICAgaWYgKG1hdGNoLmtleSA9PT0gJ3RhZy1vcGVuJykge1xyXG4gICAgICBjb25zdCBzdGFydE1hcmt1cCA9IG1hcmt1cDtcclxuICAgICAgbGV0IGNsb3NlTWF0Y2g7XHJcblxyXG4gICAgICByZXR1cm5pbmcuc2VsZkNsb3NpbmcgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuaW5nLmF0dHJzID0gYXR0cnM7XHJcblxyXG4gICAgICB3aGlsZSAoXHJcbiAgICAgICAgKG1hcmt1cCA9IHN0YXJ0TWFya3VwLnNsaWNlKHJldHVybmluZy5pbmRleCkpICYmXHJcbiAgICAgICAgIShjbG9zZU1hdGNoID0gbWFya3VwLm1hdGNoKFRBR19PUEVOX0NMT1NFKSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgYXR0ciA9IG1hcmt1cC5tYXRjaChBVFRSSUJVVEUpO1xyXG5cclxuICAgICAgICBpZiAoIWF0dHIpIHtcclxuICAgICAgICAgIHJldHVybmluZy5pbmRleCArPSAxO1xyXG5cclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXR0cnNbYXR0clsxXV0gPSAoYXR0clsyXSB8fCAnJykucmVwbGFjZSgvXihcInwnKXwoXCJ8JykkL2csICcnKTtcclxuICAgICAgICByZXR1cm5pbmcuaW5kZXggKz0gYXR0clswXS5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjbG9zZU1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuaW5nLmluZGV4ICs9IGNsb3NlTWF0Y2hbMF0ubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybmluZy5zZWxmQ2xvc2luZyA9ICEhY2xvc2VNYXRjaFsxXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXR1cm5pbmc7XHJcbiAgfVxyXG5cclxuICBsZXQgeyB2YWx1ZTogaW5kZXggfSA9IG1hdGNoZXMubWluKChtYXRjaCkgPT4gKFxyXG4gICAgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IE5hTlxyXG4gICkpO1xyXG5cclxuICBpZiAoaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICBpbmRleCA9IG1hcmt1cC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogJ3RleHQnLFxyXG4gICAgaW5kZXgsXHJcbiAgICB2YWx1ZTogbWFya3VwLnNsaWNlKDAsIGluZGV4KVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdENsb3NlVGFnUmVnRXhwKHRhZ05hbWUpIHtcclxuICByZXR1cm4gbmV3IFJlZ0V4cChgPC8oJHsgdGFnTmFtZSB9KVxcXFxzKj5gLCAnaScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuZWFyU3RyaW5nKG1hcmt1cCwgaW5kZXgpIHtcclxuICByZXR1cm4gYCR7IGluZGV4IH0gKH5+fiBcIiR7IG1hcmt1cC5zbGljZShpbmRleCwgaW5kZXggKyAxNSkgfVwiIH5+fiwgdGhlIHN0cmluZyBpdHNlbGYgaXMgXCIkeyBtYXJrdXAgfVwiKWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ2hhcmFjdGVyRGF0YShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyYoXFx3K3wjeD9cXGQrKTsvZywgKG1hdGNoKSA9PiB7XHJcbiAgICBkaXYuaW5uZXJIVE1MID0gbWF0Y2g7XHJcblxyXG4gICAgcmV0dXJuIGRpdi50ZXh0Q29udGVudCB8fCBkaXYuaW5uZXJUZXh0O1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEVsZW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEVsZW0gY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgQXJyLCBhcnJheSwgaXRlcmF0ZSBhcyB0aW1lcyB9IGZyb20gJy4vQXJyJztcclxuaW1wb3J0IHsgYmxvYiB9IGZyb20gJy4vQmxvYk9iamVjdCc7XHJcbmltcG9ydCB7IG1ldGhvZCB9IGZyb20gJy4vRnVuYyc7XHJcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICcuL1Byb21pc2UnO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7XHJcbiAgY29uc3RydWN0b3JzLCBhcHBsaWVkUmVnRXhwcywgaHRtbEVsZW1lbnRzLCBzdmdFbGVtZW50cyxcclxuICBjYW52YXNHZXRNZXRob2RzLCBjYW52YXNSZXN0TWV0aG9kc1xyXG59IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLFxyXG4gIGlzSW50ZWdlciwgaXNOaWwsIGlzTnVtYmVyLCBpc051bGwsIGlzU3RyaW5nLFxyXG4gIGFzc2lnbiwgZHluYW1pY0RlZmluZVByb3BlcnRpZXMsIGRlZmluZVByb3BlcnRpZXMsIHRvQXJyYXksXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2xcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgbWFya3VwVG9KU09OIGZyb20gJy4vaGVscGVycy9tYXJrdXBUb0pTT04nO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdHJpbmd9IEVsZW1FdmVudFN0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBjb250YWluaW5nIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBjb21tYSB3aXRoIHplcm8gb3IgbW9yZSBzcGFjZXMgb3IganVzdCBzcGFjZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtVmFsdWVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSAtIE9sZCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtfSBlbGVtIC0gQ3VycmVudCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBJbmRleCBpbiB0aGUgc2V0IG9mIHRoZSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEVsZW1TZXRPZkNhbGxiYWNrXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFbGVtZW50fSBjcmVhdGVkIC0gQ3JlYXRlZCBlbGVtZW50LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgb2YgdGhlIGl0ZXJhdGVkIGVsZW1lbnQgaW4gdGhlIG9iamVjdC5cclxuICogQHBhcmFtIHtLZXl9IGtleSAtIEtleSBvZiB0aGUgaXRlcmF0ZWQgZWxlbWVudCBpbiB0aGUgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0aGF0IGlzIGl0ZXJhdGVkIG92ZXIuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEN1cnJlbnQgZWxlbWVudC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIFZhbGlkYXRlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gRWxlbWVudCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIC0gRWxlbWVudCB0byB2YWxpZGF0ZS5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGVsZW1lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBDdHhDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtTGlzdGVuZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0V2ZW50fSBlIC0gRmlyZWQgZXZlbnQuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgb24gd2hpY2ggdGhlIGxpc3RlbmVyIHdhcyBjYWxsZWQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIEluZGV4IG9mIHRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSBsaXN0ZW5lciB3YXMgY2FsbGVkLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRWxlbVJlbW92ZUxpc3RlbmVyc1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Li4uRWxlbUV2ZW50U3RyaW5nfSBldmVudHMgLSBJZiBhdCBsZWFzdCBvbmUgYXJndW1lbnQgcHJlc2VudCBvbmx5IHJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIHNwZWNpZmllZFxyXG4gKiBieSB0aGUgZXZlbnRzIGluIHRoZSBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuY29uc3QgbmF0aXZlRG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XHJcbmNvbnN0IGVtcHR5RGl2ID0gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IGV2ZW50U2VwYXJhdG9yID0gLygsfCApICovO1xyXG5jb25zdCB0ZXh0UHJvcGVydHkgPSBuZXcgU3VwZXIoTm9kZS5wcm90b3R5cGUpLnByb3BlcnR5RGVzY3JpcHRvcigndGV4dENvbnRlbnQnKSA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcclxuY29uc3QgY2xhc3NlcyA9IHt9O1xyXG5jb25zdCBhdHRycyA9IHt9O1xyXG5jb25zdCB3aW5kb3dzRHdheW5lRGF0YSA9IG5ldyBBcnIoW10pO1xyXG5jb25zdCBpbnB1dEVsZW1lbnRzID0gJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnO1xyXG5jb25zdCBjbGljayA9IG1ldGhvZCgnY2xpY2snKTtcclxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5jb25zdCB4bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyc7XHJcbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmNvbnN0IHhodG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XHJcbmNvbnN0IHR5cGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKGVsZW0sIHR5cGUpID0+IHtcclxuICBjb25zdCBucyA9IHR5cGUgPT09ICdzdmcnXHJcbiAgICA/IHN2Z05TXHJcbiAgICA6IGVsZW0ucHJvcCgnbmFtZXNwYWNlVVJJJykgfHwgbmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSB8fCB4aHRtbE5TO1xyXG5cclxuICByZXR1cm4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0eXBlKTtcclxufSlcclxuICAuY2FzZShcclxuICAgICh0eXBlKSA9PiB0eXBlID09PSAnI2NvbW1lbnQnLFxyXG4gICAgKCkgPT4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICAodHlwZSkgPT4gdHlwZSA9PT0gJyN0ZXh0JyxcclxuICAgICgpID0+IG5hdGl2ZURvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKVxyXG4gICk7XHJcbmNvbnN0IHJlZlN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICdocmVmJylcclxuICAuY2FzZShcclxuICAgIFsnaW1nJywgJ3NjcmlwdCcsICdpZnJhbWUnLCAnYXVkaW8nLCAndmlkZW8nXSxcclxuICAgICdzcmMnXHJcbiAgKVxyXG4gIC5jYXNlKFxyXG4gICAgJ2Zvcm0nLFxyXG4gICAgJ2FjdGlvbidcclxuICApO1xyXG5jb25zdCBmaWx0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKHNlbGVjdG9yKSA9PiBzZWxlY3RvcilcclxuICAuY2FzZShcclxuICAgIGlzU3RyaW5nLFxyXG4gICAgKHNlbGVjdG9yKSA9PiAoXHJcbiAgICAgIChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcilcclxuICAgIClcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICBbaXNBcnJheSwgaXNFbGVtXSxcclxuICAgIChlbGVtcykgPT4ge1xyXG4gICAgICBlbGVtcyA9IG5ldyBBcnIoZWxlbXMpO1xyXG5cclxuICAgICAgcmV0dXJuIChlbGVtKSA9PiBlbGVtcy5pbmRleE9mKGVsZW0pICE9PSAtMTtcclxuICAgIH1cclxuICApO1xyXG5jb25zdCBpbm5lclN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsIDApXHJcbiAgLmNhc2UoJ3BhZGRpbmctYm94JywgKHBhZGRpbmdzKSA9PiBwYWRkaW5ncylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIChwYWRkaW5ncywgYm9yZGVycykgPT4gcGFkZGluZ3MgKyBib3JkZXJzKTtcclxuY29uc3Qgb3V0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoYm9yZGVycywgcGFkZGluZ3MpID0+IGJvcmRlcnMgKyBwYWRkaW5ncylcclxuICAuY2FzZSgncGFkZGluZy1ib3gnLCAoYm9yZGVycykgPT4gYm9yZGVycylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIDApO1xyXG5jb25zdCBhdHRyTlNTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgbnVsbClcclxuICAuY2FzZSgoYXR0cikgPT4gYXR0ciA9PT0gJ3htbG5zJyB8fCBhdHRyID09PSAneG1sbnM6eGxpbmsnLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5uYW1lID09PSAnc3ZnJ1xyXG4gICAgICA/IHhtbE5TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpXHJcbiAgLmNhc2UoKGF0dHIpID0+IC9eeGxpbms6XFx3Ly50ZXN0KGF0dHIpLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5jbG9zZXN0KCdzdmcnKS5sZW5ndGhcclxuICAgICAgPyB4bGlua05TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBFbGVtXHJcbiAqIEBleHRlbmRzIEFyclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IFtlbGVtID0gW11dIC0gQW4gZWxlbWVudCBvciBhbiBhcnJheSBvZiBlbGVtZW50cyB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gZWxlbWVudHMgc2V0LiBBbHNvIGhhcyBhbGwgbWV0aG9kcyBmcm9tIGZyb21cclxuICogW0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0uXHJcbiAqIEdldHRlcnMgbWV0aG9kcyByZXR1cm4gdGhlIHNhbWUgYXMgbWV0aG9kcyBmcm9tIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBhbmQgdGhlIHJlc3QgcmV0dXJuIHRoaXMuXHJcbiAqIFdvcmsgZm9yIHRoZSBmaXJzdCBjYW52YXMgZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBuZXcgRWxlbShkb2N1bWVudC5ib2R5KTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNscycpKTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2xzJykpO1xyXG4gKi9cclxuY2xhc3MgRWxlbSBleHRlbmRzIEFyciB7XHJcbiAgY29uc3RydWN0b3IoZWxlbSA9IFtdKSB7XHJcbiAgICBzdXBlcigoKCkgPT4ge1xyXG4gICAgICBsZXQgZWxlbWVudCA9IGVsZW07XHJcblxyXG4gICAgICBpZiAoaXNBcnJheUxpa2UoZWxlbWVudCkgJiYgKFxyXG4gICAgICAgIGlzV2luZG93KGVsZW1lbnQpIHx8XHJcbiAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0VsZW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc1N0eWxlUnVsZShlbGVtZW50KVxyXG4gICAgICApKSB7XHJcbiAgICAgICAgZWxlbWVudCA9IFtlbGVtZW50XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ldyBBcnIodG9BcnJheShuZXcgU3VwZXIoZWxlbWVudCkuJCwgdHJ1ZSkpLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgICBpZiAoZWxlbXMuaW5kZXhPZihlbGVtKSA9PT0gLTEgJiYgKFxyXG4gICAgICAgICAgaXNFbGVtZW50KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1dpbmRvdyhlbGVtKSB8fFxyXG4gICAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbSkgfHxcclxuICAgICAgICAgIGlzRG9jdW1lbnRGcmFnbWVudChlbGVtKSB8fFxyXG4gICAgICAgICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1N0eWxlUnVsZShlbGVtKVxyXG4gICAgICAgICkpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5wdXNoKGVsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgICAgICAgZWxlbXMucHVzaC5hcHBseShlbGVtcywgZWxlbS4kKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFtdKS4kO1xyXG4gICAgfSkoKSk7XHJcblxyXG4gICAgdGhpcy4kJCA9IGVsZW07XHJcblxyXG4gICAgdGhpcy5mb3JFYWNoKGFkZER3YXluZURhdGEpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7QXJyYXkuPE5vZGV8V2luZG93Pn0gRWxlbSMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXkuPE5vZGV8V2luZG93Pn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1Y3RlZCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7Kn0gRWxlbSMkJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLihTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXSl9IGVsZW1lbnRzIC0gRWFjaCBhcmd1bWVudCBpcyBhIHNlbGVjdG9yLCBvciBFbGVtLCBvciBFbGVtZW50LCBvciBhcnJheSBvZiBFbGVtZW50cy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgZWxlbWVudHMgdG8gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEuZmluZCgnLmNsczEnKVxyXG4gICAqICAgLmFkZChlbGVtMi5maW5kKCcuY2xzMicpKVxyXG4gICAqICAgLmhpZGUoKTtcclxuICAgKi9cclxuICBhZGQoLi4uZWxlbWVudHMpIHtcclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZWxlbSkgPT4ge1xyXG4gICAgICB0b0ZpbmQoZWxlbSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4T2YoZWxlbSkgPT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLnB1c2goZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZENsYXNzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBjbGFzc2VzIC0gQ2xhc3NlcyB0byBhZGQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgY2xhc3NlcyB0byB0aGUgYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdyZWQnLCAncm91bmQnKTtcclxuICAgKi9cclxuICBhZGRDbGFzcyguLi5jbGFzc2VzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3QgPSBlbGVtLmNsYXNzTGlzdDtcclxuXHJcbiAgICAgIGl0ZXJhdGUoaXNFbGVtZW50KGVsZW0pICYmIGFyZ3VtZW50cywgKGNscykgPT4gbGlzdC5hZGQoY2xzKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiBjb21tZW50IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBjb21tZW50IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjb21tZW50IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRIVE1MKCc8ZGl2PjE8L2Rpdj4nKTtcclxuICAgKi9cclxuICBhZGRDb21tZW50KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKGVuZCA/ICdiZWZvcmVlbmQnIDogJ2FmdGVyYmVnaW4nLCBgPCEtLSR7IHRleHQgfS0tPmApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQgLSBJZiB0aGUgSFRNTCBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgaXQncyBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgSFRNTCB0byBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uYWRkSFRNTCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICovXHJcbiAgYWRkSFRNTChodG1sLCBlbmQgPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmluc2VydEFkamFjZW50SFRNTChlbmQgPyAnYmVmb3JlZW5kJyA6ICdhZnRlcmJlZ2luJywgaHRtbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciAtIFNlbGVjdG9yIGZvciB0aGUgcnVsZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjc3Mgc3R5bGVzIGludG8gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmFkZFJ1bGUoJ2ltZy1zaXplJywgJ2ltZy5zcXVhcmUnLCB7XHJcbiAgICogICB3aWR0aDogJzQwcHggIWltcG9ydGFudCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4ICFpbXBvcnRhbnQnXHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgYWRkUnVsZShuYW1lLCBzZWxlY3Rvciwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgc2hlZXQgfSA9IGVsZW07XHJcbiAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IHNoZWV0LmNzc1J1bGVzO1xyXG4gICAgICAgIGNvbnN0IHJ1bGVzID0gbmV3IFN1cGVyKHN0eWxlKS53b3JkKCh2YWx1ZSwgcHJvcGVydHkpID0+IChcclxuICAgICAgICAgIGAkeyBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKSB9OiAkeyB2YWx1ZSB9O1xcbmBcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShcclxuICAgICAgICAgIGAkeyBzZWxlY3RvciB9IHskeyBydWxlcyAmJiAnXFxuJyB9JHsgcnVsZXMgfX1gLFxyXG4gICAgICAgICAgbGVuZ3RoXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzaGVldC5jc3NSdWxlc1tsZW5ndGhdLmR3YXluZURhdGEgPSB7IG5hbWUgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSB0ZXh0IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyB0ZXh0IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRUZXh0KCcxMjMnKTtcclxuICAgKi9cclxuICBhZGRUZXh0KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpLmludG8oZWxlbSwgZW5kKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FwcGx5XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBzdHJpbmdzIC0gU3RyaW5ncyB0byBhcHBseS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgdGhhdCBpcyBhIHNob3J0aGFuZCBmb3IgbWFueSBvdGhlciBtZXRob2RzLlxyXG4gICAqIEFsbCBzaG9ydGhhbmRzIGNhbiBiZSBzZXBhcmF0ZWQgd2l0aCBzcGFjZSBhbmQgd3JpdHRlbiB3aXRoaW4gb25lIHN0cmluZy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hcHBseShcclxuICAgKiAgICcjaWQgLmMxIC5jMiBAYm9yZGVyKDFweCBzb2xpZCBibGFjaykgJGRpc2FibGVkICRhdHRyKHNvbWUgdmFsdWUpICooQ2xpY2sgbWUhKSdcclxuICAgKiApO1xyXG4gICAqIC8vIHNob3J0aGFuZCBmb3JcclxuICAgKiAvLyBlbGVtXHJcbiAgICogLy8gICAuaWQoJ2lkJylcclxuICAgKiAvLyAgIC5hZGRDbGFzcygnYzEnLCAnYzInKVxyXG4gICAqIC8vICAgLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCBibGFjaycpXHJcbiAgICogLy8gICAuYXR0cih7XHJcbiAgICogLy8gICAgIGF0dHIsICdzb21lIHZhbHVlJ1xyXG4gICAqIC8vICAgICBkaXNhYmxlZDogJydcclxuICAgKiAvLyAgIH0pXHJcbiAgICogLy8gICAudGV4dCgnQ2xpY2sgbWUhJyk7XHJcbiAgICogLy8gVGhlcmUgaXMgYSBmdWxsIGxpc3Qgb2YgcG9zc2libGUgdHlwZXMgb2Ygc3ludGF4IGJlbG93Li4uXHJcbiAgICpcclxuICAgKiBlbGVtLmFwcGx5KCcjaWQnKTsgICAgICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5pZCgnaWQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCcuYzEgLmMyJyk7ICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5hZGRDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctLmMxIC0uYzInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctQGZsb2F0IC1AZGlzcGxheScpOyAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDU1MoJ2Zsb2F0JywgJ2Rpc3BsYXknKTtcclxuICAgKiBlbGVtLmFwcGx5KCctJGExIC0kYTInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVBdHRyKCdhMScsICdhMicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyooc29tZSB0ZXh0KScpOyAgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLnRleHQoJ3NvbWUgdGV4dCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyYoPGRpdj4xPC9kaXY+KScpOyAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmh0bWwoJzxkaXY+MTwvZGl2PicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BmbG9hdChyaWdodCknKTsgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnZmxvYXQnLCAncmlnaHQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCdAdHJhbnNmb3JtKHNjYWxlKDVweCkpJyk7IC8vIHNob3J0aGFuZCBmb3IgZWxlbS5jc3MoJ3RyYW5zZm9ybScsICdzY2FsZSg1cHgpJyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbigycHggMnB4KScpOyAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4nLCAnMnB4IDJweCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BtYXJnaW5MZWZ0KDJweCknKTsgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnbWFyZ2luTGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbi1sZWZ0KDJweCknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4tbGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHIoc29tZSB2YWx1ZSknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICdzb21lIHZhbHVlJyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHInKTsgICAgICAgICAgICAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICcnKTtcclxuICAgKi9cclxuICBhcHBseSguLi5zdHJpbmdzKSB7XHJcbiAgICBsZXQgYXBwbGllZDtcclxuICAgIGxldCBzZXRBcHBsaWVkO1xyXG4gICAgbGV0IGNhbGxiYWNrO1xyXG4gICAgbGV0IG5hbWU7XHJcbiAgICBsZXQgbnAxO1xyXG4gICAgbGV0IHNsaWNlO1xyXG5cclxuICAgIG5ldyBTdHIobmV3IEFycihhcmd1bWVudHMpLmpvaW4oJyAnKSlcclxuICAgICAgLnNwbGl0KC8oXFxzKykvKVxyXG4gICAgICAuZm9yRWFjaCgoc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFhcHBsaWVkKSB7XHJcbiAgICAgICAgICBucDEgPSBzdHJpbmcuc2xpY2UoMCwgMSk7XHJcbiAgICAgICAgICBjYWxsYmFjayA9IGFwcGxpZWRSZWdFeHBzW25wMV07XHJcbiAgICAgICAgICBzbGljZSA9IDE7XHJcblxyXG4gICAgICAgICAgaWYgKGNhbGxiYWNrICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrW3N0cmluZy5zbGljZSgxLCAyKV07XHJcbiAgICAgICAgICAgIHNsaWNlID0gMjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoL15cXHMrJC8udGVzdChzdHJpbmcpIHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbmFtZSA9IHN0cmluZy5zbGljZShzbGljZSkubWF0Y2goL15bXigpXSsvKTtcclxuXHJcbiAgICAgICAgICBpZiAoIW5hbWUgJiYgKG5wMSAhPT0gJyonICYmIG5wMSAhPT0gJyYnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYXBwbGllZCA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSA/IG5hbWVbMF0gOiAnJyxcclxuICAgICAgICAgICAgYXJnczogc3RyaW5nLnNsaWNlKHNsaWNlICsgKG5hbWUgPyBuYW1lWzBdIDogJycpLmxlbmd0aCksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHNldEFwcGxpZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzZXRBcHBsaWVkKSB7XHJcbiAgICAgICAgICBhcHBsaWVkLmFyZ3MgKz0gc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhcHBsaWVkLmFyZ3MgfHwgL15cXChbXFxzXFxTXStcXCkkLy50ZXN0KGFwcGxpZWQuYXJncykpIHtcclxuICAgICAgICAgIGFwcGxpZWQuY2FsbGJhY2sodGhpcywgYXBwbGllZC5uYW1lLCBhcHBsaWVkLmFyZ3MucmVwbGFjZSgvXlxcKHxcXCkkL2csICcnKSk7XHJcbiAgICAgICAgICBhcHBsaWVkID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldEFwcGxpZWQgPSBmYWxzZTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jYXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgU3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrPn0gW2F0dHJdIC0gTmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIGdldCBvclxyXG4gICAqIGFuIG9iamVjdCBvZiB0aGUgZm9ybWF0IHsgW2F0dHJOYW1lXTogdmFsdWUsIC4uLiB9IHRvIHNldCBhdHRyaWJ1dGVzLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrfSBbdmFsdWVdIC0gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nXHJcbiAgICogaXQgc2hvdWxkIGJlIGEgdmFsdWUgdG8gc2V0IGZvciB0aGF0IGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7U3VwZXJ8U3RyaW5nfEVsZW19IElmIG5vIGFyZ3VtZW50cyBwYXNzZWQsIEQtV3JhcCBvZiBhdHRyaWJ1dGVzIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCwgaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBhdHRyaWJ1dGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmF0dHIoJ2F0dHIxJywgJ3ZhbHVlMScpOyAvLyBhdHRyaWJ1dGUgYXR0cjEgc2V0IHRvICd2YWx1ZTEnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyMScpOyAgICAgICAgICAgLy8gJ3ZhbHVlMSdcclxuICAgKiBlbGVtLmF0dHIoe1xyXG4gICAqICAgYXR0cjE6ICd2YWx1ZTMnLCAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBhdHRyMSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIGF0dHIyOiAndmFsdWUyJyAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgYXR0cjIgc2V0IHRvICd2YWx1ZTInXHJcbiAgICogfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyByZXR1cm5lZFxyXG4gICAqIGVsZW0uYXR0cigpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgYXR0cjE6ICd2YWx1ZTMnLCBhdHRyMjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGF0dHIoYXR0ciwgdmFsdWUpIHtcclxuICAgIGNvbnN0IGVsZW0gPSBnZXRFbGVtKHRoaXMpO1xyXG5cclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKGVsZW0uYXR0cmlidXRlcykub2JqZWN0KChvLCBhdHRyKSA9PiB7XHJcbiAgICAgICAgb1thdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhhdHRyKSkge1xyXG4gICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgcmV0dXJuIGlzTnVsbChucylcclxuICAgICAgICA/IGVsZW0uZ2V0QXR0cmlidXRlKGF0dHIpXHJcbiAgICAgICAgOiBlbGVtLmdldEF0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIGF0dHIgPSB7IFthdHRyXTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKGF0dHIpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICB2YWx1ZSA9IGlzRnVuY3Rpb24odmFsdWUpXHJcbiAgICAgICAgICA/IHZhbHVlKG5ldyBFbGVtKGVsZW0pLmF0dHIoa2V5KSwgZWxlbSwgaW5kZXgpXHJcbiAgICAgICAgICA6IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoaXNOaWwodmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IEVsZW0oZWxlbSkucmVtb3ZlQXR0cihrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbnMgPSBhdHRyTlNTd2l0Y2hlcihrZXksIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMobnMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNibG9iXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucyA9IHt9XSAtIE9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIGJsb2J9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxCbG9iT2JqZWN0Pn0gTmV3IGluc3RhbmNlIG9mIHByb21pc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgYSB7QGxpbmsgQmxvYk9iamVjdH0gUHJvbWlzZS4gV29ya3Mgd2l0aCBpbWFnZSBvciBjYW52YXMgZmlyc3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogaW1hZ2UuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgIC8vIEJsb2JPYmplY3RcclxuICAgKiBjYW52YXMuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgLy8gQmxvYk9iamVjdFxyXG4gICAqL1xyXG4gIGJsb2Iob3B0aW9ucyA9IHt9KSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtID0gdGhpcy5maXJzdCgpO1xyXG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGVsZW07XHJcblxyXG4gICAgICBpZiAobmFtZSAhPT0gJ2ltZycgJiYgbmFtZSAhPT0gJ2NhbnZhcycpIHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdGaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXNuXFwndCBhbiBpbWFnZSBvciBhIGNhbnZhcyEgKEVsZW0jYmxvYiknKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuYW1lID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGVsZW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtXHJcbiAgICAgICAgLmxvYWQoKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGlmIChlbGVtLmlzQnJva2VuKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ1RoZSBpbWFnZSBpcyBicm9rZW4hIChFbGVtI2Jsb2IpJykpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IG5ldyBFbGVtKG5hdGl2ZURvY3VtZW50KS5jYW52YXMoKTtcclxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWxlbS53aWR0aCgpO1xyXG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gZWxlbS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICBjYW52YXNcclxuICAgICAgICAgICAgLndpZHRoKHdpZHRoKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KGhlaWdodClcclxuICAgICAgICAgICAgLmRyYXdJbWFnZShlbGVtLiRbMF0sIDAsIDApO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUoY2FudmFzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pLnRoZW4oKGNhbnZhcykgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhVVJMID0gY2FudmFzLmRhdGFVUkwoKTtcclxuICAgICAgY29uc3QgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YVVSTC5zcGxpdCgnLCcpWzFdKTtcclxuICAgICAgY29uc3QgbGVuZ3RoID0gYnl0ZVN0cmluZy5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IGFiID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XHJcbiAgICAgIGNvbnN0IGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xyXG5cclxuICAgICAgdGltZXMobGVuZ3RoLCAoaSkgPT4ge1xyXG4gICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBibG9iKGFiLCBvcHRpb25zKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2JsdXJcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTEVsZW1lbnQjYmx1cl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJ9LlxyXG4gICAqL1xyXG4gIGJsdXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmJsdXIoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2FsY0NTU1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHNldWRvXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL1dpbmRvdy9nZXRDb21wdXRlZFN0eWxlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW2dldENvbXB1dGVkU3R5bGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0Q29tcHV0ZWRTdHlsZX0uXHJcbiAgICogUmV0dXJucyBjb21wdXRlZCBzdHlsZSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBvciB1bmRlZmluZWQuXHJcbiAgICovXHJcbiAgY2FsY0NTUyhwc2V1ZG8gPSBudWxsKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShnZXRFbGVtKHRoaXMpLCBwc2V1ZG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoYW5nZVJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNoYW5naW5nIGNzcyBzdHlsZXMgaW4gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmNoYW5nZVJ1bGUoJ2ltZy1zaXplJywge1xyXG4gICAqICAgd2lkdGg6ICc1MHB4ICFpbXBvcnRhbnQnLFxyXG4gICAqICAgaGVpZ2h0OiAnNTBweCAhaW1wb3J0YW50J1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGNoYW5nZVJ1bGUobmFtZSwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgdmFsdWU6IHJ1bGUgfSA9IG5ldyBBcnIoZWxlbS5zaGVldC5jc3NSdWxlcykuZmluZCgocnVsZSkgPT4gcnVsZS5kd2F5bmVEYXRhICYmIHJ1bGUuZHdheW5lRGF0YS5uYW1lID09PSBuYW1lKSB8fCB7fTtcclxuXHJcbiAgICAgICAgaWYgKHJ1bGUpIHtcclxuICAgICAgICAgIG5ldyBFbGVtKHJ1bGUpLmNzcyhzdHlsZSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudCAtIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciBhIHdyYXAgb2YgdGhlIHNldCBvZiB0aGUgY2hpbGRyZW5cclxuICAgKiBvZiB0aGlzIGluZGV4IG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkIG90aGVyd2lzZSBhbiBlbGVtZW50IHRvIHB1dCBpbnRvIHRoaXMgZWxlbWVudCwgYSBjb2xsZWN0aW9uXHJcbiAgICogb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBlbGVtZW50cyBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgdGhleSBhcmUgaW5zZXJ0ZWQgdG8gdGhlIHN0YXJ0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIGEgd3JhcCBvZiBjaGlsZHJlbiBvciBpbnNlcnRlZCBlbGVtZW50cy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBjaGlsZCA9IGVsZW0uY2hpbGQoMSk7XHJcbiAgICpcclxuICAgKiBlbGVtLmNoaWxkKGVsZW0yKTtcclxuICAgKiBlbGVtLmNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmNoaWxkKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgY2hpbGQoZWxlbWVudCwgZW5kID0gdHJ1ZSkge1xyXG4gICAgaWYgKGlzSW50ZWdlcihlbGVtZW50KSAmJiBlbGVtZW50ID49IDApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4oKS5lbGVtKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b0ZpbmQoZWxlbWVudCkuaW50byh0aGlzLCBlbmQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoaWxkcmVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBELVdyYXAgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBlbGVtZW50J3MgY2hpbGRyZW4uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGNoaWxkcmVuID0gZWxlbS5jaGlsZHJlbigpO1xyXG4gICAqL1xyXG4gIGNoaWxkcmVuKCkge1xyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMubGVuZ3RoID8gdGhpcy4kWzBdLmNoaWxkTm9kZXMgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xhc3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjbHNdIC0gSWYgaXQncyBwcmVzZW50IGl0IGhhcyB0byBjb250YWluIGNsYXNzIGF0dHJpYnV0ZSB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0FycnxFbGVtfSBJZiB0aGUgYXJndW1lbnQgaXMgcHJlc2VudCB0aGlzIHJldHVybmVkIG90aGVyd2lzZSBhIHdyYXAgb2YgdGhlIGNsYXNzZXMgYXJyYXkgcmV0dXJuZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZy9zZXR0aW5nIGNsYXNzZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY2xhc3MoJ2MxIGMyJyk7IC8vIGNsYXNzIHNldCB0byAnYzEgYzInXHJcbiAgICogZWxlbS5jbGFzcygpLiQ7ICAgICAgLy8gWydjMScsICdjMiddXHJcbiAgICovXHJcbiAgY2xhc3MoY2xzKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBBcnIoZ2V0RWxlbSh0aGlzKS5jbGFzc05hbWUuc3BsaXQoJyAnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbHM7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NsaWNrXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MRWxlbWVudC9jbGlja1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtIVE1MRWxlbWVudCNjbGlja117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2NsaWNrfS5cclxuICAgKi9cclxuICBjbGljaygpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uY2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xvbmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtkZWVwID0gZmFsc2VdIC0gU2VlIHRoZWUgbGluay5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jbG9uZU5vZGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTm9kZSNjbG9uZU5vZGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9Ob2RlL2Nsb25lTm9kZX0uXHJcbiAgICovXHJcbiAgY2xvbmUoZGVlcCA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChlbGVtLmNsb25lTm9kZSghIWRlZXApKTtcclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2Nsb3Nlc3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBTZXQgb2YgdGhlIGNsb3Nlc3QgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0VsZW1lbnQjY2xvc2VzdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xvc2VzdH0uXHJcbiAgICovXHJcbiAgY2xvc2VzdChzZWxlY3Rvcikge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4ge1xyXG4gICAgICB3aGlsZSAoZWxlbSkge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjb250YWluc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGZpbmQgb3V0IGlmIGl0J3Mgd2l0aGluIHRoZSBmaXJzdCBlbGVtZW50XHJcbiAgICogaW4gdGhlIHNldCBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBhcmd1bWVudCB3aXRoaW4gdGhpcyBlbGVtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgaXMgZXh0ZW5zaW9uIGZvclxyXG4gICAqIFtOb2RlI2NvbnRhaW5zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jb250YWluc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0xLmNvbnRhaW5zKGVsZW0yKTsgICAvLyB0cnVlfGZhbHNlXHJcbiAgICogZWxlbS5jb250YWlucyhzZWxlY3Rvcik7IC8vIHRydWV8ZmFsc2VcclxuICAgKi9cclxuICBjb250YWlucyhlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmNvbnRhaW5zKGdldEVsZW0oZWxlbWVudCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIFR5cGUgb2YgY3JlYXRlZCBlbGVtZW50LiBJZiB0eXBlIGlzIFwiI3RleHRcIiBhIHRleHQgbm9kZSBpcyBjcmVhdGVkLlxyXG4gICAqIElmIHR5cGUgaXMgXCIjY29tbWVudFwiIGEgY29tbWVudCBub2RlIGlzIGNyZWF0ZWQuXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9ucyAtIFN0cmluZ3MgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIEVsZW0jYXBwbHl9LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgZWxlbWVudHMgaW5zaWRlIHRoaXMgZWxlbWVudC5cclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IGFuIEVsZW1lbnQgdGhlIGVsZW1lbnQgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZSgnZGl2JywgJyNpZCAuYzEgLmMyICpTb21lIHRleHQqJyk7XHJcbiAgICpcclxuICAgKiAvLyBhbHNvIHRoZXJlIGFyZSBzaG9ydGhhbmRzIGZvciBhbG1vc3QgZXZlcnkgSFRNTC1lbGVtZW50XHJcbiAgICogZWxlbS5kaXYoKTtcclxuICAgKiBlbGVtLmlucHV0KCckdHlwZShjaGVja2JveCkgJG5hbWUoY291bnRyeSknKTtcclxuICAgKi9cclxuICBjcmVhdGUodHlwZSwgLi4uYXBwbGllZEV4cHJlc3Npb25zKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBuZXcgRWxlbSh0eXBlU3dpdGNoZXIodHlwZSwgW25ldyBFbGVtKGVsZW0pXSkpO1xyXG5cclxuICAgICAgZWxlbWVudC5pbnRvKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbXMuYWRkKGVsZW1lbnQuYXBwbHkuYXBwbHkoZWxlbWVudCwgYXBwbGllZEV4cHJlc3Npb25zKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjcmVhdGVDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiB0aGUgY29tbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0gLSB3cmFwIG9mIHRoZSBjcmVhdGVkIGNvbW1lbnRzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIGNvbW1lbnRzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSBjb21tZW50IGlzIGp1c3QgY3JlYXRlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jcmVhdGVDb21tZW50KCdjb21tZW50Jyk7XHJcbiAgICovXHJcbiAgY3JlYXRlQ29tbWVudCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuY3JlYXRlKCcjY29tbWVudCcpXHJcbiAgICAgIC50ZXh0KHRleHQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgdGV4dCBub2Rlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBjcmVhdGluZyB0ZXh0IG5vZGVzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSB0ZXh0IG5vZGUgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZVRleHQoJ3RleHQnKTtcclxuICAgKi9cclxuICBjcmVhdGVUZXh0KHRleHQpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC5jcmVhdGUoJyN0ZXh0JylcclxuICAgICAgLnRleHQodGV4dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY3NzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2s+fSBbcHJvcGVydHldIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0IG9yXHJcbiAgICogYW4gb2JqZWN0IG9mIHRoZSBmb3JtYXQgeyBbcHJvcGVydHldOiB2YWx1ZSwgLi4uIH0gdG8gc2V0IHN0eWxlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHkuXHJcbiAgICogQHJldHVybnMge1N1cGVyfFN0cmluZ3xFbGVtfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkLCBELVdyYXAgb2YgY3NzIHN0eWxlcyBvZiB0aGUgZWxlbWVudCByZXR1cm5lZCxcclxuICAgKiBpZiAxIHN0cmluZyBhcmd1bWVudCBpcyBwYXNzZWQgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBzdHlsZXMuIFN1cHBvcnRzICFpbXBvcnRhbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsgLy8gZGlzcGxheSBzZXQgdG8gJ25vbmUnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5jc3MoJ2Rpc3BsYXknKTsgICAgICAgICAvLyAnbm9uZSdcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBkaXNwbGF5OiAnaW5saW5lJywgICAgICAgICAvLyBkaXNwbGF5IHNldCB0byAnaW5saW5lJ1xyXG4gICAqICAgY3Vyc29yOiAncG9pbnRlcicgICAgICAgICAgLy8gY3Vyc29yIHNldCB0byAncG9pbnRlcidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmNzcygpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgZGlzcGxheTogJ25vbmUnLCBjdXJzb3I6ICdwb2ludGVyJyB9XHJcbiAgICovXHJcbiAgY3NzKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgbGV0IHN0eWxlID0gZ2V0RWxlbSh0aGlzKS5zdHlsZTtcclxuXHJcbiAgICBpZiAoaXNTdHlsZVJ1bGUodGhpcy4kWzBdKSkge1xyXG4gICAgICBzdHlsZSA9IHRoaXMuJFswXS5zdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdHIoc3R5bGUuY3NzVGV4dClcclxuICAgICAgICAuc3BsaXQoLzsgPy8pXHJcbiAgICAgICAgLm9iamVjdCgobywgdmFsdWUpID0+IHtcclxuICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KC86IC8pO1xyXG5cclxuICAgICAgICAgICAgb1tuZXcgU3RyKHByb3BlcnR5WzBdKS50b0NhbWVsQ2FzZSgpLiRdID0gcHJvcGVydHlbMV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkgPSBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKS4kO1xyXG5cclxuICAgICAgcmV0dXJuIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpICsgKHN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkocHJvcGVydHkpID8gJyAhaW1wb3J0YW50JyA6ICcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pICYmICFpc1N0eWxlUnVsZShlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKHByb3BlcnR5KS5mb3JFYWNoKCh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgICBwcm9wZXJ0eSA9IG5ldyBTdHIocHJvcGVydHkpLnRvSHlwaGVuQ2FzZSgpLiQ7XHJcblxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZShuZXcgRWxlbShlbGVtKS5jc3MocHJvcGVydHkpLCBlbGVtLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICBlbGVtLnN0eWxlLnNldFByb3BlcnR5KFxyXG4gICAgICAgICAgcHJvcGVydHksXHJcbiAgICAgICAgICB2YWx1ZS5yZXBsYWNlKC8gPyFpbXBvcnRhbnQkLywgJycpLFxyXG4gICAgICAgICAgLyFpbXBvcnRhbnQkLy50ZXN0KHZhbHVlKSA/ICdpbXBvcnRhbnQnIDogJydcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2N0eFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8Q3R4Q2FsbGJhY2t9IFtwcm9wZXJ0eV0gLSBJZiBwcmVzZW50IGFuZCBvYmplY3RcclxuICAgKiBpdCdzIGFzc2lnbmVkIHRvIHRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQsIGlmIGZ1bmN0aW9uXHJcbiAgICogaXQncyBjYWxsZWQgd2l0aCBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYXJndW1lbnQsIGlmIHN0cmluZ1xyXG4gICAqIHRoZSB2YWx1ZSBmcm9tIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgdXNlZCBmb3IgYXNzaWduaW5nXHJcbiAgICogdGhpcyBwcm9wZXJ0eSB0byBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYW5kIGlmIG5vdCBwcmVzZW50XHJcbiAgICogY2FudmFzIHJlbmRlcmluZyBjb250ZXh0IHJldHVybmVkLlxyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFNlZSB0aGUgcHJvcGVydHkgYXJndW1lbnQuXHJcbiAgICogQHJldHVybnMge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxFbGVtfVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgZmlyc3QgY2FudmFzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNhbnZhcy5jdHg7IC8vIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAqL1xyXG4gIGN0eChwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGxldCBjdHg7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIGN0eCA9IGVsZW0uZHdheW5lRGF0YS5jdHg7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkoY3R4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXNzaWduKGN0eCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2RhdGFcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsIFN0cmluZ3xFbGVtVmFsdWVDYWxsYmFjaz59IFtrZXldIC0gTmFtZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgKHdpdGhvdXQgZGF0YS0gcHJlZml4KVxyXG4gICAqIHRvIGdldCBvciBhbiBvYmplY3Qgb2YgdGhlIGZvcm1hdCB7IFthdHRyTmFtZV06IHZhbHVlLCAuLi4gfSB0byBzZXQgYXR0cmlidXRlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgYXR0cmlidXRlLlxyXG4gICAqIEByZXR1cm5zIHtTdXBlcnxTdHJpbmd8RWxlbX0gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCwgRC1XcmFwIG9mIGRhdGFzZXQgb2YgdGhlIGVsZW1lbnQgcmV0dXJuZWQsXHJcbiAgICogaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgcmV0dXJuZWQgb3RoZXJ3aXNlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nL3NldHRpbmcgZGF0YSBhdHRyaWJ1dGVzLiBTZWVcclxuICAgKiBbSFRNTEVsZW1lbnQjZGF0YXNldF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2RhdGFzZXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJywgJ3ZhbHVlJyk7IC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMScgYW5kIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJyk7ICAgICAgICAgIC8vICd2YWx1ZTEnXHJcbiAgICogZWxlbS5kYXRhKHtcclxuICAgKiAgIHNvbWVLZXkxOiAndmFsdWUzJywgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIHNvbWVLZXkyOiAndmFsdWUyJyAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MiBzZXQgdG8gJ3ZhbHVlMidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoKS4kOyAgICAgICAgICAgICAgICAgIC8vIHsgc29tZUtleTE6ICd2YWx1ZTMnLCBzb21lS2V5MjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGRhdGEoa2V5LCB2YWx1ZSkge1xyXG4gICAgY29uc3QgZGF0YXNldCA9IGdldEVsZW0odGhpcykuZGF0YXNldDtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdXBlcihkYXRhc2V0KS5vYmplY3QoKG8sIHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvW2tleV0gPSB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgaXNTdHJpbmcoa2V5KSkge1xyXG4gICAgICByZXR1cm4gZGF0YXNldFtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAga2V5ID0geyBba2V5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXRlcmF0ZShrZXksICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgZWxlbS5kYXRhc2V0W2tleV0gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlKGVsZW0uZGF0YXNldFtrZXldLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkYXRhVVJMXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt0eXBlID0gJ2ltYWdlL3BuZyddIC0gU2VlIHRoZSBsaW5rXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmNvZGVyT3B0aW9ucyA9IDAuOTJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IERhdGEgVVJMIGZvciB0aGUgZmlyc3QgY2FudmFzIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC90b0RhdGFVUkxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTENhbnZhc0VsZW1lbnQjdG9EYXRhVVJMXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvdG9EYXRhVVJMfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2FudmFzLmRhdGFVUkwoKTtcclxuICAgKi9cclxuICBkYXRhVVJMKHR5cGUsIGVuY29kZXJPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3R4LmNhbnZhcy50b0RhdGFVUkwuYXBwbHkoY3R4LmNhbnZhcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkZWxldGVSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlbGV0aW5nIGNzcyBzdHlsZXMgaW4gYSBzdHlsZSB0YWcuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuZGVsZXRlUnVsZSgnaW1nLXNpemUnKTtcclxuICAgKi9cclxuICBkZWxldGVSdWxlKG5hbWUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHJ1bGUgPSBuZXcgQXJyKGVsZW0uc2hlZXQuY3NzUnVsZXMpLmZpbmQoKHJ1bGUpID0+IHJ1bGUuZHdheW5lRGF0YSAmJiBydWxlLmR3YXluZURhdGEubmFtZSA9PT0gbmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChydWxlKSB7XHJcbiAgICAgICAgICBlbGVtLnNoZWV0LmRlbGV0ZVJ1bGUocnVsZS5rZXkpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZGlzcGF0Y2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RXZlbnR9IGV2ZW50IC0gRXZlbnQgb3IgYSBzdHJpbmcgKG5ldyBFdmVudChldmVudCkgaXMgY3JlYXRlZCkuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudEluaXQgPSB7fV0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZXZlbnRJbml0LmJ1YmJsZXMgPSB0cnVlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtldmVudEluaXQuY2FuY2VsYWJsZSA9IHRydWVdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZGV0YWlscyA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIGFzc2lnbmVkIHRvIHRoZSBldmVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0V2ZW50L0V2ZW50XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0V2ZW50VGFyZ2V0I2Rpc3BhdGNoRXZlbnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9kaXNwYXRjaEV2ZW50fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5kaXNwYXRjaCgnY2xpY2snKTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKCdjbGljaycsIHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGxhYmxlOiBmYWxzZSB9KTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKG5ldyBDdXN0b21FdmVudCgnY3VzdG9tLWV2ZW50JykpO1xyXG4gICAqL1xyXG4gIGRpc3BhdGNoKGV2ZW50LCBldmVudEluaXQgPSB7fSwgZGV0YWlscyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGJ1YmJsZXMgPSB0cnVlLCBjYW5jZWxhYmxlID0gdHJ1ZSB9ID0gZXZlbnRJbml0IHx8IHt9O1xyXG4gICAgbGV0IGZpbmFsRXZlbnQgPSBldmVudDtcclxuXHJcbiAgICBpZiAoIS9FdmVudCQvLnRlc3QodG9TdHJpbmdUYWcoZmluYWxFdmVudCkpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZmluYWxFdmVudCA9IG5ldyBFdmVudChmaW5hbEV2ZW50LCB7IGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGZpbmFsRXZlbnQgPSBuYXRpdmVEb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcclxuICAgICAgICBmaW5hbEV2ZW50LmluaXRFdmVudChldmVudCwgYnViYmxlcywgY2FuY2VsYWJsZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFzc2lnbihmaW5hbEV2ZW50LCBkZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmRpc3BhdGNoRXZlbnQoZmluYWxFdmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2VsZW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleCA9IDBdIC0gSW5kZXggb2YgdGhlIGVsZW1lbnQgb2YgdGhlIHNldCB0byBnZXQuIE5lZ2F0aXZlIGluZGV4IG1lYW5zIGVsZW0ubGVuZ3RoICsgaW5kZXguXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmVsZW0oMSk7IC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDFcclxuICAgKiBlbGVtLmVsZW0oKTsgIC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDBcclxuICAgKi9cclxuICBlbGVtKGluZGV4ID0gMCkge1xyXG4gICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICBpbmRleCA9IHRoaXMubGVuZ3RoICsgaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMuJFtpbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbHRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbnxFbGVtZW50W118RWxlbX0gW3NlbGVjdG9yID0gQm9vbGVhbl0gLSBJZiBpdCdzIGEgc3RyaW5nIHRoZSBtZXRob2QgZmlsdGVycyBlbGVtZW50cyB3aXRoIHRoZSBzZWxlY3RvclxyXG4gICAqIG90aGVyd2lzZSBzdXBlci5maWx0ZXIgaXMgY2FsbGVkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaWx0ZXJpbmcgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uZmlsdGVyKChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5jbG9zZXN0KCcucGFyZW50JykpO1xyXG4gICAqIGVsZW0uZmlsdGVyKGVsZW1zSW5BcnJheSk7XHJcbiAgICogZWxlbS5maWx0ZXIoZWxlbXNJbkVsZW0pO1xyXG4gICAqIGVsZW0uZmlsdGVyKCcuY2hpbGQnKTtcclxuICAgKi9cclxuICBmaWx0ZXIoc2VsZWN0b3IgPSBCb29sZWFuKSB7XHJcbiAgICByZXR1cm4gbmV3IEVsZW0oc3VwZXIuZmlsdGVyKGZpbHRlclN3aXRjaGVyKHNlbGVjdG9yKSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIC0gU2VsZWN0b3IgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7RWxlbXx7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IE5ldyBpbnN0YW5jZSBvZiBFbGVtIGlmIHNlbGVjdG9yIGlzIGEgc3RyaW5nXHJcbiAgICogb3RoZXJ3aXNlIHN1cGVyLmZpbmQgaXMgY2FsbGVkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtFbGVtZW50I3F1ZXJ5U2VsZWN0b3JBbGxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FbGVtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gICAqL1xyXG4gIGZpbmQoc2VsZWN0b3IpIHtcclxuICAgIGlmICghaXNTdHJpbmcoc2VsZWN0b3IpKSB7XHJcbiAgICAgIHJldHVybiBzdXBlci5maW5kKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChmaW5kKHNlbGVjdG9yLCBlbGVtKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNmaXJzdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGVsZW0uZWxlbSgwKS5cclxuICAgKi9cclxuICBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0oMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZmlyc3RDaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBmaXJzdCBjaGlsZCBpbiBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBmaXJzdCBjaGlsZHJlbiBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5maXJzdCgpOyAgICAgICAvLyBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5maXJzdCgnLmZvbycpOyAvLyBmaW5kIGZpcnN0IGNoaWxkIHRoYXQgaGFzIGZvbyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGZpcnN0Q2hpbGQoc2VsZWN0b3IgPSBudWxsKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgdmFsdWU6IGZvdW5kIH0gPSBuZXcgRWxlbShlbGVtKVxyXG4gICAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZm9jdXNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2ZvY3VzXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0hUTUxFbGVtZW50I2ZvY3VzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvZm9jdXN9LlxyXG4gICAqL1xyXG4gIGZvY3VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5mb2N1cygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNnZXRSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7eyBzZWxlY3RvcjogKFN0cmluZ3x2b2lkKSwgcnVsZXM6IE9iamVjdCB9fSBTZXQgb2YgdGhlIGNzcyBydWxlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHNldCBvZiB0aGUgcnVsZXMgdW5kZXIgdGhlIG5hbWUuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuYWRkUnVsZSgnaW1nLXNpemUnLCAnaW1nLnNxdWFyZScsIHtcclxuICAgKiAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4J1xyXG4gICAqIH0pO1xyXG4gICAqIHN0eWxlLmdldFJ1bGUoJ2ltZy1zaXplJyk7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgc2VsZWN0b3I6ICdpbWcuc3F1YXJlJyxcclxuICAgKiAvLyAgIHJ1bGVzOiB7XHJcbiAgICogLy8gICAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogLy8gICAgIGhlaWdodDogJzQwcHgnXHJcbiAgICogLy8gICB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGdldFJ1bGUobmFtZSkge1xyXG4gICAgbGV0IGZvdW5kID0ge1xyXG4gICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxyXG4gICAgICBydWxlczoge31cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgY29uc3QgeyB2YWx1ZTogcnVsZSB9ID0gbmV3IEFycihlbGVtLnNoZWV0LmNzc1J1bGVzKS5maW5kKChydWxlKSA9PiBydWxlLmR3YXluZURhdGEgJiYgcnVsZS5kd2F5bmVEYXRhLm5hbWUgPT09IG5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgICBpZiAocnVsZSkge1xyXG4gICAgICAgICAgZm91bmQgPSB7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiBydWxlLnNlbGVjdG9yVGV4dCxcclxuICAgICAgICAgICAgcnVsZXM6IG5ldyBFbGVtKHJ1bGUpLmNzcygpLiRcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZm91bmQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaGFzQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBoYXMgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgYXR0cmlidXRlIG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyJywgJ3ZhbHVlJykuaGFzQXR0cignYXR0cicpOyAvLyB0cnVlXHJcbiAgICogZWxlbS5yZW1vdmVBdHRyKCdhdHRyJykuaGFzQXR0cignYXR0cicpOyAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc0F0dHIoYXR0cikge1xyXG4gICAgY29uc3QgZWxlbSA9IGdldEVsZW0odGhpcyk7XHJcbiAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgIHJldHVybiBpc051bGwobnMpXHJcbiAgICAgID8gZWxlbS5oYXNBdHRyaWJ1dGUoYXR0cilcclxuICAgICAgOiBlbGVtLmhhc0F0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoYXNDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gTmFtZSBvZiB0aGUgY2xhc3MuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaGFzIHRoZSBjbGFzcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgY2xhc3Mgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7ICAgIC8vIHRydWVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaGFzQ2xhc3MoY2xzKSB7XHJcbiAgICByZXR1cm4gZ2V0RWxlbSh0aGlzKS5jbGFzc0xpc3QuY29udGFpbnMoY2xzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoZWlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbaGVpZ2h0XSAtIEhlaWdodCB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkIGhlaWdodCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaGVpZ2h0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIGhlaWdodCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIGhlaWdodC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5oZWlnaHQoMTIzKTtcclxuICAgKiBlbGVtLmhlaWdodCgpOyAvLyAxMjNcclxuICAgKi9cclxuICBoZWlnaHQoaGVpZ2h0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wLmFwcGx5KHRoaXMsIG5ldyBBcnIoYXJndW1lbnRzKS51bnNoaWZ0KCdoZWlnaHQnKS4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoaWRlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEhpZGVzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmhpZGUoKTtcclxuICAgKi9cclxuICBoaWRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50RGlzcGxheSA9IGVsZW0uY3NzKCdkaXNwbGF5Jyk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudERpc3BsYXkuaW5kZXhPZignbm9uZScpKSB7XHJcbiAgICAgICAgZWxlbS5wcm9wKCdkd2F5bmVEYXRhJykucHJldmlvdXNEaXNwbGF5ID0gY3VycmVudERpc3BsYXk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUgIWltcG9ydGFudCcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaHRtbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbaHRtbF0gLSBIVE1MIHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCBIVE1MLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBIVE1MIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyBIVE1MIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaHRtbCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIEhUTUwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaHRtbCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICogZWxlbS5odG1sKCk7IC8vICc8ZGl2PjE8L2Rpdj4nXHJcbiAgICovXHJcbiAgaHRtbChodG1sKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGdldEVsZW0odGhpcykuaW5uZXJIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmlubmVySFRNTCA9IGlzRnVuY3Rpb24oaHRtbCkgPyBodG1sKGVsZW0uaW5uZXJIVE1MLCBlbGVtLCBpbmRleCkgOiBodG1sO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBbaWRdIC0gSWQgdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBpZCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaWRzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaWQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgaWQgb3Igc2V0cyBpZHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaWQoJ3VuaXF1ZScpO1xyXG4gICAqIGVsZW0uaWQoKTsgLy8gJ3VuaXF1ZSdcclxuICAgKi9cclxuICBpZChpZCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaWQgPSBpZDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJIZWlnaHRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gR2V0dGVyIGZvciBmaW5kaW5nIGhvdyBtdWNoIGhlaWdodCBjb250ZW50IG9mIHRoZSBmaXJzdCBlbGVtZW50IGNhbiBiZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jc3Moe1xyXG4gICAqICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXHJcbiAgICogICBoZWlnaHQ6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nVG9wOiAnMnB4JyxcclxuICAgKiAgIHBhZGRpbmdCb3R0b206ICczcHgnLFxyXG4gICAqICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkIGJsYWNrJyxcclxuICAgKiAgIGJvcmRlckJvdHRvbTogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lckhlaWdodDsgLy8gMTkwXHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAuaW5uZXJIZWlnaHQ7IC8vIDIwMFxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLmlubmVySGVpZ2h0OyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5pbm5lckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIHBhZGRpbmdUb3AsXHJcbiAgICAgIHBhZGRpbmdCb3R0b21cclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJUb3BXaWR0aCkgKyBweChib3JkZXJCb3R0b21XaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdUb3ApICsgcHgocGFkZGluZ0JvdHRvbSk7XHJcblxyXG4gICAgcmV0dXJuIHB4KGhlaWdodCkgLSBpbm5lclN3aXRjaGVyKGJveFNpemluZywgW3BhZGRpbmdzLCBib3JkZXJzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggY29udGVudCBvZiB0aGUgZmlyc3QgZWxlbWVudCBjYW4gYmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lcldpZHRoOyAvLyAxOTBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ2NvbnRlbnQtYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAyMDBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ3BhZGRpbmctYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJXaWR0aCgpIHtcclxuICAgIGNvbnN0IGVsZW0gPSB0aGlzLiRbMF07XHJcblxyXG4gICAgaWYgKGlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAgIHJldHVybiBlbGVtLmlubmVyV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBib3JkZXJMZWZ0V2lkdGgsXHJcbiAgICAgIGJvcmRlclJpZ2h0V2lkdGgsXHJcbiAgICAgIGJveFNpemluZyxcclxuICAgICAgcGFkZGluZ0xlZnQsXHJcbiAgICAgIHBhZGRpbmdSaWdodCxcclxuICAgICAgd2lkdGhcclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJMZWZ0V2lkdGgpICsgcHgoYm9yZGVyUmlnaHRXaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdMZWZ0KSArIHB4KHBhZGRpbmdSaWdodCk7XHJcblxyXG4gICAgcmV0dXJuIHB4KHdpZHRoKSAtIGlubmVyU3dpdGNoZXIoYm94U2l6aW5nLCBbcGFkZGluZ3MsIGJvcmRlcnNdKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnNlcnRBZnRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGluc2VydCB0aGlzIGVsZW1lbnQgYWZ0ZXIgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYWZ0ZXIgdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudC5cclxuICAgKiBUaGUgZWxlbWVudHMgcmVtYWluIGluIHRoZSBzYW1lIG9yZGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGVsZW0yKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW5zZXJ0QWZ0ZXIoZWxlbWVudCkge1xyXG4gICAgZWxlbWVudCA9IHRvRmluZChlbGVtZW50KS5maXJzdCgpO1xyXG5cclxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xyXG5cclxuICAgIGlmICghcGFyZW50Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0KCkuJFswXTtcclxuICAgIHBhcmVudCA9IHBhcmVudC4kWzBdO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW0sIGVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaW5zZXJ0QmVmb3JlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gaW5zZXJ0IHRoaXMgZWxlbWVudCBiZWZvcmUgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYmVmb3JlIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQuXHJcbiAgICogVGhlIGVsZW1lbnRzIHJlbWFpbiBpbiB0aGUgc2FtZSBvcmRlci5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5pbnNlcnRCZWZvcmUoZWxlbTIpO1xyXG4gICAqIGVsZW0uaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEJlZm9yZSgnI2lkIGRpdi5jMScpO1xyXG4gICAqL1xyXG4gIGluc2VydEJlZm9yZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLmZpcnN0KCk7XHJcblxyXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XHJcblxyXG4gICAgaWYgKCFwYXJlbnQubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQgPSBlbGVtZW50LiRbMF07XHJcbiAgICBwYXJlbnQgPSBwYXJlbnQuJFswXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnRvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gcHV0IHRoaXMgZWxlbWVudHMgaW50byBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIC0gSWYgdGhlIGVsZW1lbnRzIHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSB0aGV5IGFyZSBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmludG8oZWxlbTIpO1xyXG4gICAqIGVsZW0uaW50byhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5pbnRvKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW50byhlbGVtZW50LCBlbmQgPSB0cnVlKSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLiRbMF07XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAhZWxlbWVudCB8fFxyXG4gICAgICBpc1dpbmRvdyhlbGVtZW50KSB8fFxyXG4gICAgICBpc0hUTUxEb2N1bWVudChlbGVtZW50KSB8fFxyXG4gICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudClcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAuc2xpY2UoKVxyXG4gICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cclxuICAgKiBJZiB0aGUgc2VsZWN0b3IgaXMgdW5kZWZpbmVkIG9yIG51bGwgYWx3YXlzIHJldHVybnMgdHJ1ZS4gSWYgaXQncyBub3QgZm9yIG5vdCBlbGVtZW50c1xyXG4gICAqIGVudHJpZXMgcmV0dXJucyBmYWxzZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRWxlbWVudCNtYXRjaGVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvRWxlbWVudC9tYXRjaGVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRDbGFzcygnY2xzJyk7XHJcbiAgICogZWxlbS5pcygnLmNscycpOyAgICAgICAgIC8vIHRydWVcclxuICAgKlxyXG4gICAqIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NscycpO1xyXG4gICAqIGVsZW0uaXMoJy5jbHMnKTsgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGlzKHNlbGVjdG9yKSB7XHJcbiAgICBpZiAoaXNOdWxsKHNlbGVjdG9yKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtID0gZ2V0RWxlbSh0aGlzKTtcclxuICAgIGNvbnN0IG1hdGNoZXMgPSAoXHJcbiAgICAgIGVsZW0ubWF0Y2hlcyB8fFxyXG4gICAgICBlbGVtLm1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgIGVsZW0ub01hdGNoZXNTZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIWlzRWxlbWVudCh0aGlzLiRbMF0pKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBTZWxlY3RvciAnJHsgc2VsZWN0b3IgfScgaXMgbm90IGEgdmFsaWQgc2VsZWN0b3IgKEVsZW0jaXMpYCk7XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaXNCcm9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBpbWFnZSBpbiB0aGUgc2V0IGlzIGJyb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGlzIGJyb2tlbi4gTm90IGltYWdlIGFuZCBub3QgbG9hZGVkIGltYWdlIGlzIGNvbnNpZGVyZWQgcHJvcGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBpbWcgPSBlbGVtLmltZygpLm9uKHtcclxuICAgKiAgICdsb2FkJzogb25sb2FkLFxyXG4gICAqICAgJ2Vycm9yJzogb25sb2FkXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBvbmxvYWQgPSAoKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhpbWcuaXNCcm9rZW4oKSk7IC8vIHRydWVcclxuICAgKiB9O1xyXG4gICAqXHJcbiAgICogaW1nLnJlZignL3NvbWUvbm9uLWV4aXN0ZW50L3NpdGUvbm90LWZvdW5kLnBuZycpO1xyXG4gICAqL1xyXG4gIGlzQnJva2VuKCkge1xyXG4gICAgbGV0IGlzQnJva2VuID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnaW1nJykge1xyXG4gICAgICAgIGlzQnJva2VuID0gISEoZWxlbS5jb21wbGV0ZSAmJiAoIWVsZW0ubmF0dXJhbFdpZHRoIHx8ICFlbGVtLm5hdHVyYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0Jyb2tlbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1dpdGhpbkRvY3VtZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXMgd2l0aGluIHRoZSBkb2N1bWVudCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBpcyB3aXRoaW4gdGhlIGRvY3VtZW50IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEVsZW0oZG9jdW1lbnQuYm9keSkuaXNXaXRoaW5Eb2N1bWVudCgpOyAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBFbGVtKGRvY3VtZW50KS5kaXYoKS5pc1dpdGhpbkRvY3VtZW50KCk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNXaXRoaW5Eb2N1bWVudCgpIHtcclxuICAgIHJldHVybiB0aGlzLmZpcnN0KCkuY2xvc2VzdCgnaHRtbCcpLmxlbmd0aCAhPT0gMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNsYXN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgZWxlbS5lbGVtKC0xKS5cclxuICAgKi9cclxuICBsYXN0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbSgtMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbGFzdENoaWxkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VsZWN0b3IgPSBudWxsXSAtIElmIHByZXNlbnQsIGZpbmRzIGxhc3QgY2hpbGQgaW4gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBsYXN0IGNoaWxkcmVuIG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmxhc3QoKTsgICAgICAgLy8gZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5sYXN0KCcuZm9vJyk7IC8vIGZpbmQgbGFzdCBjaGlsZCB0aGF0IGhhcyAnZm9vJyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGxhc3RDaGlsZChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgeyB2YWx1ZTogZm91bmQgfSA9IG5ldyBFbGVtKGVsZW0pXHJcbiAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbG9hZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48eyBwcm9wZXI6IEVsZW0sIGJyb2tlbjogRWxlbSB9Pn0gUHJvbWlzZSB3aXRoIGJyb2tlbiBhbmQgcHJvcGVyIGltYWdlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9hZHMgZWFjaCBpbWFnZSBpbiB0aGUgc2V0IGFuZCBwdXRzIGl0IHRvIHRoZSBwcm9wZXIgb3IgYnJva2VuIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBpbWFnZXMubG9hZCgpLnRoZW4oKHsgYnJva2VuIH0pID0+IHtcclxuICAgKiAgIGJyb2tlbi5maWx0ZXIoJ2ltZycpLnJlZignL2ZhbGxiYWNrLnBuZycpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGxvYWQoKSB7XHJcbiAgICBjb25zdCBpbWFnZXMgPSB7XHJcbiAgICAgIHByb3BlcjogbmV3IEVsZW0oKSxcclxuICAgICAgYnJva2VuOiBuZXcgRWxlbSgpXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChcclxuICAgICAgdGhpc1xyXG4gICAgICAgIC5maWx0ZXIoKGVsZW0pID0+IGdldE5hbWUoZWxlbSkgPT09ICdpbWcnKVxyXG4gICAgICAgIC5tYXAoKGVsZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0ICRlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICAgICAgaWYgKGVsZW0uY29tcGxldGUpIHtcclxuICAgICAgICAgICAgaW1hZ2VzWyRlbGVtLmlzQnJva2VuKCkgPyAnYnJva2VuJyA6ICdwcm9wZXInXS5wdXNoKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lcnMgPSAkZWxlbS5vbih7XHJcbiAgICAgICAgICAgICAgbG9hZCgpIHtcclxuICAgICAgICAgICAgICAgIGltYWdlcy5wcm9wZXIuYWRkKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZXJyb3IoKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZXMuYnJva2VuLmFkZChlbGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuJFxyXG4gICAgKS50aGVuKCgpID0+IGltYWdlcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbW92ZUF0dHJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgLSBBdHRyaWJ1dGUgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ZhbHVlID0gJyddIC0gVmFsdWUgdG8gc2V0IGZvciB0aGUgYXR0cmlidXRlLiBJZiBub3Qgc2V0IGF0dHJpYnV0ZSBvZiB0aGUgcHJldmlvdXMgZWxlbWVudCBvciAnJyB1c2VkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgbW92aW5nIGFuIGF0dHJpYnV0ZSBmcm9tIHByZXZpb3VzIGVsZW1lbnQgdG8gdGhlIG5leHQgb25lIChmaXJzdCBlbGVtZW50IGluIHRoaXMgc2V0KS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEubW92ZUF0dHIoJ2F0dHInLCAndmFsdWUnKTsgICAgIC8vIGF0dHJpYnV0ZSAnYXR0cicgc2V0IHRvICd2YWx1ZScgb24gZWxlbTFcclxuICAgKiBlbGVtMi5tb3ZlQXR0cignYXR0cicpOyAgICAgICAgICAgICAgLy8gYXR0cmlidXRlICdhdHRyJyByZW1vdmVkIGZyb20gZWxlbTEuIHNldCB0byAndmFsdWUnIG9uIGVsZW0yXHJcbiAgICogZWxlbTMubW92ZUF0dHIoJ2F0dHInLCAnbmV3IHZhbHVlJyk7IC8vIGF0dHJpYnV0ZSAnYXR0cicgcmVtb3ZlZCBmcm9tIGVsZW0yLiBzZXQgdG8gJ25ldyB2YWx1ZScgb24gZWxlbTNcclxuICAgKi9cclxuICBtb3ZlQXR0cihhdHRyLCB2YWx1ZSA9ICcnKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gYXR0cnNbYXR0cl07XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy5lbGVtKCk7XHJcblxyXG4gICAgaWYgKHByZXYgJiYgZWxlbS5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgdmFsdWUgPSBwcmV2LmF0dHIoYXR0cik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHByZXYucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgYXR0cnNbYXR0cl0gPSBlbGVtLmF0dHIoYXR0ciwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI21vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIG1vdmluZyBhIGNsYXNzIGZyb20gcHJldmlvdXMgZWxlbWVudCB0byB0aGUgbmV4dCBvbmUgKGZpcnN0IGVsZW1lbnQgaW4gdGhpcyBzZXQpLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtMS5tb3ZlQ2xhc3MoJ2NscycpOyAvLyBjbGFzcyAnY2xzJyBhZGRlZCB0byBlbGVtMVxyXG4gICAqIGVsZW0yLm1vdmVDbGFzcygnY2xzJyk7IC8vIGNsYXNzICdjbHMnIHJlbW92ZWQgZnJvbSBlbGVtMS4gYWRkZWQgdG8gZWxlbTFcclxuICAgKi9cclxuICBtb3ZlQ2xhc3MoY2xzKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY2xhc3Nlc1tjbHNdO1xyXG4gICAgY29uc3QgZWxlbSA9IHRoaXMuZWxlbSgpO1xyXG5cclxuICAgIGlmIChwcmV2ICYmIGVsZW0ubGVuZ3RoKSB7XHJcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoY2xzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgY2xhc3Nlc1tjbHNdID0gZWxlbS5hZGRDbGFzcyhjbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7U3RyaW5nfSBFbGVtI25hbWVcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gbm9kZU5hbWUgKGxvd2VyY2FzZWQpIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGVsZW0xID0gZWxlbS5jcmVhdGUoJ2RpdicpO1xyXG4gICAqIGVsZW0xLm5hbWUgLy8gJ2RpdidcclxuICAgKi9cclxuICBnZXQgbmFtZSgpIHtcclxuICAgIHJldHVybiBnZXROYW1lKHRoaXMuJFswXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbmV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbmV4dCBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5uZXh0KCk7ICAgICAgIC8vIGZpbmRzIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqIGVsZW0ubmV4dCgnLmZvbycpOyAvLyBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgbmV4dChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5uZXh0U2libGluZykge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNvZmZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5FbGVtRXZlbnRTdHJpbmd9IGV2ZW50cyAtIEV2ZW50cyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmVtb3ZlcyBhbGwgdGhlIGxpc3RlbmVycyBmcm9tIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHNwZWNpZmllZCBieSB0aGUgZXZlbnRzIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrJyk7XHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrLCBpbnB1dCcpO1xyXG4gICAqIGVsZW0ub2ZmKCdjbGljaywgaW5wdXQnLCAnZm9jdXMnKTtcclxuICAgKi9cclxuICBvZmYoLi4uZXZlbnRzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSBlbGVtLmR3YXluZURhdGE7XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaXRlcmF0ZShldmVudC5zcGxpdChldmVudFNlcGFyYXRvciksIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgKGxpc3RlbmVyc1tldmVudF0gfHwgbmV3IFN1cGVyKCkpLmZvckVhY2goKHsgcmVtb3ZlTGlzdGVuZXIgfSkgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtFbGVtRXZlbnRTdHJpbmd8T2JqZWN0LjxFbGVtRXZlbnRTdHJpbmd8RWxlbUxpc3RlbmVyPn0gZXZlbnQgLSBFaXRoZXIgYSB7QGxpbmsgRWxlbUV2ZW50U3RyaW5nfSBzdHJpbmdcclxuICAgKiBvciBhbiBvYmplY3Qgd2l0aCBldmVudCBrZXlzIChhIGtleSBpcyBhbHNvIEVsZW1FdmVudFN0cmluZykgYW5kIGxpc3RlbmVycyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gU2VsZWN0b3IgdG8gZmlsdGVyIGV2ZW50IHRhcmdldHMuXHJcbiAgICogQHBhcmFtIHtFbGVtTGlzdGVuZXJ9IFtsaXN0ZW5lcl0gLSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBzdHJpbmcgaXQgbXVzdCBiZSBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZvclxyXG4gICAqIHNwZWNpZmllZCBldmVudChzKS5cclxuICAgKiBAcmV0dXJucyB7RWxlbVJlbW92ZUxpc3RlbmVyc30gRnVuY3Rpb24gdGhhdCB0YWtlcyBvcHRpb25hbCBldmVudCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gQWRkcyBldmVudCBsaXN0ZW5lcnMgZm9yIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBGb3IgZGVidWdnaW5nOiBJZiB5b3UgbmVlZCB0byBrbm93IHdoYXQgbGlzdGVuZXJzIGFyZSBpbiB3b3JrIChhbmQgd2hhdCBzZWxlY3RvcnMgZmlsdGVyIHRhcmdldHMpXHJcbiAgICogeW91IGNhbiBsb29rIGF0IHRoZSBiYXNlIHByb3BlcnR5IG9mIHRoZSBvbmx5IGR3YXluZSBsaXN0ZW5lciB0aGF0IGxpc3RlbnMgZm9yIHRoZSBldmVudFxyXG4gICAqIGFuZCBmaW5kIGFsbCB3b3JraW5nIGxpc3RlbmVycyBpbiBsaXN0ZW5lci5iYXNlLmR3YXluZURhdGEubGlzdGVuZXJzW2V2ZW50XS4kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLm9uKFxyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnLFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnLFxyXG4gICAqICAgKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKVxyXG4gICAqICk7XHJcbiAgICogZWxlbS5vbihcclxuICAgKiAgICdjaGFuZ2UsIGlucHV0JyxcclxuICAgKiAgIChlLCBlbGVtLCBpbmRleCkgPT4gY29uc29sZS5sb2coZWxlbS52YWx1ZSlcclxuICAgKiApO1xyXG4gICAqIGVsZW0ub24oXHJcbiAgICogICB7XHJcbiAgICogICAgICdjaGFuZ2UsIGlucHV0JzogKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKSxcclxuICAgKiAgICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogICB9LFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnXHJcbiAgICogKTtcclxuICAgKlxyXG4gICAqIGNvbnN0IHJlbW92ZUxpc3RlbmVycyA9IGVsZW0ub24oe1xyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnOiAoZSwgZWxlbSwgaW5kZXgpID0+IGNvbnNvbGUubG9nKGVsZW0udmFsdWUpLFxyXG4gICAqICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2NsaWNrJyk7XHJcbiAgICogcmVtb3ZlTGlzdGVuZXJzKCdibHVyLCBjaGFuZ2UnKTtcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2JsdXIsIGNoYW5nZScsICdpbnB1dCcpO1xyXG4gICAqIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAqL1xyXG4gIG9uKGV2ZW50LCBzZWxlY3RvciA9IG51bGwsIGxpc3RlbmVyKSB7XHJcbiAgICBjb25zdCBhbGxMaXN0ZW5lcnMgPSBuZXcgU3VwZXIoe30pO1xyXG5cclxuICAgIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xyXG4gICAgICBsaXN0ZW5lciA9IHNlbGVjdG9yO1xyXG4gICAgICBzZWxlY3RvciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU3RyaW5nKGV2ZW50KSkge1xyXG4gICAgICBldmVudCA9IHsgW2V2ZW50XTogbGlzdGVuZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudCA9IG5ldyBTdXBlcihldmVudCkub2JqZWN0KChsaXN0ZW5lcnMsIGxpc3RlbmVyLCBldmVudCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKGV2ZW50LnNwbGl0KGV2ZW50U2VwYXJhdG9yKSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IGxpc3RlbmVyO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSAmJiAhaXNXaW5kb3coZWxlbSkgJiYgIWlzSFRNTERvY3VtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gKHdpbmRvd3NEd2F5bmVEYXRhLmZpbmQoKHsgZWxlbWVudCB9KSA9PiBlbGVtZW50ID09PSBlbGVtKSB8fCB7fSkudmFsdWUgfHwgZWxlbS5kd2F5bmVEYXRhO1xyXG5cclxuICAgICAgZXZlbnQuZm9yRWFjaCgobGlzdGVuZXIsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnNbZXZlbnRdID0gbGlzdGVuZXJzW2V2ZW50XSB8fCBuZXcgU3VwZXIoe30pLmRlZmluZSgnaW5kZXgnLCB7XHJcbiAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSByZW1vdmVFdmVudExpc3RlbmVycy5wcm9wKCdpbmRleCcpO1xyXG5cclxuICAgICAgICBpZiAoIXJlbW92ZUV2ZW50TGlzdGVuZXJzLmhhcygnbGlzdGVuZXInKSkge1xyXG4gICAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5mb3JFYWNoKCh7IHNlbGVjdG9yLCBsaXN0ZW5lciB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKG5ldyBFbGVtKGUudGFyZ2V0KS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwoZWxlbSwgZSwgZWxlbSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIG5ld0xpc3RlbmVyLmJhc2UgPSBlbGVtO1xyXG5cclxuICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbmV3TGlzdGVuZXIsIGZhbHNlKTtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlZmluZSgnbGlzdGVuZXInLCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXdMaXN0ZW5lcixcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlbGV0ZShpbmRleCk7XHJcblxyXG4gICAgICAgICAgaWYgKCFyZW1vdmVFdmVudExpc3RlbmVycy5jb3VudCkge1xyXG4gICAgICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHJlbW92ZUV2ZW50TGlzdGVuZXJzLnByb3AoJ2xpc3RlbmVyJyksIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMuZGVsZXRlKCdsaXN0ZW5lcicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFsbExpc3RlbmVycy5wcm9wKGV2ZW50LCAoYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpIHx8IG5ldyBBcnIoKSkucHVzaChyZW1vdmVMaXN0ZW5lcikpO1xyXG5cclxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5hc3NpZ24oe1xyXG4gICAgICAgICAgaW5kZXg6IGluZGV4ICsgMSxcclxuICAgICAgICAgIFtpbmRleF06IHtcclxuICAgICAgICAgICAgc2VsZWN0b3IsXHJcbiAgICAgICAgICAgIGxpc3RlbmVyLFxyXG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lclxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhldmVudCkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGl0ZXJhdGUoZXZlbnQuc3BsaXQoZXZlbnRTZXBhcmF0b3IpLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFsbExpc3RlbmVycy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpLmZvckVhY2goKHJlbW92ZUxpc3RlbmVyKSA9PiByZW1vdmVMaXN0ZW5lcigpKTtcclxuICAgICAgICAgICAgICBhbGxMaXN0ZW5lcnMuZGVsZXRlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxsTGlzdGVuZXJzLmZvckVhY2goKHJlbW92ZUxpc3RlbmVycykgPT4ge1xyXG4gICAgICAgIHJlbW92ZUxpc3RlbmVycy5mb3JFYWNoKChyZW1vdmVMaXN0ZW5lcikgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRWxlbSNvdXRlckhlaWdodFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggaGVpZ2h0IHRoZSBlbGVtZW50IGFjdHVhbGx5IGlzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcclxuICAgKiAgIGhlaWdodDogJzIwMHB4JyxcclxuICAgKiAgIHBhZGRpbmdUb3A6ICcycHgnLFxyXG4gICAqICAgcGFkZGluZ0JvdHRvbTogJzNweCcsXHJcbiAgICogICBib3JkZXJUb3A6ICcxcHggc29saWQgYmxhY2snLFxyXG4gICAqICAgYm9yZGVyQm90dG9tOiAnNHB4IHNvbGlkIGJsYWNrJ1xyXG4gICAqICAgbWFyZ2luVG9wOiAnMHB4JyxcclxuICAgKiAgIG1hcmdpbkJvdHRvbTogJzVweCdcclxuICAgKiB9KS5vdXRlckhlaWdodDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJIZWlnaHQ7IC8vIDIxNVxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLm91dGVySGVpZ2h0OyAvLyAyMTBcclxuICAgKi9cclxuICBnZXQgb3V0ZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIG1hcmdpblRvcCxcclxuICAgICAgbWFyZ2luQm90dG9tLFxyXG4gICAgICBwYWRkaW5nVG9wLFxyXG4gICAgICBwYWRkaW5nQm90dG9tXHJcbiAgICB9ID0gdGhpcy5jYWxjQ1NTKCk7XHJcbiAgICBjb25zdCBib3JkZXJzID0gcHgoYm9yZGVyVG9wV2lkdGgpICsgcHgoYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgY29uc3QgcGFkZGluZ3MgPSBweChwYWRkaW5nVG9wKSArIHB4KHBhZGRpbmdCb3R0b20pO1xyXG5cclxuICAgIHJldHVybiBweChoZWlnaHQpICsgcHgobWFyZ2luVG9wKSArIHB4KG1hcmdpbkJvdHRvbSkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jb3V0ZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggdGhlIGVsZW1lbnQgYWN0dWFsbHkgaXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiAgIG1hcmdpbkxlZnQ6ICcwcHgnLFxyXG4gICAqICAgbWFyZ2luUmlnaHQ6ICc1cHgnXHJcbiAgICogfSkub3V0ZXJXaWR0aDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjE1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdwYWRkaW5nLWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjEwXHJcbiAgICovXHJcbiAgZ2V0IG91dGVyV2lkdGgoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlcldpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgYm9yZGVyTGVmdFdpZHRoLFxyXG4gICAgICBib3JkZXJSaWdodFdpZHRoLFxyXG4gICAgICBib3hTaXppbmcsXHJcbiAgICAgIG1hcmdpbkxlZnQsXHJcbiAgICAgIG1hcmdpblJpZ2h0LFxyXG4gICAgICBwYWRkaW5nTGVmdCxcclxuICAgICAgcGFkZGluZ1JpZ2h0LFxyXG4gICAgICB3aWR0aFxyXG4gICAgfSA9IHRoaXMuY2FsY0NTUygpO1xyXG4gICAgY29uc3QgYm9yZGVycyA9IHB4KGJvcmRlckxlZnRXaWR0aCkgKyBweChib3JkZXJSaWdodFdpZHRoKTtcclxuICAgIGNvbnN0IHBhZGRpbmdzID0gcHgocGFkZGluZ0xlZnQpICsgcHgocGFkZGluZ1JpZ2h0KTtcclxuXHJcbiAgICByZXR1cm4gcHgod2lkdGgpICsgcHgobWFyZ2luTGVmdCkgKyBweChtYXJnaW5SaWdodCkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcGFyZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHJldHVybnMgd3JhcCBvZiB0aGUgc2V0IG9mIHRoZSBwYXJlbnQgZWxlbWVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICovXHJcbiAgcGFyZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4gZWxlbXMuYWRkKGVsZW0ucGFyZW50Tm9kZSksIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3BhcmVudFRyZWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHdyYXAgb2YgYWxsIHBhcmVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ucGFyZW50VHJlZSgpOyAvLyBFbGVtXHJcbiAgICovXHJcbiAgcGFyZW50VHJlZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgd2hpbGUgKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpIHtcclxuICAgICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgIH1cclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3ByZXZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gSWYgcHJlc2VudCwgZmluZHMgcHJldmlvdXMgZWxlbWVudCB0byBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ubmV4dCgpOyAgICAgICAvLyBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogZWxlbS5uZXh0KCcuZm9vJyk7IC8vIGZpbmRzIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgcHJldihzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5wcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgICBpZiAobmV3IEVsZW0oZWxlbSkuaXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZWxlbXMuYWRkKGVsZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcHJvcFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRWxlbVZhbHVlQ2FsbGJhY2t8Kj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gYXNzaWduZWQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7RWxlbVZhbHVlQ2FsbGJhY2t8Kn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nXHJcbiAgICogdGhpcyBoYXMgdG8gYmUgYW4gYXNzaWduZWQgdmFsdWUgaWYgaXQncyBwcmVzZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfCp9IFJldHVybnMgdGhpcyBpZiBpdCdzIHNldHRlciBvciBhIHZhbHVlIGlmIGdldHRlci5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgaXMgZWl0aGVyIGEgcHJvcGVydHkgZ2V0dGVyIGZvciB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogb3IgYSBzZXR0ZXIgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnLCBmYWxzZSk7XHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBwcm9wKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJFswXSA/IHRoaXMuJFswXVtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKHByb3BlcnR5LCAodmFsdWUsIHByb3ApID0+IHtcclxuICAgICAgICBlbGVtW3Byb3BdID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZShlbGVtW3Byb3BdLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZWZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2t9IFtsaW5rXSAtIElmIGl0J3MgcHJlc2VudCBsaW5rIHRvIGEgcmVzb3VyY2UuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiB0aGUgbGluayBhcmd1bWVudCBpc24ndCBwcmVzZW50IGl0J3MgYSBnZXR0ZXIgb2YgdGhlICdzcmMnIGF0dHJpYnV0ZVxyXG4gICAqIGZvciB0aGUgb25lIG9mIGZvbGxvd2luZyBlbGVtZW50czogaW1nLCBzY3JpcHQsIGlmcmFtZSwgYXVkaW8sIHZpZGVvOyBvZiB0aGUgJ2FjdGlvbicgYXR0cmlidXRlXHJcbiAgICogZm9yIGEgZm9ybSBlbGVtZW50IGFuZCBvZiB0aGUgJ2hyZWYnIGF0dHJpYnV0ZSBmb3IgdGhlIHJlc3QuIElmIGl0J3MgcHJlc2VudCBpdCdzIGEgc2V0dGVyXHJcbiAgICogb2YgdGhlIHNhbWUgYXR0cmlidXRlIGZvciBhbGwgdGhlIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHJlc291cmNlcyBsaW5rcyBhbmQgc2V0dGluZyB0aGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlZignL3NvbWUvY29vbC9pbWFnZS5wbmcnKTtcclxuICAgKiBlbGVtLnJlZigpOyAvLyAnL3NvbWUvY29vbC9pbWFnZS5wbmcnXHJcbiAgICovXHJcbiAgcmVmKGxpbmspIHtcclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKHJlZlN3aXRjaGVyKHRoaXMubmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZWxlbSA9IG5ldyBFbGVtKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbS5hdHRyKHJlZlN3aXRjaGVyKGVsZW0ubmFtZSksIGxpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgZnJvbSB0aGUgZG9jdW1lbnQuXHJcbiAgICogTm90ZTogaXQgZG9lc24ndCByZW1vdmUgdGhlbSBmcm9tIHRoZSBzZXQgc28gd2F0Y2ggb3V0IGZvciB0aGUgbWVtb3J5IGxlYWtzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZSgpO1xyXG4gICAqL1xyXG4gIHJlbW92ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXR0cmlidXRlcyAtIEF0dHJpYnV0ZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBhdHRyaWJ1dGVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUF0dHIoJ2ZvbycsICdiYXInLCAnYmF6Jyk7XHJcbiAgICovXHJcbiAgcmVtb3ZlQXR0ciguLi5hdHRyaWJ1dGVzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGF0dHIpID0+IHtcclxuICAgICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlTlMobnMsIGF0dHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZW1vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gY2xhc3NlcyAtIENsYXNzZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBjbGFzc2VzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdmb28nLCAnYmFyJywgJ2JheicpO1xyXG4gICAqL1xyXG4gIHJlbW92ZUNsYXNzKC4uLmNsYXNzZXMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgbGlzdCA9IGVsZW0uY2xhc3NMaXN0O1xyXG5cclxuICAgICAgaXRlcmF0ZShpc0VsZW1lbnQoZWxlbSkgJiYgYXJndW1lbnRzLCAoY2xzKSA9PiBsaXN0LnJlbW92ZShjbHMpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlbW92ZUNTU1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gcHJvcHMgLSBDU1MgcHJvcGVydGllcyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBhbGwgdGhlIENTUyBwcm9wZXJ0aWVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNTUygnZGlzcGxheScsICdwb3NpdGlvbicsICdtYXJnaW4nKTtcclxuICAgKi9cclxuICByZW1vdmVDU1MoLi4ucHJvcHMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoY3NzKSA9PiB7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShjc3MpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlcGxhY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbXxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byByZXBsYWNlIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiB3aXRoIGEgc2V0IG9mIGVsZW1lbnRzIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQgKEVsZW1lbnQsIHNldCBvZiBlbGVtZW50cyBvciBhIHNlbGVjdG9yIG9mIHRoZW0pLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBpcyBzaW1pbGFyIHRvXHJcbiAgICogW05vZGUjcmVwbGFjZUNoaWxkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9yZXBsYWNlQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlcGxhY2UoZWxlbTIpO1xyXG4gICAqIGVsZW0ucmVwbGFjZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5yZXBsYWNlKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgcmVwbGFjZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZmlyc3QoKS5wYXJlbnQoKTtcclxuXHJcbiAgICBpZiAoIXBhcmVudC5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGVsZW0gPSBwYXJlbnQ7XHJcbiAgICBsZXQgbWV0aG9kID0gJ2ludG8nO1xyXG4gICAgY29uc3QgbmV4dCA9IHRoaXMubmV4dCgpLmZpcnN0KCkuJFswXTtcclxuICAgIGNvbnN0IHByZXYgPSB0aGlzLnByZXYoKS5maXJzdCgpLiRbMF07XHJcblxyXG4gICAgaWYgKG5leHQpIHtcclxuICAgICAgZWxlbSA9IG5leHQ7XHJcbiAgICAgIG1ldGhvZCA9ICdpbnNlcnRCZWZvcmUnO1xyXG4gICAgfSBlbHNlIGlmIChwcmV2KSB7XHJcbiAgICAgIGVsZW0gPSBwcmV2O1xyXG4gICAgICBtZXRob2QgPSAnaW5zZXJ0QWZ0ZXInO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmlyc3QoKS5yZW1vdmUoKTtcclxuXHJcbiAgICBlbGVtZW50W21ldGhvZF0oZWxlbSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2V0T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBIVE1MIGVsZW1lbnQgdHlwZS5cclxuICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R8QXJyYXkuPCo+fSBpdGVyYXRvciAtIEEgbnVtYmVyIChob3cgbWFueSBlbGVtZW50cyB0byBjcmVhdGUgaW5zaWRlIGVhY2ggZWxlbWVudCksXHJcbiAgICogYW4gb2JqZWN0IG9yIGFuIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cclxuICAgKiBAcGFyYW0ge0VsZW1TZXRPZkNhbGxiYWNrfSBjYWxsYmFja1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIHNldCBvZiBlbGVtZW50cyBpbnNpZGUgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQgYmFzZWQgb24gYW4gYXJyYXkgb3IgYW4gb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiB0YWJsZS5zZXRPZigndHInLCBbWzEsIDJdLCBbMywgNF0sIFs1LCA2XV0sIChyb3csIGFycmF5KSA9PiB7XHJcbiAgICogICBEKHJvdykuc2V0T2YoJ3RkJywgYXJyYXksIChjb2wsIG51bWJlcikgPT4ge1xyXG4gICAqICAgICBEKGNvbCkudGV4dChudW1iZXIpO1xyXG4gICAqICAgfSk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgc2V0T2YodHlwZSwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZSh7IDI6IGNhbGxiYWNrIH0sIHsgMjogWydmdW5jdGlvbiddIH0sICdFbGVtI3NldE9mJyk7XHJcblxyXG4gICAgaXRlcmF0b3IgPSBuZXcgU3VwZXIoaXRlcmF0b3IpLiQ7XHJcblxyXG4gICAgaWYgKGlzTnVtYmVyKGl0ZXJhdG9yKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhbGlkYXRlKHsgMTogaXRlcmF0b3IgfSwgeyAxOiBbJ2ludExpa2UnLCAnPj0wJ10gfSwgJ0VsZW0jc2V0T2YnKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignMm5kIGFyZ3VtZW50IG11c3QgYmUgZWl0aGVyIG9yIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBvciBvYmplY3QhIChhdCBFbGVtI3NldE9mKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRvciA9IGFycmF5KGl0ZXJhdG9yKS4kO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGl0ZXJhdGUoaXRlcmF0b3IsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlZCA9IG5ldyBFbGVtKGVsZW0pLmNyZWF0ZSh0eXBlKTtcclxuXHJcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlZC4kWzBdLCB2YWx1ZSwga2V5LCBpdGVyYXRvciwgZWxlbSwgaW5kZXgpO1xyXG5cclxuICAgICAgICBlbGVtcy5hZGQoY3JlYXRlZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2hvd1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG93cyBhbGwgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBJZiBhbiBlbGVtZW50IHdhcyBoaWRkZW4gdXNpbmcge0BsaW5rIEVsZW0jaGlkZX0gcHJldmlvdXMgZGlzcGxheSBpcyBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uc2hvdygpO1xyXG4gICAqL1xyXG4gIHNob3coKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZHdheW5lRGF0YSB9ID0gZWxlbTtcclxuXHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChlbGVtLmNzcygnZGlzcGxheScpLmluZGV4T2YoJ25vbmUnKSA9PT0gMCkge1xyXG4gICAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgZHdheW5lRGF0YS5wcmV2aW91c0Rpc3BsYXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkd2F5bmVEYXRhLnByZXZpb3VzRGlzcGxheSA9ICcnO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbdGV4dF0gLSBUZXh0IHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCB0ZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB0ZXh0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyB0ZXh0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIHRleHQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB0ZXh0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRleHQoJzEyMycpO1xyXG4gICAqIGVsZW0udGV4dCgpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHRleHQodGV4dCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3AodGV4dFByb3BlcnR5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCB0eHQgPSBlbGVtW3RleHRQcm9wZXJ0eV07XHJcblxyXG4gICAgICBuZXcgRWxlbShlbGVtKS5wcm9wKFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eSxcclxuICAgICAgICBpc0Z1bmN0aW9uKHRleHQpXHJcbiAgICAgICAgICA/IHRleHQodHh0LCBlbGVtLCBpbmRleClcclxuICAgICAgICAgIDogdGV4dFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIEF0dHJpYnV0ZSB0byB0b2dnbGUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtjb25kaXRpb25dIC0gSWYgcHJlc2VudCBhbmQgdGhlIGNvbmRpdGlvbiBpcyB0cnV0aHkgbWV0aG9kIGFkZHMgdGhlIGF0dHJpYnV0ZVxyXG4gICAqIHdpdGggdGhlICcnIHZhbHVlIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS4gSWYgbm90IHByZXNlbnQgbWV0aG9kIGFkZHNcclxuICAgKiB0aGUgYXR0cmlidXRlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYW5kIHJlbW92ZXMgaWYgaXQgZG9lcy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHRvZ2dsaW5nIGF0dHJpYnV0ZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicpO1xyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicsIHNvbWVDb25kaXRpb24pO1xyXG4gICAqL1xyXG4gIHRvZ2dsZUF0dHIoYXR0ciwgY29uZGl0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICFlbGVtLmhhc0F0dHIoYXR0cikgOiBjb25kaXRpb24pIHtcclxuICAgICAgICBlbGVtLmF0dHIoYXR0ciwgJycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gdG9nZ2xlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHByZXNlbnQgYW5kIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5IG1ldGhvZCBhZGRzIHRoZSBjbGFzc1xyXG4gICAqIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGNsYXNzLiBJZiBub3QgcHJlc2VudCBtZXRob2QgYWRkc1xyXG4gICAqIHRoZSBjbGFzcyBpZiBpdCBkb2Vzbid0IGV4aXN0IGFuZCByZW1vdmVzIGlmIGl0IGRvZXMuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB0b2dnbGluZyBjbGFzc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnKTtcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnLCBzb21lQ29uZGl0aW9uKTtcclxuICAgKi9cclxuICB0b2dnbGVDbGFzcyhjbHMsIGNvbmRpdGlvbikge1xyXG4gICAgcmV0dXJuIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICF0aGlzLmhhc0NsYXNzKGNscykgOiBjb25kaXRpb24pXHJcbiAgICAgID8gdGhpcy5hZGRDbGFzcyhjbHMpXHJcbiAgICAgIDogdGhpcy5yZW1vdmVDbGFzcyhjbHMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRvU3RyaW5nVGFnKCkge1xyXG4gICAgcmV0dXJuIHRvU3RyaW5nVGFnKHRoaXMuJCQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3VwXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gW2xldmVsID0gMV0gLSBXaGF0IGxldmVsIHVwIGFsb25nIHRoZSB0cmVlIHNob3VsZCBiZSB0aGUgcGFyZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIGNvbGxlY3Rpb24gb2YgcGFyZW50cyBvZiBsZXZlbCAmbHQ7bGV2ZWwmZ3Q7LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnVwKCk7XHJcbiAgICogZWxlbS51cCgyKTtcclxuICAgKi9cclxuICB1cChsZXZlbCA9IDEpIHtcclxuICAgIHZhbGlkYXRlKFtsZXZlbF0sIFtbJ2ludExpa2UnLCAnPj0wJ11dLCAnRWxlbSN1cCcpO1xyXG5cclxuICAgIGxldmVsID0gTnVtYmVyKGxldmVsKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGxldCBuID0gbGV2ZWw7XHJcblxyXG4gICAgICB3aGlsZSAobi0tICYmIGVsZW0pIHtcclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSN2YWxpZGF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1ZhbGlkYXRlQ2FsbGJhY2t9IFt2YWxpZGF0b3JdIC0gSWYgcHJlc2VudCwgZnVuY3Rpb24gdGhhdCB2YWxpZGF0ZXMgaW5wdXRzLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfE9iamVjdC48U3RyaW5nLCBFcnJvcnwqPnxudWxsfVxyXG4gICAqIElmIGEgY2FsbGJhY2sgYXJndW1lbnQgcHJvdmlkZWQgcmV0dXJucyB0aGlzLiBJZiBubyBhcmd1bWVudHMgcHJvdmlkZWQgcmV0dXJucyBlaXRoZXIgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBpbnB1dCBuYW1lcyBrZXlzIGFuZCBlcnJvcnMgdmFsdWVzIG9yIG51bGwgaWYgbm8gZXJyb3JzIGZvdW5kLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBhIGNhbGxiYWNrIGFyZ3VtZW50IHByb3ZpZGVkIGFkZHMgaXQgdG8gdGhlIGVsZW1lbnQgdmFsaWRhdG9ycyBsaXN0LlxyXG4gICAqIElmIG5vIGFyZ3VtZW50cyBwcm92aWRlZCB2YWxpZGF0ZXMgZXZlcnkgaW5wdXQgZWxlbWVudCBpbiB0aGUgc2V0IHdpdGggaXRzIG93biBmdW5jdGlvbnMuXHJcbiAgICogSWYgYW4gZWxlbWVudCBpcyBhIGZvcm0gaXQgdmFsaWRhdGVzIGFsbCBpbnB1dCBlbGVtZW50cyBpbnNpZGUgaXQuIEFmdGVyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICogZmlyZXMgJ3ZhbGlkYXRlJyBldmVudCB3aXRoICd2YWxpZCcgYW5kICdlcnJvcicgKGlmIGZvcm0gaXQncyBlcnJvcnMpIHByb3BlcnRpZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGZvcm0ub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsICh2YWx1ZSwgaW5wdXQpID0+IHtcclxuICAgKiAgIGlucHV0ID0gRChpbnB1dCk7XHJcbiAgICpcclxuICAgKiAgIGlmIChOdW1iZXIodmFsdWUpICUgMykge1xyXG4gICAqICAgICBpbnB1dC5hZGRDbGFzcygnaW52YWxpZCcpO1xyXG4gICAqXHJcbiAgICogICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlIHNob3VsZCBiZSBkaXZpZGVkIGJ5IDMhJyk7XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIGlucHV0LnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgdmFsaWRhdGUodmFsaWRhdG9yKSB7XHJcbiAgICB2YWxpZGF0ZShbdmFsaWRhdG9yXSwgWydmdW5jdGlvbnx8ISddLCAnRWxlbSN2YWxpZGF0ZScpO1xyXG5cclxuICAgIGlmICh2YWxpZGF0b3IpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoeyBkd2F5bmVEYXRhIH0pID0+IHtcclxuICAgICAgICBkd2F5bmVEYXRhLnZhbGlkYXRvcnMucHVzaCh2YWxpZGF0b3IpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgU3VwZXIoeyBlcnJvcnM6IG51bGwgfSk7XHJcblxyXG4gICAgdGhpc1xyXG4gICAgICAuZmlsdGVyKGAkeyBpbnB1dEVsZW1lbnRzIH0sIGZvcm1gKVxyXG4gICAgICAuZm9yRWFjaCgoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ2Zvcm0nKSB7XHJcbiAgICAgICAgICBsZXQgZm9ybUVycm9ycyA9IHsgZXJyb3JzOiBudWxsIH07XHJcbiAgICAgICAgICBjb25zdCBmb3JtID0gbmV3IEVsZW0oZWxlbSk7XHJcbiAgICAgICAgICBjb25zdCBpbnB1dHMgPSBmb3JtLmZpbmQoaW5wdXRFbGVtZW50cyk7XHJcblxyXG4gICAgICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3JXcmFwKGlucHV0LCBpbmRleCwgZm9ybUVycm9ycyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBlcnJvcnMuZGVlcEFzc2lnbihmb3JtRXJyb3JzKTtcclxuXHJcbiAgICAgICAgICBmb3JtRXJyb3JzID0gZm9ybUVycm9ycy5lcnJvcnM7XHJcblxyXG4gICAgICAgICAgZm9ybS5kaXNwYXRjaCgndmFsaWRhdGUnLCB7fSwge1xyXG4gICAgICAgICAgICB2YWxpZDogIWZvcm1FcnJvcnMsXHJcbiAgICAgICAgICAgIGVycm9yczogZm9ybUVycm9yc1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVycm9yID0gKGZvcm1FcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdO1xyXG5cclxuICAgICAgICAgICAgbmV3IEVsZW0oaW5wdXQpLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICAgICAgdmFsaWQ6ICFpbnB1dEVycm9yLFxyXG4gICAgICAgICAgICAgIGVycm9yOiBpbnB1dEVycm9yIHx8IG51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbnB1dEVycm9yID0geyBlcnJvcnM6IG51bGwgfTtcclxuXHJcbiAgICAgICAgdmFsaWRhdG9yV3JhcChlbGVtLCBpbmRleCwgaW5wdXRFcnJvcik7XHJcbiAgICAgICAgZXJyb3JzLmRlZXBBc3NpZ24oaW5wdXRFcnJvcik7XHJcblxyXG4gICAgICAgIGlucHV0RXJyb3IgPSAoaW5wdXRFcnJvci5lcnJvcnMgfHwge30pW2VsZW0ubmFtZV07XHJcblxyXG4gICAgICAgIG5ldyBFbGVtKGVsZW0pLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICB2YWxpZDogIWlucHV0RXJyb3IsXHJcbiAgICAgICAgICBlcnJvcjogaW5wdXRFcnJvciB8fCBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRvcldyYXAoaW5wdXQsIGluZGV4LCBlcnJvcnMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkgJiYgIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXQuZHdheW5lRGF0YS52YWxpZGF0b3JzLmZvckVhY2goKHZhbGlkYXRvcikgPT4ge1xyXG4gICAgICAgICAgdmFsaWRhdG9yKGlucHV0LnZhbHVlLCBpbnB1dCwgaW5kZXgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAoZXJyb3JzLmVycm9ycyA9IGVycm9ycy5lcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdID0gZXJyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVycm9ycy5ldmVyeSgoZXJyb3IpID0+IGlzTnVsbChlcnJvcikpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlcnJvcnMuJC5lcnJvcnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jd2lkdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbd2lkdGhdIC0gV2lkdGggdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgd2lkdGhzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgd2lkdGggYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB3aWR0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS53aWR0aCgxMjMpO1xyXG4gICAqIGVsZW0ud2lkdGgoKTsgLy8gMTIzXHJcbiAgICovXHJcbiAgd2lkdGgod2lkdGgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3AuYXBwbHkodGhpcywgbmV3IEFycihhcmd1bWVudHMpLnVuc2hpZnQoJ3dpZHRoJykuJCk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEVsZW0ucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdFbGVtJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IHdpblxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiB3aW5kb3cuXHJcbiAqL1xyXG5jb25zdCB3aW4gPSBuZXcgRWxlbShnbG9iYWwpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gZG9jXHJcbiAqIEB0eXBlIHtFbGVtfVxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBFbGVtIGluc3RhbmNlIG9mIGRvY3VtZW50LlxyXG4gKi9cclxuY29uc3QgZG9jID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gaHRtbFxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuXHJcbiAqL1xyXG5jb25zdCBodG1sID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGJvZHlcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuYm9keS5cclxuICovXHJcbmNvbnN0IGJvZHkgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5ib2R5KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGhlYWRcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuaGVhZC5cclxuICovXHJcbmNvbnN0IGhlYWQgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5oZWFkKTtcclxuXHJcbmNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihodG1sRWxlbWVudHMpLmNvbmNhdChzdmdFbGVtZW50cykuJDtcclxuY29uc3QgcHJvcHMgPSBuZXcgQXJyKGVsZW1lbnRzKS5tYXAoKHR5cGUpID0+IG5ldyBTdHIodHlwZSkudG9DYW1lbENhc2UoKS4kKS4kO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIHByb3BzLCAoZWxlbSwgaSkgPT4gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLmNyZWF0ZS5hcHBseSh0aGlzLCBuZXcgQXJyKGFyZ3VtZW50cykudW5zaGlmdChlbGVtZW50c1tpXSkuJCk7XHJcbn0pO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIGNhbnZhc0dldE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICByZXR1cm4gY3R4W21ldGhvZF0uYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xyXG4gIH1cclxufSk7XHJcblxyXG5keW5hbWljRGVmaW5lUHJvcGVydGllcyhFbGVtLnByb3RvdHlwZSwgY2FudmFzUmVzdE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICBjdHhbbWV0aG9kXS5hcHBseShjdHgsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbXxTdHJpbmd9IGVsZW0gLSBFbGVtZW50LCBzZWxlY3RvciBvZiBFbGVtZW50cyBvciBFbGVtLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICovXHJcbmZ1bmN0aW9uIHRvRmluZChlbGVtKSB7XHJcbiAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfVxyXG5cclxuICBpZiAoaXNTdHJpbmcoZWxlbSkpIHtcclxuICAgIGVsZW0gPSBmaW5kKGVsZW0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQncyBFbGVtLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBFbGVtIG9yIG5vdC5cclxuICovXHJcbmZ1bmN0aW9uIGlzRWxlbSh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNXaW5kb3dcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgV2luZG93LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIFdpbmRvdy5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIFdpbmRvdyBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1dpbmRvdyh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdXaW5kb3cnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSFRNTERvY3VtZW50XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIEhUTUxEb2N1bWVudC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNIVE1MRG9jdW1lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnSFRNTERvY3VtZW50JztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnRcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBEb2N1bWVudEZyYWdtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudC5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRG9jdW1lbnRGcmFnbWVudCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTdHlsZVJ1bGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBzdHlsZSBydWxlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZS5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZSBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1N0eWxlUnVsZSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdDU1NTdHlsZVJ1bGUnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIENvbW1lbnQgb3IgVGV4dC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBDb21tZW50IG9yIFRleHQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNDb21tZW50T3JUZXh0KHZhbHVlKSB7XHJcbiAgY29uc3QgdGFnID0gdG9TdHJpbmdUYWcodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdGFnID09PSAnQ29tbWVudCcgfHwgdGFnID09PSAnVGV4dCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0RWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW19IGVsZW0gLSBFbGVtZW50IHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIGFyZ3VtZW50IG9yIGEgZmFsbGJhY2sgaWYgbmVlZGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RWxlbShlbGVtKSB7XHJcbiAgcmV0dXJuIGlzRWxlbWVudChlbGVtLiRbMF0pID8gZWxlbS4kWzBdIDogZW1wdHlEaXY7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0TmFtZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtXSAtIEVsZW1lbnQgd2hpY2ggbmFtZSBpcyBuZWVkZWQgdG8ga25vdy5cclxuICogQHJldHVybnMge1N0cmluZ30gRWxlbWVudCBuYW1lLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TmFtZShlbGVtKSB7XHJcbiAgcmV0dXJuIChlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB8fCAnJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhZGREd2F5bmVEYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgdG8gYWRkIGR3YXluZURhdGEgdG8uXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gYWRkRHdheW5lRGF0YShlbGVtKSB7XHJcbiAgaWYgKCF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW0sICdkd2F5bmVEYXRhJykgJiYgIWlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgRWxlbWVudCNkd2F5bmVEYXRhXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHByZXZpb3VzRGlzcGxheSAtIFBhcmFtZXRlciB1c2VkIGZvciBoaWRpbmcvc2hvd2luZyBlbGVtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIFN1cGVyPn0gcmVtb3ZlTGlzdGVuZXJzIC0gUGFyYW1ldGVyIHVzZWQgZm9yIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAcHJvcGVydHkge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gW2N0eF0gLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAgICAgKiBAcHJvcGVydHkge0Fycn0gdmFsaWRhdG9ycyAtIFZhbGlkYXRvcnMgYXNzaWduZWQgdG8gZWxlbWVudC5cclxuICAgICAqIEBkZXNjcmlwdGlvbiBEIGRhdGEuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtLCAnZHdheW5lRGF0YScsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBwcmV2aW91c0Rpc3BsYXk6ICcnLFxyXG4gICAgICAgIGxpc3RlbmVyczoge30sXHJcbiAgICAgICAgY3R4OiBnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJyAmJiBlbGVtLmdldENvbnRleHQoJzJkJyksXHJcbiAgICAgICAgdmFsaWRhdG9yczogbmV3IEFycihbXSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyhlbGVtKSAmJiAhd2luZG93c0R3YXluZURhdGEuc29tZSgoeyBlbGVtZW50IH0pID0+IGVsZW1lbnQgPT09IGVsZW0pKSB7XHJcbiAgICB3aW5kb3dzRHdheW5lRGF0YS5wdXNoKHtcclxuICAgICAgZWxlbWVudDogZWxlbSxcclxuICAgICAgbGlzdGVuZXJzOiB7fVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IChlbGVtKSA9PiAoXHJcbiAgICBpc0VsZW1lbnQoZWxlbSkgfHxcclxuICAgIGlzV2luZG93KGVsZW0pIHx8XHJcbiAgICBpc0hUTUxEb2N1bWVudChlbGVtKSB8fFxyXG4gICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbSkgfHxcclxuICAgIC9eKEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0KSQvLnRlc3QodG9TdHJpbmdUYWcoZWxlbSkpXHJcbiAgKSxcclxuICBjbHM6IEVsZW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGZpbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgLSBTZWxlY3RvciB0byBmaW5kLlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtiYXNlID0gZG9jdW1lbnRdIC0gQmFzZSB0byBmaW5kIGluLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gKiBbRG9jdW1lbnQjcXVlcnlTZWxlY3RvckFsbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gKi9cclxuZnVuY3Rpb24gZmluZChzZWxlY3RvciwgYmFzZSA9IG5hdGl2ZURvY3VtZW50KSB7XHJcbiAgcmV0dXJuIG5ldyBFbGVtKFxyXG4gICAgaXNFbGVtZW50KGJhc2UpIHx8IGlzSFRNTERvY3VtZW50KGJhc2UpXHJcbiAgICAgID8gYmFzZS5xdWVyeVNlbGVjdG9yQWxsKFN0cmluZyhzZWxlY3RvcikpXHJcbiAgICAgIDogW11cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSFRNTFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBwYXJzZS5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlXHJcbiAqIGNvbGxhcHNlZCBkdXJpbmcgdGhlIHBhcnNpbmcuXHJcbiAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFBhcnNlcyBIVE1MIGFuZCByZXR1cm5zIGEgd3JhcCBvZiAjZG9jdW1lbnQtZnJhZ21lbnQgY29udGFpbmluZyB0aGUgY29udGVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHBhcnNlSFRNTCgnPGRpdj4xMjM8L2Rpdj4nKTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VIVE1MKGh0bWwsIGNvbGxhcHNlV2hpdGVTcGFjZSkge1xyXG4gIGNvbnN0IGpzb24gPSBtYXJrdXBUb0pTT04oaHRtbCwgY29sbGFwc2VXaGl0ZVNwYWNlKTtcclxuICBjb25zdCB0ZW1wbGF0ZSA9IGRvYy50ZW1wbGF0ZSgpO1xyXG4gIGNvbnN0IGVsZW0gPSBuZXcgRWxlbSh0ZW1wbGF0ZS4kWzBdLmNvbnRlbnQpO1xyXG5cclxuICBqc29uLmZvckVhY2goZnVuY3Rpb24gZm9yRWFjaE5vZGUobm9kZSkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBhdHRycyxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBwYXJlbnQuZWxlbSB8fCBlbGVtO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHBhcmVudE5vZGUuY3JlYXRlKG5hbWUpO1xyXG5cclxuICAgIG5vZGUuZWxlbSA9IGVsZW1lbnQ7XHJcblxyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF0dHJzKSB7XHJcbiAgICAgIGVsZW1lbnQuYXR0cihhdHRycyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5hbWUgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgbm9kZS5lbGVtID0gbmV3IEVsZW0oZWxlbWVudC5wcm9wKCdjb250ZW50JykpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZvckVhY2hOb2RlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHB4XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBzaXplIC0gU3RyaW5nIGNvbnRhaW5pbmcgcGl4ZWxzIHZhbHVlIG9yIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2YgcGl4ZWxzLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIHBhcnNpbmcgcGl4ZWwgc3RyaW5ncy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogcHgoJzBweCcpOyAgLy8gMFxyXG4gKiBweCgnNDJweCcpOyAvLyA0MlxyXG4gKi9cclxuZnVuY3Rpb24gcHgoc2l6ZSkge1xyXG4gIHJldHVybiBOdW1iZXIoU3RyaW5nKHNpemUpLnJlcGxhY2UoL3B4JC8sICcnKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IEVsZW0sIHdpbiwgZG9jLCBodG1sLCBib2R5LCBoZWFkLCBmaW5kLCBwYXJzZUhUTUwsIHB4IH07XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRCbG9jayhCbG9jaykge1xyXG4gIGNsYXNzIERCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIiAvPic7XHJcblxyXG4gICAgZWxlbXMgPSBudWxsO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLiQkLnBhcmVudDtcclxuICAgICAgY29uc3QgeyBuYW1lIH0gPSB0aGlzLmFyZ3M7XHJcbiAgICAgIGxldCBmb3VuZDtcclxuXHJcbiAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgZm91bmQgPSBjaGlsZHJlbi5maW5kKCh7IG5hbWU6IG5vZGVOYW1lIH0pID0+IG5vZGVOYW1lID09PSBgZC1ibG9jay0keyBuYW1lIH1gKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kICYmIGZvdW5kLnZhbHVlLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1ibG9jaycsXHJcbiAgICB2YWx1ZTogREJsb2NrXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xyXG5pbXBvcnQgeyBFbGVtIH0gZnJvbSAnLi4vRWxlbSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFYWNoKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFYWNoIGV4dGVuZHMgQmxvY2sge1xyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICBpdGVtOiBpdGVtTmFtZSA9ICckaXRlbScsXHJcbiAgICAgICAgICBpbmRleDogaW5kZXhOYW1lID0gJyRpbmRleCdcclxuICAgICAgICB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG5cclxuICAgICAgYXNzaWduKHRoaXMuJCQsIHtcclxuICAgICAgICB1aWRzOiBuZXcgU3VwZXIoe30pLFxyXG4gICAgICAgIGl0ZW1zOiBuZXcgQXJyKFtdKSxcclxuICAgICAgICBVSUQ6IFN0cmluZyh0aGlzLmFyZ3MudWlkKSxcclxuICAgICAgICBpdGVtTmFtZSxcclxuICAgICAgICBpbmRleE5hbWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJSZW5kZXIoKSB7XHJcbiAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHRoaXMuYXJncy5zZXQpO1xyXG4gICAgICB0aGlzLndhdGNoQXJncygnc2V0JywgKHNldCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHNldCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdFZhbHVlcyhzZXQpIHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGVsZW1zOiB7XHJcbiAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdWlkcyxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgIFVJRFxyXG4gICAgICB9ID0gdGhpcy4kJDtcclxuICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcztcclxuICAgICAgY29uc3QgJHVpZHMgPSB1aWRzLiQ7XHJcbiAgICAgIGNvbnN0IG5ld0tleXMgPSB7fTtcclxuICAgICAgY29uc3QgbmV3VUlEcyA9IHt9O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBzY29wZVtpdGVtTmFtZV0gPSBpdGVtO1xyXG4gICAgICAgIHNjb3BlW2luZGV4TmFtZV0gPSBpbmRleDtcclxuXHJcbiAgICAgICAgY29uc3QgdWlkID0gcGFyZW50LiQkLmV2YWx1YXRlKFN0cmluZyhVSUQpLCBudWxsLCBudWxsLCBmYWxzZSwgZmFsc2UsIHRoaXMpO1xyXG5cclxuICAgICAgICBuZXdLZXlzW3VpZF0gPSBuZXdLZXlzW3VpZF0gfHwge307XHJcbiAgICAgICAgbmV3S2V5c1t1aWRdW2luZGV4XSA9IHRydWU7XHJcbiAgICAgICAgbmV3VUlEc1tpbmRleF0gPSB1aWQ7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGVbaXRlbU5hbWVdID0gbnVsbDtcclxuICAgICAgc2NvcGVbaW5kZXhOYW1lXSA9IG51bGw7XHJcblxyXG4gICAgICB1aWRzLmZvckVhY2goKGl0ZW1zLCB1aWQpID0+IHtcclxuICAgICAgICBpZiAoIW5ld0tleXNbdWlkXSkge1xyXG4gICAgICAgICAgaXRlbXMuZm9yRWFjaCgoSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXRlbXMuc3BsaWNlKE9iamVjdC5rZXlzKG5ld0tleXNbdWlkXSkubGVuZ3RoKS5mb3JFYWNoKChJdGVtKSA9PiB7XHJcbiAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBhZnRlciA9IHN0YXJ0O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCB1aWQgPSBuZXdVSURzW2luZGV4XTtcclxuICAgICAgICBsZXQgYmxvY2s7XHJcblxyXG4gICAgICAgIGlmICgkdWlkc1t1aWRdICYmICR1aWRzW3VpZF0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBibG9jayA9IG5ld0tleXNbdWlkXVtpbmRleF0gPSB1aWRzLiRbdWlkXS5zaGlmdCgpO1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaW5kZXhOYW1lXSA9IGluZGV4O1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaXRlbU5hbWVdID0gaXRlbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYmxvY2sgPSBuZXdLZXlzW3VpZF1baW5kZXhdID0gY3JlYXRlQmxvY2soe1xyXG4gICAgICAgICAgICBub2RlOiB7XHJcbiAgICAgICAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgICAgICAgIGl0ZW0sXHJcbiAgICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgICAgbmFtZTogJyNkLWl0ZW0nLFxyXG4gICAgICAgICAgICAgIGJsb2NrOiBwYXJlbnQsXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbSxcclxuICAgICAgICAgICAgcGFyZW50QmxvY2s6IHRoaXMsXHJcbiAgICAgICAgICAgIHBhcmVudFNjb3BlOiBwYXJlbnRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICBlbmRcclxuICAgICAgICB9ID0gYmxvY2suJCQuZWxlbXM7XHJcblxyXG4gICAgICAgIGlmIChzdGFydC5wcmV2KCkuJFswXSAhPT0gYWZ0ZXIuJFswXSkge1xyXG4gICAgICAgICAgY29uc3QgeyBjb250ZW50IH0gPSBibG9jay4kJC5lbGVtcztcclxuXHJcbiAgICAgICAgICBuZXcgRWxlbShbXHJcbiAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICBjb250ZW50LFxyXG4gICAgICAgICAgICBlbmRcclxuICAgICAgICAgIF0pLmluc2VydEFmdGVyKGFmdGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFmdGVyID0gZW5kO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuJCQudWlkcyA9IG5ldyBTdXBlcihuZXdLZXlzKS5tYXAoKGl0ZW1zKSA9PiAoXHJcbiAgICAgICAgbmV3IFN1cGVyKGl0ZW1zKS52YWx1ZXMoKVxyXG4gICAgICApKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1lYWNoJyxcclxuICAgIHZhbHVlOiBERWFjaFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgRWxlbSB9IGZyb20gJy4uL0VsZW0nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREVsZW1lbnRzKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFbGVtZW50cyBleHRlbmRzIEJsb2NrIHtcclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAodmFsdWUpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBjaGlsZHJlbixcclxuICAgICAgICAgIG1peGlucyxcclxuICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUsXHJcbiAgICAgICAgICBlbGVtczoge1xyXG4gICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgY29udGVudCxcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHRoaXMuJCQ7XHJcbiAgICAgICAgbGV0IGFmdGVyID0gc3RhcnQ7XHJcblxyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICBjaGlsZC5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG1peGluKSA9PiB7XHJcbiAgICAgICAgICBtaXhpbi5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udGVudC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kJC5jaGlsZHJlbiA9IG5ldyBBcnIoW10pO1xyXG4gICAgICAgIHRoaXMuJCQubWl4aW5zID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgdGhpcy4kJC53YXRjaGVyc1RvUmVtb3ZlID0gd2F0Y2hlcnNUb1JlbW92ZS5maWx0ZXIoKHsgd2F0Y2hlcnMsIHdhdGNoZXIsIGZvckRFbGVtZW50cyB9KSA9PiB7XHJcbiAgICAgICAgICBpZiAoZm9yREVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gd2F0Y2hlcnMuaW5kZXhPZih3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHdhdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBuZXcgRWxlbSgpO1xyXG5cclxuICAgICAgICBuZXcgQXJyKHZhbHVlIHx8IFtdKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgYmxvY2sgPSBjcmVhdGVCbG9jayh7XHJcbiAgICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgcGFyZW50LFxyXG4gICAgICAgICAgICBwYXJlbnRCbG9jazogdGhpcyxcclxuICAgICAgICAgICAgcGFyZW50U2NvcGU6IHRoaXNcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbXMgfSA9IGJsb2NrLiQkO1xyXG5cclxuICAgICAgICAgICAgYWZ0ZXIgPSBlbGVtcy5lbmQ7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChlbGVtcy5zdGFydCwgZWxlbXMuY29udGVudCwgZWxlbXMuZW5kKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFmdGVyID0gYmxvY2s7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChibG9jayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJCQuZWxlbXMuY29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWVsZW1lbnRzJyxcclxuICAgIHZhbHVlOiBERWxlbWVudHNcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRJZihCbG9jaykge1xyXG4gIGNsYXNzIERJZiBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIi8+JztcclxuXHJcbiAgICBpbmRleCA9IEluZmluaXR5O1xyXG4gICAgZWxlbXMgPSBudWxsO1xyXG4gICAgdmFsdWVzID0gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkLCBpKSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGF0dHJzLFxyXG4gICAgICAgIGNoaWxkcmVuXHJcbiAgICAgIH0gPSBjaGlsZDtcclxuICAgICAgY29uc3QgY29uZCA9IHRoaXMuZXZhbHVhdGVBbmRXYXRjaChuYW1lID09PSAnZC1lbHNlJyA/ICd7dHJ1ZX0nIDogYXR0cnMuaWYgfHwgJ3t0cnVlfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIGlmICghIW5ld1ZhbHVlID09PSB0aGlzLnZhbHVlcy4kW2ldKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnZhbHVlcy4kW2ldID0gISFuZXdWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGkgPiB0aGlzLmluZGV4KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaSA8IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy52YWx1ZXMuZmluZChCb29sZWFuKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kKSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gZm91bmQua2V5O1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IHRoaXMuY2hpbGRyZW4uJFtmb3VuZC5rZXldLmNoaWxkcmVuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gSW5maW5pdHk7XHJcbiAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGNvbmQgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaTtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb25kO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtaWYnLFxyXG4gICAgdmFsdWU6IERJZlxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREl0ZW0oQmxvY2spIHtcclxuICBjbGFzcyBESXRlbSBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntjaGlsZHJlbn1cIi8+JztcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnI2QtaXRlbScsXHJcbiAgICB2YWx1ZTogREl0ZW1cclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IEFyciB9IGZyb20gJy4uL0Fycic7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFN3aXRjaChCbG9jaykge1xyXG4gIGNsYXNzIERTd2l0Y2ggZXh0ZW5kcyBCbG9jayB7XHJcbiAgICBzdGF0aWMgdGVtcGxhdGUgPSAnPGQtZWxlbWVudHMgdmFsdWU9XCJ7ZWxlbXN9XCIvPic7XHJcblxyXG4gICAgaW5kZXggPSBJbmZpbml0eTtcclxuICAgIGVsZW1zID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XHJcbiAgICAgIHN1cGVyKG9wdHMpO1xyXG5cclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGFyZ3MsXHJcbiAgICAgICAgYXJnczogeyB2YWx1ZSB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG4gICAgICBsZXQgd2FzRGVmYXVsdDtcclxuXHJcbiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy5jaGlsZHJlbi5vYmplY3QoKHZhbHVlcywgY2hpbGQsIGkpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgYXR0cnMsXHJcbiAgICAgICAgICBjaGlsZHJlblxyXG4gICAgICAgIH0gPSBjaGlsZDtcclxuXHJcbiAgICAgICAgaWYgKHdhc0RlZmF1bHQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYW1lICE9PSAnZC1jYXNlJyAmJiBuYW1lICE9PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWRlZmF1bHQnKSB7XHJcbiAgICAgICAgICB3YXNEZWZhdWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2YWw7XHJcblxyXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgdmFsID0gYXJncy52YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFsID0gdGhpcy5ldmFsdWF0ZUFuZFdhdGNoKGF0dHJzLmlmIHx8ICd7dW5kZWZpbmVkfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lcXVhbHModGhpcy52YWx1ZXMuJFtpXS52YWx1ZSwgbmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlcy4kW2ldLnZhbHVlID0gbmV3VmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA+IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpIDwgdGhpcy5pbmRleCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgIHRoaXMuZWxlbXMgPSBjaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMudmFsdWVzLmZpbmQoKHsgdmFsdWUgfSkgPT4gKFxyXG4gICAgICAgICAgICAgIHRoaXMuZXF1YWxzKHZhbHVlLCBhcmdzLnZhbHVlKVxyXG4gICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBmb3VuZC5rZXk7XHJcbiAgICAgICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lcXVhbHModmFsLCB2YWx1ZSkgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsdWVzLnB1c2goe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGNoaWxkcmVuLFxyXG4gICAgICAgICAgdmFsdWU6IHZhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCBuZXcgQXJyKFtdKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICAgIHRoaXMud2F0Y2hBcmdzKCd2YWx1ZScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBjaGlsZHJlbiB9LCBpKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB2YWwgPSBuYW1lID09PSAnZC1kZWZhdWx0J1xyXG4gICAgICAgICAgICA/IG5ld1ZhbHVlXHJcbiAgICAgICAgICAgIDogdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuZXF1YWxzKHZhbCwgbmV3VmFsdWUpICYmIHRoaXMuaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyh2YWx1ZTEsIHZhbHVlMikge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKHZhbHVlMSkuZXF1YWxzKHZhbHVlMik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc3dpdGNoJyxcclxuICAgIHZhbHVlOiBEU3dpdGNoXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFRleHQoQmxvY2spIHtcclxuICBjbGFzcyBEVGV4dCBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntbeyBuYW1lOiBcXCcjdGV4dFxcJywgdmFsdWU6IHRleHQgfV19XCIvPic7XHJcblxyXG4gICAgdGV4dCA9ICcnO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLnRleHQgPSBpc05pbCh0aGlzLmFyZ3MudmFsdWUpID8gJycgOiB0aGlzLmFyZ3MudmFsdWU7XHJcblxyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAobmV3VmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnRleHQgPSBpc05pbChuZXdWYWx1ZSkgPyAnJyA6IG5ld1ZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC10ZXh0JyxcclxuICAgIHZhbHVlOiBEVGV4dFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEQXR0cihNaXhpbikge1xyXG4gIGNsYXNzIERBdHRyIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIG5ld1ZhbHVlID0gbmV3IFN1cGVyKG5ld1ZhbHVlKS4kO1xyXG5cclxuICAgICAgbmV3IFN1cGVyKG9sZFZhbHVlKS5mb3JFYWNoKCh2YWx1ZSwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghbmV3VmFsdWVbcHJvcF0pIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cihwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBlbGVtLmF0dHIobmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWF0dHInLFxyXG4gICAgdmFsdWU6IERBdHRyXHJcbiAgfTtcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREJpbmQoTWl4aW4pIHtcclxuICBjbGFzcyBEQmluZCBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGlmICh0aGlzLm9mZikge1xyXG4gICAgICAgIHRoaXMub2ZmKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMub2ZmID0gdGhpcy5lbGVtLm9uKHRoaXMubWF0Y2hbMF0sIHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1iaW5kJyxcclxuICAgIHZhbHVlOiBEQmluZFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc1N0cmluZywgaXRlcmF0ZSB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEQ2xhc3MoTWl4aW4pIHtcbiAgY2xhc3MgRENsYXNzIGV4dGVuZHMgTWl4aW4ge1xuICAgIGNsYXNzZXMgPSBbXTtcblxuICAgIGFmdGVyVXBkYXRlKG5ld1ZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIGNsYXNzZXNcbiAgICAgIH0gPSB0aGlzO1xuICAgICAgY29uc3QgbmV3Q2xhc3NlcyA9IFtdO1xuXG4gICAgICBuZXdWYWx1ZSA9IG5ldyBTdXBlcihuZXdWYWx1ZSkuJDtcblxuICAgICAgaWYgKGlzU3RyaW5nKG5ld1ZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlLnNwbGl0KC9cXHMrLyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5KG5ld1ZhbHVlKSkge1xuICAgICAgICBpdGVyYXRlKGNsYXNzZXMsIChjbHMpID0+IHtcbiAgICAgICAgICBpZiAobmV3VmFsdWUuaW5kZXhPZihjbHMpID09PSAtMSkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZXJhdGUobmV3VmFsdWUsIChjbHMpID0+IHtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xzKSkge1xuICAgICAgICAgICAgbmV3Q2xhc3Nlcy5wdXNoKGNscyk7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdGUoY2xhc3NlcywgKGNscykgPT4ge1xuICAgICAgICAgIGlmICghbmV3VmFsdWVbY2xzXSkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZXJhdGUobmV3VmFsdWUsICh2YWwsIGNscykgPT4ge1xuICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgIG5ld0NsYXNzZXMucHVzaChjbHMpO1xuICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2xhc3NlcyA9IG5ld0NsYXNzZXM7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1jbGFzcycsXG4gICAgdmFsdWU6IERDbGFzc1xuICB9O1xufVxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNTdHJpbmcgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREVsZW0oTWl4aW4pIHtcbiAgY2xhc3MgREVsZW0gZXh0ZW5kcyBNaXhpbiB7XG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICBzdXBlcihvcHRzKTtcblxuICAgICAgY29uc3QgeyBwYXJlbnQgfSA9IHRoaXMuJCQ7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZXZhbHVhdGVPbmNlKCk7XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSh0aGlzLmVsZW0pO1xuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgcGFyZW50W3ZhbHVlXSA9IHRoaXMuZWxlbTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLWVsZW0nLFxuICAgIHZhbHVlOiBERWxlbVxuICB9O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREhpZGUoTWl4aW4pIHtcclxuICBjbGFzcyBESGlkZSBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGVsZW0uaGlkZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0uc2hvdygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtaGlkZScsXHJcbiAgICB2YWx1ZTogREhpZGVcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRPbihNaXhpbikge1xyXG4gIGNsYXNzIERPbiBleHRlbmRzIE1peGluIHtcclxuICAgIHN0YXRpYyBldmFsdWF0ZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgICAgc3VwZXIob3B0cyk7XHJcblxyXG4gICAgICB0aGlzLmVsZW0ub24odGhpcy5tYXRjaFswXSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZXZhbHVhdGVPbmNlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLW9uJyxcclxuICAgIHZhbHVlOiBET25cclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRTaG93KE1peGluKSB7XHJcbiAgY2xhc3MgRFNob3cgZXh0ZW5kcyBNaXhpbiB7XHJcbiAgICBhZnRlclVwZGF0ZSh2YWx1ZSkge1xyXG4gICAgICBjb25zdCB7IGVsZW0gfSA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICBlbGVtLnNob3coKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbGVtLmhpZGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLXNob3cnLFxyXG4gICAgdmFsdWU6IERTaG93XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBTdXBlciB9IGZyb20gJy4uL1N1cGVyJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRTdHlsZShNaXhpbikge1xyXG4gIGNsYXNzIERTdHlsZSBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICBjb25zdCB7IGVsZW0gfSA9IHRoaXM7XHJcblxyXG4gICAgICBuZXdWYWx1ZSA9IG5ldyBTdXBlcihuZXdWYWx1ZSkuJDtcclxuXHJcbiAgICAgIG5ldyBTdXBlcihvbGRWYWx1ZSkuZm9yRWFjaCgodmFsdWUsIHByb3ApID0+IHtcclxuICAgICAgICBpZiAoIW5ld1ZhbHVlW3Byb3BdKSB7XHJcbiAgICAgICAgICBlbGVtLnJlbW92ZUNTUyhwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBlbGVtLmNzcyhuZXdWYWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc3R5bGUnLFxyXG4gICAgdmFsdWU6IERTdHlsZVxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNOaWwgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRUZXh0KE1peGluKSB7XHJcbiAgY2xhc3MgRFRleHQgZXh0ZW5kcyBNaXhpbiB7XHJcbiAgICBhZnRlclVwZGF0ZSh2YWx1ZSkge1xyXG4gICAgICB0aGlzLmVsZW0udGV4dChcclxuICAgICAgICBpc05pbCh2YWx1ZSlcclxuICAgICAgICAgID8gJydcclxuICAgICAgICAgIDogYCR7IHZhbHVlIH1gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtdGV4dCcsXHJcbiAgICB2YWx1ZTogRFRleHRcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vaGVscGVycyc7XHJcblxyXG5jb25zdCBsaXN0ZW5lclN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICdpbnB1dCcpXHJcbiAgLmNhc2UoJ2Zvcm0nLCAnaW5wdXQsIGNoYW5nZScpXHJcbiAgLmNhc2UoJ3NlbGVjdCcsICdjaGFuZ2UnKVxyXG4gIC5jYXNlKCdpbnB1dCcsICh0eXBlKSA9PiAoXHJcbiAgICB0eXBlID09PSAncmFkaW8nXHJcbiAgICB8fCB0eXBlID09PSAnY2hlY2tib3gnXHJcbiAgICB8fCB0eXBlID09PSAnY29sb3InXHJcbiAgICB8fCB0eXBlID09PSAnZmlsZSdcclxuICAgICAgPyAnY2hhbmdlJ1xyXG4gICAgICA6ICdpbnB1dCdcclxuICApKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRWYWxpZGF0ZShNaXhpbikge1xyXG4gIGNsYXNzIERWYWxpZGF0ZSBleHRlbmRzIE1peGluIHtcclxuICAgIHN0YXRpYyBldmFsdWF0ZSA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgICAgc3VwZXIob3B0cyk7XHJcblxyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgZWxlbSxcclxuICAgICAgICBtYXRjaFxyXG4gICAgICB9ID0gdGhpcztcclxuICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5ldmFsdWF0ZU9uY2UoKTtcclxuXHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcclxuICAgICAgICBlbGVtLnZhbGlkYXRlKHZhbGlkYXRvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2YWxpZGF0b3IgPT09IHRydWUgJiYgbWF0Y2ggPT09ICdvbi1jaGFuZ2UnICYmIGVsZW0uJCQuZHdheW5lRGF0YS52YWxpZGF0b3JzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIGVsZW0ub24obGlzdGVuZXJTd2l0Y2hlcihlbGVtLm5hbWUsIFtlbGVtLnByb3AoJ3R5cGUnKV0pLCAoKSA9PiB7XHJcbiAgICAgICAgICBlbGVtLnZhbGlkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC12YWxpZGF0ZScsXHJcbiAgICB2YWx1ZTogRFZhbGlkYXRlXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xuaW1wb3J0IHsgc3dpdGNoZXIgfSBmcm9tICcuLi9Td2l0Y2hlcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5jb25zdCBwcm9wU3dpdGNoZXIgPSBzd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgKHR5cGUsIGVsZW0pID0+IChcbiAgZWxlbS5oYXNBdHRyKCdjb250ZW50ZWRpdGFibGUnKSB8fCBlbGVtLmhhc0F0dHIoJ2NvbnRlbnRFZGl0YWJsZScpXG4gICAgPyAndGV4dCdcbiAgICA6ICd2YWx1ZSdcbikpXG4gIC5jYXNlKCdpbnB1dCcsICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgcmV0dXJuICdmaWxlcyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGUgPT09ICdyYWRpbycgfHwgdHlwZSA9PT0gJ2NoZWNrYm94J1xuICAgICAgPyAnY2hlY2tlZCdcbiAgICAgIDogJ3ZhbHVlJztcbiAgfSk7XG5jb25zdCBzZXRWYWx1ZVN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICh2YWx1ZSkgPT4gdmFsdWUpXG4gIC5jYXNlKCdpbnB1dCcsICh2YWx1ZSwgdHlwZSwgaW5wdXRWYWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlICE9PSAncmFkaW8nICYmIHR5cGUgIT09ICdjaGVja2JveCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBpbnB1dFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGlucHV0VmFsdWUpICE9PSAtMTtcbiAgfSk7XG5jb25zdCBnZXRWYWx1ZVN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICh2YWx1ZSkgPT4gdmFsdWUpXG4gIC5jYXNlKCdpbnB1dCcsICh2YWx1ZSwgdHlwZSwgaW5wdXRWYWx1ZSwgdmFsdWVzKSA9PiB7XG4gICAgaWYgKHR5cGUgIT09ICdyYWRpbycgJiYgdHlwZSAhPT0gJ2NoZWNrYm94Jykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAncmFkaW8nKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBpbnB1dFZhbHVlXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5pbmRleE9mKGlucHV0VmFsdWUpID09PSAtMVxuICAgICAgICAgID8gbmV3IEFycih2YWx1ZXMpLmNvbmNhdChpbnB1dFZhbHVlKS4kXG4gICAgICAgICAgOiB2YWx1ZXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbaW5wdXRWYWx1ZV07XG4gICAgfVxuXG4gICAgaWYgKCFpc0FycmF5KHZhbHVlcykpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHZhbHVlcy5pbmRleE9mKGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4ubmV3IEFycih2YWx1ZXMpLnNsaWNlKDAsIGluZGV4KS4kLFxuICAgICAgICAuLi5uZXcgQXJyKHZhbHVlcykuc2xpY2UoaW5kZXggKyAxKS4kXG4gICAgICBdO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuY29uc3QgbGlzdGVuZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAnaW5wdXQnKVxuICAuY2FzZSgnc2VsZWN0JywgJ2NoYW5nZScpXG4gIC5jYXNlKCdpbnB1dCcsICh0eXBlKSA9PiAoXG4gICAgdHlwZSA9PT0gJ3JhZGlvJ1xuICAgIHx8IHR5cGUgPT09ICdjaGVja2JveCdcbiAgICB8fCB0eXBlID09PSAnY29sb3InXG4gICAgfHwgdHlwZSA9PT0gJ2ZpbGUnXG4gICAgICA/ICdjaGFuZ2UnXG4gICAgICA6ICdpbnB1dCdcbiAgKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRWYWx1ZShNaXhpbikge1xuICBjbGFzcyBEVmFsdWUgZXh0ZW5kcyBNaXhpbiB7XG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICBzdXBlcihvcHRzKTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICAkJDoge1xuICAgICAgICAgIF92YWx1ZSxcbiAgICAgICAgICBwYXJlbnRcbiAgICAgICAgfSxcbiAgICAgICAgZWxlbVxuICAgICAgfSA9IHRoaXM7XG4gICAgICBjb25zdCB0eXBlID0gZWxlbS5wcm9wKCd0eXBlJyk7XG5cbiAgICAgIHRoaXMucHJvcCA9IHByb3BTd2l0Y2hlcihlbGVtLm5hbWUsIFt0eXBlLCBlbGVtXSk7XG4gICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgICBjb25zdCBpbml0aWFsU2NvcGVWYWx1ZSA9IHBhcmVudC4kJC5ldmFsdWF0ZShgeyR7IF92YWx1ZSB9fWAsIChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFByb3AobmV3VmFsdWUpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgICBjb25zdCBpbml0aWFsRWxlbVZhbHVlID0gdGhpcy5nZXRQcm9wKGluaXRpYWxTY29wZVZhbHVlKTtcblxuICAgICAgaWYgKGlzTmlsKGluaXRpYWxTY29wZVZhbHVlKSB8fCB0eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIHBhcmVudFtfdmFsdWVdID0gaW5pdGlhbEVsZW1WYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0UHJvcChpbml0aWFsU2NvcGVWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW0ub24obGlzdGVuZXJTd2l0Y2hlcihlbGVtLm5hbWUsIFt0eXBlXSksIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZWxlbS4kWzBdKSB7XG4gICAgICAgICAgcGFyZW50W192YWx1ZV0gPSB0aGlzLmdldFByb3AocGFyZW50W192YWx1ZV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRQcm9wKHZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIHByb3AsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBpZiAocHJvcCA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGVsZW0udGV4dCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnByb3AocHJvcCwgc2V0VmFsdWVTd2l0Y2hlcihlbGVtLm5hbWUsIFt2YWx1ZSwgdHlwZSwgZWxlbS4kWzBdLnZhbHVlXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldFByb3AodmFsdWVzKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIHByb3AsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICByZXR1cm4gcHJvcCA9PT0gJ3RleHQnXG4gICAgICAgID8gZWxlbS50ZXh0KClcbiAgICAgICAgOiBnZXRWYWx1ZVN3aXRjaGVyKGVsZW0ubmFtZSwgW2VsZW0ucHJvcChwcm9wKSwgdHlwZSwgZWxlbS4kWzBdLnZhbHVlLCB2YWx1ZXNdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLXZhbHVlJyxcbiAgICB2YWx1ZTogRFZhbHVlXG4gIH07XG59XG4iLCIvKipcclxuICogQG1vZHVsZSBCbG9ja1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvY2sgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi9BcnInO1xyXG5pbXBvcnQgeyBmaW5kLCBkb2MsIEVsZW0gfSBmcm9tICcuL0VsZW0nO1xyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQge1xyXG4gIGl0ZXJhdGUsIGRlZmluZVByb3BlcnRpZXMsIHZhbGlkYXRlLFxyXG4gIGlzRnVuY3Rpb24sIGlzTmlsLCBpc1VuZGVmaW5lZFxyXG59IGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCAqIGFzIEJsb2NrcyBmcm9tICcuL2Jsb2Nrcyc7XHJcbmltcG9ydCAqIGFzIE1peGlucyBmcm9tICcuL21peGlucyc7XHJcbmltcG9ydCB7IGh0bWxBbGxvd2VkVGFnU3ltYm9scywgaHRtbEFsbG93ZWRBdHRyU3ltYm9scyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IG1hcmt1cFRvSlNPTiBmcm9tICcuL2hlbHBlcnMvbWFya3VwVG9KU09OJztcclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgV2F0Y2hlclxyXG4gKiBAcGFyYW0geyp9IG5ld1ZhbHVlIC0gTmV3IHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IG9sZFZhbHVlIC0gT2xkIHZhbHVlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgV3JhcHBlclxyXG4gKiBAcGFyYW0ge0Jsb2NrfSBCbG9jayBjbGFzcyB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7QmxvY2t9IE5ldyBCbG9jayBjbGFzcy5cclxuICovXHJcblxyXG5jb25zdCBibG9ja3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5jb25zdCBtaXhpbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5jb25zdCBpc1Byb3RvdHlwZU9mID0ge30uaXNQcm90b3R5cGVPZjtcclxuY29uc3QgdGFnTmFtZSA9IG5ldyBSZWdFeHAoYF4keyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgfSRgLCAnaScpO1xyXG5jb25zdCBhdHRyTmFtZSA9IG5ldyBSZWdFeHAoYF4keyBodG1sQWxsb3dlZEF0dHJTeW1ib2xzIH0kYCk7XHJcbmNvbnN0IGV4cHJlc3Npb25SZWdFeHAgPSAvXlxce1tcXHNcXFNdK1xcfSQvO1xyXG5jb25zdCB7IGRvY3VtZW50IH0gPSBnbG9iYWw7XHJcbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxubGV0IG9uRXZhbEVycm9yO1xyXG5sZXQgZXZhbE1vZGU7XHJcbmxldCBnZXR0aW5nO1xyXG5sZXQgY2hhbmdlZDtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgQmxvY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIEVsZW1lbnQgb3B0aW9ucy5cclxuICogQHJldHVybnMge0Jsb2NrfSBJbnN0YW5jZSBvZiBCbG9jay5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBkeW5hbWljIHRlbXBsYXRpbmcuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGltcG9ydCB7IEQsIEJsb2NrLCBpbml0QXBwLCByZWdpc3RlckJsb2NrIH0gZnJvbSAnZHdheW5lJztcclxuICpcclxuICogY2xhc3MgQXBwIGV4dGVuZHMgQmxvY2sge1xyXG4gKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8SGVsbG8gdGV4dD1cInt0ZXh0fVwiLz4nO1xyXG4gKlxyXG4gKiAgIGNvbnN0cnVjdG9yKGFyZ3MsIGNoaWxkcmVuKSB7XHJcbiAqICAgICBzdXBlcihhcmdzLCBjaGlsZHJlbik7XHJcbiAqXHJcbiAqICAgICB0aGlzLnRleHQgPSAnd29ybGQgKDApJztcclxuICogICAgIHRoaXMudGltZXMgPSAwO1xyXG4gKlxyXG4gKiAgICAgdGhpcy5zZXRJbnRlcnZhbCgpO1xyXG4gKiAgIH1cclxuICpcclxuICogICBzZXRJbnRlcnZhbCgpIHtcclxuICogICAgIEQoMTAwMCkuaW50ZXJ2YWwoKCkgPT4ge1xyXG4gKiAgICAgICB0aGlzLnRleHQgPSBgd29ybGQgKCR7ICsrdGhpcy50aW1lcyB9KWA7XHJcbiAqICAgICB9KTtcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogY2xhc3MgSGVsbG8gZXh0ZW5kcyBCbG9jayB7XHJcbiAqICAgc3RhdGljIHRlbXBsYXRlID0gJ0hlbGxvLCA8ZC10ZXh0IHZhbHVlPVwie2FyZ3MudGV4dH1cIi8+ISc7XHJcbiAqIH1cclxuICpcclxuICogQmxvY2suQXBwID0gQXBwO1xyXG4gKiBCbG9jay5IZWxsbyA9IEhlbGxvO1xyXG4gKlxyXG4gKiBpbml0QXBwKCk7XHJcbiAqL1xyXG5jbGFzcyBCbG9jayB7XHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7Qm9vbGVhbn0gW0Jsb2NrLmNvbGxhcHNlV2hpdGVTcGFjZSA9IHRydWVdXHJcbiAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiB0aGUgd2hpdGVzcGFjZSBiZXR3ZWVuIGh0bWwgZWxlbWVudHMgYW5kXHJcbiAgICogaW4gdGhlIHN0YXJ0IGFuZCB0aGUgZW5kIGluc2lkZSB0aGUgdGFnIHNob3VsZCBiZSBvbWl0dGVkIGR1cmluZyBwYXJzaW5nLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBjb2xsYXBzZVdoaXRlU3BhY2UgPSB0cnVlO1xyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtPYmplY3R9IFtCbG9jay5kZWZhdWx0QXJncyA9IHRydWVdXHJcbiAgICogQHR5cGUge09iamVjdH1cclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIFByb3ZpZGUgZGVmYXVsdCBhcmdzIGlmIHRoYXQgYXJncyBtYXkgbm90IGFwcGVhciBpbiB0aGUgYXJnc1xyXG4gICAqICh1c2luZyBcImQtcmVzdFwiKSBidXQgeW91IHVzZSB0aGVtIGluIHlvdXIgdGVtcGxhdGUgYW5kIHdhbnQgdGhlbSB0byBiZSB3YXRjaGVkLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBkZWZhdWx0QXJncyA9IHt9O1xyXG5cclxuICBzdGF0aWMgZ2V0IG9uRXZhbEVycm9yKCkge1xyXG4gICAgcmV0dXJuIG9uRXZhbEVycm9yO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldCBvbkV2YWxFcnJvcihsaXN0ZW5lcikge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgIG9uRXZhbEVycm9yID0gbGlzdGVuZXI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvbkV2YWxFcnJvciA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrLndyYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtXcmFwcGVyfSBmdW5jIC0gRnVuY3Rpb24gdGhhdCByZXR1cm5zIHdyYXBwZWQgYmxvY2suXHJcbiAgICogQHJldHVybnMge0Jsb2NrfSBOZXcgYmxvY2suXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd3JhcHBpbmcgYmxvY2tzIGludG8gYW5vdGhlciBibG9ja3MuXHJcbiAgICogSXQgaXMgY29uc2lkZXJlZCBiZXN0IHByYWN0aWNlIHRvIGp1c3QgZXh0ZW5kcyB0aGUgb2xkIGJsb2NrIHdpdGggYSBuZXcgb25lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXY+MTIzPC9kaXY+JztcclxuICAgKiB9XHJcbiAgICpcclxuICAgKiBNeUJsb2NrLndyYXAoKEJsb2NrKSA9PiB7XHJcbiAgICogICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICAgIHN0YXRpYyB0ZW1wbGF0ZSA9IGA8c2VjdGlvbiBjbGFzcz1cIndyYXBwZXJcIj4keyBCbG9jay50ZW1wbGF0ZSB9PC9zZWN0aW9uPmA7XHJcbiAgICpcclxuICAgKiAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICogICAgICAgdGhpcy5hZGRpdGlvbmFsVmFyID0gJ2FkZGl0aW9uYWwnO1xyXG4gICAqICAgICB9XHJcbiAgICogICB9O1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHN0YXRpYyB3cmFwKGZ1bmMpIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddKTtcclxuXHJcbiAgICByZXR1cm4gZnVuYyh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgYXJnczogb3JpZ2luYWxBcmdzLFxyXG4gICAgICBjaGlsZHJlbixcclxuICAgICAgYmxvY2ssXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgIHBhcmVudFNjb3BlXHJcbiAgICB9ID0gb3B0cztcclxuICAgIGNvbnN0IHdhdGNoZXJzVG9SZW1vdmUgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbWVtYmVyIHtCbG9ja30gQmxvY2sjJFxyXG4gICAgICAgKiBAdHlwZSB7QmxvY2t9XHJcbiAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMuXHJcbiAgICAgICAqL1xyXG4gICAgICAkOiB7XHJcbiAgICAgICAgdmFsdWU6IHRoaXNcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IEJsb2NrIyQkXHJcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGFyZ3MgLSBQcml2YXRlIGFyZ3Mgc2NvcGUuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7QXJyfSBjaGlsZHJlbiAtIENoaWxkIGJsb2Nrcy5cclxuICAgICAgICogQHByb3BlcnR5IHtBcnJ9IG1peGlucyAtIENoaWxkIG1peGlucy5cclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGVsZW1zIC0gRWxlbWVudHMgY29ubmVjdGVkIHRvIHRoZSBibG9jay5cclxuICAgICAgICogQHByb3BlcnR5IHtFbGVtfSBlbGVtcy5wYXJlbnQgLSBQYXJlbnQgZWxlbWVudC5cclxuICAgICAgICogQHByb3BlcnR5IHtFbGVtfSBlbGVtcy5zdGFydCAtIFN0YXJ0IGNvbW1lbnQgYmxvY2suXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMuZW5kIC0gRW5kIGNvbW1lbnQgYmxvY2suXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMuY29udGVudCAtIENvbnRlbnQgZWxlbWVudHMuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGV2YWx1YXRlIC0gRXZhbHVhdGUgZnVuY3Rpb24uXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnbG9iYWwgLSBQcml2YXRlIGdsb2JhbCBzY29wZS5cclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGxvY2FscyAtIFByaXZhdGUgbG9jYWxzIHNjb3BlLlxyXG4gICAgICAgKiBAcHJvcGVydHkge0Fycn0gd2F0Y2hlcnNUb1JlbW92ZSAtIFdhdGNoZXJzIHRvIHJlbW92ZSBiZWZvcmUgcmVtb3ZpbmcgZWxlbWVudC5cclxuICAgICAgICovXHJcbiAgICAgICQkOiB7XHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudFNjb3BlLFxyXG4gICAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgICBjaGlsZHJlbjogbmV3IEFycihbXSksXHJcbiAgICAgICAgICBtaXhpbnM6IG5ldyBBcnIoW10pLFxyXG4gICAgICAgICAgQmxvY2s6IGJsb2NrLFxyXG4gICAgICAgICAgZWxlbXM6IHtcclxuICAgICAgICAgICAgc3RhcnQ6IGRvYy5jcmVhdGVDb21tZW50KGAgJHsgbmFtZSB9OiBzdGFydCBgKSxcclxuICAgICAgICAgICAgZW5kOiBkb2MuY3JlYXRlQ29tbWVudChgICR7IG5hbWUgfTogZW5kIGApLFxyXG4gICAgICAgICAgICBjb250ZW50OiBuZXcgRWxlbSgpLFxyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlLFxyXG4gICAgICAgICAgZXZhbHVhdGU6IChleHByZXNzaW9uLCBvbkNoYW5nZSwgaW5zdGFuY2UsIGZvckRFbGVtZW50cywgZm9yREl0ZW0sIGZvckRFYWNoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXhwcmVzc2lvblJlZ0V4cC50ZXN0KGV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3Npb24gfHwgdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yREVsZW1lbnRzID0gISFmb3JERWxlbWVudHM7XHJcbiAgICAgICAgICAgIGZvckRJdGVtID0gISFmb3JESXRlbTtcclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZSgvXlxce3xcXH0kL2csICcnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gKG5hbWUgPT09ICcjZC1pdGVtJyAmJiAhZm9yREl0ZW0pIHx8IGZvckRFYWNoXHJcbiAgICAgICAgICAgICAgPyAoZm9yREVhY2ggfHwgdGhpcykuJCQuc2NvcGVcclxuICAgICAgICAgICAgICA6IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvKiBlc2xpbnQgbm8tbmV3LWZ1bmM6IDAgKi9cclxuICAgICAgICAgICAgY29uc3QgeyB3YXRjaGVyc1RvUmVtb3ZlIH0gPSBpbnN0YW5jZSA/IGluc3RhbmNlLiQkIDoge307XHJcbiAgICAgICAgICAgIGNvbnN0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oXHJcbiAgICAgICAgICAgICAgJycsXHJcbiAgICAgICAgICAgICAgJ3dpdGgoZG9jdW1lbnQuRHdheW5lU3RvcmUpeyQkLmV4cHI9ZXZhbChcIiQkLmV4cHI9XCIrJCQuZXhwcik7cmV0dXJuICQkLmV4cHJ9J1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGV2YWx1YXRlLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBldmFsdWF0ZSgpIHtcclxuICAgICAgICAgICAgICBsZXQgcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGV2YWxNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGdldHRpbmcgPSBuZXcgQXJyKFtdKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHN0b3JlLiQkLmV4cHIgPSBleHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LkR3YXluZVN0b3JlID0gc3RvcmU7XHJcblxyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jKCk7XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob25FdmFsRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgb25FdmFsRXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWxXYXRjaGVycyA9IG5ldyBBcnIoW10pO1xyXG5cclxuICAgICAgICAgICAgICAgIGdldHRpbmcuZm9yRWFjaCgod2F0Y2hlcnMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3Qgd2F0Y2hlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSZXN1bHQgPSBldmFsdWF0ZS5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3UmVzdWx0ICE9PSByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKG5ld1Jlc3VsdCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdGNoZXJCbG9jayA9IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JERWxlbWVudHMsXHJcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcixcclxuICAgICAgICAgICAgICAgICAgICB3YXRjaGVyc1xyXG4gICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgd2F0Y2hlci5vblJlbW92ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFdhdGNoZXJzLmZvckVhY2goKHdhdGNoZXJCbG9jaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgfSA9IHdhdGNoZXJCbG9jaztcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4MSA9IHdhdGNoZXJzVG9SZW1vdmUuaW5kZXhPZih3YXRjaGVyQmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXgyID0gd2F0Y2hlcnMuaW5kZXhPZih3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgxICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlLnNwbGljZShpbmRleDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleDIgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoZXJzLnNwbGljZShpbmRleDIsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgbG9jYWxXYXRjaGVycy5wdXNoKHdhdGNoZXJCbG9jayk7XHJcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUucHVzaCh3YXRjaGVyQmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICB3YXRjaGVycy5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZhbE1vZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGdldHRpbmcgPSBuZXcgQXJyKFtdKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHN0b3JlLiQkLmV4cHIgPSBudWxsO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LkR3YXluZVN0b3JlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgYXJncyA9IG5ldyBTdXBlcihvcmlnaW5hbEFyZ3MpLm1hcCgodmFsdWUsIGFyZykgPT4ge1xyXG4gICAgICBpZiAobmFtZSA9PT0gJ2QtZWFjaCcgJiYgKFxyXG4gICAgICAgIGFyZyA9PT0gJ2l0ZW0nXHJcbiAgICAgICAgfHwgYXJnID09PSAnaW5kZXgnXHJcbiAgICAgICAgfHwgYXJnID09PSAndWlkJ1xyXG4gICAgICApKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBmb3JERWxlbWVudHMgPSBuYW1lID09PSAnZC1lbGVtZW50cycgJiYgYXJnID09PSAndmFsdWUnO1xyXG5cclxuICAgICAgcmV0dXJuIHBhcmVudFNjb3BlLiQkLmV2YWx1YXRlKHZhbHVlLCAodmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLmFyZ3NbYXJnXSA9IHZhbHVlO1xyXG4gICAgICB9LCB0aGlzLCBmb3JERWxlbWVudHMsIGZvckRFbGVtZW50cyAmJiBwYXJlbnRCbG9jay4kJC5uYW1lID09PSAnI2QtaXRlbScpO1xyXG4gICAgfSkuJDtcclxuXHJcbiAgICB0aGlzLmFyZ3MgPSBhcmdzO1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuIHx8IG5ldyBBcnIoW10pO1xyXG4gICAgdGhpcy5nbG9iYWwgPSBPYmplY3QuY3JlYXRlKFxyXG4gICAgICBwYXJlbnRTY29wZVxyXG4gICAgICAgID8gT2JqZWN0LmNyZWF0ZShwYXJlbnRTY29wZS5nbG9iYWwpXHJcbiAgICAgICAgOiBudWxsXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuJCQuZWxlbXMuc3RhcnQuJFswXS5Ed2F5bmVCbG9jayA9IHRoaXM7XHJcbiAgICB0aGlzLiQkLmVsZW1zLmVuZC4kWzBdLkR3YXluZUJsb2NrID0gdGhpcztcclxuXHJcbiAgICBpZiAocGFyZW50QmxvY2spIHtcclxuICAgICAgcGFyZW50QmxvY2suJCQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjYWZ0ZXJDb25zdHJ1Y3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIElzIGNhbGxlZCBhZnRlciBibG9jayBjb25zdHJ1Y3Rpb24gKGluY2x1ZGluZyBhbGwgc2NvcGVzKVxyXG4gICAqIGJ1dCBiZWZvcmUgcmVuZGVyaW5nIHRoZSBibG9jayBhbmQgaXRzIGNoaWxkcmVuLlxyXG4gICAqL1xyXG4gIGFmdGVyQ29uc3RydWN0KCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayNhZnRlclJlbmRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZGVzY3JpcHRpb24gSXMgY2FsbGVkIGFmdGVyIGJsb2NrIGhhcyBiZWVuIHJlbmRlcmVkLlxyXG4gICAqL1xyXG4gIGFmdGVyUmVuZGVyKCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayNhZnRlclJlbmRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZGVzY3JpcHRpb24gSXMgY2FsbGVkIGJlZm9yZSB0aGUgYmxvY2sgcmVtb3ZhbC5cclxuICAgKi9cclxuICBiZWZvcmVSZW1vdmUoKSB7fVxyXG5cclxuICBldmFsdWF0ZUFuZFdhdGNoKGV4cHJlc3Npb24sIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kJC5wYXJlbnQuJCQuZXZhbHVhdGUoZXhwcmVzc2lvbiwgY2FsbGJhY2ssIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZXZhbHVhdGVPbmNlKGV4cHJlc3Npb24pIHtcclxuICAgIHJldHVybiB0aGlzLiQkLnBhcmVudC4kJC5ldmFsdWF0ZShleHByZXNzaW9uKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjcmVtb3ZlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm90IGZvcmNpbmcgdGhlIGJsb2NrIHRvIGJlIHJlbW92ZWQuIENhbGxzXHJcbiAgICogcmVtb3ZlIG1ldGhvZCBmb3IgYWxsIG9mIGl0cyBjaGlsZCBibG9ja3MgYW5kIGNhbGxzIGJlZm9yZVJlbW92ZSBmdW5jdGlvbi5cclxuICAgKi9cclxuICByZW1vdmUoaXNQYXJlbnRTaWduYWwpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgIGNoaWxkcmVuLFxyXG4gICAgICBtaXhpbnMsXHJcbiAgICAgIGVsZW1zOiB7XHJcbiAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgY29udGVudCxcclxuICAgICAgICBlbmRcclxuICAgICAgfSxcclxuICAgICAgd2F0Y2hlcnNUb1JlbW92ZVxyXG4gICAgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgcmVtb3ZlV2F0Y2hlcnMod2F0Y2hlcnNUb1JlbW92ZSk7XHJcblxyXG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgY2hpbGQucmVtb3ZlKHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWl4aW5zLmZvckVhY2goKG1peGluKSA9PiB7XHJcbiAgICAgIG1peGluLnJlbW92ZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuYmVmb3JlUmVtb3ZlKCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgZXJyb3IgaW4gYmVmb3JlUmVtb3ZlOicsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1BhcmVudFNpZ25hbCAmJiBwYXJlbnRCbG9jaykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHBhcmVudEJsb2NrLiQkLmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XHJcblxyXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgcGFyZW50QmxvY2suJCQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG5ldyBFbGVtKFtcclxuICAgICAgc3RhcnQsXHJcbiAgICAgIGNvbnRlbnQsXHJcbiAgICAgIGVuZFxyXG4gICAgXSkucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI3dhdGNoXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBbYXJnc10gLSBWYXJzIHRvIHdhdGNoIChhcmdzLCBnbG9iYWwgb3IgbG9jYWwpLlxyXG4gICAqIEBwYXJhbSB7V2F0Y2hlcn0gd2F0Y2hlciAtIENhbGxlZCB3aGVuIHdhdGNoZWQgdmFycyBhcmUgY2hhbmdlZC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB3YXRjaGluZyBmb3IgdmFycy4gSWYgbm8gdmFycyBwYXNzZWQgaW4gYXJndW1lbnRzXHJcbiAgICogYWxsIHZhcnMgYXJlIHRvIGJlIHdhdGNoZWQuIE90aGVyd2lzZSBzcGVjaWZpZWQgdmFycyB3aWxsIGJlIHdhdGNoZWQuXHJcbiAgICogV2F0Y2hlcnMgc2hvdWxkIG5vdCBiZSBwdXQgaW5zaWRlIHRoZSBjb25zdHJ1Y3Rvci4gSXQgaXMgY29uc2lkZXJlZCBiZXN0XHJcbiAgICogcHJhY3RpY2UgdG8gZG8gaXQgaW5zaWRlIHRoZSB7QGxpbmsgQmxvY2sjYWZ0ZXJDb25zdHJ1Y3R9IG1ldGhvZC5cclxuICAgKiBOb3RlIHRoYXQgdGhlc2UgZXhwcmVzc2lvbnMgKHZhcnMsIGkuZS4gXCJhcmdzLmFyZ1wiKSBhcmUgbm90IHRvIGJlXHJcbiAgICogZXZhbHVhdGVkIHNvIHlvdSBjYW5ub3QgcHV0IHRoZXJlIHRoaW5ncyBsaWtlIFwiYVtiXVwiIG9yIGFueSBqcyBjb2RlLFxyXG4gICAqIG9ubHkgZXhwcmVzc2lvbnMgbGlrZSBcImFcIiwgXCJiXCIsIFwiYXJncy5hXCIsIFwiYXJncy5iXCIgYW5kIFwiZ2xvYmFsLmFcIiwgXCJnbG9iYWwuYlwiLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXYgLz4nO1xyXG4gICAqXHJcbiAgICogICBhZnRlckNvbnN0cnVjdCgpIHtcclxuICAgKiAgICAgdGhpcy53YXRjaCgnYScsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaCgnYXJncy5hJywgJ2dsb2JhbC5yJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoKCgpID0+IHt9KTtcclxuICAgKiAgIH1cclxuICAgKiB9XHJcbiAgICovXHJcbiAgd2F0Y2goKSB7XHJcbiAgICBjb25zdCB3YXRjaGVyID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24od2F0Y2hlcikpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGZvciAoY29uc3QgZ2xvYmFsIGluIHRoaXMuJCQuZ2xvYmFsKSB7XHJcbiAgICAgICAgLyogZXNsaW50IGd1YXJkLWZvci1pbjogMCAqL1xyXG4gICAgICAgIHRoaXMuJCQuZ2xvYmFsW2dsb2JhbF0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRlKHRoaXMuJCQuYXJncywgKHsgd2F0Y2hlcnMgfSkgPT4ge1xyXG4gICAgICAgIHdhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQkLmxvY2FscywgKHsgd2F0Y2hlcnMgfSkgPT4ge1xyXG4gICAgICAgIHdhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0ZShhcmd1bWVudHMsICh2YXJpYWJsZSkgPT4ge1xyXG4gICAgICBpZiAodmFyaWFibGUgPT09IHdhdGNoZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhcmlhYmxlID0gYCR7IHZhcmlhYmxlIH1gO1xyXG5cclxuICAgICAgaWYgKC9eYXJnc1xcLi8udGVzdCh2YXJpYWJsZSkpIHtcclxuICAgICAgICB2YXJpYWJsZSA9IHZhcmlhYmxlLnJlcGxhY2UoL15hcmdzXFwuLywgJycpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuJCQuYXJnc1t2YXJpYWJsZV0pIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJCQuYXJnc1t2YXJpYWJsZV0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgvXmdsb2JhbFxcLi8udGVzdCh2YXJpYWJsZSkpIHtcclxuICAgICAgICB2YXJpYWJsZSA9IHZhcmlhYmxlLnJlcGxhY2UoL15nbG9iYWxcXC4vLCAnJyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy4kJC5nbG9iYWxbdmFyaWFibGVdKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiQkLmdsb2JhbFt2YXJpYWJsZV0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy4kJC5sb2NhbHNbdmFyaWFibGVdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkLmxvY2Fsc1t2YXJpYWJsZV0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI3dhdGNoQXJnc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gW2FyZ3NdIC0gQXJncyB0byB3YXRjaC5cclxuICAgKiBAcGFyYW0ge1dhdGNoZXJ9IHdhdGNoZXIgLSBDYWxsZWQgd2hlbiB3YXRjaGVkIGFyZ3MgYXJlIGNoYW5nZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIGFyZ3MuIElmIG5vIGFyZ3MgcGFzc2VkIGluIGFyZ3VtZW50c1xyXG4gICAqIGFsbCBhcmdzIGFyZSB0byBiZSB3YXRjaGVkLiBPdGhlcndpc2Ugc3BlY2lmaWVkIGFyZ3Mgd2lsbCBiZSB3YXRjaGVkLlxyXG4gICAqIFdhdGNoZXJzIHNob3VsZCBub3QgYmUgcHV0IGluc2lkZSB0aGUgY29uc3RydWN0b3IuIEl0IGlzIGNvbnNpZGVyZWQgYmVzdFxyXG4gICAqIHByYWN0aWNlIHRvIGRvIGl0IGluc2lkZSB0aGUge0BsaW5rIEJsb2NrI2FmdGVyQ29uc3RydWN0fSBtZXRob2QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNsYXNzIE15QmxvY2sgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICBzdGF0aWMgdGVtcGxhdGUgPSAnPGRpdiAvPic7XHJcbiAgICpcclxuICAgKiAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAqICAgICB0aGlzLndhdGNoQXJncygnYScsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaEFyZ3MoJ2EnLCAnYicsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaEFyZ3MoKCkgPT4ge30pO1xyXG4gICAqICAgfVxyXG4gICAqIH1cclxuICAgKi9cclxuICB3YXRjaEFyZ3MoKSB7XHJcbiAgICBjb25zdCB3YXRjaGVyID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24od2F0Y2hlcikpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCQuYXJncywgKHsgd2F0Y2hlcnMgfSkgPT4ge1xyXG4gICAgICAgIHdhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0ZShhcmd1bWVudHMsIChhcmcpID0+IHtcclxuICAgICAgaWYgKGFyZyA9PT0gd2F0Y2hlcikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLiQkLmFyZ3NbYXJnXSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kJC5hcmdzW2FyZ10ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI3dhdGNoR2xvYmFsXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBbZ2xvYmFsc10gLSBHbG9iYWxzIHRvIHdhdGNoLlxyXG4gICAqIEBwYXJhbSB7V2F0Y2hlcn0gd2F0Y2hlciAtIENhbGxlZCB3aGVuIHdhdGNoZWQgZ2xvYmFscyBhcmUgY2hhbmdlZC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB3YXRjaGluZyBmb3IgZ2xvYmFscy4gSWYgbm8gZ2xvYmFscyBwYXNzZWQgaW4gYXJndW1lbnRzXHJcbiAgICogYWxsIGdsb2JhbHMgYXJlIHRvIGJlIHdhdGNoZWQuIE90aGVyd2lzZSBzcGVjaWZpZWQgZ2xvYmFscyB3aWxsIGJlIHdhdGNoZWQuXHJcbiAgICogV2F0Y2hlcnMgc2hvdWxkIG5vdCBiZSBwdXQgaW5zaWRlIHRoZSBjb25zdHJ1Y3Rvci4gSXQgaXMgY29uc2lkZXJlZCBiZXN0XHJcbiAgICogcHJhY3RpY2UgdG8gZG8gaXQgaW5zaWRlIHRoZSB7QGxpbmsgQmxvY2sjYWZ0ZXJDb25zdHJ1Y3R9IG1ldGhvZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2xhc3MgTXlCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2IC8+JztcclxuICAgKlxyXG4gICAqICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICogICAgIHRoaXMud2F0Y2hHbG9iYWwoJ2EnLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hHbG9iYWwoJ2EnLCAnYicsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaEdsb2JhbCgoKSA9PiB7fSk7XHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqL1xyXG4gIHdhdGNoR2xvYmFscygpIHtcclxuICAgIGNvbnN0IHdhdGNoZXIgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIGlmICghaXNGdW5jdGlvbih3YXRjaGVyKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgZm9yIChjb25zdCBnbG9iYWwgaW4gdGhpcy4kJC5nbG9iYWwpIHtcclxuICAgICAgICAvKiBlc2xpbnQgZ3VhcmQtZm9yLWluOiAwICovXHJcbiAgICAgICAgdGhpcy4kJC5nbG9iYWxbZ2xvYmFsXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGdsb2JhbCkgPT4ge1xyXG4gICAgICBpZiAoZ2xvYmFsID09PSB3YXRjaGVyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMuJCQuZ2xvYmFsW2dsb2JhbF0pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuJCQuZ2xvYmFsW2dsb2JhbF0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI3dhdGNoTG9jYWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBbbG9jYWxzXSAtIExvY2FscyB0byB3YXRjaC5cclxuICAgKiBAcGFyYW0ge1dhdGNoZXJ9IHdhdGNoZXIgLSBDYWxsZWQgd2hlbiB3YXRjaGVkIGxvY2FscyBhcmUgY2hhbmdlZC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB3YXRjaGluZyBmb3IgbG9jYWxzLiBJZiBubyBsb2NhbHMgcGFzc2VkIGluIGFyZ3VtZW50c1xyXG4gICAqIGFsbCBsb2NhbHMgYXJlIHRvIGJlIHdhdGNoZWQuIE90aGVyd2lzZSBzcGVjaWZpZWQgbG9jYWxzIHdpbGwgYmUgd2F0Y2hlZC5cclxuICAgKiBXYXRjaGVycyBzaG91bGQgbm90IGJlIHB1dCBpbnNpZGUgdGhlIGNvbnN0cnVjdG9yLiBJdCBpcyBjb25zaWRlcmVkIGJlc3RcclxuICAgKiBwcmFjdGljZSB0byBkbyBpdCBpbnNpZGUgdGhlIHtAbGluayBCbG9jayNhZnRlckNvbnN0cnVjdH0gbWV0aG9kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXYgLz4nO1xyXG4gICAqXHJcbiAgICogICBhZnRlckNvbnN0cnVjdCgpIHtcclxuICAgKiAgICAgdGhpcy53YXRjaExvY2FscygnYScsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaExvY2FscygnYScsICdiJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoTG9jYWxzKCgpID0+IHt9KTtcclxuICAgKiAgIH1cclxuICAgKiB9XHJcbiAgICovXHJcbiAgd2F0Y2hMb2NhbHMoKSB7XHJcbiAgICBjb25zdCB3YXRjaGVyID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24od2F0Y2hlcikpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCQubG9jYWxzLCAoeyB3YXRjaGVycyB9KSA9PiB7XHJcbiAgICAgICAgd2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGxvY2FsKSA9PiB7XHJcbiAgICAgIGlmIChsb2NhbCA9PT0gd2F0Y2hlcikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLiQkLmxvY2Fsc1tsb2NhbF0pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuJCQubG9jYWxzW2xvY2FsXS53YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbnJlZ2lzdGVyQnVpbHRJbnMoQmxvY2tzLCBCbG9jayk7XHJcblxyXG5jbGFzcyBNaXhpbiB7XHJcbiAgc3RhdGljIGV2YWx1YXRlID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgZWxlbSxcclxuICAgICAgbWF0Y2gsXHJcbiAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICBwYXJlbnRTY29wZVxyXG4gICAgfSA9IG9wdHM7XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xyXG4gICAgICAkJDoge1xyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICBfdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgcGFyZW50OiBwYXJlbnRTY29wZSxcclxuICAgICAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICAgICAgd2F0Y2hlcnNUb1JlbW92ZTogbmV3IEFycihbXSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMubWF0Y2ggPSBuZXcgQXJyKG1hdGNoKS5zbGljZSgxKS4kO1xyXG4gICAgdGhpcy5lbGVtID0gZWxlbTtcclxuXHJcbiAgICBpZiAobmV3IFN1cGVyKHRoaXMpLnByb3RvKCkuJC5jb25zdHJ1Y3Rvci5ldmFsdWF0ZSkge1xyXG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5ldmFsdWF0ZUFuZFdhdGNoKChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB0aGlzLmFmdGVyVXBkYXRlKG5ld1ZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmNhdWdodCBlcnJvciBpbiAkeyBuYW1lIH0jb25VcGRhdGU6YCwgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5hZnRlclVwZGF0ZSh0aGlzLnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFyZW50QmxvY2spIHtcclxuICAgICAgcGFyZW50QmxvY2suJCQubWl4aW5zLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhZnRlclVwZGF0ZSgpIHt9XHJcblxyXG4gIGJlZm9yZVJlbW92ZSgpIHt9XHJcblxyXG4gIGV2YWx1YXRlQW5kV2F0Y2goY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgX3ZhbHVlLFxyXG4gICAgICBwYXJlbnRcclxuICAgIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIHJldHVybiBwYXJlbnQuJCQuZXZhbHVhdGUoX3ZhbHVlLCBjYWxsYmFjaywgdGhpcyk7XHJcbiAgfVxyXG5cclxuICBldmFsdWF0ZU9uY2UoKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIF92YWx1ZSxcclxuICAgICAgcGFyZW50XHJcbiAgICB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICByZXR1cm4gcGFyZW50LiQkLmV2YWx1YXRlKF92YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE1peGluI3JlbW92ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvdCBmb3JjaW5nIHRoZSBtaXhpbiB0byBiZSByZW1vdmVkLlxyXG4gICAqL1xyXG4gIHJlbW92ZShpc1BhcmVudFNpZ25hbCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgd2F0Y2hlcnNUb1JlbW92ZVxyXG4gICAgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgcmVtb3ZlV2F0Y2hlcnMod2F0Y2hlcnNUb1JlbW92ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5iZWZvcmVSZW1vdmUoKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdVbmNhdWdodCBlcnJvciBpbiBiZWZvcmVSZW1vdmU6JywgZXJyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzUGFyZW50U2lnbmFsICYmIHBhcmVudEJsb2NrKSB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50QmxvY2suJCQubWl4aW5zLmluZGV4T2YodGhpcyk7XHJcblxyXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgcGFyZW50QmxvY2suJCQubWl4aW5zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbnJlZ2lzdGVyQnVpbHRJbnMoTWl4aW5zLCBNaXhpbik7XHJcblxyXG5mdW5jdGlvbiBpbml0QXBwKCkge1xyXG4gIGNvbnN0IHJvb3QgPSBmaW5kKCdkLXJvb3QnKS5maXJzdCgpO1xyXG5cclxuICBpZiAoIXJvb3QubGVuZ3RoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGQtcm9vdCBlbGVtZW50IGlzIGZvdW5kISAoaW5pdEFwcCknKTtcclxuICB9XHJcblxyXG4gIHJlZ2lzdGVyQmxvY2tzKEJsb2NrLCBibG9ja3MpO1xyXG5cclxuICBpdGVyYXRlKE1peGluLCAoTWl4aW4sIG5hbWUpID0+IHtcclxuICAgIGlmIChuYW1lID09PSAnZXZhbHVhdGUnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24oTWl4aW4pKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgbWl4aW4gaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKGluaXRBcHApYCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFhdHRyTmFtZS50ZXN0KG5hbWUpKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgTmFtZSBcIiR7IG5hbWUgfVwiIGlzIG5vdCBhbGxvd2VkIGZvciBtaXhpbnMgc28gdGhlIG1peGluIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKGluaXRBcHApYCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0luc3RhbmNlT2ZNaXhpbihNaXhpbikpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBUaGUgXCIkeyBuYW1lIH1cIiBtaXhpbiBkb2VzIG5vdCBleHRlbmQgTWl4aW4gYW5kIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKGluaXRBcHApYCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbWl4aW5zW25hbWVdID0gTWl4aW47XHJcblxyXG4gICAgZGVmaW5lUHJvcGVydGllcyhNaXhpbiwge1xyXG4gICAgICBfbWF0Y2g6IG5ldyBSZWdFeHAoYF4keyBuYW1lIH0oPzotKFtcXFxcc1xcXFxTXSspKT8kYClcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBibG9jayA9IHJvb3QuYXR0cignYmxvY2snKTtcclxuXHJcbiAgaWYgKCFibG9ja3NbYmxvY2tdKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIFwiJHsgYmxvY2sgfVwiIGJsb2NrIGlzIHJlZ2lzdGVyZWQhIChpbml0QXBwKWApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVwbGFjZW1lbnQgPSBkb2MuY3JlYXRlQ29tbWVudCgnIGQtcm9vdDogc3RhcnQgJyk7XHJcbiAgY29uc3QgcGFyZW50ID0gcm9vdC5wYXJlbnQoKTtcclxuXHJcbiAgcmVwbGFjZW1lbnQuYWRkKGRvYy5jcmVhdGVDb21tZW50KCcgZC1yb290OiBlbmQgJykpO1xyXG5cclxuICByb290LnJlcGxhY2UocmVwbGFjZW1lbnQpO1xyXG5cclxuICBjcmVhdGVCbG9jayh7XHJcbiAgICBub2RlOiB7XHJcbiAgICAgIG5hbWU6IGJsb2NrLFxyXG4gICAgICBhdHRyczoge30sXHJcbiAgICAgIGNoaWxkcmVuOiBuZXcgQXJyKFtdKVxyXG4gICAgfSxcclxuICAgIGFmdGVyOiByZXBsYWNlbWVudC5maXJzdCgpLFxyXG4gICAgcGFyZW50XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQmxvY2tzKEJsb2NrLCBibG9ja3MpIHtcclxuICBpdGVyYXRlKEJsb2NrLCAoQmxvY2ssIG5hbWUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgbmFtZSA9PT0gJ2NvbGxhcHNlV2hpdGVTcGFjZSdcclxuICAgICAgfHwgbmFtZSA9PT0gJ2RlZmF1bHRBcmdzJ1xyXG4gICAgICB8fCBuYW1lID09PSAndGVtcGxhdGUnXHJcbiAgICAgIHx8IG5hbWUgPT09ICd3cmFwJ1xyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24oQmxvY2spKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgYmxvY2sgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKGluaXRBcHApYCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0YWdOYW1lLnRlc3QobmFtZSkgJiYgbmFtZSAhPT0gJyNkLWl0ZW0nKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgTmFtZSBcIiR7IG5hbWUgfVwiIGlzIG5vdCBhbGxvd2VkIGZvciBibG9ja3Mgc28gdGhlIGJsb2NrIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKGluaXRBcHApYCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0luc3RhbmNlT2ZCbG9jayhCbG9jaykpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBUaGUgXCIkeyBuYW1lIH1cIiBibG9jayBkb2VzIG5vdCBleHRlbmQgQmxvY2sgYW5kIHdpbGwgbm90IGJlIHJlZ2lzdGVyZWQgKGluaXRBcHApYCk7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2hpbGRyZW4gPSBPYmplY3QuY3JlYXRlKGJsb2Nrcyk7XHJcblxyXG4gICAgYmxvY2tzW25hbWVdID0ge1xyXG4gICAgICBibG9jazogQmxvY2ssXHJcbiAgICAgIGh0bWw6IGRlZXBDbG9uZUNoaWxkcmVuKFxyXG4gICAgICAgIG1hcmt1cFRvSlNPTihcclxuICAgICAgICAgIGAkeyBCbG9jay50ZW1wbGF0ZSB8fCAnJyB9YCxcclxuICAgICAgICAgIEJsb2NrLmNvbGxhcHNlV2hpdGVTcGFjZVxyXG4gICAgICAgIClcclxuICAgICAgKSxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH07XHJcblxyXG4gICAgcmVnaXN0ZXJCbG9ja3MoQmxvY2ssIGNoaWxkcmVuKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVnaXN0ZXJCdWlsdElucyhzZXQsIHByb3RvKSB7XHJcbiAgaXRlcmF0ZShzZXQsIChyZWdpc3RlcikgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICB2YWx1ZVxyXG4gICAgfSA9IHJlZ2lzdGVyKHByb3RvLCBjcmVhdGVCbG9jayk7XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7XHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQmxvY2soeyBub2RlLCBhZnRlciwgcGFyZW50LCBwYXJlbnRCbG9jaywgcGFyZW50U2NvcGUgfSkge1xyXG4gIHBhcmVudFNjb3BlID0gKG5vZGUgJiYgbm9kZS5ibG9jaykgfHwgcGFyZW50U2NvcGU7XHJcblxyXG4gIGNvbnN0IG5hbWUgPSAobm9kZSAmJiBub2RlLm5hbWUpIHx8ICdVbmtub3duQmxvY2snO1xyXG4gIGNvbnN0IGFyZ3MgPSAobm9kZSAmJiBub2RlLmF0dHJzKSB8fCB7fTtcclxuICBjb25zdCBjaGlsZHJlbiA9IChub2RlICYmIG5vZGUuY2hpbGRyZW4pIHx8IG5ldyBBcnIoW10pO1xyXG4gIGNvbnN0IGVsZW0gPSBwYXJlbnQucHJvcCgnbmFtZXNwYWNlVVJJJykgPT09IHN2Z05TXHJcbiAgICA/IGRvYy5zdmcoKVxyXG4gICAgOiBuZXcgRWxlbShkb2MudGVtcGxhdGUoKS4kWzBdLmNvbnRlbnQpO1xyXG4gIGNvbnN0IGxvY2FsQmxvY2tzID0gcGFyZW50U2NvcGUgPyBwYXJlbnRTY29wZS4kJC5CbG9jay5jaGlsZHJlbiA6IGJsb2NrcztcclxuICBsZXQgY29uc3RydWN0b3IgPSBub2RlICYmIG5vZGUubmFtZSAmJiBsb2NhbEJsb2Nrc1tub2RlLm5hbWVdID8gbG9jYWxCbG9ja3Nbbm9kZS5uYW1lXS5ibG9jayA6IG51bGw7XHJcbiAgbGV0IGRCbG9ja01hdGNoO1xyXG5cclxuICBpZiAoIWNoaWxkcmVuLmxlbmd0aCAmJiAoZEJsb2NrTWF0Y2ggPSBuYW1lLm1hdGNoKC9eZC1ibG9jay0oW1xcc1xcU10rKSQvKSB8fCBuYW1lID09PSAnZC1ibG9jaycpKSB7XHJcbiAgICBjb25zdHJ1Y3RvciA9IGJsb2Nrc1snZC1ibG9jayddLmJsb2NrO1xyXG5cclxuICAgIGFyZ3MubmFtZSA9IGRCbG9ja01hdGNoID8gZEJsb2NrTWF0Y2hbMV0gOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjb25zdHJ1Y3Rvcikge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIGlmIChuYW1lID09PSAnI3RleHQnICYmIGV4cHJlc3Npb25SZWdFeHAudGVzdCh2YWx1ZSkpIHtcclxuICAgICAgcmV0dXJuIGNyZWF0ZUJsb2NrKHtcclxuICAgICAgICBub2RlOiB7XHJcbiAgICAgICAgICBuYW1lOiAnZC10ZXh0JyxcclxuICAgICAgICAgIGF0dHJzOiB7IHZhbHVlIH0sXHJcbiAgICAgICAgICBjaGlsZHJlbjogbmV3IEFycihbXSksXHJcbiAgICAgICAgICBibG9jazogcGFyZW50U2NvcGVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFmdGVyLFxyXG4gICAgICAgIHBhcmVudCxcclxuICAgICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgICBwYXJlbnRTY29wZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbS5jcmVhdGUobmFtZSk7XHJcbiAgICBjb25zdCBjdXJyZW50TWl4aW5zID0gbmV3IEFycihbXSk7XHJcblxyXG4gICAgY29uc3QgYXR0cnMgPSBuZXcgU3VwZXIoYXJncykub2JqZWN0KChvYmplY3QsIHZhbHVlLCBhdHRyKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gaXRlcmF0ZShtaXhpbnMsIChNaXhpbiwgbmFtZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gYXR0ci5tYXRjaChNaXhpbi5fbWF0Y2gpO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1hdGNoLFxyXG4gICAgICAgICAgICBuYW1lXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICBjdXJyZW50TWl4aW5zLnB1c2goe1xyXG4gICAgICAgICAgbmFtZTogbWF0Y2gubmFtZSxcclxuICAgICAgICAgIG1hdGNoOiBtYXRjaC5tYXRjaCxcclxuICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgZWxlbTogZWxlbWVudCxcclxuICAgICAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICAgICAgcGFyZW50U2NvcGVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBvYmplY3RbYXR0cl0gPSBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZSh2YWx1ZSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgZWxlbWVudC5hdHRyKGF0dHIsIHZhbHVlKTtcclxuICAgICAgfSwgcGFyZW50QmxvY2spO1xyXG4gICAgfSkuJDtcclxuXHJcbiAgICBpZiAoIWlzTmlsKHZhbHVlKSkge1xyXG4gICAgICBlbGVtZW50LnRleHQodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhdHRycykge1xyXG4gICAgICBlbGVtZW50LmF0dHIoYXR0cnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhZnRlci5sZW5ndGgpIHtcclxuICAgICAgZWxlbWVudC5pbnNlcnRBZnRlcihhZnRlcik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbGVtZW50LmludG8ocGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlciA9IG5ldyBFbGVtKCk7XHJcblxyXG4gICAgaWYgKGNoaWxkcmVuKSB7XHJcbiAgICAgIHRyYW5zZm9ybURJZkNoaWxkcmVuKGNoaWxkcmVuKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJsb2NrID0gY3JlYXRlQmxvY2soe1xyXG4gICAgICAgICAgbm9kZTogY2hpbGQsXHJcbiAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgIHBhcmVudDogZWxlbWVudCxcclxuICAgICAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICAgICAgcGFyZW50U2NvcGVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQmxvY2spIHtcclxuICAgICAgICAgIGFmdGVyID0gYmxvY2suJCQuZWxlbXMuZW5kO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhZnRlciA9IGJsb2NrO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3VycmVudE1peGlucy5mb3JFYWNoKChvcHRzKSA9PiB7XHJcbiAgICAgIGNyZWF0ZU1peGluKG9wdHMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBjb25zdCBibG9jayA9IG5vZGUgJiYgbm9kZS5uYW1lID8gbG9jYWxCbG9ja3Nbbm9kZS5uYW1lXSA6IG51bGw7XHJcbiAgY29uc3QgYmxvY2tJbnN0YW5jZSA9IG5ldyBjb25zdHJ1Y3Rvcih7XHJcbiAgICBuYW1lLFxyXG4gICAgYXJncyxcclxuICAgIGNoaWxkcmVuLFxyXG4gICAgYmxvY2ssXHJcbiAgICBwYXJlbnQsXHJcbiAgICBwYXJlbnRCbG9jayxcclxuICAgIHBhcmVudFNjb3BlXHJcbiAgfSk7XHJcblxyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGJsb2NrSW5zdGFuY2UsIHtcclxuICAgIGFyZ3M6IHtcclxuICAgICAgdmFsdWU6IGJsb2NrSW5zdGFuY2UuYXJnc1xyXG4gICAgfSxcclxuICAgIGdsb2JhbDoge1xyXG4gICAgICB2YWx1ZTogYmxvY2tJbnN0YW5jZS5nbG9iYWxcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgbGV0IGh0bWwgPSBuYW1lID09PSAnZC1lbGVtZW50cydcclxuICAgID8gbmV3IEFycihibG9ja0luc3RhbmNlLmFyZ3MudmFsdWUgfHwgW10pXHJcbiAgICA6IGRlZXBDbG9uZUNoaWxkcmVuKGJsb2NrLmh0bWwsIGJsb2NrSW5zdGFuY2UpO1xyXG5cclxuICBpZiAobmFtZSA9PT0gJ2QtZWxlbWVudHMnICYmIHBhcmVudEJsb2NrLiQkLm5hbWUgPT09ICcjZC1pdGVtJykge1xyXG4gICAgaHRtbCA9IGRlZXBDbG9uZUNoaWxkcmVuKGh0bWwsIHBhcmVudEJsb2NrKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHtcclxuICAgICQkLFxyXG4gICAgYXJnczogQXJncyxcclxuICAgIGdsb2JhbCxcclxuICAgIC4uLmxvY2Fsc1xyXG4gIH0gPSBibG9ja0luc3RhbmNlO1xyXG4gIGNvbnN0IGV2ZW50dWFsQXJncyA9IHtcclxuICAgIC4uLmNvbnN0cnVjdG9yLmRlZmF1bHRBcmdzLFxyXG4gICAgLi4uQXJnc1xyXG4gIH07XHJcblxyXG4gIGRlbGV0ZSBsb2NhbHMuJDtcclxuICBkZWxldGUgbG9jYWxzLiQkO1xyXG5cclxuICAkJC5hcmdzID0gY29uc3RydWN0UHJpdmF0ZVNjb3BlKGV2ZW50dWFsQXJncyk7XHJcbiAgJCQubG9jYWxzID0gY29uc3RydWN0UHJpdmF0ZVNjb3BlKGxvY2Fscyk7XHJcbiAgJCQuZ2xvYmFsID0gY29uc3RydWN0UHJpdmF0ZVNjb3BlKGdsb2JhbCwgJ2dsb2JhbCcsIHBhcmVudFNjb3BlKTtcclxuXHJcbiAgaWYgKG5hbWUgPT09ICcjZC1pdGVtJykge1xyXG4gICAgY29uc3Qgc2NvcGVWYWx1ZXMgPSB7XHJcbiAgICAgIFtub2RlLml0ZW1OYW1lXTogbm9kZS5pdGVtLFxyXG4gICAgICBbbm9kZS5pbmRleE5hbWVdOiBub2RlLmluZGV4XHJcbiAgICB9O1xyXG4gICAgbGV0IHBhcmVudCA9IGJsb2NrSW5zdGFuY2U7XHJcbiAgICBsZXQgc2NvcGUgPSBwYXJlbnRTY29wZTtcclxuICAgIGxldCBESXRlbUZvdW5kO1xyXG5cclxuICAgIHdoaWxlICghREl0ZW1Gb3VuZCAmJiAocGFyZW50ID0gcGFyZW50LiQkLnBhcmVudEJsb2NrKSkge1xyXG4gICAgICBESXRlbUZvdW5kID0gcGFyZW50LiQkLm5hbWUgPT09ICcjZC1pdGVtJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoREl0ZW1Gb3VuZCkge1xyXG4gICAgICBzY29wZSA9IHBhcmVudC4kJC5zY29wZTtcclxuICAgIH1cclxuXHJcbiAgICAkJC5CbG9jayA9IHBhcmVudFNjb3BlLiQkLkJsb2NrO1xyXG4gICAgJCQucHJpdmF0ZVNjb3BlID0gY29uc3RydWN0UHJpdmF0ZVNjb3BlKHNjb3BlVmFsdWVzKTtcclxuICAgIGNvbnN0cnVjdFB1YmxpY1Njb3BlKCQkLnNjb3BlID0gT2JqZWN0LmNyZWF0ZShzY29wZSksIHNjb3BlVmFsdWVzLCAkJC5wcml2YXRlU2NvcGUpO1xyXG4gIH1cclxuXHJcbiAgaWYgKG5hbWUgPT09ICdkLWVhY2gnKSB7XHJcbiAgICAkJC5zY29wZSA9IE9iamVjdC5jcmVhdGUocGFyZW50U2NvcGUpO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0UHVibGljU2NvcGUoQXJncywgZXZlbnR1YWxBcmdzLCAkJC5hcmdzKTtcclxuICBjb25zdHJ1Y3RQdWJsaWNTY29wZShnbG9iYWwsIGdsb2JhbCwgJCQuZ2xvYmFsKTtcclxuICBjb25zdHJ1Y3RQdWJsaWNTY29wZShibG9ja0luc3RhbmNlLCBsb2NhbHMsICQkLmxvY2Fscyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBibG9ja0luc3RhbmNlLmFmdGVyQ29uc3RydWN0KCk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBVbmNhdWdodCBlcnJvciBpbiAkeyBuYW1lIH0jYWZ0ZXJDb25zdHJ1Y3Q6YCwgZXJyKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGVsZW1zID0gbmV3IEVsZW0oW1xyXG4gICAgJCQuZWxlbXMuc3RhcnQsXHJcbiAgICAkJC5lbGVtcy5lbmRcclxuICBdKTtcclxuXHJcbiAgaWYgKGFmdGVyLmxlbmd0aCkge1xyXG4gICAgZWxlbXMuaW5zZXJ0QWZ0ZXIoYWZ0ZXIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlbGVtcy5pbnRvKHBhcmVudCk7XHJcbiAgfVxyXG5cclxuICBhZnRlciA9ICQkLmVsZW1zLnN0YXJ0O1xyXG5cclxuICAvLyBjb25zb2xlLmxvZyhibG9ja0luc3RhbmNlKTtcclxuXHJcbiAgdHJhbnNmb3JtRElmQ2hpbGRyZW4oaHRtbCkuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuICAgIGNvbnN0IGJsb2NrID0gY3JlYXRlQmxvY2soe1xyXG4gICAgICBub2RlOiBjaGlsZCxcclxuICAgICAgYWZ0ZXIsXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgcGFyZW50QmxvY2s6IGJsb2NrSW5zdGFuY2UsXHJcbiAgICAgIHBhcmVudFNjb3BlXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBCbG9jaykge1xyXG4gICAgICBjb25zdCB7IGVsZW1zIH0gPSBibG9jay4kJDtcclxuXHJcbiAgICAgIGFmdGVyID0gZWxlbXMuZW5kO1xyXG5cclxuICAgICAgJCQuZWxlbXMuY29udGVudC5hZGQoZWxlbXMuc3RhcnQsIGVsZW1zLmNvbnRlbnQsIGVsZW1zLmVuZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhZnRlciA9IGJsb2NrO1xyXG5cclxuICAgICAgJCQuZWxlbXMuY29udGVudC5hZGQoYmxvY2spO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB0cnkge1xyXG4gICAgYmxvY2tJbnN0YW5jZS5hZnRlclJlbmRlcigpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I2FmdGVyUmVuZGVyOmAsIGVycik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYmxvY2tJbnN0YW5jZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTWl4aW4oeyBuYW1lLCB2YWx1ZSwgbWF0Y2gsIGVsZW0sIHBhcmVudEJsb2NrLCBwYXJlbnRTY29wZSB9KSB7XHJcbiAgY29uc3QgTWl4aW4gPSBtaXhpbnNbbmFtZV07XHJcblxyXG4gIG5ldyBNaXhpbih7XHJcbiAgICB2YWx1ZSxcclxuICAgIG1hdGNoLFxyXG4gICAgZWxlbSxcclxuICAgIHBhcmVudEJsb2NrLFxyXG4gICAgcGFyZW50U2NvcGVcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVlcENsb25lQ2hpbGRyZW4oY2hpbGRyZW4sIGJsb2NrKSB7XHJcbiAgcmV0dXJuIG5ldyBBcnIoY2hpbGRyZW4gfHwgW10pLm1hcCgoY2hpbGQpID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgYXR0cnMsXHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICBjaGlsZHJlblxyXG4gICAgfSA9IGNoaWxkO1xyXG4gICAgY29uc3QgbmV3Q2hpbGQgPSB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICBhdHRyczogeyAuLi5hdHRycyB9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChibG9jaykge1xyXG4gICAgICBuZXdDaGlsZC5ibG9jayA9IGJsb2NrO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICBuZXdDaGlsZC5jaGlsZHJlbiA9IGRlZXBDbG9uZUNoaWxkcmVuKGNoaWxkcmVuLCBibG9jayk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ld0NoaWxkO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1ESWZDaGlsZHJlbihjaGlsZHJlbikge1xyXG4gIHJldHVybiBuZXcgQXJyKGNoaWxkcmVuIHx8IFtdKVxyXG4gICAgLmNvbmNhdCh7fSlcclxuICAgIC5vYmplY3QoKG9iamVjdCwgY2hpbGQpID0+IHtcclxuICAgICAgY29uc3QgeyBuYW1lIH0gPSBjaGlsZDtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGh0bWwsXHJcbiAgICAgICAgaWZFbHNlXHJcbiAgICAgIH0gPSBvYmplY3Q7XHJcblxyXG4gICAgICBpZiAobmFtZSAhPT0gJ2QtZWxzZS1pZicgJiYgbmFtZSAhPT0gJ2QtZWxzZScpIHtcclxuICAgICAgICBpZiAoaWZFbHNlKSB7XHJcbiAgICAgICAgICBodG1sLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiAnZC1pZicsXHJcbiAgICAgICAgICAgIGJsb2NrOiBpZkVsc2UuJFswXS5ibG9jayxcclxuICAgICAgICAgICAgY2hpbGRyZW46IGlmRWxzZVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgb2JqZWN0LmlmRWxzZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmFtZSA9PT0gJ2QtaWYnKSB7XHJcbiAgICAgICAgICBvYmplY3QuaWZFbHNlID0gbmV3IEFycihbY2hpbGRdKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFpc1VuZGVmaW5lZChuYW1lKSkge1xyXG4gICAgICAgICAgaHRtbC5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgKGlmRWxzZSB8fCBodG1sKS5wdXNoKGNoaWxkKTtcclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWVsc2UnICYmIGlmRWxzZSkge1xyXG4gICAgICAgICAgaHRtbC5wdXNoKHtcclxuICAgICAgICAgICAgbmFtZTogJ2QtaWYnLFxyXG4gICAgICAgICAgICBibG9jazogaWZFbHNlLiRbMF0uYmxvY2ssXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBpZkVsc2VcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG9iamVjdC5pZkVsc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICBodG1sOiBuZXcgQXJyKFtdKSxcclxuICAgICAgaWZFbHNlOiBudWxsXHJcbiAgICB9KS4kLmh0bWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW5zdGFuY2VPZkJsb2NrKGJsb2NrKSB7XHJcbiAgcmV0dXJuIGlzUHJvdG90eXBlT2YuY2FsbChCbG9jaywgYmxvY2spICYmIGlzUHJvdG90eXBlT2YuY2FsbChCbG9jay5wcm90b3R5cGUsIGJsb2NrLnByb3RvdHlwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW5zdGFuY2VPZk1peGluKG1peGluKSB7XHJcbiAgcmV0dXJuIGlzUHJvdG90eXBlT2YuY2FsbChNaXhpbiwgbWl4aW4pICYmIGlzUHJvdG90eXBlT2YuY2FsbChNaXhpbi5wcm90b3R5cGUsIG1peGluLnByb3RvdHlwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVdhdGNoZXJzKHdhdGNoZXJzVG9SZW1vdmUpIHtcclxuICB3YXRjaGVyc1RvUmVtb3ZlLmZvckVhY2goKHsgd2F0Y2hlciwgd2F0Y2hlcnMgfSkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSB3YXRjaGVycy5pbmRleE9mKHdhdGNoZXIpO1xyXG5cclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgd2F0Y2hlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29uc3RydWN0UHJpdmF0ZVNjb3BlKG9iamVjdCwgdHlwZSwgcGFyZW50U2NvcGUpIHtcclxuICBsZXQgc2NvcGUgPSB7fTtcclxuXHJcbiAgaWYgKHR5cGUgPT09ICdnbG9iYWwnKSB7XHJcbiAgICBzY29wZSA9IE9iamVjdC5jcmVhdGUoXHJcbiAgICAgIHBhcmVudFNjb3BlXHJcbiAgICAgICAgPyBwYXJlbnRTY29wZS4kJC5nbG9iYWxcclxuICAgICAgICA6IG51bGxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IFN1cGVyKG9iamVjdCkub2JqZWN0KChzY29wZSwgdmFsdWUsIGtleSkgPT4ge1xyXG4gICAgc2NvcGVba2V5XSA9IHtcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIHdhdGNoZXJzOiB7XHJcbiAgICAgICAgdGVtcDogbmV3IEFycihbXSksXHJcbiAgICAgICAgcGVybTogbmV3IEFycihbXSlcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBzY29wZSkuJDtcclxufVxyXG5cclxuZnVuY3Rpb24gY29uc3RydWN0UHVibGljU2NvcGUoc2NvcGUsIHNjb3BlVmFsdWVzLCBwcml2YXRlU2NvcGUpIHtcclxuICBuZXcgU3VwZXIoc2NvcGUpLmRlZmluZShuZXcgU3VwZXIoc2NvcGVWYWx1ZXMpLm1hcCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgY29uc3Qgc2NvcGUgPSBwcml2YXRlU2NvcGVba2V5XTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBnZXQoKSB7XHJcbiAgICAgICAgaWYgKGV2YWxNb2RlKSB7XHJcbiAgICAgICAgICBpZiAoZ2V0dGluZy5pbmRleE9mKHNjb3BlLndhdGNoZXJzLnRlbXApID09PSAtMSkge1xyXG4gICAgICAgICAgICBnZXR0aW5nLnB1c2goc2NvcGUud2F0Y2hlcnMudGVtcCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2NvcGUudmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldCh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gc2NvcGUudmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2hhbmdlZCkge1xyXG4gICAgICAgICAgY2hhbmdlZCA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2xkVGVtcFdhdGNoZXJzID0gc2NvcGUud2F0Y2hlcnMudGVtcC5zbGljZSgpO1xyXG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gc2NvcGUudmFsdWU7XHJcblxyXG4gICAgICAgIHNjb3BlLndhdGNoZXJzLnRlbXAgPSBuZXcgQXJyKFtdKTtcclxuICAgICAgICBzY29wZS52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgICAgICBvbGRUZW1wV2F0Y2hlcnMuZm9yRWFjaCgod2F0Y2hlcikgPT4ge1xyXG4gICAgICAgICAgd2F0Y2hlci5vblJlbW92ZSgpO1xyXG4gICAgICAgICAgd2F0Y2hlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNoYW5nZWQucHVzaCh7XHJcbiAgICAgICAgICBzY29wZSxcclxuICAgICAgICAgIG9sZFZhbHVlLFxyXG4gICAgICAgICAgdmFsdWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWNoYW5nZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHdhcyA9IG5ldyBBcnIoW10pO1xyXG5cclxuICAgICAgICAgIHdoaWxlIChjaGFuZ2VkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gY2hhbmdlZC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZVxyXG4gICAgICAgICAgICAgIH0gPSBjaGFuZ2VkW2ldO1xyXG5cclxuICAgICAgICAgICAgICBzY29wZS53YXRjaGVycy5wZXJtLmZvckVhY2goKHdhdGNoZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh3YXMuaW5kZXhPZih3YXRjaGVyKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgd2F0Y2hlcih2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICB3YXMucHVzaCh3YXRjaGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgY2hhbmdlZC5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjaGFuZ2VkID0gbnVsbDtcclxuICAgICAgICB9LCAwKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9KS4kKTtcclxufVxyXG5cclxuZXhwb3J0IHsgQmxvY2ssIE1peGluLCBpbml0QXBwIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9mb3JtYXRzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRpZmZlcmVudCB0eXBlcyBvZiBmb3JtYXR0aW5nIGZvciB7QGxpbmsgRGF0ZSNmb3JtYXR9LlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuLi9TdHInO1xyXG5cclxuY29uc3QgemVybyA9IG5ldyBTdHIoJzAnKTtcclxuY29uc3QgZGF5c09mVGhlV2Vla05hbWVzID0gW1xyXG4gICdTdW5kYXknLFxyXG4gICdNb25kYXknLFxyXG4gICdUdWVzZGF5JyxcclxuICAnV2VkbmVzZGF5JyxcclxuICAnVGh1cnNkYXknLFxyXG4gICdGcmlkYXknLFxyXG4gICdTYXR1cmRheSdcclxuXTtcclxuY29uc3QgZGF5c09mVGhlV2Vla0FsaWFzZXMgPSBuZXcgU3VwZXIoZGF5c09mVGhlV2Vla05hbWVzKS5tYXAoKHZhbHVlKSA9PiB2YWx1ZS5zbGljZSgwLCAzKSkuJDtcclxuY29uc3QgbW9udGhzTmFtZXMgPSBbXHJcbiAgJ0phbnVhcnknLFxyXG4gICdGZWJydWFyeScsXHJcbiAgJ01hcmNoJyxcclxuICAnQXByaWwnLFxyXG4gICdNYXknLFxyXG4gICdKdW5lJyxcclxuICAnSnVsZScsXHJcbiAgJ0F1Z3VzdCcsXHJcbiAgJ1NlcHRlbWJlcicsXHJcbiAgJ09jdG9iZXInLFxyXG4gICdOb3ZlbWJlcicsXHJcbiAgJ0RlY2VtYmVyJ1xyXG5dO1xyXG5jb25zdCBtb250aHNBbGlhc2VzID0gbmV3IFN1cGVyKG1vbnRoc05hbWVzKS5tYXAoKHZhbHVlKSA9PiB2YWx1ZS5zbGljZSgwLCAzKSkuJDtcclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgbW9kdWxlOmNvbnN0YW50cy9mb3JtYXRzfm1hdGNoQ2FsbGJhY2tcclxuICogQHBhcmFtIHtEYXR9IGRhdGUgLSBELXdyYXAgb2YgYSBkYXRlIHRvIGFwcGx5IGZvcm1hdCB0by5cclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIE1hdGNoZWQgYXBwbGllZCBleHByZXNzaW9uLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBtb2R1bGU6Y29uc3RhbnRzL2Zvcm1hdHN+Zm9ybWF0RXhwclxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZm9ybWF0IC0gTWF0Y2hlZCBmb3JtYXQuXHJcbiAqIEBwcm9wZXJ0eSB7bW9kdWxlOmNvbnN0YW50cy9mb3JtYXRzfm1hdGNoQ2FsbGJhY2t9IG1hdGNoIC0gQ2FsbGJhY2sgaWYgdGhlcmUgd2FzIGEgbWF0Y2guXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHttb2R1bGU6Y29uc3RhbnRzL2Zvcm1hdHN+Zm9ybWF0RXhwcltdfVxyXG4gKiBAZGVzY3JpcHRpb24gQXJyYXkgb2YgZGlmZmVyZW50IGZvcm1hdHMuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBbXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnY2NjJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ2MnKSwgMylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2MnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgnYycpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdzcycsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdzJyksIDIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdzJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ3MnKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnbW0nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgnbScpLCAyKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnbScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdtJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2hoJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ2gnKSwgMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2gnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgnaCcpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdkZGRkJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXlzT2ZUaGVXZWVrTmFtZXNbZGF0ZVt1dGNdKCdkdycpXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnZGRkJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXlzT2ZUaGVXZWVrQWxpYXNlc1tkYXRlW3V0Y10oJ2R3JyldXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdkZCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdkJyksIDIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdkJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ2QnKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnTU1NTScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gbW9udGhzTmFtZXNbZGF0ZVt1dGNdKCdNJykgLSAxXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnTU1NJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBtb250aHNBbGlhc2VzW2RhdGVbdXRjXSgnTScpIC0gMV1cclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ01NJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ00nKSwgMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ00nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgnTScpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICd5eXl5JyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ3knKSwgNClcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ3l5JyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBTdHJpbmcoZGF0ZVt1dGNdKCd5JykpLnNsaWNlKC0yKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAneScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCd5JylcclxuICB9XHJcbl07XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHJvdW5kXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBOdW1iZXIgdG8gcm91bmQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdHMgLSBOdW1iZXIgb2YgdGhlIGRpZ2l0cyBvZiB0aGUgb3V0cHV0LlxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBTdHJpbmcgd2l0aCBuZWNlc3NhcnkgYWRkaXRpb25hbCBzdGFydGluZyB6ZXJvZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiByb3VuZChudW1iZXIsIGRpZ2l0cykge1xyXG4gIGNvbnN0IHN0cmluZyA9IFN0cmluZyhudW1iZXIpO1xyXG4gIGxldCB6ZXJvZXMgPSBkaWdpdHMgLSBzdHJpbmcubGVuZ3RoO1xyXG5cclxuICB6ZXJvZXMgPSB6ZXJvZXMgPCAwID8gMCA6IHplcm9lcztcclxuXHJcbiAgcmV0dXJuIHplcm8ucmVwZWF0KHplcm9lcykuJCArIHN0cmluZztcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBEYXRcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIERhdCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBOdW0gfSBmcm9tICcuL051bSc7XHJcbmltcG9ydCB7IFN0ciB9IGZyb20gJy4vU3RyJztcclxuaW1wb3J0IHsgc3dpdGNoZXIgfSBmcm9tICcuL1N3aXRjaGVyJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgZm9ybWF0cyBmcm9tICcuL2NvbnN0YW50cy9mb3JtYXRzJztcclxuaW1wb3J0IHsgaXNEYXRlLCBpdGVyYXRlLCBTeW1ib2wsIGRlZmluZVByb3BlcnRpZXMgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsqfSBEYXRlTGlrZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYyd8J3MnfCdtJ3wnaCd8J2QnfCd3J3wnTSd8J3knfSBBZGRQZXJpb2RcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2MnfCdzJ3wnbSd8J2gnfCdkJ3wnZHcnfCdNJ3wneSd9IEdldFBlcmlvZFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYyd8J3MnfCdtJ3wnaCd8J2QnfCdNJ3wneSd9IE9mT25lUGVyaW9kXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeydjJ3wncyd8J20nfCdoJ3wnZCd8J00nfCd5J30gU2V0UGVyaW9kXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeydjY2MnfCdjJ3wnc3MnfCdzJ3wnbW0nfCdtJ3wnaGgnfCdoJ3wnZGRkZCd8J2RkZCd8J2RkJ3wnZCd8J01NTU0nfCdNTU0nfCdNTSd8J00nfCd5eXl5J3wneXknfCd5J30gRm9ybWF0XHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG5jb25zdCBjb2VmZnMgPSB7XHJcbiAgYzogMSxcclxuICBzOiAxMDAwLFxyXG4gIG06IDYwMDAwLFxyXG4gIGg6IDM2MDAwMDAsXHJcbiAgZDogODY0MDAwMDAsXHJcbiAgdzogNjA0ODAwMDAwLFxyXG4gIE06IDI1OTIwMDAwMDAsXHJcbiAgeTogMzE1MzYwMDAwMDBcclxufTtcclxuXHJcbmNvbnN0IGdldFN3aXRjaGVyID0gc3dpdGNoZXIoe1xyXG4gIGM6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9TWlsbGlzZWNvbmRzYF0oKSxcclxuICBzOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfVNlY29uZHNgXSgpLFxyXG4gIG06IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9TWludXRlc2BdKCksXHJcbiAgaDogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1Ib3Vyc2BdKCksXHJcbiAgZDogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1EYXRlYF0oKSxcclxuICBkdzogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1EYXlgXSgpLFxyXG4gIE06IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9TW9udGhgXSgpICsgMSxcclxuICB5OiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfUZ1bGxZZWFyYF0oKVxyXG59LCAnZXF1YWxzJywgTmFOKTtcclxuY29uc3Qgc2V0U3dpdGNoZXIgPSBzd2l0Y2hlcih7XHJcbiAgYzogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9TWlsbGlzZWNvbmRzYF0odmFsdWUpLFxyXG4gIHM6IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfVNlY29uZHNgXSh2YWx1ZSksXHJcbiAgbTogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9TWludXRlc2BdKHZhbHVlKSxcclxuICBoOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1Ib3Vyc2BdKHZhbHVlKSxcclxuICBkOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1EYXRlYF0odmFsdWUpLFxyXG4gIE06IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1vbnRoYF0odmFsdWUgLSAxKSxcclxuICB5OiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1GdWxsWWVhcmBdKHZhbHVlKVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgRGF0XHJcbiAqIEBleHRlbmRzIFN1cGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtEYXRlfSBbZGF0ZSA9IG5ldyBEYXRlKCldIC0gQSBkYXRlIHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtEYXR9IEluc3RhbmNlIG9mIERhdC5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYSBkYXRlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBkYXRlID0gbmV3IERhdChuZXcgRGF0ZSgpKTtcclxuICovXHJcbmNsYXNzIERhdCBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihkYXRlID0gbmV3IERhdGUoKSkge1xyXG4gICAgc3VwZXIoZGF0ZSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIERhdCMkXHJcbiAgICAgKiBAdHlwZSB7RGF0ZX1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBkYXRlLlxyXG4gICAgICovXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNhZGRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtBZGRQZXJpb2R8T2JqZWN0LjxBZGRQZXJpb2QsIE51bWJlcj59IHdoYXQgLSBXaGF0IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW251bWJlcl0gLSBOdW1iZXIgb2Ygd2hhdCB0byBhZGQgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgcGVyaW9kIHN0cmluZy5cclxuICAgKiBAcmV0dXJucyB7RGF0fSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgYWRkaW5nIGFtb3VudHMgb2YgdGltZSB0byB0aGUgZGF0ZS4gUmV0dXJucyBuZXcgaW5zdGFuY2Ugb2YgRGF0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuYWRkKCdjJywgMikudG9JU09TdHJpbmcoKTsgICAgICAgICAvLyAnMjAwMC0wMS0wMVQwMDowMDowMC4wMDFaJ1xyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpKS5hZGQoeyBjOiAyLCBkOiA1IH0pLnRvSVNPU3RyaW5nKCk7IC8vICcyMDAwLTAxLTA2VDAwOjAwOjAwLjAwMVonXHJcbiAgICovXHJcbiAgYWRkKHdoYXQsIG51bWJlcikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICB3aGF0ID0geyBbd2hhdF06IG51bWJlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnRpbWUodGhpcy50aW1lKCkgKyBuZXcgU3VwZXIod2hhdCkuc3VtKCh2YWx1ZSwgd2hhdCkgPT4gY29lZmZzW3doYXRdICogdmFsdWUpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2V4cGlyZXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbdmFsdWUgPSB0aGlzXSAtIFZhbHVlIHRvIHJlc29sdmUgYWZ0ZXIgdGhlIGRhdGUgZXhwaXJlcy5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZGVmaW5pbmcgd2hlbiB0aGUgZGF0ZSBleHBpcmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KCkuYWRkKCdjJywgNTAwKS5leHBpcmVzKCdFeHBpcmVkJykudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgIC8vIEFmdGVyIDUwMCBtaWxsaXNlY29uZHNcclxuICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8gJ0V4cGlyZWQnXHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgZXhwaXJlcyh2YWx1ZSkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHZhbHVlID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IE51bSh0aGlzLiQgLSBub3coKSkudGltZW91dCh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNmb3JtYXRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFRlbXBsYXRlIGZvciB0aGUgb3V0cHV0LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJlZml4ID0gJyddIC0gSWYgbmVlZGVkIFthbGwgc3BlY2lhbCBzdHJpbmdzXXtAbGluayBGb3JtYXR9XHJcbiAgICogYXJlIHRyZWF0ZWQgYXMgdGhleSBzaG91bGQgYmUgcHJlZml4IHdpdGggcHJlZml4LlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgZm9ybWF0dGVkIG91dHB1dCBiYXNlZCBvbiBhIHN0cmluZy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdCgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykuZm9ybWF0KCdTZWNvbmRzOiAkc3MsIG1pbGxpc2Vjb25kczogJGNjYy4nLCAnJCcpO1xyXG4gICAqIC8vICdTZWNvbmRzOiA1OSwgbWlsbGlzZWNvbmRzOiA5OTkuJ1xyXG4gICAqL1xyXG4gIGZvcm1hdChzdHJpbmcsIHByZWZpeCA9ICcnKSB7XHJcbiAgICBzdHJpbmcgPSBuZXcgU3RyKG5ldyBTdXBlcihzdHJpbmcpLiQpO1xyXG4gICAgcHJlZml4ID0gU3RyaW5nKG5ldyBTdXBlcihwcmVmaXgpLiQpO1xyXG5cclxuICAgIGl0ZXJhdGUoZm9ybWF0cywgKGZvcm1hdCkgPT4ge1xyXG4gICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZVN0cmluZyhwcmVmaXggKyBmb3JtYXQuZm9ybWF0LCBmb3JtYXQubWF0Y2godGhpcywgJ2dldCcpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzdHJpbmcuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2Zvcm1hdFVUQ1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIC0gU2VlIHtAbGluayBEYXQjZm9ybWF0fS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ByZWZpeCA9ICcnXSAtIFNlZSB7QGxpbmsgRGF0I2Zvcm1hdH0uXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gRm9ybWF0dGVkIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gVVRDIHZlcnNpb24gb2Yge0BsaW5rIERhdCNmb3JtYXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KCcxOTk5LTA3LTA3VDAzOjA5OjA5LjA5OVonKS5mb3JtYXRVVEMoXHJcbiAgICogICBgXHJcbiAgICogICAgIE1pbGxpc2Vjb25kczogJGNjY3wkYy5cclxuICAgKiAgICAgU2Vjb25kczogICAgICAkc3N8JHMuXHJcbiAgICogICAgIE1pbnV0ZXM6ICAgICAgJG1tfCRtLlxyXG4gICAqICAgICBIb3VyczogICAgICAgICRoaHwkaC5cclxuICAgKiAgICAgRGF5OiAgICAgICAgICAkZGRkZHwkZGRkfCRkZHwkZC5cclxuICAgKiAgICAgTW9udGg6ICAgICAgICAkTU1NTXwkTU1NfCRNTXwkTS5cclxuICAgKiAgICAgWWVhcjogICAgICAgICAkeXl5eXwkeXl8JHkuXHJcbiAgICogICBgLFxyXG4gICAqICAgJyQnXHJcbiAgICogKTtcclxuICAgKiAvLyBNaWxsaXNlY29uZHM6IDA5OXw5OS5cclxuICAgKiAvLyBTZWNvbmRzOiAgICAgIDA5fDkuXHJcbiAgICogLy8gTWludXRlczogICAgICAwOXw5LlxyXG4gICAqIC8vIEhvdXJzOiAgICAgICAgMDN8My5cclxuICAgKiAvLyBEYXk6ICAgICAgICAgIEZyaWRheXxGcml8MDd8Ny5cclxuICAgKiAvLyBNb250aDogICAgICAgIEp1bHl8SnVsfDA3fDcuXHJcbiAgICogLy8gWWVhcjogICAgICAgICAxOTk5fDk5fDE5OTkuXHJcbiAgICovXHJcbiAgZm9ybWF0VVRDKHN0cmluZywgcHJlZml4ID0gJycpIHtcclxuICAgIHN0cmluZyA9IG5ldyBTdHIobmV3IFN1cGVyKHN0cmluZykuJCk7XHJcbiAgICBwcmVmaXggPSBTdHJpbmcobmV3IFN1cGVyKHByZWZpeCkuJCk7XHJcblxyXG4gICAgaXRlcmF0ZShmb3JtYXRzLCAoZm9ybWF0KSA9PiB7XHJcbiAgICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlU3RyaW5nKHByZWZpeCArIGZvcm1hdC5mb3JtYXQsIGZvcm1hdC5tYXRjaCh0aGlzLCAnZ2V0VVRDJykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHN0cmluZy4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjZ2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7R2V0UGVyaW9kfSB3aGF0IC0gV2hhdCB0byBnZXQuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gTnVtYmVyIG9mIHdoYXQgdG8gZ2V0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcgdmFsdWVzIHN1Y2ggYXMgc2Vjb25kcyBvciBtaW51dGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuZ2V0KCdzJyk7IC8vIDU5XHJcbiAgICovXHJcbiAgZ2V0KHdoYXQpIHtcclxuICAgIHJldHVybiBnZXRTd2l0Y2hlcih3aGF0LCBbdGhpcy4kLCAnZ2V0J10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjZ2V0VVRDXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7R2V0UGVyaW9kfSB3aGF0IC0gU2VlIHtAbGluayBEYXQjZ2V0fS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2Ygd2hhdCB0byBnZXQuXHJcbiAgICogQGRlc2NyaXB0aW9uIFVUQyB2ZXJzaW9uIG9mIHtAbGluayBEYXQjZ2V0fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZGF0ZSA9IG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpKTtcclxuICAgKlxyXG4gICAqIGRhdGUuZ2V0VVRDKCdjJyk7ICAvLyA5OTlcclxuICAgKiBkYXRlLmdldFVUQygncycpOyAgLy8gNTlcclxuICAgKiBkYXRlLmdldFVUQygnbScpOyAgLy8gNTlcclxuICAgKiBkYXRlLmdldFVUQygnaCcpOyAgLy8gMjNcclxuICAgKiBkYXRlLmdldFVUQygnZCcpOyAgLy8gMzFcclxuICAgKiBkYXRlLmdldFVUQygnZHcnKTsgLy8gNVxyXG4gICAqIGRhdGUuZ2V0VVRDKCdNJyk7ICAvLyAxMlxyXG4gICAqIGRhdGUuZ2V0VVRDKCd5Jyk7ICAvLyAxOTk5XHJcbiAgICovXHJcbiAgZ2V0VVRDKHdoYXQpIHtcclxuICAgIHJldHVybiBnZXRTd2l0Y2hlcih3aGF0LCBbdGhpcy4kLCAnZ2V0VVRDJ10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjaXNBZnRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RhdGVMaWtlfSBkYXRlIC0gRGF0ZSB0byBiZSBjb21wYXJlZCB0byB0aGlzIGRhdGUuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoaXMgZGF0ZSBpcyBhZnRlciB0aGUgYXJndW1lbnQgb25lLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBGaW5kcyBvdXQgaWYgdGhpcyBkYXRlIGlzIGFmdGVyIHRoZSBhcmd1bWVudCBvbmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMzMzKSkuaXNBZnRlcihuZXcgRGF0ZSgzMzQpKTsgLy8gZmFsc2VcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQWZ0ZXIobmV3IERhdGUoMzMyKSk7IC8vIHRydWVcclxuICAgKi9cclxuICBpc0FmdGVyKGRhdGUpIHtcclxuICAgIGRhdGUgPSBuZXcgRGF0ZShuZXcgU3VwZXIoZGF0ZSkuJCk7XHJcblxyXG4gICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpIDwgdGhpcy4kLmdldFRpbWUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2lzQmVmb3JlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGF0ZUxpa2V9IGRhdGUgLSBEYXRlIHRvIGJlIGNvbXBhcmVkIHRvIHRoaXMgZGF0ZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhpcyBkYXRlIGlzIGJlZm9yZSB0aGUgYXJndW1lbnQgb25lLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBGaW5kcyBvdXQgaWYgdGhpcyBkYXRlIGlzIGJlZm9yZSB0aGUgYXJndW1lbnQgb25lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQmVmb3JlKG5ldyBEYXRlKDMzNCkpOyAvLyB0cnVlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0JlZm9yZShuZXcgRGF0ZSgzMzIpKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBpc0JlZm9yZShkYXRlKSB7XHJcbiAgICBkYXRlID0gbmV3IERhdGUobmV3IFN1cGVyKGRhdGUpLiQpO1xyXG5cclxuICAgIHJldHVybiBkYXRlLmdldFRpbWUoKSA+IHRoaXMuJC5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNpc0JldHdlZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEYXRlTGlrZX0gZGF0ZTEgLSBTdGFydCBvZiB0aGUgcmFuZ2UuXHJcbiAgICogQHBhcmFtIHtEYXRlTGlrZX0gZGF0ZTIgLSBFbmQgb2YgdGhlIHJhbmdlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGlzIGRhdGUgaXMgYWZ0ZXIgZGF0ZTEgYW5kIGJlZm9yZSBkYXRlMi5cclxuICAgKiBAZGVzY3JpcHRpb24gRmluZHMgb3V0IGlmIHRoaXMgZGF0ZSBpcyBhZnRlciBkYXRlMSBhbmQgYmVmb3JlIGRhdGUyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQmV0d2VlbihuZXcgRGF0ZSgzMzIpLCBuZXcgRGF0ZSgzMzQpKTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMzMzKSkuaXNCZXR3ZWVuKG5ldyBEYXRlKDMzNCksIG5ldyBEYXRlKDMzMikpOyAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGlzQmV0d2VlbihkYXRlMSwgZGF0ZTIpIHtcclxuICAgIGNvbnN0IHRpbWUgPSB0aGlzLiQuZ2V0VGltZSgpO1xyXG5cclxuICAgIGRhdGUxID0gbmV3IERhdGUobmV3IFN1cGVyKGRhdGUxKS4kKTtcclxuICAgIGRhdGUyID0gbmV3IERhdGUobmV3IFN1cGVyKGRhdGUyKS4kKTtcclxuXHJcbiAgICByZXR1cm4gdGltZSA+IGRhdGUxLmdldFRpbWUoKSAmJiB0aW1lIDwgZGF0ZTIuZ2V0VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjaXNJbnZhbGlkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgZGF0ZSBpcyBpbnZhbGlkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSBkYXRlIGlzIGludmFsaWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJ2EnKSkuaXNJbnZhbGlkKCk7IC8vIHRydWVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDEpKS5pc0ludmFsaWQoKTsgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGlzSW52YWxpZCgpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9TdHJpbmcoKSA9PT0gJ0ludmFsaWQgRGF0ZSc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNpc1Bhc3NlZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGRhdGUgaXMgcGFzc2VkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSBkYXRlIGlzIHBhc3NlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgxKSkuaXNQYXNzZWQoKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGlzUGFzc2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNCZWZvcmUobm93KCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjb2ZPbmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPZk9uZVBlcmlvZH0gd2hhdCAtIFBlcmlvZCB0byBjaGVjay5cclxuICAgKiBAcGFyYW0ge0RhdGVMaWtlfSBkYXRlIC0gRGF0ZSB0byBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdHdvIGRhdGVzIGFyZSBvZiBvbmUgc2Vjb25kLCBtaW51dGUgb3Igc29tZXRoaW5nIGVsc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdHdvIGRhdGVzIGFyZSBvZiBvbmUgc2Vjb25kLCBtaW51dGUgb3Igc29tZXRoaW5nIGVsc2UuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuMDAwWicpKS5vZk9uZSgncycsIG5ldyBEYXRlKDE5OTktMTItMzFUMjM6NTk6NTkuMzMzWicpKTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuMDAwWicpKS5vZk9uZSgncycsIG5ldyBEYXRlKDE5OTktMTItMzFUMjM6NTk6NTguOTk5WicpKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBvZk9uZSh3aGF0LCBkYXRlKSB7XHJcbiAgICBpZiAoISh3aGF0IGluIGNvZWZmcykgfHwgd2hhdCA9PT0gJ3cnKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBkYXRlID0gbmV3IERhdChuZXcgRGF0ZShkYXRlKSk7XHJcblxyXG4gICAgbGV0IHN0YXJ0ZWQ7XHJcblxyXG4gICAgcmV0dXJuIGl0ZXJhdGUoY29lZmZzLCAoY29lZmYsIHcpID0+IHtcclxuICAgICAgaWYgKHcgPT09IHdoYXQpIHtcclxuICAgICAgICBzdGFydGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFzdGFydGVkIHx8IHcgPT09ICd3Jykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0YXJ0ZWQgJiYgdGhpcy5nZXQodykgIT09IGRhdGUuZ2V0KHcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KSAhPT0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNzZXRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTZXRQZXJpb2R8T2JqZWN0LjxTZXRQZXJpb2QsIE51bWJlcj59IHdoYXQgLSBXaGF0IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW251bWJlcl0gLSBOdW1iZXIgb2Ygd2hhdCB0byBzZXQgaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgcGVyaW9kIHN0cmluZy5cclxuICAgKiBAcmV0dXJucyB7RGF0fSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igc2V0dGluZyB2YWx1ZXMgc3VjaCBhcyBzZWNvbmRzIG9yIG1pbnV0ZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpKS5zZXQoJ3MnLCA1OCkuZ2V0KCdzJyk7ICAgICAgICAgICAvLyA1OFxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpKS5zZXQoeyBjOiA5OTgsIHM6IDU4IH0pLmdldCgnYycpOyAvLyA5OThcclxuICAgKi9cclxuICBzZXQod2hhdCwgbnVtYmVyKSB7XHJcbiAgICBjb25zdCBkYXRlID0gdGhpcy4kO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgd2hhdCA9IHsgW3doYXRdOiBudW1iZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICB3aGF0ID0gbmV3IFN1cGVyKHdoYXQpLiQ7XHJcblxyXG4gICAgaXRlcmF0ZSh3aGF0LCAodmFsdWUsIHdoYXQpID0+IHtcclxuICAgICAgc2V0U3dpdGNoZXIod2hhdCwgW2RhdGUsIHZhbHVlLCAnc2V0J10pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNzZXRVVENcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTZXRQZXJpb2R8T2JqZWN0LjxTZXRQZXJpb2QsIE51bWJlcj59IHdoYXQgLSBTZWUge0BsaW5rIERhdCNzZXR9LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyXSAtIFNlZSB7QGxpbmsgRGF0I3NldH0uXHJcbiAgICogQHJldHVybnMge0RhdH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBVVEMgdmVyc2lvbiBvZiB7QGxpbmsgRGF0I3NldH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGRhdGUgPSBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSk7XHJcbiAgICpcclxuICAgKiBkYXRlLnNldFVUQygnY2NjJywgOTk4KS5nZXRVVEMoJ2NjYycpOyAvLyA5OThcclxuICAgKiBkYXRlLnNldFVUQyh7XHJcbiAgICogICBzOiA1OCxcclxuICAgKiAgIG06IDU4LFxyXG4gICAqICAgaDogMjJcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGRhdGUuZ2V0VVRDKCdzJyk7IC8vIDU4XHJcbiAgICogZGF0ZS5nZXRVVEMoJ20nKTsgLy8gNThcclxuICAgKiBkYXRlLmdldFVUQygnaCcpOyAvLyAyM1xyXG4gICAqL1xyXG4gIHNldFVUQyh3aGF0LCBudW1iZXIpIHtcclxuICAgIGNvbnN0IGRhdGUgPSB0aGlzLiQ7XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICB3aGF0ID0geyBbd2hhdF06IG51bWJlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHdoYXQgPSBuZXcgU3VwZXIod2hhdCkuJDtcclxuXHJcbiAgICBpdGVyYXRlKHdoYXQsICh2YWx1ZSwgd2hhdCkgPT4ge1xyXG4gICAgICBzZXRTd2l0Y2hlcih3aGF0LCBbZGF0ZSwgdmFsdWUsICdzZXRVVEMnXSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I3NldFVUQ1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVdIC0gVGltZSB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0RhdHxOdW1iZXJ9IC0gSWYgdGhlIHRpbWUgYXJndW1lbnQgaXMgcHJlc2VudCB0aGlzIGlzIHJldHVybmVkIG90aGVyd2lzZSB0aGUgdGltZSBpcyByZXR1cm5lZC5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtEYXRlI2dldFRpbWVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvZ2V0VGltZX0gYW5kXHJcbiAgICogW0RhdGUjc2V0VGltZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS9zZXRUaW1lfS5cclxuICAgKi9cclxuICB0aW1lKHRpbWUpIHtcclxuICAgIGNvbnN0IGRhdGUgPSB0aGlzLiQ7XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgZGF0ZS5zZXRUaW1lKHRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRlLmdldFRpbWUoKTtcclxuICB9XHJcblxyXG4gIHRvSVNPU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b0lTT1N0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgdG9Mb2NhbGVTdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvTG9jYWxlU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9TdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIHZhbHVlT2YoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnZhbHVlT2YoKTtcclxuICB9XHJcbn1cclxuZGVmaW5lUHJvcGVydGllcyhEYXQucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdEYXQnXHJcbn0pO1xyXG5cclxuY29uc3RydWN0b3JzWzFdLnB1c2goe1xyXG4gIGNoZWNrOiBpc0RhdGUsXHJcbiAgY2xzOiBEYXRcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIG5vd1xyXG4gKiBAcHVibGljXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IE51bWJlciBvZiBtaWxsaXNlY29uZHMuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS9ub3dcclxuICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAqIFtEYXRlLm5vd117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS9ub3d9LlxyXG4gKi9cclxuZnVuY3Rpb24gbm93KCkge1xyXG4gIHJldHVybiBEYXRlLm5vdygpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRhdGVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0RhdGVMaWtlfSBbZGF0ZSA9IG5ldyBEYXRlKCldIC0gRGF0ZS1saWtlIHZhbHVlIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBEYXRlIGNvbnN0cnVjdG9yLlxyXG4gKiBAcmV0dXJucyB7RGF0fSBOZXcgaW5zdGFuY2Ugb2YgRGF0LlxyXG4gKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbmV3IERhdChuZXcgRGF0ZShkYXRlKSk7XHJcbiAqL1xyXG5mdW5jdGlvbiBkYXRlKGRhdGUpIHtcclxuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIHJldHVybiBuZXcgRGF0KG5ldyBEYXRlKG5vdygpKSk7XHJcbiAgfVxyXG5cclxuICBkYXRlID0gbmV3IFN1cGVyKGRhdGUpLiQ7XHJcblxyXG4gIHJldHVybiBuZXcgRGF0KG5ldyBEYXRlKGRhdGUpKTtcclxufVxyXG5cclxuZXhwb3J0IHsgRGF0LCBub3csIGRhdGUgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9jb25zdHJ1Y3RVUkxcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgY29uc3RydWN0VVJMIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuLi9TdHInO1xyXG5pbXBvcnQgeyBzd2l0Y2hlciB9IGZyb20gJy4uL1N3aXRjaGVyJztcclxuaW1wb3J0IHsgaXNBcnJheSwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QgfSBmcm9tICcuL2NoZWNrVHlwZXMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7UmVnRXhwfVxyXG4gKiBAZGVzY3JpcHRpb24gQWJzb2x1dGUgVVJMIHBhdHRlcm4uXHJcbiAqL1xyXG5jb25zdCBhYnNvbHV0ZVVSTFJlZ2V4cCA9IC9eKChbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvfGRhdGE6W2Etel0rXFwvW2Etel0rO2Jhc2U2NCwpL2k7XHJcbmNvbnN0IHF1ZXJ5U3dpdGNoZXIgPSBzd2l0Y2hlcignY2FsbCcsICgpID0+IG5ldyBBcnIoW10pKVxyXG4gIC5jYXNlKGlzQXJyYXksIChwcmVmaXgsIHF1ZXJ5KSA9PiB7XHJcbiAgICBsZXQgcXVlcnlQYXJhbXMgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICBpdGVyYXRlKHF1ZXJ5LCAodmFsdWUpID0+IHtcclxuICAgICAgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgcXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcy5jb25jYXQocXVlcnlTd2l0Y2hlcih2YWx1ZSwgW2AkeyBwcmVmaXggfVtdYF0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBxdWVyeVBhcmFtcy5wdXNoKHtcclxuICAgICAgICBwYXJhbTogYCR7IHByZWZpeCB9W11gLFxyXG4gICAgICAgIHZhbHVlXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHF1ZXJ5UGFyYW1zLiQ7XHJcbiAgfSlcclxuICAuY2FzZShpc1BsYWluT2JqZWN0LCAocHJlZml4LCBxdWVyeSkgPT4ge1xyXG4gICAgbGV0IHF1ZXJ5UGFyYW1zID0gbmV3IEFycihbXSk7XHJcblxyXG4gICAgaXRlcmF0ZShxdWVyeSwgKHZhbHVlLCBwYXJhbSkgPT4ge1xyXG4gICAgICBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkgfHwgaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICBxdWVyeVBhcmFtcyA9IHF1ZXJ5UGFyYW1zLmNvbmNhdChxdWVyeVN3aXRjaGVyKHZhbHVlLCBbcHJlZml4ID8gYCR7IHByZWZpeCB9WyR7IHBhcmFtIH1dYCA6IHBhcmFtXSkpO1xyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHF1ZXJ5UGFyYW1zLnB1c2goe1xyXG4gICAgICAgIHBhcmFtOiBwcmVmaXggPyBgJHsgcHJlZml4IH1bJHsgcGFyYW0gfV1gIDogcGFyYW0sXHJcbiAgICAgICAgdmFsdWU6IGlzT2JqZWN0KHZhbHVlKSA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IFN0cmluZyh2YWx1ZSlcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcXVlcnlQYXJhbXMuJDtcclxuICB9KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gY29uc3RydWN0VVJMXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBiYXNlVVJMIC0gQmFzZVVSTCBvZiB0aGUgb3V0cHV0IFVSTC5cclxuICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIE1haW4gcGFydCBvZiB0aGUgb3V0cHV0IFVSTC5cclxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFBhcmFtcyB0byByZXBsYWNlIGluIHRoZSB1cmwgZXhwcmVzc2lvbnMgbGlrZSBcIjpwYXJhbVwiLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcXVlcnkgLSBPYmplY3Qgd2l0aCBxdWVyeSBwYXJhbXMuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGFzaCA9ICcnXSAtIFVSTCBoYXNoLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2VuY29kZU9wdGlvbnMgPSB7fV0gLSBJZiB5b3UgbmVlZCB0byBlbmNvZGUgc29tZXRoaW5nLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2VuY29kZU9wdGlvbnMucGFyYW1zID0gdHJ1ZV0gLSBJZiB5b3UgbmVlZCB0byBlbmNvZGUgcGFyYW1zLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2VuY29kZU9wdGlvbnMucXVlcnkgPSB0cnVlXSAtIElmIHlvdSBuZWVkIHRvIGVuY29kZSBxdWVyeSBwYXJhbXMuXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IENvbnN0cnVjdGVkIFVSTC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjb25zdHJ1Y3RpbmcgVVJMIGZyb20gdGhlIGJhc2UgVVJMLCBVUkwsIHBhcmFtcyBhbmQgcXVlcnkgcGFyYW1zLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKGJhc2VVUkwsIHVybCwgcGFyYW1zLCBxdWVyeSwgaGFzaCA9ICcnLCBlbmNvZGVPcHRpb25zID0ge30pID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBwYXJhbXM6IGVuY29kZVBhcmFtcyA9IHRydWUsXHJcbiAgICBxdWVyeTogZW5jb2RlUXVlcnkgPSB0cnVlXHJcbiAgfSA9IGVuY29kZU9wdGlvbnM7XHJcbiAgbGV0IFVSTCA9IGlzQWJzb2x1dGUodXJsKVxyXG4gICAgPyB1cmxcclxuICAgIDogYCR7IFN0cmluZyhiYXNlVVJMKS5yZXBsYWNlKC9cXC8rJC8sICcnKSB9LyR7IFN0cmluZyh1cmwpLnJlcGxhY2UoL15cXC8rLywgJycpIH1gO1xyXG5cclxuICBpdGVyYXRlKHBhcmFtcywgKHZhbHVlLCBwYXJhbSkgPT4ge1xyXG4gICAgVVJMID0gbmV3IFN0cihVUkwpLnJlcGxhY2VTdHJpbmcoYDokeyBwYXJhbSB9YCwgZW5jb2RlKHZhbHVlLCBlbmNvZGVQYXJhbXMpKS4kO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBxdWVyeVBhcmFtcyA9IHF1ZXJ5U3dpdGNoZXIocXVlcnksIFsnJ10pO1xyXG5cclxuICBpZiAocXVlcnlQYXJhbXMubGVuZ3RoKSB7XHJcbiAgICBVUkwgKz0gKFVSTC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHF1ZXJ5UGFyYW1zXHJcbiAgICAgIC5tYXAoKHsgcGFyYW0sIHZhbHVlIH0pID0+IGAkeyBlbmNvZGUocGFyYW0sIGVuY29kZVF1ZXJ5KSB9PSR7IGVuY29kZSh2YWx1ZSwgZW5jb2RlUXVlcnkpIH1gKVxyXG4gICAgICAuam9pbignJicpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGAkeyBVUkwgfSR7IGhhc2ggPyBgIyR7IGhhc2ggfWAgOiAnJyB9YDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNBYnNvbHV0ZVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gVVJMIHRvIGNoZWNrIGlmIGl0IGlzIGFic29sdXRlIG9yIG5vdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBVUkwgaXMgYWJzb2x1dGUgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNBYnNvbHV0ZSh1cmwpIHtcclxuICByZXR1cm4gYWJzb2x1dGVVUkxSZWdleHAudGVzdCh1cmwpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGVuY29kZVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIC0gU3RyaW5nIHRvIGVuY29kZSB1c2luZyBlbmNvZGVVUklDb21wb25lbnQuXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNFbmNvZGVkIC0gSWYgdGhlIHN0cmluZyBzaG91bGQgYmUgZW5jb2RlZC5cclxuICogQHJldHVybnMge1N0cmluZ30gRW5jb2RlZCBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBlbmNvZGUoc3RyaW5nLCBpc0VuY29kZWQpIHtcclxuICByZXR1cm4gaXNFbmNvZGVkID8gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykgOiBzdHJpbmc7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgRmV0Y2hcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEZldGNoIGNsYXNzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICcuL1Byb21pc2UnO1xyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBBcnIgfSBmcm9tICcuL0Fycic7XHJcbmltcG9ydCB7IFN0ciB9IGZyb20gJy4vU3RyJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZyxcclxuICBhc3NpZ24sIFN5bWJvbCwgdmFsaWRhdGUsIGl0ZXJhdGUsIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgY29uc3RydWN0VVJMIGZyb20gJy4vaGVscGVycy9jb25zdHJ1Y3RVUkwnO1xyXG5pbXBvcnQgcGFyc2VIZWFkZXJzIGZyb20gJy4vaGVscGVycy9wYXJzZUhlYWRlcnMnO1xyXG5pbXBvcnQgdHJhbnNmb3JtRGF0YSBmcm9tICcuL2hlbHBlcnMvdHJhbnNmb3JtRGF0YSc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeydnZXQnfCdwb3N0J3wnZGVsZXRlJ3wnaGVhZCd8J3B1dCd8J3BhdGNoJ30gRmV0Y2hNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBGZXRjaENvbmZpZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEFmdGVyTWlkZGxld2FyZXxGZXRjaEVycm9yQWZ0ZXJNaWRkbGV3YXJlPn0gW2FmdGVyXVxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gW2F1dGhdXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbYXV0aC51c2VybmFtZV1cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFthdXRoLnBhc3N3b3JkXVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW2Jhc2VVUkxdXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEJlZm9yZU1pZGRsZXdhcmV8RmV0Y2hFcnJvckJlZm9yZU1pZGRsZXdhcmU+fSBbYmVmb3JlXVxyXG4gKiBAcHJvcGVydHkgeyp9IFtkYXRhXVxyXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBTdHJpbmdbXT59IFtoZWFkZXJzXVxyXG4gKiBAcHJvcGVydHkge0ZldGNoTWV0aG9kfSBbbWV0aG9kXVxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gW3BhcmFtc11cclxuICogQHByb3BlcnR5IHtPYmplY3R9IFtxdWVyeV1cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtyZXNwb25zZVR5cGVdXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbdGltZW91dF1cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFt1cmxdXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3dpdGhDcmVkZW50aWFsc11cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gRmV0Y2hSZXNwb25zZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwcm9wZXJ0eSB7RmV0Y2hDb25maWd9IGNvbmZpZ1xyXG4gKiBAcHJvcGVydHkgeyp9IGRhdGFcclxuICogQHByb3BlcnR5IHtPYmplY3QuPFN0cmluZywgU3RyaW5nPn0gaGVhZGVyc1xyXG4gKiBAcHJvcGVydHkge051bWJlcn0gc3RhdHVzXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzdGF0dXNUZXh0XHJcbiAqIEBwcm9wZXJ0eSB7WE1MSHR0cFJlcXVlc3R9IHhoclxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRmV0Y2hBZnRlck1pZGRsZXdhcmVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ZldGNoUmVzcG9uc2V9IGNvbmZpZyAtIEZldGNoIHJlc3BvbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRmV0Y2hFcnJvckFmdGVyTWlkZGxld2FyZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXJyb3J8Kn0gZXJyIC0gVGhyb3duIGVycm9yLlxyXG4gKiBAcGFyYW0ge0ZldGNoUmVzcG9uc2V9IGNvbmZpZyAtIEZldGNoIHJlc3BvbnNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRmV0Y2hCZWZvcmVNaWRkbGV3YXJlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtGZXRjaENvbmZpZ30gY29uZmlnIC0gRmV0Y2ggY29uZmlnLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRmV0Y2hFcnJvckJlZm9yZU1pZGRsZXdhcmVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Vycm9yfCp9IGVyciAtIFRocm93biBlcnJvci5cclxuICogQHBhcmFtIHtGZXRjaENvbmZpZ30gY29uZmlnIC0gRmV0Y2ggY29uZmlnLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRmV0Y2hDb25maWdGdW5jdGlvblxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IGNvbmZpZ1xyXG4gKi9cclxuXHJcbmNvbnN0IGRlZmF1bHRzID0ge1xyXG4gIGFmdGVyOiBbXSxcclxuICBhdXRoOiB7XHJcbiAgICB1c2VybmFtZTogJycsXHJcbiAgICBwYXNzd29yZDogJydcclxuICB9LFxyXG4gIGJhc2VVUkw6IGdsb2JhbC5sb2NhdGlvbi5vcmlnaW4sXHJcbiAgYmVmb3JlOiBbXSxcclxuICBkYXRhOiBudWxsLFxyXG4gIGhlYWRlcnM6IHt9LFxyXG4gIG1ldGhvZDogJ2dldCcsXHJcbiAgcGFyYW1zOiB7fSxcclxuICBxdWVyeToge30sXHJcbiAgcmVzcG9uc2VUeXBlOiAnJyxcclxuICB0aW1lb3V0OiAwLFxyXG4gIHVybDogJycsXHJcbiAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZVxyXG59O1xyXG5jb25zdCB1cGxvYWRNZXRob2RzID0gbmV3IEFycihbJ3Bvc3QnLCAncHV0J10pO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBGZXRjaFxyXG4gKiBAZXh0ZW5kcyBGdW5jdGlvblxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWcgPSB7fV0gLSBBIG51bWJlciB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RmV0Y2h9IEluc3RhbmNlIG9mIEZldGNoLlxyXG4gKiBBbiBpbnN0YW5jZSBvZiBGZXRjaCBpcyBhIGZ1bmN0aW9uIHRoYXQgc2ltcGx5IGNhbGxzICNyZXF1ZXN0IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzLlxyXG4gKiBAZGVzY3JpcHRpb24gQ2xhc3MgZm9yIGZldGNoaW5nIGRhdGEuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKCk7XHJcbiAqXHJcbiAqIGZldGNoKCcvZGF0YScpLnRoZW4oKHJlcykgPT4ge1xyXG4gKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAqIH0pO1xyXG4gKi9cclxuY2xhc3MgRmV0Y2ggZXh0ZW5kcyBGdW5jdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gZmV0Y2goKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaC5yZXF1ZXN0LmFwcGx5KGZldGNoLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbmYgPSBuZXcgU3VwZXIoe30pLmRlZXBBc3NpZ24oZGVmYXVsdHMsIGNvbmZpZykuJDtcclxuXHJcbiAgICBpZiAoY29uZi5iZWZvcmUuaW5kZXhPZihmZXRjaEJlZm9yZU1pZGRsZXdhcmUpID09PSAtMSkge1xyXG4gICAgICBjb25mLmJlZm9yZS5wdXNoKGZldGNoQmVmb3JlTWlkZGxld2FyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIHtGZXRjaENvbmZpZ30gRmV0Y2gjJCRcclxuICAgICAqIEB0eXBlIHtGZXRjaENvbmZpZ31cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBGZXRjaCBjb25maWcuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmZXRjaCwgJyQkJywgeyB2YWx1ZTogY29uZiB9KTtcclxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihmZXRjaCwgRmV0Y2gucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gZmV0Y2g7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2FmdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RmV0Y2hBZnRlck1pZGRsZXdhcmV8RmV0Y2hFcnJvckFmdGVyTWlkZGxld2FyZX0gbWlkZGxld2FyZSAtIE1pZGRsZXdhcmUgdG8gYWRkLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYWZ0ZXJBbGwgPSB0cnVlXSAtIEJvb2xlYW4gcGFyYW1ldGVyIHdoZXJlIHRvIHB1dCB0aGUgbWlkZGxld2FyZS5cclxuICAgKiBUcnV0aHkgcGFyYW1ldGVyIHN0YW5kcyBmb3IgXCJ0byB0aGUgZW5kXCIgYW5kIGZhbHNleSBmb3IgXCJ0byB0aGUgYmVnaW5uaW5nXCIuXHJcbiAgICogQHJldHVybnMge0ZldGNofSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1pZGRsZXdhcmUgdGhhdCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIHJlcXVlc3QuXHJcbiAgICogSWYgdGhlIG1pZGRsZXdhcmUgaGFzIDIgb3IgbGVzcyBhcmd1bWVudHMgaXQncyB0cmVhdGVkIGFzIHN1Y2Nlc3MgbWlkZGxld2FyZSBvdGhlcndpc2UgYXMgYW4gZXJyb3Igb25lLlxyXG4gICAqIElmIHRoZSBtaWRkbGV3YXJlIHJldHVybnMgYSBwcm9taXNlIGl0IGJlY29tZXMgYSBwYXJ0IG9mIHRoZSBtaWRkbGV3YXJlIGNoYWluLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpXHJcbiAgICogICAuYWZ0ZXIoKGVyciwgcmVzKSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICpcclxuICAgKiAgICAgdGhyb3cgZXJyO1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5hZnRlcigocmVzKSA9PiB7XHJcbiAgICogICAgIHJlcy5qc29uID0gRChyZXMuZGF0YSkucGFyc2VKU09OKCk6XHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICBhZnRlcihtaWRkbGV3YXJlLCBhZnRlckFsbCA9IHRydWUpIHtcclxuICAgIHZhbGlkYXRlKFttaWRkbGV3YXJlXSwgWydmdW5jdGlvbiddLCAnRmV0Y2gjYWZ0ZXInKTtcclxuXHJcbiAgICBjb25zdCB7IGFmdGVyIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChhZnRlckFsbCkge1xyXG4gICAgICBhZnRlci5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWZ0ZXIudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjYmVmb3JlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RmV0Y2hCZWZvcmVNaWRkbGV3YXJlfEZldGNoRXJyb3JCZWZvcmVNaWRkbGV3YXJlfSBtaWRkbGV3YXJlIC0gTWlkZGxld2FyZSB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtiZWZvcmVBbGwgPSB0cnVlXSAtIEJvb2xlYW4gcGFyYW1ldGVyIHdoZXJlIHRvIHB1dCB0aGUgbWlkZGxld2FyZS5cclxuICAgKiBUcnV0aHkgcGFyYW1ldGVyIHN0YW5kcyBmb3IgXCJ0byB0aGUgYmVnaW5uaW5nXCIgYW5kIGZhbHNleSBmb3IgXCJ0byB0aGUgZW5kXCIuXHJcbiAgICogQHJldHVybnMge0ZldGNofSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1pZGRsZXdhcmUgdGhhdCBpcyBjYWxsZWQgYmVmb3JlIHRoZSByZXF1ZXN0LlxyXG4gICAqIElmIHRoZSBtaWRkbGV3YXJlIGhhcyAyIG9yIGxlc3MgYXJndW1lbnRzIGl0J3MgdHJlYXRlZCBhcyBzdWNjZXNzIG1pZGRsZXdhcmUgb3RoZXJ3aXNlIGFzIGFuIGVycm9yIG9uZS5cclxuICAgKiBJZiB0aGUgbWlkZGxld2FyZSByZXR1cm5zIGEgcHJvbWlzZSBpdCBiZWNvbWVzIGEgcGFydCBvZiB0aGUgbWlkZGxld2FyZSBjaGFpbi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKVxyXG4gICAqICAgLmJlZm9yZSgoZXJyLCByZXEpID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgKlxyXG4gICAqICAgICB0aHJvdyBlcnI7XHJcbiAgICogICB9KVxyXG4gICAqICAgLmJlZm9yZSgocmVxKSA9PiB7XHJcbiAgICogICAgIGlmIChyZXEudXJsID09PSAnL3ZlcnlMb25nUmVxdWVzdCcpIHtcclxuICAgKiAgICAgICByZXEudGltZW91dCA9IDMwMDAwO1xyXG4gICAqICAgICB9XHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICBiZWZvcmUobWlkZGxld2FyZSwgYmVmb3JlQWxsID0gdHJ1ZSkge1xyXG4gICAgdmFsaWRhdGUoW21pZGRsZXdhcmVdLCBbJ2Z1bmN0aW9uJ10sICdGZXRjaCNiZWZvcmUnKTtcclxuXHJcbiAgICBjb25zdCB7IGJlZm9yZSB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoYmVmb3JlQWxsKSB7XHJcbiAgICAgIGJlZm9yZS51bnNoaWZ0KG1pZGRsZXdhcmUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmVmb3JlLnB1c2gobWlkZGxld2FyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2NvbmZpZ1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGZXRjaENvbmZpZ3xGZXRjaENvbmZpZ0Z1bmN0aW9ufSBbcHJvcGVydHldIC0gSWYgaXQncyBhIGZ1bmN0aW9uXHJcbiAgICogaXQncyBjYWxsZWQgd2l0aCB0aGUgZmV0Y2ggY29uZmlnIGFyZ3VtZW50LCBpZiBpdCdzIGEgc3RyaW5nIHRoZSB2YWx1ZSBhcmd1bWVudFxyXG4gICAqIGlzIHVzZWQgZm9yIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5IHRvIHRoZSBmZXRjaCBjb25maWdcclxuICAgKiBvdGhlcndpc2UgaXQncyBhc3NpZ25lZCB0byB0aGUgZmV0Y2ggY29uZmlnLlxyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFNlZSB0aGUgcHJvcGVydHkgYXJndW1lbnQuXHJcbiAgICogQHJldHVybnMge0ZldGNofEZldGNoQ29uZmlnfSBJZiB0aGUgYXJndW1lbnQgaXMgcHJlc2VudCB0aGlzIGlzIHJldHVybmVkIG90aGVyd2lzZSB0aGUgZmV0Y2ggY29uZmlnIGlzIHJldHVybmVkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcgYW5kIHNldHRpbmcgY29uZmlnLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpO1xyXG4gICAqXHJcbiAgICogZmV0Y2guY29uZmlnKHsgYmFzZVVSTDogNTAwMCB9KTtcclxuICAgKiBmZXRjaC5jb25maWcoKS50aW1lb3V0OyAvLyA1MDAwXHJcbiAgICpcclxuICAgKiBmZXRjaC5jb25maWcoKGNvbmZpZykgPT4ge1xyXG4gICAqICAgY29uZmlnLmJhc2VVUkwgKz0gJy9hcGknO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGNvbmZpZyhwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGNvbnN0IGNvbmYgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gY29uZjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkoY29uZik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG5ldyBTdXBlcihjb25mKS5kZWVwQXNzaWduKHByb3BlcnR5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjZGVsZXRlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGRlbGV0ZSByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEZldGNoKCkuZGVsZXRlKCcvZGF0YScpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBkZWxldGUodXJsLCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKCFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdkZWxldGUnIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNnZXRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt1cmxdIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAZGVzY3JpcHRpb24gU2hvcnRoYW5kIGZvciAjcmVxdWVzdCBmb3IgZ2V0IHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5nZXQoJy9kYXRhJykudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGdldCh1cmwsIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gdXJsO1xyXG4gICAgICB1cmwgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIGFzc2lnbih7IG1ldGhvZDogJ2dldCcgfSwgY29uZmlnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2hlYWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt1cmxdIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAZGVzY3JpcHRpb24gU2hvcnRoYW5kIGZvciAjcmVxdWVzdCBmb3IgaGVhZCByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEZldGNoKCkuaGVhZCgnL2RhdGEnKS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgaGVhZCh1cmwsIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gdXJsO1xyXG4gICAgICB1cmwgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIGFzc2lnbih7IG1ldGhvZDogJ2hlYWQnIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNoZWFkZXJzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBTdHJpbmd8U3RyaW5nW10+fSBoZWFkZXIgLSBBIGhlYWRlciBzdHJpbmcgb3IgYW4gb2JqZWN0IG9mIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxyXG4gICAqIHsgW2hlYWRlcl06IFt2YWx1ZTEsIHZhbHVlMiwgLi4uXSB9LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfFN0cmluZ1tdfSBbdmFsdWVdIC0gSGVhZGVyIHZhbHVlLiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBzdHJpbmdcclxuICAgKiB0aGlzIGhhcyB0byBiZSBhIGhlYWRlciB2YWx1ZSBvciBhbiBhcnJheSBvZiBoZWFkZXIgdmFsdWVzLlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHNldHRpbmcgcmVxdWVzdCBoZWFkZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpXHJcbiAgICogICAuaGVhZGVycygnSGVhZGVyMScsICdWYWx1ZScpXHJcbiAgICogICAuaGVhZGVycygnSGVhZGVyMicsIFsnVmFsdWUxJywgJ1ZhbHVlMiddKVxyXG4gICAqICAgLmhlYWRlcnMoe1xyXG4gICAqICAgICBIZWFkZXIzOiBbJ1ZhbHVlMScsICdWYWx1ZTInXVxyXG4gICAqICAgfSk7XHJcbiAgICovXHJcbiAgaGVhZGVycyhoZWFkZXIsIHZhbHVlKSB7XHJcbiAgICBjb25zdCB7IGhlYWRlcnMgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBoZWFkZXIgPSB7IFtoZWFkZXJdOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdGUoaGVhZGVyLCAodmFsdWUsIGhlYWRlcikgPT4ge1xyXG4gICAgICBjb25zdCBhcnJheSA9IGhlYWRlcnNbaGVhZGVyXSB8fCBbXTtcclxuICAgICAgY29uc3QgdG9QdXNoID0gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XHJcblxyXG4gICAgICAoaGVhZGVyc1toZWFkZXJdID0gYXJyYXkpLnB1c2guYXBwbHkoYXJyYXksIHRvUHVzaCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjaW5zdGFuY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBOZXcgY29uZmlnIGlmIG5lZWRlZC5cclxuICAgKiBAcmV0dXJucyB7RmV0Y2h9IE5ldyBpbnN0YW5jZSBvZiBGZXRjaC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBjcmVhdGluZyBuZXcgZmV0Y2ggaW5zdGFuY2VzIGJhc2VkIG9uIGFscmVhZHkgZXhpc3RlbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IG1haW5GZXRjaCA9IG5ldyBGZXRjaCh7XHJcbiAgICogICBiYXNlVVJMOiAnLy9vdGhlci5kb21haW4uY29tL2FwaScsXHJcbiAgICogICB3aXRoQ3JlZGVudGlhbHM6IHRydWVcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGNvbnN0IGxvbmdGZXRjaCA9IG1haW5GZXRjaC5pbnN0YW5jZSh7XHJcbiAgICogICB0aW1lb3V0OiAxMDAwMFxyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGluc3RhbmNlKGNvbmZpZyA9IHt9KSB7XHJcbiAgICBjb25zdCBkYXRhQ29uZmlnID0gbmV3IFN1cGVyKGNvbmZpZykuaGFzT3duKCdkYXRhJylcclxuICAgICAgPyB7IGRhdGE6IGNvbmZpZy5kYXRhIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICBkZWxldGUgY29uZmlnLmRhdGE7XHJcblxyXG4gICAgY29uc3QgY29uZiA9IG5ldyBTdXBlcih7fSlcclxuICAgICAgLmRlZXBBc3NpZ24odGhpcy4kJCwgY29uZmlnKVxyXG4gICAgICAuYXNzaWduKGRhdGFDb25maWcpXHJcbiAgICAgIC4kO1xyXG5cclxuICAgIHJldHVybiBuZXcgRmV0Y2goY29uZik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI3BhdGNoXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHsqfSBbZGF0YV0gLSBBZGRpdGlvbmFsIHBhcmFtZXRlciBmb3IgdXBsb2FkaW5nIGRhdGEuXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGhlYWQgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLnBhdGNoKCcvZGF0YScsIHsgdXNlcjogJ0pvaG4nIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBwYXRjaCh1cmwsIGRhdGEgPSB7fSwgY29uZmlnID0ge30pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmICFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IGRhdGE7XHJcbiAgICAgIGRhdGEgPSB1cmw7XHJcbiAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHVybCwgYXNzaWduKHsgbWV0aG9kOiAncGF0Y2gnLCBkYXRhIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNwb3N0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHsqfSBbZGF0YV0gLSBBZGRpdGlvbmFsIHBhcmFtZXRlciBmb3IgdXBsb2FkaW5nIGRhdGEuXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGhlYWQgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLnBvc3QoJy9kYXRhJywgeyB1c2VyOiAnSm9obicgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHBvc3QodXJsLCBkYXRhID0ge30sIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiAhaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSBkYXRhO1xyXG4gICAgICBkYXRhID0gdXJsO1xyXG4gICAgICB1cmwgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIGFzc2lnbih7IG1ldGhvZDogJ3Bvc3QnLCBkYXRhIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNwdXRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt1cmxdIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcGFyYW0geyp9IFtkYXRhXSAtIEFkZGl0aW9uYWwgcGFyYW1ldGVyIGZvciB1cGxvYWRpbmcgZGF0YS5cclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAZGVzY3JpcHRpb24gU2hvcnRoYW5kIGZvciAjcmVxdWVzdCBmb3IgaGVhZCByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEZldGNoKCkucHV0KCcvZGF0YScsIHsgdXNlcjogJ0pvaG4nIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBwdXQodXJsLCBkYXRhID0ge30sIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiAhaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSBkYXRhO1xyXG4gICAgICBkYXRhID0gdXJsO1xyXG4gICAgICB1cmwgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIGFzc2lnbih7IG1ldGhvZDogJ3B1dCcsIGRhdGEgfSwgY29uZmlnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI3JlcXVlc3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt1cmxdIC0gVVJMIGZvciB0aGUgcmVxdWVzdC5cclxuICAgKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnXSAtIEFkZGl0aW9uYWwgY29uZmlnIGZvciB0aGlzIHBhcnRpY3VsYXIgcmVxdWVzdC5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmVxdWVzdCByZXNwb25zZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWFpbiBmdW5jdGlvbiBmb3IgbWFraW5nIHJlcXVlc3RzLiBBbGwgcmVxdWVzdCBtZXRob2RzIGNhbGwgdGhpcyBtZXRob2RcclxuICAgKiBpbmNsdWRpbmcgdGhlIGZldGNoIGluc3RhbmNlIGl0c2VsZi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKTtcclxuICAgKlxyXG4gICAqIGZldGNoLnJlcXVlc3QoJy9kYXRhJywgeyB0aW1lb3V0OiAxMDAwIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGZldGNoLnJlcXVlc3QoeyB0aW1lb3V0OiAxMDAwIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGZldGNoLnJlcXVlc3QoKS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgcmVxdWVzdCh1cmwsIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGF0YUNvbmZpZyA9IG5ldyBTdXBlcihjb25maWcpLmhhc093bignZGF0YScpXHJcbiAgICAgID8geyBkYXRhOiBjb25maWcuZGF0YSB9XHJcbiAgICAgIDoge307XHJcbiAgICBjb25zdCB1cmxDb25maWcgPSBpc1N0cmluZyh1cmwpXHJcbiAgICAgID8geyB1cmwgfVxyXG4gICAgICA6IHt9O1xyXG5cclxuICAgIGRlbGV0ZSBjb25maWcuZGF0YTtcclxuXHJcbiAgICBjb25zdCBjb25mID0gbmV3IFN1cGVyKHRoaXMuJCQpXHJcbiAgICAgIC5kZWVwQ2xvbmUoKVxyXG4gICAgICAuZGVlcEFzc2lnbih1cmxDb25maWcsIGNvbmZpZylcclxuICAgICAgLmFzc2lnbihkYXRhQ29uZmlnKVxyXG4gICAgICAuJDtcclxuXHJcbiAgICBsZXQgeGhyO1xyXG4gICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbiAgICBpdGVyYXRlKGNvbmYuYmVmb3JlLCAobWlkZGxld2FyZSkgPT4ge1xyXG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IHtcclxuICAgICAgICBpZiAobWlkZGxld2FyZS5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKG1pZGRsZXdhcmUoY29uZikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgaWYgKG1pZGRsZXdhcmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgIHJlc29sdmUobWlkZGxld2FyZShlcnIsIGNvbmYpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGFmdGVyLFxyXG4gICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgcGFzc3dvcmRcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGEsXHJcbiAgICAgICAgaGVhZGVycyxcclxuICAgICAgICBtZXRob2QsXHJcbiAgICAgICAgb25wcm9ncmVzcyxcclxuICAgICAgICByZXNwb25zZVR5cGUsXHJcbiAgICAgICAgdGltZW91dCxcclxuICAgICAgICB1cmwsXHJcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzXHJcbiAgICAgIH0gPSBjb25mO1xyXG5cclxuICAgICAgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSwgdXNlcm5hbWUsIHBhc3N3b3JkKTtcclxuXHJcbiAgICAgIGl0ZXJhdGUoaGVhZGVycywgKHZhbHVlLCBoZWFkZXIpID0+IHtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIHZhbHVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAob25wcm9ncmVzcykge1xyXG4gICAgICAgIGlmICh1cGxvYWRNZXRob2RzLmluZGV4T2ZTdHJpY3QobWV0aG9kKSA9PT0gLTEpIHtcclxuICAgICAgICAgIHhoci5vbnByb2dyZXNzID0gb25wcm9ncmVzcztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeGhyLnVwbG9hZC5vbnByb2dyZXNzID0gb25wcm9ncmVzcztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5vbmFib3J0ID0gKCkgPT4ge1xyXG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3Qgd2FzIGFib3J0ZWQnKSk7XHJcblxyXG4gICAgICAgIHhociA9IG51bGw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB4aHIub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xyXG5cclxuICAgICAgICB4aHIgPSBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLm9udGltZW91dCA9ICgpID0+IHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHRpbWUgZXhjZWVkZWQnKSk7XHJcblxyXG4gICAgICAgIHhociA9IG51bGw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICgheGhyIHx8ICF4aHIuc3RhdHVzIHx8IHhoci5yZWFkeVN0YXRlICE9PSA0KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcclxuICAgICAgICAgIGNvbmZpZzogY29uZixcclxuICAgICAgICAgIGRhdGE6ICFyZXNwb25zZVR5cGUgfHwgcmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyB4aHIucmVzcG9uc2VUZXh0IDogeGhyLnJlc3BvbnNlLFxyXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSksXHJcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzLFxyXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1cyA9PT0gMTIyMyA/ICdObyBDb250ZW50JyA6IHhoci5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgeGhyXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbiAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWlkZGxld2FyZS5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShtaWRkbGV3YXJlKHJlc3BvbnNlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICBpZiAobWlkZGxld2FyZS5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUobWlkZGxld2FyZShlcnIsIHJlc3BvbnNlKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc29sdmUocHJvbWlzZVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4gcmVzcG9uc2UpXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGVyci5yZXNwb25zZSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xyXG4gICAgICB4aHIudGltZW91dCA9IE51bWJlcih0aW1lb3V0KSB8fCAwO1xyXG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gISF3aXRoQ3JlZGVudGlhbHM7XHJcblxyXG4gICAgICB4aHIuc2VuZChkYXRhKTtcclxuICAgIH0pKTtcclxuXHJcbiAgICBwcm9taXNlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGlmICh4aHIpIHtcclxuICAgICAgICB4aHIuYWJvcnQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH1cclxufVxyXG5cclxuZGVmaW5lUHJvcGVydGllcyhGZXRjaC5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ0ZldGNoJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZmV0Y2hCZWZvcmVNaWRkbGV3YXJlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IGNvbmZpZ1xyXG4gKiBAZGVzY3JpcHRpb24gQnVpbHQtaW4gYmVmb3JlIG1pZGRsZXdhcmUgZm9yIHVybCwgZGF0YSwgbWV0aG9kLCBoZWFkZXJzIGNvbnN0cnVjdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGZldGNoQmVmb3JlTWlkZGxld2FyZShjb25maWcpIHtcclxuICBjb25zdCB7XHJcbiAgICBiYXNlVVJMLFxyXG4gICAgZGF0YSxcclxuICAgIGhlYWRlcnMsXHJcbiAgICBtZXRob2QsXHJcbiAgICBwYXJhbXMsXHJcbiAgICBxdWVyeSxcclxuICAgIHVybFxyXG4gIH0gPSBjb25maWc7XHJcbiAgY29uc3QgTUVUSE9EID0gbWV0aG9kLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gIGNvbmZpZy5tZXRob2QgPSBNRVRIT0Q7XHJcbiAgY29uZmlnLnVybCA9IGNvbnN0cnVjdFVSTChiYXNlVVJMLCB1cmwsIHBhcmFtcywgcXVlcnkpO1xyXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShkYXRhLCBNRVRIT0QsIGhlYWRlcnMpO1xyXG4gIGNvbmZpZy5oZWFkZXJzID0gbmV3IFN1cGVyKGhlYWRlcnMpLm9iamVjdCgoaGVhZGVycywgdmFsdWVzLCBoZWFkZXIpID0+IHtcclxuICAgIGhlYWRlciA9IG5ldyBTdHIoaGVhZGVyKVxyXG4gICAgICAudG9DYXBpdGFsQ2FzZSgpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICctJylcclxuICAgICAgLiQ7XHJcblxyXG4gICAgaGVhZGVyc1toZWFkZXJdID0gdmFsdWVzLmpvaW4oJywgJyk7XHJcbiAgfSkuJDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RmV0Y2h9IGZldGNoXHJcbiAqIEB0eXBlIHtGZXRjaH1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW1wdHkgaW5zdGFuY2Ugb2YgRmV0Y2guXHJcbiAqL1xyXG5jb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpO1xyXG5cclxuZXhwb3J0IHsgRmV0Y2gsIGZldGNoIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIFJvdXRlclxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgUm91dGVyLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFyciB9IGZyb20gJy4vQXJyJztcclxuaW1wb3J0IHsgRWxlbSwgd2luIH0gZnJvbSAnLi9FbGVtJztcclxuaW1wb3J0IHsgc2VsZiB9IGZyb20gJy4vRnVuYyc7XHJcbmltcG9ydCB7IFN0ciB9IGZyb20gJy4vU3RyJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgc3dpdGNoZXIgfSBmcm9tICcuL1N3aXRjaGVyJztcclxuaW1wb3J0IHsgYXNzaWduLCBpc05pbCwgaXNSZWdFeHAsIGlzU3RyaW5nIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuaW1wb3J0IGNvbnN0cnVjdFVSTCBmcm9tICcuL2hlbHBlcnMvY29uc3RydWN0VVJMJztcclxuaW1wb3J0IHJlc29sdmVVUkwgZnJvbSAnLi9oZWxwZXJzL3Jlc29sdmVVUkwnO1xyXG5cclxuY29uc3QgUm91dGVzID0gbmV3IEFycihbXSk7XHJcbmNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFN1cGVyKHt9KTtcclxuY29uc3Qge1xyXG4gIGhpc3RvcnksXHJcbiAgbG9jYXRpb24sXHJcbiAgbG9jYXRpb246IHtcclxuICAgIG9yaWdpbixcclxuICAgIGhyZWZcclxuICB9XHJcbn0gPSBnbG9iYWw7XHJcbmxldCBpbml0aWFsaXplZDtcclxubGV0IHB1c2hlZDtcclxubGV0IHdhc1Jvb3Q7XHJcbmxldCB3YXNEZWZhdWx0O1xyXG5sZXQgcm9vdFJvdXRlO1xyXG5sZXQgcmVkaXJlY3RSb3V0ZTtcclxubGV0IFJlZGlyZWN0Um91dGU7XHJcbmxldCBkZWZhdWx0Um91dGU7XHJcbmxldCBEZWZhdWx0Um91dGU7XHJcbmxldCBjdXJyZW50Um91dGU7XHJcbmxldCBjdXJyZW50Um91dGVQYXJhbXM7XHJcblxyXG5jb25zdCBwYXRoU3dpdGNoZXIgPSBzd2l0Y2hlcignY2FsbCcsICgpID0+IHtcclxuICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXRlIHBhdGggbXVzdCBiZSBhIHN0cmluZywgYSByZWd1bGFyIGV4cHJlc3Npb24gb3IgdW5kZWZpbmVkISAoYXQgcmVnaXN0ZXJTdGF0ZSknKTtcclxufSlcclxuICAuY2FzZShpc1JlZ0V4cCwgKHBhdGgpID0+ICh7XHJcbiAgICBwYXRoOiBwYXRoLnNvdXJjZS5yZXBsYWNlKC9cXFxcXFwvL2csICcvJyksXHJcbiAgICB1cmw6IHBhdGgsXHJcbiAgICBwYXJhbXM6IHt9XHJcbiAgfSkpXHJcbiAgLmNhc2UoaXNOaWwsICgpID0+ICh7XHJcbiAgICBwYXRoOiAnLycsXHJcbiAgICB1cmw6ICcvJyxcclxuICAgIHBhcmFtczoge31cclxuICB9KSlcclxuICAuY2FzZShpc1N0cmluZywgKHBhdGgpID0+IHtcclxuICAgIGlmIChwYXRoLmluZGV4T2YoJy8nKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lmIHJvdXRlIHBhdGggaXMgYSBzdHJpbmcgaXQgbXVzdCBzdGFydCB3aXRoIFwiL1wiISAoYXQgcmVnaXN0ZXJTdGF0ZSknKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpbmRleCA9IHBhdGguaW5kZXhPZignPycpO1xyXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFN1cGVyKHt9KTtcclxuICAgIGxldCBuZXdVUkwgPSAnJztcclxuICAgIGNvbnN0IG5ld1BhdGggPSBuZXcgU3RyKHBhdGgpXHJcbiAgICAgIC5zbGljZSgwLCBpbmRleCA9PT0gLTEgPyBwYXRoLmxlbmd0aCA6IGluZGV4KVxyXG4gICAgICAucmVwbGFjZSgvXlxcL3xcXC8kL2cpXHJcbiAgICAgIC5zcGxpdCgvXFwvLylcclxuICAgICAgLm1hcCgocGFydCwgaSwgYXJyYXkpID0+IHtcclxuICAgICAgICBpZiAoIXBhcnQgJiYgYXJyYXkubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJZiByb3V0ZSBwYXRoIGlzIGEgc3RyaW5nIGl0IG11c3Qgbm90IGNvbnRhaW4gXCIvL1wiIG9yIGVuZCB3aXRoIFwiL1wiISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJ0LmluZGV4T2YoJzonKTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ID4gMCkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJZiByb3V0ZSBwYXRoIGlzIGEgc3RyaW5nIHJlc291cmNlIHBhcnQgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4gVVJMIHBhcmFtZXRlciEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVybDogcGFydCxcclxuICAgICAgICAgICAgdmFsdWU6IHBhcnRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgcmVnZXhwID0gL1teL10qL1xyXG4gICAgICAgIH0gPSByZXNvbHZlUGFyYW1ldGVyKFxyXG4gICAgICAgICAgcGFydC5zbGljZSgxKSxcclxuICAgICAgICAgICdVUkwgcGFyYW1ldGVyIG11c3Qgbm90IGJlIGFuIGVtcHR5IHN0cmluZyBvciBjb250YWluIGNoYXJhY3RlcnMgYmVzaWRlcyBcImEtekEtWl8kXCIhIChhdCBtYWtlUm91dGUpJyxcclxuICAgICAgICAgICdVUkwgcGFyYW1ldGVyIHJlZ2V4cCB2YWxpZGF0b3IgbXVzdCBiZSB3aXRoaW4gcGFyZW50aGVzZXMgKGUuZy4gOnVzZXJJZChcXFxcZCspIGFuZCBub3QgY29udGFpbiBvbmVzKSEgKGF0IG1ha2VSb3V0ZSknXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcGFyYW1zLiRbbmFtZV0gPSBwYXJhbXMuY291bnQ7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0eXBlOiAncGFyYW0nLFxyXG4gICAgICAgICAgdXJsOiBgOiR7IG5hbWUgfWAsXHJcbiAgICAgICAgICB2YWx1ZTogcmVnZXhwXHJcbiAgICAgICAgfTtcclxuICAgICAgfSlcclxuICAgICAgLndvcmQoKHsgdHlwZSwgdXJsLCB2YWx1ZSB9KSA9PiB7XHJcbiAgICAgICAgbGV0IG5ld1BhdGg7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAncGFyYW0nKSB7XHJcbiAgICAgICAgICBuZXdQYXRoID0gYCgkeyB2YWx1ZS5zb3VyY2UucmVwbGFjZSgvXFxcXFxcLy9nLCAnLycpIH0pYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbmV3UGF0aCA9IG5ldyBTdHIodmFsdWUpLmVzY2FwZVJlZ0V4cCgpLiQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZXdVUkwgKz0gYC8keyB1cmwgfWA7XHJcblxyXG4gICAgICAgIHJldHVybiBgLyR7IG5ld1BhdGggfWA7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHBhdGg6IG5ld1BhdGgsXHJcbiAgICAgIHVybDogbmV3VVJMLFxyXG4gICAgICBwYXJhbXM6IHBhcmFtcy4kXHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuY2xhc3MgUm91dGUge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgcGF0aCA9ICcvJyxcclxuICAgICAgYWJzdHJhY3QgPSBmYWxzZSxcclxuICAgICAgcGFyZW50LFxyXG4gICAgICBkZWNvZGVRdWVyeSA9IHRydWUsXHJcbiAgICAgIGVuY29kZVF1ZXJ5ID0gdHJ1ZSxcclxuICAgICAgZGVjb2RlUGFyYW1zID0gdHJ1ZSxcclxuICAgICAgZW5jb2RlUGFyYW1zID0gdHJ1ZVxyXG4gICAgfSA9IG9wdGlvbnMgfHwge307XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHVybDogcmVsYXRpdmVVUkwsXHJcbiAgICAgIHBhdGg6IHJlbGF0aXZlUGF0aCxcclxuICAgICAgcGFyYW1zXHJcbiAgICB9ID0gcGF0aFN3aXRjaGVyKHBhdGgpO1xyXG4gICAgY29uc3QgcXVlcnkgPSB7fTtcclxuXHJcbiAgICBuZXcgU3VwZXIodGhpcykuYXNzaWduKHtcclxuICAgICAgbmFtZSxcclxuICAgICAgcGFyZW50TmFtZTogcGFyZW50LFxyXG4gICAgICBhYnN0cmFjdDogISFhYnN0cmFjdCxcclxuICAgICAgY2hpbGRyZW46IG5ldyBBcnIoW10pLFxyXG4gICAgICBkZWNvZGVQYXJhbXM6ICEhZGVjb2RlUGFyYW1zLFxyXG4gICAgICBkZWNvZGVRdWVyeTogISFkZWNvZGVRdWVyeSxcclxuICAgICAgZW5jb2RlUGFyYW1zOiAhIWVuY29kZVBhcmFtcyxcclxuICAgICAgZW5jb2RlUXVlcnk6ICEhZW5jb2RlUXVlcnksXHJcbiAgICAgIHBhcmFtcyxcclxuICAgICAgcXVlcnksXHJcbiAgICAgIHJlbGF0aXZlUGF0aCxcclxuICAgICAgcmVsYXRpdmVVUkxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGluZGV4ID0gaXNTdHJpbmcocGF0aCkgPyBwYXRoLmluZGV4T2YoJz8nKSA6IC0xO1xyXG5cclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgbmV3IFN0cihwYXRoKVxyXG4gICAgICAgIC5yZXBsYWNlKC8mJC8pXHJcbiAgICAgICAgLnNsaWNlKGluZGV4ICsgMSlcclxuICAgICAgICAuc3BsaXQoJyYnKVxyXG4gICAgICAgIC5mb3JFYWNoKChwYXJhbSkgPT4ge1xyXG4gICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICByZWdleHAgPSAvW1xcc1xcU10qL1xyXG4gICAgICAgICAgfSA9IHJlc29sdmVQYXJhbWV0ZXIoXHJcbiAgICAgICAgICAgIHBhcmFtLFxyXG4gICAgICAgICAgICAnUXVlcnkgcGFyYW1ldGVyIG11c3Qgbm90IGJlIGFuIGVtcHR5IHN0cmluZyBvciBjb250YWluIGNoYXJhY3RlcnMgYmVzaWRlcyBcImEtekEtWl8kXCIhIChhdCBtYWtlUm91dGUpJyxcclxuICAgICAgICAgICAgJ1F1ZXJ5IHBhcmFtZXRlciByZWdleHAgdmFsaWRhdG9yIG11c3QgYmUgd2l0aGluIHBhcmVudGhlc2VzIChlLmcuIDp1c2VySWQoXFxcXGQrKSkgYW5kIG5vdCBjb250YWluIHRoZW0hIChhdCBtYWtlUm91dGUpJ1xyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBxdWVyeVtuYW1lXSA9IG5ldyBSZWdFeHAoYF4keyByZWdleHAuc291cmNlLnJlcGxhY2UoL1xcXFxcXC8vZywgJy8nKSB9JGApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuYW1lID09PSBkZWZhdWx0Um91dGUgJiYgKFxyXG4gICAgICAgIG5ldyBTdXBlcihwYXJhbXMpLmNvdW50XHJcbiAgICAgICAgfHwgbmV3IFN1cGVyKHF1ZXJ5KS5jb3VudFxyXG4gICAgICApKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGVmYXVsdCByb3V0ZSBtdXN0IG5vdCBoYXZlIFVSTCBvciBxdWVyeSBwYXJhbXMhIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBiYXNlUm91dGUgPSBuZXcgUm91dGUoKTtcclxuXHJcbmZ1bmN0aW9uIGluaXRSb3V0ZXIoKSB7XHJcbiAgaWYgKGluaXRpYWxpemVkKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplZCA9IHRydWU7XHJcbiAgUmVkaXJlY3RSb3V0ZSA9IChSb3V0ZXMuZmluZCgoeyBuYW1lIH0pID0+IG5hbWUgPT09IHJlZGlyZWN0Um91dGUpIHx8IHt9KS52YWx1ZTtcclxuICBEZWZhdWx0Um91dGUgPSAoUm91dGVzLmZpbmQoKHsgbmFtZSB9KSA9PiBuYW1lID09PSBkZWZhdWx0Um91dGUpIHx8IHt9KS52YWx1ZTtcclxuXHJcbiAgaWYgKHJlZGlyZWN0Um91dGUgJiYgIVJlZGlyZWN0Um91dGUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc3BlY2lmaWVkIGZhbGxiYWNrIHJvdXRlIChcIiR7IHJlZGlyZWN0Um91dGUgfVwiKSEgKGF0IGluaXRSb3V0ZXIpYCk7XHJcbiAgfVxyXG5cclxuICBSb3V0ZXNcclxuICAgIC5mb3JFYWNoKChyb3V0ZSkgPT4ge1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgcGFyZW50TmFtZSxcclxuICAgICAgICBuYW1lXHJcbiAgICAgIH0gPSByb3V0ZTtcclxuICAgICAgY29uc3QgUGFyZW50TmFtZSA9IHBhcmVudE5hbWUgfHwgcm9vdFJvdXRlO1xyXG4gICAgICBjb25zdCB7IHZhbHVlOiBwYXJlbnQgfSA9IFJvdXRlcy5maW5kKCh7IG5hbWUgfSkgPT4gbmFtZSA9PT0gUGFyZW50TmFtZSkgfHwge307XHJcblxyXG4gICAgICBpZiAoIXBhcmVudCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3VjaCBwYXJlbnQgcm91dGUgKFwiJHsgUGFyZW50TmFtZSB9XCIpIGZvdW5kIGZvciB0aGUgcm91dGUgKFwiJHsgbmFtZSB9XCIpISAoYXQgaW5pdFJvdXRlcilgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFwYXJlbnQuYWJzdHJhY3QgJiYgbmFtZSAhPT0gcm9vdFJvdXRlKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJlbnQgcm91dGUgbXVzdCBiZSBhYnN0cmFjdCAoZm9yIFwiJHsgbmFtZSB9XCIpISAoYXQgaW5pdFJvdXRlcilgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG5hbWUgIT09IHJvb3RSb3V0ZSkge1xyXG4gICAgICAgIHJvdXRlLnBhcmVudE5hbWUgPSBQYXJlbnROYW1lO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByb3V0ZS5wYXJlbnQgPSBuYW1lID09PSByb290Um91dGVcclxuICAgICAgICA/IGJhc2VSb3V0ZVxyXG4gICAgICAgIDogcGFyZW50O1xyXG4gICAgfSlcclxuICAgIC5mb3JFYWNoKChyb3V0ZSkgPT4ge1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBwYXJlbnQ6IHtcclxuICAgICAgICAgIHBhcmFtczogcGFyZW50UGFyYW1zLFxyXG4gICAgICAgICAgcXVlcnk6IHBhcmVudFF1ZXJ5LFxyXG4gICAgICAgICAgcGF0aFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGFyYW1zLFxyXG4gICAgICAgIHF1ZXJ5LFxyXG4gICAgICAgIHJlbGF0aXZlVVJMLFxyXG4gICAgICAgIHJlbGF0aXZlUGF0aFxyXG4gICAgICB9ID0gcm91dGU7XHJcbiAgICAgIGxldCBwcm90byA9IHJvdXRlO1xyXG4gICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICBsZXQgbmV3UGF0aCA9IHJlbGF0aXZlUGF0aDtcclxuICAgICAgbGV0IG5ld1VSTCA9ICcnO1xyXG5cclxuICAgICAgaWYgKGlzUmVnRXhwKHBhdGgpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUkwgcmVnZXhwIHJvdXRlIGNhbm5vdCBiZSBleHRlbmRlZCEgKGF0IGluaXRSb3V0ZXIpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHdoaWxlIChwcm90byA9IHByb3RvLnBhcmVudCkge1xyXG4gICAgICAgIGNvdW50ICs9IG5ldyBTdXBlcihwcm90by5wYXJhbXMpLmNvdW50O1xyXG4gICAgICAgIG5ld1BhdGggPSBwcm90by5yZWxhdGl2ZVBhdGggKyBuZXdQYXRoO1xyXG4gICAgICAgIG5ld1VSTCA9IHByb3RvLnJlbGF0aXZlVVJMICsgbmV3VVJMO1xyXG5cclxuICAgICAgICBwcm90by5jaGlsZHJlbi5wdXNoKHJvdXRlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3UGF0aCA9IG5ldyBSZWdFeHAoYF4keyBuZXdQYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJyB9JGApO1xyXG4gICAgICBuZXdVUkwgPSBpc1JlZ0V4cChyZWxhdGl2ZVVSTClcclxuICAgICAgICA/IG5ld1BhdGhcclxuICAgICAgICA6IChuZXdVUkwgKyByZWxhdGl2ZVVSTCkucmVwbGFjZSgvXFwvKy9nLCAnLycpLnJlcGxhY2UoL1xcLyQvLCAnJykgfHwgJy8nO1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHF1ZXJ5KS5wcm90byhwYXJlbnRRdWVyeSk7XHJcbiAgICAgIG5ldyBTdXBlcihwYXJhbXMpXHJcbiAgICAgICAgLnByb3RvKHBhcmVudFBhcmFtcylcclxuICAgICAgICAuZm9yRWFjaCgodmFsdWUsIGtleSwgcGFyYW1zKSA9PiB7XHJcbiAgICAgICAgICBwYXJhbXNba2V5XSArPSBjb3VudDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChuYW1lID09PSBkZWZhdWx0Um91dGUgJiYgKFxyXG4gICAgICAgICAgbmV3IFN1cGVyKHBhcmFtcykuY291bnRcclxuICAgICAgICAgIHx8IG5ldyBTdXBlcihxdWVyeSkuY291bnRcclxuICAgICAgICApKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWZhdWx0IHJvdXRlIG11c3Qgbm90IGhhdmUgVVJMIG9yIHF1ZXJ5IHBhcmFtcyEgKGF0IGluaXRSb3V0ZXIpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJvdXRlLnVybCA9IG5ld1VSTDtcclxuICAgICAgcm91dGUudmFsaWRhdGVQYXRoID0gbmV3UGF0aDtcclxuICAgIH0pO1xyXG5cclxuICBjaGFuZ2VSb3V0ZSgpO1xyXG5cclxuICB3aW4ub24oe1xyXG4gICAgcG9wc3RhdGUoKSB7XHJcbiAgICAgIGlmIChsb2NhdGlvbi5ocmVmICE9PSBocmVmKSB7XHJcbiAgICAgICAgcHVzaGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHB1c2hlZCkge1xyXG4gICAgICAgIGNoYW5nZVJvdXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjbGljayhlKSB7XHJcbiAgICAgIGNvbnN0IGNsb3Nlc3RMaW5rID0gbmV3IEVsZW0oZS50YXJnZXQpLmNsb3Nlc3QoJ2EnKTtcclxuXHJcbiAgICAgIGlmIChjbG9zZXN0TGluay5sZW5ndGggJiYgY2xvc2VzdExpbmsuYXR0cigndGFyZ2V0JykgIT09ICdfYmxhbmsnKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBmb3J3YXJkKGNsb3Nlc3RMaW5rLmF0dHIoJ2hyZWYnKSB8fCAnJywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZVJvdXRlKG9wdGlvbnMpIHtcclxuICBjb25zdCB7XHJcbiAgICBuYW1lLFxyXG4gICAgcGF0aCxcclxuICAgIGFic3RyYWN0LFxyXG4gICAgcm9vdCxcclxuICAgIGZhbGxiYWNrVG8sXHJcbiAgICBkZWZhdWx0OiBpc0RlZmF1bHRcclxuICB9ID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgaWYgKGluaXRpYWxpemVkKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ1JvdXRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZCAoYXQgbWFrZVJvdXRlKScpO1xyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH1cclxuXHJcbiAgaWYgKHdhc1Jvb3QgJiYgcm9vdCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBjYW4ndCBiZSB0d28gcm9vdCByb3V0ZXMgKFwiJHsgcm9vdFJvdXRlIH1cIiBhbmQgXCIkeyBuYW1lIH1cIikhIChhdCBtYWtlUm91dGUpYCk7XHJcbiAgfVxyXG5cclxuICBpZiAod2FzRGVmYXVsdCAmJiBpc0RlZmF1bHQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgY2FuJ3QgYmUgdHdvIGRlZmF1bHQgcm91dGVzIChcIiR7IGRlZmF1bHRSb3V0ZSB9XCIgYW5kIFwiJHsgbmFtZSB9XCIpISAoYXQgbWFrZVJvdXRlKWApO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFuYW1lKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXRlIG11c3QgaGF2ZSBhIG5vbi1lbXB0eSBzdHJpbmcgXCJuYW1lXCIgcHJvcGVydHkhIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgfVxyXG5cclxuICBpZiAoUm91dGVzLnNvbWUoKHsgbmFtZTogTmFtZSB9KSA9PiBOYW1lID09PSBuYW1lKSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBtdXN0IGhhdmUgdW5pcXVlIFwibmFtZVwiIHByb3BlcnR5ISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHJvb3QpIHtcclxuICAgIHdhc1Jvb3QgPSB0cnVlO1xyXG4gICAgcm9vdFJvdXRlID0gbmFtZTtcclxuICAgIG9wdGlvbnMucGFyZW50ID0gbnVsbDtcclxuXHJcbiAgICBpZiAoZmFsbGJhY2tUbykge1xyXG4gICAgICByZWRpcmVjdFJvdXRlID0gZmFsbGJhY2tUbztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChpc0RlZmF1bHQpIHtcclxuICAgIHdhc0RlZmF1bHQgPSB0cnVlO1xyXG4gICAgZGVmYXVsdFJvdXRlID0gbmFtZTtcclxuXHJcbiAgICBpZiAoYWJzdHJhY3QpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWZhdWx0IHJvdXRlIGNhblxcJ3QgYmUgYWJzdHJhY3QhIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzUmVnRXhwKHBhdGgpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGVmYXVsdCByb3V0ZSBjYW5cXCd0IGhhdmUgYSByZWdleHAgcGF0aCEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHJvdXRlID0gbmV3IFJvdXRlKG9wdGlvbnMpO1xyXG5cclxuICBSb3V0ZXMucHVzaChyb3V0ZSk7XHJcblxyXG4gIGxldCB1bnN1YnNjcmliZTtcclxuICBsZXQgcm91dGVMb2FkZWQ7XHJcblxyXG4gIHJldHVybiAoQmxvY2spID0+IChcclxuICAgIGNsYXNzIGV4dGVuZHMgQmxvY2sge1xyXG4gICAgICBzdGF0aWMgdGVtcGxhdGUgPSBgPGRpdiBjbGFzcz1cImR3YXluZS1yb3V0ZSByb3V0ZS0keyBuYW1lIH1cIiBkLXNob3c9XCJ7X19pc0N1cnJlbnRSb3V0ZV9ffVwiPiR7IEJsb2NrLnRlbXBsYXRlIH08L2Rpdj5gO1xyXG5cclxuICAgICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICAgIHN1cGVyKG9wdHMpO1xyXG5cclxuICAgICAgICBpZiAocm9vdCkge1xyXG4gICAgICAgICAgaW5pdFJvdXRlcigpO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHJvdXRlciA9IHtcclxuICAgICAgICAgICAgYnVpbGRVUkwobmFtZSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZTogcm91dGUgfSA9IFJvdXRlcy5maW5kKCh7IG5hbWU6IG4gfSkgPT4gbiA9PT0gbmFtZSkgfHwge307XHJcblxyXG4gICAgICAgICAgICAgIGlmICghcm91dGUpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgYXJlIG5vIHJvdXRlcyB3aXRoIG5hbWUgXCIkeyBuYW1lIH1cIiEgKGF0IHJvdXRlci5idWlsZFVSTClgKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgIHVybCxcclxuICAgICAgICAgICAgICAgIGVuY29kZVBhcmFtcyxcclxuICAgICAgICAgICAgICAgIGVuY29kZVF1ZXJ5XHJcbiAgICAgICAgICAgICAgfSA9IHJvdXRlO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoaXNSZWdFeHAodXJsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVUkwgY2FuIGJlIGJ1aWx0IG9ubHkgZnJvbSB0aGUgc3RyaW5nIFVSTHMhIChhdCByb3V0ZXIuYnVpbGRVUkwpJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7fSxcclxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0ge30sXHJcbiAgICAgICAgICAgICAgICBoYXNoID0gJydcclxuICAgICAgICAgICAgICB9ID0gb3B0aW9ucztcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFVSTChvcmlnaW4sIHVybCwgcGFyYW1zLCBxdWVyeSwgaGFzaCwge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBlbmNvZGVQYXJhbXMsXHJcbiAgICAgICAgICAgICAgICBxdWVyeTogZW5jb2RlUXVlcnlcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ28obmFtZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICAgIGZvcndhcmQocm91dGVyLmJ1aWxkVVJMKG5hbWUsIG9wdGlvbnMpLCB0cnVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ29Ub1VSTCh1cmwpIHtcclxuICAgICAgICAgICAgICBmb3J3YXJkKHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHB1c2hVUkwodXJsKSB7XHJcbiAgICAgICAgICAgICAgY2hhbmdlSGlzdG9yeSh1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWRpcmVjdChuYW1lLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgZm9yd2FyZChyb3V0ZXIuYnVpbGRVUkwobmFtZSwgb3B0aW9ucykpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZWRpcmVjdFRvVVJMKHVybCkge1xyXG4gICAgICAgICAgICAgIGZvcndhcmQodXJsKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVwbGFjZVVSTCh1cmwpIHtcclxuICAgICAgICAgICAgICBjaGFuZ2VIaXN0b3J5KHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdGhpcy5nbG9iYWwucm91dGVyID0gcm91dGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fX2lzQ3VycmVudFJvdXRlX18gPSAoXHJcbiAgICAgICAgICByb3V0ZSA9PT0gY3VycmVudFJvdXRlXHJcbiAgICAgICAgICB8fCByb3V0ZS5jaGlsZHJlbi5pbmRleE9mKGN1cnJlbnRSb3V0ZSkgIT09IC0xXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmFyZ3Mucm91dGUgPSBjdXJyZW50Um91dGVQYXJhbXM7XHJcblxyXG4gICAgICAgIHJvdXRlTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBzdWJzY3JpYmUobmFtZSwgKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgaXNDdXJyZW50Um91dGUgPSAoXHJcbiAgICAgICAgICAgIHJvdXRlID09PSBjdXJyZW50Um91dGVcclxuICAgICAgICAgICAgfHwgcm91dGUuY2hpbGRyZW4uaW5kZXhPZihjdXJyZW50Um91dGUpICE9PSAtMVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNDdXJyZW50Um91dGUpIHtcclxuICAgICAgICAgICAgY2FsbEJlZm9yZUxvYWQodGhpcyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsQmVmb3JlTGVhdmUodGhpcyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5hcmdzLnJvdXRlID0gY3VycmVudFJvdXRlUGFyYW1zO1xyXG4gICAgICAgICAgdGhpcy5fX2lzQ3VycmVudFJvdXRlX18gPSBpc0N1cnJlbnRSb3V0ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX19pc0N1cnJlbnRSb3V0ZV9fKSB7XHJcbiAgICAgICAgICBjYWxsQmVmb3JlTG9hZCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJlZm9yZVJlbW92ZSgpIHtcclxuICAgICAgICB1bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIHVuc3Vic2NyaWJlID0gbnVsbDtcclxuICAgICAgICBjYWxsQmVmb3JlTGVhdmUodGhpcyk7XHJcbiAgICAgICAgc3VwZXIuYmVmb3JlUmVtb3ZlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICApO1xyXG5cclxuICBmdW5jdGlvbiBjYWxsQmVmb3JlTG9hZChyb3V0ZSkge1xyXG4gICAgaWYgKHJvdXRlLmJlZm9yZUxvYWRSb3V0ZSAmJiAhcm91dGVMb2FkZWQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByb3V0ZS5iZWZvcmVMb2FkUm91dGUoKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I2JlZm9yZUxlYXZlOmAsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByb3V0ZUxvYWRlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWxsQmVmb3JlTGVhdmUocm91dGUpIHtcclxuICAgIGlmIChyb3V0ZS5iZWZvcmVMZWF2ZVJvdXRlICYmIHJvdXRlTG9hZGVkKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcm91dGUuYmVmb3JlTGVhdmVSb3V0ZSgpO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBVbmNhdWdodCBlcnJvciBpbiAkeyBuYW1lIH0jYmVmb3JlTGVhdmU6YCwgZXJyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJvdXRlTG9hZGVkID0gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdWJzY3JpYmUobmFtZSwgY2FsbGJhY2spIHtcclxuICBzdWJzY3JpYmVycy4kW25hbWVdID0gY2FsbGJhY2s7XHJcblxyXG4gIHJldHVybiAoKSA9PiB7XHJcbiAgICBzdWJzY3JpYmVycy5kZWxldGUobmFtZSk7XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9yd2FyZCh1cmwsIHB1c2gpIHtcclxuICBjaGFuZ2VIaXN0b3J5KHVybCwgcHVzaCk7XHJcbiAgY2hhbmdlUm91dGUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlUm91dGUoKSB7XHJcbiAgY29uc3Qgcm91dGUgPSBmaW5kUm91dGVCeVVSTCgpO1xyXG5cclxuICBpZiAocm91dGUpIHtcclxuICAgICh7XHJcbiAgICAgIHJvdXRlOiBjdXJyZW50Um91dGUsXHJcbiAgICAgIC4uLmN1cnJlbnRSb3V0ZVBhcmFtc1xyXG4gICAgfSA9IHJvdXRlKTtcclxuICAgIGFzc2lnbihjdXJyZW50Um91dGVQYXJhbXMsIHtcclxuICAgICAgbmFtZTogY3VycmVudFJvdXRlLm5hbWUsXHJcbiAgICAgIGhvc3Q6IGxvY2F0aW9uLmhvc3QsXHJcbiAgICAgIGhvc3RuYW1lOiBsb2NhdGlvbi5ob3N0bmFtZSxcclxuICAgICAgaHJlZjogbG9jYXRpb24uaHJlZixcclxuICAgICAgb3JpZ2luOiBsb2NhdGlvbi5vcmlnaW4sXHJcbiAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcclxuICAgICAgcG9ydDogbG9jYXRpb24ucG9ydCxcclxuICAgICAgcHJvdG9jb2w6IGxvY2F0aW9uLnByb3RvY29sLFxyXG4gICAgICBzZWFyY2g6IGxvY2F0aW9uLnNlYXJjaFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChyZWRpcmVjdFJvdXRlKSB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICB1cmwsXHJcbiAgICAgICAgZW5jb2RlUGFyYW1zLFxyXG4gICAgICAgIGVuY29kZVF1ZXJ5XHJcbiAgICAgIH0gPSBSZWRpcmVjdFJvdXRlO1xyXG5cclxuICAgICAgcmV0dXJuIGZvcndhcmQoY29uc3RydWN0VVJMKG9yaWdpbiwgdXJsLCB7fSwge30sICcnLCB7XHJcbiAgICAgICAgcGFyYW1zOiBlbmNvZGVQYXJhbXMsXHJcbiAgICAgICAgcXVlcnk6IGVuY29kZVF1ZXJ5XHJcbiAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBjdXJyZW50Um91dGUgPSBudWxsO1xyXG4gICAgY3VycmVudFJvdXRlUGFyYW1zID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZXJzLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjaygpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZFJvdXRlQnlVUkwoKSB7XHJcbiAgY29uc3QgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSB8fCAnLyc7XHJcbiAgY29uc3Qgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xyXG4gIGxldCB1cmxQYXJhbXM7XHJcblxyXG4gIFJvdXRlcy5zb21lKChyb3V0ZSkgPT4ge1xyXG4gICAgaWYgKHJvdXRlLmFic3RyYWN0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHVybDogcm91dGVVUkwsXHJcbiAgICAgIHZhbGlkYXRlUGF0aCxcclxuICAgICAgcGFyYW1zLFxyXG4gICAgICBxdWVyeTogcmVxdWlyZWRRdWVyeSxcclxuICAgICAgZGVjb2RlUGFyYW1zLFxyXG4gICAgICBkZWNvZGVRdWVyeVxyXG4gICAgfSA9IHJvdXRlO1xyXG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlVVJMKGRlY29kZVF1ZXJ5KTtcclxuICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFN1cGVyKHJlc29sdmVkLnF1ZXJ5KTtcclxuICAgIGNvbnN0IGV2ZW50dWFsUGFyYW1zID0ge307XHJcbiAgICBjb25zdCBtYXRjaCA9IChcclxuICAgICAgKHBhdGhuYW1lLnJlcGxhY2UoL1xcLyQvLCAnJykgfHwgJy8nKSArXHJcbiAgICAgIChpc1JlZ0V4cChyb3V0ZVVSTCkgPyBzZWFyY2ggOiAnJylcclxuICAgICkubWF0Y2godmFsaWRhdGVQYXRoKTtcclxuXHJcbiAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvKiBlc2xpbnQgZ3VhcmQtZm9yLWluOiAwICovXHJcbiAgICBmb3IgKGNvbnN0IHBhcmFtIGluIHJlcXVpcmVkUXVlcnkpIHtcclxuICAgICAgaWYgKCFxdWVyeS5oYXNPd24ocGFyYW0pIHx8ICFyZXF1aXJlZFF1ZXJ5W3BhcmFtXS50ZXN0KHF1ZXJ5LiRbcGFyYW1dKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1hdGNoLnNoaWZ0KCk7XHJcblxyXG4gICAgZm9yIChjb25zdCBwYXJhbSBpbiBwYXJhbXMpIHtcclxuICAgICAgZXZlbnR1YWxQYXJhbXNbcGFyYW1dID0gZGVjb2RlKG1hdGNoW3BhcmFtc1twYXJhbV1dLCBkZWNvZGVQYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVybFBhcmFtcyA9IHtcclxuICAgICAgcm91dGUsXHJcbiAgICAgIHBhcmFtczogZXZlbnR1YWxQYXJhbXMsXHJcbiAgICAgIHF1ZXJ5OiBxdWVyeS4kLFxyXG4gICAgICBoYXNoOiByZXNvbHZlZC5oYXNoXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0pO1xyXG5cclxuICBpZiAodXJsUGFyYW1zKSB7XHJcbiAgICByZXR1cm4gdXJsUGFyYW1zO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFkZWZhdWx0Um91dGUpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByb3V0ZTogRGVmYXVsdFJvdXRlLFxyXG4gICAgcGFyYW1zOiB7fSxcclxuICAgIC4uLnJlc29sdmVVUkwoRGVmYXVsdFJvdXRlLmRlY29kZVF1ZXJ5KVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlY29kZShzdHJpbmcsIGRlY29kZVBhcmFtcykge1xyXG4gIHJldHVybiBkZWNvZGVQYXJhbXNcclxuICAgID8gZGVjb2RlVVJJQ29tcG9uZW50KHN0cmluZylcclxuICAgIDogc3RyaW5nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VIaXN0b3J5KHVybCwgcHVzaCkge1xyXG4gIHRyeSB7XHJcbiAgICBoaXN0b3J5W3B1c2ggPyAncHVzaFN0YXRlJyA6ICdyZXBsYWNlU3RhdGUnXShudWxsLCBudWxsLCB1cmwpO1xyXG4gICAgcHVzaGVkID0gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByZXNvbHZlUGFyYW1ldGVyKHBhcmFtLCBuYW1lRXJyb3JOYW1lLCB2YWx1ZUVycm9yTmFtZSkge1xyXG4gIGNvbnN0IG5hbWVNYXRjaCA9IHBhcmFtLm1hdGNoKC9eW2Etel8kXSsvaSk7XHJcblxyXG4gIGlmICghbmFtZU1hdGNoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IobmFtZUVycm9yTmFtZSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBuYW1lID0gbmFtZU1hdGNoWzBdO1xyXG4gIGNvbnN0IHZhbHVlID0gcGFyYW0uc2xpY2UobmFtZS5sZW5ndGgpO1xyXG4gIGxldCByZWdleHA7XHJcblxyXG4gIGlmICh2YWx1ZSAmJiAodmFsdWUuaW5kZXhPZignKCcpIHx8IHZhbHVlLmluZGV4T2YoJyknKSAhPT0gdmFsdWUubGVuZ3RoIC0gMSkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcih2YWx1ZUVycm9yTmFtZSk7XHJcbiAgfVxyXG5cclxuICBpZiAodmFsdWUpIHtcclxuICAgIHJlZ2V4cCA9IG5ldyBSZWdFeHAodmFsdWUuc2xpY2UoMSwgLTEpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lLFxyXG4gICAgcmVnZXhwXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgbWFrZVJvdXRlIH07XHJcbiIsIi8qIGVzbGludCBuby1uZXN0ZWQtdGVybmFyeTogMCAqL1xyXG4vKiBlc2xpbnQgbm8tbmVnYXRlZC1jb25kaXRpb246IDAgKi9cclxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL2FwcGxpZWRSZWdFeHBzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRpZmZlcmVudCB0eXBlcyBvZiBzeW50YXggZm9yIHtAbGluayBFbGVtI2FwcGx5fS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIG1hdGNoQXBwbGllZEV4cHJDYWxsYmFja1xyXG4gKiBAcGFyYW0ge0VsZW19IGVsZW0gLSBELWVsZW0gb2YgYW4gZWxlbWVudCB0byBhcHBseSBleHByZXNzaW9uIHRvLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIC0gTWF0Y2hlZCBhcHBsaWVkIG5hbWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBhcmcgLSBBcmd1bWVudCB3aXRoaW4gdGhlIHBhcmVudGhlc2VzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7T2JqZWN0LjxTdHJpbmcsIG1hdGNoQXBwbGllZEV4cHJDYWxsYmFja3xPYmplY3QuPFN0cmluZywgbWF0Y2hBcHBsaWVkRXhwckNhbGxiYWNrPj59XHJcbiAqIEBkZXNjcmlwdGlvbiBPYmplY3Qgb2YgZGlmZmVyZW50IHR5cGVzIG9mIHN5bnRheC5cclxuICovXHJcblxyXG5leHBvcnQgY29uc3QgYXBwbGllZFJlZ0V4cHMgPSB7XHJcbiAgJyMnKGVsZW0sIGlkKSB7XHJcbiAgICBlbGVtLmlkKGlkKTtcclxuICB9LFxyXG4gICcuJyhlbGVtLCBjbHMpIHtcclxuICAgIGVsZW0uYWRkQ2xhc3MoY2xzKTtcclxuICB9LFxyXG4gICQoZWxlbSwgYXR0ciwgdmFsdWUpIHtcclxuICAgIGVsZW0uYXR0cihhdHRyLCB2YWx1ZSk7XHJcbiAgfSxcclxuICAnQCcoZWxlbSwgcHJvcCwgdmFsdWUpIHtcclxuICAgIGVsZW0uY3NzKHByb3AsIHZhbHVlKTtcclxuICB9LFxyXG4gICcmJyhlbGVtLCBuYW1lLCBodG1sKSB7XHJcbiAgICBlbGVtLmh0bWwoaHRtbCk7XHJcbiAgfSxcclxuICAnKicoZWxlbSwgbmFtZSwgdGV4dCkge1xyXG4gICAgZWxlbS50ZXh0KHRleHQpO1xyXG4gIH0sXHJcbiAgJy0nOiB7XHJcbiAgICAnLicoZWxlbSwgY2xzKSB7XHJcbiAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcclxuICAgIH0sXHJcbiAgICAkKGVsZW0sIGF0dHIpIHtcclxuICAgICAgZWxlbS5yZW1vdmVBdHRyKGF0dHIpO1xyXG4gICAgfSxcclxuICAgICdAJyhlbGVtLCBwcm9wKSB7XHJcbiAgICAgIGVsZW0ucmVtb3ZlQ1NTKHByb3ApO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL2VsZW1lbnRzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRpZmZlcmVudCBjYW52YXMgbWV0aG9kcyBmb3Ige0BsaW5rIEVsZW19IGZvciBjcmVhdGluZyBodG1sLWVsZW1lbnRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUge1N0cmluZ1tdfVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNhbnZhc0dldE1ldGhvZHMgPSBbXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY3JlYXRlSW1hZ2VEYXRhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtJbWFnZURhdGF8dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY3JlYXRlSW1hZ2VEYXRhXHJcbiAgICovXHJcbiAgJ2NyZWF0ZUltYWdlRGF0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NyZWF0ZUxpbmVhckdyYWRpZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtDYW52YXNHcmFkaWVudHx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jcmVhdGVMaW5lYXJHcmFkaWVudFxyXG4gICAqL1xyXG4gICdjcmVhdGVMaW5lYXJHcmFkaWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NyZWF0ZVBhdHRlcm5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0NhbnZhc1BhdHRlcm58dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY3JlYXRlUGF0dGVyblxyXG4gICAqL1xyXG4gICdjcmVhdGVQYXR0ZXJuJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY3JlYXRlUmFkaWFsR3JhZGllbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0NhbnZhc0dyYWRpZW50fHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NyZWF0ZVJhZGlhbEdyYWRpZW50XHJcbiAgICovXHJcbiAgJ2NyZWF0ZVJhZGlhbEdyYWRpZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZ2V0SW1hZ2VEYXRhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtJbWFnZURhdGF8dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZ2V0SW1hZ2VEYXRhXHJcbiAgICovXHJcbiAgJ2dldEltYWdlRGF0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2dldExpbmVEYXNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXXx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9nZXRMaW5lRGFzaFxyXG4gICAqL1xyXG4gICdnZXRMaW5lRGFzaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2lzUG9pbnRJblBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW58dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvaXNQb2ludEluUGF0aFxyXG4gICAqL1xyXG4gICdpc1BvaW50SW5QYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaXNQb2ludEluU3Ryb2tlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2lzUG9pbnRJblN0cm9rZVxyXG4gICAqL1xyXG4gICdpc1BvaW50SW5TdHJva2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZWFzdXJlVGV4dFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7VGV4dE1ldHJpY3N8dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvbWVhc3VyZVRleHRcclxuICAgKi9cclxuICAnbWVhc3VyZVRleHQnXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgY2FudmFzUmVzdE1ldGhvZHMgPSBbXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYXJjXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9hcmNcclxuICAgKi9cclxuICAnYXJjJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYXJjVG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2FyY1RvXHJcbiAgICovXHJcbiAgJ2FyY1RvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYmVnaW5QYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9iZWdpblBhdGhcclxuICAgKi9cclxuICAnYmVnaW5QYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYmV6aWVyQ3VydmVUb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvYmV6aWVyQ3VydmVUb1xyXG4gICAqL1xyXG4gICdiZXppZXJDdXJ2ZVRvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2xlYXJSZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jbGVhclJlY3RcclxuICAgKi9cclxuICAnY2xlYXJSZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2xpcFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY2xpcFxyXG4gICAqL1xyXG4gICdjbGlwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2xvc2VQYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jbG9zZVBhdGhcclxuICAgKi9cclxuICAnY2xvc2VQYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZHJhd0ZvY3VzSWZOZWVkZWRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2RyYXdGb2N1c0lmTmVlZGVkXHJcbiAgICovXHJcbiAgJ2RyYXdGb2N1c0lmTmVlZGVkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZHJhd0ltYWdlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9kcmF3SW1hZ2VcclxuICAgKi9cclxuICAnZHJhd0ltYWdlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZWxsaXBzZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZWxsaXBzZVxyXG4gICAqL1xyXG4gICdlbGxpcHNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmlsbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFxyXG4gICAqL1xyXG4gICdmaWxsJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmlsbFJlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxSZWN0XHJcbiAgICovXHJcbiAgJ2ZpbGxSZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmlsbFRleHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxUZXh0XHJcbiAgICovXHJcbiAgJ2ZpbGxUZXh0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGluZVRvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9saW5lVG9cclxuICAgKi9cclxuICAnbGluZVRvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbW92ZVRvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9tb3ZlVG9cclxuICAgKi9cclxuICAnbW92ZVRvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcHV0SW1hZ2VEYXRhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9wdXRJbWFnZURhdGFcclxuICAgKi9cclxuICAncHV0SW1hZ2VEYXRhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcXVhZHJhdGljQ3VydmVUb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcXVhZHJhdGljQ3VydmVUb1xyXG4gICAqL1xyXG4gICdxdWFkcmF0aWNDdXJ2ZVRvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcmVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcmVjdFxyXG4gICAqL1xyXG4gICdyZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcmVzZXRUcmFuc2Zvcm1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3Jlc2V0VHJhbnNmb3JtXHJcbiAgICovXHJcbiAgJ3Jlc2V0VHJhbnNmb3JtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcmVzdG9yZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcmVzdG9yZVxyXG4gICAqL1xyXG4gICdyZXN0b3JlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcm90YXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9yb3RhdGVcclxuICAgKi9cclxuICAncm90YXRlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2F2ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc2F2ZVxyXG4gICAqL1xyXG4gICdzYXZlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2NhbGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NjYWxlXHJcbiAgICovXHJcbiAgJ3NjYWxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2V0TGluZURhc2hcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NldExpbmVEYXNoXHJcbiAgICovXHJcbiAgJ3NldExpbmVEYXNoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2V0VHJhbnNmb3JtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRUcmFuc2Zvcm1cclxuICAgKi9cclxuICAnc2V0VHJhbnNmb3JtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3Ryb2tlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zdHJva2VcclxuICAgKi9cclxuICAnc3Ryb2tlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3Ryb2tlUmVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc3Ryb2tlUmVjdFxyXG4gICAqL1xyXG4gICdzdHJva2VSZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3Ryb2tlVGV4dFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc3Ryb2tlVGV4dFxyXG4gICAqL1xyXG4gICdzdHJva2VUZXh0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHJhbnNmb3JtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC90cmFuc2Zvcm1cclxuICAgKi9cclxuICAndHJhbnNmb3JtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHJhbnNsYXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC90cmFuc2xhdGVcclxuICAgKi9cclxuICAndHJhbnNsYXRlJ1xyXG5dO1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvY29uc3RydWN0b3JzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGNvbnN0cnVjdG9ycyBsZXZlbHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdFxyXG4gKiBAdHlwZSB7QXJyYXlbXX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBjb25zdHJ1Y3RvcnMgPSBbXHJcbiAgW10sXHJcbiAgW10sXHJcbiAgW11cclxuXTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL2VsZW1lbnRzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIG1ldGhvZHMgZm9yIHtAbGluayBFbGVtfSBmb3IgY3JlYXRpbmcgaHRtbC1lbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEB0eXBlIHtTdHJpbmdbXX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBodG1sRWxlbWVudHMgPSBbXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2EnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhYmJyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYWJicicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FkZHJlc3NcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhZGRyZXNzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYXJlYVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FyZWEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhcnRpY2xlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYXJ0aWNsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2F1ZGlvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYXVkaW8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Jhc2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdiYXNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYmRpXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYmRpJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYmRvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYmRvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYmxvY2txdW90ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Jsb2NrcXVvdGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNib2R5XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYm9keScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYnInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNidXR0b25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdidXR0b24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjYW52YXNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjYW52YXMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjYXB0aW9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY2FwdGlvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NpdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjaXRlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29kZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NvZGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjb2xcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb2wnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjb2xncm91cFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NvbGdyb3VwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29udGVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NvbnRlbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkYXRhbGlzdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RhdGFsaXN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RlbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RlbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RldGFpbHNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZXRhaWxzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGZuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGZuJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGlhbG9nXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGlhbG9nJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGl2XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGl2JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2R0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNlbGVtZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZWxlbWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2VtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZW0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNlbWJlZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2VtYmVkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmllbGRzZXRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmaWVsZHNldCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpZ2NhcHRpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmaWdjYXB0aW9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmlndXJlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmlndXJlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9vdGVyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9vdGVyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Zvcm0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoMVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2gxJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoMicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2gzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoNFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2g0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoNScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2g2XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoZWFkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaGVhZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hlYWRlclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hlYWRlcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hncm91cFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hncm91cCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaHInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2lmcmFtZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2lmcmFtZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ltZ1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ltZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2lucHV0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaW5wdXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpbnNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpbnMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNrYmRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdrYmQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsYWJlbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xhYmVsJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGVnZW5kXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGVnZW5kJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdsaScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xpbmtcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdsaW5rJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWFpblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21haW4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtYXJrXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWFyaycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lbnVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZW51JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVudWl0ZW1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZW51aXRlbScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21ldGFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXRhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWV0ZXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXRlcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI25hdlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ25hdicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI25vc2NyaXB0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbm9zY3JpcHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNvbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ29sJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jb3B0Z3JvdXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdvcHRncm91cCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI29wdGlvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ29wdGlvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI291dHB1dFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ291dHB1dCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcGFyYW1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwYXJhbScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3ByZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ByZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Byb2dyZXNzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncHJvZ3Jlc3MnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNxXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncnAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNydFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3J0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcnRjXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncnRjJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcnVieVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3J1YnknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NhbXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzYW1wJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2NyaXB0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2NyaXB0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2VjdGlvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NlY3Rpb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzZWxlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzZWxlY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzaGFkb3dcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzaGFkb3cnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzbWFsbFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NtYWxsJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc291cmNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc291cmNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3BhblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NwYW4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdHJvbmdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdHJvbmcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdHlsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N0eWxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3ViXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3ViJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3VtbWFyeVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N1bW1hcnknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0YWJsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RhYmxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGJvZHlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0Ym9keScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0ZW1wbGF0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RlbXBsYXRlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGV4dGFyZWFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0ZXh0YXJlYScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Rmb290XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGZvb3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGhlYWRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0aGVhZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RpbWVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0aW1lJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGl0bGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0aXRsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndHInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0cmFja1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RyYWNrJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN1bFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3VsJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdmFyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndmFyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdmlkZW9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd2aWRlbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3diclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3dicidcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdmdFbGVtZW50cyA9IFtcclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbHRHbHlwaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FsdEdseXBoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYWx0R2x5cGhEZWZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbHRHbHlwaERlZicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FsdEdseXBoSXRlbVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FsdEdseXBoSXRlbScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FuaW1hdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbmltYXRlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYW5pbWF0ZUNvbG9yXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYW5pbWF0ZUNvbG9yJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYW5pbWF0ZU1vdGlvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FuaW1hdGVNb3Rpb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbmltYXRlVHJhbnNmb3JtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYW5pbWF0ZVRyYW5zZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NpcmNsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NpcmNsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NsaXBQYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY2xpcFBhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjb2xvclByb2ZpbGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb2xvci1wcm9maWxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY3Vyc29yXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY3Vyc29yJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGVmc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RlZnMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZXNjXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGVzYycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Rpc2NhcmRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkaXNjYXJkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZWxsaXBzZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2VsbGlwc2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUJsZW5kXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVCbGVuZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlQ29sb3JNYXRyaXhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUNvbG9yTWF0cml4JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVDb21wb25lbnRUcmFuc2ZlclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlQ29tcG9uZW50VHJhbnNmZXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUNvbXBvc2l0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlQ29tcG9zaXRlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVDb252b2x2ZU1hdHJpeFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlQ29udm9sdmVNYXRyaXgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZURpZmZ1c2VMaWdodGluZ1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRGlmZnVzZUxpZ2h0aW5nJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVEaXNwbGFjZW1lbnRNYXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZURpc3BsYWNlbWVudE1hcCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRGlzdGFudExpZ2h0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVEaXN0YW50TGlnaHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZURyb3BTaGFkb3dcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZURyb3BTaGFkb3cnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUZsb29kXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVGbG9vZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRnVuY0FcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUZ1bmNBJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVGdW5jQlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRnVuY0InLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUZ1bmNHXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVGdW5jRycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRnVuY1JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUZ1bmNSJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVHYXVzc2lhbkJsdXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUdhdXNzaWFuQmx1cicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlSW1hZ2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUltYWdlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVNZXJnZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlTWVyZ2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZU1lcmdlTm9kZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlTWVyZ2VOb2RlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVNb3JwaG9sb2d5XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVNb3JwaG9sb2d5JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVPZmZzZXRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZU9mZnNldCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlUG9pbnRMaWdodFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlUG9pbnRMaWdodCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlU3BlY3VsYXJMaWdodGluZ1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlU3BlY3VsYXJMaWdodGluZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlU3BvdExpZ2h0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVTcG90TGlnaHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVRpbGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZVRpbGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVR1cmJ1bGVuY2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZVR1cmJ1bGVuY2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb250XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9udCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRGYWNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9udC1mYWNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udEZhY2VGb3JtYXRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250LWZhY2UtZm9ybWF0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udEZhY2VOYW1lXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9udC1mYWNlLW5hbWUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb250RmFjZVNyY1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQtZmFjZS1zcmMnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb250RmFjZVVyaVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQtZmFjZS11cmknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb3JlaWduT2JqZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9yZWlnbk9iamVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2dcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdnJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZ2x5cGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdnbHlwaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2dseXBoUmVmXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZ2x5cGhSZWYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoYXRjaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hhdGNoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGF0Y2hwYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaGF0Y2hwYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGtlcm5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoa2VybicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ltYWdlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaW1hZ2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsaW5lXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGluZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xpbmVhckdyYWRpZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGluZWFyR3JhZGllbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtYXJrZXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtYXJrZXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtYXNrXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWFzaycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lc2hcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXNoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVzaGdyYWRpZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVzaGdyYWRpZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVzaHBhdGNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVzaHBhdGNoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVzaHJvd1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lc2hyb3cnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXRhZGF0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21ldGFkYXRhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWlzc2luZ0dseXBoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWlzc2luZy1nbHlwaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21wYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbXBhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BhdHRlcm5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwYXR0ZXJuJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcG9seWdvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3BvbHlnb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwb2x5bGluZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3BvbHlsaW5lJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcmFkaWFsR3JhZGllbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdyYWRpYWxHcmFkaWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdyZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2V0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2V0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc29saWRjb2xvclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NvbGlkY29sb3InLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdG9wXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3RvcCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0eWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3R5bGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdmdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdmcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzd2l0Y2hcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzd2l0Y2gnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzeW1ib2xcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzeW1ib2wnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0ZXh0UGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RleHRQYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHJlZlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RyZWYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0c3BhblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RzcGFuJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdW5rbm93blxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3Vua25vd24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN1c2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd1c2UnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN2aWV3XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndmlldycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3ZrZXJuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndmtlcm4nXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgdm9pZEVsZW1lbnRzID0gW1xyXG4gICdhcmVhJyxcclxuICAnYmFzZScsXHJcbiAgJ2JyJyxcclxuICAnY29sJyxcclxuICAnY29tbWFuZCcsXHJcbiAgJ2VtYmVkJyxcclxuICAnaHInLFxyXG4gICdpbWcnLFxyXG4gICdpbnB1dCcsXHJcbiAgJ2tleWdlbicsXHJcbiAgJ2xpbmsnLFxyXG4gICdtZXRhJyxcclxuICAncGFyYW0nLFxyXG4gICdzb3VyY2UnLFxyXG4gICd0cmFjaycsXHJcbiAgJ3dicidcclxuXTtcclxuIiwiZXhwb3J0IGNvbnN0IGh0bWxBbGxvd2VkVGFnU3ltYm9scyA9ICdbYS16XVthLXpcXFxcZFxcXFwtXy46IUAjXFxcXCQlXFxcXF4mKigpXFxcXFtcXFxcXXt9XFxcXFxcXFw9XFwnXCJdKic7XHJcbmV4cG9ydCBjb25zdCBodG1sQWxsb3dlZEF0dHJTeW1ib2xzID0gJ1teXFxcXHUwMDAwLVxcXFx1MDAyMFxcXFxzXCJcXCc+Lz1dKyc7XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9yZWdleHBTcGVjaWFsQ2hhcmFjdGVyc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBzcGVjaWFsIGNoYXJhY3RlcnMgZm9yIFJlZ0V4cC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEBuYW1lIG1vZHVsZTpjb25zdGFudHMvcmVnZXhwU3BlY2lhbENoYXJhY3RlcnN+cmVnZXhwU3BlY2lhbENoYXJhY3RlcnNcclxuICogQHR5cGUge1N0cmluZ1tdfVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzID0gW1xyXG4gICcuJyxcclxuICAnKycsICcqJywgJz8nLFxyXG4gICcoJywgJyknLFxyXG4gICdbJywgJ10nLFxyXG4gICd7JywgJ30nLFxyXG4gICc8JywgJz4nLFxyXG4gICdeJywgJyQnLFxyXG4gICchJyxcclxuICAnPScsXHJcbiAgJzonLFxyXG4gICctJyxcclxuICAnfCcsXHJcbiAgJywnLFxyXG4gICdcXFxcJ1xyXG5dO1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvdmFsaWRhdGVDaGVja0V4cHJlc3Npb25zXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRpZmZlcmVudCB0eXBlcyBvZiB2YWxpZGF0ZSBleHByZXNzaW9ucyBmb3Ige0BsaW5rIG1vZHVsZTpoZWxwZXJzL3ZhbGlkYXRlfS5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBtZXRob2RzIGZyb20gJy4uL2hlbHBlcnMvY2hlY2tUeXBlcyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIGNoZWNrVmFsaWRpdHlDYWxsYmFja1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2suXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IHZhbGlkYXRlRXhwclxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gdGV4dCAtIFRleHQgb2YgdGhlIHRocm93biBlcnJvci5cclxuICogQHByb3BlcnR5IHtFcnJvcn0gZXJyb3IgLSBUeXBlIG9mIHRoZSB0aHJvd24gZXJyb3IuXHJcbiAqIEBwcm9wZXJ0eSB7Y2hlY2tWYWxpZGl0eUNhbGxiYWNrfSBjaGVjayAtIENhbGxiYWNrIGZvciBjaGVja2luZyB2YWx1ZS5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGUge3ZhbGlkYXRlRXhwcltdfVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gT2JqZWN0IG9mIGRpZmZlcmVudCB0eXBlcyBvZiB2YWxpZGF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQ2hlY2tFeHByZXNzaW9ucyA9IHtcclxuICAnPjAnOiB7XHJcbiAgICBjaGVjazogKG4pID0+IG4gPiAwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgcG9zaXRpdmUhJyxcclxuICAgIGVycm9yOiBSYW5nZUVycm9yXHJcbiAgfSxcclxuICAnPj0wJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBuID49IDAsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBub24tbmVnYXRpdmUhJyxcclxuICAgIGVycm9yOiBSYW5nZUVycm9yXHJcbiAgfSxcclxuICAnPDAnOiB7XHJcbiAgICBjaGVjazogKG4pID0+IG4gPCAwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbmVnYXRpdmUhJyxcclxuICAgIGVycm9yOiBSYW5nZUVycm9yXHJcbiAgfSxcclxuICAnPD0wJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBuIDw9IDAsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBub24tcG9zaXRpdmUhJyxcclxuICAgIGVycm9yOiBSYW5nZUVycm9yXHJcbiAgfSxcclxuICAnISEnOiB7XHJcbiAgICBjaGVjazogKHYpID0+ICFtZXRob2RzLmlzTmlsKHYpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbm90IG51bGwgb3IgdW5kZWZpbmVkIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBhcnJheToge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNBcnJheSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5IScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnYXJyYXl8fCEnOiB7XHJcbiAgICBjaGVjazogKGEpID0+IG1ldGhvZHMuaXNBcnJheShhKSB8fCBtZXRob2RzLmlzTmlsKGEpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYW4gYXJyYXksIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgYXJyYXlMaWtlOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc0FycmF5TGlrZSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFycmF5LWxpa2UhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdhcnJheUxpa2V8fCEnOiB7XHJcbiAgICBjaGVjazogKGEpID0+IG1ldGhvZHMuaXNBcnJheUxpa2UoYSkgfHwgbWV0aG9kcy5pc05pbChhKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFycmF5LWxpa2UsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgZGF0ZToge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNEYXRlLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBkYXRlIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnZGF0ZXx8ISc6IHtcclxuICAgIGNoZWNrOiAoZCkgPT4gbWV0aG9kcy5pc0RhdGUoZCkgfHwgbWV0aG9kcy5pc05pbChkKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZSwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBkYXRlTGlrZToge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNEYXRlTGlrZSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGRhdGUtbGlrZSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2RhdGVMaWtlfHwhJzoge1xyXG4gICAgY2hlY2s6IChkKSA9PiBtZXRob2RzLmlzRGF0ZUxpa2UoZCkgfHwgbWV0aG9kcy5pc05pbChkKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGRhdGUtbGlrZSwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBmdW5jdGlvbjoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNGdW5jdGlvbixcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24hJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdmdW5jdGlvbnx8ISc6IHtcclxuICAgIGNoZWNrOiAoZikgPT4gbWV0aG9kcy5pc0Z1bmN0aW9uKGYpIHx8IG1ldGhvZHMuaXNOaWwoZiksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGludDoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNJbnRlZ2VyLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYW4gaW50ZWdlciEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2ludHx8ISc6IHtcclxuICAgIGNoZWNrOiAoaSkgPT4gbWV0aG9kcy5pc0ludGVnZXIoaSkgfHwgbWV0aG9kcy5pc05pbChpKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIGludGVnZXIsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgaW50TGlrZToge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNJbnRlZ2VyTGlrZSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGludGVnZXItbGlrZSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2ludExpa2V8fCEnOiB7XHJcbiAgICBjaGVjazogKGkpID0+IG1ldGhvZHMuaXNJbnRlZ2VyTGlrZShpKSB8fCBtZXRob2RzLmlzTmlsKGkpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgaW50ZWdlci1saWtlLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIG51bWJlcjoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNOdW1iZXIsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ251bWJlcnx8ISc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbWV0aG9kcy5pc051bWJlcihuKSB8fCBtZXRob2RzLmlzTmlsKG4pLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgbnVtYmVyTGlrZToge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNOdW1iZXJMaWtlLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbnVtYmVyLWxpa2UhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdudW1iZXJMaWtlfHwhJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBtZXRob2RzLmlzTnVtYmVyTGlrZShuKSB8fCBtZXRob2RzLmlzTmlsKG4pLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbnVtYmVyLWxpa2UsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgb2JqZWN0OiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc09iamVjdCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ29iamVjdHx8ISc6IHtcclxuICAgIGNoZWNrOiAobykgPT4gbWV0aG9kcy5pc09iamVjdChvKSB8fCBtZXRob2RzLmlzTmlsKG8pLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIHJlZ2V4cDoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNSZWdFeHAsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ3JlZ2V4cHx8ISc6IHtcclxuICAgIGNoZWNrOiAocikgPT4gbWV0aG9kcy5pc1JlZ0V4cChyKSB8fCBtZXRob2RzLmlzTmlsKHIpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb24sIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgc3RyaW5nOiB7XHJcbiAgICBjaGVjazogbWV0aG9kcy5pc1N0cmluZyxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnc3RyaW5nfHwhJzoge1xyXG4gICAgY2hlY2s6IChzKSA9PiBtZXRob2RzLmlzU3RyaW5nKHMpIHx8IG1ldGhvZHMuaXNOaWwocyksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfVxyXG59O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL1N5bWJvbFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBTeW1ib2wgY2xhc3MuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IFN5bWJvbCA9IGdsb2JhbC5TeW1ib2wgfHwge1xyXG4gIHRvU3RyaW5nVGFnOiAnU3ltYm9sLnRvU3RyaW5nVGFnJyxcclxuICBpdGVyYXRvcjogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNilcclxufTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgUHJvbWlzZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgUHJvbWlzZSBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBkZWZpbmVQcm9wZXJ0aWVzLCBTeW1ib2wgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBvbkZ1bGZpbGxlZE9yUmVqZWN0ZWRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gUHJvbWlzZSB2YWx1ZS5cclxuICogQHBhcmFtIHtCb29sZWFufSBzdWNjZXNzIC0gSWYgdGhlIHByZXZpb3VzIHByb21pc2UgaXMgZnVsZmlsbGVkIGl0J3MgdHJ1ZSBhbmQgZmFsc2UgaWYgcmVqZWN0ZWQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBvblJlamVjdGVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFcnJvcnwqfSBlcnIgLSBQcm9taXNlIGVycm9yLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgb25GdWxmaWxsZWRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gUHJvbWlzZSB2YWx1ZS5cclxuICovXHJcblxyXG5jb25zdCBzZWNyZXQgPSB7fTtcclxuY29uc3QgaXRlcmF0b3IgPSBTeW1ib2wuaXRlcmF0b3I7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFByb21pc2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciAtIEZ1bmN0aW9uIHRoYXQgdGFrZXMgdHdvIGFyZ3VtZW50czogcmVzb2x2ZSBhbmQgcmVqZWN0IGZ1bmN0aW9ucy5cclxuICogQ2FsbCB0aGUgcmVzb2x2ZSBmdW5jdGlvbiB3aGVuIHlvdSBuZWVkIHRvIGZ1bGZpbGwgdGhlIHByb21pc2UgYW5kIGNhbGwgdGhlIHJlamVjdCBvbmVcclxuICogd2hlbiB5b3UgbmVlZCB0byByZWplY3QgaXQuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBJbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2VcclxuICogQGRlc2NyaXB0aW9uIENsYXNzIHdpdGggYWxtb3N0IGlkZW50aWNhbCBBUEkgdG9cclxuICogW0VTNiBQcm9taXNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlfS5cclxuICogVGhlcmUgaXMgYSBjb3VwbGUgZGlmZmVyZW5jZXM6IHNldCBQcm9taXNlLm9uRXJyb3IgdG8gYSBmdW5jdGlvbiB3aXRoIHdoaWNoIHlvdSB3YW50IHRvXHJcbiAqIHN1YnNjcmliZSB0byBhIHByb21pc2UgZXJyb3IgYW5kIHNldCBQcm9taXNlLm9uVW5oYW5kbGVkUmVqZWN0aW9uIHRvIGEgZnVuY3Rpb24gd2l0aCB3aGljaFxyXG4gKiB5b3Ugd2FudCB0byBzdWJzY3JpYmUgdG8gYW4gdW5oYW5kbGVkIGVycm9yXHJcbiAqIChkZWZhdWx0cyB0byBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgJyVzICVvJywgJ1VuY2F1Z2h0IChpbiBwcm9taXNlKScpKS5cclxuICovXHJcbmNsYXNzIFByb21pc2Uge1xyXG4gIHN0YXRpYyBvbkVycm9yID0gbnVsbDtcclxuICBzdGF0aWMgb25VbmhhbmRsZWRSZWplY3Rpb24gPSBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgJyVzICVvJywgJ1VuY2F1Z2h0IChpbiBwcm9taXNlKScpO1xyXG5cclxuICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKGV4ZWN1dG9yKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBQcm9taXNlIHJlc29sdmVyICR7IHt9LnRvU3RyaW5nLmNhbGwoZXhlY3V0b3IpIH0gaXMgbm90IGEgZnVuY3Rpb25gKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaGlkZGVuU3RhdHVzO1xyXG4gICAgbGV0IGhpZGRlblZhbHVlO1xyXG5cclxuICAgIGNvbnN0XHRvbkZ1bGZpbGwgPSBbXTtcclxuICAgIGNvbnN0IG9uUmVqZWN0ID0gW107XHJcbiAgICBjb25zdCByZWFsUHJvbWlzZSA9IHRoaXM7XHJcbiAgICBjb25zdCBoaWRkZW5Qcm9taXNlID0ge1xyXG4gICAgICBoYW5kbGVkOiBmYWxzZSxcclxuICAgICAgZ2V0IHN0YXR1cygpIHtcclxuICAgICAgICByZXR1cm4gaGlkZGVuU3RhdHVzO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQgc3RhdHVzKHZhbHVlKSB7XHJcbiAgICAgICAgaGlkZGVuU3RhdHVzID0gdmFsdWU7XHJcbiAgICAgICAgcmVhbFByb21pc2Uuc3RhdHVzID0gdmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gaGlkZGVuVmFsdWU7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldCB2YWx1ZSh2YWwpIHtcclxuICAgICAgICBoaWRkZW5WYWx1ZSA9IHZhbDtcclxuICAgICAgICByZWFsUHJvbWlzZS52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBoaWRkZW5Qcm9taXNlLnN0YXR1cyA9ICdwZW5kaW5nJztcclxuICAgIGhpZGRlblByb21pc2UudmFsdWUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBoaWRkZW5Qcm9taXNlXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufE9iamVjdH0gaGFuZGxlZCAtIElmIHRoZSBwcm9taXNlIGlzIGhhbmRsZWQgb3Igbm90LlxyXG4gICAgICogQHByb3BlcnR5IHsncGVuZGluZyd8J2Z1bGZpbGxlZCd8J3JlamVjdGVkJ30gc3RhdHVzIC0gU3RhdHVzIG9mIHRoZSBwcm9taXNlLlxyXG4gICAgICogQHByb3BlcnR5IHsqfSB2YWx1ZSAtIFZhbHVlIG9mIHRoZSBwcm9taXNlLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gaGlkZGVuUHJvbWlzZSNoYW5kbGVcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0geygncmVqZWN0J3wncmVzb2x2ZScpfSBldmVudCAtIFR5cGUgb2YgdGhlIGV2ZW50IHRvIGhhbmRsZS5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBIYW5kbGVyIGl0c2VsZi5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgLSBSZXNvbHZlIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IC0gUmVqZWN0IGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlY3JldCAtIFNlY3JldC5cclxuICAgICAqIEBkZXNjcmlwdGlvbiBQcml2YXRlIG1ldGhvZCBmb3IgaGFuZGxpbmcgcHJvbWlzZXMuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge2hpZGRlblByb21pc2V9IFByb21pc2UjJCRcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgZGVmaW5lUHJvcGVydGllcyh0aGlzLiQkID0ge30sIHtcclxuICAgICAgJ2dldC9zZXQgaGFuZGxlZCc6IHtcclxuICAgICAgICBnZXQoKSB7XHJcbiAgICAgICAgICByZXR1cm4gaGlkZGVuUHJvbWlzZS5oYW5kbGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0KGtleSkge1xyXG4gICAgICAgICAgaWYgKGtleSA9PT0gc2VjcmV0KSB7XHJcbiAgICAgICAgICAgIGhpZGRlblByb21pc2UuaGFuZGxlZCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBoYW5kbGUoc3RhdHVzLCBmLCByZXNvbHZlLCByZWplY3QsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgPT09IHNlY3JldCkge1xyXG4gICAgICAgICAgY29uc3QgcHJveHkgPSBpc0Z1bmN0aW9uKGYpID8gKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZShmKHZhbHVlKSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IDogbnVsbDtcclxuXHJcbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAncmVzb2x2ZScpIHtcclxuICAgICAgICAgICAgb25GdWxmaWxsLnB1c2gocHJveHkgfHwgKCh2YWx1ZSkgPT4gcmVzb2x2ZSh2YWx1ZSkpKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAncmVqZWN0Jykge1xyXG4gICAgICAgICAgICBvblJlamVjdC5wdXNoKHByb3h5IHx8ICgoZXJyKSA9PiByZWplY3QoZXJyKSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgJ2dldCBzdGF0dXMnKCkge1xyXG4gICAgICAgIHJldHVybiBoaWRkZW5Qcm9taXNlLnN0YXR1cztcclxuICAgICAgfSxcclxuICAgICAgJ2dldCB2YWx1ZScoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhpZGRlblByb21pc2UudmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmVqZWN0KGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KGVycikge1xyXG4gICAgICBpZiAoaGlkZGVuUHJvbWlzZS5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICAgIGhpZGRlblByb21pc2Uuc3RhdHVzID0gJ3JlamVjdGVkJztcclxuICAgICAgICBoaWRkZW5Qcm9taXNlLnZhbHVlID0gZXJyO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gb25SZWplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGhpZGRlblByb21pc2UuaGFuZGxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgb25SZWplY3RbaV0oZXJyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgIG9uVW5oYW5kbGVkUmVqZWN0aW9uLFxyXG4gICAgICAgICAgb25FcnJvclxyXG4gICAgICAgIH0gPSBQcm9taXNlO1xyXG5cclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvbkVycm9yKSkge1xyXG4gICAgICAgICAgb25FcnJvcihlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWhpZGRlblByb21pc2UuaGFuZGxlZCAmJiBpc0Z1bmN0aW9uKG9uVW5oYW5kbGVkUmVqZWN0aW9uKSkge1xyXG4gICAgICAgICAgICBvblVuaGFuZGxlZFJlamVjdGlvbihlcnIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xyXG4gICAgICBpZiAoaGlkZGVuUHJvbWlzZS5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICAgIGlmICh2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnRoZW4pKSB7XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWUudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBoaWRkZW5Qcm9taXNlLnN0YXR1cyA9ICdmdWxmaWxsZWQnO1xyXG4gICAgICAgIGhpZGRlblByb21pc2UudmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IG9uRnVsZmlsbC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaGlkZGVuUHJvbWlzZS5oYW5kbGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICBvbkZ1bGZpbGxbaV0odmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlLmFsbFxyXG4gICAqIEBwYXJhbSB7KEFycmF5fEl0ZXJhYmxlKS48UHJvbWlzZXwqPn0gaXRlcmFibGUgLSBJdGVyYWJsZSBvYmplY3QgKGxpa2UgYXJyYXkpIG9mIHByb21pc2VzXHJcbiAgICogb3IgYW55IHZhbHVlcy5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL2FsbFxyXG4gICAqL1xyXG4gIHN0YXRpYyBhbGwoaXRlcmFibGUpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gICAgbGV0IHRvUmVzb2x2ZSA9IDA7XHJcblxyXG4gICAgaWYgKGl0ZXJhYmxlW2l0ZXJhdG9yXSkge1xyXG4gICAgICBpdGVyYWJsZSA9IGl0ZXJhYmxlW2l0ZXJhdG9yXSgpO1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgbmV4dDtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgICAgIHdoaWxlICghKG5leHQgPSBpdGVyYWJsZS5uZXh0KCkpLmRvbmUpIHtcclxuICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUobmV4dC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgdG9SZXNvbHZlKys7XHJcblxyXG4gICAgICAgICAgKChpKSA9PiB7XHJcbiAgICAgICAgICAgIHByb21pc2UudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICB0b1Jlc29sdmUtLTtcclxuICAgICAgICAgICAgICBhcnJheVtpXSA9IHZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXh0LmRvbmUgJiYgIXRvUmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgICByZXNvbHZlKGFycmF5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgICAgfSwgcmVqZWN0KTtcclxuICAgICAgICAgIH0pKGkrKyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWkpIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbGVuZ3RoID0gaXRlcmFibGUubGVuZ3RoO1xyXG5cclxuICAgIGlmICghbGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvUmVzb2x2ZSA9IGxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShpdGVyYWJsZVtpXSk7XHJcblxyXG4gICAgICAgIHByb21pc2UudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAgIHRvUmVzb2x2ZS0tO1xyXG4gICAgICAgICAgYXJyYXlbaV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoIXRvUmVzb2x2ZSkge1xyXG4gICAgICAgICAgICByZXNvbHZlKGFycmF5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCByZWplY3QpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZS5yYWNlXHJcbiAgICogQHBhcmFtIHsoQXJyYXl8SXRlcmFibGUpLjxQcm9taXNlfCo+fSBpdGVyYWJsZSAtIEl0ZXJhYmxlIG9iamVjdCAobGlrZSBhcnJheSkgb2YgcHJvbWlzZXNcclxuICAgKiBvciBhbnkgdmFsdWVzLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UvcmFjZVxyXG4gICAqL1xyXG4gIHN0YXRpYyByYWNlKGl0ZXJhYmxlKSB7XHJcbiAgICBpZiAoaXRlcmFibGVbaXRlcmF0b3JdKSB7XHJcbiAgICAgIGl0ZXJhYmxlID0gaXRlcmFibGVbaXRlcmF0b3JdKCk7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGxldCBuZXh0O1xyXG5cclxuICAgICAgICB3aGlsZSAoIShuZXh0ID0gaXRlcmFibGUubmV4dCgpKS5kb25lKSB7XHJcbiAgICAgICAgICBuZXh0LnZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBpdGVyYWJsZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGl0ZXJhYmxlW2ldLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UucmVqZWN0XHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIHJlamVjdC5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL3JlamVjdFxyXG4gICAqL1xyXG4gIHN0YXRpYyByZWplY3QodmFsdWUpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHJlamVjdCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZS5yZXNvbHZlXHJcbiAgICogQHBhcmFtIHtQcm9taXNlfFRoZW5hYmxlfCp9IHZhbHVlIC0gUHJvbWlzZSwgdGhlbmFibGUgb3IgYW55IHZhbHVlIHRvIHJlc29sdmUuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9yZXNvbHZlXHJcbiAgICovXHJcbiAgc3RhdGljIHJlc29sdmUodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnRoZW4pKSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgcmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFib3J0KCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlI2NhdGNoXHJcbiAgICogQHBhcmFtIHtvblJlamVjdGVkfSBvblJlamVjdGVkIC0gb25SZWplY3RlZCBjYWxsYmFjay5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL2NhdGNoXHJcbiAgICovXHJcbiAgY2F0Y2gob25SZWplY3RlZCkge1xyXG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZSNmaW5hbGx5XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7b25GdWxmaWxsZWRPclJlamVjdGVkfSBvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQgLSBvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9XHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY2F0Y2hpbmcgYm90aCBmdWxmaWxsZWQgYW5kIHJlamVjdGVkIHByb21pc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBzcGlubmVyLnNob3coKTtcclxuICAgKiBmZXRjaERhdGEoKVxyXG4gICAqICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgKiAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggZGF0YVxyXG4gICAqICAgfSlcclxuICAgKiAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICogICAgIC8vIGhhbmRsZSBlcnJvciBzb21laG93XHJcbiAgICogICB9KVxyXG4gICAqICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAqICAgICBzcGlubmVyLmhpZGUoKTtcclxuICAgKiAgIH0pO1xyXG4gICAqL1xyXG4gIGZpbmFsbHkob25GdWxmaWxsZWRPclJlamVjdGVkKSB7XHJcbiAgICBjb25zdCBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9uRnVsZmlsbGVkT3JSZWplY3RlZCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMudGhlbigodmFsdWUpID0+IChcclxuICAgICAgUHJvbWlzZVxyXG4gICAgICAgIC5yZXNvbHZlKFxyXG4gICAgICAgICAgaXNGdW5jXHJcbiAgICAgICAgICAgID8gb25GdWxmaWxsZWRPclJlamVjdGVkKHZhbHVlLCB0cnVlKVxyXG4gICAgICAgICAgICA6IDBcclxuICAgICAgICApXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gdmFsdWUpXHJcbiAgICApLCAoZXJyKSA9PiAoXHJcbiAgICAgIFByb21pc2VcclxuICAgICAgICAucmVzb2x2ZShcclxuICAgICAgICAgIGlzRnVuY1xyXG4gICAgICAgICAgICA/IG9uRnVsZmlsbGVkT3JSZWplY3RlZChlcnIsIGZhbHNlKVxyXG4gICAgICAgICAgICA6IDBcclxuICAgICAgICApXHJcbiAgICAgICAgLnRoZW4oKCkgPT4gUHJvbWlzZS5yZWplY3QoZXJyKSlcclxuICAgICkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlI3RoZW5cclxuICAgKiBAcGFyYW0ge29uRnVsZmlsbGVkfSBbb25GdWxmaWxsZWRdIC0gb25GdWxmaWxsZWQgY2FsbGJhY2suXHJcbiAgICogQHBhcmFtIHtvblJlamVjdGVkfSBbb25SZWplY3RlZF0gLSBvblJlamVjdGVkIGNhbGxiYWNrLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UvdGhlblxyXG4gICAqL1xyXG4gIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcclxuICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChwcm9taXNlLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKSB7XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgcHJvbWlzZS5oYW5kbGUoJ3JlamVjdCcsIG9uUmVqZWN0ZWQsIHJlc29sdmUsIHJlamVjdCwgc2VjcmV0KTtcclxuICAgICAgICBwcm9taXNlLmhhbmRsZSgncmVzb2x2ZScsIG9uRnVsZmlsbGVkLCByZXNvbHZlLCByZWplY3QsIHNlY3JldCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb21pc2UuaGFuZGxlZCA9IHNlY3JldDtcclxuXHJcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBwcm9taXNlO1xyXG5cclxuICAgIGxldCBtZXRob2Q7XHJcbiAgICBsZXQgaGFuZGxlcjtcclxuXHJcbiAgICBpZiAocHJvbWlzZS5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XHJcbiAgICAgIG1ldGhvZCA9ICdyZXNvbHZlJztcclxuICAgICAgaGFuZGxlciA9IG9uRnVsZmlsbGVkO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbWV0aG9kID0gJ3JlamVjdCc7XHJcbiAgICAgIGhhbmRsZXIgPSBvblJlamVjdGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNGdW5jdGlvbihoYW5kbGVyKSkge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZVttZXRob2RdKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGhhbmRsZXIodmFsdWUpKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoUHJvbWlzZS5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1Byb21pc2UnXHJcbn0pO1xyXG5cclxuZXhwb3J0IHsgUHJvbWlzZSB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3BhcnNlSGVhZGVyc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBwYXJzZUhlYWRlcnMgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN0ciB9IGZyb20gJy4uL1N0cic7XHJcbmltcG9ydCB7IGl0ZXJhdGUgfSBmcm9tICcuL2l0ZXJhdGUnO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBwYXJzZUhlYWRlcnNcclxuICogQHBhcmFtIHtTdHJpbmd9IHJhd0hlYWRlcnMgLSBSYXcgaGVhZGVycy5cclxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBvYmplY3RcclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBwYXJzaW5nIHJhdyBoZWFkZXJzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKHJhd0hlYWRlcnMpID0+IHtcclxuICBjb25zdCBoZWFkZXJzID0ge307XHJcblxyXG4gIGl0ZXJhdGUoKHJhd0hlYWRlcnMgfHwgJycpLnNwbGl0KCdcXG4nKSwgKHZhbHVlKSA9PiB7XHJcbiAgICBjb25zdCBpbmRleCA9IHZhbHVlLmluZGV4T2YoJzonKTtcclxuICAgIGNvbnN0IGtleSA9IG5ldyBTdHIodmFsdWUuc3Vic3RyaW5nKDAsIGluZGV4KSlcclxuICAgICAgLnRyaW0oKVxyXG4gICAgICAudG9DYW1lbENhc2UoKS4kO1xyXG4gICAgY29uc3QgdmFsID0gbmV3IFN0cih2YWx1ZS5zdWJzdHJpbmcoaW5kZXggKyAxKSkudHJpbSgpLiQ7XHJcblxyXG4gICAgaWYgKGtleSkge1xyXG4gICAgICBoZWFkZXJzW2tleV0gPSAoaGVhZGVyc1trZXldID8gYCR7IGhlYWRlcnNba2V5XSB9LCBgIDogJycpICsgdmFsO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gaGVhZGVycztcclxufTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy90cmFuc2Zvcm1EYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHRyYW5zZm9ybURhdGEgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFyciB9IGZyb20gJy4uL0Fycic7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5pbXBvcnQgeyBpc09iamVjdCwgdG9TdHJpbmdUYWcgfSBmcm9tICcuLyc7XHJcblxyXG5jb25zdCBub3RUb1RyYW5zZm9ybSA9IG5ldyBBcnIoWydGb3JtRGF0YScsICdGaWxlJywgJ0Jsb2InLCAnQXJyYXlCdWZmZXInLCAnU3RyaW5nJywgJ051bWJlciddKTtcclxuY29uc3Qgd2l0aG91dEJvZHkgPSBuZXcgQXJyKFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJ10pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSAtIERhdGEgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgLSBIVFRQIG1ldGhvZC5cclxuICogQHBhcmFtIHtPYmplY3R9IGhlYWRlcnMgLSBPYmplY3Qgd2l0aCBoZWFkZXJzLlxyXG4gKiBAcmV0dXJucyB7Kn0gLSBUcmFuc2Zvcm1lZCBkYXRhLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKGRhdGEsIG1ldGhvZCwgaGVhZGVycykgPT4ge1xyXG4gIGRhdGEgPSBuZXcgU3VwZXIoZGF0YSkuJDtcclxuXHJcbiAgaWYgKHdpdGhvdXRCb2R5LmluZGV4T2ZTdHJpY3QobWV0aG9kKSAhPT0gLTEpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzT2JqZWN0KGRhdGEpICYmIG5vdFRvVHJhbnNmb3JtLmluZGV4T2ZTdHJpY3QodG9TdHJpbmdUYWcoZGF0YSkpID09PSAtMSkge1xyXG4gICAgaWYgKCFoZWFkZXJzLmNvbnRlbnRUeXBlKSB7XHJcbiAgICAgIGhlYWRlcnMuY29udGVudFR5cGUgPSBbJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCddO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3VwZXIoZGF0YSkuanNvbigpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvcmVzb2x2ZVVSTFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBPYmplY3QuYXNzaWduLWxpa2UgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN0ciB9IGZyb20gJy4uL1N0cic7XHJcblxyXG5jb25zdCB7IGxvY2F0aW9uIH0gPSBnbG9iYWw7XHJcblxyXG5leHBvcnQgZGVmYXVsdCAoZGVjb2RlUXVlcnkpID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBzZWFyY2g6IHF1ZXJ5LFxyXG4gICAgaGFzaFxyXG4gIH0gPSBsb2NhdGlvbjtcclxuICBjb25zdCBwYXJhbXMgPSB7XHJcbiAgICBxdWVyeToge30sXHJcbiAgICBoYXNoOiBoYXNoLnJlcGxhY2UoL14jLywgJycpXHJcbiAgfTtcclxuXHJcbiAgaWYgKCFxdWVyeSkge1xyXG4gICAgcmV0dXJuIHBhcmFtcztcclxuICB9XHJcblxyXG4gIG5ldyBTdHIocXVlcnkucmVwbGFjZSgvXlxcPy8sICcnKSlcclxuICAgIC5zcGxpdCgnJicpXHJcbiAgICAuZm9yRWFjaCgocmF3UGFyYW0pID0+IHtcclxuICAgICAgbGV0IFtwYXJhbSwgdmFsdWUgPSAnJ10gPSByYXdQYXJhbS5zcGxpdCgnPScpO1xyXG5cclxuICAgICAgcGFyYW0gPSBkZWNvZGVRdWVyeSA/IGRlY29kZVVSSUNvbXBvbmVudChwYXJhbSkgOiBwYXJhbTtcclxuICAgICAgdmFsdWUgPSBkZWNvZGVRdWVyeSA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiB2YWx1ZTtcclxuXHJcbiAgICAgIGlmICghL15bXltdKy8udGVzdChwYXJhbSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCBwYXJhbU5hbWU7XHJcbiAgICAgIGxldCBwYXJhbU9iamVjdCA9IHBhcmFtcy5xdWVyeTtcclxuXHJcbiAgICAgIG5ldyBTdHIocGFyYW0pXHJcbiAgICAgICAgLm1hdGNoKC9eW15bXFxdXSp8XFxbW15bXFxdXSpdL2cpXHJcbiAgICAgICAgLmZvckVhY2goKG5hbWUpID0+IHtcclxuICAgICAgICAgIGlmIChuYW1lLmluZGV4T2YoJ1snKSkge1xyXG4gICAgICAgICAgICBwYXJhbU5hbWUgPSBuYW1lO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDEsIC0xKTtcclxuXHJcbiAgICAgICAgICBwYXJhbU9iamVjdCA9IHBhcmFtT2JqZWN0W3BhcmFtTmFtZV0gPSBwYXJhbU9iamVjdFtwYXJhbU5hbWVdIHx8IChuYW1lID8ge30gOiBbXSk7XHJcbiAgICAgICAgICBwYXJhbU5hbWUgPSBuYW1lIHx8IHBhcmFtT2JqZWN0Lmxlbmd0aDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIHBhcmFtT2JqZWN0W3BhcmFtTmFtZV0gPSB2YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICByZXR1cm4gcGFyYW1zO1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBzdGF0aWNzIGZyb20gJy4vbGliL2Jyb3dzZXInO1xyXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL2xpYi9oZWxwZXJzL2Fzc2lnbic7XHJcblxyXG5jb25zdCB7IEQgfSA9IHN0YXRpY3M7XHJcblxyXG5hc3NpZ24oRCwgc3RhdGljcyk7XHJcblxyXG5kZWxldGUgRC5EO1xyXG5cclxuZ2xvYmFsLkQgPSBEO1xyXG4iXSwibmFtZXMiOlsidG9TdHJpbmdUYWciLCJvYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJyZXBsYWNlIiwiaXNBcnJheSIsInZhbHVlIiwiaXNBcnJheUxpa2UiLCJpc0Z1bmN0aW9uIiwibGVuZ3RoIiwiaXNJbnRlZ2VyIiwiaXNCb29sZWFuIiwiaXNEYXRlIiwiaXNEYXRlTGlrZSIsIkRhdGUiLCJpc05hTiIsImdldFRpbWUiLCJpc0VsZW1lbnQiLCJ0ZXN0IiwiaXNGaW5pdGUiLCJpc051bWJlciIsIk51bWJlciIsIkluZmluaXR5IiwiaXNJbnRlZ2VyTGlrZSIsInBhcnNlSW50IiwiaXNOdWxsIiwiaXNOaWwiLCJpc051bWJlckxpa2UiLCJpc09iamVjdCIsIk9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJpc1ByaW1pdGl2ZSIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJjb25zdHJ1Y3RvciIsImlzUmVnRXhwIiwiaXNTdHJpbmciLCJpc1N5bWJvbCIsImlzVW5kZWZpbmVkIiwiRCIsImkiLCJjb25zdHJ1Y3RvcnMiLCJsZXZlbENvbnN0cnVjdG9ycyIsImsiLCJsZW4iLCJjbHMiLCJjaGVjayIsIml0ZXJhdGUiLCJjYWxsYmFjayIsImFycmF5IiwiaXRlcmF0ZWRLZXlzIiwiaXRlcmF0ZWQiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsImFzc2lnbiIsInRhcmdldCIsIm9iamVjdHMiLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJpbmRleCIsImR5bmFtaWNEZWZpbmVQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsInByb3BlcnR5R2VuZXJhdG9yIiwibmFtZSIsImRlZmluZVByb3BlcnR5IiwiZGVmaW5lUHJvcGVydGllcyIsIm1ldGhvZCIsInVuZGVmaW5lZCIsImdldCIsInNldCIsInRvQXJyYXkiLCJjcmVhdGVOZXdBcnJheSIsInB1c2giLCJ2YWxpZGF0ZSIsImFyZ3MiLCJvcHRpb25zIiwibnVtYmVyIiwiY2hlY2tlciIsInZhbGlkYXRlQ2hlY2tFeHByZXNzaW9ucyIsImVycm9yIiwidGV4dCIsIm51bWJlcnMiLCJjaGFyIiwiYWxwaGFiZXQiLCJzdHJpbmciLCJyYW5nZXMiLCJzcGxpdCIsInJhbmdlIiwiRXJyb3IiLCJzdGFydCIsImNoYXJDb2RlQXQiLCJlbmQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJBbHBoYWJldCIsInN3aXRjaGVyIiwiY2FzZXMiLCJtb2RlIiwiZGVmYXVsdFZhbHVlIiwiU3dpdGNoZXIiLCJ3aGVuIiwiY29uZGl0aW9uIiwidmFsdWUxIiwidmFsdWUyIiwiZGVlcEFzc2lnbiIsImRlZXBDbG9uZSIsImNsb25lIiwiY2xvbmVTd2l0Y2hlciIsImRlZXBFcXVhbCIsIm8xIiwibzIiLCJzdHJpY3QiLCJtYXRjaCIsImxhc3RJbmRleCIsInAxIiwicDIiLCJrZXlzIiwiZGVlcEV2ZXJ5IiwibiIsInRyZWUiLCJuZXdUcmVlIiwiY29uY2F0IiwiZGVlcEZpbHRlciIsIm51bCIsIm8iLCJmaWx0ZXJlZCIsImRlZXBGaW5kIiwicmVzdWx0IiwiZGVlcEZvckVhY2giLCJkZWVwRm9yRWFjaEVudHJ5IiwiZGVlcEZyZWV6ZSIsImZyZWV6ZSIsImRlZXBNYXAiLCJkZWVwUmVkdWNlIiwiSVYiLCJkZWVwU29tZSIsIngiLCJhcHBseSIsIm5vb3AiLCJwcm9wIiwic2VsZiIsInJhbmQiLCJNYXRoIiwicmFuZG9tIiwiZmxvb3IiLCJhc2MiLCJ5IiwiQXJyIiwiYmxvYiIsImJsb2JQYXJ0cyIsIkJsb2JPYmplY3QiLCJCbG9iIiwidHJpbSIsInBhcnNlSlNPTiIsImpzb24iLCJKU09OIiwicGFyc2UiLCJkYXRlcyIsInBhcnNlZCIsInRoaXMiLCJmaW5kIiwibWFya3VwIiwiZWxlbSIsIm1hdGNoZXMiLCJyYXdUZXh0U3dpdGNoZXIiLCJTdXBlciIsImNvbnN0cnVjdENsb3NlVGFnUmVnRXhwIiwiTk9ERV9SRUdFWF9TRVQiLCJtYXAiLCJyZWdleCIsInJldHVybmluZyIsImF0dHJzIiwic3RhcnRNYXJrdXAiLCJjbG9zZU1hdGNoIiwic2VsZkNsb3NpbmciLCJzbGljZSIsIlRBR19PUEVOX0NMT1NFIiwiYXR0ciIsIkFUVFJJQlVURSIsIm1pbiIsIk5hTiIsInRhZ05hbWUiLCJSZWdFeHAiLCJuZWFyU3RyaW5nIiwicGFyc2VDaGFyYWN0ZXJEYXRhIiwiaW5uZXJIVE1MIiwiZGl2IiwidGV4dENvbnRlbnQiLCJpbm5lclRleHQiLCJ0b0ZpbmQiLCJpc0VsZW0iLCJFbGVtIiwiaXNXaW5kb3ciLCJpc0hUTUxEb2N1bWVudCIsImlzRG9jdW1lbnRGcmFnbWVudCIsImlzU3R5bGVSdWxlIiwiaXNDb21tZW50T3JUZXh0IiwidGFnIiwiZ2V0RWxlbSIsIiQiLCJlbXB0eURpdiIsImdldE5hbWUiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiYWRkRHdheW5lRGF0YSIsIndpbmRvd3NEd2F5bmVEYXRhIiwic29tZSIsImVsZW1lbnQiLCJnZXRDb250ZXh0Iiwic2VsZWN0b3IiLCJiYXNlIiwibmF0aXZlRG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFyc2VIVE1MIiwiaHRtbCIsImNvbGxhcHNlV2hpdGVTcGFjZSIsIm1hcmt1cFRvSlNPTiIsInRlbXBsYXRlIiwiZG9jIiwiY29udGVudCIsImZvckVhY2giLCJmb3JFYWNoTm9kZSIsIm5vZGUiLCJwYXJlbnQiLCJjaGlsZHJlbiIsInBhcmVudE5vZGUiLCJjcmVhdGUiLCJweCIsInNpemUiLCJyZWdpc3RlckRCbG9jayIsIkJsb2NrIiwiREJsb2NrIiwiZWxlbXMiLCIkJCIsImZvdW5kIiwicmVnaXN0ZXJERWFjaCIsImNyZWF0ZUJsb2NrIiwiREVhY2giLCJvcHRzIiwiaXRlbSIsIml0ZW1OYW1lIiwiaW5kZXhOYW1lIiwiX3RoaXMiLCJ1aWQiLCJjb25zdHJ1Y3RWYWx1ZXMiLCJ3YXRjaEFyZ3MiLCJwYXJlbnRFbGVtIiwidWlkcyIsInNjb3BlIiwiVUlEIiwiJHVpZHMiLCJuZXdLZXlzIiwibmV3VUlEcyIsImV2YWx1YXRlIiwiaXRlbXMiLCJzcGxpY2UiLCJJdGVtIiwicmVtb3ZlIiwiYWZ0ZXIiLCJibG9jayIsInNoaWZ0IiwicHJldiIsImluc2VydEFmdGVyIiwidmFsdWVzIiwicmVnaXN0ZXJERWxlbWVudHMiLCJERWxlbWVudHMiLCJfdGhpczIiLCJtaXhpbnMiLCJ3YXRjaGVyc1RvUmVtb3ZlIiwiY2hpbGQiLCJtaXhpbiIsImZpbHRlciIsIndhdGNoZXJzIiwid2F0Y2hlciIsImZvckRFbGVtZW50cyIsImluZGV4T2YiLCJuZXdDb250ZW50IiwiYWRkIiwicmVnaXN0ZXJESWYiLCJESWYiLCJjb25kIiwiZXZhbHVhdGVBbmRXYXRjaCIsImlmIiwibmV3VmFsdWUiLCJCb29sZWFuIiwicmVnaXN0ZXJESXRlbSIsIkRJdGVtIiwicmVnaXN0ZXJEU3dpdGNoIiwiRFN3aXRjaCIsIndhc0RlZmF1bHQiLCJ2YWwiLCJlcXVhbHMiLCJyZWdpc3RlckRUZXh0IiwiRFRleHQiLCJyZWdpc3RlckRBdHRyIiwiTWl4aW4iLCJEQXR0ciIsIm9sZFZhbHVlIiwicmVtb3ZlQXR0ciIsInJlZ2lzdGVyREJpbmQiLCJEQmluZCIsIm9mZiIsIm9uIiwicmVnaXN0ZXJEQ2xhc3MiLCJEQ2xhc3MiLCJjbGFzc2VzIiwibmV3Q2xhc3NlcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJyZWdpc3RlckRFbGVtIiwiREVsZW0iLCJldmFsdWF0ZU9uY2UiLCJyZWdpc3RlckRIaWRlIiwiREhpZGUiLCJoaWRlIiwic2hvdyIsInJlZ2lzdGVyRE9uIiwiRE9uIiwicmVnaXN0ZXJEU2hvdyIsIkRTaG93IiwicmVnaXN0ZXJEU3R5bGUiLCJEU3R5bGUiLCJyZW1vdmVDU1MiLCJjc3MiLCJyZWdpc3RlckRWYWxpZGF0ZSIsIkRWYWxpZGF0ZSIsInZhbGlkYXRvciIsImR3YXluZURhdGEiLCJ2YWxpZGF0b3JzIiwibGlzdGVuZXJTd2l0Y2hlciIsInJlZ2lzdGVyRFZhbHVlIiwiRFZhbHVlIiwiX3ZhbHVlIiwidHlwZSIsInByb3BTd2l0Y2hlciIsImluaXRpYWxTY29wZVZhbHVlIiwic2V0UHJvcCIsImluaXRpYWxFbGVtVmFsdWUiLCJnZXRQcm9wIiwiZSIsInNldFZhbHVlU3dpdGNoZXIiLCJnZXRWYWx1ZVN3aXRjaGVyIiwiaW5pdEFwcCIsInJvb3QiLCJmaXJzdCIsImJsb2NrcyIsIndhcm4iLCJhdHRyTmFtZSIsImlzSW5zdGFuY2VPZk1peGluIiwicmVwbGFjZW1lbnQiLCJjcmVhdGVDb21tZW50IiwicmVnaXN0ZXJCbG9ja3MiLCJpc0luc3RhbmNlT2ZCbG9jayIsImRlZXBDbG9uZUNoaWxkcmVuIiwicmVnaXN0ZXJCdWlsdElucyIsInJlZ2lzdGVyIiwicGFyZW50QmxvY2siLCJwYXJlbnRTY29wZSIsInN2Z05TIiwic3ZnIiwibG9jYWxCbG9ja3MiLCJkQmxvY2tNYXRjaCIsImV4cHJlc3Npb25SZWdFeHAiLCJjdXJyZW50TWl4aW5zIiwiX21hdGNoIiwiaW50byIsImJsb2NrSW5zdGFuY2UiLCJnbG9iYWwiLCJBcmdzIiwibG9jYWxzIiwiZXZlbnR1YWxBcmdzIiwiZGVmYXVsdEFyZ3MiLCJjb25zdHJ1Y3RQcml2YXRlU2NvcGUiLCJzY29wZVZhbHVlcyIsIkRJdGVtRm91bmQiLCJwcml2YXRlU2NvcGUiLCJhZnRlckNvbnN0cnVjdCIsImVyciIsImFmdGVyUmVuZGVyIiwiY3JlYXRlTWl4aW4iLCJuZXdDaGlsZCIsInRyYW5zZm9ybURJZkNoaWxkcmVuIiwiaWZFbHNlIiwiaXNQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsInJlbW92ZVdhdGNoZXJzIiwiY29uc3RydWN0UHVibGljU2NvcGUiLCJkZWZpbmUiLCJldmFsTW9kZSIsImdldHRpbmciLCJ0ZW1wIiwiY2hhbmdlZCIsIm9sZFRlbXBXYXRjaGVycyIsIm9uUmVtb3ZlIiwid2FzIiwicGVybSIsInJvdW5kIiwiZGlnaXRzIiwiemVyb2VzIiwiemVybyIsInJlcGVhdCIsIm5vdyIsImRhdGUiLCJEYXQiLCJpc0Fic29sdXRlIiwidXJsIiwiYWJzb2x1dGVVUkxSZWdleHAiLCJlbmNvZGUiLCJpc0VuY29kZWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmZXRjaEJlZm9yZU1pZGRsZXdhcmUiLCJjb25maWciLCJiYXNlVVJMIiwiZGF0YSIsImhlYWRlcnMiLCJwYXJhbXMiLCJxdWVyeSIsIk1FVEhPRCIsInRvVXBwZXJDYXNlIiwiY29uc3RydWN0VVJMIiwidHJhbnNmb3JtRGF0YSIsImhlYWRlciIsIlN0ciIsInRvQ2FwaXRhbENhc2UiLCJqb2luIiwiaW5pdFJvdXRlciIsImluaXRpYWxpemVkIiwiUm91dGVzIiwicmVkaXJlY3RSb3V0ZSIsImRlZmF1bHRSb3V0ZSIsIlJlZGlyZWN0Um91dGUiLCJyb3V0ZSIsInBhcmVudE5hbWUiLCJQYXJlbnROYW1lIiwicm9vdFJvdXRlIiwiYWJzdHJhY3QiLCJiYXNlUm91dGUiLCJwYXJlbnRQYXJhbXMiLCJwYXJlbnRRdWVyeSIsInBhdGgiLCJyZWxhdGl2ZVVSTCIsInJlbGF0aXZlUGF0aCIsImNvdW50IiwibmV3UGF0aCIsIm5ld1VSTCIsInZhbGlkYXRlUGF0aCIsImxvY2F0aW9uIiwiaHJlZiIsInB1c2hlZCIsImNsb3Nlc3RMaW5rIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0IiwibWFrZVJvdXRlIiwiY2FsbEJlZm9yZUxvYWQiLCJiZWZvcmVMb2FkUm91dGUiLCJyb3V0ZUxvYWRlZCIsImNhbGxCZWZvcmVMZWF2ZSIsImJlZm9yZUxlYXZlUm91dGUiLCJmYWxsYmFja1RvIiwiaXNEZWZhdWx0IiwiZGVmYXVsdCIsIndhc1Jvb3QiLCJOYW1lIiwiUm91dGUiLCJ1bnN1YnNjcmliZSIsInJvdXRlciIsImVuY29kZVBhcmFtcyIsImVuY29kZVF1ZXJ5IiwiaGFzaCIsIm9yaWdpbiIsImJ1aWxkVVJMIiwiX19pc0N1cnJlbnRSb3V0ZV9fIiwiY3VycmVudFJvdXRlIiwiY3VycmVudFJvdXRlUGFyYW1zIiwic3Vic2NyaWJlIiwiaXNDdXJyZW50Um91dGUiLCJkZWxldGUiLCJmb3J3YXJkIiwiY2hhbmdlUm91dGUiLCJmaW5kUm91dGVCeVVSTCIsImhvc3QiLCJob3N0bmFtZSIsInBhdGhuYW1lIiwicG9ydCIsInByb3RvY29sIiwic2VhcmNoIiwidXJsUGFyYW1zIiwicm91dGVVUkwiLCJyZXF1aXJlZFF1ZXJ5IiwiZGVjb2RlUGFyYW1zIiwiZGVjb2RlUXVlcnkiLCJyZXNvbHZlZCIsInJlc29sdmVVUkwiLCJldmVudHVhbFBhcmFtcyIsInBhcmFtIiwiaGFzT3duIiwiZGVjb2RlIiwiRGVmYXVsdFJvdXRlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY2hhbmdlSGlzdG9yeSIsInJlc29sdmVQYXJhbWV0ZXIiLCJuYW1lRXJyb3JOYW1lIiwidmFsdWVFcnJvck5hbWUiLCJuYW1lTWF0Y2giLCJyZWdleHAiLCJ3aW5kb3ciLCJhcHBsaWVkUmVnRXhwcyIsImlkIiwiY2FudmFzR2V0TWV0aG9kcyIsImNhbnZhc1Jlc3RNZXRob2RzIiwiaHRtbEVsZW1lbnRzIiwic3ZnRWxlbWVudHMiLCJ2b2lkRWxlbWVudHMiLCJodG1sQWxsb3dlZFRhZ1N5bWJvbHMiLCJodG1sQWxsb3dlZEF0dHJTeW1ib2xzIiwicmVnZXhwU3BlY2lhbENoYXJhY3RlcnMiLCJSYW5nZUVycm9yIiwidiIsIm1ldGhvZHMiLCJUeXBlRXJyb3IiLCJhIiwiZCIsImYiLCJyIiwicyIsIlN5bWJvbCIsImNoYXJzIiwid29yZCIsInRva2VuIiwiZGVmIiwicmV0IiwiQ2FzZSIsImNhc2UiLCJldmVudHVhbENhc2VzIiwic2V0UHJvdG90eXBlT2YiLCJGdW5jdGlvbiIsImRlZXAiLCJzdW0iLCJmdW5jIiwiZGVzY3JpcHRvcnMiLCJwcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJwcm9wcyIsImdldHRlciIsImlzRnJvemVuIiwicmVwbGFjZXIiLCJzcGFjZSIsInVuc2hpZnQiLCJzdHJpbmdpZnkiLCJtYXgiLCJvYmoiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiaXNDb250ZXh0T2JqZWN0Iiwic3RhcnRLZXkiLCJzZXR0ZXIiLCJyZWR1Y2UiLCJzZWNyZXQiLCJpdGVyYXRvciIsIlByb21pc2UiLCJleGVjdXRvciIsInJlamVjdCIsImhpZGRlblByb21pc2UiLCJzdGF0dXMiLCJvblJlamVjdCIsImhhbmRsZWQiLCJvblVuaGFuZGxlZFJlamVjdGlvbiIsIm9uRXJyb3IiLCJyZXNvbHZlIiwidGhlbiIsIm9uRnVsZmlsbCIsImhpZGRlblN0YXR1cyIsImhpZGRlblZhbHVlIiwicmVhbFByb21pc2UiLCJwcm94eSIsIm9uUmVqZWN0ZWQiLCJvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQiLCJpc0Z1bmMiLCJvbkZ1bGZpbGxlZCIsInByb21pc2UiLCJoYW5kbGUiLCJoYW5kbGVyIiwiaXRlcmFibGUiLCJ0b1Jlc29sdmUiLCJuZXh0IiwiZG9uZSIsImNvbnNvbGUiLCJiaW5kIiwiRnVuYyIsImNhbGxlZCIsImNhbkJlQ2FsbGVkIiwiYmVmb3JlIiwic3luYyIsImNvbnRleHRMb2NrZWQiLCJjb250ZXh0IiwibWlkZGxld2FyZSIsImFmdGVyQWxsIiwiYmVmb3JlQWxsIiwiYmluZENvbnRleHQiLCJiaW5kQXJncyIsInRpbWVzIiwibG9ja0NvbnRleHQiLCJsb2NrQXJncyIsImFyZ3NMb2NrZWQiLCJtYXJrIiwidGltZSIsInRpbWVFbmQiLCJ1bmJpbmRDb250ZXh0IiwidW5iaW5kQXJncyIsInRvUmFkaWFuIiwiUEkiLCJ0b0RlZ3JlZSIsImxuMiIsIkxOMiIsImxuMTAiLCJMTjEwIiwiTnVtIiwidG9EZWdyZWVzIiwiYWNvcyIsImFzaW4iLCJhdGFuIiwiYXNEZWdyZWVzIiwiY29zIiwiYWJvcnQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lb3V0IiwiYWJvcnRlZCIsInNldFRpbWVvdXQiLCJpbnRlcnZhbCIsImxvZyIsInBvd2VyIiwicG93Iiwic2luIiwidGFuIiwicmVqIiwiZnJhY3Rpb25EaWdpdHMiLCJ0b0V4cG9uZW50aWFsIiwidG9GaXhlZCIsInByZWNpc2lvbiIsInRvUHJlY2lzaW9uIiwiYWJzIiwic3FydCIsImNicnQiLCJjZWlsIiwiZXhwIiwibG4iLCJzaWduIiwia2V5T2YiLCJrZXlPZlN0cmljdCIsInNlcGFyYXRvciIsInBvcCIsInJldmVyc2UiLCJyYW5kb21JbmRleCIsImJlZ2luIiwiY29tcGFyZUZ1bmN0aW9uIiwic29ydCIsImRlbGV0ZUNvdW50IiwiVVJMIiwicHJvZ3Jlc3MiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwidG9SZWplY3QiLCJvbnByb2dyZXNzIiwib25lcnJvciIsIm9ubG9hZCIsImFuY2hvciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRhdGFVUkwiLCJzZXRBdHRyaWJ1dGUiLCJjbGljayIsImNyZWF0ZU9iamVjdFVSTCIsImh0bWxTcGVjaWFscyIsInJlZ2V4cFNwZWNpYWxzUmVnZXhwIiwic2VhcmNoU3RyaW5nIiwicG9zaXRpb24iLCJyZXZlcnQiLCJzdGFydHNXaXRoIiwiZXNjYXBlZCIsInN5bWJvbCIsInNlYXJjaFZhbHVlIiwiZnJvbUluZGV4IiwibGFzdEluZGV4T2YiLCJzdHIiLCJiZWdpblNsaWNlIiwiZW5kU2xpY2UiLCJzdWJzdHIiLCJpbmRleFN0YXJ0IiwiaW5kZXhFbmQiLCJzdWJzdHJpbmciLCJzdWJtaXRTdHJpbmciLCJub2RlU3dpdGNoZXIiLCJJbnRlcm5hbFBhcnNpbmdFcnJvciIsIlBhcnNpbmdFcnJvciIsInRocm93VW5leHBlY3RlZEVycm9yIiwiZ2xvYmFsSW5kZXgiLCJlbGVtZW50cyIsImV2ZW50U2VwYXJhdG9yIiwidGV4dFByb3BlcnR5IiwiTm9kZSIsInByb3BlcnR5RGVzY3JpcHRvciIsImlucHV0RWxlbWVudHMiLCJ4bWxOUyIsInhsaW5rTlMiLCJ4aHRtbE5TIiwidHlwZVN3aXRjaGVyIiwibnMiLCJkb2N1bWVudEVsZW1lbnQiLCJuYW1lc3BhY2VVUkkiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVUZXh0Tm9kZSIsInJlZlN3aXRjaGVyIiwiZmlsdGVyU3dpdGNoZXIiLCJpcyIsImlubmVyU3dpdGNoZXIiLCJwYWRkaW5ncyIsImJvcmRlcnMiLCJvdXRlclN3aXRjaGVyIiwiYXR0ck5TU3dpdGNoZXIiLCJsaXN0IiwiY2xhc3NMaXN0IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwic3R5bGUiLCJzaGVldCIsImNzc1J1bGVzIiwicnVsZXMiLCJ0b0h5cGhlbkNhc2UiLCJpbnNlcnRSdWxlIiwic3RyaW5ncyIsImFwcGxpZWQiLCJzZXRBcHBsaWVkIiwibnAxIiwiYXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlTlMiLCJfdGhpczQiLCJsb2FkIiwiaXNCcm9rZW4iLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImRyYXdJbWFnZSIsImJ5dGVTdHJpbmciLCJhdG9iIiwiYWIiLCJBcnJheUJ1ZmZlciIsImlhIiwiVWludDhBcnJheSIsImJsdXIiLCJwc2V1ZG8iLCJnZXRDb21wdXRlZFN0eWxlIiwicnVsZSIsImNoaWxkTm9kZXMiLCJjbGFzc05hbWUiLCJjbG9uZU5vZGUiLCJjb250YWlucyIsImFwcGxpZWRFeHByZXNzaW9ucyIsImdldFByb3BlcnR5VmFsdWUiLCJnZXRQcm9wZXJ0eVByaW9yaXR5IiwicmVtb3ZlUHJvcGVydHkiLCJzZXRQcm9wZXJ0eSIsImNzc1RleHQiLCJ0b0NhbWVsQ2FzZSIsImN0eCIsImRhdGFzZXQiLCJlbmNvZGVyT3B0aW9ucyIsInRvRGF0YVVSTCIsImRlbGV0ZVJ1bGUiLCJldmVudCIsImV2ZW50SW5pdCIsImRldGFpbHMiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImZpbmFsRXZlbnQiLCJFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImZvY3VzIiwic2VsZWN0b3JUZXh0IiwiaGFzQXR0cmlidXRlIiwiaGFzQXR0cmlidXRlTlMiLCJjdXJyZW50RGlzcGxheSIsInByZXZpb3VzRGlzcGxheSIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsImNvbXBsZXRlIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImltYWdlcyIsImFsbCIsIiRlbGVtIiwicmVtb3ZlTGlzdGVuZXJzIiwicHJvcGVyIiwiYnJva2VuIiwibmV4dFNpYmxpbmciLCJldmVudHMiLCJsaXN0ZW5lcnMiLCJyZW1vdmVMaXN0ZW5lciIsImxpc3RlbmVyIiwiYWxsTGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoYXMiLCJuZXdMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJldmlvdXNTaWJsaW5nIiwibGluayIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlTlMiLCIyIiwiMSIsImNyZWF0ZWQiLCJ0eHQiLCJfYXJndW1lbnRzNiIsImhhc0F0dHIiLCJoYXNDbGFzcyIsImxldmVsIiwidmFsaWRhdG9yV3JhcCIsImlucHV0IiwiZXJyb3JzIiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZm9ybUVycm9ycyIsImZvcm0iLCJpbnB1dHMiLCJkaXNwYXRjaCIsImlucHV0RXJyb3IiLCJldmVyeSIsImlubmVySGVpZ2h0IiwiY2FsY0NTUyIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3hTaXppbmciLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImlubmVyV2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJvdXRlckhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsIm91dGVyV2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJ3aW4iLCJib2R5IiwiaGVhZCIsImlucHV0VmFsdWUiLCJvbkV2YWxFcnJvciIsIm9yaWdpbmFsQXJncyIsImV4cHJlc3Npb24iLCJvbkNoYW5nZSIsImluc3RhbmNlIiwiZm9yREl0ZW0iLCJmb3JERWFjaCIsImV4cHIiLCJEd2F5bmVTdG9yZSIsInN0b3JlIiwibG9jYWxXYXRjaGVycyIsIm5ld1Jlc3VsdCIsIndhdGNoZXJCbG9jayIsImluZGV4MSIsImluZGV4MiIsImFyZyIsIkR3YXluZUJsb2NrIiwiaXNQYXJlbnRTaWduYWwiLCJiZWZvcmVSZW1vdmUiLCJ2YXJpYWJsZSIsIl90aGlzMyIsIl90aGlzNSIsImxvY2FsIiwiX3RoaXM2IiwiQmxvY2tzIiwiYWZ0ZXJVcGRhdGUiLCJNaXhpbnMiLCJkYXlzT2ZUaGVXZWVrTmFtZXMiLCJkYXlzT2ZUaGVXZWVrQWxpYXNlcyIsIm1vbnRoc05hbWVzIiwibW9udGhzQWxpYXNlcyIsInV0YyIsImNvZWZmcyIsImdldFN3aXRjaGVyIiwic2V0U3dpdGNoZXIiLCJ3aGF0IiwicHJlZml4IiwiZm9ybWF0cyIsImZvcm1hdCIsInJlcGxhY2VTdHJpbmciLCJkYXRlMSIsImRhdGUyIiwiaXNCZWZvcmUiLCJzdGFydGVkIiwiY29lZmYiLCJ3Iiwic2V0VGltZSIsInRvSVNPU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwicXVlcnlTd2l0Y2hlciIsInF1ZXJ5UGFyYW1zIiwiZW5jb2RlT3B0aW9ucyIsInJhd0hlYWRlcnMiLCJub3RUb1RyYW5zZm9ybSIsIndpdGhvdXRCb2R5IiwiaW5kZXhPZlN0cmljdCIsImNvbnRlbnRUeXBlIiwiZGVmYXVsdHMiLCJ1cGxvYWRNZXRob2RzIiwiRmV0Y2giLCJmZXRjaCIsInJlcXVlc3QiLCJjb25mIiwidG9QdXNoIiwiZGF0YUNvbmZpZyIsInVybENvbmZpZyIsInhociIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVzcG9uc2VUeXBlIiwid2l0aENyZWRlbnRpYWxzIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInVwbG9hZCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2UiLCJyZXNwb25zZVRleHQiLCJwYXJzZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJzZW5kIiwicmF3UGFyYW0iLCJwYXJhbU5hbWUiLCJwYXJhbU9iamVjdCIsInN1YnNjcmliZXJzIiwiaGlzdG9yeSIsInBhdGhTd2l0Y2hlciIsInBhcnQiLCJlc2NhcGVSZWdFeHAiLCJzdGF0aWNzIl0sIm1hcHBpbmdzIjoid0JBWUEsU0FBZ0JBLEdBQVlDLFlBQ2hCQyxTQUFTQyxLQUFLRixHQUFRRyxRQUFRLGlCQUFrQixJQ081RCxRQUFnQkMsR0FBUUMsU0FDUSxVQUF2Qk4sRUFBWU0sR0FnQnJCLFFBQWdCQyxHQUFZRCxPQUNyQkEsR0FBU0UsRUFBV0YsVUFDaEIsS0FHSEcsR0FBU0gsRUFBTUcsYUFFZEMsR0FBVUQsSUFBV0EsR0FBVSxFQWN4QyxRQUFnQkUsR0FBVUwsU0FDTSxZQUF2Qk4sRUFBWU0sR0FhckIsUUFBZ0JNLEdBQU9OLFNBQ1MsU0FBdkJOLEVBQVlNLEdBZXJCLFFBQWdCTyxHQUFXUCxZQUNqQixHQUFJUSxNQUFLUixJQUVUUyxFQUFNVCxFQUFNVSxXQVl0QixRQUFnQkMsR0FBVVgsb0JBQ05ZLEtBQUtsQixFQUFZTSxJQWVyQyxRQUFnQmEsR0FBU2IsV0FDbEJjLEVBQVNkLE9BSU5lLE9BQU9mLElBRVBTLEVBQU1ULElBQVVBLElBQVVnQixFQUFBQSxHQUFZaEIsTUFBV2dCLEVBQUFBLElBZ0IzRCxRQUFnQmQsR0FBV0YsU0FDSyxhQUF2Qk4sRUFBWU0sSUFBMEMsa0JBQVZBLEdBaUJyRCxRQUFnQkksR0FBVUosU0FDakJjLEdBQVNkLElBQVVBLEVBQVEsSUFBTSxFQWUxQyxRQUFnQmlCLEdBQWNqQixZQUNwQmtCLFNBQVNILE9BQU9mLE9BRWRBLEdBQW1CLElBQVZBLEdBZXJCLFFBQWdCUyxHQUFNVCxXQUNmYyxFQUFTZCxPQUlOZSxPQUFPZixHQUVSQSxJQUFVQSxHQWFuQixRQUFnQm1CLEdBQU9uQixTQUNKLFFBQVZBLEVBY1QsUUFBZ0JvQixHQUFNcEIsU0FDSCxRQUFWQSxHQUFtQyxtQkFBVkEsR0FlbEMsUUFBZ0JjLEdBQVNkLFNBQ08sV0FB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