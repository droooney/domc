!function(){"use strict";function e(e){return{}.toString.call(e).replace(/^\[object |]$/g,"")}function t(t){return"Array"===e(t)}function n(e){if(!e||c(e))return!1;var t=e.length;return s(t)&&t>=0}function r(t){return"Boolean"===e(t)}function o(t){return"Date"===e(t)}function i(e){return e=new Date(e),!f(e.getTime())}function a(t){return/Element$/.test(e(t))}function u(e){return!!p(e)&&(e=Number(e),!f(e)&&e!==1/0&&e!==-(1/0))}function c(t){return"Function"===e(t)||"function"==typeof t}function s(e){return p(e)&&e%1===0}function l(e){return e=parseInt(Number(e)),!(!e&&0!==e)}function f(e){return!!p(e)&&(e=Number(e),e!==e)}function h(e){return null===e}function v(e){return null===e||"undefined"==typeof e}function p(t){return"Number"===e(t)}function d(e){return!(!f(e)&&"NaN"!==e)||(e=Number(e),!(!e&&0!==e))}function m(t){return!!t&&("Object"===e(t)||"object"===("undefined"==typeof t?"undefined":Vt(t))||t instanceof Object)}function y(e){if(g(e))return!1;var t=Object.getPrototypeOf(e);if(h(t))return!0;var n=t.constructor;return c(n)&&n instanceof n&&h(Object.getPrototypeOf(t))}function g(e){return h(e)||/^(number|string|boolean|symbol|undefined)$/.test("undefined"==typeof e?"undefined":Vt(e))}function $(t){return"RegExp"===e(t)}function w(t){return"String"===e(t)}function k(t){return"Symbol"===e(t)}function b(e){return"undefined"==typeof e}function x(e){for(var t=Ut.length-1;t>=0;t--)for(var n=Ut[t],r=0,o=n.length;r<o;r++){var i=n[r];if(e instanceof i.cls)return e;if(i.check(e))return new i.cls(e)}}function E(e,t){var r=n(e),o={},i=0;for(var a in e)if(!{}.hasOwnProperty.call(o,a)&&(o[a]=!0,{}.hasOwnProperty.call(e,a))){if(r&&i++>=e.length)break;var u=t(e[a],r?Number(a):a,e);if(!b(u))return u}}function O(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E(arguments,function(t,n){n&&E(t,function(t,n){e[n]=t})}),e}function S(e,t){var n=void 0;try{return n=new Function("$","return "+e),n.expression=e,n.original=t,n}catch(n){throw new Error('Syntax error (in "'+e+'", original code: "'+t+'")')}}function _(e,t,n){E(t,function(t,r){Object.defineProperty(e,t,{value:n(t,r),writable:!0,enumerable:!1,configurable:!0})})}function j(e,t){E(t,function(t,n){return/^get /.test(n)?void Object.defineProperty(e,n.replace(/^get /,""),{get:t,set:void 0,enumerable:!1,configurable:!0}):/^set /.test(n)?void Object.defineProperty(e,n.replace(/^set /,""),{set:t,get:void 0,enumerable:!1,configurable:!0}):/^get\/set /.test(n)?void Object.defineProperty(e,n.replace(/^get\/set /,""),{get:t.get,set:t.set,enumerable:!1,configurable:!0}):void("Symbol.toStringTag"!==n&&Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!1,configurable:!0}))})}function T(e,t){E(t,function(t,n){Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})})}function R(e,t){E(t,function(t,n){Object.defineProperty(e,n,{value:t,writable:!1,enumerable:!1,configurable:!1})})}function A(e,r){if(t(e)&&!r)return e;var o=[];return n(e)&&!w(e)?E(e,function(e){o.push(e)}):o.push(e),o}function C(e,n,r){E(n,function(n,o){t(n)||(n=[n]),E(n,function(t){if(t=rn[t],!t.check(e[o]))throw new t.error(t.text.replace("$n",an[o])+(r?" (at "+r+")":""))})})}function P(e){return w(e)&&1===e.length}function L(e){C([e],["string"]);for(var t=e.split(/([\s\S]-+[\s\S])?/g),n=t.length,r=[],o=0;o<n;o++){var i=t[o];if(i&&" "!==i){if(/-/.test(i)&&!/[\s\S]-+[\s\S]/.test(i))throw new Error("Wrong part of the string ("+i+")! (in alphabet)");if(/-/.test(i)){var a=i.charCodeAt(0),u=i.charCodeAt(2);if(a>u)throw new Error("Start of the range must be before its end! (in alphabet)");for(var c=0,s=u-a+1;c<s;c++)r.push(String.fromCharCode(a+c))}else 1===i.length&&r.push(i)}}return new un(r)}function B(e,t,n){return new(Function.prototype.bind.apply(cn,[null].concat(Array.prototype.slice.call(arguments))))}function N(e,t,n){return e?t:n}function D(e,t){E(t,function(t,n){return g(e[n])||!{}.hasOwnProperty.call(e,n)?void(e[n]=M(t)):void(g(e[n])||D(e[n],t))})}function M(e){var t=sn(e,[e,!0]);return t!==e&&E(e,function(e,n){t[n]=M(e)}),t}function U(n,r,i){if(n===r)return!0;if(f(n)&&f(r)&&g(n)&&g(r))return!0;if(f(n)||f(r))return!1;if(g(n)||g(r))return i?n===r:n==r;if(o(n)&&o(r))return n.getTime()===r.getTime();if(o(n)||o(r))return!1;if($(n)&&$(r))return n.source===r.source&&n.toString().match(/[gimuy]*$/)[0]===r.toString().match(/[gimuy]*$/)[0]&&n.lastIndex===r.lastIndex;if($(n)||$(r))return!1;if(!y(n)&&!t(n)||!y(r)&&!t(r))return!1;var a=Object.getPrototypeOf(n),u=Object.getPrototypeOf(n);return Object.keys(n).length===Object.keys(r).length&&((!a||!u||e(a.constructor)===e(u.constructor))&&E(n,function(e,t){if(!(t in r&&U(e,r[t],i)))return!1})!==!1)}function I(e,t,n,r){var o=1===n;return E(e,function(e,i,a){var u=[{key:i,value:e}].concat(r);if(o||g(e)?!t(e,i,a,u):!I(e,t,n-1,u))return!1})!==!1}function q(e,t,r,o){var i=n(e),a=v(e),u=i?[]:a?e:{},c=1===r;return E(e,function(e,n,a){var s=[{key:n,value:e}].concat(o);if((c||g(e))&&t(e,n,a,s))return void(i?u.push(e):u[n]=e);if(!c){var l=q(e,t,r-1,s);l&&(i?u.push(l):u[n]=l)}}),i?u.length?u:void 0:a?u:Object.keys(u).length?u:void 0}function F(e,t,n,r){var o=1===n;return E(e,function(e,i,a){var u=[{key:i,value:e}].concat(r);if(o||g(e)){if(t(e,i,a,u))return u}else{var c=F(e,t,n-1,u);if(c)return c}})||null}function z(e,t,n,r){var o=1===n;E(e,function(e,i,a){var u=[{key:i,value:e}].concat(r);o||g(e)?t(e,i,a,u):z(e,t,n-1,u)})}function H(e,t,n,r){var o=1===n;E(e,function(e,i,a){var u=[{key:i,value:e}].concat(r);t(e,i,a,u),o||g(e)||H(e,t,n-1,u)})}function W(e){Object.freeze(e),E(e,W)}function V(e,t,r,o){var i=n(e)?[]:v(e)?e:{},a=1===r;return E(e,function(e,n,u){var c=[{key:n,value:e}].concat(o);i[n]=a||g(e)?t(e,n,u,c):V(e,t,r-1,c)}),i}function Z(e,t,n,r,o,i){var a=1===n;return E(e,function(e,u,c){if(!o&&(a||g(e))&&!r)return o={IV:e},void(r=!0);var s=[{key:u,value:e}].concat(i);o=a||g(e)?{IV:t(o.IV,e,u,c,s)}:Z(e,t,n-1,r,o,s)}),o}function G(e,t,n,r){var o=1===n;return E(e,function(e,i,a){var u=[{key:i,value:e}].concat(r);if(o||g(e)?t(e,i,a,u):G(e,t,n-1,u))return!0})||!1}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){return n[e].apply(n,A(t))}}function Q(){}function Y(e){return function(t){var n=t[e];return n}}function K(){return arguments[0]}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+(t-e)*Math.random()}function ee(e,t){if(C([e,t],["intLike","intLike"],"random"),t<=e)throw new Error("The second argument must be greater than the first!","random");return Math.floor(X(e,t+1))}function te(e,t){return p(e)||p(t)?p(e)?p(t)?f(e)&&f(t)?0:f(e)?-1:f(t)?1:e-t:1:-1:0}function ne(e,t){C([e,t],[["intLike",">=0"],"function||!"],"array");for(var n=[],r=0;r<e;r++)n.push(t?t(r):r);return new wn(n)}function re(e,t){C([e,t],[["intLike",">=0"],"function"],"iterate");for(var n=0;n<e;n++)t(n)}function oe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(e)||(e=[e]),new En(new Blob(e,n))}function ie(e){return e.replace(/^[\s\-_.]+|[\s\-_.]+$/g,"")}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(arguments.length<=1)return x(JSON.parse(e));c(t)&&(n=t,t={});var r=t,o=r.numbers,i=r.dates,a=JSON.parse(e,function(e,t){return i&&/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ?$/.test(t)?t=new Date(t):o&&d(t)&&w(t)&&(t=Number(t)),n?n.apply(this,arguments):t});return x(a)}function ue(e,t){var n=t.name,r=void 0;r=Ln(n)?new ln({"tag-close":e.match(ce(n))}):Tn.map(function(t){return e.match(t)});var o=void 0;if(o=r.find(function(e){return e&&0===e.index})){var i={type:o.key,index:o.value[0].length,value:o.value[1]},a={};if("tag-open"===o.key){var u=e,c=void 0;for(i.selfClosing=!1,i.attrs=a;(e=u.slice(i.index))&&!(c=e.match(Rn));){var s=e.match(An);s?(a[s[1]]=!!b(s[2])||s[2].replace(/^("|')|("|')$/g,""),i.index+=s[0].length):i.index+=1}c&&(i.index+=c[0].length,i.selfClosing=!!c[1])}return i}var l=r.min(function(e){return e?e.index:NaN}),f=l.value;return f===1/0&&(f=e.length),{type:"text",index:f,value:e.slice(0,f)}}function ce(e){return new RegExp("</("+e+")\\s*>","i")}function se(e,t){return t+' (~~~ "'+e.slice(t,t+15)+'" ~~~, the string itself is "'+e+'")'}function le(e){return e.replace(/&(\w+|#x?\d+);/g,function(e){return Cn.innerHTML=e,Cn.textContent||Cn.innerText})}function fe(e){return he(e)?e:(w(e)&&(e=ke(e)),new nr(e))}function he(e){return e instanceof nr}function ve(t){return"Window"===e(t)}function pe(t){return"HTMLDocument"===e(t)}function de(t){return"DocumentFragment"===e(t)}function me(t){return"CSSStyleRule"===e(t)}function ye(t){var n=e(t);return"Comment"===n||"Text"===n}function ge(e){return a(e.$[0])?e.$[0]:Un}function $e(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||""}function we(e){({}).hasOwnProperty.call(e,"dwayneData")||ve(e)?ve(e)&&!Hn.some(function(t){var n=t.element;return n===e})&&Hn.push({element:e,listeners:{}}):Object.defineProperty(e,"dwayneData",{value:{previousDisplay:"",listeners:{},ctx:"canvas"===$e(e)&&e.getContext("2d"),validators:new wn([])}})}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;return new nr(a(t)||pe(t)?t.querySelectorAll(String(e)):[])}function be(e,t){var n=Dn(e,t),r=or.template(),o=new nr(r.$[0].content);return n.forEach(function e(t){var n=t.name,r=t.attrs,i=t.value,a=t.parent,u=t.children,c=a.elem||o,s=c.create(n);t.elem=s,i&&s.text(i),r&&s.attr(new ln(r).map(function(e){return e===!0?"":e}).$),"template"===n&&(t.elem=new nr(s.prop("content"))),u&&u.forEach(e)}),new nr(o)}function xe(e){return Number(String(e).replace(/px$/,""))}function Ee(e){var t=function(e){function t(){return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,e),Gt(t,[{key:"afterConstruct",value:function(){var e=this.$$,t=e.parentScope.$$,n=t.parentScope,r=t.parentTemplate,o=t.argsChildren,i=e.parentTemplate,a=e.dBlockName,u=this.$$.argsChildren,c=void 0;if(!u.length)if(this.ParentScope=n,this.ParentTemplate=r,a){if(c=o.find(function(e){var t=e.name;return t==="d-block:"+a}),!c){for(var s=this;(s=s.$$.parentScope)&&!(c=s.$$.dBlocks.find(function(e){var t=e.$$.dBlockName;return t===a}))&&"#d-item"===s.$$.parentScope.$$.name;);c&&(this.ParentScope=s,this.ParentTemplate=i,c.value={children:c.value.$$.argsChildren})}this.elems=c&&c.value.children.length?c.value.children:null}else this.elems=o}}]),t}(e);return t.template='<d-elements  value="{elems}"  parentScope="{ParentScope}"  parentTemplate="{ParentTemplate}"/>',{name:"d-block",value:t}}function Oe(e,n){var r=function(e){function r(e){Zt(this,r);var t=en(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e)),n=t.args,o=n.item,i=void 0===o?"$item":o,a=n.index,u=void 0===a?"$index":a;return O(t.$$,{uids:new ln({}),items:new wn([]),UID:t.args.uid||void 0,itemName:i,indexName:u}),t}return Kt(r,e),Gt(r,[{key:"afterRender",value:function(){var e=this;this.watch("args.set","args.sortBy","args.filterBy",function(){var r=e.$$,o=r.argsChildren,i=r.uids,a=r.parentScope,u=r.parentElem,s=r.parentTemplate,l=r.scope,f=r.itemName,h=r.indexName,v=r.UID,d=e.args.sortBy,m=i.$,y={},g={},$=e.args,w=$.set,k=$.filterBy;p(w)&&(w=ne(w).$),t(w)&&c(d)&&(w=new wn(w).slice().sort(d).$),c(k)&&(k=[k]),t(k)&&E(k,function(e){w=new ln(w).filter(e).$}),new ln(w).forEach(function(t,n){l[f]=t,l[h]=n;var r=a.$$.evaluate(v,null,null,!1,!1,e);y[r]=y[r]||{},y[r][n]=!0,g[n]=r}),l[f]=null,l[h]=null,i.forEach(function(e,t){return y[t]?void e.splice(Object.keys(y[t]).length).forEach(function(e){e.$$.remove()}):void e.forEach(function(e){e.$$.remove()})});var b=void 0;new ln(w).forEach(function(t,r){var c=g[r],l=void 0;m[c]&&m[c].length?(l=y[c][r]=i.$[c].shift(),l.$$.scope[h]=r,l.$$.scope[f]=t,l.$$.prevBlock!==b&&b&&b.$$.insertAfterIt(l.$$.content,!0)):l=y[c][r]=n({node:{itemName:f,indexName:h,item:t,index:r,name:"#d-item",children:o},parent:e,parentElem:u,parentBlock:e,parentScope:a,parentTemplate:s,prevBlock:b}),l.$$.prevBlock=b,b=l}),e.$$.uids=new ln(y).map(function(e){return new ln(e).values()})})}}]),r}(e);return{name:"d-each",value:r}}function Se(e,t){var n=function(n){function r(){return Zt(this,r),en(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return Kt(r,n),Gt(r,[{key:"afterConstruct",value:function(){var n=this,r=this.$$.parentElem,o=this.args,i=o.parentScope,a=o.parentTemplate,u=!0;this.watch("args.value",function(){if(u)return void(u=!1);var o=n.$$,c=o.children,s=o.mixins,l=o.parent,f=o.watchersToRemove,h=o.content,v=n.args.value;c.forEach(function(e){e.$$.remove(!0)}),s.forEach(function(e){e.$$.remove(!0)}),h.remove(),l instanceof e&&l.$$.removeContent(h),n.$$.children=new wn([]),n.$$.mixins=new wn([]),n.$$.watchersToRemove=f.filter(function(e){var t=e.watchers,n=e.watcher,r=e.forDElements;if(r)return!0;var o=t.indexOf(n);o!==-1&&t.splice(o,1)}),n.$$.content=new nr;var p=void 0;new wn(v||[]).forEach(function(e){p=t({node:e,parent:n,parentElem:r,parentBlock:n,parentScope:i,parentTemplate:a,prevBlock:p})})})}}]),r}(e);return{name:"d-elements",value:n}}function _e(e){var t=function(e){function t(e){Zt(this,t);var n=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.$$.parentScope,o=1/0,i=n.$$.argsChildren.map(function(e,t){var a=e.name,u=e.attrs,c=e.children,s=u.if;return s="d-else"===a||!s||r.$$.evaluate(s,function(e){if(!!e!==i.$[t]&&(i.$[t]=!!e,!(t>o))){if(t<o)return o=t,void(n.elems=c);var r=i.find(Boolean);r?(o=r.key,n.elems=n.$$.argsChildren.$[r.key].children):(o=1/0,n.elems=null)}},n),s&&o===1/0&&(o=t,n.elems=c),!!s});return n}return Kt(t,e),t}(e);return t.template='<d-elements  value="{elems}"  parentScope="{$$.parentScope}"  parentTemplate="{$$.parentTemplate}"/>',{name:"d-if",value:t}}function je(e){var t=function(e){function t(){return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,e),t}(e);return t.template='<d-elements  value="{$$.argsChildren}"  parentScope="{this}"  parentTemplate="{$$.parentTemplate}"/>',{name:"#d-item",value:t}}function Te(e){var t=function(e){function t(e){Zt(this,t);var n=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.index=1/0;var r=n.$$.parentScope,o=n.args,i=n.args.value,a=void 0;return n.values=n.$$.argsChildren.object(function(e,t,u){var c=t.name,s=t.attrs,l=t.children,f=s.if;a||"d-case"!==c&&"d-default"!==c||("d-default"===c&&(a=!0),f="d-default"===c?o.value:f?r.$$.evaluate(f,function(e){if(!(n.equals(n.values.$[u].value,e)||(n.values.$[u].value=e,u>n.index))){if(u<n.index)return n.index=u,void(n.elems=l);var t=n.values.find(function(e){var t=e.value;return n.equals(t,o.value)});t?(n.index=t.key,n.elems=t.value.children):(n.index=1/0,n.elems=null)}},n):void 0,n.equals(f,i)&&n.index===1/0&&(n.index=u,n.elems=l),e.push({name:c,children:l,value:f}))},new wn([])),n}return Kt(t,e),Gt(t,[{key:"afterConstruct",value:function(){var e=this,t=!0;this.watch("args.value",function(){if(t)return void(t=!1);var n=e.args.value;e.index=1/0,e.values.forEach(function(t,r){var o=t.name,i=t.value,a=t.children,u="d-default"===o?n:i;e.equals(u,n)&&e.index===1/0&&(e.index=r,e.elems=a)}),e.index===1/0&&(e.elems=null)})}},{key:"equals",value:function(e,t){return new ln(e).equals(t)}}]),t}(e);return t.template='<d-elements  value="{elems}"  parentScope="{$$.parentScope}"  parentTemplate="{$$.parentTemplate}"/>',{name:"d-switch",value:t}}function Re(e){var t=function(e){function t(){var e,n,r,o;Zt(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=en(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.attrs={},o=n,en(r,o)}return Kt(t,e),Gt(t,[{key:"afterUpdate",value:function(e){var t=this.elem,n=this.args,r=this.attrs;n&&(e=new ln(n).object(function(t,n){t[n]=e})),e=new ln(e||{}).$,new ln(r).forEach(function(n,r){e[r]||t.removeAttr(r)}),t.attr(e),this.attrs=e}},{key:"beforeRemove",value:function(){var e=this.elem,t=this.attrs;e.removeAttr.apply(e,new ln(t).keys().$)}}]),t}(e);return{name:"d-attr",value:t}}function Ae(e){var t=function(e){function t(){return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,e),Gt(t,[{key:"afterUpdate",value:function(e){this.off&&this.off(),c(e)&&(this.args?this.off=this.elem.on(this.args.join(","),e):console.error('Provide "d-bind" mixin with an event names (like "d-bind(click)" or "d-bind(keyup, keypress)")!'))}},{key:"beforeRemove",value:function(){var e=this.off;e&&e()}}]),t}(e);return{name:"d-bind",value:t}}function Ce(e){var n=function(e){function n(){var e,t,r,o;Zt(this,n);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return t=r=en(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),r.classes=[],o=t,en(r,o)}return Kt(n,e),Gt(n,[{key:"afterUpdate",value:function(e){var n=this.elem,r=this.args,o=this.classes,i=[];e=new ln(e).$,r&&(e=e?r:[]),w(e)&&(e=e.split(/\s+/)),t(e)?(E(o,function(t){e.indexOf(t)===-1&&n.removeClass(t)}),E(e,function(e){w(e)&&(i.push(e),n.addClass(e))})):(E(o,function(t){e&&e[t]||n.removeClass(t)}),E(e,function(e,t){e&&(i.push(t),n.addClass(t))})),this.classes=i}},{key:"beforeRemove",value:function(){var e=this.elem;e.removeClass.apply(e,new ln(this.value).keys().$)}}]),n}(e);return{name:"d-class",value:n}}function Pe(e,t,n){var r=function(e){function t(e){Zt(this,t);var r=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=r.args,i=r.parentTemplate,a=r.elem,u=i,s=r.evaluateOnce();return o&&(u=s instanceof n?s:i,s=o[0]),c(s)?s(a):w(s)&&(u[s]=a),r}return Kt(t,e),t}(e);return r.evaluate=!1,{name:"d-elem",value:r}}function Le(e){var t=function(e){function t(){return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,e),Gt(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.hide():t.show()}},{key:"beforeRemove",value:function(){this.elem.show()}}]),t}(e);return{name:"d-hide",value:t}}function Be(e,t,n){var r=function(e){function t(e){Zt(this,t);var r=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=r.args,i=r.parentTemplate,a=r.node,u=i,s=r.evaluateOnce();return o&&(u=s instanceof n?s:i,s=o[0]),c(s)?s(a):w(s)&&(u[s]=a),r}return Kt(t,e),t}(e);return r.evaluate=!1,{name:"d-node",value:r}}function Ne(e){var t=function(e){function t(e){Zt(this,t);var n=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.args?n.off=n.elem.on(n.args.join(","),function(){n.evaluateOnce()}):console.error('Provide "d-on" mixin with an event names (like "d-on(click)" or "d-on(keyup, keypress)")!'),n}return Kt(t,e),Gt(t,[{key:"beforeRemove",value:function(){var e=this.off;e&&e()}}]),t}(e);return t.evaluate=!1,{name:"d-on",value:t}}function De(e){var t=function(e){function t(){return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,e),Gt(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.show():t.hide()}},{key:"beforeRemove",value:function(){this.elem.show()}}]),t}(e);return{name:"d-show",value:t}}function Me(e){var t=function(e){function t(){var e,n,r,o;Zt(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=en(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.css={},o=n,en(r,o)}return Kt(t,e),Gt(t,[{key:"afterUpdate",value:function(e,t){var n=this.elem,r=this.args,o=this.css;r&&(e=new ln(r).object(function(t,n){t[n]=e})),w(e)&&(e=new wn(e.split(/; ?/)).filter().object(function(e,t){var n=tn(t,2),r=n[0],o=n[1];e[r]=o})),e=new ln(e||{}).$,new ln(o).forEach(function(t,r){e[r]||n.removeCSS(r)}),n.css(e),this.css=e}},{key:"beforeRemove",value:function(){var e=this.elem,t=this.css;e.removeCSS.apply(e,new ln(t).keys().$)}}]),t}(e);return{name:"d-style",value:t}}function Ue(e){var t=function(e){function t(e){Zt(this,t);var n=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.elem,o=n.value=n.evaluateOnce();return c(o)?r.validate(o):o===!0&&(n.off=r.on(fr(r.name,[r.prop("type")]),function(){r.validate()})),n}return Kt(t,e),Gt(t,[{key:"beforeRemove",value:function(){var e=this.value;if(c(e)){var t=this.node.dwayneData.validators,n=t.indexOf(e);n!==-1&&t.splice(n,1)}else e===!0&&this.off()}}]),t}(e);return t.evaluate=!1,{name:"d-validate",value:t}}function Ie(e,t,n){var r=function(e){function t(e){Zt(this,t);var r=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=r.args,i=r.parentTemplate,a=r.elem,u=r.node,s=a.name,l=a.prop("type"),f=r.evaluateOnce(),h=null;r.prop=hr(s,[l,a]),r.name=s,r.type=l,r.value=f,r.options=a.find("option"),r.scope=i,o&&(r.name=o[0],r.scope=f instanceof n?f:i),c(f)||(h=r.scope.$$.evaluate(S("$."+f,f),function(e){r.currentValue!==e&&(r.currentValue=e,r.setProp(e))},r));var p=r.getProp(h,!0),d=v(h),m="checkbox"===l,y=function(){r.currentValue=r.getProp(r.currentValue),r.changeScope()};return d||m?(r.currentValue=p,r.changeScope(),!d&&m&&r.setProp(h)):(r.currentValue=h,r.setProp(h)),r.offElemListener=a.on(dr(s,[l]),function(e){e.target===u&&y()}),r.offFormListener=a.closest("form").on("reset",function(){setTimeout(y,0)}),r}return Kt(t,e),Gt(t,[{key:"changeScope",value:function(){var e=this.scope,t=this.value,n=this.currentValue;c(t)?t(n):e[t]=n}},{key:"setProp",value:function(e){var t=this.elem,n=this.name,r=this.prop,o=this.type,i=this.node,a=this.options;"text"===r?t.text(e):"multiple-select"===r?a.forEach(function(t){t.selected=e.indexOf(t.value)!==-1}):t.prop(r,vr(n,[e,o,i.value]))}},{key:"getProp",value:function(e,t){var n=this.elem,r=this.name,o=this.prop,i=this.type,a=this.node,u=this.options;return"text"===o?n.text():pr(r,[n.prop(o),i,a.value,e,n,u,t,"multiple-select"===o])}},{key:"beforeRemove",value:function(){this.offElemListener(),this.offFormListener()}}]),t}(e);return r.evaluate=!1,{name:"d-value",value:r}}function qe(e,t,n){n=!!n;for(var r=e,o={expression:!0,closingExpressions:[],functionScope:{}},i={},a=o.closingExpressions,u="",c=0;e.length;){var s=void 0,l=void 0,f="",h=void 0,v=void 0,p=a[a.length-1]||{},d=p.type,m=p.symbol,y=e[0];if((s=e.match(yr))&&!o.templateString)v=!0,l=s[0];else{if(o.expression)if(l=e.match(Rr)){for(var g=(l[2]||l[1]).split(br),$=[],w=Object.create(o.functionScope),k=0,b=g.length;k<b;k++){var x=g[k];x&&($.push(x),w[x]=!0)}f="function("+$.join(",")+"){return ",o.functionScope=w,a.push({type:"any",symbol:Ir},{type:"any",symbol:Ur})}else if("("===y)l="(",a.push({type:"paren",symbol:")"});else if("["===y)l="[",a.push({type:"array",symbol:"]"});else if("`"===y)l="`",f='(""',o.templateString=!0,a.push({type:"templateString",symbol:"`"}),delete o.expression;else if("{"===y)l="{",o.objectProperty=!0,a.push({type:"object",symbol:"}"}),delete o.expression;else if(l=e.match(Nr))f=l[0].replace(gr," ");else{if(l=e.match(Or),!(l||(l=e.match(_r),l||(l=e.match(jr),l||(l=e.match(Tr))))))if(l=e.match(Er))f="$";else if(l=e.match(Sr)){var E=l[0];o.functionScope[E]||(i[E]=!0),f=Fe(E,o.functionScope)}l&&(o.operator=!0,h=Ur,delete o.expression)}else if(o.templateString)if(l=e.match(Ar)){var O=l[0].replace($r,function(e){var t=e[1];return xr.test(t)?e:t}).replace(wr,'\\"').replace(kr,function(e){return e="\r\n"===e?"\\r\\n":"\r"===e?"\\r":"\\n",'"+"'+e+'"+"'});f='+"'+O+'"'}else"`"===y?(l="`",h=Ur,f=")",o.operator=!0,a.pop(),delete o.templateString):"${"===e.slice(0,2)&&(l="${",f="+(",o.expression=!0,a.push({type:"templateString",symbol:"}"},{type:"any",symbol:Ur}),delete o.templateString);else if(o.objectProperty){if(l=e.match(Lr))Mr.test(l[1])&&(l[1]='"'+l[1]+'"'),f=l[1]+":",o.expression=!0,a.push({type:"any",symbol:Ur}),delete o.objectProperty;else if(l=e.match(Br)){var S=l[1];o.functionScope[S]||(i[S]=!0),Mr.test(S)&&(l[1]='"'+S+'"'),f=l[1]+":"+Fe(S,o.functionScope)+l[2],l[2]||(o.operator=!0,delete o.objectProperty)}}else if(o.operator){if(")"===y||"]"===y||"}"===y||","===y){f=ze(o);var _=a[a.length-1]||{};d=_.type,m=_.symbol}"("===y?(l="(",o.expression=!0,a.push({type:"call",symbol:")"}),delete o.operator):"?"===y?(l="?",o.expression=!0,a.push({type:"ternary",symbol:":"},{type:"any",symbol:Ur}),delete o.operator):":"===y&&":"===m?(l=":",o.expression=!0,a.pop(),delete o.operator):"["===y?(l="[",o.expression=!0,a.push({type:"property",symbol:"]"},{type:"any",symbol:Ur}),delete o.operator):"}"===y&&"}"===m&&"templateString"===d?(l=y,f+=")",o.templateString=!0,a.pop(),delete o.operator):"]"===y&&"]"===m&&"property"===d?(l=y,f+=y,h=Ur,a.pop()):")"===y&&")"===m&&"paren"===d?(l=y,f+=y,h=Ur,a.pop()):","===y&&"}"===m&&"object"===d?(l=y,f+=y,h=Ur,o.objectProperty=!0,delete o.operator):(l=e.match(Pr),l?(h=Ur,Mr.test(l[1])&&(f+='["'+l[1]+'"]')):(l=e.match(Cr),l&&(f+=l[0].replace(gr," "),o.expression=!0,a.push({type:"any",symbol:Ur}),delete o.operator)))}if(!l){if(")"===y||"]"===y||"}"===y){f+=ze(o);var j=a[a.length-1]||{};d=j.type,m=j.symbol}var T=void 0;")"===m&&")"===y&&"call"===d?(T=!0,delete o.expression):"]"===m&&"]"===y&&"array"===d?(T=!0,delete o.expression):"}"===y&&"}"===m&&"object"===d&&(T=!0,delete o.objectProperty),T&&(l=y,f+=y,o.operator=!0,h=Ur,a.pop())}h===Ur&&a.length&&a[a.length-1].symbol===Ur&&a.pop()}var R=!l||!l[0],A=e.indexOf("}");if(R&&(A>0||n)){var C=n?r:r.slice(0,r.length-e.length+A);throw new Error('Syntax error near ~~~ "'+r.slice(c,c+15)+'" ~~~ (index: '+c+", "+He(C,t,a,n))}if(R&&0===A){u+=f;break}if(R&&A===-1)return null;l="string"==typeof l?l:l[0],v||(u+=f||l),e=e.slice(l.length),c+=l.length}if(u+=ze(o),a.length){var P=r.slice(0,r.length-e.length);throw new Error("Unexpected end of input ("+He(P,t,a,n))}return e.length||n?{expression:u,variables:i,original:r.slice(0,c),rest:e.slice(1)}:null}function Fe(e,t){return t[e]?e:Mr.test(e)?'$["'+e+'"]':"$."+e}function ze(e){for(var t=e.closingExpressions,n="";t[t.length-1]&&t[t.length-1].symbol===Ir;)n+="}",e.functionScope=Object.getPrototypeOf(e.functionScope),t.pop(),t.length&&t[t.length-1].symbol===Ur&&t.pop();return n}function He(e,t,n,r){var o=n[n.length-1]||{},i=o.symbol,a="";i&&i!==Ur&&i!==Ir&&(i='"'+i+'"'),r||(a=', whole string: "'+t+'"');var u=i?"expected "+i+", ":"";return u+'initial expression: "'+e+'"'+a+"). "+qr}function We(e,t){if(!to[e])throw new Error('No "'+e+'" block is registered! (initApp)');var n=new nr(t);if(n.html(""),!n.length)throw new Error("No valid element to insert the app into was given! (initApp)");n.$[0].DwayneRootBlock=Ge({node:{name:e,attrs:{},children:new wn([])},parent:n,parentElem:n}),n.attr("dwayne-root",e)}function Ve(e){var t=new nr(e);if(t.html(""),!t.length)throw new Error("No valid element to remove the app from was given! (removeApp)");if(e=t.$[0],!e.DwayneRootBlock)throw new Error("No app registered inside the given element! (removeApp)");delete e.DwayneRootBlock.$$.remove()}function Ze(e,t,n){E(e,function(e){var r=e(n,Ge,eo),o=r.name,i=r.value;if(n===eo){var a={};i._html=Ye(Dn(""+(i.template||""),i.collapseWhiteSpace),a),i._variables=new ln(a).except("$$","$").keys()}else i._match=ft(o);t[o]=i})}function Ge(e){var t=e.node,n=e.parent,r=e.parentElem,o=e.parentBlock,i=e.parentScope,a=e.parentTemplate,u=e.prevBlock,c=r.prop("namespaceURI")===Zr?or.svg():new nr(or.template().$[0].content),s=i?i.$$.ns._blocks:to,l=i?i.$$.ns._mixins:ro,f=t.children||new wn([]),h=t.attrs||{},p=t.name||"UnknownBlock",d=t.name&&s[t.name],m=void 0,y=void 0,g=void 0,$=void 0,w=void 0;"d-block"===p&&h.name?(p="d-elements",d=s[p],w=h.name,g=new ln(h).except("name").$,$=f,f=new wn([]),h={}):((m=p.match(/^d-block:([\s\S]+)$/))||"d-block"===p)&&(d=to["d-block"],y=m?m[1]:null);var k=void 0;if(d)try{k=new d({name:p,args:h,dBlockName:y,children:f,parent:n,parentElem:r,parentBlock:o,parentScope:i,parentTemplate:a,prevBlock:u})}catch(e){console.error("Uncaught error in new "+p+":",e),d=null}if(!d){var b=function(){var e=t,s=e.value,f=e.children,d=c.create(p),m=Object.create(null),y=Object.create(null),g=void 0,$={elem:d,parentBlock:o,parentScope:i,parentTemplate:a};new ln(h).forEach(function(e,t){var n=Jr.test(t),r=n||g?Object.create(y):y;if(y=r,n){var a=i.$$.evaluate(e,function(e){setTimeout(function(){E(r,function(e,t){delete r[t]}),O(r,ut(e,l,$)),st(y,m,d,!1)},0)},o);return g=!0,O(r,ut(a,l,$))}var u=ct(l,t);return g=!1,u?(e===!0&&(e="true"),void(r[t]={type:"mixin",dynamic:!1,opts:Qt({value:e},u,$),value:e})):void(r[t]={type:"attr",value:i.$$.evaluate(e,function(e){r[t]={type:"attr",value:e},st(y,m,d,!1)},o)})});var w=st(y,m,d,!0);if("#comment"===p&&d.text(s),"#text"===p){var k=i.$$.evaluate(s,function(e){v(e)&&(e=""),d.text(""+e)},o);v(k)&&(k=""),d.text(""+k)}f&&!function(){var e="template"===p?new nr(d.$[0].content):d,t=void 0;f.forEach(function(n){t=Ge({node:n,parent:e,parentElem:e,parentBlock:o,parentScope:i,parentTemplate:a,prevBlock:t})})}();var b=n instanceof eo;return u instanceof eo?u.$$.insertAfterIt(d,!1):u?(d.insertAfter(u),b&&n.$$.addContent(d)):b?n.$$.insertInStartOfIt(d,!1):d.into(r,!1),w(),{v:d}}();if("object"===("undefined"==typeof b?"undefined":Vt(b)))return b.v}var x=k,S=x.$$,_=x.args,j=x.globals,T=Xt(x,["$$","args","globals"]);if((m||"d-block"===p)&&i.$$.dBlocks.push(k),g){t={attrs:g,children:$},t.name=i.$$.evaluate(w,function(e){t.name=e;var n=new wn([t]);_.value="d-if"===e?Qe(n):n},k,!0);var R=new wn([t]);_.value="d-if"===t.name?Qe(R):R,_.parentScope=i}var A="d-elements"===p?new wn(_.value||[]):d._html;if(delete T.$,delete T.parentScope,S.args=et(_),S.locals=et(T),S.globals=et(j,"globals",i),"#d-item"===p){var C,P=(C={},Jt(C,t.itemName,t.item),Jt(C,t.indexName,t.index),C),L="#d-item"===i.$$.name?i.$$.scope:i;S.ns=i.$$.ns,S.privateScope=et(P),tt(S.scope=Object.create(L),P,S.privateScope)}if("d-each"===p){var B;S.scope=Object.create("#d-item"===i.$$.name?i.$$.scope:i,(B={},Jt(B,_.item||"$item",{value:null,writable:!0}),Jt(B,_.index||"$index",{value:null,writable:!0}),B))}tt(_,_,S.args),tt(j,j,S.globals),tt(k,T,S.locals);try{k.afterConstruct()}catch(e){console.error("Uncaught error in "+p+"#afterConstruct:",e)}u=void 0,i="d-elements"===p?_.parentScope:k,a="d-elements"===p?_.parentTemplate:k,A.forEach(function(e){u=Ge({node:e,parent:k,parentElem:r,parentBlock:k,parentScope:i,parentTemplate:a,prevBlock:u})});try{k.afterRender()}catch(e){console.error("Uncaught error in "+p+"#afterRender:",e)}return k}function Je(e){var t=e.name,n=e.Mixin,r=e.dynamic,o=e.value,i=e.args,a=e.comment,u=e.elem,c=e.parentBlock,s=e.parentScope,l=e.parentTemplate,f=new n({name:t,value:o,dynamic:r,args:i,comment:a,elem:u,parentBlock:c,parentScope:s,parentTemplate:l});if(n.evaluate){var h=f.value=f.evaluateAndWatch(function(e,n){f.value=e;try{f.afterUpdate(e,n)}catch(e){console.error("Uncaught error in "+t+"#afterUpdate:",e)}});f.afterUpdate(h)}return f}function Qe(e){return new wn(e||[]).concat({}).object(function(e,t){var n=t.name,r=e.html,o=e.ifElse;"d-else-if"!==n&&"d-else"!==n?(o&&(r.push({name:"d-if",children:o}),e.ifElse=null),"d-if"===n?e.ifElse=new wn([t]):n&&r.push(t)):((o||r).push(t),"d-else"===n&&o&&(r.push({name:"d-if",children:o}),e.ifElse=null)),n&&(t.children=Qe(t.children))},{html:new wn([]),ifElse:null}).$.html}function Ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new wn(e||[]).object(function(e,r){var o=r.name,i=r.attrs,a=r.children,u=r.value,c="d-each"===o,s=r.value,l={};if(c){var f;f={},Jt(f,r.attrs.item||"$item",!0),Jt(f,r.attrs.index||"$index",!0),l=f}if(r.attrs=new ln(i).map(function(e,r){if(e===!0)return!0;if("{"!==e[0]||"}"!==e[e.length-1])return e;var o=qe(e.slice(1,-1),e,!0);if(!o)return e;if(o.rest)throw new Error('Attribute, mixin and argument computed values must be of the format "{<js_expression>}"');var i="uid"===r,a=new ln(o.variables).filter(function(e,t){if(!(c&&i&&l[t]))return!n[t]||void 0}).$;return O(t,a),S(o.expression,o.original)}).$,"#text"!==o)return n=Qt({},n,l),a&&(r.children=Ye(a,t,n)),void e.push(r);for(;s.length;){var h=s.match(Gr);if(!h){e.push({name:"#text",value:s});break}var v=h.index;v&&(e.push({name:"#text",value:s.slice(0,v)
}),s=s.slice(v));var p=qe(s.slice(1),u);if(!p){e.push({name:"#text",value:s});break}var d=new ln(p.variables).filter(function(e,t){if(!n[t])return!0}).$;O(t,d),e.push({name:"#text",value:S(p.expression,p.original)}),s=p.rest}},new wn([]))}function Ke(e,t){return Hr.call(e,t)&&Hr.call(e.prototype,t.prototype)}function Xe(e){e.forEach(function(e){var t=e.watcher,n=e.watchers,r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function et(e,t,n){var r={};return"globals"===t&&(r=Object.create(n?n.$$.globals:null)),new ln(e).object(function(e,t,n){e[n]={value:t,watchers:{temp:new wn([]),perm:new wn([])}}},r).$}function tt(e,t,n){new ln(e).define(new ln(t).map(function(e,t){var r=n[t];return{configurable:!1,enumerable:!0,get:function(){return Yr&&Kr.indexOf(r.watchers.temp)===-1&&Kr.push(r.watchers.temp),r.value},set:function(e){if(e!==r.value){Xr||(Xr=[]);var t=r.watchers.temp.slice(),n=r.value;r.watchers.temp=new wn([]),r.value=e,t.forEach(function(e){e.onRemove(),e()}),Xr.push({scope:r,oldValue:n,value:e}),setTimeout(function(){if(Xr){for(var e=new wn([]),t=[],n=function(n){var r=Xr[n],o=r.scope,i=r.value,a=r.oldValue;o.watchers.perm.forEach(function(n){var r=e.indexOf(n);r===-1?(e.push(n),t.push({value:i,oldValue:a})):t[r].oldValue=a}),Xr.splice(n,1)},r=Xr.length-1;r>=0;r--)n(r);Xr=null,e.forEach(function(e,n){var r=t[n],o=r.value,i=r.oldValue;e(o,i)})}},0)}}}}).$)}function nt(e,t){E(e.$$.locals,function(e){var n=e.watchers;n.perm.push(t)})}function rt(e,t){var n=e.$$,r=n.globals,o=n.watchersToRemove;for(var i in r){var a=r[i].watchers.perm;a.push(t),o.push({watcher:t,watchers:a})}}function ot(e,t){E(e.$$.args,function(e){var n=e.watchers;n.perm.push(t)})}function it(e,t,n){n.propertyNames().forEach(function(n){n in e||(t[n]=void 0)});for(var r in e)t[r]=e[r]}function at(e){return new ln(e).object(function(e,t,n){Jr.test(n)?O(e,at(t)):e[n]=t}).$}function ut(e,t,n){return new ln(e).object(function(e,r,o){if(Jr.test(o))return O(e,ut(r,t,n));var i=ct(t,o);return i?void(e[o]={type:"mixin",dynamic:!0,opts:Qt({value:r},i,n),value:r}):void(e[o]={type:"attr",value:r})}).$}function ct(e,t){var n=void 0;for(var r in e){var o=e[r],i=t.match(o._match);if(i){var a=i[1],u=void 0;/^\s*$/.test(a)?u=[]:a&&(u=new _n(a).split(/,\s*/).map(function(e){return new _n(e).trim().$}).$),n={args:u,comment:i[2],Mixin:o,name:r};break}}return n}function st(e,t,n,r){E(t,function(r,o){var i=r.type,a=r.value;e[o]||("attr"===i?n.removeAttr(o):a.$$.remove(),delete t[o])});var o=new wn([]),i=function(i){var a=e[i],u=a.type,c=a.dynamic,s=a.value,l=a.opts,f=void 0,h=void 0,v=void 0;if(t[i]){var p=t[i],d=p.type,m=p.value;"attr"===u?("mixin"===d&&m.$$.remove(),m!==s&&n.attr(i,s),v=s):!function(){var t=m;if("attr"===d&&n.removeAttr(i),t.$$.isDynamic=c,c)lt(t,s);else if(!t.$$.evaluated&&l.Mixin.evaluate){var r=t.$$.parentScope.$$.evaluate(s,function(n){var r=e[i],o=r.type,a=r.dynamic;"mixin"!==o||a||lt(t,n)},t);t.$$.evaluated=!0,lt(t,r)}v=t}(),f=u,h=c}else{if("attr"===u)n.attr(i,s),v=s;else{var y=function(){l.dynamic=c;var t=Je(l);if(!c&&l.Mixin.evaluate){var n=l.parentScope,r=l.value,o=n.$$.evaluate(r,function(n){var r=e[i],o=r.type,a=r.dynamic;"mixin"!==o||a||lt(t,n)},t);t.$$.evaluated=!0,t.$$.value=o}return v=t,{attr:i,opts:{type:u,dynamic:c,value:t}}};r?o.push(y):y()}f=u,h=c}t[i]={type:f,dynamic:h,value:v}};for(var a in e)i(a);if(r)return function(){o.forEach(function(e){var n=e(),r=n.attr,o=n.opts;t[r]=o})}}function lt(e,t){var n=e.$$.value;e.$$.value=t,e.$$.watchers.forEach(function(e){e(t,n)})}function ft(e){return new RegExp("^"+new _n(e).escapeRegExp().$+"(?:\\(([^\\)]*)\\))?(?:#([\\s\\S]*))?$")}function ht(e){new ln(e).proto(eo),new ln(e.prototype).proto(eo.prototype)}function vt(e,t){var n=String(e),r=t-n.length;return r=r<0?0:r,oo.repeat(r).$+n}function pt(){return Date.now()}function dt(e){return arguments.length?(e=new ln(e).$,new vo(new Date(e))):new vo(new Date(pt()))}function mt(e){return po.test(e)}function yt(e,t){return t?encodeURIComponent(e):e}function gt(e){var t=e.baseURL,n=e.data,r=e.headers,o=e.method,i=e.params,a=e.query,u=e.url,c=o.toUpperCase();e.method=c,e.url=yo(t,u,i,a),e.data=ko(n,c,r),e.headers=new ln(r).object(function(e,t,n){n=new _n(n).toCapitalCase().replace(/\s+/g,"-").$,e[n]=t.join(", ")}).$}function $t(){if(!No){if(No=!0,zo=(To.find(function(e){var t=e.name;return t===qo})||{}).value,Wo=(To.find(function(e){var t=e.name;return t===Ho})||{}).value,qo&&!zo)throw new Error('There is no specified fallback route ("'+qo+'")! (at initRouter)');To.forEach(function(e){var t=e.parentName,n=e.name,r=t||Io,o=To.find(function(e){var t=e.name;return t===r})||{},i=o.value;if(!i)throw new Error('No such parent route ("'+r+'") found for the route ("'+n+'")! (at initRouter)');if(!i.abstract&&n!==Io)throw new Error('Parent route must be abstract (for "'+n+'")! (at initRouter)');n!==Io&&(e.parentName=r),e.parent=n===Io?Yo:i}).forEach(function(e){var t=e.name,n=e.parent,r=n.params,o=n.query,i=n.path,a=e.params,u=e.query,c=e.relativeURL,s=e.relativePath,l=e,f=0,h=s,v="";if($(i))throw new Error("URL regexp route cannot be extended! (at initRouter)");for(;l=l.parent;)f+=new ln(l.params).count,h=l.relativePath+h,v=l.relativeURL+v,l.children.push(e);if(h=new RegExp("^"+(h.replace(/\/+/g,"/").replace(/\/$/,"")||"/")+"$"),v=$(c)?h:(v+c).replace(/\/+/g,"/").replace(/\/$/,"")||"/",new ln(u).proto(o),new ln(a).proto(r).forEach(function(e,t,n){n[t]+=f}),t===Ho&&(new ln(a).count||new ln(u).count))throw new Error("Default route must not have URL or query params! (at initRouter)");e.url=v,e.validatePath=h}),xt(),rr.on({popstate:function(){Lo.href!==Bo&&(Do=!0),Do&&xt()},click:function(e){var t=new nr(e.target).closest("a");if(t.length&&"_blank"!==t.attr("target")&&!t.hasAttr("no-routing")){var n=!t.hasAttr("replace");e.preventDefault(),bt(t.attr("href")||"",n)}}})}}function wt(e){return function(t){function n(e){if(!y){var t={$$:{children:new wn([e])}},n=void 0;t.$$.children.forEach(function e(t){if(t.__routerInstance__){if(n)return;n=!0}var r=t.$$,o=r.name,i=r.children,a=r.mixins;if(i&&i.forEach(e),a&&a.forEach(e),t.beforeLoadRoute)try{t.beforeLoadRoute()}catch(e){console.error("Uncaught error in "+o+"#beforeLoad:",e)}}),y=!0}}function r(e){if(y){var t={$$:{children:new wn([e])}},n=void 0;t.$$.children.forEach(function e(t){if(t.__routerInstance__){if(n)return;n=!0}var r=t.$$,o=r.name,i=r.children,a=r.mixins;if(i&&i.forEach(e),a&&a.forEach(e),t.beforeLeaveRoute)try{t.beforeLeaveRoute()}catch(e){console.error("Uncaught error in "+o+"#beforeLeave:",e)}}),y=!1}}var o,i;e=O({},e,t.routerOptions);var a=e||{},u=a.name,c=a.path,s=a.abstract,l=a.root,f=a.fallbackTo,h=a.replace,v=void 0===h||h,p=a.default;if(No)return console.warn("Router was already initialized (at makeRoute)"),K;if(Mo&&l)throw new Error("There can't be two root routes (\""+Io+'" and "'+u+'")! (at makeRoute)');if(Uo&&p)throw new Error("There can't be two default routes (\""+Ho+'" and "'+u+'")! (at makeRoute)');if(!u)throw new Error('State must have a non-empty string "name" property! (at makeRoute)');if(To.some(function(e){var t=e.name;return t===u}))throw new Error('State must have unique "name" property! (at makeRoute)');if(l&&(Mo=!0,Io=u,e.parent=null,f&&(qo=f,Fo=!v)),p){if(Uo=!0,Ho=u,s)throw new Error("Default route can't be abstract! (at makeRoute)");if($(c))throw new Error("Default route can't have a regexp path! (at makeRoute)")}var d=new Qo(e);To.push(d);var m=void 0,y=void 0;return i=o=function(e){function t(e){Zt(this,t);var o=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l&&($t(),o.globals.router=Jo),o.__routerInstance__=d,o.__isCurrentRoute__=Ro.includes(d),o.__wasRouteActive__=o.__isCurrentRoute__,o.args.route=Zo,y=!1,m=kt(u,function(e){var t="leave"!==e;o.__isCurrentRoute__=t,t&&(o.__wasRouteActive__=!0,o.args.route=Zo),"load"===e?n(o):"leave"===e&&r(o)}),o.__isCurrentRoute__&&n(o),o}return Kt(t,e),Gt(t,[{key:"beforeRemove",value:function(){m(),m=null,r(this),Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"beforeRemove",this).call(this)}}]),t}(t),o.template='<d-if if="{__wasRouteActive__}"><div'+('  class="dwayne-route route-'+(u+(s?" abstract-route":""))+'"')+'  d-class="{{ \'active-route\': __isCurrentRoute__ }}"  d-show="{__isCurrentRoute__}">'+t.template+"</div></d-if>",i}}function kt(e,t){return Ao[e]=t,function(){delete Ao[e]}}function bt(e,t){St(e,t),xt()}function xt(){var e=Et();if(e)Vo=e.route,Zo=Xt(e,["route"]),O(Zo,{name:Vo.name,host:Lo.host,hostname:Lo.hostname,href:Lo.href,origin:Lo.origin,pathname:Lo.pathname,port:Lo.port,protocol:Lo.protocol,search:Lo.search});else{if(qo){var t=zo,n=t.url,r=t.encodeParams,o=t.encodeQuery;return bt(yo("",n,{},{},"",{params:r,query:o}),Fo)}Vo=null,Zo=null}for(var i=new wn([]),a=new wn([]),u=void 0;Ro.length&&!u;){var c=Ro.pop();c.children.includes(Vo)?(Ro.push(c),u=c):i.push(c)}if(Vo){for(var s=Vo;s!==u&&s!==Yo;)a.unshift(s),s=s.parent;Ro.push.apply(Ro,nn(a.$))}i.forEach(function(e){var t=e.name;Ao[t]&&Ao[t]("leave")}),Ro.forEach(function(e){var t=e.name;Ao[t]&&Ao[t](a.includes(e)?"load":"update")})}function Et(){var e=Lo.pathname||"/",t=Lo.search||"",n=void 0;return To.some(function(r){if(!r.abstract){var o=r.url,i=r.validatePath,a=r.params,u=r.query,c=r.decodeParams,s=r.decodeQuery,l=jo(s),f=new ln(l.query),h={},v=((e.replace(/\/$/,"")||"/")+($(o)?t:"")).match(i);if(v){for(var p in u)if(!f.hasOwn(p)||!u[p].test(f.$[p]))return;v.shift();for(var d in a)h[d]=Ot(v[a[d]],c);return n={route:r,params:h,query:f.$,hash:l.hash},!0}}}),n?n:Ho?Qt({route:Wo,params:{}},jo(Wo.decodeQuery)):void 0}function Ot(e,t){return t?decodeURIComponent(e):e}function St(e,t){try{Po[t?"pushState":"replaceState"](null,null,e),Do=!0}catch(t){Lo.href=e}}function _t(e,t,n){var r=e.match(/^[a-z_$]+/i);if(!r)throw new Error(t);var o=r[0],i=e.slice(o.length),a=void 0;if(i&&(i.indexOf("(")||i.indexOf(")")!==i.length-1))throw new Error(n);return i&&(a=new RegExp(i.slice(1,-1))),{name:o,regexp:a}}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=To.find(function(t){var n=t.name;return n===e})||{},r=n.value;if(!r)throw new Error('There are no routes with name "'+e+'"! (at router.buildURL)');var o=r.url,i=r.encodeParams,a=r.encodeQuery;if($(o))throw new Error("URL can be built only from the string URLs! (at router.buildURL)");var u=t.params,c=void 0===u?{}:u,s=t.query,l=void 0===s?{}:s,f=t.hash,h=void 0===f?"":f;return yo("",o,c,l,h,{params:i,query:a})}function Tt(e,t){bt(jt(e,t),!0)}function Rt(e){bt(e,!0)}function At(e){St(e,!0)}function Ct(e,t){bt(jt(e,t))}function Pt(e){bt(e)}function Lt(e){St(e)}var Bt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Nt={"#":function(e,t){e.id(t)},".":function(e,t){e.addClass(t)},$:function(e,t,n){e.attr(t,n)},"@":function(e,t,n){e.css(t,n)},"&":function(e,t,n){e.html(n)},"*":function(e,t,n){e.text(n)},"-":{".":function(e,t){e.removeClass(t)},$:function(e,t){e.removeAttr(t)},"@":function(e,t){e.removeCSS(t)}}},Dt=["createImageData","createLinearGradient","createPattern","createRadialGradient","getImageData","getLineDash","isPointInPath","isPointInStroke","measureText"],Mt=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","resetTransform","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],Ut=[[],[],[]],It=["a","abbr","address","area","article","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","content","datalist","dd","del","details","dfn","dialog","div","dl","dt","element","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","ins","kbd","label","legend","li","link","main","mark","menu","menuitem","meta","meter","nav","noscript","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],qt=["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hatch","hatchpath","hkern","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","style","svg","switch","symbol","textPath","tref","tspan","unknown","use","view","vkern"],Ft=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],zt="[a-z][a-z\\d\\-_.:!@#\\$%\\^&*()\\[\\]{}\\\\='\"]*",Ht="[^\\u0000-\\u0020\\s\"'>/=]+",Wt=[".","+","*","?","(",")","[","]","{","}","<",">","^","$","!","=",":","-","|",",","\\"],Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,o){var u={key:e,arg:t,resolve:n,reject:o,next:null};a?a=a.next=u:(i=a=u,r(e,t))})}function r(n,i){try{var a=t[n](i),u=a.value;u instanceof e?Promise.resolve(u.value).then(function(e){r("next",e)},function(e){r("throw",e)}):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next,i?r(i.key,i.arg):a=null}var i,a;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),Gt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Jt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yt=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},Kt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Xt=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},en=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},tn=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),nn=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},rn={">0":{check:function(e){return e>0},text:"$n argument must be positive!",error:RangeError},">=0":{check:function(e){return e>=0},text:"$n argument must be non-negative!",error:RangeError},"<0":{check:function(e){return e<0},text:"$n argument must be negative!",error:RangeError},"<=0":{check:function(e){return e<=0},text:"$n argument must be non-positive!",error:RangeError},"!!":{check:function(e){return!v(e)},text:"$n argument must be not null or undefined!",error:TypeError},array:{check:t,text:"$n argument must be an array!",error:TypeError},"array||!":{check:function(e){return t(e)||v(e)},text:"$n argument must be an array, or undefined, or null!",error:TypeError},arrayLike:{check:n,text:"$n argument must be array-like!",error:TypeError},"arrayLike||!":{check:function(e){return n(e)||v(e)},text:"$n argument must be array-like, or undefined, or null!",error:TypeError},date:{check:o,text:"$n argument must be a date!",error:TypeError},"date||!":{check:function(e){return o(e)||v(e)},text:"$n argument must be a date, or undefined, or null!",error:TypeError},dateLike:{check:i,text:"$n argument must be date-like!",error:TypeError},"dateLike||!":{check:function(e){return i(e)||v(e)},text:"$n argument must be date-like, or undefined, or null!",error:TypeError},function:{check:c,text:"$n argument must be a function!",error:TypeError},"function||!":{check:function(e){return c(e)||v(e)},text:"$n argument must be a function, or undefined, or null!",error:TypeError},int:{check:s,text:"$n argument must be an integer!",error:TypeError},"int||!":{check:function(e){return s(e)||v(e)},text:"$n argument must be an integer, or undefined, or null!",error:TypeError},intLike:{check:l,text:"$n argument must be integer-like!",error:TypeError},"intLike||!":{check:function(e){return l(e)||v(e)},text:"$n argument must be integer-like, or undefined, or null!",error:TypeError},number:{check:p,text:"$n argument must be a number!",error:TypeError},"number||!":{check:function(e){return p(e)||v(e)},text:"$n argument must be a number, or undefined, or null!",error:TypeError},numberLike:{check:d,text:"$n argument must be number-like!",error:TypeError},"numberLike||!":{check:function(e){return d(e)||v(e)},text:"$n argument must be number-like, or undefined, or null!",error:TypeError},object:{check:m,text:"$n argument must be an object!",error:TypeError},"object||!":{check:function(e){return m(e)||v(e)},text:"$n argument must be an object, or undefined, or null!",error:TypeError},regexp:{check:$,text:"$n argument must be a regular expression!",error:TypeError},"regexp||!":{check:function(e){return $(e)||v(e)},text:"$n argument must be a regular expression, or undefined, or null!",error:TypeError},string:{check:w,text:"$n argument must be a string!",error:TypeError},"string||!":{check:function(e){return w(e)||v(e)},text:"$n argument must be a string, or undefined, or null!",error:TypeError}},on=Bt.Symbol||{toStringTag:"Symbol.toStringTag",iterator:Math.random().toString(36)},an=["1st","2nd","3rd","4th","5th","6th","7th"],un=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Zt(this,e);for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];if(!P(i))throw new Error("Each element of an array must be a single char! (in Alphabet)");n[i]=i}Object.defineProperty(this,"$$",{value:n})}return Gt(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t.length;r<o;r++){var i=t[r];if(!P(i))throw new Error("Each argument must be a single char! (in Alphabet#add)");this.$$[i]=i}return this}},{key:"contains",value:function(e){C([e],["string"],"Alphabet#contains");for(var t=this.$$,n=0,r=e.length;n<r;n++)if(!t[e[n]])return!1;return!0}},{key:"delete",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,o=t.length;r<o;r++){var i=t[r];if(!P(i))throw new Error("Each argument must be a single char! (in Alphabet#delete)");delete this.$$[i]}return this}},{key:"get",value:function(){return Object.keys(this.$$)}},{key:"token",value:function e(t){C([t],[["intLike",">0"]],"Alphabet#token");for(var n=Object.keys(this.$$),r=n.length,e="",o=0;o<t;o++)e+=n[Math.floor(Math.random()*r)];return e}}]),e}();j(un.prototype,Jt({},on.toStringTag,"Alphabet"));var cn=function(e){function n(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.$$,o=r.mode,i=r.default,a=r.cases,u=E(a,function(e){var n=e.value,r=e.case;if("boolean"===o&&r||"equals"===o&&r==t||"strictEquals"===o&&r===t||"call"===o&&r(t))return{case:r,value:n}});return b(u)&&(u={value:i}),c(u.value)?(n=A(n,!0),n.push(t,u.case),u.value.apply(null,n)):u.value}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"equals",i=arguments[2];Zt(this,n);var a=en(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));w(r)&&(b(arguments[1])||(i=o),o=r,r={});var u=[];return E(r,function(e,t){u.push({case:t,value:e})}),Object.defineProperty(e,"$$",{value:{cases:u,mode:o,default:i}}),Object.setPrototypeOf(e,n.prototype),t=e,en(a,t)}return Kt(n,e),Gt(n,[{key:"case",value:function(e,n){var r=this;return t(e)||(e=[e]),E(e,function(e){r.$$.cases.push({case:e,value:n})}),this}},{key:"default",value:function(e){return this.$$.default=e,this}},{key:"mode",value:function(e){return this.$$.mode=e,this}}]),n}(Function);j(cn.prototype,Jt({},on.toStringTag,"Switcher"));var sn=B("call",function(e){return e}).case(function(e){return new ln(e)===e},function(e){return new(Object.getPrototypeOf(e).constructor)(new ln(e.$).deepClone().$)}).case(a,function(e,t){return e.clone(t)}).case(o,function(e){return new Date(e)}).case($,function(e){return new RegExp(e.source,e.toString().match(/[gimuy]*$/)[0])}).case(t,function(){return[]}).case(y,function(){return{}}),ln=function(){function r(e){return Zt(this,r),e instanceof r?e:void Object.defineProperty(this,"$",{value:e})}return Gt(r,[{key:"assign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=this.$;return E(o&&arguments,function(e){E(new r(e).$,function(e,t){o[t]=e})}),this}},{key:"average",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return C([e],["function||!"],"Super#average"),this.sum(e)/this.count}},{key:"call",value:function(e){C([e],["function"],"Super#call");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},{key:"clone",value:function e(){var t=this.$,e=sn(t,[t,!1]);return e!==t&&E(t,function(t,n){e[n]=t}),new this.constructor(e)}},{key:"create",value:function(e){return x(g(this.$)?void 0:Object.create(this.$,e))}},{key:"deepAssign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.$;return g(r)?this:(E(arguments,function(e){D(r,e)}),this)}},{key:"deepClone",value:function(){return new this.constructor(M(this.$))}},{key:"deepEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return U(this.$,e,!1)}},{key:"deepEvery",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),C([e,t],["function",["numberLike",">0"]],"Super#deepEvery"),t=Number(t),I(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepFilter",value:function(e,t){1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),C([e,t],["function",["numberLike",">0"]],"Super#deepFilter");var n=q(this.$,e,t,[{key:null,value:this.$}]);return x(v(n)?n:n||{})}},{key:"deepFind",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),C([e,t],["function",["numberLike",">0"]],"Super#deepFind"),F(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepForEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return C([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),z(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepForEachEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return C([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),H(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepFreeze",value:function(){return W(this.$),this}},{key:"deepMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return C([e,t],["function",["numberLike",">0"]],"Super#deepMap"),t=Number(t),x(V(this.$,e,t,[{key:null,value:this.$}]))}},{key:"deepReduce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments[2];C([e,t],["function",["numberLike",">0"]],"Super#deepReduce"),t=Number(t);var r=this.$,o=[{key:null,value:this.$}];return arguments.length<3?Z(r,e,t,!1,void 0,o).IV:Z(r,e,t,!1,{IV:n},o).IV}},{key:"deepSome",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),C([e,t],["function",["numberLike",">0"]],"Super#deepSome"),t=Number(t),G(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepStrictEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return U(this.$,e,!0)}},{key:"define",value:function(e,t){return arguments.length>=2&&(e=Jt({},e,t)),e=new r(e).$,m(this.$)&&Object.defineProperties(this.$,e),this}},{key:"delete",value:function(){for(var e=this.$,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(e&&n,function(t){delete e[t]}),this}},{key:"equals",value:function(e){var t=this.$;return e=new r(e).$,t==e||f(t)&&f(e)}},{key:"every",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return C([e],["function"],"Super#every"),E(this.$,function(t,n,r){if(!e(t,n,r))return!1})!==!1}},{key:"except",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.filter(function(e,n){return t.indexOf(n)===-1})}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;C([e],["function"],"Super#filter");var t=this.$,r=n(t),o=r?[]:v(t)?t:{};return E(t,function(n,i){e(n,i,t)&&(r?o.push(n):o[i]=n)}),x(o)}},{key:"find",value:function(e){return C([e],["function"],"Super#find"),E(this.$,function(t,n,r){if(e(t,n,r))return{key:n,value:t}})||null}},{key:"forEach",value:function(e){return C([e],["function"],"Super#forEach"),E(this.$,function(t,n,r){e(t,n,r)}),this}},{key:"freeze",value:function(){return Object.freeze(this.$),this}},{key:"get",value:function(e,t){arguments.length>=2&&(e=Jt({},e,t));var n=this.$;return E(m(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{get:e})}),this}},{key:"has",value:function(e){var t=this.$;return!!m(t)&&e in t}},{key:"hasOwn",value:function(e){var t=this.$;return!!m(t)&&{}.hasOwnProperty.call(t,e)}},{key:"instanceof",value:function(e){return this.$ instanceof e}},{key:"isFrozen",value:function(){return Object.isFrozen(this.$)}},{key:"json",value:function(e,n){return 1!==arguments.length||c(e)||t(e)||[].unshift.call(arguments,null),[].unshift.call(arguments,this.$),JSON.stringify.apply(JSON,arguments)}},{key:"keyOf",value:function(e){var t=E(this.$,function(t,n){if(t==e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keyOfStrict",value:function(e){var t=E(this.$,function(t,n){if(t===e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keys",value:function(){var e=this.$;return x(m(e)?Object.keys(e):[])}},{key:"map",value:function(e){C([e],["function"],"Super#map");var t=this.$,r=n(t)?[]:h(t)?null:{};return E(t,function(n,o){r[o]=e(n,o,t)}),x(r)}},{key:"max",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return C([e],["function||!"],"Super#max"),this.object(function(t,n,r,o){var i=Number(e?e(n,r,o):n);i>t.value&&(t.key=r,t.value=i)},{key:null,value:-(1/0)}).$}},{key:"min",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return C([e],["function||!"],"Super#min"),this.object(function(t,n,r,o){var i=Number(e?e(n,r,o):n);i<t.value&&(t.key=r,t.value=i)},{key:null,value:1/0}).$}},{key:"object",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C([e],["function"],"Super#object"),E(this.$,function(n,r,o){e(t,n,r,o)}),x(t)}},{key:"prop",value:function(e,t){return arguments.length<=1&&w(e)?this.$?this.$[e]:void 0:(arguments.length>=2&&(e=Jt({},e,t)),this.assign(e))}},{key:"propertyDescriptor",value:function(e){var t=this.$;return m(t)?Object.getOwnPropertyDescriptor(t,e):void 0}},{key:"propertyNames",value:function(){var e=this.$;return x(m(e)?Object.getOwnPropertyNames(e):[])}},{key:"propertySymbols",value:function(){var e=this.$;return x(m(e)?Object.getOwnPropertySymbols(e):[])}},{key:"proto",value:function(e){var t=this.$,n=!v(t);return arguments.length?(n&&(m(e)||h(e))&&Object.setPrototypeOf(t,e),this):n?new r(Object.getPrototypeOf(t)):new r}},{key:"reduce",value:function(e,t){C([e],["function"],"Super#reduce");var n=this.$,r=void 0;return 1===arguments.length&&E(n,function(e,n){return r=n,t=e,!0}),E(n,function(o,i){i!==r&&(t=e(t,o,i,n))}),t}},{key:"set",value:function(e,t){arguments.length>=2&&(e=Jt({},e,t));var n=this.$;return E(m(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{set:e})}),this}},{key:"some",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return C([e],["function"],"Super#some"),E(this.$,function(t,n,r){if(e(t,n,r))return!0})||!1}},{key:"strictEquals",value:function(e){var t=this.$;return e=new r(e).$,t===e||f(t)&&f(e)}},{key:"sum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return C([e],["function||!"],"Super#sum"),this.reduce(function(t,n,r,o){return t+Number(e?e(n,r,o):n)},0)}},{key:"toJSON",value:function(){return this.$}},{key:"value",value:function(e,t){arguments.length>=2&&(e=Jt({},e,t));var n=this.$;return E(m(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{value:e})}),this}},{key:"values",value:function(){var e=[];return E(this.$,function(t){e.push(t)}),x(e)}},{key:"word",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return C([e],["function||!"],"Super#word"),this.reduce(function(t,n,r,o){return t+String(e?e(n,r,o):n)},"")}},{key:"count",get:function(){var e=this.$;return m(e)?n(e)?e.length:Object.keys(e).length:0}},{key:"toStringTag",get:function(){return e(this.$)}},{key:"type",get:function(){return Vt(this.$)}}],[{key:"addStaticProperties",value:function(e,t){return arguments.length>=2&&(e=Jt({},e,t)),j(this,e),this}},{key:"addInstanceProperties",value:function(e,t){return arguments.length>=2&&(e=Jt({},e,t)),j(this.prototype,e),this}}]),r}();j(ln.prototype,Jt({},on.toStringTag,"Super")),Ut[0].push({check:function(){return!0},cls:ln});var fn={},hn=on.iterator,vn=function(){function e(t){function n(t){"pending"===l.status&&!function(){l.status="rejected",l.value=t;for(var n=0,r=u.length;n<r;n++)l.handled=!0,
u[n](t);var o=e.onUnhandledRejection,i=e.onError;c(i)&&i(t),setTimeout(function(){!l.handled&&c(o)&&o(t)},1)}()}function r(e){if("pending"===l.status){if(e&&c(e.then))return e.then(function(e){r(e)},function(e){n(e)});l.status="fulfilled",l.value=e;for(var t=0,o=a.length;t<o;t++)l.handled=!0,a[t](e)}}if(Zt(this,e),!c(t))throw new TypeError("Promise resolver "+{}.toString.call(t)+" is not a function");var o=void 0,i=void 0,a=[],u=[],s=this,l={handled:!1,get status(){return o},set status(e){o=e,s.status=e},get value(){return i},set value(e){i=e,s.value=e}};l.status="pending",l.value=void 0,j(this.$$={},{"get/set handled":{get:function(){return l.handled},set:function(e){e===fn&&(l.handled=!0)}},handle:function(e,t,n,r,o){if(o===fn){var i=c(t)?function(e){try{n(t(e))}catch(e){r(e)}}:null;"resolve"===e?a.push(i||function(e){return n(e)}):"reject"===e&&u.push(i||function(e){return r(e)})}},"get status":function(){return l.status},"get value":function(){return l.value}});try{t(r,n)}catch(e){n(e)}}return Gt(e,[{key:"abort",value:function(){}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(t){var n=c(t);return this.then(function(r){return e.resolve(n?t(r,!0):0).then(function(){return r})},function(r){return e.resolve(n?t(r,!1):0).then(function(){return e.reject(r)})})}},{key:"then",value:function(t,n){var r=this.$$;if("pending"===r.status)return new e(function(e,o){r.handle("reject",n,e,o,fn),r.handle("resolve",t,e,o,fn)});r.handled=fn;var o=r.value,i=void 0,a=void 0;if("fulfilled"===r.status?(i="resolve",a=t):(i="reject",a=n),!c(a))return e[i](o);try{return e.resolve(a(o))}catch(t){return e.reject(t)}}}],[{key:"all",value:function(t){var n=[],r=0;if(t[hn])return t=t[hn](),new e(function(o,i){for(var a=void 0,u=0,c=function(){var t=e.resolve(a.value);r++,function(e){t.then(function(t){r--,n[e]=t,setTimeout(function(){a.done&&!r&&o(n)},1)},i)}(u++)};!(a=t.next()).done;)c();if(!u)return e.resolve([])});var o=t.length;return o?(r=o,new e(function(i,a){for(var u=function(o){var u=e.resolve(t[o]);u.then(function(e){r--,n[o]=e,r||i(n)},a)},c=0;c<o;c++)u(c)})):e.resolve([])}},{key:"race",value:function(t){return t[hn]?(t=t[hn](),new e(function(e,n){for(var r=void 0;!(r=t.next()).done;)r.value.then(e,n)})):new e(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"resolve",value:function(t){return t&&c(t.then)?t:new e(function(e){e(t)})}}]),e}();vn.onError=null,vn.onUnhandledRejection=console.error.bind(console,"%s %o","Uncaught (in promise)"),j(vn.prototype,Jt({},on.toStringTag,"Promise"));var pn=function(e){function t(){function e(){var t=this,n=arguments;if(++e.$$.called<e.$$.canBeCalled){var o=function(){var o=e.$$,i=o.before,a=o.after,u=o.sync,c=o.contextLocked,s=e.$$,l=s.context,f=s.args,h=void 0;if(l=c?l:l||t,f=f.concat(A(n)),u)return E(i,function(t){f=t.call(l,A(f),e)}),h=r.apply(l,A(f)),E(a,function(t){h=t.call(l,h,e)}),{v:h};var v=vn.resolve(f);return E(i,function(t){v=v.then(function(n){return t.call(l,A(n),e)})}),v=v.then(function(e){return r.apply(l,A(e))}),E(a,function(t){v=v.then(function(n){return t.call(l,n,e)})}),{v:v}}();if("object"===("undefined"==typeof o?"undefined":Vt(o)))return o.v}}var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Zt(this,t);var o=en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperty(e,"$$",{value:{after:[],args:[],argsLocked:[],before:[],called:0,canBeCalled:1/0,context:null,contextLocked:!1,sync:!0}}),Object.defineProperty(e,"$",{value:r}),Object.setPrototypeOf(e,t.prototype),n=e,en(o,n)}return Kt(t,e),Gt(t,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C([t],["function"],"Func#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"apply",value:function(e,t){return function(){}.apply.apply(this,arguments)}},{key:"async",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$$.sync=!e,this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C([t],["function"],"Func#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"bind",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bindContext(e).bindArgs(n)}},{key:"bindArgs",value:function(e){var t=this.$$;return t.args=t.args.concat(A(e)),this}},{key:"bindContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e),this}},{key:"call",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){}.call.apply(this,arguments)}},{key:"canBeCalled",value:function(e){return this.$$.canBeCalled=e,this}},{key:"limitArgsTo",value:function(e){return this.before(function(t){return t.slice(0,e)},!1)}},{key:"lock",value:function(e,t){return this.lockContext(e).lockArgs(t)}},{key:"lockArgs",value:function(e){var t=this.$$;return t.args=t.argsLocked=t.argsLocked.concat(A(e)),this}},{key:"lockContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e,t.contextLocked=!0),this}},{key:"timing",value:function(e){return e=arguments.length?String(e):this.$.name||"anonymous",this.before(function(t){return console.time(e),t},!1),this.after(function(t){return console.timeEnd(e),t},!1),this}},{key:"toString",value:function(){return function(){}.toString.call(this.$)}},{key:"unbind",value:function(){return this.unbindContext().unbindArgs()}},{key:"unbindArgs",value:function(){var e=this.$$;return e.args=e.argsLocked,this}},{key:"unbindContext",value:function(){var e=this.$$;return e.contextLocked||(e.context=null),this}},{key:"called",get:function(){return this.$$.called}}]),t}(ln);j(pn.prototype,Jt({},on.toStringTag,"Func")),Ut[1].push({check:c,cls:pn});var dn=Math.PI/180,mn=180/Math.PI,yn=Math.LN2,gn=Math.LN10,$n=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,+e))}return Kt(t,e),Gt(t,[{key:"acos",value:function(e){return(e?mn:1)*Math.acos(this.$)}},{key:"asin",value:function(e){return(e?mn:1)*Math.asin(this.$)}},{key:"atan",value:function(e){return(e?mn:1)*Math.atan(this.$)}},{key:"cos",value:function(e){return Math.cos((e?dn:1)*this.$)}},{key:"interval",value:function(e){function t(){return o=!0,clearTimeout(i)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];C([e],["function"],"Num#interval"),e=new pn(e).bindContext({abort:t}),n=A(n);var r=this.$,o=void 0,i=setTimeout(function t(){o||(e.apply(null,n),o||(i=setTimeout(t,r)))},0);return t}},{key:"log",value:function(e){return Math.log(e)/Math.log(this.$)}},{key:"pow",value:function(e){return Math.pow(this.$,e)}},{key:"root",value:function(e){return Math.pow(this.$,1/e)}},{key:"sin",value:function(e){return Math.sin((e?dn:1)*this.$)}},{key:"tan",value:function(e){return Math.tan((e?dn:1)*this.$)}},{key:"timeout",value:function e(t){var n=this,e=void 0,r=void 0,o=new vn(function(o,i){r=i,e=setTimeout(o,n.$,t)});return o.abort=function(){return clearTimeout(e),r(new Error("Timeout was aborted")),this},o}},{key:"toBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.$.toString(e)}},{key:"toExponential",value:function(e){return this.$.toExponential(e)}},{key:"toFixed",value:function(e){return this.$.toFixed(e)}},{key:"toPrecision",value:function(e){return this.$.toPrecision(e)}},{key:"valueOf",value:function(){return Number(this.$)}},{key:"abs",get:function(){return Math.abs(this.$)}},{key:"acosh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e-1))}},{key:"asinh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e+1))}},{key:"atanh",get:function(){var e=this.$;return Math.log((1+e)/(1-e))/2}},{key:"cbrt",get:function(){var e=Math.pow(Math.abs(this.$),1/3);return this.$>0?e:-e}},{key:"ceil",get:function(){return Math.ceil(this.$)}},{key:"cosh",get:function(){var e=this.exp;return(e+1/e)/2}},{key:"cube",get:function(){return this.$*this.$*this.$}},{key:"exp",get:function(){return Math.exp(this.$)}},{key:"floor",get:function(){return Math.floor(this.$)}},{key:"ln",get:function(){return Math.log(this.$)}},{key:"log2",get:function(){return this.ln/yn}},{key:"log10",get:function(){return this.ln/gn}},{key:"round",get:function(){return Math.round(this.$)}},{key:"sign",get:function(){var e=this.$;return e?e>0?1:-1:e}},{key:"sinh",get:function(){var e=this.exp;return(e-1/e)/2}},{key:"sq",get:function(){return this.$*this.$}},{key:"sqrt",get:function(){return Math.sqrt(this.$)}},{key:"tanh",get:function(){var e=this.$;if(!u(e))return this.sign;var t=Math.exp(2*e);return(t-1)/(t+1)}}]),t}(ln);j($n.prototype,Jt({},on.toStringTag,"Num")),Ut[1].push({check:p,cls:$n});var wn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,A(e instanceof t?e.$:e)))}return Kt(t,e),Gt(t,[{key:"concat",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=A(this.$,!0);return E(arguments,function(e){return e=new ln(e).$,n(e)&&!w(e)?void E(e,function(e){o.push(e)}):void o.push(e)}),new this.constructor(o)}},{key:"forEachReverse",value:function(e){C([e],["function"],"Arr#forEachReverse");for(var t=this.$,n=t.length-1;n>=0;n--)e(t[n],n,t);return this}},{key:"includes",value:function(e){return this.indexOfStrict(e)!==-1}},{key:"indexOf",value:function(e){var t=this.keyOf(e);return null===t?-1:Number(t)}},{key:"indexOfStrict",value:function(e){var t=this.keyOfStrict(e);return null===t?-1:Number(t)}},{key:"join",value:function(e){return this.$.join.apply(this.$,arguments)}},{key:"pop",value:function(){return this.$.pop()}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.push.apply(this.$,arguments),this}},{key:"pushArray",value:function(e){return this.$.push.apply(this.$,e),this}},{key:"random",value:function(){return this.$[ee(0,this.$.length-1)]}},{key:"reverse",value:function(){return this.$.reverse(),this}},{key:"shift",value:function(){return this.$.shift()}},{key:"shuffle",value:function(){var e=this.$.length;return this.forEach(function(t,n,r){var o=n+Math.floor((e-n)*Math.random());r[n]=r[o],r[o]=t})}},{key:"slice",value:function(e,t){return new this.constructor(this.$.slice.apply(this.$,arguments))}},{key:"sort",value:function(e){return C([e],["function||!"],"Arr#sort"),this.$.sort(e),this}},{key:"sortAsc",value:function(){return this.sort(te)}},{key:"sortDesc",value:function(){return this.sort(function(e,t){return te(t,e)})}},{key:"splice",value:function(e,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return new t(this.$.splice.apply(this.$,arguments))}},{key:"string",value:function(){return this.join("")}},{key:"unshift",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.unshift.apply(this.$,arguments),this}},{key:"first",get:function(){return this.$[0]}},{key:"last",get:function(){var e=this.$;return e[e.length-1]}},{key:"length",get:function(){return this.$.length}}]),t}(ln);j(wn.prototype,Jt({},on.toStringTag,"Arr")),Ut[1].push({check:n,cls:wn});var kn={buffer:"ArrayBuffer",binary:"BinaryString",dataURL:"DataURL",text:"Text"},bn=Bt,xn=bn.URL,En=function(e){function t(){return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,e),Gt(t,[{key:"readAs",value:function(e,t){var n=this;if(!kn[e])throw new Error("1st argument must be one of following values: buffer, binary, dataURL, text");var r=new FileReader,o=void 0;c(t)&&(r.onprogress=function(e){t(e,this)});var i=new vn(function(t,i){o=i,r.onerror=function(e){var t=e.target;r&&i(t.error)},r.onload=function(e){var n=e.target;t(n.result)},r["readAs"+kn[e]](n.$)});return i.abort=function(){return o(new Error("Reading was aborted")),r.abort(),r=null,this},i}},{key:"saveAs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"download",t=document.createElement("a");return t.href=this.dataURL,t.setAttribute("download",e),t.click(),this}},{key:"dataURL",get:function(){return xn.createObjectURL(this.$)}}]),t}(ln);j(En.prototype,Jt({},on.toStringTag,"BlobObject")),Ut[1].push({check:function(t){return/^(Blob|File)$/.test(e(t))},cls:En});var On={"&":"&amp;","<":"&lt;",">":"&gt;"},Sn=new RegExp(new ln(Wt).word(function(e){return"\\"+e+"|"}).replace(/\|$/,""),"g"),_n=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,""+e))}return Kt(t,e),Gt(t,[{key:"capitalizeFirst",value:function(){var e=this.$;return new t(e.slice(0,1).toUpperCase()+e.slice(1))}},{key:"endsWith",value:function(e,n){return arguments.length<2&&(n=this.$.length),this.slice(0,n).revert().startsWith(new t(e).revert().$)}},{key:"escapeHTML",value:function(){var e=this.$;return E(On,function(t,n){e=e.replace(new RegExp(n,"g"),t)}),new t(e)}},{key:"escapeRegExp",value:function(){return this.replace(Sn,"\\$&")}},{key:"in",value:function(e){return!!m(e)&&this.$ in e}},{key:"indexOf",value:function(e,t){return this.$.indexOf.apply(this.$,arguments)}},{key:"lastIndexOf",value:function(e,t){return this.$.lastIndexOf.apply(this.$,arguments)}},{key:"match",value:function(e){return x(this.$.match.apply(this.$,arguments))}},{key:"repeat",value:function(e){C([e],[["intLike",">=0"]],"Str#repeat"),e=+e;for(var n=this.$,r="",o=0;o<e;o++)r+=n;return new t(r)}},{key:"replace",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new t(this.$.replace(e,n))}},{key:"replaceString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new ln(e).$,C([e],["string"],"Str#replaceString"),new t(this.$.split(e).join(n))}},{key:"revert",value:function(){for(var e=this.$,n="",r=e.length-1;r>=0;r--)n+=e[r];return new t(n)}},{key:"search",value:function(e){return C([e],["regexp"]),this.$.search.apply(this.$,arguments)}},{key:"slice",value:function(e,n){return new t(this.$.slice.apply(this.$,arguments))}},{key:"split",value:function(e){return x(this.$.split.apply(this.$,arguments))}},{key:"startsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.$.indexOf.apply(this.$,arguments)===t}},{key:"substr",value:function(e,n){return new t(this.$.substr.apply(this.$,arguments))}},{key:"substring",value:function(e,n){return new t(this.$.substring.apply(this.$,arguments))}},{key:"toCamelCase",value:function(){return new t(ie(this.$).replace(/[\s\-_.]+/g,"-").replace(/-[^-]/g,function(e){return e[1].toUpperCase()}).replace(/^[\S]/,function(e){return e.toLowerCase()}))}},{key:"toCapitalCase",value:function(){return new t(ie(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s[\S]/g,function(e){return e.toUpperCase()}).replace(/\s+/g," ").replace(/^\s/,"").replace(/^[\S]/,function(e){return e.toUpperCase()}))}},{key:"toDotCase",value:function(){return new t(ie(this.$).replace(/[\s\-_.]+/g,".").replace(/[^.]/g,function(e){return e.toLowerCase()===e?e:"."+e}).replace(/\.+/g,".").replace(/^\./,"").toLowerCase())}},{key:"toHyphenCase",value:function(){return new t(ie(this.$).replace(/[\s\-_.]+/g,"-").replace(/[^-]/g,function(e){return e.toLowerCase()===e?e:"-"+e}).replace(/-+/g,"-").replace(/^-/,"").toLowerCase())}},{key:"toLowerCase",value:function(){return new t(this.$.toLowerCase())}},{key:"toSnakeCase",value:function(){return new t(ie(this.$).replace(/[\s\-_.]+/g,"_").replace(/[^_]/g,function(e){return e.toLowerCase()===e?e:"_"+e}).replace(/_+/g,"_").replace(/^_/,"").toLowerCase())}},{key:"toSpaceCase",value:function(){return new t(ie(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s+/g," ").replace(/^\s/,"").toLowerCase())}},{key:"toString",value:function(){return this.$}},{key:"toUpperCase",value:function(){return new t(this.$.toUpperCase())}},{key:"trim",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+|[\s\ufeff\u00a0]+$/g,""))}},{key:"trimLeft",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+/,""))}},{key:"trimRight",value:function(){return new t(this.$.replace(/[\s\ufeff\u00a0]+$/,""))}},{key:"length",get:function(){return this.$.length}}]),t}(ln);j(_n.prototype,Jt({},on.toStringTag,"Str")),Ut[2].push({check:w,cls:_n});var jn="Please, submit an issue at https://github.com/dwaynejs/dwayne/issues/new, if needed.",Tn=new ln({"tag-open":new RegExp("<("+zt+")\\s*","i"),"tag-close":ce(zt),comment:/<!--((?:-[^\->]|[^\->])(?:-?[^-])*[^-]?|)-->/}),Rn=/^(\/?)>/,An=new RegExp("^("+Ht+")(?:\\s*=\\s*('[^']*'|\"[^\"]*\"|[^\\s\"'`<>=]+))?\\s*"),Cn=document.createElement("div"),Pn=B("strictEquals",function(e){return e}).case("tag-open",function(e,t){var n=t,r=n.value,o=n.selfClosing;return t={name:r,attrs:new ln(t.attrs).map(function(e){return e===!0?e:le(e)}).$,parent:e,children:new wn([])},e.children.push(t),o||Ft.indexOf(r)!==-1||(e=t),e}).case("tag-close",function(e,t){return e.name===t.value&&(e=e.parent),e}).case(["comment","text"],function(e,t,n,r){var o={name:"#"+r,parent:e,value:t.value};return"text"===r&&"script"!==e.name&&"style"!==e.name&&(o.value=le(o.value),n&&(o.value=new _n(o.value).trim().$)),n&&/^\s*$/.test(o.value)||e.children.push(o),e}),Ln=B("strictEquals",!1).case(["title","textarea","style","script"],!0),Bn=function e(t){Zt(this,e),this.index=t},Nn=function(e){function t(){var e,n,r,o;Zt(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=en(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.type="PARSING_ERROR",o=n,en(r,o)}return Kt(t,e),t}(Error),Dn=function(e,t){function n(){throw new Nn("Unexpected parsing error near index "+se(o,a)+". "+jn)}t=!!t;for(var r=new wn([]),o=e,i=void 0,a=0,u={name:null,children:r};e.length;){try{i=ue(e,u)}catch(e){throw e instanceof Bn||n(),new Nn("Parsing error near index "+se(o,a+e.index))}var c=i,s=c.type,l=c.attrs,f=c.selfClosing,h=c.index,v=c.value;a+=h,h||n();var p={type:s,value:v};"tag-open"===s&&(p.attrs=l,p.selfClosing=f),u=Pn(p.type,[u,p,t]),e=e.slice(h)}return r},Mn=Bt.document,Un=Mn.createElement("div"),In=/(?:,| ) */,qn=new ln(Node.prototype).propertyDescriptor("textContent")?"textContent":"innerText",Fn={},zn={},Hn=new wn([]),Wn="input, select, textarea, datalist, keygen, output",Vn=(J("click"),"http://www.w3.org/2000/svg"),Zn="http://www.w3.org/2000/xmlns/",Gn="http://www.w3.org/1999/xlink",Jn="http://www.w3.org/1999/xhtml",Qn=B("call",function(e,t){var n="svg"===t?Vn:e.prop("namespaceURI")||Mn.documentElement.namespaceURI||Jn;return Mn.createElementNS(n,t)}).case(function(e){return"#comment"===e},function(){return Mn.createComment("")}).case(function(e){return"#text"===e},function(){return Mn.createTextNode("")}),Yn=B("strictEquals","href").case(["img","script","iframe","audio","video"],"src").case("form","action"),Kn=B("call",function(e){return e}).case(w,function(e){return function(t){return new nr(t).is(e)}}).case([t,he],function(e){return e=new wn(e),function(t){return e.indexOf(t)!==-1}}),Xn=B("strictEquals",0).case("padding-box",function(e){return e}).case("border-box",function(e,t){return e+t}),er=B("strictEquals",function(e,t){return e+t}).case("padding-box",function(e){return e}).case("border-box",0),tr=B("call",null).case(function(e){return"xmlns"===e||"xmlns:xlink"===e},function(e){return"svg"===e.name?Zn:null}).case(function(e){return/^xlink:\w/.test(e)},function(e){return e.closest("svg").length?Gn:null}),nr=function(t){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Zt(this,r);var t=en(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,function(){var t=e;return n(t)&&(ve(t)||pe(t)||de(t)||a(t)||ye(t)||me(t))&&(t=[t]),new wn(A(new ln(t).$,!0)).object(function(e,t){return e.indexOf(t)===-1&&(a(t)||ve(t)||pe(t)||de(t)||ye(t)||me(t))?e.push(t):void(he(t)&&e.push.apply(e,t.$))},[]).$}()));return t.$$=e,t.forEach(we),t}return Kt(r,t),Gt(r,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(arguments,function(t){fe(t).forEach(function(t){e.indexOf(t)===-1&&e.push(t)})}),this}},{key:"addClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;E(a(t)&&e,function(e){return n.add(e)})})}},{key:"addComment",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){a(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin","<!--"+e+"-->")})}},{key:"addHTML",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){a(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin",e)})}},{key:"addRule",value:function(e,t,n){return this.some(function(r){if("style"===$e(r)){var o=r.sheet,i=o.cssRules.length,a=new ln(n).word(function(e,t){return new _n(t).toHyphenCase()+": "+e+";\n"});return o.insertRule(t+" {"+(a&&"\n")+a+"}",i),o.cssRules[i].dwayneData={name:e},!0}}),this}},{key:"addText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){new r(Mn.createTextNode(e)).into(n,t)})}},{key:"apply",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=void 0,i=void 0,a=void 0,u=void 0,s=void 0,l=void 0;return new _n(new wn(arguments).join(" ")).split(/(\s+)/).forEach(function(t){if(!o){if(s=t.slice(0,1),a=Nt[s],l=1,a&&!c(a)&&(a=a[t.slice(1,2)],l=2),/^\s+$/.test(t)||!a)return;if(u=t.slice(l).match(/^[^()]+/),!u&&"*"!==s&&"&"!==s)return;o={name:u?u[0]:"",args:t.slice(l+(u?u[0]:"").length),callback:a},i=!0}i||(o.args+=t),o.args&&!/^\([\s\S]+\)$/.test(o.args)||(o.callback(e,o.name,o.args.replace(/^\(|\)$/g,"")),o=null),i=!1}),this}},{key:"attr",value:function(e,t){var n=ge(this);if(!arguments.length)return new ln(n.attributes).object(function(e,t){e[t.name]=t.value});if(arguments.length<=1&&w(e)){var o=tr(e,[new r(n)]);return h(o)?n.getAttribute(e):n.getAttributeNS(o,e)}return arguments.length>=2&&(e=Jt({},e,t)),this.forEach(function(t,n){a(t)&&new ln(e).forEach(function(e,o){if(v(e)||e===!1)return new r(t).removeAttr(o);if(c(e)&&(e=e(new r(t).attr(o),t,n)),v(e)||e===!1)return new r(t).removeAttr(o);e=e===!0?"":e;var i=tr(o,[new r(t)]);h(i)?t.setAttribute(o,e):t.setAttributeNS(i,o,e)})})}},{key:"blob",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new vn(function(t,n){var o=e.first(),i=o.name;return"img"!==i&&"canvas"!==i&&n(new Error("First element in the set isn't an image or a canvas! (Elem#blob)")),"canvas"===i?t(o):void o.load().then(function(){if(o.isBroken())return n(new Error("The image is broken! (Elem#blob)"));var e=new r(Mn).canvas(),i=o.width(),a=o.height();e.width(i).height(a).drawImage(o.$[0],0,0),t(e)})}).then(function(e){var n=e.dataURL(),r=atob(n.split(",")[1]),o=r.length,i=new ArrayBuffer(o),a=new Uint8Array(i);return re(o,function(e){a[e]=r.charCodeAt(e)}),oe(i,t)})}},{key:"blur",value:function(){return this.forEach(function(e){a(e)&&e.blur()})}},{key:"calcCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return getComputedStyle(ge(this),e)}},{key:"changeRule",value:function(e,t){return this.some(function(n){if("style"===$e(n)){var o=new wn(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},i=o.value;if(i)return new r(i).css(t),!0}}),this}},{key:"child",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s(e)&&e>=0?this.children().elem(e):fe(e).into(this,t)}},{key:"children",value:function(){return new r(this.length?this.$[0].childNodes:[])}},{key:"class",value:function(e){return arguments.length?this.forEach(function(t){a(t)&&(t.className=e)}):new wn(ge(this).className.split(" "))}},{key:"click",value:function(){return this.forEach(function(e){a(e)&&e.click()})}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.object(function(t,n){t.add(n.cloneNode(!!e))},new r)}},{key:"closest",value:function(e){return this.object(function(t,n){for(;n;){if(new r(n).is(e))return t.add(n);n=n.parentNode}},new r)}},{key:"contains",value:function(e){return e=fe(e),ge(this).contains(ge(e))}},{key:"create",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return this.object(function(t,o){var i=new r(Qn(e,[new r(o)]));i.into(o),t.add(i.apply.apply(i,n))},new r)}},{key:"createComment",value:function(e){return this.create("#comment").text(e)}},{key:"createText",value:function(e){return this.create("#text").text(e)}},{key:"css",value:function(e,t){var n=ge(this).style;return me(this.$[0])&&(n=this.$[0].style),arguments.length?arguments.length<=1&&w(e)?(e=new _n(e).toHyphenCase().$,n.getPropertyValue(e)+(n.getPropertyPriority(e)?" !important":"")):(arguments.length>=2&&(e=Jt({},e,t)),this.forEach(function(t,n){(a(t)||me(t))&&new ln(e).forEach(function(e,o){return v(e)?new r(t).removeCSS(o):(o=new _n(o).toHyphenCase().$,c(e)&&(e=e(new r(t).css(o),t,n)),v(e)?new r(t).removeAttr(key):(t.style.removeProperty(o),void t.style.setProperty(o,e.replace(/ ?!important$/,""),/!important$/.test(e)?"important":"")))})})):new _n(n.cssText).split(/; ?/).object(function(t,n){n&&(e=n.split(/: /),t[new _n(e[0]).toCamelCase().$]=e[1])})}},{key:"ctx",value:function e(t,n){var e=void 0;return this.some(function(t){if("canvas"===$e(t))return e=t.dwayneData.ctx,!0}),arguments.length?e?(c(t)?t(e):(arguments.length>=2&&(t=Jt({},t,n)),O(e,t)),this):this:e}},{key:"data",value:function(e,t){var n=ge(this).dataset;return arguments.length?1===arguments.length&&w(e)?n[e]:(arguments.length>=2&&(e=Jt({},e,t)),this.forEach(function(t,n){a(t)&&E(e,function(e,r){t.dataset[r]=c(e)?e(t.dataset[r],t,n):e})})):new ln(n).object(function(e,t,n){e[n]=t})}},{key:"dataURL",value:function(e,t){var n=this.ctx();return n?n.canvas.toDataURL.apply(n.canvas,arguments):""}},{key:"deleteRule",value:function(e){return this.some(function(t){if("style"===$e(t)){var n=new wn(t.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e});if(n)return t.sheet.deleteRule(n.key),!0}}),this}},{key:"dispatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n||{},i=o.bubbles,u=void 0===i||i,c=o.cancelable,s=void 0===c||c,l=t;if(!/Event$/.test(e(l))){try{l=new Event(l,{bubbles:u,cancelable:s})}catch(e){l=Mn.createEvent("Event"),l.initEvent(t,u,s)}O(l,r)}return this.forEach(function(e){a(e)&&e.dispatchEvent(l)})}},{key:"elem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(e=this.length+e),new r(this.$[e])}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return new r(Yt(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"filter",this).call(this,Kn(e)))}},{key:"find",value:function(e){return w(e)?this.object(function(t,n){t.add(ke(e,n))},new r):Yt(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"find",this).call(this,e)}},{key:"first",value:function(){return this.elem(0)}},{key:"firstChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var o=new r(n).children().find(function(t){return new r(t).is(e)})||{},i=o.value;t.add(i)},new r)}},{key:"focus",value:function(){return this.forEach(function(e){a(e)&&e.focus()})}},{key:"getRule",value:function(e){var t={selector:void 0,rules:{}};return this.some(function(n){if("style"===$e(n)){var o=new wn(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},i=o.value;if(i)return t={selector:i.selectorText,rules:new r(i).css().$},!0}}),t}},{key:"hasAttr",value:function(e){var t=ge(this),n=tr(e,[new r(t)]);return h(n)?t.hasAttribute(e):t.hasAttributeNS(n,e)}},{key:"hasClass",value:function(e){return ge(this).classList.contains(e)}},{key:"height",value:function(e){return this.prop.apply(this,new wn(arguments).unshift("height").$)}},{key:"hide",value:function(){return this.forEach(function(e){e=new r(e);var t=e.css("display");t.indexOf("none")&&(e.prop("dwayneData").previousDisplay=t),e.css("display","none !important")})}},{key:"html",value:function(e){return arguments.length?this.forEach(function(t,n){a(t)&&(t.innerHTML=c(e)?e(t.innerHTML,t,n):e)}):ge(this).innerHTML}},{key:"id",value:function(e){return arguments.length?this.forEach(function(t){a(t)&&(t.id=e)}):ge(this).id}},{key:"insertAfter",value:function(e){e=fe(e).first();var t=e.parent();return t.length?(e=e.next().$[0],t=t.$[0],this.forEach(function(n){return n===e?void(e=e.nextSibling):void(e?t.insertBefore(n,e):t.appendChild(n))})):this}},{key:"insertBefore",value:function(e){e=fe(e).first();var t=e.parent();return t.length?(e=e.$[0],t=t.$[0],this.forEach(function(n){t.insertBefore(n,e)})):this}},{key:"into",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=fe(e).$[0],!e||ve(e)||pe(e)||ye(e)?this:!t&&e.firstChild?this.forEachReverse(function(t){e.insertBefore(t,e.firstChild)}):this.forEach(function(t){e.appendChild(t)})}},{key:"is",value:function(e){if(h(e))return!0;var t=ge(this),n=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;if(!a(this.$[0]))return!1;try{return n.call(t,e)}catch(t){return console.error("Selector '"+e+"' is not a valid selector (Elem#is)"),!1}}},{key:"isBroken",value:function e(){var e=!1;return this.some(function(t){if("img"===$e(t))return e=!(!t.complete||t.naturalWidth&&t.naturalHeight),!0}),e}},{key:"isWithinDocument",value:function(){return 0!==this.first().closest("html").length}},{key:"last",value:function(){return this.elem(-1)}},{key:"lastChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var o=new r(n).children().reverse().find(function(t){return new r(t).is(e)})||{},i=o.value;t.add(i)},new r)}},{key:"load",value:function(){var e={proper:new r,broken:new r};return vn.all(this.filter(function(e){return"img"===$e(e)}).map(function(t){var n=new r(t);return t.complete?void e[n.isBroken()?"broken":"proper"].push(t):new vn(function(r){var o=n.on({load:function(){e.proper.add(t),o(),r()},error:function(){e.broken.add(t),o(),r()}})})}).$).then(function(){return e})}},{key:"moveAttr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=zn[e],r=this.elem();return n&&r.length&&(arguments.length<2&&(t=n.attr(e)),n.removeAttr(e)),r.length&&(zn[e]=r.attr(e,t)),this}},{key:"moveClass",value:function(e){var t=Fn[e],n=this.elem();return t&&n.length&&t.removeClass(e),n.length&&(Fn[e]=n.addClass(e)),this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.nextSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"off",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.dwayneData.listeners;E(e,function(e){E(e.split(In),function(e){(n[e]||new ln).forEach(function(e){var t=e.removeListener;return t()})})})})}},{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],o=new ln({});return c(t)&&(n=t,t=null),w(e)&&(e=Jt({},e,n)),e=new ln(e).object(function(e,t,n){E(n.split(In),function(n){e[n]=t;
})}),this.forEach(function(n){if(a(n)||ve(n)||pe(n)){var i=(Hn.find(function(e){var t=e.element;return t===n})||{}).value||n.dwayneData,u=i.listeners;e.forEach(function(e,i){var a=u[i]=u[i]||new ln({}).define("index",{value:0,configurable:!0,writable:!0}),c=a.prop("index");if(!a.has("listener")){var s=function(e){a.forEach(function(t){var o=t.selector,i=t.listener;new r(e.target).is(o)&&i.call(n,e,n,c)})};s.base=n,n.addEventListener(i,s,!1),a.define("listener",{value:s,configurable:!0,writable:!0})}var l=function(){a.delete(c),a.count||(n.removeEventListener(i,a.prop("listener"),!1),a.delete("listener"))};o.prop(i,(o.prop(i)||new wn).push(l)),a.assign(Jt({index:c+1},c,{selector:t,listener:e,removeListener:l}))})}}),function(e){return arguments.length?void E(arguments,function(e){E(e.split(In),function(e){o.has(e)&&(o.prop(e).forEach(function(e){return e()}),o.delete(e))})}):void o.forEach(function(e){e.forEach(function(e){return e()})})}}},{key:"parent",value:function(){return this.object(function(e,t){return e.add(t.parentNode)},new r)}},{key:"parentTree",value:function(){return this.object(function(e,t){for(;t=t.parentNode;)e.add(t)},new r)}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.previousSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"prop",value:function(e,t){return arguments.length<=1&&w(e)?this.$[0]?this.$[0][e]:void 0:(arguments.length>=2&&(e=Jt({},e,t)),this.forEach(function(t,n){E(e,function(e,r){t[r]=c(e)?e(t[r],t,n):e})}))}},{key:"ref",value:function(e){return arguments.length?this.forEach(function(t){t=new r(t),t.attr(Yn(t.name),e)}):this.attr(Yn(this.name))}},{key:"remove",value:function(){return this.forEach(function(e){var t=e.parentNode;t&&t.removeChild(e)})}},{key:"removeAttr",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return this.forEach(function(t){a(t)&&E(e,function(e){var n=tr(e,[new r(t)]);h(n)?t.removeAttribute(e):t.removeAttributeNS(n,e)})})}},{key:"removeClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;E(a(t)&&e,function(e){return n.remove(e)})})}},{key:"removeCSS",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){a(t)&&E(e,function(e){t.style.removeProperty(e)})})}},{key:"replace",value:function(e){e=fe(e);var t=this.first().parent();if(!t.length)return this;var n=t,r="into",o=this.next().first().$[0],i=this.prev().first().$[0];o?(n=o,r="insertBefore"):i&&(n=i,r="insertAfter"),this.first().remove(),e[r](n)}},{key:"setOf",value:function(e,t,n){if(C({2:n},{2:["function"]},"Elem#setOf"),t=new ln(t).$,p(t)){try{C({1:t},{1:["intLike",">=0"]},"Elem#setOf")}catch(e){throw new Error("2nd argument must be either or non-negative integer, or object! (at Elem#setOf)")}t=ne(t).$}return this.object(function(o,i,a){E(t,function(u,c){var s=new r(i).create(e);n(s.$[0],u,c,t,i,a),o.add(s)})},new r)}},{key:"show",value:function(){return this.forEach(function(e){var t=e,n=t.dwayneData;e=new r(e),0===e.css("display").indexOf("none")&&e.css("display",n.previousDisplay),n.previousDisplay=""})}},{key:"text",value:function(e){return arguments.length?this.forEach(function(t,n){var o=t[qn];new r(t).prop(qn,c(e)?e(o,t,n):e)}):this.prop(qn)}},{key:"toggleAttr",value:function(e,t){var n=arguments;return this.forEach(function(o){o=new r(o),(n.length<2?!o.hasAttr(e):t)?o.attr(e,""):o.removeAttr(e)})}},{key:"toggleClass",value:function(e,t){return(arguments.length<2?!this.hasClass(e):t)?this.addClass(e):this.removeClass(e)}},{key:"up",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return C([e],[["intLike",">=0"]],"Elem#up"),e=Number(e),this.object(function(t,n){for(var r=e;r--&&n;)n=n.parentNode;t.add(n)},new r)}},{key:"validate",value:function(e){function t(e,t,n){try{if(e.validity&&!e.validity.valid)throw new Error(e.validationMessage);e.dwayneData.validators.forEach(function(n){n(e.value,e,t)})}catch(t){(n.errors=n.errors||{})[e.name]=t}}if(C([e],["function||!"],"Elem#validate"),e)return this.forEach(function(t){var n=t.dwayneData;n.validators.push(e)});var n=new ln({errors:null});return this.filter(Wn+", form").forEach(function(e,o){if("form"===$e(e)){var i=function(){var o={errors:null},i=new r(e),a=i.find(Wn);return a.forEach(function(e,n){t(e,n,o)}),n.deepAssign(o),o=o.errors,i.dispatch("validate",{},{valid:!o,errors:o}),{v:a.forEach(function(e){var t=(o||{})[e.name];new r(e).dispatch("validate",{},{valid:!t,error:t||null})})}}();if("object"===("undefined"==typeof i?"undefined":Vt(i)))return i.v}var a={errors:null};t(e,o,a),n.deepAssign(a),a=(a.errors||{})[e.name],new r(e).dispatch("validate",{},{valid:!a,error:a||null})}),n.every(function(e){return h(e)})?null:n.$.errors}},{key:"width",value:function(e){return this.prop.apply(this,new wn(arguments).unshift("width").$)}},{key:"innerHeight",get:function(){var e=this.$[0];if(ve(e))return e.innerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,o=t.boxSizing,i=t.height,a=t.paddingTop,u=t.paddingBottom,c=xe(n)+xe(r),s=xe(a)+xe(u);return xe(i)-Xn(o,[s,c])}},{key:"innerWidth",get:function(){var e=this.$[0];if(ve(e))return e.innerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,o=t.boxSizing,i=t.paddingLeft,a=t.paddingRight,u=t.width,c=xe(n)+xe(r),s=xe(i)+xe(a);return xe(u)-Xn(o,[s,c])}},{key:"name",get:function(){return $e(this.$[0])}},{key:"outerHeight",get:function(){var e=this.$[0];if(ve(e))return e.outerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,o=t.boxSizing,i=t.height,a=t.marginTop,u=t.marginBottom,c=t.paddingTop,s=t.paddingBottom,l=xe(n)+xe(r),f=xe(c)+xe(s);return xe(i)+xe(a)+xe(u)+er(o,[l,f])}},{key:"outerWidth",get:function(){var e=this.$[0];if(ve(e))return e.outerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,o=t.boxSizing,i=t.marginLeft,a=t.marginRight,u=t.paddingLeft,c=t.paddingRight,s=t.width,l=xe(n)+xe(r),f=xe(u)+xe(c);return xe(s)+xe(i)+xe(a)+er(o,[l,f])}},{key:"toStringTag",get:function(){return e(this.$$)}}]),r}(wn);j(nr.prototype,Jt({},on.toStringTag,"Elem"));var rr=new nr(Bt),or=new nr(Mn),ir=new nr(Mn.documentElement),ar=new nr(Mn.body),ur=new nr(Mn.head),cr=new wn(It).concat(qt).$,sr=new wn(cr).map(function(e){return new _n(e).toCamelCase().$}).$;_(nr.prototype,sr,function(e,t){return function(){return this.create.apply(this,new wn(arguments).unshift(cr[t]).$)}}),_(nr.prototype,Dt,function(e){return function(){var t=this.ctx();if(t)return t[e].apply(t,arguments)}}),_(nr.prototype,Mt,function(e){return function(){var t=this.ctx();return t&&t[e].apply(t,arguments),this}}),Ut[2].push({check:function(t){return a(t)||ve(t)||pe(t)||ye(t)||de(t)||/^(HTMLCollection|NodeList)$/.test(e(t))},cls:nr});var lr=Object.freeze({registerDBlock:Ee,registerDEach:Oe,registerDElements:Se,registerDIf:_e,registerDItem:je,registerDSwitch:Te}),fr=B("strictEquals","input").case("form","input, change").case("select","change").case("input",function(e){return"radio"===e||"checkbox"===e||"color"===e||"file"===e?"change":"change input"}),hr=B("strictEquals",function(e,t){return t.hasAttr("contenteditable")||t.hasAttr("contentEditable")?"text":"value"}).case("select",function(e,t){return t.hasAttr("multiple")?"multiple-select":"value"}).case("input",function(e){return"file"===e?"files":"radio"===e||"checkbox"===e?"checked":"value"}),vr=B("strictEquals",function(e){return e}).case("input",function(e,t,n){return"radio"!==t&&"checkbox"!==t?e:"radio"===t?e===n:e.indexOf(n)!==-1}),pr=B("strictEquals",function(e){return e}).case("select",function(e,t,n,r,o,i,a,u){return u?i.object(function(e,t){var n=t.selected,r=t.value;n&&e.indexOf(r)===-1&&e.push(r)},[]).$:e}).case("input",function(e,n,r,o,i,a,u){if("radio"!==n&&"checkbox"!==n)return e;if("radio"===n)return e?r:null;if(!e&&u)return o;if(e)return o?o.indexOf(r)===-1?new wn(o).concat(r).$:o:[r];if(!t(o))return[];var c=o.indexOf(r);return c!==-1?[].concat(nn(new wn(o).slice(0,c).$),nn(new wn(o).slice(c+1).$)):o}),dr=B("strictEquals","input").case("select","change").case("input",function(e){return"radio"===e||"checkbox"===e||"color"===e||"file"===e?"change":"change input"}),mr=Object.freeze({registerDAttr:Re,registerDBind:Ae,registerDClass:Ce,registerDElem:Pe,registerDHide:Le,registerDNode:Be,registerDOn:Ne,registerDShow:De,registerDStyle:Me,registerDValidate:Ue,registerDValue:Ie}),yr=/^\s+/,gr=/\s+/g,$r=/\\[\s\S]/g,wr=/"/g,kr=/\r\n|\r|\n/g,br=/\s*,\s*/,xr=/\\|u|n|f|r|t|b|v|`[0-7]/,Er=/^this(?![a-zA-Z_$])/,Or=/^(?:true|false|null|undefined)(?![a-zA-Z_$])/,Sr=/^[a-zA-Z_$][a-zA-Z0-9_$]*/,_r=/^(?:NaN|-?(?:(?:\d+|\d*\.\d+)(?:[E|e][+|\-]?\d+)?|Infinity))/,jr=/^(?:"(?:(?:\\[\s\S])|[^"\n\\])*"|'(?:(?:\\[\s\S])|[^'\n\\])*')/,Tr=/^\/(?:(?:\\[\s\S])|[^\/\n\\])+\/[gimuy]*/,Rr=/^(?:(?:\(\s*((?:[a-zA-Z_$][a-zA-Z0-9_$]*\s*,\s*)?(?:[a-zA-Z_$][a-zA-Z0-9_$]*)?)\s*\))|([a-zA-Z_$][a-zA-Z0-9_$]*))\s*=>/,Ar=/^(?:(?:\\[\s\S])|\$(?!\{)|[^`$\\])+/,Cr=/^(?:(?:>>>|>>|<<)=?|&&|\|\||,|(?:\+|-|\*|\/|%|&|\||\^|<|>|==|!=)=?|=)/,Pr=/^\.([a-zA-Z_$][a-zA-Z0-9_$]*)/,Lr=/^((?:"(?:(?:\\[\s\S])|[^"\n\\])*"|'(?:(?:\\[\s\S])|[^'\n\\])*'|[a-zA-Z_$][a-zA-Z0-9_$]*))\s*:/,Br=/^([a-zA-Z_$][a-zA-Z0-9_$]*)\s*(?=,|})(,?)/,Nr=/^(?:-|~|\+|!)/,Dr=["do","if","in","for","let","new","try","var","case","else","enum","null","this","true","void","with","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],Mr=new RegExp("^(?:"+Dr.join("|")+")$"),Ur="expression",Ir="end of function body",qr="Please, submit an issue at https://github.com/dwaynejs/dwayne/issues/new, if needed.",Fr=Object.create(null),zr=Object.create(null),Hr={}.isPrototypeOf,Wr=new RegExp("^"+zt+"$","i"),Vr=new RegExp("^"+Ht+"$"),Zr="http://www.w3.org/2000/svg",Gr=/\{/,Jr=/^d-rest(?:#|$)/,Qr=new nr,Yr=void 0,Kr=void 0,Xr=void 0,eo=function(){function e(t){var n=this;Zt(this,e);var r=t.name,o=t.args,i=t.dBlockName,a=t.children,u=t.parent,s=t.parentElem,l=t.parentBlock,f=t.parentScope,h=t.parentTemplate,v=t.prevBlock,p=new wn([]),d=new ln(this).proto().$.constructor,m=new wn([]),y=new wn([]),g=u instanceof e;R(this,{$:this,$$:{name:r,dBlockName:i,dBlocks:new wn([]),parent:u,parentElem:s,parentScope:f,parentBlock:l,parentTemplate:h,content:new nr,ns:d,argsChildren:a||new wn([]),children:m,mixins:y,prevBlock:v,watchersToRemove:p,evaluate:function e(t,o,i,a,u,s){if(!c(t))return t;a=!!a,u=!!u;var l="#d-item"===r&&!u||s?(s||n).$$.scope:n,f=i?i.$$:{},h=f.watchersToRemove,e=function e(){var r=void 0;o&&(Yr=!0,Kr=new wn([]));try{r=t(l)}catch(e){e.expression=t.expression,e.original=t.original,e.block=n,c(d.onEvalError)&&d.onEvalError(e)}return o&&!function(){var t=new wn([]);Kr.forEach(function(n){var i=function(){var t=e();t!==r&&o(t,r)},u={forDElements:a,watcher:i,watchers:n};i.onRemove=function(){t.forEach(function(e){var t=e.watcher,n=e.watchers,r=h.indexOf(e),o=n.indexOf(t);r!==-1&&h.splice(r,1),o!==-1&&n.splice(o,1)})},t.push(u),h.push(u),n.push(i)}),Yr=!1,Kr=new wn([])}(),r};return e()},remove:function(e){Xe(p),m.forEach(function(e){e.$$.remove(!0)}),y.forEach(function(e){e.$$.remove(!0)});try{n.beforeRemove()}catch(e){console.error("Uncaught error in "+r+"#beforeRemove:",e)}if(!e&&g&&u.$$.removeContent(n.$$.content),!e&&l){var t=l.$$.children.indexOf(n);t!==-1&&l.$$.children.splice(t,1)}n.$$.content.remove()},addContent:function(e,t){var r=n.$$.content.indexOf(e.$[0].previousSibling)+1;0===r?n.$$.content=e.slice().pushArray(n.$$.content.$):n.$$.content=n.$$.content.slice(0,r).pushArray(e.$).pushArray(n.$$.content.slice(r).$),g&&!t&&u.$$.addContent(e)},moveContent:function(e,t){var r=n.$$.content.indexOf(e.$[0]),o=n.$$.content.indexOf(t.$[0])+1;0===o?n.$$.content=e.slice().pushArray(n.$$.content.slice(o,r).$).pushArray(n.$$.content.slice(r+e.length).$):r>o?n.$$.content=n.$$.content.slice(0,o).pushArray(e.$).pushArray(n.$$.content.slice(o,r).$).pushArray(n.$$.content.slice(r+e.length).$):n.$$.content=n.$$.content.slice(0,r).pushArray(n.$$.content.slice(r+e.length,o).$).pushArray(e.$).pushArray(n.$$.content.slice(o).$),g&&o&&u.$$.moveContent(e,t)},removeContent:function(e){n.$$.content=n.$$.content.filter(function(t){return e.indexOf(t)===-1}),g&&u.$$.removeContent(e)},insertInStartOfIt:function(t,r){var o=n.$$.prevBlock,i=Qr;if(o instanceof e)i=o.$$.insertAfterIt(t,r);else if(o)i=o,t.insertAfter(o),g&&(r?u.$$.moveContent(t,i):u.$$.addContent(t,!0));else if(g){var a=u.$$.prevBlock;if(a){var c=void 0;a instanceof e?(i=a.$$.insertAfterIt(t,r),c=!0):(i=a,c=!1,t.insertAfter(a)),r?u.$$.moveContent(t,i):u.$$.addContent(t,c)}else i=u.$$.insertInStartOfIt(t,r)}else t.into(s,!1);return r?n.$$.moveContent(t,i):n.$$.addContent(t,!0),i},insertAfterIt:function(t,r){var o=n.$$.prevBlock,i=Qr,a=void 0;return n.$$.content.length?(i=n.$$.content.last(),a=!0,t.insertAfter(i)):o instanceof e?i=o.$$.insertAfterIt(t,r):o?(i=o,a=!0,t.insertAfter(o)):g?i=u.$$.insertInStartOfIt(t,r):t.into(s,!1),g&&a&&(r?u.$$.moveContent(t,i):u.$$.addContent(t)),i}}}),E(d.defaultLocals,function(e,t){n[t]=e}),d._variables.forEach(function(e){n[e]=n[e]});var $=Object.create(null),w=new ln($),k=Object.create(d.defaultArgs||null),b=void 0;new ln(o).forEach(function(e,t){var o=Jr.test(t),i=o||b?Object.create(k):k;if(k=i,o){var a=f.$$.evaluate(e,function(e){E(i,function(e,t){delete i[t]}),T(i,at(e)),it(k,$,w)},n);return b=!0,T(i,at(a))}var u="d-elements"===r,c=u&&"value"===t;b=!1,"d-each"===r&&"uid"===t||(e=f.$$.evaluate(e,function(e){i[t]=e,it(k,$,w)},n,c,u&&"#d-item"===l.$$.name)),T(i,Jt({},t,e))}),R(this,{args:$,globals:Object.create(f?Object.create(f.globals):null),parentScope:f,parentTemplate:h}),it(k,$,w),l&&l.$$.children.push(this)}return Gt(e,null,[{key:"onEvalError",value:function(e){console.error('Eval error (evaluating "'+e.expression+'" in context of block "'+e.block.$$.name+'"):',e)}},{key:"getBlocks",value:function(){return new ln(Qt({},this._blocks))}},{key:"getMixins",value:function(){return new ln(Qt({},this._mixins))}},{key:"beforeRegisterBlock",value:function(e){new ln(this).hasOwn("_blockHooks")||(this._blockHooks=new wn([])),this._blockHooks.push(e)}},{key:"beforeRegisterMixin",value:function(e){new ln(this).hasOwn("_mixinHooks")||(this._mixinHooks=new wn([])),this._mixinHooks.push(e)}},{key:"block",value:function(t,n){var r=new ln(this);if(w(n)){var o,i;i=o=function(e){function t(){return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Kt(t,e),t}(e),o.template=n,n=i}if(c(n)&&!Ke(e,n)&&!function(){var t=n;n=function(e){function n(e){Zt(this,n);var r=en(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.call(r,e),r}return Kt(n,e),n}(e)}(),!c(n))return void console.warn('Block must be a string (representing a block template), a function or a class that extends Block class (name: "'+t+'") (Block.block)');if(Ke(e,n)||ht(n),Fr[t])return void console.warn('The "'+t+'" block is a built-in block so the block will not be registered (Block.block)');if(!Wr.test(t))return void console.warn('Name "'+t+'" is not allowed for blocks so the block will not be registered (Block.block)');r.hasOwn("_blocks")||(this._blocks=Object.create(r.proto().$._blocks));var a=void 0;try{a=(this._blockHooks||new wn([])).reduce(function(n,r){var o=r(n,t);return Ke(e,o)?o:n},n)}catch(e){console.error("Uncaught error in "+this._name+' "beforeRegisterBlock" hook:',e)}Ke(e,a)&&(n=a);var u={};n._name=t,n._html=Qe(Ye(Dn(""+(n.template||""),n.collapseWhiteSpace),u)),n._variables=new ln(u).except("$$","$").keys(),new ln(n).hasOwn("defaultArgs")&&new ln(n.defaultArgs).proto(null),this._blocks[t]=n}},{key:"mixin",value:function(e,t){var n=new ln(this);if(c(t)&&!Ke(no,t)&&!function(){var e=t;t=function(t){function n(){return Zt(this,n),en(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Kt(n,t),Gt(n,[{key:"afterUpdate",value:function(t,n){e.call(this,t,n,this)}}]),n}(no)}(),!Ke(no,t))return void console.warn('The "'+e+'" class does not extend Mixin and will not be registered (Block.mixin)');if(zr[e])return void console.warn('The "'+e+'" mixin is a built-in mixin so the mixin will not be registered (Block.mixin)');if(!Vr.test(e))return void console.warn('Name "'+e+'" is not allowed for mixins so the mixin will not be registered (Block.mixin)');n.hasOwn("_mixins")||(this._mixins=Object.create(n.proto().$._mixins));var r=void 0;try{r=(this._mixinHooks||new wn([])).reduce(function(t,n){var r=n(t,e);return Ke(no,r)?r:t},t)}catch(e){console.error("Uncaught error in "+this._name+' "beforeRegisterMixin" hook:',e)}Ke(no,r)&&(t=r),t._name=e,t._match=ft(e),this._mixins[e]=t}},{key:"wrap",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new wn(arguments).reduce(function(t,n){var r=n(t);return Ke(e,r)?r:t},this)}}]),Gt(e,[{key:"afterConstruct",value:function(){}},{key:"afterRender",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"changeLocals",value:function(e){O(this,e)}},{key:"evaluateAndWatch",value:function(e,t){C([e],["string"],"Block#evaluateAndWatch");var n=qe(e,e,!0),r=n.expression,o=n.original,i=S(r,o);return this.$$.parentScope.$$.evaluate(i,t,this)}},{key:"evaluateOnce",value:function(e){C([e],["string"],"Block#evaluateOnce");var t=qe(e,e,!0),n=t.expression,r=t.original,o=S(n,r);return this.$$.parentScope.$$.evaluate(o)}},{key:"setGlobals",value:function(e){T(this.globals,e)}},{key:"watch",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=arguments[arguments.length-1];if(!c(o))return void console.warn("The last argument (watcher) wasn't specified ("+this.$$.name+"#watch)");var i=function(){o()};return 1===arguments.length?(nt(this,i),ot(this,i),rt(this,i),void o()):(E(arguments,function(t){if(t!==o){if(t=""+t,"$"===t)return nt(e,i);if("args"===t)return ot(e,i);if("globals"===t)return rt(e,i);if(/^args\./.test(t)){if(t=t.replace(/^args\./,""),!e.$$.args[t])return;return void e.$$.args[t].watchers.perm.push(i)}if(/^globals\./.test(t)){if(t=t.replace(/^globals\./,""),!e.$$.globals[t])return;var n=e.$$.globals[t].watchers;return n.perm.push(i),void e.$$.watchersToRemove.push({watcher:i,watchers:n})}e.$$.locals[t]&&e.$$.locals[t].watchers.perm.push(i)}}),void o())}}]),e}();eo._blocks=Object.create(Fr),eo._mixins=Object.create(zr),eo.collapseWhiteSpace=!0,eo.defaultArgs=null,eo.defaultLocals=null,eo.template="",new ln(eo.prototype).proto(null),Ze(lr,Fr,eo);var to=eo._blocks,no=function(){function e(t){var n=this;Zt(this,e);var r=t.name,o=t.value,i=t.dynamic,a=t.elem,u=t.args,c=t.comment,s=t.parentBlock,l=t.parentScope,f=t.parentTemplate,h=new wn([]),v=new wn([]);R(this,{$$:{name:r,_value:o,value:o,isDynamic:i,parentScope:l,parentBlock:s,parentTemplate:f,watchers:v,watchersToRemove:h,evaluate:function(e){var t=n.$$,r=t.isDynamic,o=t.value,i=t._value,a=r?o:l.$$.evaluate(i);return e&&v.push(e),a},remove:function(e){Xe(h);try{n.beforeRemove()}catch(e){console.error("Uncaught error in "+r+"#beforeRemove:",e)}if(!e&&s){var t=s.$$.mixins.indexOf(n);t!==-1&&s.$$.mixins.splice(t,1)}}}}),this.args=u,this.comment=c,this.parentScope=l,this.parentTemplate=f,this.elem=a,this.node=a.$[0],s&&s.$$.mixins.push(this)}return Gt(e,[{key:"afterUpdate",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluateAndWatch",value:function(e){return this.$$.evaluate(e)}},{key:"evaluateOnce",value:function(){return this.$$.evaluate()}}]),e}();no.evaluate=!0,Ze(mr,zr,no);var ro=eo._mixins,oo=new _n("0"),io=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ao=new ln(io).map(function(e){return e.slice(0,3)}).$,uo=["January","February","March","April","May","June","Jule","August","September","October","November","December"],co=new ln(uo).map(function(e){return e.slice(0,3)}).$,so=[{format:"ccc",match:function(e,t){return vt(e[t]("c"),3)}},{format:"c",match:function(e,t){return e[t]("c")}},{format:"ss",match:function(e,t){return vt(e[t]("s"),2)}},{format:"s",match:function(e,t){return e[t]("s")}},{format:"mm",match:function(e,t){return vt(e[t]("m"),2)}},{format:"m",match:function(e,t){return e[t]("m")}},{format:"hh",match:function(e,t){return vt(e[t]("h"),2)}},{format:"h",match:function(e,t){return e[t]("h")}},{format:"dddd",match:function(e,t){return io[e[t]("dw")]}},{format:"ddd",match:function(e,t){return ao[e[t]("dw")]}},{format:"dd",match:function(e,t){return vt(e[t]("d"),2)}},{format:"d",match:function(e,t){return e[t]("d")}},{format:"MMMM",match:function(e,t){return uo[e[t]("M")-1]}},{format:"MMM",match:function(e,t){return co[e[t]("M")-1]}},{format:"MM",match:function(e,t){return vt(e[t]("M"),2)}},{format:"M",match:function(e,t){return e[t]("M")}},{format:"yyyy",match:function(e,t){return vt(e[t]("y"),4)}},{format:"yy",match:function(e,t){return String(e[t]("y")).slice(-2)}},{format:"y",match:function(e,t){return e[t]("y")}}],lo={c:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,M:2592e6,y:31536e6},fo=B({c:function(e,t){return e[t+"Milliseconds"]()},s:function(e,t){return e[t+"Seconds"]()},m:function(e,t){return e[t+"Minutes"]()},h:function(e,t){return e[t+"Hours"]()},d:function(e,t){return e[t+"Date"]()},dw:function(e,t){return e[t+"Day"]()},M:function(e,t){return e[t+"Month"]()+1},y:function(e,t){return e[t+"FullYear"]()}},"equals",NaN),ho=B({c:function(e,t,n){return e[n+"Milliseconds"](t)},s:function(e,t,n){return e[n+"Seconds"](t)},m:function(e,t,n){return e[n+"Minutes"](t)},h:function(e,t,n){return e[n+"Hours"](t)},d:function(e,t,n){return e[n+"Date"](t)},M:function(e,t,n){return e[n+"Month"](t-1)},y:function(e,t,n){return e[n+"FullYear"](t)}}),vo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Zt(this,t),en(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return Kt(t,e),Gt(t,[{key:"add",value:function(e,t){return arguments.length>=2&&(e=Jt({},e,t)),this.time(this.time()+new ln(e).sum(function(e,t){return lo[t]*e}))}},{key:"expires",value:function(e){return arguments.length||(e=this),new $n(this.$-pt()).timeout(e)}},{key:"format",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new _n(new ln(e).$),n=String(new ln(n).$),E(so,function(r){e=e.replaceString(n+r.format,r.match(t,"get"))}),e.$}},{key:"formatUTC",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new _n(new ln(e).$),n=String(new ln(n).$),E(so,function(r){e=e.replaceString(n+r.format,r.match(t,"getUTC"))}),e.$}},{key:"get",value:function(e){return fo(e,[this.$,"get"])}},{key:"getUTC",value:function(e){return fo(e,[this.$,"getUTC"])}},{key:"isAfter",value:function(e){return e=new Date(new ln(e).$),e.getTime()<this.$.getTime()}},{key:"isBefore",value:function(e){return e=new Date(new ln(e).$),e.getTime()>this.$.getTime()}},{key:"isBetween",value:function(e,t){var n=this.$.getTime();return e=new Date(new ln(e).$),t=new Date(new ln(t).$),n>e.getTime()&&n<t.getTime()}},{key:"isInvalid",value:function(){return"Invalid Date"===this.$.toString()}},{key:"isPassed",value:function(){return this.isBefore(pt())}},{key:"ofOne",value:function(e,n){var r=this;if(!(e in lo)||"w"===e)return!1;n=new t(new Date(n));var o=void 0;return E(lo,function(t,i){if(i===e&&(o=!0),o&&"w"!==i)return(!o||r.get(i)===n.get(i))&&void 0})!==!1}},{key:"set",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=Jt({},e,t)),e=new ln(e).$,E(e,function(e,t){ho(t,[n,e,"set"])}),this}},{key:"setUTC",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=Jt({},e,t)),e=new ln(e).$,E(e,function(e,t){ho(t,[n,e,"setUTC"])}),this}},{key:"time",value:function(e){var t=this.$;return arguments.length&&t.setTime(e),t.getTime()}},{key:"toISOString",value:function(){return this.$.toISOString()}},{key:"toLocaleString",value:function(){return this.$.toLocaleString()}},{key:"toString",value:function(){return this.$.toString()}},{key:"valueOf",value:function(){return this.$.valueOf()}}]),t}(ln);j(vo.prototype,Jt({},on.toStringTag,"Dat")),Ut[1].push({check:o,cls:vo});var po=/^(([a-z][a-z\d+\-.]*:)?\/\/|data:[a-z]+\/[a-z]+;base64,)/i,mo=B("call",function(){return new wn([])}).case(t,function(e,n){var r=new wn([]);return E(n,function(n){return y(n)||t(n)?void(r=r.concat(mo(n,[e+"[]"]))):void r.push({param:e+"[]",value:n})}),r.$}).case(y,function(e,n){var r=new wn([]);return E(n,function(n,o){return y(n)||t(n)?void(r=r.concat(mo(n,[e?e+"["+o+"]":o]))):void r.push({param:e?e+"["+o+"]":o,value:m(n)?JSON.stringify(n):String(n)})}),r.$}),yo=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=i.params,u=void 0===a||a,c=i.query,s=void 0===c||c,l=mt(t)?t:String(e).replace(/\/+$/,"")+"/"+String(t).replace(/^\/+/,"");E(n,function(e,t){l=new _n(l).replaceString(":"+t,yt(e,u)).$});var f=mo(r,[""]);return f.length&&(l+=(l.indexOf("?")===-1?"?":"&")+f.map(function(e){var t=e.param,n=e.value;return yt(t,s)+"="+yt(n,s)}).join("&")),""+l+(o?"#"+o:"")},go=function(e){var t={};return E((e||"").split("\n"),function(e){var n=e.indexOf(":"),r=new _n(e.substring(0,n)).trim().toCamelCase().$,o=new _n(e.substring(n+1)).trim().$;r&&(t[r]=(t[r]?t[r]+", ":"")+o)}),t},$o=new wn(["FormData","File","Blob","ArrayBuffer","String","Number"]),wo=new wn(["DELETE","GET","HEAD"]),ko=function(t,n,r){return t=new ln(t).$,wo.indexOfStrict(n)!==-1?null:m(t)&&$o.indexOfStrict(e(t))===-1?(r.contentType||(r.contentType=["application/json;charset=utf-8"]),new ln(t).json()):t},bo={after:[],auth:{username:"",password:""},baseURL:Bt.location.origin,before:[],data:null,headers:{},method:"get",params:{},query:{},responseType:"",timeout:0,url:"",withCredentials:!1},xo=new wn(["post","put"]),Eo=function(e){function n(){function e(){return e.request.apply(e,arguments)}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Zt(this,n);var o=en(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),i=new ln({}).deepAssign(bo,r).$;return i.before.indexOf(gt)===-1&&i.before.push(gt),Object.defineProperty(e,"$$",{value:i}),Object.setPrototypeOf(e,n.prototype),t=e,en(o,t)}return Kt(n,e),Gt(n,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C([t],["function"],"Fetch#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C([t],["function"],"Fetch#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"config",value:function(e,t){var n=this.$$;return arguments.length?(c(e)?e(n):(arguments.length>=2&&(e=Jt({},e,t)),new ln(n).deepAssign(e)),this):n}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(e)||(t=e,e=void 0),this.request(e,O({method:"delete"},t))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(e)||(t=e,e=void 0),this.request(e,O({method:"get"},t))}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w(e)||(t=e,e=void 0),this.request(e,O({method:"head"},t))}},{key:"headers",value:function e(n,r){var e=this.$$.headers;return arguments.length>=2&&(n=Jt({},n,r)),E(n,function(n,r){var o=e[r]||[],i=t(n)?n:[n];(e[r]=o).push.apply(o,i)}),this}},{key:"instance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ln(e).hasOwn("data")?{data:e.data}:{};delete e.data;var r=new ln({}).deepAssign(this.$$,e).assign(t).$;return new n(r)}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!w(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"patch",data:t},n))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!w(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"post",data:t},n))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!w(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"put",data:t},n))}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};1!==arguments.length||w(e)||(t=e);var n=new ln(t).hasOwn("data")?{data:t.data}:{},r=w(e)?{url:e}:{};delete t.data;var o=new ln(this.$$).deepClone().deepAssign(r,t).assign(n).$,i=void 0,a=vn.resolve();return E(o.before,function(e){a=a.then(function(){return e.length>=2?vn.resolve():new vn(function(t){t(e(o))})},function(t){return e.length<2?vn.reject(t):new vn(function(n){n(e(t,o))})})}),a=a.then(function(){return new vn(function(e,t){var n=o.after,r=o.auth,a=r.username,u=r.password,c=o.data,s=o.headers,l=o.method,f=o.onprogress,h=o.responseType,v=o.timeout,p=o.url,d=o.withCredentials;i=new XMLHttpRequest,i.open(l,p,!0,a,u),E(s,function(e,t){i.setRequestHeader(t,e)}),f&&(xo.indexOfStrict(l)===-1?i.onprogress=f:i.upload.onprogress=f),i.onabort=function(){var e=new Error("Request was aborted");e.type="ABORT_ERROR",t(e),i=null},i.onerror=function(){var e=new Error("Network error");e.type="NETWORK_ERROR",t(e),i=null},i.ontimeout=function(){var e=new Error("Request time exceeded");e.type="TIMEOUT_ERROR",t(e),i=null},i.onreadystatechange=function(){if(i&&i.status&&4===i.readyState){var t={config:o,data:h&&"text"!==h?i.response:i.responseText,headers:go(i.getAllResponseHeaders()),status:1223===i.status?204:i.status,statusText:1223===i.status?"No Content":i.statusText,xhr:i},r=vn.resolve();E(n,function(e){r=r.then(function(){return e.length>=2?vn.resolve():new vn(function(n){n(e(t))})},function(n){return e.length<2?vn.reject(n):new vn(function(r){r(e(n,t))})})}),e(r.then(function(){return t}).catch(function(e){try{e.response=t}catch(t){throw e}throw e}))}},i.responseType=h,i.timeout=Number(v)||0,i.withCredentials=!!d,i.send(c)})}),a.abort=function(){return i&&i.abort(),this},a}}]),n}(Function);j(Eo.prototype,Jt({},on.toStringTag,"Fetch"));var Oo=new Eo,So=Bt,_o=So.location,jo=function(e){var t=_o.search,n=_o.hash,r={query:{},hash:n.replace(/^#/,"")};return t?(new _n(t.replace(/^\?/,"")).split("&").forEach(function(t){var n=t.split("="),o=tn(n,2),i=o[0],a=o[1],u=void 0===a?"":a;if(i=e?decodeURIComponent(i):i,u=e?decodeURIComponent(u):u,/^[^[]+/.test(i)){var c=void 0,s=r.query;new _n(i).match(/^[^[\]]*|\[[^[\]]*]/g).forEach(function(e){return e.indexOf("[")?void(c=e):(e=e.slice(1,-1),s=s[c]=s[c]||(e?{}:[]),void(c=e||s.length))}),s[c]=u}}),r):r},To=new wn([]),Ro=new wn([]),Ao={},Co=Bt,Po=Co.history,Lo=Co.location,Bo=Co.location.href,No=void 0,Do=void 0,Mo=void 0,Uo=void 0,Io=void 0,qo=void 0,Fo=!1,zo=void 0,Ho=void 0,Wo=void 0,Vo=void 0,Zo=void 0,Go=B("call",function(){throw new Error("State path must be a string, a regular expression or undefined! (at registerState)")}).case($,function(e){return{path:e.source.replace(/\\\//g,"/"),url:e,params:{}}}).case(v,function(){return{path:"/",url:"/",params:{}}}).case(w,function(e){if(e.indexOf("/"))throw new Error('If route path is a string it must start with "/"! (at registerState)');var t=e.indexOf("?"),n=new ln({}),r="",o=new _n(e).slice(0,t===-1?e.length:t).replace(/^\/|\/$/g).split(/\//).map(function(e,t,r){if(!e&&r.length>1)throw new Error('If route path is a string it must not contain "//" or end with "/"! (at makeRoute)');var o=e.indexOf(":");if(o>0)throw new Error("If route path is a string resource part must be either a string or an URL parameter! (at makeRoute)");
if(o===-1)return{url:e,value:e};var i=_t(e.slice(1),'URL parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"URL parameter regexp validator must be within parentheses (e.g. :userId(\\d+) and not contain ones)! (at makeRoute)"),a=i.name,u=i.regexp,c=void 0===u?/[^\/]*/:u;return n.$[a]=n.count,{type:"param",url:":"+a,value:c}}).word(function(e){var t=e.type,n=e.url,o=e.value,i=void 0;return i="param"===t?"("+o.source.replace(/\\\//g,"/")+")":new _n(o).escapeRegExp().$,r+="/"+n,"/"+i});return{path:o,url:r,params:n.$}}),Jo={buildURL:jt,go:Tt,goToURL:Rt,pushURL:At,redirect:Ct,redirectToURL:Pt,replaceURL:Lt},Qo=function e(t){Zt(this,e),t=t||{};var n=t||{},r=n.name,o=n.path,i=void 0===o?"/":o,a=n.abstract,u=void 0!==a&&a,c=n.parent,s=n.decodeQuery,l=void 0===s||s,f=n.encodeQuery,h=void 0===f||f,v=n.decodeParams,p=void 0===v||v,d=n.encodeParams,m=void 0===d||d,y=Go(i),g=y.url,$=y.path,k=y.params,b={};new ln(this).assign({name:r,parentName:c,abstract:!!u,children:new wn([]),decodeParams:!!p,decodeQuery:!!l,encodeParams:!!m,encodeQuery:!!h,params:k,query:b,relativePath:$,relativeURL:g});var x=w(i)?i.indexOf("?"):-1;if(x!==-1&&new _n(i).replace(/&$/).slice(x+1).split("&").forEach(function(e){var t=_t(e,'Query parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"Query parameter regexp validator must be within parentheses (e.g. :userId(\\d+)) and not contain them! (at makeRoute)"),n=t.name,r=t.regexp,o=void 0===r?/[\s\S]*/:r;b[n]=new RegExp("^"+o.source.replace(/\\\//g,"/")+"$")}),r===Ho&&(new ln(k).count||new ln(b).count))throw new Error("Default route must not have URL or query params! (at makeRoute)")},Yo=new Qo,Ko=Object.freeze({D:x,isArray:t,isArrayLike:n,isBoolean:r,isDate:o,isDateLike:i,isElement:a,isFinite:u,isFunction:c,isInteger:s,isIntegerLike:l,isNaN:f,isNull:h,isNil:v,isNumber:p,isNumberLike:d,isObject:m,isPlainObject:y,isPrimitive:g,isRegExp:$,isString:w,isSymbol:k,isUndefined:b,Alphabet:un,alphabet:L,Arr:wn,array:ne,iterate:re,BlobObject:En,blob:oe,Block:eo,Mixin:no,initApp:We,removeApp:Ve,Dat:vo,now:pt,date:dt,Elem:nr,win:rr,doc:or,html:ir,body:ar,head:ur,find:ke,parseHTML:be,px:xe,Fetch:Eo,fetch:Oo,Func:pn,method:J,noop:Q,prop:Y,self:K,Num:$n,rand:X,random:ee,Promise:vn,makeRoute:wt,router:Jo,Str:_n,parseJSON:ae,Super:ln,Switcher:cn,switcher:B,when:N}),Xo=x;O(Xo,Ko),delete Xo.D,Bt.D=Xo}();

//# sourceMappingURL=dwayne.min.js.map
