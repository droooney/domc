!function(e){"use strict";function t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r(e,function(r,o){t(n,r,o,e)}),n}function n(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return{key:n,value:o}}}function r(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)}function o(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function i(e){return t(e,a)}function a(e,t){e[t]=!0}function u(e){return r(arguments,function(t,n){n&&f(t,function(t,n){e[n]=t})}),e}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(e,function(r,o){t(n,r,o,e)}),n}function c(e){var t={},n=Ce.call(arguments,1);return f(e,function(e,r){-1===n.indexOf(r)&&(t[r]=e)}),t}function s(e,t){return Se.call(e,t)}function f(e,t){for(var n in e)s(e,n)&&t(e[n],n,e)}function v(e,t){var n={};return f(e,function(r,o){n[o]=t(r,o,e)}),n}function h(e,t){f(t,function(t,n){Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!1,configurable:!0})})}function p(e,t){f(t,function(t,n){Object.defineProperty(e,n,{value:t,writable:!1,enumerable:!1,configurable:!1})})}function m(e){return Fe.call(e).slice(8,-1)}function d(e,t){Le&&Le.toStringTag&&h(e.prototype,Ae({},Le.toStringTag,t))}function $(e){return"Function"===m(e)||"function"==typeof e}function y(e){return null==e}function g(e){return"String"===m(e)}function k(e){return e.replace(qe,"\\$&")}function b(){}function w(e){return e.replace(Qe,x)}function _(e){return e.replace(We,O)}function x(e){return e[1].toUpperCase()}function O(e){return"-"+e[0].toLowerCase()}function S(e,t){e[t.name]=t.value}function C(e,t){if(t){var n=t.split(Xe);e[w(n[0])]=n[1]}}function E(e,t,n){e[n]=t}function B(e,t){e(t.nextSibling)}function T(e,t){e(t.parentNode)}function A(e,t){e(t.previousSibling)}function P(e){e.find("style#"+Ye).length||e.create("style").prop("id",Ye).text("."+Ye+"{display:none !important;}")}function R(e,t){var n="xmlns"===e;return n||"xmlns:xlink"===e?"SVG"!==t.nodeName?vt:{ns:st,name:n?"xmlns":"xlink"}:lt.test(e)&&new kt(t).closest("svg").length?{ns:ft,name:e.replace(ct,"")}:vt}function j(e){P(new kt(e.ownerDocument.head)),new kt(e).addClass(Ye)}function U(e){return e instanceof kt}function N(e){return ht.test(m(e))||U(e)||He(e)}function D(e){return"HTMLDocument"===m(e)}function M(e){var t=m(e);return pt.test(t)||"HTMLDocument"===t||"Text"===t||"DocumentFragment"===t||"Comment"===t}function I(e){var t=e.parentNode;t&&t.removeChild(e)}function L(e){new kt(e).removeClass(Ye)}function V(e){return U(e)?e:new kt(e)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;return new kt(t.querySelectorAll(String(e)))}function H(e,t){r(Ze(t),function(n){n in e||(t[n]=void 0)});for(var n in e)t[n]=e[n]}function z(e,t,n){delete n[t]}function q(e){return new RegExp("^"+k(e)+"(?:\\(([^\\)]*)\\))?(?:#([\\s\\S]*))?$")}function G(e,t){var n=void 0;for(var r in e){var o=e[r],i=t.match(o._match);if(i){var a=i[1],u=void 0;""===a?u=[]:a&&(u=a.split(bt)),n={args:u,comment:i[2],Mixin:o,name:r};break}}return n}function Z(e,t,n){return l(e,function(e,r,o){if(tt.test(o))return u(e,Z(r,t,n));var i=G(t,o);if(i)return void(e[o]={type:"mixin",dynamic:!0,opts:Pe({value:r},i,n),value:r});e[o]={type:"attr",value:r}})}function J(e){return l(e,K)}function K(e,t,n){tt.test(n)?u(e,J(t)):e[n]=t}function Q(e,t){var n=e.$$.value;e.$$.value=t,r(e.$$.watchers,function(e){e(t,n)})}function W(e){var t=e.name,n=e.Mixin,r=e.dynamic,o=e.value,i=e.args,a=e.comment,u=e.elem,l=e.parentBlock,c=e.parentScope,s=e.parentTemplate,f=new n({name:t,value:o,dynamic:r,args:i,comment:a,elem:u,parentBlock:l,parentScope:c,parentTemplate:s});if(n.evaluate){var v=f.value=f.evaluate(function(e,n){f.value=e;try{f.afterUpdate(e,n)}catch(e){console.error("Uncaught error in "+t+"#afterUpdate:",e)}});f.afterUpdate(v)}return f}function X(e,t,n,o){f(t,function(r,o){var i=r.type,a=r.value;e[o]||("attr"===i?n.removeAttr(o):a.$$.remove(),delete t[o])});var i=[];for(var a in e)!function(r){var a=e[r],u=a.type,l=a.dynamic,c=a.value,s=a.opts,f=void 0,v=void 0,h=void 0;if(t[r]){var p=t[r],m=p.type,d=p.value;if("attr"===u)"mixin"===m&&d.$$.remove(),d!==c&&n.attr(r,c),h=c;else{var $=d;if("attr"===m&&n.removeAttr(r),$.$$.isDynamic=l,l)Q($,c);else if(!$.$$.evaluated&&s.Mixin.evaluate){var y=$.$$.parentScope.$$.evaluate(c,function(t){var n=e[r],o=n.type,i=n.dynamic;"mixin"!==o||i||Q($,t)},$);$.$$.evaluated=!0,Q($,y)}h=$}f=u,v=l}else{if("attr"===u)n.attr(r,c),h=c;else{var g=function(){s.dynamic=l;var t=W(s);if(!l&&s.Mixin.evaluate){var n=s.parentScope,o=s.value,i=n.$$.evaluate(o,function(n){var o=e[r],i=o.type,a=o.dynamic;"mixin"!==i||a||Q(t,n)},t);t.$$.evaluated=!0,t.$$.value=i}return h=t,{attr:r,opts:{type:u,dynamic:l,value:t}}};o?i.push(g):g()}f=u,v=l}t[r]={type:f,dynamic:v,value:h}}(a);if(o)return function(){r(i,function(e){var n=e(),r=n.attr,o=n.opts;t[r]=o})}}function Y(e,t,n){var r={};return"globals"===t&&(r=Ge(n?n.$$.globals:null)),l(e,function(e,t,n){e[n]={value:t,watchers:{temp:[],perm:[]}}},r)}function ee(e){e.onRemove(),e()}function te(e){r(e,ne)}function ne(e){var t=e.watcher;o(e.watchers,t)}function re(e,t,n){Ee(e,v(t,function(e,t){var o=n[t],i=o.watchers;return{configurable:!1,enumerable:!0,get:function(){return ot.evalMode&&-1===ot.gettingVars.indexOf(i.temp)&&ot.gettingVars.push(i.temp),o.value},set:function(e){if(e!==o.value){wt||(wt=[]);var t=i.temp.slice(),n=o.value;i.temp=[],o.value=e,r(t,ee),wt.push({scope:o,oldValue:n,value:e}),setTimeout(function(){if(wt){for(var e=[],t=[],n=wt.length-1;n>=0;n--)!function(n){var o=wt[n],i=o.scope,a=o.value,u=o.oldValue;r(i.watchers.perm,function(n){var r=e.indexOf(n);-1===r?(e.push(n),t.push({value:a,oldValue:u})):t[r].oldValue=u}),wt.splice(n,1)}(n);wt=null,r(e,function(e,n){var r=t[n];e(r.value,r.oldValue)})}},0)}}}}))}function oe(e){var t=e.node,n=e.Constructor,o=e.parent,i=e.parentElem,a=e.parentBlock,l=e.parentScope,s=e.parentTemplate,v=e.prevBlock,h=new kt(i[0].ownerDocument),p=i[0].namespaceURI===et?h.create("svg"):h,m=s?s.$$.ns._blocks:Nt._blocks,d=s?s.$$.ns._mixins:Nt._mixins,$=t.children=t.children||[],g=t.attrs=t.attrs||{},k=t.name||"UnknownBlock",b=n||t.name&&m[t.name],w=void 0,_=void 0,x=void 0,O=void 0,S=void 0,C=void 0;"d-block"===k&&g.name?(k="d-elements",b=m[k],S=g.name,x=c(g,"name"),O=$,$=[],g={}):"d-block"===k&&g.Constructor?(k="UnknownBlock",b=m[k],C=g.Constructor,x=c(g,"Constructor"),O=$,$=[],g={}):((w=k.match(_t))||"d-block"===k)&&(b=Nt._blocks["d-block"],_=w?w[1]:null);var E=void 0;if(b)try{E=new b({name:k,args:g,dBlockName:_,children:$,parent:o,parentElem:i,parentBlock:a,parentScope:l,parentTemplate:s,prevBlock:v})}catch(e){console.error("Uncaught error in new "+k+":",e),b=null}if(!b){var B=t,T=B.value,A=B.children,P=p.create(k),R=Ge(null),j=Ge(null),U=void 0,N={elem:P,parentBlock:a,parentScope:l,parentTemplate:s};f(g,function(e,t){var n=tt.test(t),r=n||U?Ge(j):j;if(j=r,n){var o=l.$$.evaluate(e,function(e){setTimeout(function(){f(r,z),u(r,Z(e,d,N)),X(j,R,P,!1)},0)},a);return U=!0,u(r,Z(o,d,N))}var i=G(d,t);if(U=!1,i)return void(r[t]={type:"mixin",dynamic:!1,opts:Pe({value:e},i,N),value:e});r[t]={type:"attr",value:l.$$.evaluate(e,function(e){r[t]={type:"attr",value:e},X(j,R,P,!1)},a)}});var D=X(j,R,P,!0);if("#comment"===k&&P.text(T),"#text"===k){var M=l.$$.evaluate(T,function(e){y(e)&&(e=""),P.text(""+e)},a);y(M)&&(M=""),P.text(""+M)}if(A){var I="template"===k?new kt(P[0].content):P,L=void 0;r(A,function(e){L=oe({node:e,parent:I,parentElem:I,parentBlock:a,parentScope:l,parentTemplate:s,prevBlock:L})})}var V=o instanceof Nt;return v instanceof Nt?v.$$.insertAfterIt(P,!1):v?(P.insertAfter(v),V&&o.$$.addContent(P)):V?o.$$.insertInStartOfIt(P,!1):P.into(i,!1),D(),P}var F=E,H=F.$$,q=F.args,J=F.globals,K=Ue(F,["$$","args","globals"]);S&&(t={attrs:x,children:O},t.name=l.$$.evaluate(S,function(e){t.name=e,q.value=[t]},E,!0),q.value=[t],q.parentScope=l,q.parentTemplate=s),C&&(t={name:k,attrs:x,children:O},q.Constructor=l.$$.evaluate(C,function(e){q.Constructor=e,q.value=[t]},E,!0),q.value=[t],q.parentScope=l,q.parentTemplate=s);var Q="d-elements"===k?q.value||[]:b._html;if(H.args=Y(q),H.locals=Y(K),H.globals=Y(J,"globals",l),"#d-item"===k){var W,ee=(W={},Ae(W,t.itemName,t.item),Ae(W,t.indexName,t.index),W),te="#d-item"===l.$$.name?l.$$.scope:l;H.ns=l.$$.ns,H.privateScope=Y(ee),re(H.scope=Ge(te),ee,H.privateScope)}if("d-each"===k){var ne;H.scope=Ge("#d-item"===l.$$.name?l.$$.scope:l,(ne={},Ae(ne,q.item||"$item",{value:null,writable:!0}),Ae(ne,q.index||"$index",{value:null,writable:!0}),ne))}re(q,q,H.args),re(J,J,H.globals),re(E,K,H.locals);try{E.afterConstruct()}catch(e){console.error("Uncaught error in "+k+"#afterConstruct:",e)}v=void 0,l="d-elements"===k?q.parentScope:E,s="d-elements"===k?q.parentTemplate:E,r(Q,function(e){v=oe({node:e,parent:E,parentElem:i,parentBlock:E,parentScope:l,parentTemplate:s,prevBlock:v})}),E.$$.isRendered=!0;try{E.afterRender()}catch(e){console.error("Uncaught error in "+k+"#afterRender:",e)}return E}function ie(e,t){var n;return Ot.call(e,t)&&(n=e.prototype,Ot).call(n,t.prototype)}function ae(e){e.$$.remove(!0)}function ue(e){e.$$.remove()}function le(e,t){f(e.$$.locals,function(e){e.watchers.perm.push(t)})}function ce(e,t){var n=e.$$,r=n.globals,o=n.watchersToRemove;for(var i in r){var a=r[i].watchers.perm;a.push(t),o.push({watcher:t,watchers:a})}}function se(e,t){f(e.$$.args,function(e){e.watchers.perm.push(t)})}function fe(e,t){var n=t(e);return ie(Nt,n)?n:e}function ve(e,t){var n=t(e);return ie(St,n)?n:e}function he(e,t){var n=new kt(t).elem(0);if(!n.length)throw new Error("No valid element to insert the app into was given! (initApp)");if(n.prop("DwayneRootBlock"))throw new Error("There already exists a Dwayne app inside the given element! (initApp)");g(e)&&(e={vars:[],value:[{name:e}]}),He(e)&&(e={vars:[],value:e});var r=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),t}(Nt);r._vars=e.vars,r._html=e.value;var o=oe({node:{name:"#RootBlock"},Constructor:r,parent:n,parentElem:n});n.prop("DwayneRootBlock",o).attr("dwayne-root","")}function pe(e,t){return e===t}function me(e,t){var n=De(t,2),r=n[0],o=n[1];e[r]=o}function de(e){var t=e.split(nn);return[t[0].trim(),t[1].trim()]}function $e(e,t,n){switch(e){case"select":return n.hasAttr("multiple")?"multiple-select":"value";case"input":return"file"===t?"files":"radio"===t||"checkbox"===t?"checked":"value";default:return n.hasAttr("contentEditable")?"text":"value"}}function ye(e,t,n,r){if("input"!==e)return t;var o="radio"===n;return o||"checkbox"===n?o?t===r:-1!==t.indexOf(r):t}function ge(e,n,r,o,i,a,u,l){switch(e){case"select":return l?t(a,be,[]):n;case"input":if("radio"!==r&&"checkbox"!==r)return n;if("radio"===r)return n?o:null;if(i=i||[],!n&&u)return i;if(n)return-1===i.indexOf(o)?i.concat(o):i;var c=i.indexOf(o);return-1!==c?[].concat(Me(i.slice(0,c)),Me(i.slice(c+1))):i;default:return n}}function ke(e,t){switch(e){case"select":return"change";case"input":return"radio"===t||"checkbox"===t||"color"===t||"file"===t?"change":"change input";default:return"input"}}function be(e,t){var n=t.selected,r=t.value;n&&-1===e.indexOf(r)&&e.push(r)}function we(e,t){function n(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++){var r=e[t],o=r.name,c=r.value,s=r.children;if("#comment"===o){var f=c.trim();if(a[f]){var v=a[f].value;e.splice.apply(e,[t,1].concat(Me(v))),u(l,i(a[f].vars)),t+=v.length-1}}else n(s)}}var r=e.vars,o=e.value,a=Ge(null),l=i(r);return u(a,t),n(o),r.length=0,r.push.apply(r,Me(Ze(l))),e}function _e(e){var t=new kt(e).elem(0);if(!t.length)throw new Error("No valid element to remove the app from was given! (removeApp)");e=t[0];var n=e,r=n.DwayneRootBlock;if(!(r instanceof Nt))throw new Error("No app registered inside the given element! (removeApp)");r.$$.remove(),t.removeAttr("dwayne-root"),delete e.DwayneRootBlock}var xe="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Oe={},Se=Oe.hasOwnProperty,Ce=[].slice,Ee=Object.defineProperties,Be=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ae=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},je=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ue=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Ne=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},De=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Me=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Ie=xe,Le=Ie.Symbol,Ve={},Fe=Ve.toString,He=Array.isArray,ze=[".","+","*","?","(",")","[","]","{","}","<",">","^","$","!","=",":","-","|",",","\\"],qe=new RegExp(ze.map(function(e){return"\\"+e}).join("|"),"g"),Ge=Object.create,Ze=Object.keys,Je=Object.getPrototypeOf,Ke=Object.setPrototypeOf||function(e,t){e.__proto__=t},Qe=/-[a-z]/g,We=/[A-Z]/g,Xe=/: /,Ye="__dwayne-hidden__",et="http://www.w3.org/2000/svg",tt=/^d-rest(?:#|$)/,nt=Ge(null),rt=Ge(null),ot={evalMode:!1,gettingVars:[]},it=xe,at=it.document,ut=void 0===at?{}:at,lt=/^xlink:\w/,ct=/^xlink:/,st="http://www.w3.org/2000/xmlns/",ft="http://www.w3.org/1999/xlink",vt={ns:null},ht=/^(HTMLCollection|NodeList)$/,pt=/Element$/,mt=xe,dt=mt.Symbol,$t=/ ?!important$/,yt=/Event$/,gt=[],kt=function(e){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;Be(this,n);var t=Ne(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return N(e)||(e=[e]),Ke(t,n.prototype),r(e,function(e){N(e)||(e=[e]),r(e,function(e){!t.includes(e)&&M(e)&&t.push(e)})}),t}return je(n,e),Te(n,null,[{key:"addMethods",value:function(e,t){return arguments.length>=2&&(e=Ae({},e,t)),h(this.prototype,e),this}}]),Te(n,[{key:"add",value:function(){var e=this.slice();return r(arguments,function(t){N(t)||(t=[t]),r(t,function(t){!e.includes(t)&&M(t)&&e.push(t)})}),e}},{key:"addClass",value:function(){var e=arguments;return this.forEach(function(t){var n=t.classList;r(e,function(e){return n.add(e)})})}},{key:"attr",value:function(e,r){var o=this[0];if(!arguments.length)return o?t(o.attributes,S):{};if(arguments.length<=1&&g(e)){if(!o)return null;var i=R(e,o),a=i.ns,u=i.name;return a?o.getAttributeNS(a,u):o.getAttribute(e)}return arguments.length>=2&&(e=Ae({},e,r)),this.forEach(function(t){f(e,function(e,r){if(y(e)||!1===e)return new n(t).removeAttr(r);e=!0===e?"":e;var o=R(r,t),i=o.ns;i?t.setAttributeNS(i,r,e):t.setAttribute(r,e)})})}},{key:"children",value:function(){return new n(this.length?this[0].childNodes:[])}},{key:"closest",value:function(e){return this.collect(function(t,r){for(;r;){if(new n(r).is(e))return t(r);r=r.parentNode}})}},{key:"collect",value:function(e){var t=this,r=[],o=r.push.bind(r);return this.forEach(function(n,r){e(o,n,r,t)}),new n(r)}},{key:"contains",value:function(e){var t=this[0],n=V(e)[0];return!(!t||!n)&&t.contains(n)}},{key:"create",value:function(e){return this.collect(function(t,r){var o=null,i="#text"===e,a=D(r)?r:r.ownerDocument;if(i||"#comment"===e)o=i?a.createTextNode(""):a.createComment("");else{var u="svg"===e?et:r.namespaceURI||a.documentElement.namespaceURI||"http://www.w3.org/1999/xhtml";o=a.createElementNS(u,e)}t(new n(o).into(r))})}},{key:"createComment",value:function(e){return this.create("#comment").text(e)}},{key:"createText",value:function(e){return this.create("#text").text(e)}},{key:"css",value:function(e,r){var o=this[0]||{},i=o.style;return arguments.length?arguments.length<=1&&g(e)?i?(e=_(e),i.getPropertyValue(e)+(i.getPropertyPriority(e)?" !important":"")):"":(arguments.length>=2&&(e=Ae({},e,r)),this.forEach(function(t){f(e,function(e,r){if(r=_(r),y(e)||!1===e)return new n(t).removeCSS(r);t.style.removeProperty(r),t.style.setProperty(r,e.replace($t,""),$t.test(e)?"important":"")})})):i?t(i.cssText.split(/; ?/),C):{}}},{key:"data",value:function(e,t){var n=this[0]||{},r=n.dataset;if(!arguments.length)return r?l(r,E):{};if(1===arguments.length&&g(e)){if(!r)return;return r[e]}return arguments.length>=2&&(e=Ae({},e,t)),this.forEach(function(t){f(e,function(e,n){t.dataset[n]=e})})}},{key:"dispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bubbles,r=void 0===n||n,o=t.cancelable,i=void 0===o||o,a=Ue(t,["bubbles","cancelable"]),l=e;if(!yt.test(m(l)))try{l=new Event(l,{bubbles:r,cancelable:i}),u(l,a)}catch(e){}return this.forEach(function(t){if(!yt.test(m(l))){var n=D(t)?t:t.ownerDocument;l=n.createEvent("Event"),l.initEvent(e,r,i),u(l,a)}t.dispatchEvent(l)})}},{key:"elem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(e=this.length+e),new n(this[e])}},{key:"filter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return this.collect(function(n,r,o){t(r,o,e)&&n(r)})}},{key:"find",value:function(e){return this.collect(function(t,n){t(F(e,n))})}},{key:"forEach",value:function(e){var t=this;return r(this,function(n,r){e(n,r,t)}),this}},{key:"hasAttr",value:function(e){var t=this[0];if(!t)return!1;var n=R(e,t),r=n.ns;return r?t.hasAttributeNS(r,e):t.hasAttribute(e)}},{key:"hasClass",value:function(e){var t=this[0];return!!t&&t.classList.contains(e)}},{key:"hide",value:function(){return this.forEach(j)}},{key:"html",value:function(e){if(!arguments.length){var t=this[0];return t?t.innerHTML:""}return this.forEach(function(t){t.innerHTML=e})}},{key:"includes",value:function(e){return-1!==this.indexOf(e)}},{key:"insertAfter",value:function(e){e=V(e).elem(0);var t=e.parent();return t.length?(e=e.next()[0],t=t[0],this.forEach(function(n){if(n===e)return void(e=e.nextSibling);e?t.insertBefore(n,e):t.appendChild(n)})):this}},{key:"insertBefore",value:function(e){e=V(e).elem(0);var t=e.parent();return t.length?(e=e[0],t=t[0],this.forEach(function(n){t.insertBefore(n,e)})):this}},{key:"into",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(e=V(e)[0])||D(e))return this;if(!t&&e.firstChild){for(var n=this.length-1;n>=0;n--)e.insertBefore(this[n],e.firstChild);return this}return this.forEach(function(t){e.appendChild(t)})}},{key:"is",value:function(e){if(!this.length)return!1;var t=this[0];return(t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector).call(t,e)}},{key:"name",value:function(){var e=this[0];return e?e.nodeName.toLowerCase():void 0}},{key:"next",value:function(){return this.collect(B)}},{key:"on",value:function(e,t){g(e)&&(e=Ae({},e,t));var n={},o={};return f(e,function(e,t){r(t.split(/(?:,| ) */),function(t){(n[t]=n[t]||[]).push(e)})}),this.forEach(function(e){f(n,function(t,n){r(t,function(t){e.addEventListener(n,t,!1),(o[n]=o[n]||[]).push(function(){e.removeEventListener(n,t)})})})}),function(e){arguments.length?r(arguments,function(e){r(e.split(/(?:,| ) */),function(e){var t=o[e];t&&(r(t,function(e){return e()}),delete o[e])})}):f(o,function(e,t){r(e,function(e){return e()}),delete o[t]})}}},{key:"parent",value:function(){return this.collect(T)}},{key:"prev",value:function(){return this.collect(A)}},{key:"prop",value:function(e,t){return arguments.length<=1&&g(e)?this[0]?this[0][e]:void 0:(arguments.length>=2&&(e=Ae({},e,t)),this.forEach(function(t){f(e,function(e,n){t[n]=e})}))}},{key:"remove",value:function(){return this.forEach(I)}},{key:"removeAttr",value:function(){var e=arguments;return this.forEach(function(t){r(e,function(e){var n=R(e,t),r=n.ns;r?t.removeAttributeNS(r,e):t.removeAttribute(e)})})}},{key:"removeClass",value:function(){var e=arguments;return this.forEach(function(t){var n=t.classList;r(e,function(e){return n.remove(e)})})}},{key:"removeCSS",value:function(){var e=arguments;return this.forEach(function(t){r(e,function(e){t.style.removeProperty(_(e))})})}},{key:"replace",value:function(e){e=V(e);var t=this.elem(0),n=t.parent();if(!n.length)return this;var r=n,o="into",i=t.next()[0],a=t.prev()[0];i?(r=i,o="insertBefore"):a&&(r=a,o="insertAfter"),t.remove(),e[o](r)}},{key:"show",value:function(){return this.forEach(L)}},{key:"slice",value:function(){return new n(Re(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"slice",this).apply(this,arguments))}},{key:"text",value:function(e){return arguments.length?this.forEach(function(t){t.textContent=e}):this.prop("textContent")}},{key:"toggleAttr",value:function(e,t){var r=arguments;return this.forEach(function(o){o=new n(o),(r.length<2?!o.hasAttr(e):t)?o.attr(e,""):o.removeAttr(e)})}},{key:"toggleClass",value:function(e,t){var n=arguments;return this.forEach(function(r){var o=r.classList;o.toggle(e,n.length<2?!o.contains(e):t)})}}]),n}(Array);d(kt,"Elem"),dt&&dt.species&&Ee(kt,Ae({},dt.species,{get:function(){return Array}}));var bt=/,/,wt=void 0,_t=/^d-block:([\s\S]+)$/,xt={},Ot=xt.isPrototypeOf,St=function(){function e(t){var n=this;Be(this,e);var r=t.name,i=t.value,a=t.dynamic,u=t.elem,l=t.args,c=t.comment,s=t.parentBlock,f=t.parentScope,v=t.parentTemplate,h=[],m=[];p(this,{$$:{name:r,_value:i,value:i,isDynamic:a,parentScope:f,parentBlock:s,parentTemplate:v,watchers:m,watchersToRemove:h,isRemoved:!1,evaluate:function(e){var t=n.$$,r=t.isDynamic,o=t.value,i=t._value,a=r?o:f.$$.evaluate(i);return e&&m.push(e),a},remove:function(e){n.$$.isRemoved=!0,te(h);try{n.beforeRemove()}catch(e){console.error("Uncaught error in "+r+"#beforeRemove:",e)}!e&&s&&o(s.$$.mixins,n)}}}),this.args=l,this.comment=c,this.parentBlock=s,this.parentScope=f,this.parentTemplate=v,this.elem=u,this.node=u[0],s.$$.mixins.push(this)}return Te(e,null,[{key:"wrap",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(ve,this)}}]),Te(e,[{key:"afterUpdate",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluate",value:function(e){return this.$$.evaluate(e)}}]),e}();St.evaluate=!0,d(St,"Mixin");var Ct=[],Et=[],Bt=/^[a-z][a-z\d\-_.:!@#$%^&*()[\]{}='"\\]*$/i,Tt=/^[^\u0000-\u0020\s'">\/=]+$/,At=/^args\./,Pt=/^globals\./,Rt=new kt,jt=[],Ut=[],Nt=function(){function e(t){var n=this;Be(this,e);var i=t.name,a=t.args,l=t.dBlockName,c=t.children,s=t.parent,v=t.parentElem,h=t.parentBlock,m=t.parentScope,d=t.parentTemplate,y=t.prevBlock,g=[],k=Je(this).constructor,b=[],w=[],_=s instanceof e;p(this,{$:this,$$:{name:i,dBlockName:l,dBlocks:[],parent:s,parentElem:v,parentScope:m,parentBlock:h,parentTemplate:d,content:new kt,ns:k,htmlChildren:c,children:b,mixins:w,prevBlock:y,watchersToRemove:g,isRemoved:!1,isRendered:!1,evaluate:function(e,t,a,u,l,c){if(!$(e))return e;u=!!u,l=!!l;var s="#d-item"===i&&!l||c?(c||n).$$.scope:n,f=a?a.$$:{},v=f.watchersToRemove,h=!!t;return function i(){var l=void 0;h&&(ot.evalMode=!0,ot.gettingVars=[]);try{l=e(s)}catch(t){if(t.expression=e,t.original=e.original,t.block=n,$(k.onEvalError))try{k.onEvalError(t)}catch(e){console.error("Uncaught error in Block.onEvalError:",e)}}if(h){var c=[];r(ot.gettingVars,function(e){var n=function(){var e=i();e===l||a.$$.isRemoved||t(e,l)},s={forDElements:u,watcher:n,watchers:e};n.onRemove=function(){r(c,function(e){var t=e.watcher,n=e.watchers;o(v,e),o(n,t)})},c.push(s),v.push(s),e.push(n)}),ot.evalMode=!1,ot.gettingVars=[]}return l}()},remove:function(e){n.$$.isRemoved=!0,te(g),r(b,ae),r(w,ae);try{n.beforeRemove()}catch(e){console.error("Uncaught error in "+i+"#beforeRemove:",e)}!e&&_&&s.$$.removeContent(n.$$.content),!e&&h&&o(h.$$.children,n),n.$$.content.remove()},changeContent:function(e){if(n.$$.content=e,n.$$.isRendered)try{n.afterDOMChange()}catch(e){console.error("Uncaught error in "+i+"#afterContentChange:",e)}},addContent:function(e,t){var r=n.$$.content,o=r.indexOf(e[0].previousSibling)+1,i=void 0;i=0===o?e.add(r):r.slice(0,o).add(e,r.slice(o)),n.$$.changeContent(i),_&&!t&&s.$$.addContent(e,t)},moveContent:function(e,t){var r=n.$$.content,o=r.indexOf(e[0]),i=r.indexOf(t[0])+1,a=void 0;a=0===i?e.add(r.slice(i,o),r.slice(o+e.length)):o>i?r.slice(0,i).add(e,r.slice(i,o),r.slice(o+e.length)):r.slice(0,o).add(r.slice(o+e.length,i),e,r.slice(i)),n.$$.changeContent(a),_&&i&&s.$$.moveContent(e,t)},removeContent:function(e){n.$$.changeContent(n.$$.content.filter(function(t){return-1===e.indexOf(t)})),_&&s.$$.removeContent(e)},insertInStartOfIt:function(t,r){var o=n.$$.prevBlock,i=Rt;if(o instanceof e)i=o.$$.insertAfterIt(t,r);else if(o)i=o,t.insertAfter(o),_&&(r?s.$$.moveContent(t,i):s.$$.addContent(t,!0));else if(_){var a=s.$$.prevBlock;if(a){var u=void 0;a instanceof e?(i=a.$$.insertAfterIt(t,r),u=!0):(i=a,u=!1,t.insertAfter(a)),r?s.$$.moveContent(t,i):s.$$.addContent(t,u)}else i=s.$$.insertInStartOfIt(t,r)}else t.into(v,!1);return r?n.$$.moveContent(t,i):n.$$.addContent(t,!0),i},insertAfterIt:function(t,r){var o=n.$$.prevBlock,i=Rt,a=void 0;return n.$$.content.length?(i=n.$$.content.elem(-1),a=!0,t.insertAfter(i)):o instanceof e?i=o.$$.insertAfterIt(t,r):o?(i=o,a=!0,t.insertAfter(o)):_?i=s.$$.insertInStartOfIt(t,r):t.into(v,!1),_&&a&&(r?s.$$.moveContent(t,i):s.$$.addContent(t)),i}}}),f(k.defaultLocals,function(e,t){n[t]=e}),r(k._vars,function(e){n[e]=n[e]});var x=Ge(null),O=Ge(k.defaultArgs||null),S=void 0;f(a,function(e,t){var r=tt.test(t),o=r||S?Ge(O):O;if(O=o,r){var a=m.$$.evaluate(e,function(e){f(o,z),u(o,J(e)),H(O,x)},n);return S=!0,u(o,J(a))}var l="d-elements"===i,c=l&&"value"===t;S=!1,"d-each"===i&&"uid"===t||(e=m.$$.evaluate(e,function(e){o[t]=e,H(O,x)},n,c,l&&"#d-item"===h.$$.name)),o[t]=e}),p(this,{args:x,globals:Ge(m?m.globals:null)}),H(O,x),h&&h.$$.children.push(this)}return Te(e,null,[{key:"onEvalError",value:function(e){console.error('Eval error (evaluating "'+(e.original||e.expression)+'" in context of block "'+e.block.$$.name+'"):',e)}},{key:"beforeRegisterBlock",value:function(e){return Ct.push(e),function(){o(Ct,e)}}},{key:"beforeRegisterMixin",value:function(e){return Et.push(e),function(){o(Et,e)}}},{key:"block",value:function(t,n){var r=this;if($(n)&&!ie(e,n)){var o,i,a=n;i=o=function(e){function t(e){Be(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.call(n,e),n}return je(t,e),t}(e),o.template=a.template,n=i}if(!$(n)&&He(n)){var u,l;l=u=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),t}(e),u.template={vars:[],value:n},n=l}if(!$(n)&&n.vars&&n.value){var c,f;f=c=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),t}(e),c.template=n,n=f}if(!ie(e,n))return void console.warn('Block must be a template (array or an object from an html loader), a function or a class that extends Block class (name: "'+t+'") (Block.block)');if(nt[t])return void console.warn('The "'+t+'" block is a built-in block so the block will not be registered (Block.block)');if(!Bt.test(t))return void console.warn('Name "'+t+'" is not allowed for blocks so the block will not be registered (Block.block)');s(this,"_blocks")||(this._blocks=Ge(Je(this)._blocks)),s(this,"defaultLocals")||(this.defaultLocals={}),s(this,"defaultArgs")||(this.defaultArgs=Ge(null));try{n=Ct.reduce(function(n,o){var i=o(n,t,r);return ie(e,i)?i:n},n)}catch(e){console.error('Uncaught error in "beforeRegisterBlock" hook:',e)}He(n.template)&&(n.template={vars:[],value:n.template});var v=n.template,h=v.vars,p=v.value;return n._html=p,n._vars=h,n._blocks=s(n,"_blocks")?n._blocks:Ge(this._blocks),n._mixins=s(n,"_mixins")?n._mixins:Ge(this._mixins),s(n,"defaultArgs")&&Ke(n.defaultArgs,null),this._blocks[t]=n,n}},{key:"get",value:function(e){return this._blocks[e]}},{key:"getMixin",value:function(e){return this._mixins[e]}},{key:"init",value:function(e){var t;he((t=this,[{name:"d-block",attrs:{Constructor:function(e){return t}}}]),e)}},{key:"mixin",value:function(e,t){var n=this;if($(t)&&!ie(St,t)){var r=t;t=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),Te(t,[{key:"afterUpdate",value:function(e,t){r.call(this,e,t,this)}}]),t}(St)}if(!ie(St,t))return void console.warn('The "'+e+'" class does not extend Mixin or is not an afterUpdate function, so it will not be registered (Block.mixin)');if(rt[e])return void console.warn('The "'+e+'" mixin is a built-in mixin so the mixin will not be registered (Block.mixin)');if(!Tt.test(e))return void console.warn('Name "'+e+'" is not allowed for mixins so the mixin will not be registered (Block.mixin)');s(this,"_mixins")||(this._mixins=Ge(Je(this)._mixins));try{t=Et.reduce(function(t,r){var o=r(t,e,n);return ie(St,o)?o:t},t)}catch(e){console.error('Uncaught error in "beforeRegisterMixin" hook:',e)}return t._match=q(e),this._mixins[e]=t,t}},{key:"wrap",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(fe,this)}}]),Te(e,[{key:"afterConstruct",value:function(){}},{key:"afterDOMChange",value:function(){}},{key:"afterRender",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"getChildBlocks",value:function(){return this.$$.blocks.slice()}},{key:"getChildMixins",value:function(){return this.$$.mixins.slice()}},{key:"getChildren",value:function(){return this.$$.htmlChildren}},{key:"getConstructor",value:function(){return this.$$.ns}},{key:"getDOM",value:function(){return this.$$.content.slice()}},{key:"getParentBlock",value:function(){return this.$$.parentBlock}},{key:"getParentElem",value:function(){return this.$$.parentElem.slice()}},{key:"getParentScope",value:function(){return this.$$.parentScope}},{key:"getParentTemplate",value:function(){return this.$$.parentTemplate}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;return this.$$.evaluate(e,t,n)}},{key:"toString",value:function(){return this.$$.name}},{key:"watch",value:function(){for(var e=this,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=arguments[arguments.length-1];if(!$(i))return void console.warn("The last argument (watcher) wasn't specified ("+this.$$.name+"#watch)");var a=function(){i()};if(1===arguments.length)return le(this,a),se(this,a),ce(this,a),void i();r(arguments,function(t){if(t!==i){if("$"===(t=""+t))return le(e,a);if("args"===t)return se(e,a);if("globals"===t)return ce(e,a);if(At.test(t)){if(t=t.replace(At,""),!e.$$.args[t])return;return void e.$$.args[t].watchers.perm.push(a)}if(Pt.test(t)){if(t=t.replace(Pt,""),!e.$$.globals[t])return;var n=e.$$.globals[t].watchers;return n.perm.push(a),
void e.$$.watchersToRemove.push({watcher:a,watchers:n})}e.$$.locals[t]&&e.$$.locals[t].watchers.perm.push(a)}}),i()}}]),e}();Nt._blocks=Ge(nt),Nt._mixins=Ge(rt),Nt._vars=jt,Nt._html=Ut,Nt.defaultArgs=null,Nt.defaultLocals=null,Nt.template={vars:[],value:[]},d(Nt,"Block"),Ke(Nt.prototype,null);var Dt=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),Te(t,[{key:"afterConstruct",value:function(){var e=this.$$,t=e.parentScope.$$,r=t.parentScope,o=t.parentTemplate,i=t.htmlChildren,a=e.htmlChildren,u=e.parentTemplate,l=e.dBlockName,c=void 0;if(!a.length)if(this.ParentScope=r,this.ParentTemplate=o,l){if(!(c=n(i,function(e){return e.name==="d-block:"+l}))){for(var s=this;(s=s.$$.parentScope)&&!(c=n(s.$$.dBlocks,function(e){return e.$$.dBlockName===l}))&&"#d-item"===s.$$.parentScope.$$.name;);c&&(this.ParentScope=s,this.ParentTemplate=u,c.value={children:c.value.$$.htmlChildren})}this.elems=c&&c.value.children.length?c.value.children:null}else this.elems=i}}]),t}(Nt);Dt.template={vars:["elems","ParentScope","ParentTemplate"],value:[{name:"d-elements",attrs:{value:function(e){return e.elems},parentScope:function(e){return e.ParentScope},parentTemplate:function(e){return e.ParentTemplate}}}]},nt["d-block"]=Dt;var Mt={vars:[],value:[{name:"d-elements",attrs:{value:function(e){return e.$$.htmlChildren},parentScope:function(e){return e},parentTemplate:function(e){return e.$$.parentTemplate}}}]},It=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),t}(Nt);It.template=Mt,It._vars=Mt.vars,It._html=Mt.value;var Lt,Vt,Ft=function(e){return[e.args.set,e.args.filterBy,e.args.sortBy]};nt["d-each"]=(Lt=function(e){function t(e){Be(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Vt.call(n);var r=n.args,o=r.item,i=void 0===o?"$item":o,a=r.index,l=void 0===a?"$index":a;return u(n.$$,{itemsByUIDs:{},UID:n.args.uid||void 0,itemName:i,indexName:l}),n}return je(t,e),Te(t,[{key:"afterRender",value:function(){this.evaluate(Ft,this.renderSet),this.renderSet()}}]),t}(Nt),Vt=function(){var e=this;this.renderSet=function(){var t=e.$$,n=t.htmlChildren,o=t.itemsByUIDs,i=t.parentScope,a=t.parentElem,u=t.parentTemplate,l=t.scope,c=t.itemName,s=t.indexName,v=t.UID,h=e.args.sortBy,p={},m={},d={},y=e.args,g=y.set,k=y.filterBy,b=He(g),w=b?r:f;b&&$(h)&&(g=g.slice().sort(h)),$(k)&&(k=[k]),He(k)&&r(k,function(e){g=g.filter(e)}),w(g,function(t,n){l[c]=t,l[s]=n;var r=i.$$.evaluate(v,null,null,!1,!1,e);m[r]=(m[r]||0)+1,d[n]=r}),l[c]=null,l[s]=null,f(o,function(e,t){if(!m[t])return void r(e,ue);r(e.splice(m[t]),ue)});var _=void 0;w(g,function(t,r){var l=d[r],f=void 0;o[l]&&o[l].length?(f=o[l].shift(),f.$$.scope[s]=r,f.$$.scope[c]=t,f.$$.prevBlock!==_&&_&&_.$$.insertAfterIt(f.$$.content,!0)):f=oe({node:{itemName:c,indexName:s,item:t,index:r,name:"#d-item",children:n},Constructor:It,parent:e,parentElem:a,parentBlock:e,parentScope:i,parentTemplate:u,prevBlock:_}),(p[l]=p[l]||[]).push(f),f.$$.prevBlock=_,_=f}),e.$$.itemsByUIDs=p}},Lt);var Ht=function(e){return e.args.value};nt["d-elements"]=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),Te(t,[{key:"afterConstruct",value:function(){var e=this,t=this.$$.parentElem,n=this.args,i=n.Constructor,a=n.parentScope,u=n.parentTemplate;this.$$.evaluate(Ht,function(){var n=e.$$,l=n.children,c=n.mixins,s=n.parent,f=n.watchersToRemove,v=n.content,h=e.args.value;r(l,ae),r(c,ae),v.remove(),s instanceof Nt&&s.$$.removeContent(v),e.$$.children=[],e.$$.mixins=[],e.$$.watchersToRemove=f.filter(function(e){var t=e.watchers,n=e.watcher;if(e.forDElements)return!0;o(t,n)}),e.$$.content=new kt;var p=void 0;r(h||[],function(n){p=oe({node:n,Constructor:i,parent:e,parentElem:t,parentBlock:e,parentScope:a,parentTemplate:u,prevBlock:p})})},this,!0)}}]),t}(Nt);var zt,qt;nt["d-if"]=(qt=zt=function(e){function t(e){Be(this,t);var r=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=r.$$,i=o.parentScope,a=o.htmlChildren,u=1/0,l=a.map(function(e,t){var o=e.name,c=e.attrs,s=void 0===c?{}:c,f=e.children,v=s.if;return v="d-else"===o||!v||i.$$.evaluate(v,function(e){if(!!e!==l[t]&&(l[t]=!!e,!(t>u))){if(t<u)return u=t,void(r.elems=f);var o=n(l,Boolean);o?(u=o.key,r.elems=a[o.key].children):(u=1/0,r.elems=null)}},r),v&&u===1/0&&(u=t,r.elems=f),!!v});return r}return je(t,e),t}(Nt),zt.template={vars:["elems"],value:[{name:"d-elements",attrs:{value:function(e){return e.elems},parentScope:function(e){return e.$$.parentScope},parentTemplate:function(e){return e.$$.parentTemplate}}}]},qt);var Gt,Zt,Jt=function(e){return e.args.value};nt["d-switch"]=(Zt=Gt=function(e){function t(e){Be(this,t);var r=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.index=1/0;var o=r.$$,i=o.htmlChildren,a=void 0===i?[]:i,u=o.parentScope,l=r.args,c=r.args.value;return r.values=a.map(function(e,t){var o=e.name,i=e.attrs,a=void 0===i?[]:i,s=e.children,f=a.if||b;return f="d-default"===o?c:u.$$.evaluate(f,function(e){if(!(pe(r.values[t].value,e)||(r.values[t].value=e,t>r.index))){if(t<r.index)return r.index=t,void(r.elems=s);var o=n(r.values,function(e){return pe(e.value,l.value)});o?(r.index=o.key,r.elems=o.value.children):(r.index=1/0,r.elems=null)}},r),pe(f,c)&&r.index===1/0&&(r.index=t,r.elems=s),{name:o,children:s,value:f}}),r}return je(t,e),Te(t,[{key:"afterConstruct",value:function(){var e=this;this.evaluate(Jt,function(){var t=e.args.value;e.index=1/0,r(e.values,function(n,r){var o=n.name,i=n.value,a=n.children;pe("d-default"===o?t:i,t)&&e.index===1/0&&(e.index=r,e.elems=a)}),e.index===1/0&&(e.elems=null)})}}]),t}(Nt),Gt.template={vars:["elems"],value:[{name:"d-elements",attrs:{value:function(e){return e.elems},parentScope:function(e){return e.$$.parentScope},parentTemplate:function(e){return e.$$.parentTemplate}}}]},Zt),rt["d-attr"]=function(e){function t(){var e,n,r,o;Be(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=Ne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.attrs={},o=n,Ne(r,o)}return je(t,e),Te(t,[{key:"afterUpdate",value:function(e){var t=this.elem,n=this.args,r=this.attrs;n&&(e=l(n,function(t,n){t[n]=e})),f(r,function(n,r){r in e||t.removeAttr(r)}),t.attr(e),this.attrs=e}},{key:"beforeRemove",value:function(){var e=this.elem,t=this.attrs;e.removeAttr.apply(e,Ze(t))}}]),t}(St),rt["d-bind"]=function(e){function t(){var e,n,r,o;Be(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=Ne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.off=b,o=n,Ne(r,o)}return je(t,e),Te(t,[{key:"afterUpdate",value:function(e){this.off(),$(e)&&(this.args?this.off=this.elem.on(this.args.join(","),e):(this.off=b,console.error('Provide "d-bind" mixin with an event names (like "d-bind(click)" or "d-bind(keyup, keypress)")!')))}},{key:"beforeRemove",value:function(){this.off()}}]),t}(St);rt["d-class"]=function(e){function t(){var e,n,r,o;Be(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=Ne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.classes=[],o=n,Ne(r,o)}return je(t,e),Te(t,[{key:"afterUpdate",value:function(e){var t=this.elem,n=this.args,o=this.classes,i=[];n&&(e=e?n:[]),g(e)&&(e=e.split(/\s+/)),He(e)?(r(o,function(n){-1===e.indexOf(n)&&t.removeClass(n)}),r(e,function(e){g(e)&&(i.push(e),t.addClass(e))})):(r(o,function(n){e&&e[n]||t.removeClass(n)}),f(e,function(e,n){e&&(i.push(n),t.addClass(n))})),this.classes=i}},{key:"beforeRemove",value:function(){var e=this.elem,t=this.classes;e.removeClass.apply(e,t)}}]),t}(St);var Kt,Qt;rt["d-elem"]=(Qt=Kt=function(e){function t(e){Be(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.args,o=n.parentTemplate,i=n.elem,a=o,u=n.evaluate();return r&&(a=u instanceof Nt?u:o,u=r[0]),$(u)?u(i):g(u)&&(a[u]=i),n}return je(t,e),t}(St),Kt.evaluate=!1,Qt);var Wt=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),Te(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.hide():t.show()}},{key:"beforeRemove",value:function(){this.elem.show()}}]),t}(St);rt["d-hide"]=Wt;var Xt,Yt;rt["d-node"]=(Yt=Xt=function(e){function t(e){Be(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.args,o=n.parentTemplate,i=n.node,a=o,u=n.evaluate();return r&&(a=u instanceof Nt?u:o,u=r[0]),$(u)?u(i):g(u)&&(a[u]=i),n}return je(t,e),t}(St),Xt.evaluate=!1,Yt);var en,tn;rt["d-on"]=(tn=en=function(e){function t(e){Be(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.args?n.off=n.elem.on(n.args.join(","),function(){n.evaluate()}):(n.off=b,console.error('Provide "d-on" mixin with an event names (like "d-on(click)" or "d-on(keyup, keypress)")!')),n}return je(t,e),Te(t,[{key:"beforeRemove",value:function(){this.off()}}]),t}(St),en.evaluate=!1,tn),rt["d-show"]=function(e){function t(){return Be(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return je(t,e),Te(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.show():t.hide()}},{key:"beforeRemove",value:function(){this.elem.show()}}]),t}(St);var nn=/\s*:\s*/;rt["d-style"]=function(e){function n(){var e,t,r,o;Be(this,n);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return t=r=Ne(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),r.css={},o=t,Ne(r,o)}return je(n,e),Te(n,[{key:"afterUpdate",value:function(e,n){var r=this.elem,o=this.args,i=this.css;o&&(e=l(o,function(t,n){t[n]=e})),g(e)&&(e=t(e.split(/\s*;\s*/).filter(Boolean).map(de),me)),f(i,function(t,n){e[n]||r.removeCSS(n)}),r.css(e),this.css=e}},{key:"beforeRemove",value:function(){var e=this.elem,t=this.css;e.removeCSS.apply(e,Ze(t))}}]),n}(St);var rn,on;rt["d-value"]=(on=rn=function(e){function t(e){Be(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.args,o=n.parentTemplate,i=n.elem,a=i.name(),u=i.prop("type"),l=n.evaluate(),c=null;n.prop=$e(a,u,i),n.name=a,n.type=u,n.value=l,n.options=i.find("option"),n.scope=o,r&&(n.scope=l instanceof Nt?l:o,n.value=r[0]),$(n.value)||(c=n.scope.$$.evaluate(function(e){return e[n.value]},function(e){n.currentValue!==e&&(n.currentValue=e,n.setProp(e))},n));var s=n.getProp(c,!0),f=y(c),v="checkbox"===u,h=function(){n.currentValue=n.getProp(n.currentValue,!1),n.changeScope()};return f||v?(n.currentValue=s,n.changeScope(),!f&&v&&n.setProp(c)):(n.currentValue=c,n.setProp(c)),n.offElemListener=i.on(ke(a,u),h),n.offFormListener=i.closest("form").on("reset",function(){setTimeout(h,0)}),n}return je(t,e),Te(t,[{key:"changeScope",value:function(){var e=this.scope,t=this.value,n=this.currentValue;$(t)?t(n):e[t]=n}},{key:"setProp",value:function(e){var t=this.elem,n=this.name,r=this.prop,o=this.type,i=this.node,a=this.options;"text"===r?t.text(e):"multiple-select"===r?a.forEach(function(t){t.selected=-1!==e.indexOf(t.value)}):t.prop(r,ye(n,e,o,i.value))}},{key:"getProp",value:function(e,t){var n=this.elem,r=this.name,o=this.prop,i=this.type,a=this.node,u=this.options;return"text"===o?n.text():ge(r,n.prop(o),i,a.value,e,u,t,"multiple-select"===o)}},{key:"beforeRemove",value:function(){this.offElemListener(),this.offFormListener()}}]),t}(St),rn.evaluate=!1,on),f(nt,function(e){e._vars=e.template.vars,e._html=e.template.value}),f(rt,function(e,t){e._match=q(t)});var an=new kt(ut),un=new kt(ut.documentElement),ln=new kt(ut.body),cn=new kt(ut.head);P(cn),e.Block=Nt,e.Elem=kt,e.Mixin=St,e.doc=an,e.html=un,e.body=ln,e.head=cn,e.find=F,e.insertTemplates=we,e.initApp=he,e.removeApp=_e}(this.Dwayne=this.Dwayne||{});
//# sourceMappingURL=dwayne.min.js.map
