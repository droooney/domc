!function(){"use strict";function e(e){return{}.toString.call(e).replace(/^\[object |]$/g,"")}function t(t){return"Array"===e(t)}function n(e){if(!e||c(e))return!1;var t=e.length;return l(t)&&t>=0}function r(t){return"Boolean"===e(t)}function i(t){return"Date"===e(t)}function o(e){return e=new Date(e),!f(e.getTime())}function a(t){return/Element$/.test(e(t))}function u(e){return!!d(e)&&(e=Number(e),!f(e)&&e!==1/0&&e!==-(1/0))}function c(t){return"Function"===e(t)||"function"==typeof t}function l(e){return d(e)&&e%1===0}function s(e){return e=parseInt(Number(e)),!(!e&&0!==e)}function f(e){return!!d(e)&&(e=Number(e),e!==e)}function h(e){return null===e}function v(e){return null===e||"undefined"==typeof e}function d(t){return"Number"===e(t)}function p(e){return!(!f(e)&&"NaN"!==e)||(e=Number(e),!(!e&&0!==e))}function g(t){return!!t&&("Object"===e(t)||"object"===("undefined"==typeof t?"undefined":xt(t))||t instanceof Object)}function m(e){if(y(e))return!1;var t=Object.getPrototypeOf(e);if(h(t))return!0;var n=t.constructor;return c(n)&&n instanceof n&&h(Object.getPrototypeOf(t))}function y(e){return h(e)||/^(number|string|boolean|symbol|undefined)$/.test("undefined"==typeof e?"undefined":xt(e))}function w(t){return"RegExp"===e(t)}function $(t){return"String"===e(t)}function k(t){return"Symbol"===e(t)}function b(e){return"undefined"==typeof e}function x(e){for(var t=gt.length-1;t>=0;t--)for(var n=gt[t],r=0,i=n.length;r<i;r++){var o=n[r];if(e instanceof o.cls)return e;if(o.check(e))return new o.cls(e)}}function E(e,t){var r=n(e),i={},o=0;for(var a in e)if(!{}.hasOwnProperty.call(i,a)&&(i[a]=!0,{}.hasOwnProperty.call(e,a))){if(r&&o++>=e.length)break;var u=t(e[a],r?Number(a):a,e);if(!b(u))return u}}function O(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E(arguments,function(t,n){n&&E(t,function(t,n){e[n]=t})}),e}function S(e,t,n){E(t,function(t,r){Object.defineProperty(e,t,{value:n(t,r),writable:!0,enumerable:!1,configurable:!0})})}function j(e,t){E(t,function(t,n){return/^get /.test(n)?void Object.defineProperty(e,n.replace(/^get /,""),{get:t,set:void 0,enumerable:!1,configurable:!0}):/^set /.test(n)?void Object.defineProperty(e,n.replace(/^set /,""),{set:t,get:void 0,enumerable:!1,configurable:!0}):/^get\/set /.test(n)?void Object.defineProperty(e,n.replace(/^get\/set /,""),{get:t.get,set:t.set,enumerable:!1,configurable:!0}):void("Symbol.toStringTag"!==n&&Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!1,configurable:!0}))})}function _(e,r){if(t(e)&&!r)return e;var i=[];return n(e)&&!$(e)?E(e,function(e){i.push(e)}):i.push(e),i}function T(e,n,r){E(n,function(n,i){t(n)||(n=[n]),E(n,function(t){if(t=Pt[t],!t.check(e[i]))throw new t.error(t.text.replace("$n",Nt[i])+(r?" (at "+r+")":""))})})}function R(e){return $(e)&&1===e.length}function C(e){T([e],["string"]);for(var t=e.split(/([\s\S]-+[\s\S])?/g),n=t.length,r=[],i=0;i<n;i++){var o=t[i];if(o&&" "!==o){if(/-/.test(o)&&!/[\s\S]-+[\s\S]/.test(o))throw new Error("Wrong part of the string ("+o+")! (in alphabet)");if(/-/.test(o)){var a=o.charCodeAt(0),u=o.charCodeAt(2);if(a>u)throw new Error("Start of the range must be before its end! (in alphabet)");for(var c=0,l=u-a+1;c<l;c++)r.push(String.fromCharCode(a+c))}else 1===o.length&&r.push(o)}}return new Mt(r)}function A(e,t,n){return new(Function.prototype.bind.apply(Ut,[null].concat(Array.prototype.slice.call(arguments))))}function L(e,t,n){return e?t:n}function P(e,t){E(t,function(t,n){return y(e[n])||!{}.hasOwnProperty.call(e,n)?void(e[n]=D(t)):void(y(e[n])||P(e[n],t))})}function D(e){var t=Bt(e,[e,!0]);return t!==e&&E(e,function(e,n){t[n]=D(e)}),t}function N(n,r,o){if(n===r)return!0;if(f(n)&&f(r)&&y(n)&&y(r))return!0;if(f(n)||f(r))return!1;if(y(n)||y(r))return o?n===r:n==r;if(i(n)&&i(r))return n.getTime()===r.getTime();if(i(n)||i(r))return!1;if(w(n)&&w(r))return n.source===r.source&&n.toString().match(/[gimuy]*$/)[0]===r.toString().match(/[gimuy]*$/)[0]&&n.lastIndex===r.lastIndex;if(w(n)||w(r))return!1;if(!m(n)&&!t(n)||!m(r)&&!t(r))return!1;var a=Object.getPrototypeOf(n),u=Object.getPrototypeOf(n);return Object.keys(n).length===Object.keys(r).length&&((!a||!u||e(a.constructor)===e(u.constructor))&&E(n,function(e,t){if(!(t in r&&N(e,r[t],o)))return!1})!==!1)}function M(e,t,n,r){var i=1===n;return E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);if(i||y(e)?!t(e,o,a,u):!M(e,t,n-1,u))return!1})!==!1}function U(e,t,r,i){var o=n(e),a=v(e),u=o?[]:a?e:{},c=1===r;return E(e,function(e,n,a){var l=[{key:n,value:e}].concat(i);if((c||y(e))&&t(e,n,a,l))return void(o?u.push(e):u[n]=e);if(!c){var s=U(e,t,r-1,l);s&&(o?u.push(s):u[n]=s)}}),o?u.length?u:void 0:a?u:Object.keys(u).length?u:void 0}function B(e,t,n,r){var i=1===n;return E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);if(i||y(e)){if(t(e,o,a,u))return u}else{var c=B(e,t,n-1,u);if(c)return c}})||null}function q(e,t,n,r){var i=1===n;E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);i||y(e)?t(e,o,a,u):q(e,t,n-1,u)})}function I(e,t,n,r){var i=1===n;E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);t(e,o,a,u),i||y(e)||I(e,t,n-1,u)})}function F(e){Object.freeze(e),E(e,F)}function W(e,t,r,i){var o=n(e)?[]:v(e)?e:{},a=1===r;return E(e,function(e,n,u){var c=[{key:n,value:e}].concat(i);o[n]=a||y(e)?t(e,n,u,c):W(e,t,r-1,c)}),o}function H(e,t,n,r,i,o){var a=1===n;return E(e,function(e,u,c){if(!i&&(a||y(e))&&!r)return i={IV:e},void(r=!0);var l=[{key:u,value:e}].concat(o);i=a||y(e)?{IV:t(i.IV,e,u,c,l)}:H(e,t,n-1,r,i,l)}),i}function z(e,t,n,r){var i=1===n;return E(e,function(e,o,a){var u=[{key:o,value:e}].concat(r);if(i||y(e)?t(e,o,a,u):z(e,t,n-1,u))return!0})||!1}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){return n[e].apply(n,_(t))}}function G(){}function J(e){return function(t){var n=t[e];return n}}function Q(){return arguments[0]}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+(t-e)*Math.random()}function Y(e,t){if(T([e,t],["intLike","intLike"],"random"),t<=e)throw new Error("The second argument must be greater than the first!","random");return Math.floor(Z(e,t+1))}function X(e,t){return d(e)||d(t)?d(e)?d(t)?f(e)&&f(t)?0:f(e)?-1:f(t)?1:e-t:1:-1:0}function K(e,t){T([e,t],[["intLike",">=0"],"function||!"],"array");for(var n=[],r=0;r<e;r++)n.push(t?t(r):r);return new Zt(n)}function ee(e,t){T([e,t],[["intLike",">=0"],"function"],"iterate");for(var n=0;n<e;n++)t(n)}function te(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(e)||(e=[e]),new en(new Blob(e,n))}function ne(e){return e.replace(/^[\s\-_.]+|[\s\-_.]+$/g,"")}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(arguments.length<=1)return x(JSON.parse(e));c(t)&&(n=t,t={});var r=t,i=r.numbers,o=r.dates,a=JSON.parse(e,function(e,t){return o&&/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ?$/.test(t)?t=new Date(t):i&&p(t)&&$(t)&&(t=Number(t)),n?n.apply(this,arguments):t});return x(a)}function ie(e,t){var n=t.name,r=void 0;r=fn(n)?new qt({"tag-close":e.match(oe(n))}):an.map(function(t){return e.match(t)});var i=void 0;if(i=r.find(function(e){return e&&0===e.index})){var o={type:i.key,index:i.value[0].length,value:i.value[1]},a={};if("tag-open"===i.key){var u=e,c=void 0;for(o.selfClosing=!1,o.attrs=a;(e=u.slice(o.index))&&!(c=e.match(un));){var l=e.match(cn);l?(a[l[1]]=(l[2]||"").replace(/^("|')|("|')$/g,""),o.index+=l[0].length):o.index+=1}c&&(o.index+=c[0].length,o.selfClosing=!!c[1])}return o}var s=r.min(function(e){return e?e.index:NaN}),f=s.value;return f===1/0&&(f=e.length),{type:"text",index:f,value:e.slice(0,f)}}function oe(e){return new RegExp("</("+e+")\\s*>","i")}function ae(e,t){return t+' (~~~ "'+e.slice(t,t+15)+'" ~~~, the string itself is "'+e+'")'}function ue(e){return e.replace(/&(\w+|#x?\d+);/g,function(e){return ln.innerHTML=e,ln.textContent||ln.innerText})}function ce(e){return le(e)?e:($(e)&&(e=ye(e)),new Ln(e))}function le(e){return e instanceof Ln}function se(t){return"Window"===e(t)}function fe(t){return"HTMLDocument"===e(t)}function he(t){return"DocumentFragment"===e(t)}function ve(t){return"CSSStyleRule"===e(t)}function de(t){var n=e(t);return"Comment"===n||"Text"===n}function pe(e){return a(e.$[0])?e.$[0]:gn}function ge(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||""}function me(e){({}).hasOwnProperty.call(e,"dwayneData")||se(e)?se(e)&&!kn.some(function(t){var n=t.element;return n===e})&&kn.push({element:e,listeners:{}}):Object.defineProperty(e,"dwayneData",{value:{previousDisplay:"",listeners:{},ctx:"canvas"===ge(e)&&e.getContext("2d"),validators:new Zt([])}})}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;return new Ln(a(t)||fe(t)?t.querySelectorAll(String(e)):[])}function we(e,t){var n=dn(e,t),r=Dn.template(),i=new Ln(r.$[0].content);return n.forEach(function e(t){var n=t.name,r=t.attrs,o=t.value,a=t.parent,u=t.children,c=a.elem||i,l=c.create(n);t.elem=l,o&&l.text(o),r&&l.attr(r),"template"===n&&(t.elem=new Ln(l.prop("content"))),u&&u.forEach(e)}),new Ln(i)}function $e(e){return Number(String(e).replace(/px$/,""))}function ke(e){var t=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.elems=null,i=n,Ct(r,i)}return Tt(t,e),Ot(t,[{key:"afterConstruct",value:function(){var e=this.$$.parent.children,t=this.args.name,n=void 0;t?(n=e.find(function(e){var n=e.name;return n==="d-block-"+t}),n&&n.value.children.length&&(this.elems=n.value.children)):this.elems=e}}]),t}(e);return t.template='<d-elements value="{elems}" />',{name:"d-block",value:t}}function be(e,t){var n=function(e){function n(e){Et(this,n);var t=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),r=t.args,i=r.item,o=void 0===i?"$item":i,a=r.index,u=void 0===a?"$index":a;return O(t.$$,{uids:new qt({}),items:new Zt([]),UID:String(t.args.uid),itemName:o,indexName:u}),t}return Tt(n,e),Ot(n,[{key:"afterRender",value:function(){var e=this;this.constructValues(this.args.set),this.watchArgs("set",function(t){e.constructValues(t)})}},{key:"constructValues",value:function(e){var n=this,r=this.$$,i=r.elems,o=i.start,a=i.parent,u=r.uids,c=r.parent,l=r.scope,s=r.itemName,f=r.indexName,h=r.UID,v=this.children,d=u.$,p={},g={};new qt(e).forEach(function(e,t){l[s]=e,l[f]=t;var r=c.$$.evaluate(String(h),null,null,!1,!1,n);p[r]=p[r]||{},p[r][t]=!0,g[t]=r}),l[s]=null,l[f]=null,u.forEach(function(e,t){return p[t]?void e.splice(Object.keys(p[t]).length).forEach(function(e){e.remove()}):void e.forEach(function(e){e.remove()})});var m=o;new qt(e).forEach(function(e,r){var i=g[r],o=void 0;d[i]&&d[i].length?(o=p[i][r]=u.$[i].shift(),o.$$.scope[f]=r,o.$$.scope[s]=e):o=p[i][r]=t({node:{itemName:s,indexName:f,item:e,index:r,name:"#d-item",block:c,children:v},after:m,parent:a,parentBlock:n,parentScope:c});var l=o.$$.elems,h=l.start,y=l.end;if(h.prev().$[0]!==m.$[0]){var w=o.$$.elems.content;new Ln([h,w,y]).insertAfter(m)}m=y}),this.$$.uids=new qt(p).map(function(e){return new qt(e).values()})}}]),n}(e);return{name:"d-each",value:n}}function xe(e,t){var n=function(n){function r(){return Et(this,r),Ct(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return Tt(r,n),Ot(r,[{key:"afterConstruct",value:function(){var n=this;this.watchArgs("value",function(r){var i=n.$$,o=i.children,a=i.mixins,u=i.watchersToRemove,c=i.elems,l=c.start,s=c.content,f=c.parent,h=l;o.forEach(function(e){e.remove(!0)}),a.forEach(function(e){e.remove(!0)}),s.remove(),n.$$.children=new Zt([]),n.$$.mixins=new Zt([]),n.$$.watchersToRemove=u.filter(function(e){var t=e.watchers,n=e.watcher,r=e.forDElements;if(r)return!0;var i=t.indexOf(n);i!==-1&&t.splice(i,1)});var v=new Ln;new Zt(r||[]).forEach(function(r){var i=t({node:r,after:h,parent:f,parentBlock:n,parentScope:n});if(i instanceof e){var o=i.$$.elems;h=o.end,v.add(o.start,o.content,o.end)}else h=i,v.add(i)}),n.$$.elems.content=v})}}]),r}(e);return{name:"d-elements",value:n}}function Ee(e){var t=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.index=1/0,r.elems=null,r.values=r.children.map(function(e,t){var n=e.name,i=e.attrs,o=e.children,a=r.evaluateAndWatch("d-else"===n?"{true}":i.if||"{true}",function(e){if(!!e!==r.values.$[t]&&(r.values.$[t]=!!e,!(t>r.index))){if(t<r.index)return r.index=t,void(r.elems=o);var n=r.values.find(Boolean);n?(r.index=n.key,r.elems=r.children.$[n.key].children):(r.index=1/0,r.elems=null)}});return a&&r.index===1/0&&(r.index=t,r.elems=o),a}),i=n,Ct(r,i)}return Tt(t,e),t}(e);return t.template='<d-elements value="{elems}"/>',{name:"d-if",value:t}}function Oe(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),t}(e);return t.template='<d-elements value="{children}"/>',{name:"#d-item",value:t}}function Se(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.index=1/0,n.elems=null;var r=n.args,i=n.args.value,o=void 0;return n.values=n.children.object(function(e,t,a){var u=t.name,c=t.attrs,l=t.children;if(!o&&("d-case"===u||"d-default"===u)){"d-default"===u&&(o=!0);var s=void 0;s="d-default"===u?r.value:n.evaluateAndWatch(c.if||"{undefined}",function(e){if(!(n.equals(n.values.$[a].value,e)||(n.values.$[a].value=e,a>n.index))){if(a<n.index)return n.index=a,void(n.elems=l);var t=n.values.find(function(e){var t=e.value;return n.equals(t,r.value)});t?(n.index=t.key,n.elems=t.value.children):(n.index=1/0,n.elems=null)}}),n.equals(s,i)&&n.index===1/0&&(n.index=a,n.elems=l),e.push({name:u,children:l,value:s})}},new Zt([])),n}return Tt(t,e),Ot(t,[{key:"afterConstruct",value:function(){var e=this;this.watchArgs("value",function(t){e.index=1/0,e.values.forEach(function(n,r){var i=n.name,o=n.value,a=n.children,u="d-default"===i?t:o;e.equals(u,t)&&e.index===1/0&&(e.index=r,e.elems=a)})})}},{key:"equals",value:function(e,t){return new qt(e).equals(t)}}]),t}(e);return t.template='<d-elements value="{elems}"/>',{name:"d-switch",value:t}}function je(e){var t=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.text="",i=n,Ct(r,i)}return Tt(t,e),Ot(t,[{key:"afterConstruct",value:function(){var e=this;this.text=v(this.args.value)?"":this.args.value,this.watchArgs("value",function(t){e.text=v(t)?"":t})}}]),t}(e);return t.template="<d-elements value=\"{[{ name: '#text', value: text }]}\"/>",{name:"d-text",value:t}}function _e(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e,t){var n=this.elem;e=new qt(e).$,new qt(t).forEach(function(t,r){e[r]||n.removeAttr(r)}),n.attr(e)}}]),t}(e);return{name:"d-attr",value:t}}function Te(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){this.off&&this.off(),c(e)&&(this.off=this.elem.on(this.match[0],e))}}]),t}(e);return{name:"d-bind",value:t}}function Re(e){var n=function(e){function n(){return Et(this,n),Ct(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return Tt(n,e),Ot(n,[{key:"afterUpdate",value:function(e,n){var r=this.elem;e=new qt(e).$,n=new qt(n).$,t(e)?(E(n,function(t){$(t)&&!e[t]&&r.removeClass(t)}),E(e,function(e){$(e)&&r.addClass(e)})):$(e)?($(n)&&r.removeClass(n),r.addClass(e)):g(e)?(E(n,function(t,n){t&&!e[n]&&r.removeClass(n)}),E(e,function(e,t){e&&r.addClass(t)})):$(n)?r.removeClass(n):t(n)?E(n,function(e){$(e)&&r.removeClass(e)}):g(n)&&E(n,function(e,t){e&&r.removeClass(t)})}}]),n}(e);return{name:"d-class",value:n}}function Ce(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e,t){var n=this.$$.parent;e!==t&&$(t)&&delete n[t],$(e)&&(n[e]=this.elem)}}]),t}(e);return{name:"d-elem",value:t}}function Ae(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.hide():t.show()}}]),t}(e);return{name:"d-hide",value:t}}function Le(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.elem.on(n.match[0],function(){n.evaluateOnce()}),n}return Tt(t,e),t}(e);return t.evaluate=!1,{name:"d-on",value:t}}function Pe(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){var t=this.elem;e?t.show():t.hide()}}]),t}(e);return{name:"d-show",value:t}}function De(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e,t){var n=this.elem;e=new qt(e).$,new qt(t).forEach(function(t,r){e[r]||n.removeCSS(r)}),n.css(e)}}]),t}(e);return{name:"d-style",value:t}}function Ne(e){var t=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"afterUpdate",value:function(e){this.elem.text(v(e)?"":""+e)}}]),t}(e);return{name:"d-text",value:t}}function Me(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.elem,i=n.evaluateOnce();return c(i)&&r.validate(i),n}return Tt(t,e),t}(e);return t.evaluate=!1,{name:"d-validate",value:t}}function Ue(e){var t=function(e){function t(e){Et(this,t);var n=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.$$,i=r._value,o=r.parent,a=n.elem,u=a.prop("type");n.prop=Fn(a.name,[u,a]),n.type=u;var c=o.$$.evaluate("{"+i+"}",function(e){n.setProp(e)},n),l=n.getProp(c);return v(c)||"checkbox"===u?o[i]=l:n.setProp(c),a.on(zn(a.name,[u]),function(e){e.target===a.$[0]&&(o[i]=n.getProp(o[i]))}),n}return Tt(t,e),Ot(t,[{key:"setProp",value:function(e){var t=this.elem,n=this.prop,r=this.type;"text"===n?t.text(e):t.prop(n,Wn(t.name,[e,r,t.$[0].value]))}},{key:"getProp",value:function(e){var t=this.elem,n=this.prop,r=this.type;return"text"===n?t.text():Hn(t.name,[t.prop(n),r,t.$[0].value,e])}}]),t}(e);return t.evaluate=!1,{name:"d-value",value:t}}function Be(){var e=ye("d-root").first();if(!e.length)throw new Error("No d-root element is found! (initApp)");qe(ar,Gn),E(ur,function(e,t){if("evaluate"!==t){if(!c(e))return void console.warn('The "'+t+'" mixin is not a function and will not be registered (initApp)');if(!Yn.test(t))return void console.warn('Name "'+t+'" is not allowed for mixins so the mixin will not be registered (initApp)');if(!Ge(e))return void console.warn('The "'+t+'" mixin does not extend Mixin and will not be registered (initApp)');Jn[t]=e,j(e,{_match:new RegExp("^"+t+"(?:-([\\s\\S]+))?$")})}});var t=e.attr("block");if(!Gn[t])throw new Error('No "'+t+'" block is registered! (initApp)');var n=Dn.createComment(" d-root: start "),r=e.parent();n.add(Dn.createComment(" d-root: end ")),e.replace(n),Fe({node:{name:t,attrs:{},children:new Zt([])},after:n.first(),parent:r})}function qe(e,t){E(e,function(e,n){if("collapseWhiteSpace"!==n&&"defaultArgs"!==n&&"template"!==n&&"wrap"!==n){if(!c(e))return void console.warn('The "'+n+'" block is not a function and will not be registered (initApp)');if(!Zn.test(n)&&"#d-item"!==n)return void console.warn('Name "'+n+'" is not allowed for blocks so the block will not be registered (initApp)');if(!Ve(e))return void console.warn('The "'+n+'" block does not extend Block and will not be registered (initApp)');var r=Object.create(t);t[n]={block:e,html:He(dn(""+(e.template||""),e.collapseWhiteSpace)),children:r},qe(e,r)}})}function Ie(e,t){E(e,function(e){var n=e(t,Fe),r=n.name,i=n.value;Object.defineProperty(t,r,{value:i,enumerable:!0})})}function Fe(e){var t=e.node,n=e.after,r=e.parent,i=e.parentBlock,o=e.parentScope;o=t&&t.block||o;var a=t&&t.name||"UnknownBlock",u=t&&t.attrs||{},c=t&&t.children||new Zt([]),l=r.prop("namespaceURI")===tr?Dn.svg():new Ln(Dn.template().$[0].content),s=o?o.$$.Block.children:Gn,f=t&&t.name&&s[t.name]?s[t.name].block:null,h=void 0;if(!c.length&&(h=a.match(/^d-block-([\s\S]+)$/)||"d-block"===a)&&(f=Gn["d-block"].block,u.name=h?h[1]:null),!f){var d=function(){var e=t.value,c=t.children;if("#text"===a&&Xn.test(e))return{v:Fe({node:{name:"d-text",attrs:{value:e},children:new Zt([]),block:o},after:n,parent:r,parentBlock:i,parentScope:o})};var s=l.create(a),f=new Zt([]),h=new qt(u).object(function(e,t,n){var r=E(Jn,function(e,t){var r=n.match(e._match);if(r)return{match:r,name:t}});return r?void f.push({name:r.name,match:r.match,value:t,elem:s,parentBlock:i,parentScope:o}):void(e[n]=o.$$.evaluate(t,function(e){s.attr(n,e)},i))}).$;return v(e)||s.text(e),h&&s.attr(h),n.length?s.insertAfter(n):s.into(r),n=new Ln,c&&ze(c).forEach(function(e){var t=Fe({node:e,after:n,parent:s,parentBlock:i,parentScope:o});n=t instanceof ar?t.$$.elems.end:t}),f.forEach(function(e){We(e)}),{v:s}}();if("object"===("undefined"==typeof d?"undefined":xt(d)))return d.v}var p=t&&t.name?s[t.name]:null,g=new f({name:a,args:u,children:c,block:p,parent:r,parentBlock:i,parentScope:o});Object.defineProperties(g,{args:{value:g.args},global:{value:g.global}});var m="d-elements"===a?new Zt(g.args.value||[]):He(p.html,g);"d-elements"===a&&"#d-item"===i.$$.name&&(m=He(m,i));var y=g.$$,w=g.args,$=g.global,k=Rt(g,["$$","args","global"]),b=jt({},f.defaultArgs,w);if(delete k.$,delete k.$$,y.args=Qe(b),y.locals=Qe(k),y.global=Qe($,"global",o),"#d-item"===a){for(var x,O=(x={},St(x,t.itemName,t.item),St(x,t.indexName,t.index),x),S=g,j=o,_=void 0;!_&&(S=S.$$.parentBlock);)_="#d-item"===S.$$.name;_&&(j=S.$$.scope),y.Block=o.$$.Block,y.privateScope=Qe(O),Ze(y.scope=Object.create(j),O,y.privateScope)}"d-each"===a&&(y.scope=Object.create(o)),Ze(w,b,y.args),Ze($,$,y.global),Ze(g,k,y.locals);try{g.afterConstruct()}catch(e){console.error("Uncaught error in "+a+"#afterConstruct:",e)}var T=new Ln([y.elems.start,y.elems.end]);n.length?T.insertAfter(n):T.into(r),n=y.elems.start,ze(m).forEach(function(e){var t=Fe({node:e,after:n,parent:r,parentBlock:g,parentScope:o});if(t instanceof ar){var i=t.$$.elems;n=i.end,y.elems.content.add(i.start,i.content,i.end)}else n=t,y.elems.content.add(t)});try{g.afterRender()}catch(e){console.error("Uncaught error in "+a+"#afterRender:",e)}return g}function We(e){var t=e.name,n=e.value,r=e.match,i=e.elem,o=e.parentBlock,a=e.parentScope,u=Jn[t];new u({value:n,match:r,elem:i,parentBlock:o,parentScope:a})}function He(e,t){return new Zt(e||[]).map(function(e){var n=e.name,r=e.attrs,i=e.value,o=e.children,a={name:n,value:i,attrs:jt({},r)};return t&&(a.block=t),o&&(a.children=He(o,t)),a})}function ze(e){return new Zt(e||[]).concat({}).object(function(e,t){var n=t.name,r=e.html,i=e.ifElse;"d-else-if"!==n&&"d-else"!==n?(i&&(r.push({name:"d-if",block:i.$[0].block,children:i}),e.ifElse=null),"d-if"===n?e.ifElse=new Zt([t]):b(n)||r.push(t)):((i||r).push(t),"d-else"===n&&i&&(r.push({name:"d-if",block:i.$[0].block,children:i}),e.ifElse=null))},{html:new Zt([]),ifElse:null}).$.html}function Ve(e){return Qn.call(ar,e)&&Qn.call(ar.prototype,e.prototype)}function Ge(e){return Qn.call(ur,e)&&Qn.call(ur.prototype,e.prototype)}function Je(e){e.forEach(function(e){var t=e.watcher,n=e.watchers,r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Qe(e,t,n){var r={};return"global"===t&&(r=Object.create(n?n.$$.global:null)),new qt(e).object(function(e,t,n){e[n]={value:t,watchers:{temp:new Zt([]),perm:new Zt([])}}},r).$}function Ze(e,t,n){new qt(e).define(new qt(t).map(function(e,t){var r=n[t];return{get:function(){return rr&&ir.indexOf(r.watchers.temp)===-1&&ir.push(r.watchers.temp),r.value},set:function(e){if(e!==r.value){or||(or=[]);var t=r.watchers.temp.slice(),n=r.value;r.watchers.temp=new Zt([]),r.value=e,t.forEach(function(e){e.onRemove(),e()}),or.push({scope:r,oldValue:n,value:e}),setTimeout(function(){if(or){for(var e=new Zt([]);or.length;)for(var t=function(t){var n=or[t],r=n.scope,i=n.value,o=n.oldValue;r.watchers.perm.forEach(function(t){e.indexOf(t)===-1&&(t(i,o),e.push(t))}),or.splice(t,1)},n=or.length-1;n>=0;n--)t(n);or=null}},0)}}}}).$)}function Ye(e,t){var n=String(e),r=t-n.length;return r=r<0?0:r,cr.repeat(r).$+n}function Xe(){return Date.now()}function Ke(e){return arguments.length?(e=new qt(e).$,new mr(new Date(e))):new mr(new Date(Xe()))}function et(e){return yr.test(e)}function tt(e,t){return t?encodeURIComponent(e):e}function nt(e){var t=e.baseURL,n=e.data,r=e.headers,i=e.method,o=e.params,a=e.query,u=e.url,c=i.toUpperCase();e.method=c,e.url=$r(t,u,o,a),e.data=Er(n,c,r),e.headers=new qt(r).object(function(e,t,n){n=new rn(n).toCapitalCase().replace(/\s+/g,"-").$,e[n]=t.join(", ")}).$}function rt(){if(!qr){if(qr=!0,Vr=(Ar.find(function(e){var t=e.name;return t===zr})||{}).value,Jr=(Ar.find(function(e){var t=e.name;return t===Gr})||{}).value,zr&&!Vr)throw new Error('There is no specified fallback route ("'+zr+'")! (at initRouter)');Ar.forEach(function(e){var t=e.parentName,n=e.name,r=t||Hr,i=Ar.find(function(e){var t=e.name;return t===r})||{},o=i.value;if(!o)throw new Error('No such parent route ("'+r+'") found for the route ("'+n+'")! (at initRouter)');if(!o.abstract&&n!==Hr)throw new Error('Parent route must be abstract (for "'+n+'")! (at initRouter)');n!==Hr&&(e.parentName=r),e.parent=n===Hr?Kr:o}).forEach(function(e){var t=e.name,n=e.parent,r=n.params,i=n.query,o=n.path,a=e.params,u=e.query,c=e.relativeURL,l=e.relativePath,s=e,f=0,h=l,v="";if(w(o))throw new Error("URL regexp route cannot be extended! (at initRouter)");for(;s=s.parent;)f+=new qt(s.params).count,h=s.relativePath+h,v=s.relativeURL+v,s.children.push(e);if(h=new RegExp("^"+(h.replace(/\/+/g,"/").replace(/\/$/,"")||"/")+"$"),v=w(c)?h:(v+c).replace(/\/+/g,"/").replace(/\/$/,"")||"/",new qt(u).proto(i),new qt(a).proto(r).forEach(function(e,t,n){n[t]+=f}),t===Gr&&(new qt(a).count||new qt(u).count))throw new Error("Default route must not have URL or query params! (at initRouter)");e.url=v,e.validatePath=h}),ut(),Pn.on({popstate:function(){Nr.href!==Br&&(Ir=!0),Ir&&ut()},click:function(e){var t=new Ln(e.target).closest("a");t.length&&"_blank"!==t.attr("target")&&(e.preventDefault(),at(t.attr("href")||"",!0))}})}}function it(e){function t(e){if(e.beforeLoadRoute&&!h)try{e.beforeLoadRoute()}catch(e){console.error("Uncaught error in "+i+"#beforeLeave:",e)}h=!0}function n(e){if(e.beforeLeaveRoute&&h)try{e.beforeLeaveRoute()}catch(e){console.error("Uncaught error in "+i+"#beforeLeave:",e)}h=!1}var r=e||{},i=r.name,o=r.path,a=r.abstract,u=r.root,c=r.fallbackTo,l=r.default;if(qr)return console.warn("Router was already initialized (at makeRoute)"),Q;if(Fr&&u)throw new Error("There can't be two root routes (\""+Hr+'" and "'+i+'")! (at makeRoute)');if(Wr&&l)throw new Error("There can't be two default routes (\""+Gr+'" and "'+i+'")! (at makeRoute)');if(!i)throw new Error('State must have a non-empty string "name" property! (at makeRoute)');if(Ar.some(function(e){var t=e.name;return t===i}))throw new Error('State must have unique "name" property! (at makeRoute)');if(u&&(Fr=!0,Hr=i,e.parent=null,c&&(zr=c)),l){if(Wr=!0,Gr=i,a)throw new Error("Default route can't be abstract! (at makeRoute)");if(w(o))throw new Error("Default route can't have a regexp path! (at makeRoute)")}var s=new Xr(e);Ar.push(s);var f=void 0,h=void 0;return function(e){var r,o;return o=r=function(e){function r(e){Et(this,r);var o=Ct(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return u&&!function(){rt();var e={buildURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ar.find(function(t){var n=t.name;return n===e})||{},r=n.value;if(!r)throw new Error('There are no routes with name "'+e+'"! (at router.buildURL)');var i=r.url,o=r.encodeParams,a=r.encodeQuery;if(w(i))throw new Error("URL can be built only from the string URLs! (at router.buildURL)");var u=t.params,c=void 0===u?{}:u,l=t.query,s=void 0===l?{}:l,f=t.hash,h=void 0===f?"":f;return $r(Ur,i,c,s,h,{params:o,query:a})},go:function(t,n){at(e.buildURL(t,n),!0)},goToURL:function(e){at(e,!0)},pushURL:function(e){st(e,!0)},redirect:function(t,n){at(e.buildURL(t,n))},redirectToURL:function(e){at(e)},replaceURL:function(e){st(e)}};o.global.router=e}(),o.__isCurrentRoute__=s===Qr||s.children.indexOf(Qr)!==-1,o.args.route=Zr,h=!1,f=ot(i,function(){var e=s===Qr||s.children.indexOf(Qr)!==-1;e?t(o):n(o),o.args.route=Zr,o.__isCurrentRoute__=e}),o.__isCurrentRoute__&&t(o),o}return Tt(r,e),Ot(r,[{key:"beforeRemove",value:function(){f(),f=null,n(this),_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"beforeRemove",this).call(this)}}]),r}(e),r.template='<div class="dwayne-route route-'+i+'" d-show="{__isCurrentRoute__}">'+e.template+"</div>",o}}function ot(e,t){return Lr.$[e]=t,function(){Lr.delete(e)}}function at(e,t){st(e,t),ut()}function ut(){var e=ct();if(e){var t=e;Qr=t.route,Zr=Rt(t,["route"]),O(Zr,{name:Qr.name,host:Nr.host,hostname:Nr.hostname,href:Nr.href,origin:Nr.origin,pathname:Nr.pathname,port:Nr.port,protocol:Nr.protocol,search:Nr.search})}else{if(zr){var n=Vr,r=n.url,i=n.encodeParams,o=n.encodeQuery;return at($r(Ur,r,{},{},"",{params:i,query:o}))}Qr=null,Zr=null}Lr.forEach(function(e){return e()})}function ct(){var e=Nr.pathname||"/",t=Nr.search||"",n=void 0;return Ar.some(function(r){if(!r.abstract){var i=r.url,o=r.validatePath,a=r.params,u=r.query,c=r.decodeParams,l=r.decodeQuery,s=Cr(l),f=new qt(s.query),h={},v=((e.replace(/\/$/,"")||"/")+(w(i)?t:"")).match(o);if(v){for(var d in u)if(!f.hasOwn(d)||!u[d].test(f.$[d]))return;v.shift();for(var p in a)h[p]=lt(v[a[p]],c);return n={route:r,params:h,query:f.$,hash:s.hash},!0}}}),n?n:Gr?jt({route:Jr,params:{}},Cr(Jr.decodeQuery)):void 0}function lt(e,t){return t?decodeURIComponent(e):e}function st(e,t){try{Dr[t?"pushState":"replaceState"](null,null,e),Ir=!0}catch(t){Nr.href=e}}function ft(e,t,n){var r=e.match(/^[a-z_$]+/i);if(!r)throw new Error(t);var i=r[0],o=e.slice(i.length),a=void 0;if(o&&(o.indexOf("(")||o.indexOf(")")!==o.length-1))throw new Error(n);return o&&(a=new RegExp(o.slice(1,-1))),{name:i,regexp:a}}var ht="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vt={"#":function(e,t){e.id(t)},".":function(e,t){e.addClass(t)},$:function(e,t,n){e.attr(t,n)},"@":function(e,t,n){e.css(t,n)},"&":function(e,t,n){e.html(n)},"*":function(e,t,n){e.text(n)},"-":{".":function(e,t){e.removeClass(t)},$:function(e,t){e.removeAttr(t)},"@":function(e,t){e.removeCSS(t)}}},dt=["createImageData","createLinearGradient","createPattern","createRadialGradient","getImageData","getLineDash","isPointInPath","isPointInStroke","measureText"],pt=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","resetTransform","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],gt=[[],[],[]],mt=["a","abbr","address","area","article","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","content","datalist","dd","del","details","dfn","dialog","div","dl","dt","element","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","ins","kbd","label","legend","li","link","main","mark","menu","menuitem","meta","meter","nav","noscript","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],yt=["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hatch","hatchpath","hkern","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","style","svg","switch","symbol","textPath","tref","tspan","unknown","use","view","vkern"],wt=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],$t="[a-z][a-z\\d\\-_.:!@#\\$%\\^&*()\\[\\]{}\\\\='\"]*",kt="[^\\u0000-\\u0020\\s\"'>/=]+",bt=[".","+","*","?","(",")","[","]","{","}","<",">","^","$","!","=",":","-","|",",","\\"],xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),St=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},Tt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Rt=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Ct=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},At=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Lt=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Pt={">0":{check:function(e){return e>0},text:"$n argument must be positive!",error:RangeError},">=0":{check:function(e){return e>=0},text:"$n argument must be non-negative!",error:RangeError},"<0":{check:function(e){return e<0},text:"$n argument must be negative!",error:RangeError},"<=0":{check:function(e){return e<=0},text:"$n argument must be non-positive!",error:RangeError},"!!":{check:function(e){return!v(e)},text:"$n argument must be not null or undefined!",error:TypeError},array:{check:t,text:"$n argument must be an array!",error:TypeError},"array||!":{check:function(e){return t(e)||v(e)},text:"$n argument must be an array, or undefined, or null!",error:TypeError},arrayLike:{check:n,text:"$n argument must be array-like!",error:TypeError},"arrayLike||!":{check:function(e){return n(e)||v(e)},text:"$n argument must be array-like, or undefined, or null!",error:TypeError},date:{check:i,text:"$n argument must be a date!",error:TypeError},"date||!":{check:function(e){return i(e)||v(e)},text:"$n argument must be a date, or undefined, or null!",error:TypeError},dateLike:{check:o,text:"$n argument must be date-like!",error:TypeError},"dateLike||!":{check:function(e){return o(e)||v(e)},text:"$n argument must be date-like, or undefined, or null!",error:TypeError},function:{check:c,text:"$n argument must be a function!",error:TypeError},"function||!":{check:function(e){return c(e)||v(e)},text:"$n argument must be a function, or undefined, or null!",error:TypeError},int:{check:l,text:"$n argument must be an integer!",error:TypeError},"int||!":{check:function(e){return l(e)||v(e)},text:"$n argument must be an integer, or undefined, or null!",error:TypeError},intLike:{check:s,text:"$n argument must be integer-like!",error:TypeError},"intLike||!":{check:function(e){return s(e)||v(e)},text:"$n argument must be integer-like, or undefined, or null!",error:TypeError},number:{check:d,text:"$n argument must be a number!",error:TypeError},"number||!":{check:function(e){return d(e)||v(e)},text:"$n argument must be a number, or undefined, or null!",error:TypeError},numberLike:{check:p,text:"$n argument must be number-like!",error:TypeError},"numberLike||!":{check:function(e){return p(e)||v(e)},text:"$n argument must be number-like, or undefined, or null!",error:TypeError},object:{check:g,text:"$n argument must be an object!",error:TypeError},"object||!":{check:function(e){return g(e)||v(e)},text:"$n argument must be an object, or undefined, or null!",error:TypeError},regexp:{check:w,text:"$n argument must be a regular expression!",error:TypeError},"regexp||!":{check:function(e){return w(e)||v(e)},text:"$n argument must be a regular expression, or undefined, or null!",error:TypeError},string:{check:$,text:"$n argument must be a string!",error:TypeError},"string||!":{check:function(e){return $(e)||v(e)},text:"$n argument must be a string, or undefined, or null!",error:TypeError}},Dt=ht.Symbol||{toStringTag:"Symbol.toStringTag",iterator:Math.random().toString(36)},Nt=["1st","2nd","3rd","4th","5th","6th","7th"],Mt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Et(this,e);for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];if(!R(o))throw new Error("Each element of an array must be a single char! (in Alphabet)");n[o]=o}Object.defineProperty(this,"$$",{value:n})}return Ot(e,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(!R(o))throw new Error("Each argument must be a single char! (in Alphabet#add)");this.$$[o]=o}return this}},{key:"contains",value:function(e){T([e],["string"],"Alphabet#contains");for(var t=this.$$,n=0,r=e.length;n<r;n++)if(!t[e[n]])return!1;return!0}},{key:"delete",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(!R(o))throw new Error("Each argument must be a single char! (in Alphabet#delete)");delete this.$$[o]}return this}},{key:"get",value:function(){return Object.keys(this.$$)}},{key:"token",value:function e(t){T([t],[["intLike",">0"]],"Alphabet#token");for(var n=Object.keys(this.$$),r=n.length,e="",i=0;i<t;i++)e+=n[Math.floor(Math.random()*r)];return e}}]),e}();j(Mt.prototype,St({},Dt.toStringTag,"Alphabet"));var Ut=function(e){function n(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.$$,i=r.mode,o=r.default,a=r.cases,u=E(a,function(e){var n=e.value,r=e.case;if("boolean"===i&&r||"equals"===i&&r==t||"strictEquals"===i&&r===t||"call"===i&&r(t))return{case:r,value:n}});return b(u)&&(u={value:o}),c(u.value)?(n=_(n,!0),n.push(t,u.case),u.value.apply(null,n)):u.value}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"equals",o=arguments[2];Et(this,n);var a=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));$(r)&&(b(arguments[1])||(o=i),i=r,r={});var u=[];return E(r,function(e,t){u.push({case:t,value:e})}),Object.defineProperty(e,"$$",{value:{cases:u,mode:i,default:o}}),Object.setPrototypeOf(e,n.prototype),t=e,Ct(a,t)}return Tt(n,e),Ot(n,[{key:"case",value:function(e,n){var r=this;return t(e)||(e=[e]),E(e,function(e){r.$$.cases.push({case:e,value:n})}),this}},{key:"default",value:function(e){return this.$$.default=e,this}},{key:"mode",value:function(e){return this.$$.mode=e,this}}]),n}(Function);j(Ut.prototype,St({},Dt.toStringTag,"Switcher"));var Bt=A("call",function(e){return e}).case(function(e){return new qt(e)===e},function(e){return new(Object.getPrototypeOf(e).constructor)(new qt(e.$).deepClone().$)}).case(a,function(e,t){return e.clone(t)}).case(i,function(e){return new Date(e)}).case(w,function(e){return new RegExp(e.source,e.toString().match(/[gimuy]*$/)[0])}).case(t,function(){return[]}).case(m,function(){return{}}),qt=function(){function r(e){return Et(this,r),e instanceof r?e:void Object.defineProperty(this,"$",{value:e})}return Ot(r,[{key:"assign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.$;return E(i&&arguments,function(e){E(new r(e).$,function(e,t){i[t]=e})}),this}},{key:"average",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#average"),this.sum(e)/this.count}},{key:"call",value:function(e){T([e],["function"],"Super#call");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}},{key:"clone",value:function e(){var t=this.$,e=Bt(t,[t,!1]);return e!==t&&E(t,function(t,n){e[n]=t}),new this.constructor(e)}},{key:"create",value:function(e){return x(y(this.$)?void 0:Object.create(this.$,e))}},{key:"deepAssign",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.$;return y(r)?this:(E(arguments,function(e){P(r,e)}),this)}},{key:"deepClone",value:function(){return new this.constructor(D(this.$))}},{key:"deepEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return N(this.$,e,!1)}},{key:"deepEvery",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepEvery"),t=Number(t),M(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepFilter",value:function(e,t){1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepFilter");var n=U(this.$,e,t,[{key:null,value:this.$}]);return x(v(n)?n:n||{})}},{key:"deepFind",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepFind"),B(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepForEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),q(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepForEachEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepForEach"),t=Number(t),I(this.$,e,t,[{key:null,value:this.$}]),this}},{key:"deepFreeze",value:function(){return F(this.$),this}},{key:"deepMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return T([e,t],["function",["numberLike",">0"]],"Super#deepMap"),t=Number(t),x(W(this.$,e,t,[{key:null,value:this.$}]))}},{key:"deepReduce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments[2];T([e,t],["function",["numberLike",">0"]],"Super#deepReduce"),t=Number(t);var r=this.$,i=[{key:null,value:this.$}];return arguments.length<3?H(r,e,t,!1,void 0,i).IV:H(r,e,t,!1,{IV:n},i).IV}},{key:"deepSome",value:function(e,t){return 1!==arguments.length||c(e)?1===arguments.length?t=1/0:arguments.length||(t=1/0,e=Boolean):(t=e,e=Boolean),T([e,t],["function",["numberLike",">0"]],"Super#deepSome"),t=Number(t),z(this.$,e,t,[{key:null,value:this.$}])}},{key:"deepStrictEquals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return N(this.$,e,!0)}},{key:"define",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),e=new r(e).$,g(this.$)&&Object.defineProperties(this.$,e),this}},{key:"delete",value:function(){for(var e=this.$,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(e&&n,function(t){delete e[t]}),this}},{key:"equals",value:function(e){var t=this.$;return e=new r(e).$,t==e||f(t)&&f(e)}},{key:"every",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return T([e],["function"],"Super#every"),E(this.$,function(t,n,r){if(!e(t,n,r))return!1})!==!1}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;T([e],["function"],"Super#filter");var t=this.$,r=n(t),i=r?[]:v(t)?t:{};return E(t,function(n,o){e(n,o,t)&&(r?i.push(n):i[o]=n)}),x(i)}},{key:"find",value:function(e){return T([e],["function"],"Super#find"),E(this.$,function(t,n,r){if(e(t,n,r))return{key:n,value:t}})||null}},{key:"forEach",value:function(e){return T([e],["function"],"Super#forEach"),E(this.$,function(t,n,r){e(t,n,r)}),this}},{key:"freeze",value:function(){return Object.freeze(this.$),this}},{key:"get",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return E(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{get:e})}),this}},{key:"has",value:function(e){var t=this.$;return!!g(t)&&e in t}},{key:"hasOwn",value:function(e){var t=this.$;return!!g(t)&&{}.hasOwnProperty.call(t,e)}},{key:"instanceof",value:function(e){return this.$ instanceof e}},{key:"isFrozen",value:function(){return Object.isFrozen(this.$)}},{key:"json",value:function(e,n){return 1!==arguments.length||c(e)||t(e)||[].unshift.call(arguments,null),[].unshift.call(arguments,this.$),JSON.stringify.apply(JSON,arguments)}},{key:"keyOf",value:function(e){var t=E(this.$,function(t,n){if(t==e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keyOfStrict",value:function(e){var t=E(this.$,function(t,n){if(t===e||f(t)&&f(e))return n});return b(t)?null:t}},{key:"keys",value:function(){var e=this.$;return x(g(e)?Object.keys(e):[])}},{key:"map",value:function(e){T([e],["function"],"Super#map");var t=this.$,r=n(t)?[]:h(t)?null:{};return E(t,function(n,i){r[i]=e(n,i,t)}),x(r)}},{key:"max",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#max"),this.object(function(t,n,r,i){var o=Number(e?e(n,r,i):n);o>t.value&&(t.key=r,t.value=o)},{key:null,value:-(1/0)}).$}},{key:"min",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#min"),this.object(function(t,n,r,i){var o=Number(e?e(n,r,i):n);o<t.value&&(t.key=r,t.value=o)},{key:null,value:1/0}).$}},{key:"object",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T([e],["function"],"Super#object"),E(this.$,function(n,r,i){e(t,n,r,i)}),x(t)}},{key:"prop",value:function(e,t){return arguments.length<=1&&$(e)?this.$?this.$[e]:void 0:(arguments.length>=2&&(e=St({},e,t)),this.assign(e))}},{key:"propertyDescriptor",value:function(e){var t=this.$;return g(t)?Object.getOwnPropertyDescriptor(t,e):void 0}},{key:"propertyNames",value:function(){var e=this.$;return x(g(e)?Object.getOwnPropertyNames(e):[])}},{key:"propertySymbols",value:function(){var e=this.$;return x(g(e)?Object.getOwnPropertySymbols(e):[])}},{key:"proto",value:function(e){var t=this.$,n=!v(t);return arguments.length?(n&&(g(e)||h(e))&&Object.setPrototypeOf(t,e),this):n?new r(Object.getPrototypeOf(t)):new r}},{key:"reduce",value:function(e,t){T([e],["function"],"Super#reduce");var n=this.$,r=void 0;return 1===arguments.length&&E(n,function(e,n){return r=n,t=e,!0}),E(n,function(i,o){o!==r&&(t=e(t,i,o,n))}),t}},{key:"set",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return E(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{set:e})}),this}},{key:"some",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return T([e],["function"],"Super#some"),E(this.$,function(t,n,r){if(e(t,n,r))return!0})||!1}},{key:"strictEquals",value:function(e){var t=this.$;return e=new r(e).$,t===e||f(t)&&f(e)}},{key:"sum",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#sum"),this.reduce(function(t,n,r,i){return t+Number(e?e(n,r,i):n)},0)}},{key:"toJSON",value:function(){return this.$}},{key:"value",value:function(e,t){arguments.length>=2&&(e=St({},e,t));var n=this.$;return E(g(n)&&new r(e).$,function(e,t){Object.defineProperty(n,t,{value:e})}),this}},{key:"values",value:function(){var e=[];return E(this.$,function(t){e.push(t)}),x(e)}},{key:"word",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return T([e],["function||!"],"Super#word"),this.reduce(function(t,n,r,i){return t+String(e?e(n,r,i):n)},"")}},{key:"count",get:function(){var e=this.$;return g(e)?n(e)?e.length:Object.keys(e).length:0}},{key:"toStringTag",get:function(){return e(this.$)}},{key:"type",get:function(){return xt(this.$)}}],[{key:"addStaticProperties",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),j(this,e),this}},{key:"addInstanceProperties",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),j(this.prototype,e),this}}]),r}();j(qt.prototype,St({},Dt.toStringTag,"Super")),gt[0].push({check:function(){return!0},cls:qt});var It={},Ft=Dt.iterator,Wt=function(){function e(t){function n(t){"pending"===s.status&&!function(){s.status="rejected",s.value=t;for(var n=0,r=u.length;n<r;n++)s.handled=!0,u[n](t);var i=e.onUnhandledRejection,o=e.onError;c(o)&&o(t),setTimeout(function(){!s.handled&&c(i)&&i(t)},1)}()}function r(e){if("pending"===s.status){if(e&&c(e.then))return e.then(function(e){r(e)},function(e){n(e)});s.status="fulfilled",s.value=e;for(var t=0,i=a.length;t<i;t++)s.handled=!0,a[t](e)}}if(Et(this,e),!c(t))throw new TypeError("Promise resolver "+{}.toString.call(t)+" is not a function");var i=void 0,o=void 0,a=[],u=[],l=this,s={handled:!1,get status(){return i},set status(e){i=e,l.status=e},get value(){return o},set value(e){o=e,l.value=e}};s.status="pending",s.value=void 0,j(this.$$={},{"get/set handled":{get:function(){return s.handled},set:function(e){e===It&&(s.handled=!0)}},handle:function(e,t,n,r,i){if(i===It){var o=c(t)?function(e){try{n(t(e))}catch(e){r(e)}}:null;"resolve"===e?a.push(o||function(e){return n(e)}):"reject"===e&&u.push(o||function(e){return r(e)})}},"get status":function(){return s.status},"get value":function(){return s.value}});try{t(r,n)}catch(e){n(e)}}return Ot(e,[{key:"abort",value:function(){}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(t){var n=c(t);return this.then(function(r){return e.resolve(n?t(r,!0):0).then(function(){return r})},function(r){return e.resolve(n?t(r,!1):0).then(function(){return e.reject(r)})})}},{key:"then",value:function(t,n){var r=this.$$;if("pending"===r.status)return new e(function(e,i){r.handle("reject",n,e,i,It),r.handle("resolve",t,e,i,It)});r.handled=It;var i=r.value,o=void 0,a=void 0;if("fulfilled"===r.status?(o="resolve",a=t):(o="reject",a=n),!c(a))return e[o](i);try{return e.resolve(a(i))}catch(t){return e.reject(t)}}}],[{key:"all",value:function(t){var n=[],r=0;if(t[Ft])return t=t[Ft](),new e(function(i,o){for(var a=void 0,u=0,c=function(){var t=e.resolve(a.value);r++,function(e){t.then(function(t){r--,n[e]=t,setTimeout(function(){a.done&&!r&&i(n)},1)},o)}(u++)};!(a=t.next()).done;)c();if(!u)return e.resolve([])});var i=t.length;return i?(r=i,new e(function(o,a){for(var u=function(i){var u=e.resolve(t[i]);u.then(function(e){r--,n[i]=e,r||o(n)},a)},c=0;c<i;c++)u(c)})):e.resolve([])}},{key:"race",value:function(t){return t[Ft]?(t=t[Ft](),new e(function(e,n){for(var r=void 0;!(r=t.next()).done;)r.value.then(e,n)})):new e(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"resolve",value:function(t){return t&&c(t.then)?t:new e(function(e){e(t)})}}]),e}();Wt.onError=null,Wt.onUnhandledRejection=console.error.bind(console,"%s %o","Uncaught (in promise)"),j(Wt.prototype,St({},Dt.toStringTag,"Promise"));var Ht=function(e){function t(){function e(){var t=this,n=arguments;if(++e.$$.called<e.$$.canBeCalled){var i=function(){var i=e.$$,o=i.before,a=i.after,u=i.sync,c=i.contextLocked,l=e.$$,s=l.context,f=l.args,h=void 0;if(s=c?s:s||t,f=f.concat(_(n)),u)return E(o,function(t){f=t.call(s,_(f),e)}),h=r.apply(s,_(f)),E(a,function(t){h=t.call(s,h,e)}),{v:h};var v=Wt.resolve(f);return E(o,function(t){v=v.then(function(n){return t.call(s,_(n),e)})}),v=v.then(function(e){return r.apply(s,_(e))}),E(a,function(t){v=v.then(function(n){return t.call(s,n,e)})}),{v:v}}();if("object"===("undefined"==typeof i?"undefined":xt(i)))return i.v}}var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Et(this,t);var i=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.defineProperty(e,"$$",{value:{after:[],args:[],argsLocked:[],before:[],called:0,canBeCalled:1/0,context:null,contextLocked:!1,sync:!0}}),Object.defineProperty(e,"$",{value:r}),Object.setPrototypeOf(e,t.prototype),n=e,Ct(i,n)}return Tt(t,e),Ot(t,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Func#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"apply",value:function(e,t){return function(){}.apply.apply(this,arguments)}},{key:"async",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$$.sync=!e,this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Func#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"bind",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.bindContext(e).bindArgs(n)}},{key:"bindArgs",value:function(e){var t=this.$$;return t.args=t.args.concat(_(e)),this}},{key:"bindContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e),this}},{key:"call",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){}.call.apply(this,arguments)}},{key:"canBeCalled",value:function(e){return this.$$.canBeCalled=e,this}},{key:"limitArgsTo",value:function(e){return this.before(function(t){return t.slice(0,e)},!1)}},{key:"lock",value:function(e,t){return this.lockContext(e).lockArgs(t)}},{key:"lockArgs",value:function(e){var t=this.$$;return t.args=t.argsLocked=t.argsLocked.concat(_(e)),this}},{key:"lockContext",value:function(e){var t=this.$$;return t.contextLocked||(t.context=e,t.contextLocked=!0),this}},{key:"timing",value:function(e){return e=arguments.length?String(e):this.$.name||"anonymous",this.before(function(t){return console.time(e),t},!1),this.after(function(t){return console.timeEnd(e),t},!1),this}},{key:"toString",value:function(){return function(){}.toString.call(this.$)}},{key:"unbind",value:function(){return this.unbindContext().unbindArgs()}},{key:"unbindArgs",value:function(){var e=this.$$;return e.args=e.argsLocked,this}},{key:"unbindContext",value:function(){var e=this.$$;return e.contextLocked||(e.context=null),this}},{key:"called",get:function(){return this.$$.called}}]),t}(qt);j(Ht.prototype,St({},Dt.toStringTag,"Func")),gt[1].push({check:c,cls:Ht});var zt=Math.PI/180,Vt=180/Math.PI,Gt=Math.LN2,Jt=Math.LN10,Qt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,+e))}return Tt(t,e),Ot(t,[{key:"acos",value:function(e){return(e?Vt:1)*Math.acos(this.$)}},{key:"asin",value:function(e){return(e?Vt:1)*Math.asin(this.$)}},{key:"atan",value:function(e){return(e?Vt:1)*Math.atan(this.$)}},{key:"cos",value:function(e){return Math.cos((e?zt:1)*this.$)}},{key:"interval",value:function(e){function t(){return i=!0,clearTimeout(o)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];T([e],["function"],"Num#interval"),e=new Ht(e).bindContext({abort:t}),n=_(n);var r=this.$,i=void 0,o=setTimeout(function t(){i||(e.apply(null,n),i||(o=setTimeout(t,r)))},0);return t}},{key:"log",value:function(e){return Math.log(e)/Math.log(this.$)}},{key:"pow",value:function(e){return Math.pow(this.$,e)}},{key:"root",value:function(e){return Math.pow(this.$,1/e)}},{key:"sin",value:function(e){return Math.sin((e?zt:1)*this.$)}},{key:"tan",value:function(e){return Math.tan((e?zt:1)*this.$)}},{key:"timeout",value:function e(t){var n=this,e=void 0,r=void 0,i=new Wt(function(i,o){r=o,e=setTimeout(i,n.$,t)});return i.abort=function(){return clearTimeout(e),r(new Error("Timeout was aborted")),this},i}},{key:"toBase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.$.toString(e)}},{key:"toExponential",value:function(e){return this.$.toExponential(e)}},{key:"toFixed",value:function(e){return this.$.toFixed(e)}},{key:"toPrecision",value:function(e){return this.$.toPrecision(e)}},{key:"valueOf",value:function(){return Number(this.$)}},{key:"abs",get:function(){return Math.abs(this.$)}},{key:"acosh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e-1))}},{key:"asinh",get:function(){var e=this.$;return Math.log(e+Math.sqrt(e*e+1))}},{key:"atanh",get:function(){var e=this.$;return Math.log((1+e)/(1-e))/2}},{key:"cbrt",get:function(){var e=Math.pow(Math.abs(this.$),1/3);return this.$>0?e:-e}},{key:"ceil",get:function(){return Math.ceil(this.$)}},{key:"cosh",get:function(){var e=this.exp;return(e+1/e)/2}},{key:"cube",get:function(){return this.$*this.$*this.$}},{key:"exp",get:function(){return Math.exp(this.$)}},{key:"floor",get:function(){return Math.floor(this.$)}},{key:"ln",get:function(){return Math.log(this.$)}},{key:"log2",get:function(){return this.ln/Gt}},{key:"log10",get:function(){return this.ln/Jt}},{key:"round",get:function(){return Math.round(this.$)}},{key:"sign",get:function(){var e=this.$;return e?e>0?1:-1:e}},{key:"sinh",get:function(){var e=this.exp;return(e-1/e)/2}},{key:"sq",get:function(){return this.$*this.$}},{key:"sqrt",get:function(){return Math.sqrt(this.$)}},{key:"tanh",get:function(){var e=this.$;if(!u(e))return this.sign;var t=Math.exp(2*e);return(t-1)/(t+1)}}]),t}(qt);j(Qt.prototype,St({},Dt.toStringTag,"Num")),gt[1].push({check:d,cls:Qt});var Zt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_(e instanceof t?e.$:e)))}return Tt(t,e),Ot(t,[{key:"concat",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=_(this.$,!0);return E(arguments,function(e){return e=new qt(e).$,n(e)&&!$(e)?void E(e,function(e){i.push(e)}):void i.push(e)}),new this.constructor(i)}},{key:"indexOf",value:function(e){var t=this.keyOf(e);return null===t?-1:Number(t)}},{key:"indexOfStrict",value:function(e){var t=this.keyOfStrict(e);return null===t?-1:Number(t)}},{key:"join",value:function(e){return this.$.join.apply(this.$,arguments)}},{key:"pop",value:function(){return this.$.pop()}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.push.apply(this.$,arguments),this}},{key:"random",value:function(){return this.$[Y(0,this.$.length-1)]}},{key:"reverse",value:function(){return this.$.reverse(),this}},{key:"shift",value:function(){return this.$.shift()}},{key:"shuffle",value:function(){var e=this.$.length;return this.forEach(function(t,n,r){var i=n+Math.floor((e-n)*Math.random());r[n]=r[i],r[i]=t})}},{key:"slice",value:function(e,t){return new this.constructor(this.$.slice.apply(this.$,arguments))}},{key:"sort",value:function(e){return T([e],["function||!"],"Arr#sort"),this.$.sort(e),this}},{key:"sortAsc",value:function(){return this.sort(X)}},{key:"sortDesc",value:function(){return this.sort(function(e,t){return X(t,e)})}},{key:"splice",value:function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new t(this.$.splice.apply(this.$,arguments))}},{key:"string",value:function(){return this.join("")}},{key:"unshift",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$.unshift.apply(this.$,arguments),this}},{key:"first",get:function(){return this.$[0]}},{key:"last",get:function(){var e=this.$;return e[e.length-1]}},{key:"length",get:function(){return this.$.length}}]),t}(qt);j(Zt.prototype,St({},Dt.toStringTag,"Arr")),gt[1].push({check:n,cls:Zt});var Yt={buffer:"ArrayBuffer",binary:"BinaryString",dataURL:"DataURL",text:"Text"},Xt=ht,Kt=Xt.URL,en=function(e){function t(){return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Tt(t,e),Ot(t,[{key:"readAs",value:function(e,t){var n=this;if(!Yt[e])throw new Error("1st argument must be one of following values: buffer, binary, dataURL, text");var r=new FileReader,i=void 0;c(t)&&(r.onprogress=function(e){t(e,this)});var o=new Wt(function(t,o){i=o,r.onerror=function(e){var t=e.target;r&&o(t.error)},r.onload=function(e){var n=e.target;t(n.result)},r["readAs"+Yt[e]](n.$)});return o.abort=function(){return i(new Error("Reading was aborted")),r.abort(),r=null,this},o}},{key:"saveAs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"download",t=document.createElement("a");return t.href=this.dataURL,t.setAttribute("download",e),t.click(),this}},{key:"dataURL",get:function(){return Kt.createObjectURL(this.$)}}]),t}(qt);j(en.prototype,St({},Dt.toStringTag,"BlobObject")),gt[1].push({check:function(t){return/^(Blob|File)$/.test(e(t))},cls:en});var tn={"&":"&amp;","<":"&lt;",">":"&gt;"},nn=new RegExp(new qt(bt).word(function(e){return"\\"+e+"|"}).replace(/\|$/,""),"g"),rn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,""+e))}return Tt(t,e),Ot(t,[{key:"capitalizeFirst",value:function(){var e=this.$;return new t(e.slice(0,1).toUpperCase()+e.slice(1))}},{key:"endsWith",value:function(e,n){return arguments.length<2&&(n=this.$.length),this.slice(0,n).revert().startsWith(new t(e).revert().$)}},{key:"escapeHTML",value:function(){var e=this.$;return E(tn,function(t,n){e=e.replace(new RegExp(n,"g"),t)}),new t(e)}},{key:"escapeRegExp",value:function(){return this.replace(nn,"\\$&")}},{key:"in",value:function(e){return!!g(e)&&this.$ in e}},{key:"indexOf",value:function(e,t){return this.$.indexOf.apply(this.$,arguments)}},{key:"lastIndexOf",value:function(e,t){return this.$.lastIndexOf.apply(this.$,arguments)}},{key:"match",value:function(e){return x(this.$.match.apply(this.$,arguments))}},{key:"repeat",value:function(e){T([e],[["intLike",">=0"]],"Str#repeat"),e=+e;for(var n=this.$,r="",i=0;i<e;i++)r+=n;return new t(r)}},{key:"replace",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new t(this.$.replace(e,n))}},{key:"replaceString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new qt(e).$,T([e],["string"],"Str#replaceString"),new t(this.$.split(e).join(n))}},{key:"revert",value:function(){for(var e=this.$,n="",r=e.length-1;r>=0;r--)n+=e[r];return new t(n)}},{key:"search",value:function(e){return T([e],["regexp"]),this.$.search.apply(this.$,arguments)}},{key:"slice",value:function(e,n){return new t(this.$.slice.apply(this.$,arguments))}},{key:"split",value:function(e){return x(this.$.split.apply(this.$,arguments))}},{key:"startsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.$.indexOf.apply(this.$,arguments)===t}},{key:"substr",value:function(e,n){return new t(this.$.substr.apply(this.$,arguments))}},{key:"substring",value:function(e,n){return new t(this.$.substring.apply(this.$,arguments))}},{key:"toCamelCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"-").replace(/-[^-]/g,function(e){return e[1].toUpperCase()}).replace(/^[\S]/,function(e){return e.toLowerCase()}))}},{key:"toCapitalCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s[\S]/g,function(e){return e.toUpperCase()}).replace(/\s+/g," ").replace(/^\s/,"").replace(/^[\S]/,function(e){
return e.toUpperCase()}))}},{key:"toDotCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,".").replace(/[^.]/g,function(e){return e.toLowerCase()===e?e:"."+e}).replace(/\.+/g,".").replace(/^\./,"").toLowerCase())}},{key:"toHyphenCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"-").replace(/[^-]/g,function(e){return e.toLowerCase()===e?e:"-"+e}).replace(/-+/g,"-").replace(/^-/,"").toLowerCase())}},{key:"toLowerCase",value:function(){return new t(this.$.toLowerCase())}},{key:"toSnakeCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g,"_").replace(/[^_]/g,function(e){return e.toLowerCase()===e?e:"_"+e}).replace(/_+/g,"_").replace(/^_/,"").toLowerCase())}},{key:"toSpaceCase",value:function(){return new t(ne(this.$).replace(/[\s\-_.]+/g," ").replace(/[\S]/g,function(e){return e.toLowerCase()===e?e:" "+e}).replace(/\s+/g," ").replace(/^\s/,"").toLowerCase())}},{key:"toString",value:function(){return this.$}},{key:"toUpperCase",value:function(){return new t(this.$.toUpperCase())}},{key:"trim",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+|[\s\ufeff\u00a0]+$/g,""))}},{key:"trimLeft",value:function(){return new t(this.$.replace(/^[\s\ufeff\u00a0]+/,""))}},{key:"trimRight",value:function(){return new t(this.$.replace(/[\s\ufeff\u00a0]+$/,""))}},{key:"length",get:function(){return this.$.length}}]),t}(qt);j(rn.prototype,St({},Dt.toStringTag,"Str")),gt[2].push({check:$,cls:rn});var on="Please, submit an issue at https://github.com/dwaynejs/dwayne/issues.",an=new qt({"tag-open":new RegExp("<("+$t+")\\s*","i"),"tag-close":oe($t),comment:/<!--((?:-[^\->]|[^\->])(?:-?[^-])*[^-]?|)-->/}),un=/^(\/?)>/,cn=new RegExp("^("+kt+")(?:\\s*=\\s*('[^']*'|\"[^\"]*\"|[^\\s\"'`<>=]+))?\\s*"),ln=document.createElement("div"),sn=A("strictEquals",function(e){return e}).case("tag-open",function(e,t){var n=t,r=n.value,i=n.selfClosing;return t={name:r,attrs:new qt(t.attrs).map(function(e){return ue(e)}).$,parent:e,children:new Zt([])},e.children.push(t),i||wt.indexOf(r)!==-1||(e=t),e}).case("tag-close",function(e,t){return e.name===t.value&&(e=e.parent),e}).case(["comment","text"],function(e,t,n,r){var i={name:"#"+r,parent:e,value:t.value};return"text"===r&&"script"!==e.name&&"style"!==e.name&&(i.value=ue(i.value),n&&(i.value=new rn(i.value).trim().$)),n&&/^\s*$/.test(i.value)||e.children.push(i),e}),fn=A("strictEquals",!1).case(["title","textarea","style","script"],!0),hn=function e(t){Et(this,e),this.index=t},vn=function(e){function t(){var e,n,r,i;Et(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=Ct(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.type="PARSING_ERROR",i=n,Ct(r,i)}return Tt(t,e),t}(Error),dn=function(e,t){function n(){throw new vn("Unexpected parsing error near index "+ae(i,a)+". "+on)}t=!!t;for(var r=new Zt([]),i=e,o=void 0,a=0,u={name:null,children:r};e.length;){try{o=ie(e,u)}catch(e){throw e instanceof hn||n(),new vn("Parsing error near index "+ae(i,a+e.index))}var c=o,l=c.type,s=c.attrs,f=c.selfClosing,h=c.index,v=c.value;a+=h,h||n();var d={type:l,value:v};"tag-open"===l&&(d.attrs=s,d.selfClosing=f),u=sn(d.type,[u,d,t]),e=e.slice(h)}return r},pn=ht.document,gn=pn.createElement("div"),mn=/(,| ) */,yn=new qt(Node.prototype).propertyDescriptor("textContent")?"textContent":"innerText",wn={},$n={},kn=new Zt([]),bn="input, select, textarea, datalist, keygen, output",xn=(V("click"),"http://www.w3.org/2000/svg"),En="http://www.w3.org/2000/xmlns/",On="http://www.w3.org/1999/xlink",Sn="http://www.w3.org/1999/xhtml",jn=A("call",function(e,t){var n="svg"===t?xn:e.prop("namespaceURI")||pn.documentElement.namespaceURI||Sn;return pn.createElementNS(n,t)}).case(function(e){return"#comment"===e},function(){return pn.createComment("")}).case(function(e){return"#text"===e},function(){return pn.createTextNode("")}),_n=A("strictEquals","href").case(["img","script","iframe","audio","video"],"src").case("form","action"),Tn=A("call",function(e){return e}).case($,function(e){return function(t){return new Ln(t).is(e)}}).case([t,le],function(e){return e=new Zt(e),function(t){return e.indexOf(t)!==-1}}),Rn=A("strictEquals",0).case("padding-box",function(e){return e}).case("border-box",function(e,t){return e+t}),Cn=A("strictEquals",function(e,t){return e+t}).case("padding-box",function(e){return e}).case("border-box",0),An=A("call",null).case(function(e){return"xmlns"===e||"xmlns:xlink"===e},function(e){return"svg"===e.name?En:null}).case(function(e){return/^xlink:\w/.test(e)},function(e){return e.closest("svg").length?On:null}),Ln=function(t){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Et(this,r);var t=Ct(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,function(){var t=e;return n(t)&&(se(t)||fe(t)||he(t)||a(t)||de(t)||ve(t))&&(t=[t]),new Zt(_(new qt(t).$,!0)).object(function(e,t){return e.indexOf(t)===-1&&(a(t)||se(t)||fe(t)||he(t)||de(t)||ve(t))?e.push(t):void(le(t)&&e.push.apply(e,t.$))},[]).$}()));return t.$$=e,t.forEach(me),t}return Tt(r,t),Ot(r,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(arguments,function(t){ce(t).forEach(function(t){e.indexOf(t)===-1&&e.push(t)})}),this}},{key:"addClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;E(a(t)&&e,function(e){return n.add(e)})})}},{key:"addComment",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){a(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin","<!--"+e+"-->")})}},{key:"addHTML",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){a(n)&&n.insertAdjacentHTML(t?"beforeend":"afterbegin",e)})}},{key:"addRule",value:function(e,t,n){return this.some(function(r){if("style"===ge(r)){var i=r.sheet,o=i.cssRules.length,a=new qt(n).word(function(e,t){return new rn(t).toHyphenCase()+": "+e+";\n"});return i.insertRule(t+" {"+(a&&"\n")+a+"}",o),i.cssRules[o].dwayneData={name:e},!0}}),this}},{key:"addText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEach(function(n){new r(pn.createTextNode(e)).into(n,t)})}},{key:"apply",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=void 0,o=void 0,a=void 0,u=void 0,l=void 0,s=void 0;return new rn(new Zt(arguments).join(" ")).split(/(\s+)/).forEach(function(t){if(!i){if(l=t.slice(0,1),a=vt[l],s=1,a&&!c(a)&&(a=a[t.slice(1,2)],s=2),/^\s+$/.test(t)||!a)return;if(u=t.slice(s).match(/^[^()]+/),!u&&"*"!==l&&"&"!==l)return;i={name:u?u[0]:"",args:t.slice(s+(u?u[0]:"").length),callback:a},o=!0}o||(i.args+=t),i.args&&!/^\([\s\S]+\)$/.test(i.args)||(i.callback(e,i.name,i.args.replace(/^\(|\)$/g,"")),i=null),o=!1}),this}},{key:"attr",value:function(e,t){var n=pe(this);if(!arguments.length)return new qt(n.attributes).object(function(e,t){e[t.name]=t.value});if(arguments.length<=1&&$(e)){var i=An(e,[new r(n)]);return h(i)?n.getAttribute(e):n.getAttributeNS(i,e)}return arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){a(t)&&new qt(e).forEach(function(e,i){if(e=c(e)?e(new r(t).attr(i),t,n):e,v(e))return new r(t).removeAttr(i);var o=An(i,[new r(t)]);h(o)?t.setAttribute(i,e):t.setAttributeNS(o,i,e)})})}},{key:"blob",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wt(function(t,n){var i=e.first(),o=i.name;return"img"!==o&&"canvas"!==o&&n(new Error("First element in the set isn't an image or a canvas! (Elem#blob)")),"canvas"===o?t(i):void i.load().then(function(){if(i.isBroken())return n(new Error("The image is broken! (Elem#blob)"));var e=new r(pn).canvas(),o=i.width(),a=i.height();e.width(o).height(a).drawImage(i.$[0],0,0),t(e)})}).then(function(e){var n=e.dataURL(),r=atob(n.split(",")[1]),i=r.length,o=new ArrayBuffer(i),a=new Uint8Array(o);return ee(i,function(e){a[e]=r.charCodeAt(e)}),te(o,t)})}},{key:"blur",value:function(){return this.forEach(function(e){a(e)&&e.blur()})}},{key:"calcCSS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return getComputedStyle(pe(this),e)}},{key:"changeRule",value:function(e,t){return this.some(function(n){if("style"===ge(n)){var i=new Zt(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},o=i.value;if(o)return new r(o).css(t),!0}}),this}},{key:"child",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l(e)&&e>=0?this.children().elem(e):ce(e).into(this,t)}},{key:"children",value:function(){return new r(this.length?this.$[0].childNodes:[])}},{key:"class",value:function(e){return arguments.length?this.forEach(function(t){a(t)&&(t.className=e)}):new Zt(pe(this).className.split(" "))}},{key:"click",value:function(){return this.forEach(function(e){a(e)&&e.click()})}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.object(function(t,n){t.add(n.cloneNode(!!e))},new r)}},{key:"closest",value:function(e){return this.object(function(t,n){for(;n;){if(new r(n).is(e))return t.add(n);n=n.parentNode}},new r)}},{key:"contains",value:function(e){return e=ce(e),pe(this).contains(pe(e))}},{key:"create",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.object(function(t,i){var o=new r(jn(e,[new r(i)]));o.into(i),t.add(o.apply.apply(o,n))},new r)}},{key:"createComment",value:function(e){return this.create("#comment").text(e)}},{key:"createText",value:function(e){return this.create("#text").text(e)}},{key:"css",value:function(e,t){var n=pe(this).style;return ve(this.$[0])&&(n=this.$[0].style),arguments.length?arguments.length<=1&&$(e)?(e=new rn(e).toHyphenCase().$,n.getPropertyValue(e)+(n.getPropertyPriority(e)?" !important":"")):(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){(a(t)||ve(t))&&new qt(e).forEach(function(e,i){i=new rn(i).toHyphenCase().$,c(e)&&(e=e(new r(t).css(i),t,n)),t.style.removeProperty(i),t.style.setProperty(i,e.replace(/ ?!important$/,""),/!important$/.test(e)?"important":"")})})):new rn(n.cssText).split(/; ?/).object(function(t,n){n&&(e=n.split(/: /),t[new rn(e[0]).toCamelCase().$]=e[1])})}},{key:"ctx",value:function e(t,n){var e=void 0;return this.some(function(t){if("canvas"===ge(t))return e=t.dwayneData.ctx,!0}),arguments.length?e?(c(t)?t(e):(arguments.length>=2&&(t=St({},t,n)),O(e,t)),this):this:e}},{key:"data",value:function(e,t){var n=pe(this).dataset;return arguments.length?1===arguments.length&&$(e)?n[e]:(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){a(t)&&E(e,function(e,r){t.dataset[r]=c(e)?e(t.dataset[r],t,n):e})})):new qt(n).object(function(e,t,n){e[n]=t})}},{key:"dataURL",value:function(e,t){var n=this.ctx();return n?n.canvas.toDataURL.apply(n.canvas,arguments):""}},{key:"deleteRule",value:function(e){return this.some(function(t){if("style"===ge(t)){var n=new Zt(t.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e});if(n)return t.sheet.deleteRule(n.key),!0}}),this}},{key:"dispatch",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n||{},o=i.bubbles,u=void 0===o||o,c=i.cancelable,l=void 0===c||c,s=t;if(!/Event$/.test(e(s))){try{s=new Event(s,{bubbles:u,cancelable:l})}catch(e){s=pn.createEvent("Event"),s.initEvent(t,u,l)}O(s,r)}return this.forEach(function(e){a(e)&&e.dispatchEvent(s)})}},{key:"elem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(e=this.length+e),new r(this.$[e])}},{key:"filter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Boolean;return new r(_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"filter",this).call(this,Tn(e)))}},{key:"find",value:function(e){return $(e)?this.object(function(t,n){t.add(ye(e,n))},new r):_t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"find",this).call(this,e)}},{key:"first",value:function(){return this.elem(0)}},{key:"firstChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var i=new r(n).children().find(function(t){return new r(t).is(e)})||{},o=i.value;t.add(o)},new r)}},{key:"focus",value:function(){return this.forEach(function(e){a(e)&&e.focus()})}},{key:"getRule",value:function(e){var t={selector:void 0,rules:{}};return this.some(function(n){if("style"===ge(n)){var i=new Zt(n.sheet.cssRules).find(function(t){return t.dwayneData&&t.dwayneData.name===e})||{},o=i.value;if(o)return t={selector:o.selectorText,rules:new r(o).css().$},!0}}),t}},{key:"hasAttr",value:function(e){var t=pe(this),n=An(e,[new r(t)]);return h(n)?t.hasAttribute(e):t.hasAttributeNS(n,e)}},{key:"hasClass",value:function(e){return pe(this).classList.contains(e)}},{key:"height",value:function(e){return this.prop.apply(this,new Zt(arguments).unshift("height").$)}},{key:"hide",value:function(){return this.forEach(function(e){e=new r(e);var t=e.css("display");t.indexOf("none")&&(e.prop("dwayneData").previousDisplay=t),e.css("display","none !important")})}},{key:"html",value:function(e){return arguments.length?this.forEach(function(t,n){a(t)&&(t.innerHTML=c(e)?e(t.innerHTML,t,n):e)}):pe(this).innerHTML}},{key:"id",value:function(e){return arguments.length?this.forEach(function(t){a(t)&&(t.id=e)}):pe(this).id}},{key:"insertAfter",value:function(e){e=ce(e).first();var t=e.parent();return t.length?(e=e.next().$[0],t=t.$[0],this.forEach(function(n){e?t.insertBefore(n,e):t.appendChild(n)})):this}},{key:"insertBefore",value:function(e){e=ce(e).first();var t=e.parent();return t.length?(e=e.$[0],t=t.$[0],this.forEach(function(n){t.insertBefore(n,e)})):this}},{key:"into",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=ce(e).$[0],!e||se(e)||fe(e)||de(e)?this:!t&&e.firstChild?this.slice().reverse().forEach(function(t){e.insertBefore(t,e.firstChild)}):this.forEach(function(t){e.appendChild(t)})}},{key:"is",value:function(e){if(h(e))return!0;var t=pe(this),n=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;if(!a(this.$[0]))return!1;try{return n.call(t,e)}catch(t){return console.error("Selector '"+e+"' is not a valid selector (Elem#is)"),!1}}},{key:"isBroken",value:function e(){var e=!1;return this.some(function(t){if("img"===ge(t))return e=!(!t.complete||t.naturalWidth&&t.naturalHeight),!0}),e}},{key:"isWithinDocument",value:function(){return 0!==this.first().closest("html").length}},{key:"last",value:function(){return this.elem(-1)}},{key:"lastChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){var i=new r(n).children().reverse().find(function(t){return new r(t).is(e)})||{},o=i.value;t.add(o)},new r)}},{key:"load",value:function(){var e={proper:new r,broken:new r};return Wt.all(this.filter(function(e){return"img"===ge(e)}).map(function(t){var n=new r(t);return t.complete?void e[n.isBroken()?"broken":"proper"].push(t):new Wt(function(r){var i=n.on({load:function(){e.proper.add(t),i(),r()},error:function(){e.broken.add(t),i(),r()}})})}).$).then(function(){return e})}},{key:"moveAttr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$n[e],r=this.elem();return n&&r.length&&(arguments.length<2&&(t=n.attr(e)),n.removeAttr(e)),r.length&&($n[e]=r.attr(e,t)),this}},{key:"moveClass",value:function(e){var t=wn[e],n=this.elem();return t&&n.length&&t.removeClass(e),n.length&&(wn[e]=n.addClass(e)),this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.nextSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"off",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.dwayneData.listeners;E(e,function(e){E(e.split(mn),function(e){(n[e]||new qt).forEach(function(e){var t=e.removeListener;return t()})})})})}},{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],i=new qt({});return c(t)&&(n=t,t=null),$(e)&&(e=St({},e,n)),e=new qt(e).object(function(e,t,n){E(n.split(mn),function(n){e[n]=t})}),this.forEach(function(n){if(a(n)||se(n)||fe(n)){var o=(kn.find(function(e){var t=e.element;return t===n})||{}).value||n.dwayneData,u=o.listeners;e.forEach(function(e,o){var a=u[o]=u[o]||new qt({}).define("index",{value:0,configurable:!0,writable:!0}),c=a.prop("index");if(!a.has("listener")){var l=function(e){a.forEach(function(t){var i=t.selector,o=t.listener;new r(e.target).is(i)&&o.call(n,e,n,c)})};l.base=n,n.addEventListener(o,l,!1),a.define("listener",{value:l,configurable:!0,writable:!0})}var s=function(){a.delete(c),a.count||(n.removeEventListener(o,a.prop("listener"),!1),a.delete("listener"))};i.prop(o,(i.prop(o)||new Zt).push(s)),a.assign(St({index:c+1},c,{selector:t,listener:e,removeListener:s}))})}}),function(e){return arguments.length?void E(arguments,function(e){E(e.split(mn),function(e){i.has(e)&&(i.prop(e).forEach(function(e){return e()}),i.delete(e))})}):void i.forEach(function(e){e.forEach(function(e){return e()})})}}},{key:"parent",value:function(){return this.object(function(e,t){return e.add(t.parentNode)},new r)}},{key:"parentTree",value:function(){return this.object(function(e,t){for(;t=t.parentNode;)e.add(t)},new r)}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.object(function(t,n){for(;n=n.previousSibling;)if(new r(n).is(e))return t.add(n)},new r)}},{key:"prop",value:function(e,t){return arguments.length<=1&&$(e)?this.$[0]?this.$[0][e]:void 0:(arguments.length>=2&&(e=St({},e,t)),this.forEach(function(t,n){E(e,function(e,r){t[r]=c(e)?e(t[r],t,n):e})}))}},{key:"ref",value:function(e){return arguments.length?this.forEach(function(t){t=new r(t),t.attr(_n(t.name),e)}):this.attr(_n(this.name))}},{key:"remove",value:function(){return this.forEach(function(e){var t=e.parentNode;t&&t.removeChild(e)})}},{key:"removeAttr",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.forEach(function(t){a(t)&&E(e,function(e){var n=An(e,[new r(t)]);h(n)?t.removeAttribute(e):t.removeAttributeNS(n,e)})})}},{key:"removeClass",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){var n=t.classList;E(a(t)&&e,function(e){return n.remove(e)})})}},{key:"removeCSS",value:function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forEach(function(t){a(t)&&E(e,function(e){t.style.removeProperty(e)})})}},{key:"replace",value:function(e){e=ce(e);var t=this.first().parent();if(!t.length)return this;var n=t,r="into",i=this.next().first().$[0],o=this.prev().first().$[0];i?(n=i,r="insertBefore"):o&&(n=o,r="insertAfter"),this.first().remove(),e[r](n)}},{key:"setOf",value:function(e,t,n){if(T({2:n},{2:["function"]},"Elem#setOf"),t=new qt(t).$,d(t)){try{T({1:t},{1:["intLike",">=0"]},"Elem#setOf")}catch(e){throw new Error("2nd argument must be either or non-negative integer, or object! (at Elem#setOf)")}t=K(t).$}return this.object(function(i,o,a){E(t,function(u,c){var l=new r(o).create(e);n(l.$[0],u,c,t,o,a),i.add(l)})},new r)}},{key:"show",value:function(){return this.forEach(function(e){var t=e,n=t.dwayneData;e=new r(e),0===e.css("display").indexOf("none")&&e.css("display",n.previousDisplay),n.previousDisplay=""})}},{key:"text",value:function(e){return arguments.length?this.forEach(function(t,n){var i=t[yn];new r(t).prop(yn,c(e)?e(i,t,n):e)}):this.prop(yn)}},{key:"toggleAttr",value:function(e,t){var n=arguments;return this.forEach(function(i){i=new r(i),(n.length<2?!i.hasAttr(e):t)?i.attr(e,""):i.removeAttr(e)})}},{key:"toggleClass",value:function(e,t){return(arguments.length<2?!this.hasClass(e):t)?this.addClass(e):this.removeClass(e)}},{key:"up",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return T([e],[["intLike",">=0"]],"Elem#up"),e=Number(e),this.object(function(t,n){for(var r=e;r--&&n;)n=n.parentNode;t.add(n)},new r)}},{key:"validate",value:function(e){function t(e,t,n){try{if(e.validity&&!e.validity.valid)throw new Error(e.validationMessage);e.dwayneData.validators.forEach(function(n){n(e.value,e,t)})}catch(t){(n.errors=n.errors||{})[e.name]=t}}if(T([e],["function||!"],"Elem#validate"),e)return this.forEach(function(t){var n=t.dwayneData;n.validators.push(e)});var n=new qt({errors:null});return this.filter(bn+", form").forEach(function(e,i){if("form"===ge(e)){var o=function(){var i={errors:null},o=new r(e),a=o.find(bn);return a.forEach(function(e,n){t(e,n,i)}),n.deepAssign(i),i=i.errors,o.dispatch("validate",{},{valid:!i,errors:i}),{v:a.forEach(function(e){var t=(i||{})[e.name];new r(e).dispatch("validate",{},{valid:!t,error:t||null})})}}();if("object"===("undefined"==typeof o?"undefined":xt(o)))return o.v}var a={errors:null};t(e,i,a),n.deepAssign(a),a=(a.errors||{})[e.name],new r(e).dispatch("validate",{},{valid:!a,error:a||null})}),n.every(function(e){return h(e)})?null:n.$.errors}},{key:"width",value:function(e){return this.prop.apply(this,new Zt(arguments).unshift("width").$)}},{key:"innerHeight",get:function(){var e=this.$[0];if(se(e))return e.innerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,i=t.boxSizing,o=t.height,a=t.paddingTop,u=t.paddingBottom,c=$e(n)+$e(r),l=$e(a)+$e(u);return $e(o)-Rn(i,[l,c])}},{key:"innerWidth",get:function(){var e=this.$[0];if(se(e))return e.innerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,i=t.boxSizing,o=t.paddingLeft,a=t.paddingRight,u=t.width,c=$e(n)+$e(r),l=$e(o)+$e(a);return $e(u)-Rn(i,[l,c])}},{key:"name",get:function(){return ge(this.$[0])}},{key:"outerHeight",get:function(){var e=this.$[0];if(se(e))return e.outerHeight;var t=this.calcCSS(),n=t.borderTopWidth,r=t.borderBottomWidth,i=t.boxSizing,o=t.height,a=t.marginTop,u=t.marginBottom,c=t.paddingTop,l=t.paddingBottom,s=$e(n)+$e(r),f=$e(c)+$e(l);return $e(o)+$e(a)+$e(u)+Cn(i,[s,f])}},{key:"outerWidth",get:function(){var e=this.$[0];if(se(e))return e.outerWidth;var t=this.calcCSS(),n=t.borderLeftWidth,r=t.borderRightWidth,i=t.boxSizing,o=t.marginLeft,a=t.marginRight,u=t.paddingLeft,c=t.paddingRight,l=t.width,s=$e(n)+$e(r),f=$e(u)+$e(c);return $e(l)+$e(o)+$e(a)+Cn(i,[s,f])}},{key:"toStringTag",get:function(){return e(this.$$)}}]),r}(Zt);j(Ln.prototype,St({},Dt.toStringTag,"Elem"));var Pn=new Ln(ht),Dn=new Ln(pn),Nn=new Ln(pn.documentElement),Mn=new Ln(pn.body),Un=new Ln(pn.head),Bn=new Zt(mt).concat(yt).$,qn=new Zt(Bn).map(function(e){return new rn(e).toCamelCase().$}).$;S(Ln.prototype,qn,function(e,t){return function(){return this.create.apply(this,new Zt(arguments).unshift(Bn[t]).$)}}),S(Ln.prototype,dt,function(e){return function(){var t=this.ctx();if(t)return t[e].apply(t,arguments)}}),S(Ln.prototype,pt,function(e){return function(){var t=this.ctx();return t&&t[e].apply(t,arguments),this}}),gt[2].push({check:function(t){return a(t)||se(t)||fe(t)||de(t)||he(t)||/^(HTMLCollection|NodeList)$/.test(e(t))},cls:Ln});var In=Object.freeze({registerDBlock:ke,registerDEach:be,registerDElements:xe,registerDIf:Ee,registerDItem:Oe,registerDSwitch:Se,registerDText:je}),Fn=A("strictEquals",function(e,t){return t.hasAttr("contenteditable")||t.hasAttr("contentEditable")?"text":"value"}).case("input",function(e){return"file"===e?"files":"radio"===e||"checkbox"===e?"checked":"value"}),Wn=A("strictEquals",function(e){return e}).case("input",function(e,t,n){return"radio"!==t&&"checkbox"!==t?e:"radio"===t?e===n:e.indexOf(n)!==-1}),Hn=A("strictEquals",function(e){return e}).case("input",function(e,n,r,i){if("radio"!==n&&"checkbox"!==n)return e;if("radio"===n)return e?r:null;if(e)return i?i.indexOf(r)===-1?new Zt(i).concat(r).$:i:[r];if(!t(i))return[];var o=i.indexOf(r);return o!==-1?[].concat(Lt(new Zt(i).slice(0,o).$),Lt(new Zt(i).slice(o+1).$)):i}),zn=A("strictEquals","input").case("select","change").case("input",function(e){return"radio"===e||"checkbox"===e||"color"===e||"file"===e?"change":"input"}),Vn=Object.freeze({registerDAttr:_e,registerDBind:Te,registerDClass:Re,registerDElem:Ce,registerDHide:Ae,registerDOn:Le,registerDShow:Pe,registerDStyle:De,registerDText:Ne,registerDValidate:Me,registerDValue:Ue}),Gn=Object.create(null),Jn=Object.create(null),Qn={}.isPrototypeOf,Zn=new RegExp("^"+$t+"$","i"),Yn=new RegExp("^"+kt+"$"),Xn=/^\{[\s\S]+\}$/,Kn=ht,er=Kn.document,tr="http://www.w3.org/2000/svg",nr=void 0,rr=void 0,ir=void 0,or=void 0,ar=function(){function e(t){var n=this;Et(this,e);var r=t.name,i=t.args,o=t.children,a=t.block,u=t.parent,c=t.parentBlock,l=t.parentScope,s=new Zt([]);Object.defineProperties(this,{$:{value:this},$$:{value:{name:r,parent:l,parentBlock:c,children:new Zt([]),mixins:new Zt([]),Block:a,elems:{start:Dn.createComment(" "+r+": start "),end:Dn.createComment(" "+r+": end "),content:new Ln,parent:u},watchersToRemove:s,evaluate:function e(t,i,o,a,u,c){function e(){var n=this,r=void 0;i&&(rr=!0,ir=new Zt([])),l.$$.expr=t,er.DwayneStore=l;try{r=h()}catch(e){nr&&nr(e)}return i&&!function(){var t=new Zt([]);ir.forEach(function(o){var u=function(){var t=e.call(n);t!==r&&i(t,r)},c={forDElements:a,watcher:u,watchers:o};u.onRemove=function(){t.forEach(function(e){var t=e.watcher,n=e.watchers,r=f.indexOf(e),i=n.indexOf(t);r!==-1&&f.splice(r,1),i!==-1&&n.splice(i,1)})},t.push(c),f.push(c),o.push(u)}),rr=!1,ir=new Zt([])}(),l.$$.expr=null,er.DwayneStore=null,r}if(!Xn.test(t))return t;a=!!a,u=!!u,t=t.replace(/^\{|\}$/g,"");var l="#d-item"===r&&!u||c?(c||n).$$.scope:n,s=o?o.$$:{},f=s.watchersToRemove,h=new Function("",'with(document.DwayneStore){$$.expr=eval("$$.expr="+$$.expr);return $$.expr}');return e.call(n)}}}});var f=new qt(i).map(function(e,t){if("d-each"===r&&("item"===t||"index"===t||"uid"===t))return e;var i="d-elements"===r&&"value"===t;return l.$$.evaluate(e,function(e){n.args[t]=e},n,i,i&&"#d-item"===c.$$.name)}).$;this.args=f,this.children=o||new Zt([]),this.global=Object.create(l?Object.create(l.global):null),this.$$.elems.start.$[0].DwayneBlock=this,this.$$.elems.end.$[0].DwayneBlock=this,c&&c.$$.children.push(this)}return Ot(e,null,[{key:"wrap",value:function(e){return T([e],["function"]),e(this)}},{key:"onEvalError",get:function(){return nr},set:function(e){nr=c(e)?e:null}}]),Ot(e,[{key:"afterConstruct",value:function(){}},{key:"afterRender",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluateAndWatch",value:function(e,t){return this.$$.parent.$$.evaluate(e,t,this)}},{key:"evaluateOnce",value:function(e){return this.$$.parent.$$.evaluate(e)}},{key:"remove",value:function(e){var t=this.$$,n=t.parentBlock,r=t.children,i=t.mixins,o=t.elems,a=o.start,u=o.content,c=o.end,l=t.watchersToRemove;Je(l),r.forEach(function(e){e.remove(!0)}),i.forEach(function(e){e.remove(!0)});try{this.beforeRemove()}catch(e){console.error("Uncaught error in beforeRemove:",e)}if(!e&&n){var s=n.$$.children.indexOf(this);s!==-1&&n.$$.children.splice(s,1)}new Ln([a,u,c]).remove()}},{key:"watch",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t)){if(1===arguments.length){for(var n in this.$$.global)this.$$.global[n].watchers.perm.push(t);return E(this.$$.args,function(e){var n=e.watchers;n.perm.push(t)}),E(this.$$.locals,function(e){var n=e.watchers;n.perm.push(t)})}E(arguments,function(n){if(n!==t){if(n=""+n,/^args\./.test(n)){if(n=n.replace(/^args\./,""),!e.$$.args[n])return;return void e.$$.args[n].watchers.perm.push(t)}if(/^global\./.test(n)){if(n=n.replace(/^global\./,""),!e.$$.global[n])return;return void e.$$.global[n].watchers.perm.push(t)}e.$$.locals[n]&&e.$$.locals[n].watchers.perm.push(t)}})}}},{key:"watchArgs",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))return 1===arguments.length?E(this.$$.args,function(e){var n=e.watchers;n.perm.push(t)}):void E(arguments,function(n){n!==t&&e.$$.args[n]&&e.$$.args[n].watchers.perm.push(t)})}},{key:"watchGlobals",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))if(1!==arguments.length)E(arguments,function(n){n!==t&&e.$$.global[n]&&e.$$.global[n].watchers.perm.push(t)});else for(var n in this.$$.global)this.$$.global[n].watchers.perm.push(t)}},{key:"watchLocals",value:function(){var e=this,t=arguments[arguments.length-1];if(c(t))return 1===arguments.length?E(this.$$.locals,function(e){var n=e.watchers;n.perm.push(t)}):void E(arguments,function(n){n!==t&&e.$$.locals[n]&&e.$$.locals[n].watchers.perm.push(t)})}}]),e}();ar.collapseWhiteSpace=!0,ar.defaultArgs={},Ie(In,ar);var ur=function(){function e(t){var n=this;Et(this,e);var r=t.value,i=t.elem,o=t.match,a=t.parentBlock,u=t.parentScope;Object.defineProperties(this,{$$:{value:{_value:r,parent:u,parentBlock:a,watchersToRemove:new Zt([])}}}),this.match=new Zt(o).slice(1).$,this.elem=i,new qt(this).proto().$.constructor.evaluate&&(this.value=this.evaluateAndWatch(function(e,t){n.value=e;try{n.afterUpdate(e,t)}catch(e){console.error("Uncaught error in "+name+"#onUpdate:",e)}}),this.afterUpdate(this.value)),a&&a.$$.mixins.push(this)}return Ot(e,[{key:"afterUpdate",value:function(){}},{key:"beforeRemove",value:function(){}},{key:"evaluateAndWatch",value:function(e){var t=this.$$,n=t._value,r=t.parent;return r.$$.evaluate(n,e,this)}},{key:"evaluateOnce",value:function(){var e=this.$$,t=e._value,n=e.parent;return n.$$.evaluate(t)}},{key:"remove",value:function(e){var t=this.$$,n=t.parentBlock,r=t.watchersToRemove;Je(r);try{this.beforeRemove()}catch(e){console.error("Uncaught error in beforeRemove:",e)}if(!e&&n){var i=n.$$.mixins.indexOf(this);i!==-1&&n.$$.mixins.splice(i,1)}}}]),e}();ur.evaluate=!0,Ie(Vn,ur);var cr=new rn("0"),lr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],sr=new qt(lr).map(function(e){return e.slice(0,3)}).$,fr=["January","February","March","April","May","June","Jule","August","September","October","November","December"],hr=new qt(fr).map(function(e){return e.slice(0,3)}).$,vr=[{format:"ccc",match:function(e,t){return Ye(e[t]("c"),3)}},{format:"c",match:function(e,t){return e[t]("c")}},{format:"ss",match:function(e,t){return Ye(e[t]("s"),2)}},{format:"s",match:function(e,t){return e[t]("s")}},{format:"mm",match:function(e,t){return Ye(e[t]("m"),2)}},{format:"m",match:function(e,t){return e[t]("m")}},{format:"hh",match:function(e,t){return Ye(e[t]("h"),2)}},{format:"h",match:function(e,t){return e[t]("h")}},{format:"dddd",match:function(e,t){return lr[e[t]("dw")]}},{format:"ddd",match:function(e,t){return sr[e[t]("dw")]}},{format:"dd",match:function(e,t){return Ye(e[t]("d"),2)}},{format:"d",match:function(e,t){return e[t]("d")}},{format:"MMMM",match:function(e,t){return fr[e[t]("M")-1]}},{format:"MMM",match:function(e,t){return hr[e[t]("M")-1]}},{format:"MM",match:function(e,t){return Ye(e[t]("M"),2)}},{format:"M",match:function(e,t){return e[t]("M")}},{format:"yyyy",match:function(e,t){return Ye(e[t]("y"),4)}},{format:"yy",match:function(e,t){return String(e[t]("y")).slice(-2)}},{format:"y",match:function(e,t){return e[t]("y")}}],dr={c:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,M:2592e6,y:31536e6},pr=A({c:function(e,t){return e[t+"Milliseconds"]()},s:function(e,t){return e[t+"Seconds"]()},m:function(e,t){return e[t+"Minutes"]()},h:function(e,t){return e[t+"Hours"]()},d:function(e,t){return e[t+"Date"]()},dw:function(e,t){return e[t+"Day"]()},M:function(e,t){return e[t+"Month"]()+1},y:function(e,t){return e[t+"FullYear"]()}},"equals",NaN),gr=A({c:function(e,t,n){return e[n+"Milliseconds"](t)},s:function(e,t,n){return e[n+"Seconds"](t)},m:function(e,t,n){return e[n+"Minutes"](t);
},h:function(e,t,n){return e[n+"Hours"](t)},d:function(e,t,n){return e[n+"Date"](t)},M:function(e,t,n){return e[n+"Month"](t-1)},y:function(e,t,n){return e[n+"FullYear"](t)}}),mr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Et(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return Tt(t,e),Ot(t,[{key:"add",value:function(e,t){return arguments.length>=2&&(e=St({},e,t)),this.time(this.time()+new qt(e).sum(function(e,t){return dr[t]*e}))}},{key:"expires",value:function(e){return arguments.length||(e=this),new Qt(this.$-Xe()).timeout(e)}},{key:"format",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new rn(new qt(e).$),n=String(new qt(n).$),E(vr,function(r){e=e.replaceString(n+r.format,r.match(t,"get"))}),e.$}},{key:"formatUTC",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e=new rn(new qt(e).$),n=String(new qt(n).$),E(vr,function(r){e=e.replaceString(n+r.format,r.match(t,"getUTC"))}),e.$}},{key:"get",value:function(e){return pr(e,[this.$,"get"])}},{key:"getUTC",value:function(e){return pr(e,[this.$,"getUTC"])}},{key:"isAfter",value:function(e){return e=new Date(new qt(e).$),e.getTime()<this.$.getTime()}},{key:"isBefore",value:function(e){return e=new Date(new qt(e).$),e.getTime()>this.$.getTime()}},{key:"isBetween",value:function(e,t){var n=this.$.getTime();return e=new Date(new qt(e).$),t=new Date(new qt(t).$),n>e.getTime()&&n<t.getTime()}},{key:"isInvalid",value:function(){return"Invalid Date"===this.$.toString()}},{key:"isPassed",value:function(){return this.isBefore(Xe())}},{key:"ofOne",value:function(e,n){var r=this;if(!(e in dr)||"w"===e)return!1;n=new t(new Date(n));var i=void 0;return E(dr,function(t,o){if(o===e&&(i=!0),i&&"w"!==o)return(!i||r.get(o)===n.get(o))&&void 0})!==!1}},{key:"set",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=St({},e,t)),e=new qt(e).$,E(e,function(e,t){gr(t,[n,e,"set"])}),this}},{key:"setUTC",value:function(e,t){var n=this.$;return arguments.length>=2&&(e=St({},e,t)),e=new qt(e).$,E(e,function(e,t){gr(t,[n,e,"setUTC"])}),this}},{key:"time",value:function(e){var t=this.$;return arguments.length&&t.setTime(e),t.getTime()}},{key:"toISOString",value:function(){return this.$.toISOString()}},{key:"toLocaleString",value:function(){return this.$.toLocaleString()}},{key:"toString",value:function(){return this.$.toString()}},{key:"valueOf",value:function(){return this.$.valueOf()}}]),t}(qt);j(mr.prototype,St({},Dt.toStringTag,"Dat")),gt[1].push({check:i,cls:mr});var yr=/^(([a-z][a-z\d+\-.]*:)?\/\/|data:[a-z]+\/[a-z]+;base64,)/i,wr=A("call",function(){return new Zt([])}).case(t,function(e,n){var r=new Zt([]);return E(n,function(n){return m(n)||t(n)?void(r=r.concat(wr(n,[e+"[]"]))):void r.push({param:e+"[]",value:n})}),r.$}).case(m,function(e,n){var r=new Zt([]);return E(n,function(n,i){return m(n)||t(n)?void(r=r.concat(wr(n,[e?e+"["+i+"]":i]))):void r.push({param:e?e+"["+i+"]":i,value:g(n)?JSON.stringify(n):String(n)})}),r.$}),$r=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=o.params,u=void 0===a||a,c=o.query,l=void 0===c||c,s=et(t)?t:String(e).replace(/\/+$/,"")+"/"+String(t).replace(/^\/+/,"");E(n,function(e,t){s=new rn(s).replaceString(":"+t,tt(e,u)).$});var f=wr(r,[""]);return f.length&&(s+=(s.indexOf("?")===-1?"?":"&")+f.map(function(e){var t=e.param,n=e.value;return tt(t,l)+"="+tt(n,l)}).join("&")),""+s+(i?"#"+i:"")},kr=function(e){var t={};return E((e||"").split("\n"),function(e){var n=e.indexOf(":"),r=new rn(e.substring(0,n)).trim().toCamelCase().$,i=new rn(e.substring(n+1)).trim().$;r&&(t[r]=(t[r]?t[r]+", ":"")+i)}),t},br=new Zt(["FormData","File","Blob","ArrayBuffer","String","Number"]),xr=new Zt(["DELETE","GET","HEAD"]),Er=function(t,n,r){return t=new qt(t).$,xr.indexOfStrict(n)!==-1?null:g(t)&&br.indexOfStrict(e(t))===-1?(r.contentType||(r.contentType=["application/json;charset=utf-8"]),new qt(t).json()):t},Or={after:[],auth:{username:"",password:""},baseURL:ht.location.origin,before:[],data:null,headers:{},method:"get",params:{},query:{},responseType:"",timeout:0,url:"",withCredentials:!1},Sr=new Zt(["post","put"]),jr=function(e){function n(){function e(){return e.request.apply(e,arguments)}var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Et(this,n);var i=Ct(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=new qt({}).deepAssign(Or,r).$;return o.before.indexOf(nt)===-1&&o.before.push(nt),Object.defineProperty(e,"$$",{value:o}),Object.setPrototypeOf(e,n.prototype),t=e,Ct(i,t)}return Tt(n,e),Ot(n,[{key:"after",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Fetch#after");var e=this.$$.after;return n?e.push(t):e.unshift(t),this}},{key:"before",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];T([t],["function"],"Fetch#before");var e=this.$$.before;return n?e.unshift(t):e.push(t),this}},{key:"config",value:function(e,t){var n=this.$$;return arguments.length?(c(e)?e(n):(arguments.length>=2&&(e=St({},e,t)),new qt(n).deepAssign(e)),this):n}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,O({method:"delete"},t))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,O({method:"get"},t))}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $(e)||(t=e,e=void 0),this.request(e,O({method:"head"},t))}},{key:"headers",value:function e(n,r){var e=this.$$.headers;return arguments.length>=2&&(n=St({},n,r)),E(n,function(n,r){var i=e[r]||[],o=t(n)?n:[n];(e[r]=i).push.apply(i,o)}),this}},{key:"instance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new qt(e).hasOwn("data")?{data:e.data}:{};delete e.data;var r=new qt({}).deepAssign(this.$$,e).assign(t).$;return new n(r)}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"patch",data:t},n))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"post",data:t},n))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length&&!$(e)&&(n=t,t=e,e=void 0),this.request(e,O({method:"put",data:t},n))}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};1!==arguments.length||$(e)||(t=e);var n=new qt(t).hasOwn("data")?{data:t.data}:{},r=$(e)?{url:e}:{};delete t.data;var i=new qt(this.$$).deepClone().deepAssign(r,t).assign(n).$,o=void 0,a=Wt.resolve();return E(i.before,function(e){a=a.then(function(){return e.length>=2?Wt.resolve():new Wt(function(t){t(e(i))})},function(t){return e.length<2?Wt.reject(t):new Wt(function(n){n(e(t,i))})})}),a=a.then(function(){return new Wt(function(e,t){var n=i.after,r=i.auth,a=r.username,u=r.password,c=i.data,l=i.headers,s=i.method,f=i.onprogress,h=i.responseType,v=i.timeout,d=i.url,p=i.withCredentials;o=new XMLHttpRequest,o.open(s,d,!0,a,u),E(l,function(e,t){o.setRequestHeader(t,e)}),f&&(Sr.indexOfStrict(s)===-1?o.onprogress=f:o.upload.onprogress=f),o.onabort=function(){t(new Error("Request was aborted")),o=null},o.onerror=function(){t(new Error("Network error")),o=null},o.ontimeout=function(){t(new Error("Request time exceeded")),o=null},o.onreadystatechange=function(){if(o&&o.status&&4===o.readyState){var t={config:i,data:h&&"text"!==h?o.response:o.responseText,headers:kr(o.getAllResponseHeaders()),status:1223===o.status?204:o.status,statusText:1223===o.status?"No Content":o.statusText,xhr:o},r=Wt.resolve();E(n,function(e){r=r.then(function(){return e.length>=2?Wt.resolve():new Wt(function(n){n(e(t))})},function(n){return e.length<2?Wt.reject(n):new Wt(function(r){r(e(n,t))})})}),e(r.then(function(){return t}).catch(function(e){try{e.response=t}catch(t){throw e}throw e}))}},o.responseType=h,o.timeout=Number(v)||0,o.withCredentials=!!p,o.send(c)})}),a.abort=function(){return o&&o.abort(),this},a}}]),n}(Function);j(jr.prototype,St({},Dt.toStringTag,"Fetch"));var _r=new jr,Tr=ht,Rr=Tr.location,Cr=function(e){var t=Rr.search,n=Rr.hash,r={query:{},hash:n.replace(/^#/,"")};return t?(new rn(t.replace(/^\?/,"")).split("&").forEach(function(t){var n=t.split("="),i=At(n,2),o=i[0],a=i[1],u=void 0===a?"":a;if(o=e?decodeURIComponent(o):o,u=e?decodeURIComponent(u):u,/^[^[]+/.test(o)){var c=void 0,l=r.query;new rn(o).match(/^[^[\]]*|\[[^[\]]*]/g).forEach(function(e){return e.indexOf("[")?void(c=e):(e=e.slice(1,-1),l=l[c]=l[c]||(e?{}:[]),void(c=e||l.length))}),l[c]=u}}),r):r},Ar=new Zt([]),Lr=new qt({}),Pr=ht,Dr=Pr.history,Nr=Pr.location,Mr=Pr.location,Ur=Mr.origin,Br=Mr.href,qr=void 0,Ir=void 0,Fr=void 0,Wr=void 0,Hr=void 0,zr=void 0,Vr=void 0,Gr=void 0,Jr=void 0,Qr=void 0,Zr=void 0,Yr=A("call",function(){throw new Error("State path must be a string, a regular expression or undefined! (at registerState)")}).case(w,function(e){return{path:e.source.replace(/\\\//g,"/"),url:e,params:{}}}).case(v,function(){return{path:"/",url:"/",params:{}}}).case($,function(e){if(e.indexOf("/"))throw new Error('If route path is a string it must start with "/"! (at registerState)');var t=e.indexOf("?"),n=new qt({}),r="",i=new rn(e).slice(0,t===-1?e.length:t).replace(/^\/|\/$/g).split(/\//).map(function(e,t,r){if(!e&&r.length>1)throw new Error('If route path is a string it must not contain "//" or end with "/"! (at makeRoute)');var i=e.indexOf(":");if(i>0)throw new Error("If route path is a string resource part must be either a string or an URL parameter! (at makeRoute)");if(i===-1)return{url:e,value:e};var o=ft(e.slice(1),'URL parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"URL parameter regexp validator must be within parentheses (e.g. :userId(\\d+) and not contain ones)! (at makeRoute)"),a=o.name,u=o.regexp,c=void 0===u?/[^\/]*/:u;return n.$[a]=n.count,{type:"param",url:":"+a,value:c}}).word(function(e){var t=e.type,n=e.url,i=e.value,o=void 0;return o="param"===t?"("+i.source.replace(/\\\//g,"/")+")":new rn(i).escapeRegExp().$,r+="/"+n,"/"+o});return{path:i,url:r,params:n.$}}),Xr=function e(t){Et(this,e),t=t||{};var n=t||{},r=n.name,i=n.path,o=void 0===i?"/":i,a=n.abstract,u=void 0!==a&&a,c=n.parent,l=n.decodeQuery,s=void 0===l||l,f=n.encodeQuery,h=void 0===f||f,v=n.decodeParams,d=void 0===v||v,p=n.encodeParams,g=void 0===p||p,m=Yr(o),y=m.url,w=m.path,k=m.params,b={};new qt(this).assign({name:r,parentName:c,abstract:!!u,children:new Zt([]),decodeParams:!!d,decodeQuery:!!s,encodeParams:!!g,encodeQuery:!!h,params:k,query:b,relativePath:w,relativeURL:y});var x=$(o)?o.indexOf("?"):-1;if(x!==-1&&new rn(o).replace(/&$/).slice(x+1).split("&").forEach(function(e){var t=ft(e,'Query parameter must not be an empty string or contain characters besides "a-zA-Z_$"! (at makeRoute)',"Query parameter regexp validator must be within parentheses (e.g. :userId(\\d+)) and not contain them! (at makeRoute)"),n=t.name,r=t.regexp,i=void 0===r?/[\s\S]*/:r;b[n]=new RegExp("^"+i.source.replace(/\\\//g,"/")+"$")}),r===Gr&&(new qt(k).count||new qt(b).count))throw new Error("Default route must not have URL or query params! (at makeRoute)")},Kr=new Xr,ei=Object.freeze({D:x,isArray:t,isArrayLike:n,isBoolean:r,isDate:i,isDateLike:o,isElement:a,isFinite:u,isFunction:c,isInteger:l,isIntegerLike:s,isNaN:f,isNull:h,isNil:v,isNumber:d,isNumberLike:p,isObject:g,isPlainObject:m,isPrimitive:y,isRegExp:w,isString:$,isSymbol:k,isUndefined:b,Alphabet:Mt,alphabet:C,Arr:Zt,array:K,iterate:ee,BlobObject:en,blob:te,Block:ar,Mixin:ur,initApp:Be,Dat:mr,now:Xe,date:Ke,Elem:Ln,win:Pn,doc:Dn,html:Nn,body:Mn,head:Un,find:ye,parseHTML:we,px:$e,Fetch:jr,fetch:_r,Func:Ht,method:V,noop:G,prop:J,self:Q,Num:Qt,rand:Z,random:Y,Promise:Wt,makeRoute:it,Str:rn,parseJSON:re,Super:qt,Switcher:Ut,switcher:A,when:L}),ti=x;O(ti,ei),delete ti.D,ht.D=ti}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uL2xpYi9oZWxwZXJzL3RvU3RyaW5nVGFnLmpzIiwiLi4vbGliL2hlbHBlcnMvY2hlY2tUeXBlcy5qcyIsIi4uL2xpYi9ELmpzIiwiLi4vbGliL2hlbHBlcnMvaXRlcmF0ZS5qcyIsIi4uL2xpYi9oZWxwZXJzL2Fzc2lnbi5qcyIsIi4uL2xpYi9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwiLi4vbGliL2hlbHBlcnMvdG9BcnJheS5qcyIsIi4uL2xpYi9oZWxwZXJzL3ZhbGlkYXRlLmpzIiwiLi4vbGliL0FscGhhYmV0LmpzIiwiLi4vbGliL1N3aXRjaGVyLmpzIiwiLi4vbGliL1N1cGVyLmpzIiwiLi4vbGliL0Z1bmMuanMiLCIuLi9saWIvTnVtLmpzIiwiLi4vbGliL0Fyci5qcyIsIi4uL2xpYi9CbG9iT2JqZWN0LmpzIiwiLi4vbGliL1N0ci5qcyIsIi4uL2xpYi9oZWxwZXJzL21hcmt1cFRvSlNPTi5qcyIsIi4uL2xpYi9FbGVtLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWJsb2NrLmpzIiwiLi4vbGliL2Jsb2Nrcy9kLWVhY2guanMiLCIuLi9saWIvYmxvY2tzL2QtZWxlbWVudHMuanMiLCIuLi9saWIvYmxvY2tzL2QtaWYuanMiLCIuLi9saWIvYmxvY2tzL2QtaXRlbS5qcyIsIi4uL2xpYi9ibG9ja3MvZC1zd2l0Y2guanMiLCIuLi9saWIvYmxvY2tzL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC1hdHRyLmpzIiwiLi4vbGliL21peGlucy9kLWJpbmQuanMiLCIuLi9saWIvbWl4aW5zL2QtY2xhc3MuanMiLCIuLi9saWIvbWl4aW5zL2QtZWxlbS5qcyIsIi4uL2xpYi9taXhpbnMvZC1oaWRlLmpzIiwiLi4vbGliL21peGlucy9kLW9uLmpzIiwiLi4vbGliL21peGlucy9kLXNob3cuanMiLCIuLi9saWIvbWl4aW5zL2Qtc3R5bGUuanMiLCIuLi9saWIvbWl4aW5zL2QtdGV4dC5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWxpZGF0ZS5qcyIsIi4uL2xpYi9taXhpbnMvZC12YWx1ZS5qcyIsIi4uL2xpYi9CbG9jay5qcyIsIi4uL2xpYi9jb25zdGFudHMvZm9ybWF0cy5qcyIsIi4uL2xpYi9EYXQuanMiLCIuLi9saWIvaGVscGVycy9jb25zdHJ1Y3RVUkwuanMiLCIuLi9saWIvRmV0Y2guanMiLCIuLi9saWIvUm91dGVyLmpzIiwiLi4vbGliL2NvbnN0YW50cy9nbG9iYWwuanMiLCIuLi9saWIvY29uc3RhbnRzL2FwcGxpZWRSZWdFeHBzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jYW52YXNNZXRob2RzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9jb25zdHJ1Y3RvcnMuanMiLCIuLi9saWIvY29uc3RhbnRzL2VsZW1lbnRzLmpzIiwiLi4vbGliL2NvbnN0YW50cy9odG1sQWxsb3dlZFRhZ1N5bWJvbHMuanMiLCIuLi9saWIvY29uc3RhbnRzL3JlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzLmpzIiwiLi4vbGliL2NvbnN0YW50cy92YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMuanMiLCIuLi9saWIvaGVscGVycy9TeW1ib2wuanMiLCIuLi9saWIvUHJvbWlzZS5qcyIsIi4uL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIi4uL2xpYi9oZWxwZXJzL3RyYW5zZm9ybURhdGEuanMiLCIuLi9saWIvaGVscGVycy9yZXNvbHZlVVJMLmpzIiwiLi4vYnJvd3Nlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3RvU3RyaW5nVGFnXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHRvU3RyaW5nVGFnIG1ldGhvZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvU3RyaW5nVGFnXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGdldCB0b1N0cmluZ1RhZyBvZi5cclxuICogQHJldHVybnMge1N0cmluZ30gQ3V0IHN0cmluZy5cclxuICogQGRlc2NyaXB0aW9uIEN1dCBcIlR5cGVcIiBzdHJpbmcgZnJvbSBcIltvYmplY3QgVHlwZV1cIiBzdHJpbmcgdGhhdCBnb3R0ZW4gZnJvbSB7fS50b1N0cmluZyxjYWxsKG9iamVjdCkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmdUYWcob2JqZWN0KSB7XHJcbiAgcmV0dXJuIHt9LnRvU3RyaW5nLmNhbGwob2JqZWN0KS5yZXBsYWNlKC9eXFxbb2JqZWN0IHxdJC9nLCAnJyk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9jaGVja1R5cGVzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBpczxUeXBlPiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IHRvU3RyaW5nVGFnIH0gZnJvbSAnLi90b1N0cmluZ1RhZyc7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzQXJyYXlcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYW4gYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXkgb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNBcnJheShbXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzQXJyYXkoMCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7IC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdBcnJheSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNBcnJheUxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYXJyYXktbGlrZS5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhcnJheS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIHRoZSBhcmd1bWVudCBoYXMgbm9uLW5lZ2F0aXZlIGludGVnZXIgXCJsZW5ndGhcIiBwcm9wZXJ0eSBhbmQgaXNuJ3QgYSBmdW5jdGlvbi5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzQXJyYXlMaWtlKFtdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNBcnJheUxpa2UoJycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0FycmF5TGlrZSgoKSA9PiB7fSk7ICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0FycmF5TGlrZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcclxuICBpZiAoIXZhbHVlIHx8IGlzRnVuY3Rpb24odmFsdWUpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcclxuICBcclxuICByZXR1cm4gaXNJbnRlZ2VyKGxlbmd0aCkgJiYgbGVuZ3RoID49IDA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNCb29sZWFuXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgYm9vbGVhbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIGJvb2xlYW4gb3Igbm90LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNCb29sZWFuKHRydWUpOyAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNCb29sZWFuKG5ldyBCb29sZWFuKGZhbHNlKSk7IC8vIHRydWVcclxuICogaXNCb29sZWFuKG51bGwpOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Jvb2xlYW4nO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRGF0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIGRhdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBkYXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRGF0ZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRGF0ZSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNEYXRlTGlrZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBkYXRlLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZGF0ZS1saWtlIG9yIG5vdC5cclxuICogQGRlc2NyaXB0aW9uIEJhc2ljYWxseSByZXR1cm5zIGlmIG5ldyBEYXRlKGFyZ3VtZW50KSBpcyBub3QgaW52YWxpZCBkYXRlLlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogaXNEYXRlTGlrZShuZXcgRGF0ZSgpKTsgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJyk7IC8vIHRydWVcclxuICogaXNEYXRlTGlrZSgwKTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGVMaWtlKHZhbHVlKSB7XHJcbiAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICFpc05hTih2YWx1ZS5nZXRUaW1lKCkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbWVudFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBlbGVtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGVsZW1lbnQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudCh2YWx1ZSkge1xyXG4gIHJldHVybiAvRWxlbWVudCQvLnRlc3QodG9TdHJpbmdUYWcodmFsdWUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Zpbml0ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBmaW5pdGUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgZmluaXRlIG9yIG5vdC5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzRmluaXRlKDApOyAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0Zpbml0ZSgnMCcpOyAgICAgIC8vIGZhbHNlXHJcbiAqIGlzRmluaXRlKEluZmluaXR5KTsgLy8gZmFsc2VcclxuICogaXNGaW5pdGUoTmFOKTsgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gIWlzTmFOKHZhbHVlKSAmJiB2YWx1ZSAhPT0gSW5maW5pdHkgJiYgdmFsdWUgIT09IC1JbmZpbml0eTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0Z1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgZnVuY3Rpb24uXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiBvciBub3QuXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc0Z1bmN0aW9uKCgpID0+IHt9KTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIFxyXG4gKiBjb25zdCBmdW5jID0gKCkgPT4ge307XHJcbiAqIE9iamVjdC5zZXRQcm90b3R5cGVPZihmdW5jLCB7fSk7XHJcbiAqIGlzRnVuY3Rpb24oZnVuYyk7ICAgICAgICAgICAgICAgIC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ0Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNJbnRlZ2VyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGFuIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gaW50ZWdlciBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlcigwKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoMC4xKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzSW50ZWdlcihJbmZpbml0eSk7ICAgICAgLy8gZmFsc2VcclxuICogaXNJbnRlZ2VyKE5hTik7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xyXG4gIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgJSAxID09PSAwO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSW50ZWdlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgaW50ZWdlci1saWtlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGludGVnZXItbGlrZSBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzSW50ZWdlckxpa2UoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNJbnRlZ2VyTGlrZShuZXcgTnVtYmVyKDApKTsgLy8gdHJ1ZVxyXG4gKiBpc0ludGVnZXJMaWtlKDAuMSk7ICAgICAgICAgICAvLyBmYWxzZVxyXG4gKiBpc0ludGVnZXJMaWtlKCcwJyk7ICAgICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlZ2VyTGlrZSh2YWx1ZSkge1xyXG4gIHZhbHVlID0gcGFyc2VJbnQoTnVtYmVyKHZhbHVlKSk7XHJcblxyXG4gIHJldHVybiAhISh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOYU5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgTmFOLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIE5hTiBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzTmFOKDApOyAgICAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKCdOYU4nKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzTmFOKE5hTik7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOYU4obmV3IE51bWJlcihOYU4pKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XHJcbiAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgdmFsdWUgPSBOdW1iZXIodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVsbFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBudWxsLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIG51bGwgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bGwobnVsbCk7ICAgICAgLy8gdHJ1ZVxyXG4gKiBpc051bGwodW5kZWZpbmVkKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcclxuICByZXR1cm4gdmFsdWUgPT09IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNOaWxcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVsbCBvciB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc05pbChudWxsKTsgICAgICAvLyB0cnVlXHJcbiAqIGlzTmlsKHVuZGVmaW5lZCk7IC8vIHRydWVcclxuICogaXNOaWwoZmFsc2UpOyAgICAgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05pbCh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzTnVtYmVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNOdW1iZXIoMCk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIobmV3IE51bWJlcigwKSk7IC8vIHRydWVcclxuICogaXNOdW1iZXIoTmFOKTsgICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXIoJzAnKTsgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnTnVtYmVyJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc051bWJlckxpa2VcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgbnVtYmVyLWxpa2UuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgbnVtYmVyLWxpa2Ugb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc051bWJlckxpa2UoMCk7ICAgICAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKCcwJyk7ICAgICAgICAvLyB0cnVlXHJcbiAqIGlzTnVtYmVyTGlrZSgnSW5maW5pdHknKTsgLy8gdHJ1ZVxyXG4gKiBpc051bWJlckxpa2UoJ05hTicpOyAgICAgIC8vIHRydWVcclxuICogaXNOdW1iZXJMaWtlKE5hTik7ICAgICAgICAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXJMaWtlKHZhbHVlKSB7XHJcbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJ05hTicpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBcclxuICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XHJcbiAgXHJcbiAgcmV0dXJuICEhKHZhbHVlIHx8IHZhbHVlID09PSAwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc09iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhbiBvYmplY3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0IG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNPYmplY3Qoe30pOyAgIC8vIHRydWVcclxuICogaXNPYmplY3QoMSk7ICAgIC8vIGZhbHNlXHJcbiAqIGlzT2JqZWN0KG51bGwpOyAvLyBmYWxzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ09iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB2YWx1ZSBpbnN0YW5jZW9mIE9iamVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNQbGFpbk9iamVjdFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHBsYWluIG9iamVjdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHBsYWluIG9iamVjdCBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IG9iaiA9IHt9O1xyXG4gKlxyXG4gKiBpZlBsYWluT2JqZWN0KG9iaik7IC8vIHRydWVcclxuICpcclxuICogT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgbnVsbCk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gdHJ1ZVxyXG4gKlxyXG4gKiBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCB7fSk7XHJcbiAqXHJcbiAqIGlmUGxhaW5PYmplY3Qob2JqKTsgLy8gZmFsc2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XHJcbiAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xyXG5cclxuICBpZiAoaXNOdWxsKHByb3RvKSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25zdHJ1Y3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xyXG5cclxuICByZXR1cm4gaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiZcclxuICAgIGNvbnN0cnVjdG9yIGluc3RhbmNlb2YgY29uc3RydWN0b3IgJiZcclxuICAgIGlzTnVsbChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1ByaW1pdGl2ZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBwcmltaXRpdmUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgcHJpbWl0aXZlIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNQcmltaXRpdmUoMSk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNQcmltaXRpdmUoe30pOyAgICAgICAgICAgIC8vIGZhbHNlXHJcbiAqIGlzUHJpbWl0aXZlKCcnKTsgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUHJpbWl0aXZlKG5ldyBOdW1iZXIoMCkpOyAvLyBmYWxzZVxyXG4gKiBpc1ByaW1pdGl2ZSh0cnVlKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShTeW1ib2woJ2ZvbycpKTsgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZShudWxsKTsgICAgICAgICAgLy8gdHJ1ZVxyXG4gKiBpc1ByaW1pdGl2ZSh1bmRlZmluZWQpOyAgICAgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XHJcbiAgcmV0dXJuIGlzTnVsbCh2YWx1ZSkgfHwgL14obnVtYmVyfHN0cmluZ3xib29sZWFufHN5bWJvbHx1bmRlZmluZWQpJC8udGVzdCh0eXBlb2YgdmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzUmVnRXhwXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIGEgcmVndWxhciBleHByZXNzaW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgcmVndWxhciBleHByZXNzaW9uIG9yIG5vdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogaXNSZWdFeHAoL2Zvby8pOyAgICAgICAgICAgICAvLyB0cnVlXHJcbiAqIGlzUmVnRXhwKCcvZm9vLycpOyAgICAgICAgICAgLy8gZmFsc2VcclxuICogaXNSZWdFeHAobmV3IFJlZ0V4cCgnZm9vJykpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnUmVnRXhwJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc1N0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCBpcyBhIHN0cmluZy5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyBhIHN0cmluZyBvciBub3QuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGlzU3RyaW5nKCcwJyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICogaXNTdHJpbmcobmV3IFN0cmluZygnMCcpKTsgLy8gdHJ1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nVGFnKHZhbHVlKSA9PT0gJ1N0cmluZyc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTeW1ib2xcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQgaXMgYSBzeW1ib2wuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgaXMgYSBzeW1ib2wgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1N5bWJvbChTeW1ib2woJzEnKSk7IC8vIHRydWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdTeW1ib2wnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzVW5kZWZpbmVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0IGlzIHVuZGVmaW5lZC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBhcmd1bWVudCBpcyB1bmRlZmluZWQgb3Igbm90LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpc1VuZGVmaW5lZChudWxsKTsgICAgICAvLyBmYWxzZVxyXG4gKiBpc1VuZGVmaW5lZCh1bmRlZmluZWQpOyAvLyB0cnVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcclxuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBEXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEQgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBEXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbdmFsdWVdIC0gQW55IHZhbHVlLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IFdyYXAgb2YgdGhlIGFyZ3VtZW50LlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgRC13cmFwIG9mIGFuIG9iamVjdC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogRCh7fSk7ICAgICAgICAgICAgLy8gU3VwZXJcclxuICogRCgoKSA9PiB7fSk7ICAgICAgLy8gRnVuY1xyXG4gKiBEKFtdKTsgICAgICAgICAgICAvLyBBcnJcclxuICogRCgxKTsgICAgICAgICAgICAgLy8gTnVtXHJcbiAqIEQoJzEnKTsgICAgICAgICAgIC8vIFN0clxyXG4gKiBEKG5ldyBEYXRlKCkpOyAgICAvLyBEYXRcclxuICogRChkb2N1bWVudC5ib2R5KTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gRCh2YWx1ZSkge1xyXG4gIGZvciAobGV0IGkgPSBjb25zdHJ1Y3RvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIGNvbnN0IGxldmVsQ29uc3RydWN0b3JzID0gY29uc3RydWN0b3JzW2ldO1xyXG5cclxuICAgIGZvciAobGV0IGsgPSAwLCBsZW4gPSBsZXZlbENvbnN0cnVjdG9ycy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGxldmVsQ29uc3RydWN0b3JzW2tdO1xyXG5cclxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgY29uc3RydWN0b3IuY2xzKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uc3RydWN0b3IuY2hlY2sodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3Rvci5jbHModmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgKiBmcm9tICcuL2hlbHBlcnMvY2hlY2tUeXBlcyc7XHJcbmV4cG9ydCB7IEQgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9pdGVyYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGl0ZXJhdGUgbWV0aG9kLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGlzQXJyYXlMaWtlLCBpc1VuZGVmaW5lZCB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGlvbkNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBJdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gSXRlcmF0aW9uIGtleS5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJbml0aWFsIGl0ZXJhYmxlIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHBhcmFtIHsoT2JqZWN0fEFycmF5fG51bGx8dW5kZWZpbmVkKX0gb2JqZWN0IC0gVmFsdWUgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IElmIGNhbGxiYWNrIHJldHVybnMgbm90IHVuZGVmaW5lZCB0aGVuIGl0ZXJhdGUgcmV0dXJucyB0aGlzIHZhbHVlLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGl0ZXJhdGluZyBvdmVyIGFsbCB0eXBlcyBvZiB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXRlcmF0ZShvYmplY3QsIGNhbGxiYWNrKSB7XHJcbiAgY29uc3QgYXJyYXkgPSBpc0FycmF5TGlrZShvYmplY3QpO1xyXG4gIGNvbnN0IGl0ZXJhdGVkS2V5cyA9IHt9O1xyXG5cclxuICBsZXQgaXRlcmF0ZWQgPSAwO1xyXG5cclxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcclxuICAgIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhdGVkS2V5cywga2V5KSkge1xyXG4gICAgICBjb250aW51ZTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlZEtleXNba2V5XSA9IHRydWU7XHJcblxyXG4gICAgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XHJcbiAgICAgIGlmIChhcnJheSAmJiBpdGVyYXRlZCsrID49IG9iamVjdC5sZW5ndGgpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdmFsdWUgPSBjYWxsYmFjayhvYmplY3Rba2V5XSwgYXJyYXkgPyBOdW1iZXIoa2V5KSA6IGtleSwgb2JqZWN0KTtcclxuXHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvYXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE9iamVjdC5hc3NpZ24tbGlrZSBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaXRlcmF0ZSB9IGZyb20gJy4vaXRlcmF0ZSc7XHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEBmdW5jdGlvbiBhc3NpZ25cclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBhc3NpZ24gcmVzdCBvZiBhcmd1bWVudHMgdG8uXHJcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzIC0gT2JqZWN0cyB0aGF0IGFyZSBhc3NpZ25lZCB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUYXJnZXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgLi4ub2JqZWN0cykge1xyXG4gIGl0ZXJhdGUoYXJndW1lbnRzLCAoc291cmNlLCBpbmRleCkgPT4ge1xyXG4gICAgaWYgKGluZGV4KSB7XHJcbiAgICAgIGl0ZXJhdGUoc291cmNlLCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICAgXHJcbiAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL2RlZmluZVByb3BlcnR5XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGRlZmluZVByb3BlcnR5IGFuZCBkeW5hbWljRGVmaW5lUHJvcGVydGllcyBtZXRob2RzLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IGl0ZXJhdGUgfSBmcm9tICcuL2l0ZXJhdGUnO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSW5kZXggb2YgdGhlIGFycmF5LlxyXG4gKiBAcmV0dXJucyB7Kn0gR2VuZXJhdGVkIHByb3BlcnR5LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZHluYW1pY0RlZmluZVByb3BlcnRpZXNcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCB0byBkZWZpbmUgcHJvcGVydGllcyBmb3IuXHJcbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BlcnRpZXMgLSBPYmplY3Qgd2hpY2gga2V5cyBhcmUgcHJvcGVydGllcy5cclxuICogQHBhcmFtIHtwcm9wZXJ0eUdlbmVyYXRvckNhbGxiYWNrfSBwcm9wZXJ0eUdlbmVyYXRvciAtIENhbGxiYWNrIGZvciBldmVyeSBwcm9wZXJ0eS5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgZHluYW1pYyBjcmVhdGluZyBwcm9wZXJ0aWVzIGJhc2VkIG9uIG5hbWUgb2YgdGhlIG1ldGhvZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljRGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMsIHByb3BlcnR5R2VuZXJhdG9yKSB7XHJcbiAgaXRlcmF0ZShwcm9wZXJ0aWVzLCAobmFtZSwgaSkgPT4ge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICB2YWx1ZTogcHJvcGVydHlHZW5lcmF0b3IobmFtZSwgaSksXHJcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBUYXJnZXQgdG8gZGVmaW5lIHByb3BlcnRpZXMgZm9yLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIE9iamVjdCB3aXRoIHByb3BlcnRpZXMgbmVlZGVkIHRvIGJlIGFzc2lnbiB0byB0aGUgdGFyZ2V0LlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBkZWZpbmluZyBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcGVydGllcykge1xyXG4gIGl0ZXJhdGUocHJvcGVydGllcywgKG1ldGhvZCwgbmFtZSkgPT4ge1xyXG4gICAgaWYgKC9eZ2V0IC8udGVzdChuYW1lKSkge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBuYW1lLnJlcGxhY2UoL15nZXQgLywgJycpLCB7XHJcbiAgICAgICAgZ2V0OiBtZXRob2QsXHJcbiAgICAgICAgc2V0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvXnNldCAvLnRlc3QobmFtZSkpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZS5yZXBsYWNlKC9ec2V0IC8sICcnKSwge1xyXG4gICAgICAgIHNldDogbWV0aG9kLFxyXG4gICAgICAgIGdldDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoL15nZXRcXC9zZXQgLy50ZXN0KG5hbWUpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUucmVwbGFjZSgvXmdldFxcL3NldCAvLCAnJyksIHtcclxuICAgICAgICBnZXQ6IG1ldGhvZC5nZXQsXHJcbiAgICAgICAgc2V0OiBtZXRob2Quc2V0LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSAhPT0gJ1N5bWJvbC50b1N0cmluZ1RhZycpIHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgbmFtZSwge1xyXG4gICAgICAgIHZhbHVlOiBtZXRob2QsXHJcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvdG9BcnJheVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyB0b0FycmF5IG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNTdHJpbmcgfSBmcm9tICcuL2NoZWNrVHlwZXMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdG9BcnJheVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQW55IHZhbHVlLlxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtjcmVhdGVOZXdBcnJheSA9IGZhbHNlXSAtIElmIGl0IGlzIG5lZWRlZCB0byBjcmVhdGUgbmV3IGFycmF5LlxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IENyZWF0ZSBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhcnJheSBvZiBhbnkgdmFsdWUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgY3JlYXRlTmV3QXJyYXkpIHtcclxuICBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgIWNyZWF0ZU5ld0FycmF5KSB7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhcnJheSA9IFtdO1xyXG5cclxuICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmICFpc1N0cmluZyh2YWx1ZSkpIHtcclxuICAgIGl0ZXJhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBhcnJheTtcclxufVxyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3ZhbGlkYXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIHZhbGlkYXRlIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyB2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vY2hlY2tUeXBlcyc7XHJcblxyXG5jb25zdCBudW1iZXJzID0gWycxc3QnLCAnMm5kJywgJzNyZCcsICc0dGgnLCAnNXRoJywgJzZ0aCcsICc3dGgnXTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdmFsaWRhdGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtPYmplY3R9IGFyZ3MgLSBBcmd1bWVudHMgb2YgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT2JqZWN0IHdpdGggdmFsaWRhdGUgcGFyYW1ldGVycy5cclxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIE5hbWUgb2YgdGhlIGZ1bmN0aW9uIHdoYXQgY2FsbGVkIHZhbGlkYXRlLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjaGVja2luZyBhcmd1bWVudHMgb2Ygb3RoZXIgZnVuY3Rpb25zLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKGFyZ3MsIG9wdGlvbnMsIG5hbWUpIHtcclxuICBpdGVyYXRlKG9wdGlvbnMsIChhcnJheSwgbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIWlzQXJyYXkoYXJyYXkpKSB7XHJcbiAgICAgIGFycmF5ID0gW2FycmF5XTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFycmF5LCAoY2hlY2tlcikgPT4ge1xyXG4gICAgICBjaGVja2VyID0gdmFsaWRhdGVDaGVja0V4cHJlc3Npb25zW2NoZWNrZXJdO1xyXG5cclxuICAgICAgaWYgKCFjaGVja2VyLmNoZWNrKGFyZ3NbbnVtYmVyXSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgY2hlY2tlci5lcnJvcihjaGVja2VyLnRleHQucmVwbGFjZSgnJG4nLCBudW1iZXJzW251bWJlcl0pICsgKG5hbWUgPyBgIChhdCAkeyBuYW1lIH0pYCA6ICcnKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEFscGhhYmV0XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBBbHBoYWJldCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBpc1N0cmluZywgdmFsaWRhdGUsIGRlZmluZVByb3BlcnRpZXMsIFN5bWJvbCB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ30gQ2hhclxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBvZiBvbmUgY2hhci5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtBcnJheUxpa2V9IGFscGhhYmV0IC0gQWxwaGFiZXQgdG8gd3JhcC5cclxuICogQHJldHVybnMge0FscGhhYmV0fSBJbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBhbHBoYWJldCBtYW5pcHVsYXRpb25zOiBhZGQsIGRlbGV0ZSBzeW1ib2xzLCBnZW5lcmF0ZSBhIHRva2VuIGZyb20gYW4gYWxwaGFiZXQsXHJcbiAqIGNoZWNrIGlmIGFuIGFscGhhYmV0IGNvbnRhaW5zIGEgd29yZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAqL1xyXG5jbGFzcyBBbHBoYWJldCB7XHJcbiAgY29uc3RydWN0b3IoYWxwaGFiZXQgPSBbXSkge1xyXG4gICAgY29uc3QgYSA9IHt9O1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBhbHBoYWJldC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjaGFyID0gYWxwaGFiZXRbaV07XHJcblxyXG4gICAgICBpZiAoIWNoZWNrKGNoYXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXkgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFbY2hhcl0gPSBjaGFyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7T2JqZWN0fSBBbHBoYWJldCMkJFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSBhbHBoYWJldC5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICckJCcsIHsgdmFsdWU6IGEgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFscGhhYmV0I2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLkNoYXJ9IGNoYXJzIC0gQ2hhcnMgdG8gYWRkLlxyXG4gICAqIEByZXR1cm5zIHtBbHBoYWJldH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgbGV0dGVycyB0byB0aGUgYWxwaGFiZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGFscGhhYmV0ID0gbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5hZGQoJ2QnLCAnZScpO1xyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZ2V0KCkuJDsgLy8gWydhJywgJ2InLCAnYycsICdkJywgJ2UnXVxyXG4gICAqL1xyXG4gIGFkZCguLi5jaGFycykge1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGNoYXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNoYXIgPSBjaGFyc1tpXTtcclxuXHJcbiAgICAgIGlmICghY2hlY2soY2hhcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VhY2ggYXJndW1lbnQgbXVzdCBiZSBhIHNpbmdsZSBjaGFyISAoaW4gQWxwaGFiZXQjYWRkKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkW2NoYXJdID0gY2hhcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjY29udGFpbnNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHdvcmQgLSBXb3JkIHRvIGNoZWNrIGlmIGl0IGlzIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB3b3JkIGluIHRoZSBhbHBoYWJldCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCB0aGF0IHJldHVybnMgaWYgYSB3b3JkIGlzIGluIGFscGhhYmV0IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgYWxwaGFiZXQgPSBuZXcgQWxwaGFiZXQoWydmJywgJ2InLCAnbycsICdhJywgJ3InXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnZm9vJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmFyJyk7IC8vIHRydWVcclxuICAgKiBhbHBoYWJldC5jb250YWlucygnYmF6Jyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgY29udGFpbnMod29yZCkge1xyXG4gICAgdmFsaWRhdGUoW3dvcmRdLCBbJ3N0cmluZyddLCAnQWxwaGFiZXQjY29udGFpbnMnKTtcclxuXHJcbiAgICBjb25zdCBhbHBoYWJldCA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHdvcmQubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCFhbHBoYWJldFt3b3JkW2ldXSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5DaGFyfSBjaGFycyAtIENoYXJzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7QWxwaGFiZXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWxldGluZyBsZXR0ZXJzIGZyb20gdGhlIGFscGhhYmV0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBhbHBoYWJldCA9IG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJywgJ2QnXSk7XHJcbiAgICpcclxuICAgKiBhbHBoYWJldC5kZWxldGUoJ2EnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYicsICdjJywgJ2QnXVxyXG4gICAqXHJcbiAgICogYWxwaGFiZXQuZGVsZXRlKCdiJywgJ2QnKTtcclxuICAgKlxyXG4gICAqIGFscGhhYmV0LmdldCgpLiQ7IC8vIFsnYyddXHJcbiAgICovXHJcbiAgZGVsZXRlKC4uLmNoYXJzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gY2hhcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgY2hhciA9IGNoYXJzW2ldO1xyXG5cclxuICAgICAgaWYgKCFjaGVjayhjaGFyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRWFjaCBhcmd1bWVudCBtdXN0IGJlIGEgc2luZ2xlIGNoYXIhIChpbiBBbHBoYWJldCNkZWxldGUpJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGRlbGV0ZSB0aGlzLiQkW2NoYXJdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBbHBoYWJldCNnZXRcclxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFdyYXAgb2YgYW4gYXJyYXkgb2YgYWxwaGFiZXQgbGV0dGVycy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIGFycmF5IG9mIGFscGhhYmV0IGxldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBbHBoYWJldChbJ2EnLCAnYicsICdjJ10pLmdldCgpLiQ7IC8vIFsnYScsICdiJywgJ2MnXVxyXG4gICAqL1xyXG4gIGdldCgpIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLiQkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQWxwaGFiZXQjdG9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCAtIFRva2VuIGxlbmd0aC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZW5lcmF0aW5nIHJhbmRvbSB0b2tlbiB3aXRoIGdpdmVuIGxlbmd0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFscGhhYmV0KFsnYScsICdiJywgJ2MnXSkudG9rZW4oNCk7IC8vICdhYmNiJ1xyXG4gICAqL1xyXG4gIHRva2VuKGxlbmd0aCkge1xyXG4gICAgdmFsaWRhdGUoW2xlbmd0aF0sIFtbJ2ludExpa2UnLCAnPjAnXV0sICdBbHBoYWJldCN0b2tlbicpO1xyXG5cclxuICAgIGNvbnN0IGFscGhhYmV0ID0gT2JqZWN0LmtleXModGhpcy4kJCk7XHJcbiAgICBjb25zdCBsZW4gPSBhbHBoYWJldC5sZW5ndGg7XHJcbiAgICBsZXQgdG9rZW4gPSAnJztcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRva2VuICs9IGFscGhhYmV0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlbildO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b2tlbjtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoQWxwaGFiZXQucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdBbHBoYWJldCdcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVjayhjaGFyKSB7XHJcbiAgcmV0dXJuIGlzU3RyaW5nKGNoYXIpICYmIGNoYXIubGVuZ3RoID09PSAxO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFscGhhYmV0XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byBnZW5lcmF0ZSBhbiBhbHBoYWJldCBmcm9tLlxyXG4gKiBAcmV0dXJucyB7QWxwaGFiZXR9IE5ldyBpbnN0YW5jZSBvZiBBbHBoYWJldC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBhbiBhbHBoYWJldCBmcm9tIGEgc3RyaW5nIHRoYXQgaGFzIGZvcm1hdCBsaWtlIHRoaXM6XHJcbiAqICcmbHQ7Y2hhcjEmZ3Q7LSZsdDtjaGFyMiZndDsgJmx0O2NoYXIzJmd0Oy0mbHQ7Y2hhcjQmZ3Q7J1xyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBhMSA9IGFscGhhYmV0KCdhLWMgMS0zJyk7XHJcbiAqIGNvbnN0IGEyID0gYWxwaGFiZXQoJzUtNWYtZycpO1xyXG4gKlxyXG4gKiBhMS5nZXQoKS4kOyAvLyBbJzEnLCAnMicsICczJywgJ2EnLCAnYicsICdjJ11cclxuICogYTIuZ2V0KCkuJDsgLy8gWyc1JywgJ2YnLCAnZyddXHJcbiAqL1xyXG5mdW5jdGlvbiBhbHBoYWJldChzdHJpbmcpIHtcclxuICB2YWxpZGF0ZShbc3RyaW5nXSwgWydzdHJpbmcnXSk7XHJcblxyXG4gIGNvbnN0IHJhbmdlcyA9IHN0cmluZy5zcGxpdCgvKFtcXHNcXFNdLStbXFxzXFxTXSk/L2cpO1xyXG4gIGNvbnN0IGxlbmd0aCA9IHJhbmdlcy5sZW5ndGg7XHJcbiAgY29uc3QgYWxwaGFiZXQgPSBbXTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgcmFuZ2UgPSByYW5nZXNbaV07XHJcblxyXG4gICAgaWYgKCFyYW5nZSB8fCByYW5nZSA9PT0gJyAnKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkgJiYgIS9bXFxzXFxTXS0rW1xcc1xcU10vLnRlc3QocmFuZ2UpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgV3JvbmcgcGFydCBvZiB0aGUgc3RyaW5nICgkeyByYW5nZSB9KSEgKGluIGFscGhhYmV0KWApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvLS8udGVzdChyYW5nZSkpIHtcclxuICAgICAgY29uc3Qgc3RhcnQgPSByYW5nZS5jaGFyQ29kZUF0KDApO1xyXG4gICAgICBjb25zdCBlbmQgPSByYW5nZS5jaGFyQ29kZUF0KDIpO1xyXG5cclxuICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdGFydCBvZiB0aGUgcmFuZ2UgbXVzdCBiZSBiZWZvcmUgaXRzIGVuZCEgKGluIGFscGhhYmV0KScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCBrID0gMCwgbGVuID0gZW5kIC0gc3RhcnQgKyAxOyBrIDwgbGVuOyBrKyspIHtcclxuICAgICAgICBhbHBoYWJldC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoc3RhcnQgKyBrKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyYW5nZS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgYWxwaGFiZXQucHVzaChyYW5nZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IEFscGhhYmV0KGFscGhhYmV0KTtcclxufVxyXG5cclxuZXhwb3J0IHsgQWxwaGFiZXQsIGFscGhhYmV0IH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIFN3aXRjaGVyXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBTd2l0Y2hlciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc1VuZGVmaW5lZCxcclxuICBpdGVyYXRlLCBTeW1ib2wsIHRvQXJyYXksIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYm9vbGVhbid8J2VxdWFscyd8J3N0cmljdEVxdWFscyd8J2NhbGwnfSBTd2l0Y2hlck1vZGVcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHN3aXRjaGVyIG1vZGVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3dpdGNoZXJDYWxsQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufCp9IE9uIHdoYXQgdGhlIGNhbGxiYWNrIHJldHVybnMgZGVwZW5kcyBpZiB0aGUgY2FzZSBpcyBhIG1hdGNoICh0cnV0aHkgZm9yIHRoZSBtYXRjaCkuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBTd2l0Y2hlck1hdGNoQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgLSBBcmd1bWVudHMgZnJvbSB0aGUgc2Vjb25kIGFyZ3VtZW50IHRoYXQgc3dpdGNoZXIgd2FzIGNhbGxlZCB3aXRoLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gU3dpdGNoZXIgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gbWF0Y2hlZCAtIFN3aXRjaGVyIG1hdGNoZWQgY2FzZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIFN3aXRjaGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtPYmplY3R9IFtjYXNlcyA9IHt9XSAtIE9iamVjdCBvZiBjYXNlcy5cclxuICogQHBhcmFtIHtTd2l0Y2hlck1vZGV9IFttb2RlID0gJ2VxdWFscyddIC0gU3dpdGNoZXIgbW9kZS5cclxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSAtIFN3aXRjaGVyIGRlZmF1bHQgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtTd2l0Y2hlcn0gLSBJbnN0YW5jZSBvZiBTd2l0Y2hlci5cclxuICogQGRlc2NyaXB0aW9uIFN3aXRjaGVyIGNsYXNzIGZvciBjcmVhdGluZyBmdW5jdGlvbnMgd29ya2luZyBzaW1pbGFyIHRvIHN3aXRjaCAodmFsdWUpIHt9IGNvbnN0cnVjdGlvbixcclxuICogYnV0IHdpdGggdGhlIHZhbHVlIGFzc2lnbm1lbnQuIFN3aXRjaGVyIGluc3RhbmNlIGlzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGEgdmFsdWUgYXJndW1lbnQgYW5kIGFuIG9wdGlvbmFsXHJcbiAqIGFyZ3MgYXJndW1lbnQuIEFyZ3Mgd2l0aCBhZGRpdGlvbmFsIHN3aXRjaGVyIHZhbHVlIGFuZCBtYXRjaGVkIGNhc2VcclxuICogYXJlIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbiBvZiB0aGUgbWF0Y2hlZCBjYXNlIChpZiBpdCBpcyBhIGZ1bmN0aW9uKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSk7XHJcbiAqIGNvbnN0IHN3aXRjaGVyID0gbmV3IFN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnKTtcclxuICogY29uc3Qgc3dpdGNoZXIgPSBuZXcgU3dpdGNoZXIoe1xyXG4gKiAgIGNhc2UxOiAndmFsdWUxJyxcclxuICogICBjYXNlMjogJ3ZhbHVlMidcclxuICogfSwgJ3N0cmljdEVxdWFscycpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKiBjb25zdCBzd2l0Y2hlciA9IG5ldyBTd2l0Y2hlcih7XHJcbiAqICAgY2FzZTE6ICd2YWx1ZTEnLFxyXG4gKiAgIGNhc2UyOiAndmFsdWUyJ1xyXG4gKiB9LCAnc3RyaWN0RXF1YWxzJywgJ2RlZmF1bHRWYWx1ZScpO1xyXG4gKlxyXG4gKiAvLyBTZWUgW3N3aXRjaGVyXXtAbGluayBzd2l0Y2hlcn0gZXhhbXBsZXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqL1xyXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIEZ1bmN0aW9uIHtcclxuICBjb25zdHJ1Y3RvcihjYXNlcyA9IHt9LCBtb2RlID0gJ2VxdWFscycsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBpZiAoaXNTdHJpbmcoY2FzZXMpKSB7XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQoYXJndW1lbnRzWzFdKSkge1xyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IG1vZGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1vZGUgPSBjYXNlcztcclxuICAgICAgY2FzZXMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBldmVudHVhbENhc2VzID0gW107XHJcblxyXG4gICAgaXRlcmF0ZShjYXNlcywgKHZhbHVlLCBDYXNlKSA9PiB7XHJcbiAgICAgIGV2ZW50dWFsQ2FzZXMucHVzaCh7IGNhc2U6IENhc2UsIHZhbHVlIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc3dpdGNoZXIodmFsdWUsIGFyZ3MgPSBbXSkge1xyXG4gICAgICBjb25zdCB7IG1vZGUsIGRlZmF1bHQ6IGRlZiwgY2FzZXMgfSA9IHN3aXRjaGVyLiQkO1xyXG5cclxuICAgICAgbGV0IHJldCA9IGl0ZXJhdGUoY2FzZXMsICh7IHZhbHVlOiB2YWwsIGNhc2U6IENhc2UgfSkgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIChtb2RlID09PSAnYm9vbGVhbicgJiYgQ2FzZSkgfHxcclxuICAgICAgICAgIC8qIGVzbGludCBlcWVxZXE6IDAgKi9cclxuICAgICAgICAgIChtb2RlID09PSAnZXF1YWxzJyAmJiBDYXNlID09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdzdHJpY3RFcXVhbHMnICYmIENhc2UgPT09IHZhbHVlKSB8fFxyXG4gICAgICAgICAgKG1vZGUgPT09ICdjYWxsJyAmJiBDYXNlKHZhbHVlKSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiB7IGNhc2U6IENhc2UsIHZhbHVlOiB2YWwgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHJldCkpIHtcclxuICAgICAgICByZXQgPSB7IHZhbHVlOiBkZWYgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJldC52YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gcmV0LnZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcmdzID0gdG9BcnJheShhcmdzLCB0cnVlKTtcclxuICAgICAgYXJncy5wdXNoKHZhbHVlLCByZXQuY2FzZSk7XHJcblxyXG4gICAgICByZXR1cm4gcmV0LnZhbHVlLmFwcGx5KG51bGwsIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBTd2l0Y2hlciMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGNhc2VzIC0gQXJyYXkgb2YgY2FzZXMuXHJcbiAgICAgKiBAcHJvcGVydHkge1N3aXRjaGVyTW9kZX0gbW9kZSAtIFN3aXRjaGVyIG1vZGUuXHJcbiAgICAgKiBAcHJvcGVydHkgeyp9IGRlZmF1bHQgLSBTd2l0Y2hlciBkZWZhdWx0IHZhbHVlLlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3dpdGNoZXIsICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBjYXNlczogZXZlbnR1YWxDYXNlcyxcclxuICAgICAgICBtb2RlLFxyXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihzd2l0Y2hlciwgU3dpdGNoZXIucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gc3dpdGNoZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN3aXRjaGVyI2Nhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfFN3aXRjaGVyQ2FsbENhbGxiYWNrfEFycmF5LjwqfFN3aXRjaGVyQ2FsbENhbGxiYWNrPn0gY2FzZXMgLSBDYXNlIG9yIGFuIGFycmF5IG9mIGNhc2VzLlxyXG4gICAqIEBwYXJhbSB7KnxTd2l0Y2hlck1hdGNoQ2FsbGJhY2t9IHZhbHVlIC0gVmFsdWUgdGhhdCBoYXMgdG8gYmUgYXNzaWduZWQgb3IgYSBmdW5jdGlvblxyXG4gICAqIHRoYXQgaXMgY2FsbGVkIHdpdGggc3dpdGNoZXIgdmFsdWUsIGlmIGl0J3MgdGhlIGNhc2UuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZGVmaW5pbmcgbmV3IGNhc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5jYXNlKDIsICd0d28nKTtcclxuICAgKlxyXG4gICAqIHN3KDEpOyAvLyAnb25lJ1xyXG4gICAqIHN3KDIpOyAvLyAndHdvJ1xyXG4gICAqL1xyXG4gIGNhc2UoY2FzZXMsIHZhbHVlKSB7XHJcbiAgICBpZiAoIWlzQXJyYXkoY2FzZXMpKSB7XHJcbiAgICAgIGNhc2VzID0gW2Nhc2VzXTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGNhc2VzLCAoQ2FzZSkgPT4ge1xyXG4gICAgICB0aGlzLiQkLmNhc2VzLnB1c2goeyBjYXNlOiBDYXNlLCB2YWx1ZSB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNkZWZhdWx0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gZGVmIC0gTmV3IGRlZmF1bHQgdmFsdWUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBkZWZhdWx0IHN3aXRjaGVyIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAuY2FzZSgxLCAnb25lJylcclxuICAgKiAgIC5kZWZhdWx0KCd0aHJlZScpO1xyXG4gICAqXHJcbiAgICogc3coMSk7IC8vICdvbmUnXHJcbiAgICogc3coMik7IC8vICd0aHJlZSdcclxuICAgKi9cclxuICBkZWZhdWx0KGRlZikge1xyXG4gICAgdGhpcy4kJC5kZWZhdWx0ID0gZGVmO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTd2l0Y2hlciNtb2RlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3dpdGNoZXJNb2RlfSBtb2RlIC0gTmV3IHN3aXRjaGVyIG1vZGUuXHJcbiAgICogQHJldHVybnMge1N3aXRjaGVyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVkZWZpbmluZyBzd2l0Y2hlciBtb2RlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBzdyA9IG5ldyBTd2l0Y2hlcigpXHJcbiAgICogICAubW9kZSgnc3RyaWN0RXF1YWxzJylcclxuICAgKiAgIC5jYXNlKDEsICdudW1iZXInKVxyXG4gICAqICAgLmNhc2UoJzEnLCAnc3RyaW5nJyk7XHJcbiAgICpcclxuICAgKiBzdygxKTsgICAvLyAnbnVtYmVyJ1xyXG4gICAqIHN3KCcxJyk7IC8vICdzdHJpbmcnXHJcbiAgICovXHJcbiAgbW9kZShtb2RlKSB7XHJcbiAgICB0aGlzLiQkLm1vZGUgPSBtb2RlO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZGVmaW5lUHJvcGVydGllcyhTd2l0Y2hlci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N3aXRjaGVyJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gc3dpdGNoZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gW2Nhc2VzID0ge31dIC0gT2JqZWN0IG9mIGNhc2VzLlxyXG4gKiBAcGFyYW0ge1N3aXRjaGVyTW9kZX0gW21vZGUgPSAnZXF1YWxzJ10gLSBTd2l0Y2hlciBtb2RlLlxyXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIC0gU3dpdGNoZXIgZGVmYXVsdCB2YWx1ZS5cclxuICogQHJldHVybnMge1N3aXRjaGVyfSBOZXcgaW5zdGFuY2Ugb2YgU3dpdGNoZXIuXHJcbiAqIEBkZXNjcmlwdGlvbiBTaW1wbGUgd3JhcCBvZiBbbmV3IFN3aXRjaGVyKC4uLilde0BsaW5rIFN3aXRjaGVyfS5cclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICdmb28nLFxyXG4gKiAgIDI6ICdiYXInXHJcbiAqIH0pO1xyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdiYXInXHJcbiAqIHN3KDMpOyAvLyB1bmRlZmluZWRcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoKVxyXG4gKiAgIC5jYXNlKFsxLCAyXSwgJ2ZvbycpXHJcbiAqICAgLmNhc2UoMywgJ2JhcicpO1xyXG4gKiAgIFxyXG4gKiBzdygxKTsgLy8gJ2ZvbydcclxuICogc3coMik7IC8vICdmb28nXHJcbiAqIHN3KDMpOyAvLyAnYmFyJ1xyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogY29uc3Qgc3cgPSBzd2l0Y2hlcignY2FsbCcpXHJcbiAqICAgLmNhc2UoaXNBcnJheSwgJ2FycmF5JylcclxuICogICAuY2FzZShpc1N0cmluZywgJ3N0cmluZycpXHJcbiAqICAgLmNhc2UoaXNOdW1iZXIsICdudW1iZXInKVxyXG4gKiAgIC5kZWZhdWx0KCdyZXN0Jyk7XHJcbiAqICAgXHJcbiAqIHN3KFtdKTsgICAgLy8gJ2FycmF5J1xyXG4gKiBzdygnZm9vJyk7IC8vICdzdHJpbmcnXHJcbiAqIHN3KDEyMyk7ICAgLy8gJ251bWJlcidcclxuICogc3coe30pOyAgICAvLyAncmVzdCdcclxuICogXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IHN3ID0gc3dpdGNoZXIoe1xyXG4gKiAgIDE6ICh2YWx1ZSkgPT4ge1xyXG4gKiAgICAgY29uc29sZS5sb2codmFsdWUgKyAxKTtcclxuICogICB9LFxyXG4gKiAgIDI6ICgpID0+IHtcclxuICogICAgIGNvbnNvbGUubG9nKHZhbHVlIC0gMSk7XHJcbiAqICAgfVxyXG4gKiB9KTtcclxuICogXHJcbiAqIHN3KDEpOyAvLyAyXHJcbiAqIHN3KDIpOyAvLyAxXHJcbiAqIFxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBzdyA9IHN3aXRjaGVyKHtcclxuICogICBmaXJzdDogKGFycmF5KSA9PiBhcnJheVswXSxcclxuICogICBsYXN0OiAoYXJyYXkpID0+IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdXHJcbiAqIH0sICdlcXVhbHMnLCAoYXJyYXksIGluZGV4KSA9PiBhcnJheVtpbmRleF0pO1xyXG4gKiBjb25zdCBhcnJheSA9IFsxLCAyLCAzLCA0XTtcclxuICogXHJcbiAqIHN3KCdmaXJzdCcsIFthcnJheV0pOyAvLyAxXHJcbiAqIHN3KCdsYXN0JywgW2FycmF5XSk7ICAvLyA0XHJcbiAqIHN3KDEsIFthcnJheV0pOyAgICAgICAvLyAyXHJcbiAqIHN3KDIsIFthcnJheV0pOyAgICAgICAvLyAzXHJcbiAqL1xyXG5mdW5jdGlvbiBzd2l0Y2hlcihjYXNlcywgbW9kZSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgcmV0dXJuIG5ldyBTd2l0Y2hlciguLi5hcmd1bWVudHMpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHdoZW5cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Jvb2xlYW58Kn0gY29uZGl0aW9uIC0gQ29uZGl0aW9uIHVzZWQgZm9yIHJldHVybmluZyB0aGUgcHJvcGVyIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMSAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlMiAtIFZhbHVlIGlmIHRoZSBjb25kaXRpb24gaXMgZmFsc2V5LlxyXG4gKiBAcmV0dXJucyB7Kn0gdmFsdWUxIG9yIHZhbHVlMi5cclxuICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAqIFt0ZXJuYXJ5IG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ubC9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvQ29uZGl0aW9uYWxfT3BlcmF0b3J9LlxyXG4gKiBcclxuICogQGV4YW1wbGVcclxuICogd2hlbih0cnVlLCAndHJ1ZScsICdmYWxzZScpOyAvLyAndHJ1ZSdcclxuICovXHJcbmZ1bmN0aW9uIHdoZW4oY29uZGl0aW9uLCB2YWx1ZTEsIHZhbHVlMikge1xyXG4gIHJldHVybiBjb25kaXRpb24gPyB2YWx1ZTEgOiB2YWx1ZTI7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN3aXRjaGVyLCBzd2l0Y2hlciwgd2hlbiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdXBlclxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgU3VwZXIgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgRCB9IGZyb20gJy4vRCc7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzL2NvbnN0cnVjdG9ycyc7XHJcbmltcG9ydCB7XHJcbiAgaXNBcnJheSwgaXNBcnJheUxpa2UsIGlzRGF0ZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLCBpc05pbCwgaXNOYU4sIGlzTnVsbCxcclxuICBpc09iamVjdCwgaXNQbGFpbk9iamVjdCwgaXNQcmltaXRpdmUsIGlzUmVnRXhwLCBpc1N0cmluZywgaXNVbmRlZmluZWQsXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2wsIGRlZmluZVByb3BlcnRpZXNcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdXBlcnxBcnJ8RnVuY3xFbGVtfFN0cnxOdW18RGF0fEJsb2JPYmplY3R9IERXcmFwXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFueSBraW5kIG9mIEQtV3JhcC5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge1N0cmluZ3xOdW1iZXJ8bnVsbH0gS2V5XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEtleSB0eXBlIHVzZWQgaW4gbWFueSBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7VHJlZUVsZW1lbnRbXX0gVHJlZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFRyZWVFbGVtZW50XHJcbiAqIEBwdWJsaWNcclxuICogQHByb3BlcnR5IHtLZXl9IGtleSAtIFRyZWUgZWxlbWVudCBrZXkuXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWUgLSBUcmVlIGVsZW1lbnQgdmFsdWUuXHJcbiAqIEBkZXNjcmlwdGlvbiB7QGxpbmsgVHJlZX0gZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIERlZXBSZWR1Y2VDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gcHJldmlvdXNWYWx1ZSAtIFByZXZpb3VzIHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gQ3VycmVudCBpdGVyYXRpb24gdmFsdWUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5IC0gQ3VycmVudCBpdGVyYXRpb24ga2V5L2luZGV4LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gZWxlbWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBJdGVyYXRpb25DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGl0ZXJhdGlvbiB2YWx1ZS5cclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXkgLSBDdXJyZW50IGl0ZXJhdGlvbiBrZXkvaW5kZXguXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gSXRlcmF0aW9uIG9iamVjdC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEpTT05DYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfG51bGx9IGtleSAtIEN1cnJlbnQgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBDdXJyZW50IGtleS5cclxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEl0ZXJhdGlvbiBvYmplY3QuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBPYmplY3RDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdPYmplY3QgLSBUaGUgbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVkdWNlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHByZXZpb3VzVmFsdWUgLSBQcmV2aW91cyB2YWx1ZS5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIEN1cnJlbnQgaXRlcmF0aW9uIHZhbHVlLlxyXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleSAtIEN1cnJlbnQgaXRlcmF0aW9uIGtleS9pbmRleC5cclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBJdGVyYXRpb24gb2JqZWN0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgU3VwZXJNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAdGhpcyB7RFdyYXB9XHJcbiAqL1xyXG5cclxuY29uc3QgY2xvbmVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKG9iamVjdCkgPT4gb2JqZWN0KVxyXG4gIC5jYXNlKFxyXG4gICAgKG9iamVjdCkgPT4gbmV3IFN1cGVyKG9iamVjdCkgPT09IG9iamVjdCxcclxuICAgIChvYmplY3QpID0+IG5ldyAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkuY29uc3RydWN0b3IpKG5ldyBTdXBlcihvYmplY3QuJCkuZGVlcENsb25lKCkuJClcclxuICApXHJcbiAgLmNhc2UoaXNFbGVtZW50LCAob2JqZWN0LCBkZWVwKSA9PiBvYmplY3QuY2xvbmUoZGVlcCkpXHJcbiAgLmNhc2UoaXNEYXRlLCAob2JqZWN0KSA9PiBuZXcgRGF0ZShvYmplY3QpKVxyXG4gIC5jYXNlKGlzUmVnRXhwLCAob2JqZWN0KSA9PiBuZXcgUmVnRXhwKG9iamVjdC5zb3VyY2UsIG9iamVjdC50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSkpXHJcbiAgLmNhc2UoaXNBcnJheSwgKCkgPT4gW10pXHJcbiAgLmNhc2UoaXNQbGFpbk9iamVjdCwgKCkgPT4gKHt9KSk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN1cGVyXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIEFuIG9iamVjdCB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEluc3RhbmNlIG9mIFN1cGVyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhbnkgdmFsdWUuIEFuZCB0aGVyZSBpcyBubyB3YXkgdG8gY3JlYXRlIGEgbmVzdGVkIHdyYXAuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBTdXBlcih7fSk7IC8vIFN1cGVyXHJcbiAqL1xyXG5jbGFzcyBTdXBlciB7XHJcbiAgY29uc3RydWN0b3Iob2JqZWN0KSB7XHJcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgU3VwZXIpIHtcclxuICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgU3VwZXIjJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gV3JhcHBlZCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnJCcsIHsgdmFsdWU6IG9iamVjdCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIuYWRkU3RhdGljUHJvcGVydGllc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBwcm9wZXJ0aWVzIGtleXMgYW5kIHZhbHVlcyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHByb3BlcnR5IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt0aGlzfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFNldHMgc3RhdGljIHByb3BlcnRpZXMgZm9yIERXcmFwIGNvbnN0cnVjdG9ycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogU3VwZXIuYWRkU3RhdGljUHJvcGVydGllcygnY29vbCcsIDQyKTtcclxuICAgKiBTdXBlci5hZGRTdGF0aWNQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZFN0YXRpY1Byb3BlcnRpZXMocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmluZVByb3BlcnRpZXModGhpcywgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIG9iamVjdFxyXG4gICAqIHdpdGggcHJvcGVydGllcyBrZXlzIGFuZCB2YWx1ZXMgdmFsdWVzLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbdmFsdWVdIC0gSWYgYSBwcm9wZXJ0eSBwYXJhbWV0ZXIgaXMgYSBzdHJpbmcgdGhpcyBoYXMgdG8gYmUgYSBwcm9wZXJ0eSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7dGhpc30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTZXRzIHN0YXRpYyBwcm9wZXJ0aWVzIGZvciBEV3JhcCBwcm90b3R5cGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBTdXBlci5hZGRJbnN0YW5jZVByb3BlcnRpZXMoJ2Nvb2wnLCA0Mik7XHJcbiAgICogU3VwZXIuYWRkSW5zdGFuY2VQcm9wZXJ0aWVzKCdzdXBlckNvb2wnLCA0Mio0Mik7XHJcbiAgICovXHJcbiAgc3RhdGljIGFkZEluc3RhbmNlUHJvcGVydGllcyhwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVmaW5lUHJvcGVydGllcyh0aGlzLnByb3RvdHlwZSwgcHJvcGVydHkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhc3NpZ25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi4oT2JqZWN0fFN1cGVyfCopfSBvYmplY3RzIC0gT2JqZWN0cyB0byBiZSBhc3NpZ25lZCB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuYXNzaWduXVxyXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiB9KS5hc3NpZ24oeyBhOiAzIH0sIHsgYzogMywgZDogNCB9LCB7IGQ6IDUgfSkuJDsgLy8geyBhOiAzLCBiOiAyLCBjOiAzLCBkOiA1IH1cclxuICAgKi9cclxuICBhc3NpZ24oLi4ub2JqZWN0cykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgaXRlcmF0ZShuZXcgU3VwZXIobykuJCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNhdmVyYWdlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IG51bGxdIC0gQ2FsbGJhY2sgdGhhdCBpcyBwYXNzZWQgdG8ge0BsaW5rIFN1cGVyI3N1bX0uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXZlcmFnZSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3Igb2JqZWN0LnN1bShjYWxsYmFjaykgLyBvYmplY3QuY291bnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuYXZlcmFnZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyAyXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogNSB9KS5hdmVyYWdlKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSk7IC8vIDEwXHJcbiAgICovXHJcbiAgYXZlcmFnZShjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI2F2ZXJhZ2UnKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5zdW0oY2FsbGJhY2spIC8gdGhpcy5jb3VudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjY2FsbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N1cGVyTWV0aG9kfSBmdW5jIC0gRnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdpdGggdGhpcyBjb250ZXh0LlxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyAtIEFyZ3VtZW50cyB0byBiZSBjYWxsZWQgd2l0aC5cclxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJuIG9mIGZ1bmN0aW9uIGNhbGwuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGZ1bmMuY2FsbChET2JqZWN0LCAuLi5hcmdzKTtcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5jYWxsKGZ1bmN0aW9uIChiLCBjKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYiArIGM7XHJcbiAgICogfSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICBjYWxsKGZ1bmMsIC4uLmFyZ3MpIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjY2FsbCcpO1xyXG5cclxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjbG9uZVxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGFzc2lnbnMgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IHRvIGFuIGVtcHR5IG9uZSBhbmQgcmV0dXJucyB0aGUgbmV3IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyIH0gfSkuY2xvbmUoKS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogMiB9IH1cclxuICAgKi9cclxuICBjbG9uZSgpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIGZhbHNlXSk7XHJcblxyXG4gICAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgICAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY2xvbmVba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoY2xvbmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdXBlciNjb3VudFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBrZXlzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuY291bnQ7IC8vIDJcclxuICAgKi9cclxuICBnZXQgY291bnQoKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gb2JqZWN0Lmxlbmd0aCA6IE9iamVjdC5rZXlzKG9iamVjdCkubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNjcmVhdGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yc10gLSBEZXNjcmlwdG9ycyBwYXNzZWQgdG8gT2JqZWN0LmNyZWF0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBELVdyYXAuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5jcmVhdGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9jcmVhdGV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLmNyZWF0ZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGNyZWF0ZShkZXNjcmlwdG9ycykge1xyXG4gICAgcmV0dXJuIEQoaXNQcmltaXRpdmUodGhpcy4kKSA/IHVuZGVmaW5lZCA6IE9iamVjdC5jcmVhdGUodGhpcy4kLCBkZXNjcmlwdG9ycykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwQXNzaWduXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKn0gb2JqZWN0cyAtIE9iamVjdHMgdG8gYmUgYXNzaWduZWQgdG8gdGhlIG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjYXNzaWdufS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSB9KS5kZWVwQXNzaWduKFxyXG4gICAqICAge1xyXG4gICAqICAgICBiOiB7XHJcbiAgICogICAgICAgYzogMlxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYjogMVxyXG4gICAqICAgICB9XHJcbiAgICogICB9LFxyXG4gICAqICAge1xyXG4gICAqICAgICBhOiB7XHJcbiAgICogICAgICAgYzoge1xyXG4gICAqICAgICAgICAgZDogMVxyXG4gICAqICAgICAgIH1cclxuICAgKiAgICAgfSxcclxuICAgKiAgICAgYjogMlxyXG4gICAqICAgfSxcclxuICAgKiAgIG51bGxcclxuICAgKiB9KTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICBhOiB7XHJcbiAgICogLy8gICAgIGI6IDEsXHJcbiAgICogLy8gICAgIGM6IHtcclxuICAgKiAvLyAgICAgICBkOiAxXHJcbiAgICogLy8gICAgIH1cclxuICAgKiAvLyAgIH0sXHJcbiAgICogLy8gICBiOiAyLFxyXG4gICAqIC8vIH1cclxuICAgKi9cclxuICBkZWVwQXNzaWduKC4uLm9iamVjdHMpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoaXNQcmltaXRpdmUob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGFyZ3VtZW50cywgKG8pID0+IHtcclxuICAgICAgZGVlcEFzc2lnbihvYmplY3QsIG8pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBDbG9uZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBpbnN0YW5jZSBvZiBEV3JhcC5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBjbG9uaW5nIG1ldGhvZC4gQ2xvbmVzIHBsYWluIG9iamVjdHMsIGFycmF5cywgcmVndWxhciBleHByZXNzaW9ucyBhbmQgZWxlbWVudHMsIHRoZSByZXN0IHN0YXlzIHRoZSBzYW1lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiBbMiwgM10sIGM6IHsgZDogNCB9IH0pLmRlZXBDbG9uZSgpLiQ7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgYTogMSxcclxuICAgKiAvLyAgIGI6IFsyLCAzXSxcclxuICAgKiAvLyAgIGM6IHsgZDogNCB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGRlZXBDbG9uZSgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZWVwQ2xvbmUodGhpcy4kKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBFcXVhbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbb2JqZWN0XSAtIE9iamVjdCB0byBjb21wYXJlIHRvLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAtIElmIHRoZSBvYmplY3RzIGFyZSBkZWVwIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWVwIGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcigvMS8pLmRlZXBFcXVhbHMoLzEvKTsgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFcXVhbHMob2JqZWN0ID0gbnVsbCkge1xyXG4gICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLiQsIG9iamVjdCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRXZlcnlcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IGl0ZXJhdGlvbiBnb2VzIG9uIGFuZCBpZiBmYWxzZXkgaXQgc3RvcHMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIE90aGVyd2lzZSBmYWxzZS4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZXZlcnl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRXZlcnkoKHZhbHVlKSA9PiB2YWx1ZSA8IDQpOyAvLyB0cnVlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwRXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGRlZXBFdmVyeShjYWxsYmFjaywgbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XHJcbiAgICAgIG4gPSBjYWxsYmFjaztcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgIH0gZWxzZSBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBFdmVyeScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgcmV0dXJuIGRlZXBFdmVyeSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBhbmQgaWYgZmFsc2V5IGl0J3MgZXhjbHVkZWQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gTmV3IEQtV3JhcCBvZiBmaWx0ZXJlZCBvYmplY3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgZmlsdGVyZWQgYnkgdGhlIGNhbGxiYWNrIG9iamVjdC4gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZmlsdGVyfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlJTIpLiQ7ICAgICAvLyB7IGE6IDEsIGI6IHsgZDogMyB9IH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDEpLiQ7IC8vIHsgYTogMSB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbHRlcigodmFsdWUpID0+IHZhbHVlID4gMykuJDsgICAvLyB7fVxyXG4gICAqL1xyXG4gIGRlZXBGaWx0ZXIoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmlsdGVyJyk7XHJcblxyXG4gICAgY29uc3QgZmlsdGVyZWQgPSBkZWVwRmlsdGVyKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSk7XHJcblxyXG4gICAgcmV0dXJuIEQoaXNOaWwoZmlsdGVyZWQpID8gZmlsdGVyZWQgOiBmaWx0ZXJlZCB8fCB7fSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBGaW5kXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtUcmVlfG51bGx9IFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gaWYgc29tZXRoaW5nIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cmVlIG9mIHRoZSBlbGVtZW50cyBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNmaW5kfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZpbmQoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gMik7XHJcbiAgICogLy8gW1xyXG4gICAqIC8vICAgeyBrZXk6ICdjJywgdmFsdWU6IDIgfSxcclxuICAgKiAvLyAgIHsga2V5OiAnYicsIHZhbHVlOiB7IGM6IDIsIGQ6IDMgfSB9LFxyXG4gICAqIC8vICAgeyBrZXk6IG51bGwsIHZhbHVlOiA8aW5pdGlhbCBvYmplY3Q+IH1cclxuICAgKiAvLyBdXHJcbiAgICovXHJcbiAgZGVlcEZpbmQoY2FsbGJhY2ssIG4pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICBuID0gY2FsbGJhY2s7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIG4gPSBJbmZpbml0eTtcclxuICAgICAgY2FsbGJhY2sgPSBCb29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwRmluZCcpO1xyXG5cclxuICAgIHJldHVybiBkZWVwRmluZCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2goY2FsbGJhY2ssIG4gPSBJbmZpbml0eSkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrLCBuXSwgWydmdW5jdGlvbicsIFsnbnVtYmVyTGlrZScsICc+MCddXSwgJ1N1cGVyI2RlZXBGb3JFYWNoJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICBkZWVwRm9yRWFjaCh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwRm9yRWFjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGl0ZXJhdGluZyBvdmVyIGFueSBvYmplY3QuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI2ZvckVhY2h9LlxyXG4gICAqIFVubGlrZSB7QGxpbmsgU3VwZXIjZGVlcEZvckVhY2h9IHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgb24gZXZlcnkgdmFsdWUgb2YgZXZlcnkgb2JqZWN0IGluc2lkZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwRm9yRWFjaCgodmFsdWUsIGtleSwgb2JqZWN0KSA9PiBvYmplY3Rba2V5XSA9IHZhbHVlICogdmFsdWUpLiQ7XHJcbiAgICogLy8geyBhOiAxLCBiOiB7IGM6IDQsIGQ6IDkgfSB9XHJcbiAgICovXHJcbiAgZGVlcEZvckVhY2hFbnRyeShjYWxsYmFjaywgbiA9IEluZmluaXR5KSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcEZvckVhY2gnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIGRlZXBGb3JFYWNoRW50cnkodGhpcy4kLCBjYWxsYmFjaywgbiwgW3sga2V5OiBudWxsLCB2YWx1ZTogdGhpcy4kIH1dKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZGVlcEZyZWV6ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRGVlcCBhbmFsb2d1ZSBvZiB7QGxpbmsgU3VwZXIjZnJlZXplfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogeyBjOiAyLCBkOiAzIH0gfSkuZGVlcEZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGRlZXBGcmVlemUoKSB7XHJcbiAgICBkZWVwRnJlZXplKHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBNYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEZWVwSXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gRC1XcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGEgd3JhcCBvZiBhIG5ldyBvYmplY3QgdXNpbmcgdGhlIGNhbGxiYWNrLiBEZWVwIGFuYWxvZ3VlIG9mIHtAbGluayBTdXBlciNtYXB9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwTWFwKCh2YWx1ZSkgPT4gdmFsdWUgKiB2YWx1ZSkuJDtcclxuICAgKiAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogOSB9IH1cclxuICAgKi9cclxuICBkZWVwTWFwKGNhbGxiYWNrLCBuID0gSW5maW5pdHkpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFjaywgbl0sIFsnZnVuY3Rpb24nLCBbJ251bWJlckxpa2UnLCAnPjAnXV0sICdTdXBlciNkZWVwTWFwJyk7XHJcblxyXG4gICAgbiA9IE51bWJlcihuKTtcclxuXHJcbiAgICByZXR1cm4gRChkZWVwTWFwKHRoaXMuJCwgY2FsbGJhY2ssIG4sIFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwUmVkdWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcFJlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEBwYXJhbSB7Kn0gW0lWID0gPGZpcnN0IHZhbHVlPnx1bmRlZmluZWRdIC0gSW5pdGlhbCB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7Kn0gTW9kaWZpZWQgSVYuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgbW9kaWZpZWQgSVYuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3JlZHVjZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IHsgYzogMiwgZDogMyB9IH0pLmRlZXBSZWR1Y2UoKHN1bSwgdmFsdWUpID0+IHN1bSArIHZhbHVlICogdmFsdWUsIEluZmluaXR5LCAwKTsgLy8gMTRcclxuICAgKi9cclxuICBkZWVwUmVkdWNlKGNhbGxiYWNrLCBuID0gSW5maW5pdHksIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFJlZHVjZScpO1xyXG5cclxuICAgIG4gPSBOdW1iZXIobik7XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG4gICAgY29uc3QgdHJlZSA9IFt7IGtleTogbnVsbCwgdmFsdWU6IHRoaXMuJCB9XTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHVuZGVmaW5lZCwgdHJlZSkuSVY7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRlZXBSZWR1Y2Uob2JqZWN0LCBjYWxsYmFjaywgbiwgZmFsc2UsIHsgSVYgfSwgdHJlZSkuSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2RlZXBTb21lXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtuID0gSW5maW5pdHldIC0gSXRlcmF0aW9uIGRlcHRoLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIHNvbWUgb2YgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBPdGhlcndpc2UgZmFsc2UuIERlZXAgYW5hbG9ndWUgb2Yge0BsaW5rIFN1cGVyI3NvbWV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiB7IGM6IDIsIGQ6IDMgfSB9KS5kZWVwU29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHsgYToge30sIGI6IHt9LCBjOiB7fSB9KS5kZWVwU29tZSgoKSA9PiB0cnVlKTsgICAgICAgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGRlZXBTb21lKGNhbGxiYWNrLCBuKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcclxuICAgICAgbiA9IGNhbGxiYWNrO1xyXG4gICAgICBjYWxsYmFjayA9IEJvb2xlYW47XHJcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgbiA9IEluZmluaXR5O1xyXG4gICAgfSBlbHNlIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBuID0gSW5maW5pdHk7XHJcbiAgICAgIGNhbGxiYWNrID0gQm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2ssIG5dLCBbJ2Z1bmN0aW9uJywgWydudW1iZXJMaWtlJywgJz4wJ11dLCAnU3VwZXIjZGVlcFNvbWUnKTtcclxuXHJcbiAgICBuID0gTnVtYmVyKG4pO1xyXG5cclxuICAgIHJldHVybiBkZWVwU29tZSh0aGlzLiQsIGNhbGxiYWNrLCBuLCBbeyBrZXk6IG51bGwsIHZhbHVlOiB0aGlzLiQgfV0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWVwU3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZSB0by5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiB0aGUgb2JqZWN0cyBhcmUgZGVlcCBzdHJpY3QgZXF1YWwgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZXAgc3RyaWN0IGNvbXBhcmlzb24gb2YgdHdvIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEgfSkuZGVlcFN0cmljdEVxdWFscyh7IGE6ICcxJyB9KTsgLy8gZmFsc2VcclxuICAgKiBuZXcgU3VwZXIoLzEvKS5kZWVwU3RyaWN0RXF1YWxzKC8xLyk7ICAgICAgICAgICAgIC8vIHRydWVcclxuICAgKi9cclxuICBkZWVwU3RyaWN0RXF1YWxzKG9iamVjdCA9IG51bGwpIHtcclxuICAgIHJldHVybiBkZWVwRXF1YWwodGhpcy4kLCBvYmplY3QsIHRydWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWZpbmVcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBkZXNjcmlwdG9ycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtkZXNjcmlwdG9yXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgcHJvcGVydHkgZGVzY3JpcHRvci5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZGVmaW5lUHJvcGVydHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0eX1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LmRlZmluZVByb3BlcnRpZXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9kZWZpbmVQcm9wZXJ0aWVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5kZWZpbmUoJ2EnLCB7XHJcbiAgICogICB2YWx1ZTogMSxcclxuICAgKiAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAqICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICBjb25maWd1cmFibGU6IGZhbHNlXHJcbiAgICogfSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLmRlZmluZSh7XHJcbiAgICogICBhOiB7XHJcbiAgICogICAgIHZhbHVlOiAxLFxyXG4gICAqICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgKiAgICAgd3JpdGFibGU6IHRydWUsXHJcbiAgICogICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcclxuICAgKiAgIH1cclxuICAgKiB9KS4kOyAvLyB7IGE6IDEgfVxyXG4gICAqL1xyXG4gIGRlZmluZShwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogZGVzY3JpcHRvciB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3BlcnR5ID0gbmV3IFN1cGVyKHByb3BlcnR5KS4kO1xyXG5cclxuICAgIGlmIChpc09iamVjdCh0aGlzLiQpKSB7XHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuJCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNkZWxldGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IHByb3BzIC0gTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGRlbGV0ZS5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbXVsdGlwbGVcclxuICAgKiBbXCJkZWxldGVcIiBvcGVyYXRvcl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZGVsZXRlKCdjJywgJ2EnKS4kOyAvLyB7IGI6IDIgfVxyXG4gICAqL1xyXG4gIGRlbGV0ZSguLi5wcm9wcykge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUob2JqZWN0ICYmIHByb3BzLCAocHJvcGVydHkpID0+IHtcclxuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PScgb3BlcmF0b3IgYW5kIGZhbHNlIGlmIG5vdC4gTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBlcXVhbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKDMpLmVxdWFscygnMycpOyAgIC8vIHRydWVcclxuICAgKiBuZXcgU3VwZXIoTmFOKS5lcXVhbHMoTmFOKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGVxdWFscyhvYmplY3QpIHtcclxuICAgIGNvbnN0IG8gPSB0aGlzLiQ7XHJcblxyXG4gICAgb2JqZWN0ID0gbmV3IFN1cGVyKG9iamVjdCkuJDtcclxuXHJcbiAgICAvKiBlc2xpbnQgZXFlcWVxOiAwICovXHJcbiAgICByZXR1cm4gbyA9PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNldmVyeVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgZmFsc2V5IGl0IHN0b3BzLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiBhbGwgdGhlIGNhbGxiYWNrIGNhbGxzIHJldHVybmVkIHRydXRoeSB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBib29sZWFuIGlmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmV2ZXJ5KCh2YWx1ZSkgPT4gdmFsdWUgPCA0KTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZXZlcnkoKCkgPT4gZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlXHJcbiAgICovXHJcbiAgZXZlcnkoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNldmVyeScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pICE9PSBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZmlsdGVyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IFtjYWxsYmFjayA9IEJvb2xlYW5dIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBlbGVtZW50IGlzIGluY2x1ZGVkIGFuZCBpZiBmYWxzZXkgaXQncyBleGNsdWRlZC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IE5ldyBELVdyYXAgb2YgZmlsdGVyZWQgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGZpbHRlcmVkIGJ5IHRoZSBjYWxsYmFjayBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgLy8geyBhOiAxLCBjOiAzIH1cclxuICAgKiBuZXcgU3VwZXIobnVsbCkuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUlMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBmaWx0ZXIoY2FsbGJhY2sgPSBCb29sZWFuKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmaWx0ZXInKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcblxyXG4gICAgLyogZXNsaW50IG5vLW5lc3RlZC10ZXJuYXJ5OiAwICovXHJcbiAgICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IGlzTmlsKG9iamVjdCkgPyBvYmplY3QgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIEQobyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gQm9vbGVhbl0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogSWYgcmV0dXJucyB0cnV0aHkgaXRlcmF0aW9uIHN0b3BzIGFuZCBpZiBmYWxzZXkgaXQgY29udGludWVzLlxyXG4gICAqIEByZXR1cm5zIHt7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IHsga2V5LCB2YWx1ZSB9IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBmb3VuZCB7IGtleSwgdmFsdWUgfSBpZiBzb21ldGhpbmcgZm91bmQgYW5kIG51bGwgaWYgbm90aGluZyBmb3VuZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5maW5kKCh2YWx1ZSkgPT4gdmFsdWUgPT09IDIpOyAvLyB7IGtleTogJ2InLCB2YWx1ZTogMiB9XHJcbiAgICogbmV3IFN1cGVyKFsxLCAyLCAzXSkuZmluZCgodmFsdWUpID0+IHZhbHVlID09PSAyKTsgICAgICAgICAgICAvLyB7IGtleTogMSwgdmFsdWU6IDIgfVxyXG4gICAqL1xyXG4gIGZpbmQoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI2ZpbmQnKTtcclxuXHJcbiAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4geyBrZXksIHZhbHVlIH07XHJcbiAgICAgIH1cclxuICAgIH0pIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2ZvckVhY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgaXRlcmF0aW5nIG92ZXIgYW55IG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5mb3JFYWNoKCh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgKiAgIG9iamVjdFtrZXldID0gdmFsdWUgKiB2YWx1ZTtcclxuICAgKiB9KS4kOyAvLyB7IGE6IDEsIGI6IHsgYzogNCwgZDogNSB9IH1cclxuICAgKi9cclxuICBmb3JFYWNoKGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNmb3JFYWNoJyk7XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNmcmVlemVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZnJlZXplXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5mcmVlemVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9mcmVlemV9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmZyZWV6ZSgpOyAvLyBTdXBlclxyXG4gICAqL1xyXG4gIGZyZWV6ZSgpIHtcclxuICAgIE9iamVjdC5mcmVlemUodGhpcy4kKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjZ2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBGdW5jdGlvbj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYSBnZXR0ZXJzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZ2V0dGVyXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgZ2V0dGVyIGZ1bmN0aW9uLlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIGdldHRlcnMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IG9iamVjdDEgPSBuZXcgU3VwZXIoe30pLmdldCgnYScsICgpID0+IDEpLiQ7XHJcbiAgICogb2JqZWN0MS5hOyAvLyAxXHJcbiAgICpcclxuICAgKiBjb25zdCBvYmplY3QyID0gbmV3IFN1cGVyKHt9KS5nZXQoe1xyXG4gICAqICAgYTogKCkgPT4gMlxyXG4gICAqIH0pLiQ7XHJcbiAgICogb2JqZWN0Mi5hOyAvLyAyXHJcbiAgICovXHJcbiAgZ2V0KHByb3BlcnR5LCBnZXR0ZXIpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IGdldHRlciB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpdGVyYXRlKGlzT2JqZWN0KG9iamVjdCkgJiYgbmV3IFN1cGVyKHByb3BlcnR5KS4kLCAoZ2V0dGVyLCBwcm9wZXJ0eSkgPT4ge1xyXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgeyBnZXQ6IGdldHRlciB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNoYXNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8Kn0ga2V5IC0gUHJvcGVydHkgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGhhcyB0aGUga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpblwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW59LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhcygnYicpOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgaGFzKGtleSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGtleSBpbiBvYmplY3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2hhc093blxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBrZXkgLSBQcm9wZXJ0eSB0byBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaGFzIGl0cyBvd24ga2V5IGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0I2hhc093blByb3BlcnR5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaGFzT3duUHJvcGVydHl9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmhhc093bignYicpOyAgICAgICAgICAgICAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuaGFzT3duKCdoYXNPd25Qcm9wZXJ0eScpOyAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc093bihrZXkpIHtcclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjaW5zdGFuY2VvZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciAtIENvbnN0cnVjdG9yIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIGNvbnN0cnVjdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvcnUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2luc3RhbmNlb2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbXCJpbnN0YW5jZW9mXCIgb3BlcmF0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9pbnN0YW5jZW9mfS5cclxuICAgKi9cclxuICBpbnN0YW5jZW9mKGNvbnN0cnVjdG9yKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kIGluc3RhbmNlb2YgY29uc3RydWN0b3I7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2lzRnJvemVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgb2JqZWN0IGlzIGZyb3plbi5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtPYmplY3QuaXNGcm96ZW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc0Zyb3plbn0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7fSkuZnJlZXplKCkuaXNGcm96ZW4oKTsgLy8gdHJ1ZVxyXG4gICAqL1xyXG4gIGlzRnJvemVuKCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5pc0Zyb3plbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNqc29uXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfFN0cmluZ1tdfSBbcmVwbGFjZXJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gW3NwYWNlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBKU09OIHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0pTT04vc3RyaW5naWZ5XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0pTT04uc3RyaW5naWZ5XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9KU09OL3N0cmluZ2lmeX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuanNvbigpOyAvLyAne1wiYVwiOjEsXCJiXCI6MixcImNcIjozfSdcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmpzb24oJyAgICAnKTtcclxuICAgKiAvLyB7XHJcbiAgICogLy8gICAgIFwiYVwiOiAxLFxyXG4gICAqIC8vICAgICBcImJcIjogMixcclxuICAgKiAvLyAgICAgXCJjXCI6IDNcclxuICAgKiAvLyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5qc29uKChrZXksIHZhbHVlKSA9PiB7XHJcbiAgICogICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICByZXR1cm4gdmFsdWUlMiA/IGtleSArIHZhbHVlMCA6IHVuZGVmaW5lZDtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHZhbHVlO1xyXG4gICAqIH0sIDIpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIFwiYVwiOiBcImExXCIsXHJcbiAgICogLy8gICBcImNcIjogXCJjM1wiXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGpzb24ocmVwbGFjZXIsIHNwYWNlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhaXNGdW5jdGlvbihyZXBsYWNlcikgJiYgIWlzQXJyYXkocmVwbGFjZXIpKSB7XHJcbiAgICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgIFtdLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsIHRoaXMuJCk7XHJcblxyXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5LmFwcGx5KEpTT04sIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI2tleU9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBmaW5kLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd8TnVtYmVyfG51bGx9IEEga2V5IG9yIGFuIGluZGV4IGlmIGZvdW5kIGFuZCBudWxsIGlmIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIGVxdWFsIHRvIHRoZSBhcmd1bWVudCB2YWx1ZSBpbiB0aGUgb2JqZWN0LiBOYU5zIGFyZSBjb25zaWRlcmVkIHRvIGJlIGVxdWFsLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLmtleU9mKDIpOyAgIC8vICdiJ1xyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2YoJzInKTsgLy8gJ2InXHJcbiAgICovXHJcbiAga2V5T2YodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IGl0ZXJhdGUodGhpcy4kLCAodmFsLCBrZXkpID0+IHtcclxuICAgICAgaWYgKHZhbCA9PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlPZlN0cmljdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfE51bWJlcnxudWxsfSBBIGtleSBvciBhbiBpbmRleCBpZiBmb3VuZCBhbmQgbnVsbCBpZiBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBzdHJpY3QgZXF1YWwgdG8gdGhlIGFyZ3VtZW50IHZhbHVlIGluIHRoZSBvYmplY3QuIE5hTnMgYXJlIGNvbnNpZGVyZWQgdG8gYmUgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkua2V5T2ZTdHJpY3QoMik7ICAgLy8gJ2InXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlPZlN0cmljdCgnMicpOyAvLyAnYidcclxuICAgKi9cclxuICBrZXlPZlN0cmljdCh2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gaXRlcmF0ZSh0aGlzLiQsICh2YWwsIGtleSkgPT4ge1xyXG4gICAgICBpZiAodmFsID09PSB2YWx1ZSB8fCAoaXNOYU4odmFsKSAmJiBpc05hTih2YWx1ZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKGtleSkgPyBudWxsIDoga2V5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNrZXlzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSBrZXlzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbT2JqZWN0LmtleXNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5rZXlzKCkuJDsgLy8gWydhJywgJ2InLCAnYyddXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLmtleXMoKS4kOyAgICAgICAgICAgICAgICAgLy8gW11cclxuICAgKi9cclxuICBrZXlzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3Qua2V5cyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmV3IG9iamVjdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHdyYXAgb2YgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBjYWxsYmFjay5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5tYXAoKHZhbHVlKSA9PiB2YWx1ZSAqIDIpLiQ7IC8vIHsgYTogMiwgYjogNCwgYzogNiB9XHJcbiAgICogbmV3IFN1cGVyKG51bGwpLm1hcCgodmFsdWUpID0+IHZhbHVlICogMikuJDsgICAgICAgICAgICAgICAgIC8vIG51bGxcclxuICAgKi9cclxuICBtYXAoY2FsbGJhY2spIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI21hcCcpO1xyXG5cclxuICAgIGNvbnN0IG9iamVjdCA9IHRoaXMuJDtcclxuICAgIGNvbnN0IG8gPSBpc0FycmF5TGlrZShvYmplY3QpID8gW10gOiBpc051bGwob2JqZWN0KSA/IG51bGwgOiB7fTtcclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgb1trZXldID0gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNtYXhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogUmV0dXJuIHZhbHVlIGlzIHVzZWQgZm9yIGNvbXBhcmlzb24gd2l0aCB0aGUgcHJldmlvdXMgbWF4IHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHt7a2V5OiBLZXksIHZhbHVlOiBOdW1iZXJ9fSBPYmplY3Qgd2l0aCBtYXggdmFsdWUgYW5kIGtleSBvZiB0aGUgbWF4IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGZpbmRpbmcgbWF4IHZhbHVlIGluIHRoZSBvYmplY3QuXHJcbiAgICogSWYgbm8gY2FsbGJhY2sgaXMgcHJlc2VudCBjb21wYXJpc29uIGlzIGJldHdlZW4gdmFsdWVzIG9mIHRoZSBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCk7ICAgICAgICAgICAgICAgICAgICAgLy8geyBrZXk6ICdjJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkubWF4KCh2YWx1ZSkgPT4gNCAtIHZhbHVlKTsgLy8geyBrZXk6ICdhJywgdmFsdWU6IDMgfVxyXG4gICAqIG5ldyBTdXBlcih7IGE6ICdhJywgYjogJ2InLCBjOiAnYycgfSkubWF4KCk7ICAgICAgICAgICAgICAgLy8geyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1heChjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21heCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWF4LCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPiBtYXgudmFsdWUpIHtcclxuICAgICAgICBtYXgua2V5ID0ga2V5O1xyXG4gICAgICAgIG1heC52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiAtSW5maW5pdHkgfSkuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjbWluXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SXRlcmF0aW9uQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uLlxyXG4gICAqIFJldHVybiB2YWx1ZSBpcyB1c2VkIGZvciBjb21wYXJpc29uIHdpdGggdGhlIHByZXZpb3VzIG1pbiB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7e2tleTogS2V5LCB2YWx1ZTogTnVtYmVyfX0gT2JqZWN0IHdpdGggbWluIHZhbHVlIGFuZCBrZXkgb2YgdGhlIG1pbiB2YWx1ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG1pbiB2YWx1ZSBpbiB0aGUgb2JqZWN0LlxyXG4gICAqIElmIG5vIGNhbGxiYWNrIGlzIHByZXNlbnQgY29tcGFyaXNvbiBpcyBiZXR3ZWVuIHZhbHVlcyBvZiB0aGUgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigpOyAgICAgICAgICAgICAgICAgICAgIC8vIHsga2V5OiAnYScsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLm1pbigodmFsdWUpID0+IDQgLSB2YWx1ZSk7IC8vIHsga2V5OiAnYycsIHZhbHVlOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoeyBhOiAnYScsIGI6ICdiJywgYzogJ2MnIH0pLm1pbigpOyAgICAgICAgICAgICAgIC8vIHsga2V5OiBudWxsLCB2YWx1ZTogSW5maW5pdHkgfVxyXG4gICAqL1xyXG4gIG1pbihjYWxsYmFjayA9IG51bGwpIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb258fCEnXSwgJ1N1cGVyI21pbicpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgobWluLCB2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgICAgY29uc3QgdmFsID0gTnVtYmVyKGNhbGxiYWNrID8gY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSA6IHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICh2YWwgPCBtaW4udmFsdWUpIHtcclxuICAgICAgICBtaW4ua2V5ID0ga2V5O1xyXG4gICAgICAgIG1pbi52YWx1ZSA9IHZhbDtcclxuICAgICAgfVxyXG4gICAgfSwgeyBrZXk6IG51bGwsIHZhbHVlOiBJbmZpbml0eSB9KS4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNvYmplY3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtPYmplY3RDYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHBhcmFtIHtPYmplY3R8Kn0gW29iamVjdCA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBXcmFwIG9mIHRoZSBuZXcgb2JqZWN0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIFRoZSBvYmplY3QgaXMgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IGludG8gdGhlIGNhbGxiYWNrLiBUaGUgb3V0cHV0IGlzIHRoaXMgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyIH0pLm9iamVjdCgob2JqZWN0LCB2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICogICBvYmplY3Rba2V5XSA9IHZhbHVlO1xyXG4gICAqICAgb2JqZWN0W2tleSArIGtleV0gPSB2YWx1ZSAqIDI7XHJcbiAgICogfSkuJDsgLy8geyBhOiAxLCBhYTogMiwgYjogMiwgYmI6IDQgfVxyXG4gICAqL1xyXG4gIG9iamVjdChjYWxsYmFjaywgb2JqZWN0ID0ge30pIHtcclxuICAgIHZhbGlkYXRlKFtjYWxsYmFja10sIFsnZnVuY3Rpb24nXSwgJ1N1cGVyI29iamVjdCcpO1xyXG5cclxuICAgIGl0ZXJhdGUodGhpcy4kLCAodmFsdWUsIGtleSwgb2JqKSA9PiB7XHJcbiAgICAgIGNhbGxiYWNrKG9iamVjdCwgdmFsdWUsIGtleSwgb2JqKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKG9iamVjdCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGFuIGFzc2lnbmVkIG9iamVjdC5cclxuICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZ1xyXG4gICAqIHRoaXMgaGFzIHRvIGJlIGFuIGFzc2lnbmVkIHZhbHVlIGlmIGl0J3MgcHJlc2VudC5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB8Kn0gUmV0dXJucyB0aGlzIGlmIGl0J3MgYSBzZXR0ZXIgb3IgYSB2YWx1ZSBpZiBnZXR0ZXIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBhbmQgc2V0dGluZyBwcm9wZXJ0aWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnKTsgICAgICAgICAgICAgIC8vIDFcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnByb3AoJ2EnLCA3KS4kOyAgICAgICAgIC8vIHsgYTogNywgYjogMiwgYzogMyB9XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5wcm9wKHsgYTogNywgYjogOCB9KS4kOyAvLyB7IGE6IDcsIGI6IDgsIGM6IDMgfVxyXG4gICAqL1xyXG4gIHByb3AocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxICYmIGlzU3RyaW5nKHByb3BlcnR5KSkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kID8gdGhpcy4kW3Byb3BlcnR5XSA6IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmFzc2lnbihwcm9wZXJ0eSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgLSBQcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R8dW5kZWZpbmVkfSBQcm9wZXJ0eSBkZXNjcmlwdG9yLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5RGVzY3JpcHRvclxyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxIH0pLnByb3BlcnR5RGVzY3JpcHRvcignYScpO1xyXG4gICAqIC8vIHtcclxuICAgKiAvLyAgIHZhbHVlOiAxLFxyXG4gICAqIC8vICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgKiAvLyAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAqIC8vICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIHByb3BlcnR5RGVzY3JpcHRvcihwcm9wZXJ0eSkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBpc09iamVjdChvYmplY3QpID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KSA6IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjcHJvcGVydHlOYW1lc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiB0aGUgbmFtZXMgYXJyYXkuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZ2V0T3duUHJvcGVydHlOYW1lc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIgfSkuZGVmaW5lKCdjJywgeyB2YWx1ZTogMyB9KS4kOyAvLyBbJ2EnLCAnYicsICdjJ11cclxuICAgKi9cclxuICBwcm9wZXJ0eU5hbWVzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3QpIDogW10pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNwcm9wZXJ0eVN5bWJvbHNcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0RXcmFwfSBELVdyYXAgb2YgdGhlIG5hbWVzIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2dldE93blByb3BlcnR5U3ltYm9sc1xyXG4gICAqIEBkZXNjcmlwdG9yIFN5bm9ueW0gZm9yXHJcbiAgICogW09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBbU3ltYm9sKCdmb28nKV06IDEgfSkuZGVmaW5lKFN5bWJvbCgnYmFyJyksIHsgdmFsdWU6IDIgfSkuJDsgLy8gW1N5bWJvbCgnZm9vJyksIFN5bWJvbCgnYmFyJyldXHJcbiAgICovXHJcbiAgcHJvcGVydHlTeW1ib2xzKCkge1xyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBEKGlzT2JqZWN0KG9iamVjdCkgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCkgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3Byb3RvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3Byb3RvXSAtIElmIGl0J3MgcHJlc2VudCBpdCdzIHNldCBhcyBhIHByb3RvdHlwZSB0byB0aGUgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gSW4gZ2V0dGVyIG1vZGUgcmV0dXJucyB3cmFwIG9mIHRoZSBwcm90b3R5cGUgYW5kIGluIHNldHRlciBtb2RlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgYm90aFxyXG4gICAqIFtPYmplY3QuZ2V0UHJvdG90eXBlT2Zde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9nZXRQcm90b3R5cGVPZn1cclxuICAgKiBhbmRcclxuICAgKiBbT2JqZWN0LnNldFByb3RvdHlwZU9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qvc2V0UHJvdG90eXBlT2Z9LlxyXG4gICAqL1xyXG4gIHByb3RvKHByb3RvKSB7XHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcbiAgICBjb25zdCBpc0NvbnRleHRPYmplY3QgPSAhaXNOaWwob2JqZWN0KTtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBpZiAoaXNDb250ZXh0T2JqZWN0ICYmIChpc09iamVjdChwcm90bykgfHwgaXNOdWxsKHByb3RvKSkpIHtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2Yob2JqZWN0LCBwcm90byk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpc0NvbnRleHRPYmplY3QgPyBuZXcgU3VwZXIoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpIDogbmV3IFN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3JlZHVjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZHVjZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBSZXR1cm4gdmFsdWUgaXMgcGFzc2VkIHRvIHRoZSBuZXh0IGNhbGxiYWNrIGNhbGwuXHJcbiAgICogQHBhcmFtIHsqfSBbSVYgPSA8Zmlyc3QgdmFsdWU+fHVuZGVmaW5lZF0gLSBJbml0aWFsIHZhbHVlLlxyXG4gICAqIEByZXR1cm5zIHsqfSBNb2RpZmllZCBJVi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBtb2RpZmllZCBJVi4gSWYgdGhlIHNlY29uZCBhcmd1bWVudCBpcyBub3QgcHJlc2VudCBmaXJzdCB2YWx1ZSBpbiB0aGUgb2JqZWN0IGlzIHRha2VuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkucmVkdWNlKChzdW0sIHZhbHVlKSA9PiBzdW0gKyB2YWx1ZSAqIHZhbHVlLCAwKTsgLy8gMTRcclxuICAgKi9cclxuICByZWR1Y2UoY2FsbGJhY2ssIElWKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9uJ10sICdTdXBlciNyZWR1Y2UnKTtcclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IHN0YXJ0S2V5O1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIHN0YXJ0S2V5ID0ga2V5O1xyXG4gICAgICAgIElWID0gdmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgaWYgKGtleSAhPT0gc3RhcnRLZXkpIHtcclxuICAgICAgICBJViA9IGNhbGxiYWNrKElWLCB2YWx1ZSwga2V5LCBvYmplY3QpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gSVY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN1cGVyI3NldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRnVuY3Rpb24+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgc2V0dGVycyBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3NldHRlcl0gLSBJZiBhIHByb3BlcnR5IHBhcmFtZXRlciBpcyBhIHN0cmluZyB0aGlzIGhhcyB0byBiZSBhIHNldHRlciBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RFdyYXB9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZWZpbmluZyBzZXR0ZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBvYmplY3QgPSBuZXcgU3VwZXIoe30pXHJcbiAgICogICAuZ2V0KCdwdWJsaWMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICogICAgIHJldHVybiB0aGlzLl9wcml2YXRlO1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5zZXQoJ3B1YmxpYycsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsICcxJykuJDsgLy8geyBwdWJsaWM6IHVuZGVmaW5lZCB9XHJcbiAgICogb2JqZWN0LnByb3AoJ3B1YmxpYycsIDEpLiQ7ICAgLy8geyBwdWJsaWM6IDEsIF9wcml2YXRlOiAxIH1cclxuICAgKlxyXG4gICAqIG5ldyBTdXBlcih7fSkuc2V0KHtcclxuICAgKiAgIHB1YmxpYyh2YWx1ZSkge1xyXG4gICAqICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xyXG4gICAqICAgICAgIHRoaXMuX3ByaXZhdGUgPSB2YWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfVxyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHNldChwcm9wZXJ0eSwgc2V0dGVyKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiBzZXR0ZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYmplY3QgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShpc09iamVjdChvYmplY3QpICYmIG5ldyBTdXBlcihwcm9wZXJ0eSkuJCwgKHNldHRlciwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgc2V0OiBzZXR0ZXIgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc29tZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBbY2FsbGJhY2sgPSBCb29sZWFuXSAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBJZiByZXR1cm5zIHRydXRoeSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIGZhbHNleSBpdCBjb250aW51ZXMuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGFsbCB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHRydWUgaWYgc29tZSBvZiB0aGUgY2FsbGJhY2sgY2FsbHMgcmV0dXJuZWQgdHJ1dGh5IHZhbHVlLiBPdGhlcndpc2UgZmFsc2UuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkuc29tZSgodmFsdWUpID0+IHZhbHVlID4gNCk7IC8vIGZhbHNlXHJcbiAgICogbmV3IFN1cGVyKHt9KS5zb21lKCgpID0+IHRydWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmFsc2VcclxuICAgKi9cclxuICBzb21lKGNhbGxiYWNrID0gQm9vbGVhbikge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbiddLCAnU3VwZXIjc29tZScpO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKHRoaXMuJCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KSB8fCBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjc3RyaWN0RXF1YWxzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW29iamVjdF0gLSBPYmplY3QgdG8gY29tcGFyZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIG9iamVjdHMgYXJlIGVxdWFsIG9yIG5vdC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0cnVlIGlmIG9iamVjdHMgYXJlIGVxdWFsIHVzaW5nICc9PT0nIG9wZXJhdG9yIGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICogTmFOcyBhcmUgY29uc2lkZXJlZCB0byBiZSBzdHJpY3QgZXF1YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcigzKS5zdHJpY3RFcXVhbHMoJzMnKTsgICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdXBlcihOYU4pLnN0cmljdEVxdWFscyhOYU4pOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgc3RyaWN0RXF1YWxzKG9iamVjdCkge1xyXG4gICAgY29uc3QgbyA9IHRoaXMuJDtcclxuXHJcbiAgICBvYmplY3QgPSBuZXcgU3VwZXIob2JqZWN0KS4kO1xyXG5cclxuICAgIHJldHVybiBvID09PSBvYmplY3QgfHwgKGlzTmFOKG8pICYmIGlzTmFOKG9iamVjdCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdXBlciNzdW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtJdGVyYXRpb25DYWxsYmFja30gW2NhbGxiYWNrID0gbnVsbF0gLSBDYWxsZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU3VtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3Igc3VtbWluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLnN1bSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyA2XHJcbiAgICogbmV3IFN1cGVyKHsgYTogMSwgYjogMiwgYzogMyB9KS5zdW0oKHZhbHVlKSA9PiB2YWx1ZSAqIHZhbHVlKTsgLy8gMTRcclxuICAgKi9cclxuICBzdW0oY2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICB2YWxpZGF0ZShbY2FsbGJhY2tdLCBbJ2Z1bmN0aW9ufHwhJ10sICdTdXBlciNzdW0nKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZWR1Y2UoKHN1bSwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHN1bSArIE51bWJlcihjYWxsYmFjayA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkgOiB2YWx1ZSlcclxuICAgICksIDApO1xyXG4gIH1cclxuXHJcbiAgdG9KU09OKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdG9TdHJpbmdUYWdcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0b1N0cmluZyB0YWcgb2YgdGhlIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN1cGVyKHt9KS50b1N0cmluZ1RhZzsgLy8gJ09iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoW10pLnRvU3RyaW5nVGFnOyAvLyAnQXJyYXknXHJcbiAgICogbmV3IFN1cGVyKDEpLnRvU3RyaW5nVGFnOyAgLy8gJ051bWJlcidcclxuICAgKi9cclxuICBnZXQgdG9TdHJpbmdUYWcoKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmdUYWcodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgU3VwZXIjdHlwZVxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtcInR5cGVvZlwiIG9wZXJhdG9yXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvaW5zdGFuY2VvZn0uLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnR5cGU7ICAgLy8gJ29iamVjdCdcclxuICAgKiBuZXcgU3VwZXIoMSkudHlwZTsgICAgLy8gJ251bWJlcidcclxuICAgKiBuZXcgU3VwZXIoJzEnKS50eXBlOyAgLy8gJ3N0cmluZydcclxuICAgKiBuZXcgU3VwZXIodHJ1ZSkudHlwZTsgLy8gJ2Jvb2xlYW4nXHJcbiAgICovXHJcbiAgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsICo+fSBwcm9wZXJ0eSAtIEVpdGhlciBhIHN0cmluZyBvZiBhIHByb3BlcnR5IG9yIGEgdmFsdWVzIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge09iamVjdC48U3RyaW5nLCAqPn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nIHRoaXMgaGFzIHRvIGJlIGEgdmFsdWUgdG8gYmUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUsIG5vbi1jb25maWd1cmFibGUgdmFsdWVzLlxyXG4gICAqIFN5bm9ueW0gZm9yIG9iamVjdC5kZWZpbmUocHJvcGVydHksIHsgdmFsdWU6IHZhbHVlIH0pLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKCdhJywgMSkuJDsgLy8geyBhOiAxIH1cclxuICAgKiBuZXcgU3VwZXIoe30pLnZhbHVlKHtcclxuICAgKiAgIGE6IDFcclxuICAgKiB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geyBhOiAxIH1cclxuICAgKi9cclxuICB2YWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgcHJvcGVydHkgPSB7IFtwcm9wZXJ0eV06IHZhbHVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy4kO1xyXG5cclxuICAgIGl0ZXJhdGUoaXNPYmplY3Qob2JqZWN0KSAmJiBuZXcgU3VwZXIocHJvcGVydHkpLiQsICh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHsgdmFsdWUgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjdmFsdWVzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtEV3JhcH0gQSB3cmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgRC1XcmFwIG9mIHRoZSB2YWx1ZXMgYXJyYXkuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdXBlcih7IGE6IDEsIGI6IDIsIGM6IDMgfSkudmFsdWVzKCkuJDsgLy8gWzEsIDIsIDNdXHJcbiAgICogbmV3IFN1cGVyKG51bGwpLnZhbHVlcygpLiQ7ICAgICAgICAgICAgICAgICAvLyBbXVxyXG4gICAqL1xyXG4gIHZhbHVlcygpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gICAgaXRlcmF0ZSh0aGlzLiQsICh2YWx1ZSkgPT4ge1xyXG4gICAgICBhcnJheS5wdXNoKHZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBEKGFycmF5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3VwZXIjd29yZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0l0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxlZCBvbiBlYWNoIGl0ZXJhdGlvbi5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBUeXBlIG9mIHtAbGluayBTdXBlciNyZWR1Y2V9LlxyXG4gICAqIElmIHRoZSBjYWxsYmFjayBpcyBwcmVzZW50IGl0J3MgdXNlZCBmb3IgY29uY2F0ZW5hdGluZy4gSWYgbm90IHRoZSB2YWx1ZSBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJzEyMydcclxuICAgKiBuZXcgU3VwZXIoeyBhOiAxLCBiOiAyLCBjOiAzIH0pLndvcmQoKHZhbHVlKSA9PiB2YWx1ZSArIHZhbHVlKTsgLy8gJzExMjIzMydcclxuICAgKi9cclxuICB3b3JkKGNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgdmFsaWRhdGUoW2NhbGxiYWNrXSwgWydmdW5jdGlvbnx8ISddLCAnU3VwZXIjd29yZCcpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnJlZHVjZSgod29yZCwgdmFsdWUsIGtleSwgb2JqZWN0KSA9PiAoXHJcbiAgICAgIHdvcmQgKyBTdHJpbmcoY2FsbGJhY2sgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpIDogdmFsdWUpXHJcbiAgICApLCAnJyk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN1cGVyLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnU3VwZXInXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwQXNzaWduXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IC0gT2JqZWN0IHRvIGFzc2lnbiBwcm9wZXJ0aWVzIHRvLlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBhc3NpZ24gcHJvcGVydGllcyBmcm9tLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBBc3NpZ24odGFyZ2V0LCBvYmplY3QpIHtcclxuICBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmIChpc1ByaW1pdGl2ZSh0YXJnZXRba2V5XSkgfHwgIXt9Lmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XHJcbiAgICAgIHRhcmdldFtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzUHJpbWl0aXZlKHRhcmdldFtrZXldKSkge1xyXG4gICAgICBkZWVwQXNzaWduKHRhcmdldFtrZXldLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcENsb25lXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGNsb25lLlxyXG4gKiBAZGVzY3JpcHRpb24gRG9lcyB0aGUgZGVlcCBjbG9uaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcENsb25lKG9iamVjdCkge1xyXG4gIGNvbnN0IGNsb25lID0gY2xvbmVTd2l0Y2hlcihvYmplY3QsIFtvYmplY3QsIHRydWVdKTtcclxuXHJcbiAgaWYgKGNsb25lICE9PSBvYmplY3QpIHtcclxuICAgIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICBjbG9uZVtrZXldID0gZGVlcENsb25lKHZhbHVlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNsb25lO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFcXVhbFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG8xIC0gRmlyc3Qgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Kn0gbzIgLSBTZWNvbmQgb2JqZWN0IHRvIGNvbXBhcmUuXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RyaWN0IC0gSWYgY29tcGFyaXNvbiBzaG91bGQgYmUgc3RyaWN0IG9yIG5vdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgdGhlIG9iamVjdCBhcmUgZGVlcCBlcXVhbCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXF1YWwobzEsIG8yLCBzdHJpY3QpIHtcclxuICBpZiAobzEgPT09IG8yKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGlmIChpc05hTihvMSkgJiYgaXNOYU4obzIpICYmIGlzUHJpbWl0aXZlKG8xKSAmJiBpc1ByaW1pdGl2ZShvMikpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKG8xKSB8fCBpc05hTihvMikpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChpc1ByaW1pdGl2ZShvMSkgfHwgaXNQcmltaXRpdmUobzIpKSB7XHJcbiAgICByZXR1cm4gc3RyaWN0ID8gbzEgPT09IG8yIDogbzEgPT0gbzI7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSAmJiBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gbzEuZ2V0VGltZSgpID09PSBvMi5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEYXRlKG8xKSB8fCBpc0RhdGUobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNSZWdFeHAobzEpICYmIGlzUmVnRXhwKG8yKSkge1xyXG4gICAgcmV0dXJuIG8xLnNvdXJjZSA9PT0gbzIuc291cmNlICYmXHJcbiAgICAgIG8xLnRvU3RyaW5nKCkubWF0Y2goL1tnaW11eV0qJC8pWzBdID09PSBvMi50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXSAmJlxyXG4gICAgICBvMS5sYXN0SW5kZXggPT09IG8yLmxhc3RJbmRleDtcclxuICB9XHJcblxyXG4gIGlmIChpc1JlZ0V4cChvMSkgfHwgaXNSZWdFeHAobzIpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoKCFpc1BsYWluT2JqZWN0KG8xKSAmJiAhaXNBcnJheShvMSkpIHx8ICghaXNQbGFpbk9iamVjdChvMikgJiYgIWlzQXJyYXkobzIpKSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcDEgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YobzEpO1xyXG4gIGNvbnN0IHAyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG8xKTtcclxuXHJcbiAgaWYgKE9iamVjdC5rZXlzKG8xKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKG8yKS5sZW5ndGgpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGlmIChwMSAmJiBwMiAmJiAodG9TdHJpbmdUYWcocDEuY29uc3RydWN0b3IpICE9PSB0b1N0cmluZ1RhZyhwMi5jb25zdHJ1Y3RvcikpKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvMSwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGlmICghKGtleSBpbiBvMikgfHwgIWRlZXBFcXVhbCh2YWx1ZSwgbzJba2V5XSwgc3RyaWN0KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBFdmVyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gZ29lcyBvbiBhbmQgaWYgbm90IGl0IHN0b3BzLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IC0gSWYgYWxsIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXZlcnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIHJldHVybiBpdGVyYXRlKG9iamVjdCwgKHZhbHVlLCBrZXksIG9iamVjdCkgPT4ge1xyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICAgID8gIWNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgICA6ICFkZWVwRXZlcnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSlcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkgIT09IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBGaWx0ZXJcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBJZiByZXR1cm5zIHRydXRoeSB0aGUgZWxlbWVudCBpcyBpbmNsdWRlZCBpbiB0aGUgb3V0cHV0IGFuZCBpZiBub3QgaXQncyBleGNsdWRlZC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZSAtIFRyZWUgb2YgeyBrZXksIHZhbHVlIH0gb2JqZWN0cyBvZiBpdGVyYXRpb24uXHJcbiAqIEByZXR1cm5zIHsqfSBGaWx0ZXJlZCBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRmlsdGVyKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBhcnJheSA9IGlzQXJyYXlMaWtlKG9iamVjdCk7XHJcbiAgY29uc3QgbnVsID0gaXNOaWwob2JqZWN0KTtcclxuICBjb25zdCBvID0gYXJyYXkgPyBbXSA6IG51bCA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpKSB7XHJcbiAgICAgIGlmIChhcnJheSkge1xyXG4gICAgICAgIG8ucHVzaCh2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb1trZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCkge1xyXG4gICAgICBjb25zdCBmaWx0ZXJlZCA9IGRlZXBGaWx0ZXIodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgICBpZiAoZmlsdGVyZWQpIHtcclxuICAgICAgICBpZiAoYXJyYXkpIHtcclxuICAgICAgICAgIG8ucHVzaChmaWx0ZXJlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9ba2V5XSA9IGZpbHRlcmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpZiAoYXJyYXkpIHtcclxuICAgIHJldHVybiBvLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBpZiAoIW51bCkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLmxlbmd0aCA/IG8gOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7VHJlZXxudWxsfSAtIElmIGZvdW5kIHRoZSB3aG9sZSB0cmVlIGlzIHJldHVybmVkIGFuZCBpZiBub3QgaXQncyBudWxsIHdoYXQncyByZXR1cm5lZC5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGaW5kKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBlbmQgPSBuID09PSAxO1xyXG5cclxuICByZXR1cm4gaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKSkge1xyXG4gICAgICAgIHJldHVybiBuZXdUcmVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gZGVlcEZpbmQodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcblxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH0pIHx8IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRm9yRWFjaChvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgaXRlcmF0ZShvYmplY3QsICh2YWx1ZSwga2V5LCBvYmplY3QpID0+IHtcclxuICAgIGNvbnN0IG5ld1RyZWUgPSBbeyBrZXksIHZhbHVlIH1dLmNvbmNhdCh0cmVlKTtcclxuXHJcbiAgICBpZiAoZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKSkge1xyXG4gICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVlcEZvckVhY2godmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZvckVhY2hFbnRyeVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBGb3JFYWNoRW50cnkob2JqZWN0LCBjYWxsYmFjaywgbiwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0LCBuZXdUcmVlKTtcclxuXHJcbiAgICBpZiAoIWVuZCAmJiAhaXNQcmltaXRpdmUodmFsdWUpKSB7XHJcbiAgICAgIGRlZXBGb3JFYWNoRW50cnkodmFsdWUsIGNhbGxiYWNrLCBuIC0gMSwgbmV3VHJlZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZGVlcEZyZWV6ZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBmcmVlemUuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEZyZWV6ZShvYmplY3QpIHtcclxuICBPYmplY3QuZnJlZXplKG9iamVjdCk7XHJcbiAgaXRlcmF0ZShvYmplY3QsIGRlZXBGcmVlemUpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGRlZXBNYXBcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmplY3QgLSBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiBAcGFyYW0ge0RlZXBJdGVyYXRpb25DYWxsYmFja30gY2FsbGJhY2sgLSBDYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBldmVyeSBlbGVtZW50LlxyXG4gKiBSZXR1cm5lZCB2YWx1ZSBpcyB1c2VkIHRvIGNyZWF0ZSB0byBuZXcgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbiAtIERlcHRoIG9mIGl0ZXJhdGlvbi5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMgeyp9IE5ldyBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwTWFwKG9iamVjdCwgY2FsbGJhY2ssIG4sIHRyZWUpIHtcclxuICBjb25zdCBvID0gaXNBcnJheUxpa2Uob2JqZWN0KSA/IFtdIDogaXNOaWwob2JqZWN0KSA/IG9iamVjdCA6IHt9O1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgb1trZXldID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCwgbmV3VHJlZSlcclxuICAgICAgOiBkZWVwTWFwKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIG5ld1RyZWUpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gbztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwUmVkdWNlXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IC0gT2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cclxuICogQHBhcmFtIHtEZWVwUmVkdWNlQ2FsbGJhY2t9IGNhbGxiYWNrIC0gQ2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgb24gZXZlcnkgZWxlbWVudC5cclxuICogUmV0dXJuZWQgdmFsdWUgaXMgdXNlZCB0byBjcmVhdGUgdG8gbmV3IG9iamVjdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG4gLSBEZXB0aCBvZiBpdGVyYXRpb24uXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RhcnQgLSBJZiBjYWxsYmFjayB3YXMgY2FsbGVkIGFscmVhZHkgb3Igbm90LlxyXG4gKiBAcGFyYW0ge3sgSVY6ICogfXx1bmRlZmluZWR9IElWIC0gSWYgY2FsbGJhY2sgd2FzIGNhbGxlZCBhbHJlYWR5IG9yIG5vdC5cclxuICogQHBhcmFtIHtUcmVlfSB0cmVlIC0gVHJlZSBvZiB7IGtleSwgdmFsdWUgfSBvYmplY3RzIG9mIGl0ZXJhdGlvbi5cclxuICogQHJldHVybnMge3sgSVY6ICogfX0gVHJhbnNmb3JtZWQgSVYuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwUmVkdWNlKG9iamVjdCwgY2FsbGJhY2ssIG4sIHN0YXJ0LCBJViwgdHJlZSkge1xyXG4gIGNvbnN0IGVuZCA9IG4gPT09IDE7XHJcblxyXG4gIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBpZiAoIUlWICYmIChlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpKSAmJiAhc3RhcnQpIHtcclxuICAgICAgSVYgPSB7IElWOiB2YWx1ZSB9O1xyXG4gICAgICBzdGFydCA9IHRydWU7XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3VHJlZSA9IFt7IGtleSwgdmFsdWUgfV0uY29uY2F0KHRyZWUpO1xyXG5cclxuICAgIElWID0gZW5kIHx8IGlzUHJpbWl0aXZlKHZhbHVlKVxyXG4gICAgICA/IHsgSVY6IGNhbGxiYWNrKElWLklWLCB2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpIH1cclxuICAgICAgOiBkZWVwUmVkdWNlKHZhbHVlLCBjYWxsYmFjaywgbiAtIDEsIHN0YXJ0LCBJViwgbmV3VHJlZSk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBJVjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkZWVwU29tZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RGVlcEl0ZXJhdGlvbkNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IGVsZW1lbnQuXHJcbiAqIElmIHJldHVybnMgdHJ1dGh5IHRoZSBpdGVyYXRpb24gc3RvcHMgYW5kIGlmIG5vdCBpdCBjb250aW51ZXMuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuIC0gRGVwdGggb2YgaXRlcmF0aW9uLlxyXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWUgLSBUcmVlIG9mIHsga2V5LCB2YWx1ZSB9IG9iamVjdHMgb2YgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBJZiBzb21lIG9mIHRoZSBjYWxsYmFjayBjYWxscyByZXR1cm5lZCB0cnV0aHkgdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwU29tZShvYmplY3QsIGNhbGxiYWNrLCBuLCB0cmVlKSB7XHJcbiAgY29uc3QgZW5kID0gbiA9PT0gMTtcclxuXHJcbiAgcmV0dXJuIGl0ZXJhdGUob2JqZWN0LCAodmFsdWUsIGtleSwgb2JqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBuZXdUcmVlID0gW3sga2V5LCB2YWx1ZSB9XS5jb25jYXQodHJlZSk7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBlbmQgfHwgaXNQcmltaXRpdmUodmFsdWUpXHJcbiAgICAgICAgPyBjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QsIG5ld1RyZWUpXHJcbiAgICAgICAgOiBkZWVwU29tZSh2YWx1ZSwgY2FsbGJhY2ssIG4gLSAxLCBuZXdUcmVlKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH0pIHx8IGZhbHNlO1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMF0ucHVzaCh7XHJcbiAgY2hlY2s6ICgpID0+IHRydWUsXHJcbiAgY2xzOiBTdXBlclxyXG59KTtcclxuXHJcbmV4cG9ydCB7IFN1cGVyIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEZ1bmNcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEZ1bmMgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgdmFsaWRhdGUsIHRvQXJyYXksIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllcywgaXRlcmF0ZSB9IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEJlZm9yZU1pZGRsZXdhcmVcclxuICogQHBhcmFtIHtBcnJheX0gYXJncyAtIFByZXZpb3VzIGFyZ3VtZW50cy5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMge0FycmF5fSAtIE5ldyBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBBZnRlck1pZGRsZXdhcmVcclxuICogQHBhcmFtIHsqfSByZXR1cm5WYWx1ZSAtIFByZXZpb3VzIHJldHVybiB2YWx1ZS5cclxuICogQHBhcmFtIHtGdW5jfSBmdW5jIC0gVGhpcyBmdW5jdGlvbi5cclxuICogQHJldHVybnMgeyp9IC0gTmV3IHJldHVybiB2YWx1ZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEZ1bmNcclxuICogQGV4dGVuZHMgU3VwZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuYyA9IGZ1bmN0aW9uICgpIHt9XSAtIEZ1bmN0aW9uIHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtGdW5jfSBJbnN0YW5jZSBvZiBGdW5jLlxyXG4gKiBAZGVzY3JpcHRpb24gQSB3cmFwIG9mIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhNYXRoLm1heCk7XHJcbiAqXHJcbiAqIGZ1bmMoMSwgNCwgLTIsIDUpOyAvLyA1XHJcbiAqL1xyXG5jbGFzcyBGdW5jIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKGZ1bmMgPSAoKSA9PiB7fSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm94eSgpIHtcclxuICAgICAgaWYgKCsrcHJveHkuJCQuY2FsbGVkIDwgcHJveHkuJCQuY2FuQmVDYWxsZWQpIHtcclxuICAgICAgICBjb25zdCB7IGJlZm9yZSwgYWZ0ZXIsIHN5bmMsIGNvbnRleHRMb2NrZWQgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCB7IGNvbnRleHQsIGFyZ3MgfSA9IHByb3h5LiQkO1xyXG4gICAgICAgIGxldCByZXQ7XHJcblxyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0TG9ja2VkID8gY29udGV4dCA6IGNvbnRleHQgfHwgdGhpcztcclxuICAgICAgICBhcmdzID0gYXJncy5jb25jYXQodG9BcnJheShhcmd1bWVudHMpKTtcclxuXHJcbiAgICAgICAgaWYgKHN5bmMpIHtcclxuICAgICAgICAgIGl0ZXJhdGUoYmVmb3JlLCAobWlkZGxld2FyZSkgPT4ge1xyXG4gICAgICAgICAgICBhcmdzID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHRvQXJyYXkoYXJncyksIHByb3h5KTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgdG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgICAgcmV0ID0gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xyXG5cclxuICAgICAgICBpdGVyYXRlKGJlZm9yZSwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKGFyZ3MpID0+IG1pZGRsZXdhcmUuY2FsbChjb250ZXh0LCB0b0FycmF5KGFyZ3MpLCBwcm94eSkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKChhcmdzKSA9PiBmdW5jLmFwcGx5KGNvbnRleHQsIHRvQXJyYXkoYXJncykpKTtcclxuXHJcbiAgICAgICAgaXRlcmF0ZShhZnRlciwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oKHJldCkgPT4gbWlkZGxld2FyZS5jYWxsKGNvbnRleHQsIHJldCwgcHJveHkpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge09iamVjdH0gRnVuYyMkJFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFmdGVyIC0gQWZ0ZXIgbWlkZGxld2FyZSBhcnJheS5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3MgLSBMb2NrZWQgYW5kIGJvdW5kIGFyZ3VtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGFyZ3NMb2NrZWQgLSBMb2NrZWQgYXJndW1lbnRzLlxyXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gYmVmb3JlIC0gQmVmb3JlIG1pZGRsZXdhcmUgYXJyYXkuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FsbGVkIC0gSG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY2FuQmVDYWxsZWQgLSBIb3cgbWFueSB0aW1lcyB0aGUgZnVuY3Rpb24gY2FuIGJlIGFjdHVhbGx5IGNhbGxlZC5cclxuICAgICAqIEBwcm9wZXJ0eSB7Kn0gY29udGV4dCAtIExvY2tlZCBvciBib3VuZCBjb250ZXh0LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBjb250ZXh0TG9ja2VkIC0gSXMgY29udGV4dCBsb2NrZWQgb3Igbm90LlxyXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBzeW5jIC0gSXMgZnVuY3Rpb24gc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAgICogQGRlc2NyaXB0aW9uIENvbmZpZyBwYXJhbWV0ZXJzLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksICckJCcsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBhZnRlcjogW10sXHJcbiAgICAgICAgYXJnczogW10sXHJcbiAgICAgICAgYXJnc0xvY2tlZDogW10sXHJcbiAgICAgICAgYmVmb3JlOiBbXSxcclxuICAgICAgICBjYWxsZWQ6IDAsXHJcbiAgICAgICAgY2FuQmVDYWxsZWQ6IEluZmluaXR5LFxyXG4gICAgICAgIGNvbnRleHQ6IG51bGwsXHJcbiAgICAgICAgY29udGV4dExvY2tlZDogZmFsc2UsXHJcbiAgICAgICAgc3luYzogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBGdW5jIyRcclxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBmdW5jdGlvbi5cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCAnJCcsIHsgdmFsdWU6IGZ1bmMgfSk7XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocHJveHksIEZ1bmMucHJvdG90eXBlKTtcclxuXHJcbiAgICByZXR1cm4gcHJveHk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYWZ0ZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtBZnRlck1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBBZnRlciBtaWRkbGV3YXJlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYWZ0ZXJBbGwgPSB0cnVlXSAtIEJvb2xlYW4gcGFyYW1ldGVyIHdoZXJlIHRvIHB1dCBtaWRkbGV3YXJlLlxyXG4gICAqIFRydXRoeSBwYXJhbWV0ZXIgc3RhbmRzIGZvciBcInRvIHRoZSBlbmRcIiBhbmQgZmFsc2V5IGZvciBcInRvIHRoZSBiZWdpbm5pbmdcIi5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBZGRzIGFmdGVyIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYWZ0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0ICogcmVzdWx0KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoNCk7ICAvLyAyNVxyXG4gICAqIGZ1bmMoLTQpOyAvLyA5XHJcbiAgICovXHJcbiAgYWZ0ZXIobWlkZGxld2FyZSwgYWZ0ZXJBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYWZ0ZXInKTtcclxuXHJcbiAgICBjb25zdCB7IGFmdGVyIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChhZnRlckFsbCkge1xyXG4gICAgICBhZnRlci5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWZ0ZXIudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNhcHBseVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIENvbnRleHQgdG8gY2FsbCB3aXRoLlxyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vYXBwbHlcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRnVuY3Rpb24jYXBwbHlde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL2FwcGx5fS5cclxuICAgKi9cclxuICBhcHBseShjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gKCgpID0+IHt9KS5hcHBseS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2FzeW5jXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIElmIHRoZSBmdW5jdGlvbiBzaG91bGQgYmUgc3luY2hyb25vdXMgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEpID0+IGEgKyAxKS5hc3luYygpO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlc3VsdCk7IC8vIDVcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBhc3luYyhjb25kaXRpb24gPSB0cnVlKSB7XHJcbiAgICB0aGlzLiQkLnN5bmMgPSAhY29uZGl0aW9uO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0JlZm9yZU1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBCZWZvcmUgbWlkZGxld2FyZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2JlZm9yZUFsbCA9IHRydWVdIC0gQm9vbGVhbiBwYXJhbWV0ZXIgd2hlcmUgdG8gcHV0IG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGVuZFwiLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEFkZHMgYmVmb3JlIG1pZGRsZXdhcmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuYmVmb3JlKChbYXJnXSkgPT4gW2FyZyAqIGFyZ10pO1xyXG4gICAqXHJcbiAgICogZnVuYyg0KTsgLy8gMTdcclxuICAgKiBmdW5jKDMpOyAvLyAxMFxyXG4gICAqL1xyXG4gIGJlZm9yZShtaWRkbGV3YXJlLCBiZWZvcmVBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0Z1bmMjYmVmb3JlJyk7XHJcblxyXG4gICAgY29uc3QgeyBiZWZvcmUgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGJlZm9yZUFsbCkge1xyXG4gICAgICBiZWZvcmUudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJlZm9yZS5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIENvbXBvc2l0aW9uIG9mIHtAbGluayBGdW5jI2JpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjYmluZEFyZ3N9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmEgKyBhICsgYjtcclxuICAgKiB9KS5iaW5kKHsgYTogMiB9LCAxKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgYmluZChjb250ZXh0LCAuLi5hcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuYmluZENvbnRleHQoY29udGV4dClcclxuICAgICAgLmJpbmRBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2JpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50cyl9IGFyZ3MgLSBBcmd1bWVudHMgdG8gYmluZC5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCaW5kcyBhcmd1bWVudHMgaW4gYWRkaXRpb24gdG8gYWxyZWFkeSBsb2NrZWQgYW5kIGJvdW5kIG9uZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoLi4uYXJncykgPT4ge1xyXG4gICAqICAgbGV0IHN1bSA9IDA7XHJcbiAgICpcclxuICAgKiAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAqICAgICBzdW0gKz0gYXJnc1tpXTtcclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgcmV0dXJuIHN1bTtcclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKlxyXG4gICAqIGZ1bmMuYmluZEFyZ3MoWzRdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDEwXHJcbiAgICpcclxuICAgKiBmdW5jLmJpbmRBcmdzKFs1XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxNVxyXG4gICAqL1xyXG4gIGJpbmRBcmdzKGFyZ3MpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGZ1bmMuYXJncyA9IGZ1bmMuYXJncy5jb25jYXQodG9BcnJheShhcmdzKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gQ29udGV4dCB0byBiaW5kLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEJpbmQgbmV3IGNvbnRleHQgaWYgaXQncyBub3QgYWxyZWFkeSBsb2NrZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgYTogMSB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQ29udGV4dCh7IGE6IDIgfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKCk7IC8vIDJcclxuICAgKi9cclxuICBiaW5kQ29udGV4dChjb250ZXh0KSB7XHJcbiAgICBjb25zdCBmdW5jID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoIWZ1bmMuY29udGV4dExvY2tlZCkge1xyXG4gICAgICBmdW5jLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbGxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBDb250ZXh0IHRvIGNhbGwgd2l0aC5cclxuICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSAtIEFyZ3VtZW50cyB0byBjYWxsIHdpdGguXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybiBvZiBmdW5jdGlvbiBjYWxsLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vY2FsbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtGdW5jdGlvbiNjYWxsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9jYWxsfS5cclxuICAgKi9cclxuICBjYWxsKGNvbnRleHQsIC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiAoKCkgPT4ge30pLmNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRnVuYyNjYWxsZWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaG93IG1hbnkgdGltZXMgdGhlIGZ1bmN0aW9uIHdhcyBjYWxsZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpO1xyXG4gICAqIGZ1bmMoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMuY2FsbGVkIC8vIDJcclxuICAgKi9cclxuICBnZXQgY2FsbGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCQuY2FsbGVkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2NhbkJlQ2FsbGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lcyAtIE51bWJlciBvZiBtYXhpbXVtIHRpbWVzIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgKG1pZGRsZXdhcmVzIGFyZSBhbHNvIHRha2VuIGZvciBhIGNvdW50KS5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGxpbWl0aW5nIGNhbGwgdGltZXMgb2YgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYygoYSkgPT4gYSArIDEpXHJcbiAgICogICAuY2FuQmVDYWxsZWQoMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEpOyAvLyAyXHJcbiAgICogZnVuYygxKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgY2FuQmVDYWxsZWQodGltZXMpIHtcclxuICAgIHRoaXMuJCQuY2FuQmVDYWxsZWQgPSB0aW1lcztcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsaW1pdEFyZ3NUb1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGFyZ3VtZW50cyB0byBsaW1pdCB0by5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBCdWlsdC1pbiBiZWZvcmUgbWlkZGxld2FyZSBmb3IgbGltaXRpbmcgbnVtYmVyIG9mIGFyZ3VtZW50c1xyXG4gICAqIHRoYXQgaXMgcHV0IHRvIHRoZSBlbmQgb2YgYmVmb3JlIG1pZGRsZXdhcmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKGEsIGIpID0+IFthLCBiXSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgMl1cclxuICAgKlxyXG4gICAqIGZ1bmMubGltaXRBcmdzVG8oMSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIpOyAvLyBbMSwgdW5kZWZpbmVkXVxyXG4gICAqL1xyXG4gIGxpbWl0QXJnc1RvKG51bWJlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuYmVmb3JlKChhcmdzKSA9PiBhcmdzLnNsaWNlKDAsIG51bWJlciksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gY29udGV4dCAtIENvbnRleHQgdG8gbG9jay5cclxuICAgKiBAcGFyYW0geyhBcnJheXxBcmd1bWVudHN8Kil9IGFyZ3MgLSBBcmd1bWVudHMgdG8gbG9jay5cclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyNsb2NrQ29udGV4dH0gYW5kIHtAbGluayBGdW5jI2xvY2tBcmdzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICogICByZXR1cm4gdGhpcy5hICsgYSArIGI7XHJcbiAgICogfSkubG9jayh7IGE6IDIgfSwgWzFdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSk7IC8vIDRcclxuICAgKiBmdW5jKDMpOyAvLyA2XHJcbiAgICovXHJcbiAgbG9jayhjb250ZXh0LCBhcmdzKSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAubG9ja0NvbnRleHQoY29udGV4dClcclxuICAgICAgLmxvY2tBcmdzKGFyZ3MpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI2xvY2tBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7KEFycmF5fEFyZ3VtZW50c3wqKX0gYXJncyAtIEFyZ3VtZW50cyB0byBsb2NrLlxyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBib3VuZCBhcmd1bWVudHMgYW5kIGFkZHMgbmV3IGFyZ3VtZW50cyB0byBhbHJlYWR5IGxvY2tlZCBvbmVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyA2XHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tBcmdzKFs0XSk7XHJcbiAgICpcclxuICAgKiBmdW5jKDEsIDIsIDMpOyAvLyAxMFxyXG4gICAqXHJcbiAgICogZnVuYy5iaW5kQXJncyhbNiwgN10pO1xyXG4gICAqIGZ1bmMubG9ja0FyZ3MoWzVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICovXHJcbiAgbG9ja0FyZ3MoYXJncykge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkID0gZnVuYy5hcmdzTG9ja2VkLmNvbmNhdCh0b0FycmF5KGFyZ3MpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyNsb2NrQ29udGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgLSBDb250ZXh0IHRvIGxvY2suXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9ja3MgY29udGV4dCBpZiBpdCdzIG5vdCBhbHJlYWR5IGxvY2tlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKGZ1bmN0aW9uICgpIHtcclxuICAgKiAgIHJldHVybiB0aGlzLmE7XHJcbiAgICogfSkubG9ja0NvbnRleHQoeyBhOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLmxvY2tDb250ZXh0KHsgYTogMiB9KTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gMVxyXG4gICAqL1xyXG4gIGxvY2tDb250ZXh0KGNvbnRleHQpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgIGZ1bmMuY29udGV4dExvY2tlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZ1bmMjdGltaW5nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrIC0gQXJndW1lbnQgdGhhdCBpcyBwYXNzZWQgdG8gY29uc29sZS50aW1lKCkgYW5kIGNvbnNvbGUudGltZUVuZCgpLlxyXG4gICAqIEJ5IGRlZmF1bHQgbmFtZSBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24sIG9yIGlmIGl0J3Mgbm90IHByZXNlbnQsICdhbm9ueW1vdXMnIGlzIHVzZWQuXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gQnVpbHQtaW4gYmVmb3JlIGFuZCBhZnRlciBtaWRkbGV3YXJlcyBmb3Igbm90aW5nIGNhbGxpbmcgdGltZS5cclxuICAgKiBJbiBjYXNlIG9mIGFzeW5jaHJvbm91cyBmdW5jdGlvbnMgaXQgbm90ZXMgdGltZSBiZXR3ZWVuIGNhbGxpbmcgZnVuY3Rpb24gYW5kIHJlc29sdmluZyBvciByZWplY3RpbmcgdGhlIHJlc3VsdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZnVuYyA9IG5ldyBGdW5jKChhKSA9PiBhICsgMSlcclxuICAgKiAgIC50aW1pbmcoJ3BsdXMgMScpO1xyXG4gICAqXHJcbiAgICogZnVuYygyKTsgLy8gcGx1cyAxOiAwLjAxMG1zXHJcbiAgICpcclxuICAgKiBjb25zdCBhc3luYyA9IG5ldyBGdW5jKCgpID0+IG5ldyBQcm9taXNlKCgpID0+IHtcclxuICAgKiAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKTtcclxuICAgKiAgIH0pKVxyXG4gICAqICAgLmFzeW5jKClcclxuICAgKiAgIC50aW1pbmcoKTtcclxuICAgKlxyXG4gICAqIGFzeW5jKCk7XHJcbiAgICogLy8gQWZ0ZXIgMSBzZWNvbmQuLi5cclxuICAgKiAvLyBhbm9ueW1vdXM6IDEwMDAuMDEwbXNcclxuICAgKi9cclxuICB0aW1pbmcobWFyaykge1xyXG4gICAgbWFyayA9IGFyZ3VtZW50cy5sZW5ndGggPyBTdHJpbmcobWFyaykgOiB0aGlzLiQubmFtZSB8fCAnYW5vbnltb3VzJztcclxuXHJcbiAgICB0aGlzLmJlZm9yZSgoYXJncykgPT4ge1xyXG4gICAgICBjb25zb2xlLnRpbWUobWFyayk7XHJcblxyXG4gICAgICByZXR1cm4gYXJncztcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICB0aGlzLmFmdGVyKChyZXQpID0+IHtcclxuICAgICAgY29uc29sZS50aW1lRW5kKG1hcmspO1xyXG5cclxuICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHRvU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuICgoKSA9PiB7fSkudG9TdHJpbmcuY2FsbCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RnVuY30gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb21wb3NpdGlvbiBvZiB7QGxpbmsgRnVuYyN1bmJpbmRDb250ZXh0fSBhbmQge0BsaW5rIEZ1bmMjdW5iaW5kQXJnc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZ1bmMgPSBuZXcgRnVuYyhmdW5jdGlvbiAoYSkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vICsgJyAmICcgKyAgYTtcclxuICAgKiB9KS5iaW5kKHsgZm9vOiAyIH0sIDEpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAnMiAmIDEnXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZCgpO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAndW5kZWZpbmVkICYgdW5kZWZpbmVkJ1xyXG4gICAqL1xyXG4gIHVuYmluZCgpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC51bmJpbmRDb250ZXh0KClcclxuICAgICAgLnVuYmluZEFyZ3MoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRnVuYyN1bmJpbmRBcmdzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtGdW5jfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEVyYXNlcyBhbGwgYm91bmQgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoKC4uLmFyZ3MpID0+IHtcclxuICAgKiAgIGxldCBzdW0gPSAwO1xyXG4gICAqXHJcbiAgICogICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgKiAgICAgc3VtICs9IGFyZ3NbaV07XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHJldHVybiBzdW07XHJcbiAgICogfSkuYmluZEFyZ3MoWzQsIDVdKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDE1XHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoMSwgMiwgMyk7IC8vIDZcclxuICAgKi9cclxuICB1bmJpbmRBcmdzKCkge1xyXG4gICAgY29uc3QgZnVuYyA9IHRoaXMuJCQ7XHJcblxyXG4gICAgZnVuYy5hcmdzID0gZnVuYy5hcmdzTG9ja2VkO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGdW5jI3VuYmluZENvbnRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Z1bmN9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gRXJhc2VzIGNvbnRleHQgaWYgaXQncyBub3QgbG9ja2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBmdW5jID0gbmV3IEZ1bmMoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgcmV0dXJuIHRoaXMuZm9vO1xyXG4gICAqIH0pLmJpbmRDb250ZXh0KHsgZm9vOiAxIH0pO1xyXG4gICAqXHJcbiAgICogZnVuYygpOyAvLyAxXHJcbiAgICpcclxuICAgKiBmdW5jLnVuYmluZEFyZ3MoKTtcclxuICAgKlxyXG4gICAqIGZ1bmMoKTsgLy8gdW5kZWZpbmVkXHJcbiAgICovXHJcbiAgdW5iaW5kQ29udGV4dCgpIHtcclxuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmICghZnVuYy5jb250ZXh0TG9ja2VkKSB7XHJcbiAgICAgIGZ1bmMuY29udGV4dCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEZ1bmMucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdGdW5jJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNGdW5jdGlvbixcclxuICBjbHM6IEZ1bmNcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIG1ldGhvZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgLSBNZXRob2QgdG8gY2FsbC5cclxuICogQHBhcmFtIHsoQXJyYXl8QXJndW1lbnRzfCopfSBhcmdzIC0gQXJndW1lbnRzIHRvIGNhbGwgdGhlIG1ldGhvZCB3aXRoLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgY2FsbHMgc3RhdGVkIG1ldGhvZCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZnVuY3Rpb25cclxuICogdGhhdCBjYWxscyBzdGF0ZWQgbWV0aG9kIG9mIGl0cyBmaXJzdCBhcmd1bWVudCB3aXRoIGdpdmVuIGFyZ3VtZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogWzEuMjM0NSwgMi43ODksIDMuMTRdLm1hcChtZXRob2QoJ3RvRml4ZWQnLCBbMl0pKTsgLy8gWycxLjIzJywgJzIuNzknLCAnMy4xNCddXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXRob2QobWV0aG9kLCBhcmdzID0gW10pIHtcclxuICByZXR1cm4gKHgpID0+IHhbbWV0aG9kXS5hcHBseSh4LCB0b0FycmF5KGFyZ3MpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBub29wXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBFbXB0eSBmdW5jdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBwcm9wXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd9IHByb3AgLSBQcm9wZXJ0eSB0byByZXR1cm4uXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGdpdmVuIHByb3BlcnR5IG9mIGl0cyBmaXJzdCBhcmd1bWVudC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJuIHRoZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZ2l2ZW4gcHJvcGVydHkgb2YgaXRzIGZpcnN0IGFyZ3VtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBbJ2ZvbycsICcxMicsICc3ODkwJ10ubWFwKHByb3AoJ2xlbmd0aCcpKTsgLy8gWzMsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9wKHByb3ApIHtcclxuICByZXR1cm4gKHsgW3Byb3BdOiB2YWx1ZSB9KSA9PiB2YWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBzZWxmXHJcbiAqIEBwdWJsaWNcclxuICogQHJldHVybnMgeyp9IEZpcnN0IGFyZ3VtZW50IGl0c2VsZi5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFsxLCAyXS5tYXAoc2VsZik7ICAgICAgICAgICAgICAgICAgICAgLy8gWzEsIDJdXHJcbiAqIFsxLCAzLCBOYU4sIDAsIDcsIG51bGxdLmZpbHRlcihzZWxmKTsgLy8gWzEsIDMsIDddXHJcbiAqL1xyXG5mdW5jdGlvbiBzZWxmKCkge1xyXG4gIHJldHVybiBhcmd1bWVudHNbMF07XHJcbn1cclxuXHJcbmV4cG9ydCB7IEZ1bmMsIG1ldGhvZCwgbm9vcCwgcHJvcCwgc2VsZiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBOdW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIE51bSBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBGdW5jIH0gZnJvbSAnLi9GdW5jJztcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gJy4vUHJvbWlzZSc7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc051bWJlciwgaXNGaW5pdGUsIHRvQXJyYXksXHJcbiAgZGVmaW5lUHJvcGVydGllcywgdmFsaWRhdGUsIFN5bWJvbFxyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG5jb25zdCB0b1JhZGlhbiA9IE1hdGguUEkgLyAxODA7XHJcbmNvbnN0IHRvRGVncmVlID0gMTgwIC8gTWF0aC5QSTtcclxuY29uc3QgbG4yID0gTWF0aC5MTjI7XHJcbmNvbnN0IGxuMTAgPSBNYXRoLkxOMTA7XHJcblxyXG4vKipcclxuICogQGNsYXNzIE51bVxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbnVtYmVyID0gMF0gLSBBIG51bWJlciB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7TnVtfSBJbnN0YW5jZSBvZiBOdW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgbnVtYmVyLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBudW0gPSBuZXcgTnVtKDEpO1xyXG4gKi9cclxuY2xhc3MgTnVtIGV4dGVuZHMgU3VwZXIge1xyXG4gIGNvbnN0cnVjdG9yKG51bWJlciA9IDApIHtcclxuICAgIHN1cGVyKCtudW1iZXIpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBOdW0jJFxyXG4gICAgICogQHR5cGUge051bWJlcn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBudW1iZXIuXHJcbiAgICAgKi9cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fic1xyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hYnNcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hYnNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWJzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgxKS5hYnM7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMSkuYWJzOyAvLyAxXHJcbiAgICovXHJcbiAgZ2V0IGFicygpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYWNvc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjY29zaW5lIG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5hY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3N9LlxyXG4gICAqL1xyXG4gIGFjb3ModG9EZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gKHRvRGVncmVlcyA/IHRvRGVncmVlIDogMSkgKiBNYXRoLmFjb3ModGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Fjb3NoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Fjb3NoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYWNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYWNvc2h9LlxyXG4gICAqL1xyXG4gIGdldCBhY29zaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciAtIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2FzaW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2FzaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXNpbmhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbmh9LlxyXG4gICAqL1xyXG4gIGdldCBhc2luaCgpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyICsgTWF0aC5zcXJ0KG51bWJlciAqIG51bWJlciArIDEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI2FzaW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFt0b0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSByZXR1cm4gdmFsdWUgaXMgdHJhbnNmb3JtZWQgaW50byBkZWdyZWVzLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IEFyY3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmFzaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvYXNpbn0uXHJcbiAgICovXHJcbiAgYXNpbih0b0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiAodG9EZWdyZWVzID8gdG9EZWdyZWUgOiAxKSAqIE1hdGguYXNpbih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jYXRhblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW3RvRGVncmVlcyA9IGZhbHNlXSBJZiBpdCBpcyB0cnV0aHkgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBpbnRvIGRlZ3JlZXMuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gQXJjc2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguYXRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFufS5cclxuICAgKi9cclxuICBhdGFuKHRvRGVncmVlcykge1xyXG4gICAgcmV0dXJuICh0b0RlZ3JlZXMgPyB0b0RlZ3JlZSA6IDEpICogTWF0aC5hdGFuKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNhdGFuaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9hdGFuaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmF0YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2F0YW5ofS5cclxuICAgKi9cclxuICBnZXQgYXRhbmgoKSB7XHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgcmV0dXJuIE1hdGgubG9nKCgxICsgbnVtYmVyKSAvICgxIC0gbnVtYmVyKSkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jY2JydFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY2JydF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9jYnJ0fS5cclxuICAgKi9cclxuICBnZXQgY2JydCgpIHtcclxuICAgIGNvbnN0IGNicnQgPSBNYXRoLnBvdyhNYXRoLmFicyh0aGlzLiQpLCAxIC8gMyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJCA+IDAgPyBjYnJ0IDogLWNicnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNjZWlsXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5jZWlsXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2NlaWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuY2VpbDsgIC8vIDJcclxuICAgKiBuZXcgTnVtKC0xLjEpLmNlaWw7IC8vIC0xXHJcbiAgICovXHJcbiAgZ2V0IGNlaWwoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNjb3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBDb3NpbmUgb2YgdGhlIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguY29zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Nvc30uXHJcbiAgICovXHJcbiAgY29zKGFzRGVncmVlcykge1xyXG4gICAgcmV0dXJuIE1hdGguY29zKChhc0RlZ3JlZXMgPyB0b1JhZGlhbiA6IDEpICogdGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Nvc2hcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmNvc2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvY29zaH0uXHJcbiAgICovXHJcbiAgZ2V0IGNvc2goKSB7XHJcbiAgICBjb25zdCBleHAgPSB0aGlzLmV4cDtcclxuXHJcbiAgICByZXR1cm4gKGV4cCArIDEgLyBleHApIC8gMjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2N1YmVcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gQ3ViZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLmN1YmU7ICAvLyA4XHJcbiAgICogbmV3IE51bSgtMykuY2VpbDsgLy8gLTI3XHJcbiAgICovXHJcbiAgZ2V0IGN1YmUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kICogdGhpcy4kICogdGhpcy4kO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jZXhwXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2V4cFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmV4cF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9leHB9LlxyXG4gICAqL1xyXG4gIGdldCBleHAoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5leHAodGhpcy4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2Zsb29yXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2Zsb29yXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguZmxvb3Jde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvZmxvb3J9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDEuMSkuZmxvb3I7ICAvLyAxXHJcbiAgICogbmV3IE51bSgtMS4xKS5mbG9vcjsgLy8gLTJcclxuICAgKi9cclxuICBnZXQgZmxvb3IoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jaW50ZXJ2YWxcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyAtIEZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGV2ZXJ5IDxudW1iZXI+IG1pbGxpc2Vjb25kcy5cclxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10gLSBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgYWJvcnRzIHRoZSBpbnRlcnZhbC4gVGhlIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uIChpZiBpdCdzIG5vdCBhbHJlYWR5IGJvdW5kKVxyXG4gICAqIGlzIHRoZSBvYmplY3Qgd2l0aCB0aGUgYWJvcnQgbWV0aG9kLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zZXRJbnRlcnZhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbmFsb2d1ZSBvZiB0aGVcclxuICAgKiBbc2V0SW50ZXJ2YWxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0SW50ZXJ2YWx9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCB0aW1lcyA9IDA7XHJcbiAgICogbmV3IE51bSg1MCkuaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAqICAgaWYgKCsrdGltZXMgPT09IDEwKSB7XHJcbiAgICogICAgIHRoaXMuYWJvcnQoKTtcclxuICAgKiAgIH1cclxuICAgKiB9KTtcclxuICAgKi9cclxuICBpbnRlcnZhbChmdW5jLCBhcmdzID0gW10pIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddLCAnTnVtI2ludGVydmFsJyk7XHJcblxyXG4gICAgZnVuYyA9IG5ldyBGdW5jKGZ1bmMpLmJpbmRDb250ZXh0KHsgYWJvcnQgfSk7XHJcbiAgICBhcmdzID0gdG9BcnJheShhcmdzKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXIgPSB0aGlzLiQ7XHJcblxyXG4gICAgbGV0IGFib3J0ZWQ7XHJcbiAgICBsZXQgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gaW50ZXJ2YWwoKSB7XHJcbiAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XHJcblxyXG4gICAgICAgIGlmICghYWJvcnRlZCkge1xyXG4gICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoaW50ZXJ2YWwsIG51bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAwKTtcclxuXHJcbiAgICByZXR1cm4gYWJvcnQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGFib3J0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgcmV0dXJuIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI2xuXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZ1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZ117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2d9LlxyXG4gICAqL1xyXG4gIGdldCBsbigpIHtcclxuICAgIHJldHVybiBNYXRoLmxvZyh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jbG9nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBOdW1iZXIgdG8gZ2V0IGxvZ2FyaXRobSBvZi5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBMb2dhcml0aG0gb2YgdGhlIGFyZ3VtZW50IG51bWJlciB0byB0aGUgbnVtYmVyIGJhc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGxvZ2FyaXRobSBvZiB0aGUgYXJndW1lbnQgbnVtYmVyIHRvIHRoZSBudW1iZXIgYmFzZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IE51bSgyKS5sb2coMTYpOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oMykubG9nKDI0Myk7IC8vIDVcclxuICAgKi9cclxuICBsb2cobnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5sb2cobnVtYmVyKSAvIE1hdGgubG9nKHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cyXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5sb2cyXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzJ9LlxyXG4gICAqL1xyXG4gIGdldCBsb2cyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG4gLyBsbjI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSNsb2cxMFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9sb2cxMFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLmxvZzEwXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL2xvZzEwfS5cclxuICAgKi9cclxuICBnZXQgbG9nMTAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sbiAvIGxuMTA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSNwb3dcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgdG8gdGhlIDxwb3dlcj4gcG93ZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Bvd1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnBvd117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9wb3d9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnBvdyguNSk7IC8vIDJcclxuICAgKiBuZXcgTnVtKDMpLnBvdygyKTsgIC8vIDlcclxuICAgKi9cclxuICBwb3cocG93ZXIpIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh0aGlzLiQsIHBvd2VyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgTnVtI3Jvb3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBvd2VyIC0gUG93ZXIgdGhlIG51bWJlciBzaG91bGQgYmUgcmFpc2VkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSA8cG93ZXI+IHJvb3Qgb2YgdGhlIG51bWJlci5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgbnVtYmVyLnBvdygxIC8gcG93ZXIpO1xyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnJvb3QoMik7ICAgLy8gMC41XHJcbiAgICogbmV3IE51bSgyNDMpLnJvb3QoNSk7IC8vIDNcclxuICAgKi9cclxuICByb290KHBvd2VyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5wb3codGhpcy4kLCAxIC8gcG93ZXIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jcm91bmRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5yb3VuZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9yb3VuZH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oMS4xKS5mbG9vcjsgIC8vIDFcclxuICAgKiBuZXcgTnVtKC0xLjEpLmZsb29yOyAvLyAtMVxyXG4gICAqIG5ldyBOdW0oMS41KS5mbG9vcjsgIC8vIDJcclxuICAgKi9cclxuICBnZXQgcm91bmQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2lnblxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWduXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2lnbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaWdufS5cclxuICAgKi9cclxuICBnZXQgc2lnbigpIHtcclxuICAgIGNvbnN0IG51bWJlciA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoIW51bWJlcikge1xyXG4gICAgICByZXR1cm4gbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudW1iZXIgPiAwID8gMSA6IC0xO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jc2luXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYXNEZWdyZWVzID0gZmFsc2VdIElmIGl0IGlzIHRydXRoeSB0aGUgbnVtYmVyIGlzIHRyZWF0ZWQgYXMgYSBkZWdyZWUgdmFsdWUuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gU2luZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC5zaW5de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc2lufS5cclxuICAgKi9cclxuICBzaW4oYXNEZWdyZWVzKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zaW4oKGFzRGVncmVlcyA/IHRvUmFkaWFuIDogMSkgKiB0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc2luaFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5oXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW01hdGguc2luaF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC9zaW5ofS5cclxuICAgKi9cclxuICBnZXQgc2luaCgpIHtcclxuICAgIGNvbnN0IGV4cCA9IHRoaXMuZXhwO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSAvIGV4cCkgLyAyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBOdW0jc3FcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIHNxdWFyZSBvZiB0aGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDIpLnNxOyAgLy8gNFxyXG4gICAqIG5ldyBOdW0oLTMpLnNxOyAvLyA5XHJcbiAgICovXHJcbiAgZ2V0IHNxKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCAqIHRoaXMuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgTnVtI3NxcnRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnNxcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvc3FydH0uXHJcbiAgICovXHJcbiAgZ2V0IHNxcnQoKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0YW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFthc0RlZ3JlZXMgPSBmYWxzZV0gSWYgaXQgaXMgdHJ1dGh5IHRoZSBudW1iZXIgaXMgdHJlYXRlZCBhcyBhIGRlZ3JlZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUYW5nZW50IG9mIHRoZSBudW1iZXIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtNYXRoLnRhbl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC90YW59LlxyXG4gICAqL1xyXG4gIHRhbihhc0RlZ3JlZXMpIHtcclxuICAgIHJldHVybiBNYXRoLnRhbigoYXNEZWdyZWVzID8gdG9SYWRpYW4gOiAxKSAqIHRoaXMuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIE51bSN0YW5oXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RhbmhcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTWF0aC50YW5oXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3Rhbmh9LlxyXG4gICAqL1xyXG4gIGdldCB0YW5oKCkge1xyXG4gICAgY29uc3QgbnVtYmVyID0gdGhpcy4kO1xyXG5cclxuICAgIGlmICghaXNGaW5pdGUobnVtYmVyKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zaWduO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV4cCA9IE1hdGguZXhwKDIgKiBudW1iZXIpO1xyXG5cclxuICAgIHJldHVybiAoZXhwIC0gMSkgLyAoZXhwICsgMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0aW1lb3V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFZhbHVlIHRvIGJlIHJlc29sdmVkIGJ5IHRoZSBwcm9taXNlLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgY291bGQgYmUgYWJvcnRlZC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dFxyXG4gICAqIEBkZXNjcmlwdGlvbiBQcm9taXNlLWJhc2VkIGFuYWxvZ3VlIG9mXHJcbiAgICogW3NldFRpbWVvdXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3dUaW1lcnMvc2V0VGltZW91dH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBOdW0oNTApLnRpbWVvdXQoJ3Jlc29sdmVkJykudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTsgLy8gJ3Jlc29sdmVkJ1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogY29uc3QgcHJvbWlzZSA9IG5ldyBOdW0oNTApLnRpbWVvdXQoKTtcclxuICAgKiBwcm9taXNlLmFib3J0KCk7XHJcbiAgICovXHJcbiAgdGltZW91dCh2YWx1ZSkge1xyXG4gICAgbGV0IHRpbWVvdXQ7XHJcbiAgICBsZXQgcmVqZWN0O1xyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqKSA9PiB7XHJcbiAgICAgIHJlamVjdCA9IHJlajtcclxuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy4kLCB2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcm9taXNlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQoKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuXHJcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1RpbWVvdXQgd2FzIGFib3J0ZWQnKSk7XHJcblxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0Jhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiYXNlID0gMTBdIC0gQmFzZSB0aGF0IHRoZSBudW1iZXIgc2hvdWxkIGludmVydGVkIHRvLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgaW4gPGJhc2U+IGJhc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmdcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvU3RyaW5nXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9TdHJpbmd9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgTnVtKDQpLnRvQmFzZSgyKTsgLy8gMTAwXHJcbiAgICogbmV3IE51bSgzKS50b0Jhc2UoKTsgIC8vIDNcclxuICAgKi9cclxuICB0b0Jhc2UoYmFzZSA9IDEwKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKGJhc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9FeHBvbmVudGlhbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2ZyYWN0aW9uRGlnaXRzXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbnVtYmVyIGluIHRoZSBleHBvbmVudGlhbCBmb3JtYXQuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9FeHBvbmVudGlhbFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtOdW1iZXIjdG9FeHBvbmVudGlhbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL3RvRXhwb25lbnRpYWx9LlxyXG4gICAqL1xyXG4gIHRvRXhwb25lbnRpYWwoZnJhY3Rpb25EaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9FeHBvbmVudGlhbChmcmFjdGlvbkRpZ2l0cyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIE51bSN0b0ZpeGVkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZGlnaXRzID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gRml4ZWQtcG9pbnQgZm9ybWF0dGVkIG51bWJlci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci90b0ZpeGVkXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW051bWJlciN0b0ZpeGVkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9GaXhlZH0uXHJcbiAgICovXHJcbiAgdG9GaXhlZChkaWdpdHMpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9GaXhlZChkaWdpdHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBOdW0jdG9QcmVjaXNpb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcmVjaXNpb25dIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIgdG8gdGhlIHNwZWNpZmllZCBwcmVjaXNpb24uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb25cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTnVtYmVyI3RvUHJlY2lzaW9uXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvdG9QcmVjaXNpb259LlxyXG4gICAqL1xyXG4gIHRvUHJlY2lzaW9uKHByZWNpc2lvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b1ByZWNpc2lvbihwcmVjaXNpb24pO1xyXG4gIH1cclxuXHJcbiAgdmFsdWVPZigpIHtcclxuICAgIHJldHVybiBOdW1iZXIodGhpcy4kKTtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoTnVtLnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnTnVtJ1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNOdW1iZXIsXHJcbiAgY2xzOiBOdW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHJhbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0ID0gMF0gLSBTdGFydCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kID0gMV0gLSBFbmQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSYW5kb20gbnVtYmVyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIgaW4gdGhlIHJhbmdlIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnRzLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiByYW5kKDEsIDUpOyAvLyAyLjMxNVxyXG4gKiByYW5kKDEsIDUpOyAvLyA0LjM1Njc2M1xyXG4gKi9cclxuZnVuY3Rpb24gcmFuZChzdGFydCA9IDAsIGVuZCA9IDEpIHtcclxuICByZXR1cm4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogTWF0aC5yYW5kb20oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByYW5kb21cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IHN0YXJ0IC0gU3RhcnQgb2YgdGhlIHJhbmdlLlxyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGVuZCAtIEVuZCBvZiB0aGUgcmFuZ2UuXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJhbmRvbSBpbnRlZ2VyLlxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIG51bWJlciBpbiB0aGUgcmFuZ2Ugc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHJhbmRvbSgxLCA1KTsgLy8gM1xyXG4gKiByYW5kb20oMSwgNSk7IC8vIDFcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbShzdGFydCwgZW5kKSB7XHJcbiAgdmFsaWRhdGUoW3N0YXJ0LCBlbmRdLCBbJ2ludExpa2UnLCAnaW50TGlrZSddLCAncmFuZG9tJyk7XHJcblxyXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGUgZmlyc3QhJywgJ3JhbmRvbScpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIE1hdGguZmxvb3IocmFuZChzdGFydCwgZW5kICsgMSkpO1xyXG59XHJcblxyXG5leHBvcnQgeyBOdW0sIHJhbmQsIHJhbmRvbSB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBBcnJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEFyciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyByYW5kb20gfSBmcm9tICcuL051bSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5TGlrZSwgaXNOYU4sIGlzTnVtYmVyLCBpc1N0cmluZyxcclxuICB0b0FycmF5LCB2YWxpZGF0ZSwgaXRlcmF0ZSBhcyBpdGVyYXRvciwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXl8Kn0gQXJyYXlMaWtlXHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEFycmF5LWxpa2UgdHlwZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEFycmF5Q2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gaSAtIEl0ZXJhdGlvbiBpbmRleC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEl0ZXJhdGVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpIC0gSXRlcmF0aW9uIGluZGV4LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgQ29tcGFyZUZ1bmN0aW9uXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB4IC0gRmlyc3QgdmFsdWUgdG8gYmUgY29tcGFyZWQuXHJcbiAqIEBwYXJhbSB7Kn0geSAtIFNlY29uZCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzIEFyclxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheSA9IFtdXSAtIEFuIGFycmF5IHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IEluc3RhbmNlIG9mIEFyci5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gYXJyYXkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIG5ldyBBcnIoWzEsIDJdKTtcclxuICovXHJcbmNsYXNzIEFyciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihhcnJheSA9IFtdKSB7XHJcbiAgICBzdXBlcih0b0FycmF5KGFycmF5IGluc3RhbmNlb2YgQXJyID8gYXJyYXkuJCA6IGFycmF5KSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIEFyciMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gTWFkZSBhcnJheS5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjY29uY2F0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uKEFycmF5fEFycnwqKX0gdmFsdWVzIC0gQXJyYXlzIG9yIGFueSBvdGhlciB2YWx1ZXMgdG8gY29uY2F0IHRoZSBhcnJheSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjY29uY2F0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9jb25jYXR9LlxyXG4gICAqL1xyXG4gIGNvbmNhdCguLi52YWx1ZXMpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdG9BcnJheSh0aGlzLiQsIHRydWUpO1xyXG5cclxuICAgIGl0ZXJhdG9yKGFyZ3VtZW50cywgKHZhbHVlKSA9PiB7XHJcbiAgICAgIHZhbHVlID0gbmV3IFN1cGVyKHZhbHVlKS4kO1xyXG5cclxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAhaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgICAgaXRlcmF0b3IodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoYXJyYXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBBcnIjZmlyc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuZmlyc3Q7IC8vIDFcclxuICAgKiBuZXcgQXJyKFtdKS5maXJzdDsgICAgICAgIC8vIHVuZGVmaW5lZFxyXG4gICAqL1xyXG4gIGdldCBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLiRbMF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mfS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2YoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZignMScpOyAgICAgLy8gMFxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDNdKS5pbmRleE9mKDMpOyAgICAgICAvLyAtMVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIE5hTl0pLmluZGV4T2YoTmFOKTsgICAvLyAyXHJcbiAgICovXHJcbiAgaW5kZXhPZih2YWx1ZSkge1xyXG4gICAgY29uc3Qga2V5ID0gdGhpcy5rZXlPZih2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGtleSA9PT0gbnVsbCA/IC0xIDogTnVtYmVyKGtleSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNpbmRleE9mU3RyaWN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBzZWFyY2guXHJcbiAgICogQHJldHVybnMge051bWJlcn0gSW5kZXggb2YgdGhlIGFyZ3VtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBBbG1vc3QgdGhlIHNhbWUgYXMge0BsaW5rIFN1cGVyI2tleU9mU3RyaWN0fS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBpZiB0aGUgdmFsdWUgaXMgbm90IGZvdW5kXHJcbiAgICogLTEgcmV0dXJuZWQgaW5zdGVhZCBvZiBudWxsIGFuZCBpZiBmb3VuZCBOdW1iZXIoa2V5KSByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLmluZGV4T2ZTdHJpY3QoMSk7ICAgICAgIC8vIDBcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgnMScpOyAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkuaW5kZXhPZlN0cmljdCgzKTsgICAgICAgLy8gLTFcclxuICAgKiBuZXcgQXJyKFsxLCAyLCBOYU5dKS5pbmRleE9mU3RyaWN0KE5hTik7ICAgLy8gMlxyXG4gICAqL1xyXG4gIGluZGV4T2ZTdHJpY3QodmFsdWUpIHtcclxuICAgIGNvbnN0IGtleSA9IHRoaXMua2V5T2ZTdHJpY3QodmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBrZXkgPT09IG51bGwgPyAtMSA6IE51bWJlcihrZXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjam9pblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlcGFyYXRvciA9ICcsJ10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gLSBTdHJpbmcgb2Ygam9pbmVkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvam9pblxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNqb2luXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9qb2lufS5cclxuICAgKi9cclxuICBqb2luKHNlcGFyYXRvcikge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5qb2luLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xhc3RcclxuICAgKiBAdHlwZSB7Kn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCAyLCAzXSkubGFzdDsgLy8gM1xyXG4gICAqIG5ldyBBcnIoW10pLmxhc3Q7ICAgICAgICAvLyB1bmRlZmluZWRcclxuICAgKi9cclxuICBnZXQgbGFzdCgpIHtcclxuICAgIGNvbnN0IGFycmF5ID0gdGhpcy4kO1xyXG5cclxuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQXJyI2xlbmd0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I2xlbmd0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvbGVuZ3RofS5cclxuICAgKi9cclxuICBnZXQgbGVuZ3RoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNwb3BcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgZGVsZXRlZCBlbGVtZW50LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3BvcF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcG9wfS5cclxuICAgKi9cclxuICBwb3AoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnBvcCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcHVzaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IHZhbHVlcyBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHRoaXMge0Fycn1cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9wdXNoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3B1c2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3B1c2h9XHJcbiAgICogYmVzaWRlcyByZXR1cm5pbmcgdGhpcy5cclxuICAgKi9cclxuICBwdXNoKC4uLnZhbHVlcykge1xyXG4gICAgdGhpcy4kLnB1c2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmFuZG9tXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSYW5kb20gaXRlbSBvZiB0aGUgYXJyYXkuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyByYW5kb20gaXRlbXMgb2YgdGhlIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDNcclxuICAgKiBuZXcgQXJyKFsxLCA1LCAzXSkucmFuZG9tKCk7IC8vIDVcclxuICAgKi9cclxuICByYW5kb20oKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kW3JhbmRvbSgwLCB0aGlzLiQubGVuZ3RoIC0gMSldO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjcmV2ZXJzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBBIHdyYXAgb2YgdGhlIHJldmVyc2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvcmV2ZXJzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtBcnJheSNyZXZlcnNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZXZlcnNlfS5cclxuICAgKi9cclxuICByZXZlcnNlKCkge1xyXG4gICAgdGhpcy4kLnJldmVyc2UoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NoaWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGRlbGV0ZWQgZWxlbWVudC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NoaWZ0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NoaWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zaGlmdH0uXHJcbiAgICovXHJcbiAgc2hpZnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnNoaWZ0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzaHVmZmxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBzaHVmZmxpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBBcnIoWzEsIDIsIDMsIDRdKS5zaHVmZmxlKCkuJDsgLy8gWzQsIDIsIDMsIDFdXHJcbiAgICogbmV3IEFycihbMSwgMiwgMywgNF0pLnNodWZmbGUoKS4kOyAvLyBbMSwgMywgNCwgMl1cclxuICAgKi9cclxuICBzaHVmZmxlKCkge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gdGhpcy4kLmxlbmd0aDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XHJcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gaW5kZXggKyBNYXRoLmZsb29yKChsZW5ndGggLSBpbmRleCkgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcbiAgICAgIGFycmF5W2luZGV4XSA9IGFycmF5W3JhbmRvbUluZGV4XTtcclxuICAgICAgYXJyYXlbcmFuZG9tSW5kZXhdID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NsaWNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbYmVnaW4gPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZCA9IGFycmF5Lmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIGEgc2xpY2VkIGFycmF5LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc2xpY2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NsaWNlfS5cclxuICAgKi9cclxuICBzbGljZShiZWdpbiwgZW5kKSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy4kLnNsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzb3J0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Q29tcGFyZUZ1bmN0aW9ufSBbY29tcGFyZUZ1bmN0aW9uXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zb3J0XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0FycmF5I3NvcnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvcnR9LlxyXG4gICAqL1xyXG4gIHNvcnQoY29tcGFyZUZ1bmN0aW9uKSB7XHJcbiAgICB2YWxpZGF0ZShbY29tcGFyZUZ1bmN0aW9uXSwgWydmdW5jdGlvbnx8ISddLCAnQXJyI3NvcnQnKTtcclxuXHJcbiAgICB0aGlzLiQuc29ydChjb21wYXJlRnVuY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjc29ydEFzY1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7QXJyfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgYXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgbm9uLW51bWJlcnMgZmlyc3QsIHRoZW4gTmFOcywgdGhlbiBzb3J0ZWQgdmFsdWVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnRBc2MoKS4kOyAvLyBbJzEwMCcsIE5hTiwgLTcsIDEsIDVdXHJcbiAgICovXHJcbiAgc29ydEFzYygpIHtcclxuICAgIHJldHVybiB0aGlzLnNvcnQoYXNjKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NvcnREZXNjXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBkZXNjZW5kaW5nIHNvcnRpbmcuIFB1dHMgc29ydGVkIHZhbHVlcyBmaXJzdCwgdGhlbiBOYU5zLCB0aGVuIG5vbi1udW1iZXJzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQXJyKFtOYU4sIDEsIC03LCAnMTAwJywgNV0pLnNvcnREZXNjKCkuJDsgLy8gWzUsIDEsIC03LCBOYU4sICcxMDAnXVxyXG4gICAqL1xyXG4gIHNvcnREZXNjKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc29ydCgoeSwgeCkgPT4gYXNjKHgsIHkpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQXJyI3NwbGljZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2RlbGV0ZUNvdW50XSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0gey4uLip9IFtpdGVtc10gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Fycn0gQSB3cmFwIG9mIHJldHVybiB2YWx1ZSBvZiAjc3BsaWNlIGNhbGwuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjc3BsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9zcGxpY2V9LlxyXG4gICAqL1xyXG4gIHNwbGljZShzdGFydCwgZGVsZXRlQ291bnQsIC4uLml0ZW1zKSB7XHJcbiAgICByZXR1cm4gbmV3IEFycih0aGlzLiQuc3BsaWNlLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEFyciNzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gQ29uY2F0ZW5hdGVkIGFycmF5LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvciBhcnJheS5qb2luKCcnKS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEFycihbMSwgMiwgM10pLnN0cmluZygpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHN0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLmpvaW4oJycpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBBcnIjdW5zaGlmdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtBcnJ9IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3Vuc2hpZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbQXJyYXkjdW5zaGlmdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvdW5zaGlmdH1cclxuICAgKiBiZXNpZGVzIHJldHVybmluZyB0aGlzLlxyXG4gICAqL1xyXG4gIHVuc2hpZnQoLi4udmFsdWVzKSB7XHJcbiAgICB0aGlzLiQudW5zaGlmdC5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEFyci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ0FycidcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGFzY1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHggLSBGaXJzdCB2YWx1ZSB0byBiZSBjb21wYXJlZC5cclxuICogQHBhcmFtIHsqfSB5IC0gU2Vjb25kIHZhbHVlIHRvIGJlIGNvbXBhcmVkLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBXaGVyZSB0byBwdXQgdGhlIGZpcnN0IGVsZW1lbnQ6IGJlZm9yZSBvciBhZnRlci5cclxuICovXHJcbmZ1bmN0aW9uIGFzYyh4LCB5KSB7XHJcbiAgaWYgKCFpc051bWJlcih4KSAmJiAhaXNOdW1iZXIoeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih4KSkge1xyXG4gICAgcmV0dXJuIC0xO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFpc051bWJlcih5KSkge1xyXG4gICAgcmV0dXJuIDE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeCkgJiYgaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzTmFOKHgpKSB7XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfVxyXG5cclxuICBpZiAoaXNOYU4oeSkpIHtcclxuICAgIHJldHVybiAxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHggLSB5O1xyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMV0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzQXJyYXlMaWtlLFxyXG4gIGNsczogQXJyXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhcnJheVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXIgLSBMZW5ndGggb2YgdGhlIGFycmF5LlxyXG4gKiBAcGFyYW0ge0FycmF5Q2FsbGJhY2t9IFtjYWxsYmFja10gLSBJZiBpdCdzIHByZXNlbnQgaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb25cclxuICogdGhhdCByZXR1cm5zIHRoZSBlbGVtZW50IHRoYXQgaXMgcHVzaGVkIHRvIHRoZSBuZXcgYXJyYXkuXHJcbiAqIEByZXR1cm5zIHtBcnJ9IE5ldyBpbnN0YW5jZSBvZiBBcnIuXHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIG5ldyBhcnJheSBmcm9tIHRoZSBsZW5ndGggdXNpbmcgb3B0aW9uYWwgY2FsbGJhY2suXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGFycmF5KDMpLiQ7ICAgICAgICAgICAgICAgLy8gWzAsIDEsIDJdXHJcbiAqIGFycmF5KDMsIChpKSA9PiBpICogMikuJDsgLy8gWzAsIDIsIDRdXHJcbiAqL1xyXG5mdW5jdGlvbiBhcnJheShudW1iZXIsIGNhbGxiYWNrKSB7XHJcbiAgdmFsaWRhdGUoW251bWJlciwgY2FsbGJhY2tdLCBbWydpbnRMaWtlJywgJz49MCddLCAnZnVuY3Rpb258fCEnXSwgJ2FycmF5Jyk7XHJcblxyXG4gIGNvbnN0IGFycmF5ID0gW107XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyOyBpKyspIHtcclxuICAgIGFycmF5LnB1c2goY2FsbGJhY2sgPyBjYWxsYmFjayhpKSA6IGkpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBBcnIoYXJyYXkpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGl0ZXJhdGVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGl0ZXJhdGlvbnMuXHJcbiAqIEBwYXJhbSB7SXRlcmF0ZUNhbGxiYWNrfSBjYWxsYmFjayAtIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIG9uIGVhY2ggaXRlcmF0aW9uIHdpdGggdGhlIGl0ZXJhdGlvbiBpbmRleC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHJlcGxhY2luZyBmb3IgKC4uLikgY29uc3RydWN0aW9uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBpdGVyYXRlKCk7XHJcbiAqL1xyXG5mdW5jdGlvbiBpdGVyYXRlKG51bWJlciwgY2FsbGJhY2spIHtcclxuICB2YWxpZGF0ZShbbnVtYmVyLCBjYWxsYmFja10sIFtbJ2ludExpa2UnLCAnPj0wJ10sICdmdW5jdGlvbiddLCAnaXRlcmF0ZScpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7XHJcbiAgICBjYWxsYmFjayhpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFyciwgYXJyYXksIGl0ZXJhdGUgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgQmxvYk9iamVjdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvYk9iamVjdCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi9Qcm9taXNlJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5pbXBvcnQge1xyXG4gIGlzQXJyYXksIGlzRnVuY3Rpb24sXHJcbiAgdG9TdHJpbmdUYWcsIFN5bWJvbCwgZGVmaW5lUHJvcGVydGllc1xyXG59IGZyb20gJy4vaGVscGVycyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge3sgYnVmZmVyOiBTdHJpbmcsIGJpbmFyeTogU3RyaW5nLCBkYXRhVVJMOiBTdHJpbmcsIHRleHQ6IFN0cmluZyB9fSBtZXRob2RzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBMaXN0IG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuY29uc3QgbWV0aG9kcyA9IHtcclxuICBidWZmZXI6ICdBcnJheUJ1ZmZlcicsXHJcbiAgYmluYXJ5OiAnQmluYXJ5U3RyaW5nJyxcclxuICBkYXRhVVJMOiAnRGF0YVVSTCcsXHJcbiAgdGV4dDogJ1RleHQnXHJcbn07XHJcbmNvbnN0IHsgVVJMIH0gPSBnbG9iYWw7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeygnYnVmZmVyJ3wnYmluYXJ5J3wnZGF0YVVSTCd8J3RleHQnKX0gUmVhZEJsb2JNZXRob2RcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRW51bSB0eXBlIG9mIHJlYWQgYmxvYiBtZXRob2RzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7QXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fEJsb2J8U3RyaW5nfSBCbG9iUGFydHNcclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gQWxsb3dlZCBibG9iIHBhcnRzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgUmVhZGVyRXZlbnRMaXN0ZW5lclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXZlbnR9IGUgLSBGaXJlZCBldmVudC5cclxuICogQHBhcmFtIHtGaWxlUmVhZGVyfSByZWFkZXIgLSBGaWxlUmVhZGVyLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgQmxvYk9iamVjdFxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7QmxvYn0gYmxvYiAtIEJsb2IgdG8gd3JhcC5cclxuICogQHJldHVybnMge0Jsb2JPYmplY3R9IEluc3RhbmNlIG9mIEJsb2JPYmplY3QuXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgYmxvYi5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogbmV3IEJsb2JPYmplY3QobmV3IEJsb2IoWyd7XCJmb29cIjpcImJhclwifSddLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XHJcbiAqL1xyXG5jbGFzcyBCbG9iT2JqZWN0IGV4dGVuZHMgU3VwZXIge1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIgQmxvYk9iamVjdCMkXHJcbiAgICogQHR5cGUge0Jsb2J9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBPcmlnaW5hbCBCbG9iLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtTdHJpbmd9IEJsb2JPYmplY3QjZGF0YVVSTFxyXG4gICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGRhdGFVUkwgcmVwcmVzZW50YXRpb24gb2YgdGhlIGJsb2IuXHJcbiAgICovXHJcbiAgZ2V0IGRhdGFVUkwoKSB7XHJcbiAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLiQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3JlYWRBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlYWRCbG9iTWV0aG9kfSBtZXRob2QgLSBNZXRob2QgdGhhdCBpcyB1c2VkIGZvciByZWFkaW5nIGZyb20gYmxvYi5cclxuICAgKiBAcGFyYW0ge1JlYWRlckV2ZW50TGlzdGVuZXJ9IFtwcm9ncmVzc10gLSBQcm9ncmVzcyBsaXN0ZW5lci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IGNvdWxkIGJlIGFib3J0ZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcmVhZGluZyBmcm9tIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnJlYWRBcygndGV4dCcpXHJcbiAgICogICAudGhlbigodmFsdWUpID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2codmFsdWUpOyAvLyAne1wiZm9vXCI6XCJiYXJcIn0nXHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICByZWFkQXMobWV0aG9kLCBwcm9ncmVzcykge1xyXG4gICAgaWYgKCFtZXRob2RzW21ldGhvZF0pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCcxc3QgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgZm9sbG93aW5nIHZhbHVlczogYnVmZmVyLCBiaW5hcnksIGRhdGFVUkwsIHRleHQnKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIGxldCB0b1JlamVjdDtcclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9ncmVzcykpIHtcclxuICAgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHByb2dyZXNzKGUsIHRoaXMpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRvUmVqZWN0ID0gcmVqZWN0O1xyXG5cclxuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIGlmIChyZWFkZXIpIHtcclxuICAgICAgICAgIHJlamVjdCh0YXJnZXQuZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoeyB0YXJnZXQgfSkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUodGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZWFkZXJbYHJlYWRBcyR7IG1ldGhvZHNbbWV0aG9kXSB9YF0odGhpcy4kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHByb21pc2UuYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcclxuICAgICAgdG9SZWplY3QobmV3IEVycm9yKCdSZWFkaW5nIHdhcyBhYm9ydGVkJykpO1xyXG5cclxuICAgICAgcmVhZGVyLmFib3J0KCk7XHJcblxyXG4gICAgICByZWFkZXIgPSBudWxsO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9iT2JqZWN0I3NhdmVBc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gTmFtZSB0aGF0IGlzIHVzZWQgZm9yIHNhdmluZyBmaWxlLlxyXG4gICAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igc2F2aW5nIGJsb2JzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihbJ3tcImZvb1wiOlwiYmFyXCJ9J10sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKVxyXG4gICAqICAgLnNhdmVBcygnYmxvYi5qc29uJyk7XHJcbiAgICovXHJcbiAgc2F2ZUFzKG5hbWUgPSAnZG93bmxvYWQnKSB7XHJcbiAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblxyXG4gICAgYW5jaG9yLmhyZWYgPSB0aGlzLmRhdGFVUkw7XHJcbiAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG5hbWUpO1xyXG4gICAgYW5jaG9yLmNsaWNrKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEJsb2JPYmplY3QucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdCbG9iT2JqZWN0J1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogKGJsb2IpID0+IC9eKEJsb2J8RmlsZSkkLy50ZXN0KHRvU3RyaW5nVGFnKGJsb2IpKSxcclxuICBjbHM6IEJsb2JPYmplY3RcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGJsb2JcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyhCbG9iUGFydHNbXXxCbG9iUGFydHMpfSBibG9iUGFydHMgLSBCbG9iIHBhcnRzIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0b1xyXG4gKiBbQmxvYl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2IvQmxvYn0gY29uc3RydWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCbG9iT2JqZWN0fSBOZXcgaW5zdGFuY2Ugb2YgQmxvYk9iamVjdC5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBibG9icyBub3QgaW52b2x2aW5nIEJsb2JPYmplY3QgYW5kIEJsb2IgY29uc3RydWN0b3JzLlxyXG4gKi9cclxuZnVuY3Rpb24gYmxvYihibG9iUGFydHMsIG9wdGlvbnMgPSB7fSkge1xyXG4gIGlmICghaXNBcnJheShibG9iUGFydHMpKSB7XHJcbiAgICBibG9iUGFydHMgPSBbYmxvYlBhcnRzXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYk9iamVjdChuZXcgQmxvYihibG9iUGFydHMsIG9wdGlvbnMpKTtcclxufVxyXG5cclxuZXhwb3J0IHsgQmxvYk9iamVjdCwgYmxvYiB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBTdHJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFN0ciBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBEIH0gZnJvbSAnLi9EJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgY29uc3RydWN0b3JzLCByZWdleHBTcGVjaWFsQ2hhcmFjdGVycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0Z1bmN0aW9uLCBpc051bWJlckxpa2UsIGlzT2JqZWN0LCBpc1N0cmluZyxcclxuICB2YWxpZGF0ZSwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzLCBpdGVyYXRlXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmNvbnN0IGh0bWxTcGVjaWFscyA9IHtcclxuICAnJic6ICcmYW1wOycsXHJcbiAgJzwnOiAnJmx0OycsXHJcbiAgJz4nOiAnJmd0OydcclxufTtcclxuY29uc3QgcmVnZXhwU3BlY2lhbHNSZWdleHAgPSBuZXcgUmVnRXhwKFxyXG4gIG5ldyBTdXBlcihyZWdleHBTcGVjaWFsQ2hhcmFjdGVycylcclxuICAgIC53b3JkKCh4KSA9PiBgXFxcXCR7IHggfXxgKVxyXG4gICAgLnJlcGxhY2UoL1xcfCQvLCAnJyksXHJcbiAgJ2cnXHJcbik7XHJcblxyXG4vKipcclxuICogQGNsYXNzIFN0clxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbc3RyaW5nID0gJyddIC0gQSBzdHJpbmcgdG8gd3JhcC5cclxuICogQHJldHVybnMge1N0cn0gSW5zdGFuY2Ugb2YgU3RyLlxyXG4gKiBAZGVzY3JpcHRpb24gV3JhcCBvZiBhIHN0cmluZy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgcyA9IG5ldyBOdW0oJzEnKTtcclxuICovXHJcbmNsYXNzIFN0ciBleHRlbmRzIFN1cGVyIHtcclxuICBjb25zdHJ1Y3RvcihzdHJpbmcgPSAnJykge1xyXG4gICAgc3VwZXIoYCR7IHN0cmluZyB9YCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIFN0ciMkXHJcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQGRlc2NyaXB0aW9uIE9yaWdpbmFsIHN0cmluZy5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjY2FwaXRhbGl6ZUZpcnN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IENhcGl0YWxpemVkIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGNhcGl0YWxpemluZyB0aGUgZmlyc3Qgc3ltYm9sLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdmb28nKS5jYXBpdGFsaXplRmlyc3QoKS4kOyAvLyAnRm9vJ1xyXG4gICAqL1xyXG4gIGNhcGl0YWxpemVGaXJzdCgpIHtcclxuICAgIGNvbnN0IHN0cmluZyA9IHRoaXMuJDtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cihzdHJpbmcuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlbmRzV2l0aFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb24gPSBzdHJpbmcubGVuZ3RoXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHN0cmluZyBlbmRzIHdpdGggdGhlIGFyZ3VtZW50IHN0cmluZy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjZW5kc1dpdGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aH0uXHJcbiAgICovXHJcbiAgZW5kc1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHBvc2l0aW9uID0gdGhpcy4kLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuc2xpY2UoMCwgcG9zaXRpb24pXHJcbiAgICAgIC5yZXZlcnQoKVxyXG4gICAgICAuc3RhcnRzV2l0aChuZXcgU3RyKHNlYXJjaFN0cmluZykucmV2ZXJ0KCkuJCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNlc2NhcGVIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZHMgZXNjYXBpbmcgXCImXCIsIFwiPFwiIGFuZCBcIj5cIiBzeW1ib2xzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdcIjEgPCAyXCIgJiBcIjcgPiA0XCIgYXJlIHRydWUgZXhwcmVzc2lvbnMuJykuZXNjYXBlSFRNTCgpLiQ7XHJcbiAgICogLy8gJ1wiMSAmbHQ7IDJcIiAmYW1wIFwiNyAmZ3Q7IDJcIiBhcmUgdHJ1ZSBleHByZXNzaW9ucy4nXHJcbiAgICovXHJcbiAgZXNjYXBlSFRNTCgpIHtcclxuICAgIGxldCBzdHJpbmcgPSB0aGlzLiQ7XHJcblxyXG4gICAgaXRlcmF0ZShodG1sU3BlY2lhbHMsIChlc2NhcGVkLCBzeW1ib2wpID0+IHtcclxuICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UobmV3IFJlZ0V4cChzeW1ib2wsICdnJyksIGVzY2FwZWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBTdHIoc3RyaW5nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI2VzY2FwZVJlZ0V4cFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZXNjYXBpbmcgUmVnRXhwIHNwZWNpYWwgY2hhcmFjdGVycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignKDIxMy45OCAtIFtdIHt9KScpLmVzY2FwZVJlZ0V4cCgpLiQ7IC8vICdcXCgyMTNcXC45OCBcXC0gXFxbXFxdIFxce1xcfVxcKSdcclxuICAgKi9cclxuICBlc2NhcGVSZWdFeHAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKHJlZ2V4cFNwZWNpYWxzUmVnZXhwLCAnXFxcXCQmJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNpblxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0byBjaGVjayB0aGUgc3RyaW5nIGFzIGEgcHJvcGVydHkgaW4uXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGl0IGlzIGluIHRoZSBvYmplY3Qgb3Igbm90LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHN0cmluZyBpbiBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbih7IGE6IDEgfSk7IC8vIHRydWVcclxuICAgKiBuZXcgU3RyKCd0b0ZpeGVkJykuaW4oMSk7ICAvLyBmYWxzZVxyXG4gICAqIG5ldyBTdHIoJ2EnKS5pbihudWxsKTsgICAgIC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaW4ob2JqZWN0KSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLiQgaW4gb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjaW5kZXhPZlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoVmFsdWUgLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtmcm9tSW5kZXggPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBGb3VuZCBpbmRleCBvciAtMS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9pbmRleE9mXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNpbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5kZXhPZn0uXHJcbiAgICovXHJcbiAgaW5kZXhPZihzZWFyY2hWYWx1ZSwgZnJvbUluZGV4KSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjbGFzdEluZGV4T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFZhbHVlIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZnJvbUluZGV4ID0gc3RyaW5nLmxlbmd0aF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gRm91bmQgaW5kZXggb3IgLTEuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2ZcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI2xhc3RJbmRleE9mXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGFzdEluZGV4T2Z9LlxyXG4gICAqL1xyXG4gIGxhc3RJbmRleE9mKHNlYXJjaFZhbHVlLCBmcm9tSW5kZXgpIHtcclxuICAgIHJldHVybiB0aGlzLiQubGFzdEluZGV4T2YuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciBTdHIjbGVuZ3RoXHJcbiAgICogQHR5cGUge051bWJlcn1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvbGVuZ3RoXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNsZW5ndGhde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9sZW5ndGh9LlxyXG4gICAqL1xyXG4gIGdldCBsZW5ndGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI21hdGNoXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtBcnJ8U3VwZXJ9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjbWF0Y2hde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9tYXRjaH0uXHJcbiAgICovXHJcbiAgbWF0Y2gocmVnZXhwKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQubWF0Y2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGVhdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IHRpbWVzIC0gVGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9yZXBlYXRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3JlcGVhdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGVhdH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgyKS4kOyAvLyAnMTIzMTIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMycpLnJlcGVhdCgwKS4kOyAvLyAnJ1xyXG4gICAqL1xyXG4gIHJlcGVhdCh0aW1lcykge1xyXG4gICAgdmFsaWRhdGUoW3RpbWVzXSwgW1snaW50TGlrZScsICc+PTAnXV0sICdTdHIjcmVwZWF0Jyk7XHJcblxyXG4gICAgdGltZXMgPSArdGltZXM7XHJcblxyXG4gICAgY29uc3Qgc3RyaW5nID0gdGhpcy4kO1xyXG5cclxuICAgIGxldCBzID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lczsgaSsrKSB7XHJcbiAgICAgIHMgKz0gc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjcmVwbGFjZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1JlZ0V4cHxTdHJpbmd9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gW3JlcGxhY2VyID0gJyddIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvcmVwbGFjZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjcmVwbGFjZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGxhY2V9XHJcbiAgICogYmVzaWRlcyB0aGF0IHJlcGxhY2VyIGhhcyBhIGRlZmF1bHQgdmFsdWUgb2YgJycuXHJcbiAgICovXHJcbiAgcmVwbGFjZShyZWdleHAsIHJlcGxhY2VyID0gJycpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC5yZXBsYWNlKHJlZ2V4cCwgcmVwbGFjZXIpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3JlcGxhY2VTdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byByZXBsYWNlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcmVwbGFjZXIgPSAnJ10gLSBTdHJpbmcgdG8gcmVwbGFjZSB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2xvYmFsIHN0cmluZyByZXBsYWNlaW5nLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCcxMjMxMjMnKS5yZXBsYWNlU3RyaW5nKCcxJywgJzQnKS4kOyAvLyAnNDIzNDIzJ1xyXG4gICAqIG5ldyBTdHIoJzEyMzEyMycpLnJlcGxhY2VTdHJpbmcoJzEnKS4kOyAgICAgIC8vICcyMzIzJ1xyXG4gICAqL1xyXG4gIHJlcGxhY2VTdHJpbmcoc3RyaW5nLCByZXBsYWNlciA9ICcnKSB7XHJcbiAgICBzdHJpbmcgPSBuZXcgU3VwZXIoc3RyaW5nKS4kO1xyXG5cclxuICAgIHZhbGlkYXRlKFtzdHJpbmddLCBbJ3N0cmluZyddLCAnU3RyI3JlcGxhY2VTdHJpbmcnKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3BsaXQoc3RyaW5nKS5qb2luKHJlcGxhY2VyKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNyZXZlcnRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIHN0cmluZy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciByZXZlcnRpbmcgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJzEyMzQnKS5yZXZlcnQoKS4kOyAvLyAnNDMyMSdcclxuICAgKi9cclxuICByZXZlcnQoKSB7XHJcbiAgICBjb25zdCBzdHJpbmcgPSB0aGlzLiQ7XHJcbiAgICBsZXQgc3RyID0gJyc7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IHN0cmluZy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBzdHIgKz0gc3RyaW5nW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgU3RyKHN0cik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzZWFyY2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4cCAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBJbmRleCBvZiB0aGUgZmlyc3QgbWF0Y2gsIGlmIGZvdW5kLCBhbmQgLTEgaWYgbm90LlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3NlYXJjaFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc2VhcmNoXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2VhcmNofS5cclxuICAgKi9cclxuICBzZWFyY2gocmVnZXhwKSB7XHJcbiAgICB2YWxpZGF0ZShbcmVnZXhwXSwgWydyZWdleHAnXSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuJC5zZWFyY2guYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc2xpY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtiZWdpblNsaWNlID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmRTbGljZSA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2VcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3NsaWNlXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc2xpY2V9LlxyXG4gICAqL1xyXG4gIHNsaWNlKGJlZ2luU2xpY2UsIGVuZFNsaWNlKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc2xpY2UuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3NwbGl0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7UmVnRXhwfFN0cmluZ30gW3NlcGFyYXRvcl0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0FycnxTdXBlcn0gRC1XcmFwIG9mIHRoZSBhcnJheS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3BsaXRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zcGxpdH0uXHJcbiAgICovXHJcbiAgc3BsaXQoc2VwYXJhdG9yKSB7XHJcbiAgICByZXR1cm4gRCh0aGlzLiQuc3BsaXQuYXBwbHkodGhpcy4kLCBhcmd1bWVudHMpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3N0YXJ0c1dpdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZyAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBhcmd1bWVudCBzdHJpbmcuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3RhcnRzV2l0aFxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjc3RhcnRzV2l0aF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGh9LlxyXG4gICAqL1xyXG4gIHN0YXJ0c1dpdGgoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbiA9IDApIHtcclxuICAgIHJldHVybiB0aGlzLiQuaW5kZXhPZi5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykgPT09IHBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjc3Vic3RyXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQgPSAwXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2xlbmd0aCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJ9LlxyXG4gICAqL1xyXG4gIHN1YnN0cihzdGFydCwgbGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0aGlzLiQuc3Vic3RyLmFwcGx5KHRoaXMuJCwgYXJndW1lbnRzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciNzdWJzdHJpbmdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleFN0YXJ0ID0gMF0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleEVuZCA9IHN0cmluZy5sZW5ndGhdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvc3Vic3RyaW5nXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyNzdWJzdHJpbmdde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdWJzdHJpbmd9LlxyXG4gICAqL1xyXG4gIHN1YnN0cmluZyhpbmRleFN0YXJ0LCBpbmRleEVuZCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnN1YnN0cmluZy5hcHBseSh0aGlzLiQsIGFyZ3VtZW50cykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9DYW1lbENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXHNcXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBjYW1lbCBjYXNlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignc3BpbmFsLWNhc2UnKS50b0NhbWVsQ2FzZSgpLiQ7ICAvLyAnc3BpbmFsQ2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0NhbWVsQ2FzZSgpLiQ7IC8vICdzbmFrZUNhc2UnXHJcbiAgICovXHJcbiAgdG9DYW1lbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoLy1bXi1dL2csIChtYXRjaCkgPT4gbWF0Y2hbMV0udG9VcHBlckNhc2UoKSlcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9Mb3dlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0NhcGl0YWxDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgY2FwaXRhbCBsZXR0ZXIgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9DYXBpdGFsQ2FzZSgpLiQ7ICAvLyAnU3BpbmFsIENhc2UnXHJcbiAgICogbmV3IFN0cignX3NuYWtlX2Nhc2VfJykudG9DYXBpdGFsQ2FzZSgpLiQ7IC8vICdTbmFrZSBDYXNlJ1xyXG4gICAqL1xyXG4gIHRvQ2FwaXRhbENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHNbXFxTXS9nLCAobWF0Y2gpID0+IG1hdGNoLnRvVXBwZXJDYXNlKCkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnJlcGxhY2UoL15bXFxTXS8sIChtYXRjaCkgPT4gbWF0Y2gudG9VcHBlckNhc2UoKSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b0RvdENhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBmb2xsb3dpbmcgcmVnZXhwIC9cXC1fXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBkb3QgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9Eb3RDYXNlKCkuJDsgIC8vICdzcGluYWwuY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b0RvdENhc2UoKS4kOyAvLyAnc25ha2UuY2FzZSdcclxuICAgKi9cclxuICB0b0RvdENhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcuJylcclxuICAgICAgLnJlcGxhY2UoL1teLl0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAuJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoL1xcLisvZywgJy4nKVxyXG4gICAgICAucmVwbGFjZSgvXlxcLi8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvSHlwaGVuQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW1vdmVzIGZvbGxvd2luZyByZWdleHAgL1xcc1xcLV9cXC4vIG1ha2luZyB0aGUgc3RyaW5nIGNhbWVsIGNhc2VkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgU3RyKCdjYW1lbENhc2UnKS50b1NwaW5hbENhc2UoKS4kOyAgICAvLyAnY2FtZWwtY2FzZSdcclxuICAgKiBuZXcgU3RyKCdfc25ha2VfY2FzZV8nKS50b1NwaW5hbENhc2UoKS4kOyAvLyAnc25ha2UtY2FzZSdcclxuICAgKi9cclxuICB0b0h5cGhlbkNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL1teLV0vZywgKG1hdGNoKSA9PiAoXHJcbiAgICAgICAgbWF0Y2gudG9Mb3dlckNhc2UoKSA9PT0gbWF0Y2ggPyBtYXRjaCA6IGAtJHsgbWF0Y2ggfWBcclxuICAgICAgKSlcclxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL14tLywgJycpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdG9Mb3dlckNhc2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZVxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtTdHJpbmcjdG9Mb3dlckNhc2Vde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZX0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ1VQUEVSLUNBU0UnKS50b0xvd2VyQ2FzZSgpLiQ7ICAvLyAndXBwZXItY2FzZSdcclxuICAgKi9cclxuICB0b0xvd2VyQ2FzZSgpIHtcclxuICAgIHJldHVybiBuZXcgU3RyKHRoaXMuJC50b0xvd2VyQ2FzZSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU25ha2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFxzXFwtXFwuLyBtYWtpbmcgdGhlIHN0cmluZyBzcGluYWwgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TbmFrZUNhc2UoKS4kOyAvLyAnc3BpbmFsX2Nhc2UnXHJcbiAgICogbmV3IFN0cignY2FtZWxDYXNlJykudG9TbmFrZUNhc2UoKS4kOyAgIC8vICdjYW1lbF9jYXNlJ1xyXG4gICAqL1xyXG4gIHRvU25ha2VDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodHJpbSh0aGlzLiQpXHJcbiAgICAgIC5yZXBsYWNlKC9bXFxzXFwtXy5dKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9bXl9dL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgXyR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9fKy9nLCAnXycpXHJcbiAgICAgIC5yZXBsYWNlKC9eXy8sICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RvU3BhY2VDYXNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgZm9sbG93aW5nIHJlZ2V4cCAvXFwtX1xcLi8gbWFraW5nIHRoZSBzdHJpbmcgc3BhY2UgY2FzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBTdHIoJ3NwaW5hbC1jYXNlJykudG9TcGFjZUNhc2UoKS4kOyAgLy8gJ3NwaW5hbCBjYXNlJ1xyXG4gICAqIG5ldyBTdHIoJ19zbmFrZV9jYXNlXycpLnRvU3BhY2VDYXNlKCkuJDsgLy8gJ3NuYWtlIGNhc2UnXHJcbiAgICovXHJcbiAgdG9TcGFjZUNhc2UoKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cih0cmltKHRoaXMuJClcclxuICAgICAgLnJlcGxhY2UoL1tcXHNcXC1fLl0rL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL1tcXFNdL2csIChtYXRjaCkgPT4gKFxyXG4gICAgICAgIG1hdGNoLnRvTG93ZXJDYXNlKCkgPT09IG1hdGNoID8gbWF0Y2ggOiBgICR7IG1hdGNoIH1gXHJcbiAgICAgICkpXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgICAgLnJlcGxhY2UoL15cXHMvLCAnJylcclxuICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0b1VwcGVyQ2FzZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RvVXBwZXJDYXNlfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IFN0cignbG93ZXItY2FzZScpLnRvVXBwZXJDYXNlKCkuJDsgIC8vICdMT1dFUi1DQVNFJ1xyXG4gICAqL1xyXG4gIHRvVXBwZXJDYXNlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnRvVXBwZXJDYXNlKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBTdHIjdHJpbVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7U3RyfSBOZXcgaW5zdGFuY2Ugb2YgU3RyLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1de0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltfS5cclxuICAgKi9cclxuICB0cmltKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdK3xbXFxzXFx1ZmVmZlxcdTAwYTBdKyQvZywgJycpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgU3RyI3RyaW1MZWZ0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtTdHJ9IE5ldyBpbnN0YW5jZSBvZiBTdHIuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1MZWZ0XXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdHJpbUxlZnR9LlxyXG4gICAqL1xyXG4gIHRyaW1MZWZ0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL15bXFxzXFx1ZmVmZlxcdTAwYTBdKy8sICcnKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFN0ciN0cmltUmlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge1N0cn0gTmV3IGluc3RhbmNlIG9mIFN0ci5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90cmltUmlnaHRcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbU3RyaW5nI3RyaW1SaWdodF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3RyaW1SaWdodH0uXHJcbiAgICovXHJcbiAgdHJpbVJpZ2h0KCkge1xyXG4gICAgcmV0dXJuIG5ldyBTdHIodGhpcy4kLnJlcGxhY2UoL1tcXHNcXHVmZWZmXFx1MDBhMF0rJC8sICcnKSk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFN0ci5wcm90b3R5cGUsIHtcclxuICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1N0cidcclxufSk7XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IGlzU3RyaW5nLFxyXG4gIGNsczogU3RyXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdHJpbShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL15bXFxzXFwtXy5dK3xbXFxzXFwtXy5dKyQvZywgJycpO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSlNPTlxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbanNvbiA9IG51bGxdIC0gU3RyaW5nIHRvIHBhcnNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLm51bWJlcnNdIC0gSWYgaXQgaXMgbmVlZGVkIHRvIHBhcnNlIG51bWJlci1saWtlIHN0cmluZ3MgYXMgbnVtYmVycy5cclxuICogQHBhcmFtIHtCb29sZWFufCp9IFtvcHRpb25zLmRhdGVzXSAtIElmIGl0IGlzIG5lZWRlZCB0byBwYXJzZSBkYXRlLWxpa2Ugc3RyaW5nIGFzIGRhdGVzLlxyXG4gKiBEYXRlLWxpa2Ugc3RyaW5nIGlzIGNvbnNpZGVyZWQgdG8gbWF0Y2ggXlxcZFxcZFxcZFxcZC1cXGRcXGQtXFxkXFxkVFxcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkXFxkXFxkWj8kXHJcbiAqIEBwYXJhbSB7SlNPTkNhbGxiYWNrfSBbY2FsbGJhY2tdIC0gQ2FsbGJhY2sgdGhhdCBjYWxsZWQgb24gZXZlcnkgaXRlcmF0aW9uLlxyXG4gKiBAcmV0dXJucyB7RFdyYXB9IEQtV3JhcCBvZiBmb3VuZCBtYXRjaC5cclxuICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgcGFyc2luZyBqc29uLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IDEgfScpLiQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHsgYTogMSB9XHJcbiAqIHBhcnNlSlNPTigneyBcImFcIjogXCIxXCIgfScsIHsgbnVtYmVyczogdHJ1ZSB9KS4kOyAgICAgICAgICAgICAgICAgICAgICAvLyB7IG51bWJlcnM6IHRydWUgfVxyXG4gKiBwYXJzZUpTT04oJ3sgXCJhXCI6IFwiMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaXCIgfScsIHsgZGF0ZXM6IHRydWUgfSkuJDsgLy8geyBhOiBEYXRlIHsuLi59IH1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlSlNPTihqc29uID0gbnVsbCwgb3B0aW9ucyA9IHt9LCBjYWxsYmFjaykge1xyXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcclxuICAgIHJldHVybiBEKEpTT04ucGFyc2UoanNvbikpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcclxuICAgIGNhbGxiYWNrID0gb3B0aW9ucztcclxuICAgIG9wdGlvbnMgPSB7fTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgbnVtYmVycywgZGF0ZXMgfSA9IG9wdGlvbnM7XHJcbiAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGRhdGVzICYmIC9eXFxkXFxkXFxkXFxkLVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGRcXGRcXGRaPyQvLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xyXG4gICAgfSBlbHNlIGlmIChudW1iZXJzICYmIGlzTnVtYmVyTGlrZSh2YWx1ZSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2FsbGJhY2sgPyBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogdmFsdWU7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBEKHBhcnNlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN0ciwgcGFyc2VKU09OIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIG1hcmt1cFRvSlNPTiBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi4vU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMsIGh0bWxBbGxvd2VkQXR0clN5bWJvbHMsIHZvaWRFbGVtZW50cyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTWFya3VwRWxlbWVudFxyXG4gKiBAcHJvcGVydHkgeydjb21tZW50J3wndGV4dCd8J2VsZW1lbnQnfSB0eXBlIC0gVHlwZSBvZiB0aGUgbm9kZS5cclxuICogQHByb3BlcnR5IHtNYXJrdXBFbGVtZW50fSBwYXJlbnQgLSBUeXBlIG9mIHRoZSBub2RlLlxyXG4gKiBAcHJvcGVydHkge09iamVjdC48U3RyaW5nLCBTdHJpbmc+fSBhdHRycyAtIE5vZGUgYXR0cmlidXRlc1xyXG4gKiBAcHJvcGVydHkge01hcmt1cEVsZW1lbnRbXX0gY2hpbGRyZW4gLSBOb2RlIGNoaWxkcmVuLlxyXG4gKi9cclxuXHJcbmNvbnN0IHN1Ym1pdFN0cmluZyA9ICdQbGVhc2UsIHN1Ym1pdCBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vZHdheW5lanMvZHdheW5lL2lzc3Vlcy4nO1xyXG5jb25zdCBOT0RFX1JFR0VYX1NFVCA9IG5ldyBTdXBlcih7XHJcbiAgJ3RhZy1vcGVuJzogbmV3IFJlZ0V4cChgPCgkeyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgfSlcXFxccypgLCAnaScpLFxyXG4gICd0YWctY2xvc2UnOiBjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChodG1sQWxsb3dlZFRhZ1N5bWJvbHMpLFxyXG4gIGNvbW1lbnQ6IC88IS0tKCg/Oi1bXlxcLT5dfFteXFwtPl0pKD86LT9bXi1dKSpbXi1dP3wpLS0+L1xyXG59KTtcclxuY29uc3QgVEFHX09QRU5fQ0xPU0UgPSAvXihcXC8/KT4vO1xyXG4vLyBjb25zdCBBVFRSSUJVVEUgPSAvXihbXlxcdTAwMDAtXFx1MDAyMFxcc1wiJz5cXC89XSspKD86XFxzKj1cXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcc1wiJ2A8Pj1dKykpP1xccyovO1xyXG5jb25zdCBBVFRSSUJVVEUgPSBuZXcgUmVnRXhwKGBeKCR7IGh0bWxBbGxvd2VkQXR0clN5bWJvbHMgfSkoPzpcXFxccyo9XFxcXHMqKCdbXiddKid8XCJbXlwiXSpcInxbXlxcXFxzXCInXFxgPD49XSspKT9cXFxccypgKTtcclxuY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IG5vZGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoZWxlbSkgPT4gZWxlbSlcclxuICAuY2FzZSgndGFnLW9wZW4nLCAoZWxlbSwgbm9kZSkgPT4ge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB2YWx1ZTogbmFtZSxcclxuICAgICAgc2VsZkNsb3NpbmdcclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIG5vZGUgPSB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGF0dHJzOiBuZXcgU3VwZXIobm9kZS5hdHRycykubWFwKCh2YWx1ZSkgPT4gKFxyXG4gICAgICAgIHBhcnNlQ2hhcmFjdGVyRGF0YSh2YWx1ZSlcclxuICAgICAgKSkuJCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICBjaGlsZHJlbjogbmV3IEFycihbXSlcclxuICAgIH07XHJcblxyXG4gICAgZWxlbS5jaGlsZHJlbi5wdXNoKG5vZGUpO1xyXG5cclxuICAgIGlmICghc2VsZkNsb3NpbmcgJiYgdm9pZEVsZW1lbnRzLmluZGV4T2YobmFtZSkgPT09IC0xKSB7XHJcbiAgICAgIGVsZW0gPSBub2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtO1xyXG4gIH0pXHJcbiAgLmNhc2UoJ3RhZy1jbG9zZScsIChlbGVtLCBub2RlKSA9PiB7XHJcbiAgICBpZiAoZWxlbS5uYW1lID09PSBub2RlLnZhbHVlKSB7XHJcbiAgICAgIGVsZW0gPSBlbGVtLnBhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbTtcclxuICB9KVxyXG4gIC5jYXNlKFsnY29tbWVudCcsICd0ZXh0J10sIChlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2UsIHR5cGUpID0+IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB7XHJcbiAgICAgIG5hbWU6IGAjJHsgdHlwZSB9YCxcclxuICAgICAgcGFyZW50OiBlbGVtLFxyXG4gICAgICB2YWx1ZTogbm9kZS52YWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ3RleHQnICYmIGVsZW0ubmFtZSAhPT0gJ3NjcmlwdCcgJiYgZWxlbS5uYW1lICE9PSAnc3R5bGUnKSB7XHJcbiAgICAgIGVsZW1lbnQudmFsdWUgPSBwYXJzZUNoYXJhY3RlckRhdGEoZWxlbWVudC52YWx1ZSk7XHJcblxyXG4gICAgICBpZiAoY29sbGFwc2VXaGl0ZVNwYWNlKSB7XHJcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IG5ldyBTdHIoZWxlbWVudC52YWx1ZSkudHJpbSgpLiQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNvbGxhcHNlV2hpdGVTcGFjZSB8fCAhL15cXHMqJC8udGVzdChlbGVtZW50LnZhbHVlKSkge1xyXG4gICAgICBlbGVtLmNoaWxkcmVuLnB1c2goZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfSk7XHJcbmNvbnN0IHJhd1RleHRTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCBmYWxzZSlcclxuICAuY2FzZShbJ3RpdGxlJywgJ3RleHRhcmVhJywgJ3N0eWxlJywgJ3NjcmlwdCddLCB0cnVlKTtcclxuXHJcbmNsYXNzIEludGVybmFsUGFyc2luZ0Vycm9yIHtcclxuICBjb25zdHJ1Y3RvcihpbmRleCkge1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUGFyc2luZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gIHR5cGUgPSAnUEFSU0lOR19FUlJPUic7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gbWFya3VwVG9KU09OXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrdXAgLSBNYXJrdXAgdG8gcGFyc2UgdG8gSlNPTi5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlIGNvbGxhcHNlZC5cclxuICogQHJldHVybnMge0Fyci48TWFya3VwRWxlbWVudD59IE1hcmt1cCBlbGVtZW50cyBhcnJheS5cclxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIGZvciBwYXJzaW5nIGh0bWwgYW5kIHhtbCB0byBKU09OLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKG1hcmt1cCwgY29sbGFwc2VXaGl0ZVNwYWNlKSA9PiB7XHJcbiAgY29sbGFwc2VXaGl0ZVNwYWNlID0gISFjb2xsYXBzZVdoaXRlU3BhY2U7XHJcblxyXG4gIGNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihbXSk7XHJcbiAgY29uc3Qgc3RhcnRNYXJrdXAgPSBtYXJrdXA7XHJcbiAgbGV0IGZvdW5kO1xyXG4gIGxldCBnbG9iYWxJbmRleCA9IDA7XHJcbiAgbGV0IGVsZW0gPSB7XHJcbiAgICBuYW1lOiBudWxsLFxyXG4gICAgY2hpbGRyZW46IGVsZW1lbnRzXHJcbiAgfTtcclxuXHJcbiAgd2hpbGUgKG1hcmt1cC5sZW5ndGgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGZvdW5kID0gZmluZChtYXJrdXAsIGVsZW0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEludGVybmFsUGFyc2luZ0Vycm9yKSkge1xyXG4gICAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFBhcnNpbmcgZXJyb3IgbmVhciBpbmRleCAkeyBuZWFyU3RyaW5nKHN0YXJ0TWFya3VwLCBnbG9iYWxJbmRleCArIGVyci5pbmRleCkgfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgYXR0cnMsXHJcbiAgICAgIHNlbGZDbG9zaW5nLFxyXG4gICAgICBpbmRleCxcclxuICAgICAgdmFsdWVcclxuICAgIH0gPSBmb3VuZDtcclxuXHJcbiAgICBnbG9iYWxJbmRleCArPSBpbmRleDtcclxuXHJcbiAgICBpZiAoIWluZGV4KSB7XHJcbiAgICAgIHRocm93VW5leHBlY3RlZEVycm9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgbm9kZSA9IHtcclxuICAgICAgdHlwZSxcclxuICAgICAgdmFsdWVcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICd0YWctb3BlbicpIHtcclxuICAgICAgbm9kZS5hdHRycyA9IGF0dHJzO1xyXG4gICAgICBub2RlLnNlbGZDbG9zaW5nID0gc2VsZkNsb3Npbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbSA9IG5vZGVTd2l0Y2hlcihub2RlLnR5cGUsIFtlbGVtLCBub2RlLCBjb2xsYXBzZVdoaXRlU3BhY2VdKTtcclxuXHJcbiAgICBtYXJrdXAgPSBtYXJrdXAuc2xpY2UoaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnRzO1xyXG5cclxuICBmdW5jdGlvbiB0aHJvd1VuZXhwZWN0ZWRFcnJvcigpIHtcclxuICAgIHRocm93IG5ldyBQYXJzaW5nRXJyb3IoYFVuZXhwZWN0ZWQgcGFyc2luZyBlcnJvciBuZWFyIGluZGV4ICR7IG5lYXJTdHJpbmcoc3RhcnRNYXJrdXAsIGdsb2JhbEluZGV4KSB9LiAkeyBzdWJtaXRTdHJpbmcgfWApO1xyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbmQobWFya3VwLCBlbGVtKSB7XHJcbiAgY29uc3QgeyBuYW1lIH0gPSBlbGVtO1xyXG4gIGxldCBtYXRjaGVzO1xyXG5cclxuICBpZiAocmF3VGV4dFN3aXRjaGVyKG5hbWUpKSB7XHJcbiAgICBtYXRjaGVzID0gbmV3IFN1cGVyKHtcclxuICAgICAgJ3RhZy1jbG9zZSc6IG1hcmt1cC5tYXRjaChjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cChuYW1lKSlcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBtYXRjaGVzID0gTk9ERV9SRUdFWF9TRVQubWFwKChyZWdleCkgPT4gKFxyXG4gICAgICBtYXJrdXAubWF0Y2gocmVnZXgpXHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIGxldCBtYXRjaDtcclxuXHJcbiAgaWYgKFxyXG4gICAgbWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG1hdGNoKSA9PiAoXHJcbiAgICAgIG1hdGNoICYmIG1hdGNoLmluZGV4ID09PSAwXHJcbiAgICApKVxyXG4gICkge1xyXG4gICAgY29uc3QgcmV0dXJuaW5nID0ge1xyXG4gICAgICB0eXBlOiBtYXRjaC5rZXksXHJcbiAgICAgIGluZGV4OiBtYXRjaC52YWx1ZVswXS5sZW5ndGgsXHJcbiAgICAgIHZhbHVlOiBtYXRjaC52YWx1ZVsxXVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGF0dHJzID0ge307XHJcblxyXG4gICAgaWYgKG1hdGNoLmtleSA9PT0gJ3RhZy1vcGVuJykge1xyXG4gICAgICBjb25zdCBzdGFydE1hcmt1cCA9IG1hcmt1cDtcclxuICAgICAgbGV0IGNsb3NlTWF0Y2g7XHJcblxyXG4gICAgICByZXR1cm5pbmcuc2VsZkNsb3NpbmcgPSBmYWxzZTtcclxuICAgICAgcmV0dXJuaW5nLmF0dHJzID0gYXR0cnM7XHJcblxyXG4gICAgICB3aGlsZSAoXHJcbiAgICAgICAgKG1hcmt1cCA9IHN0YXJ0TWFya3VwLnNsaWNlKHJldHVybmluZy5pbmRleCkpICYmXHJcbiAgICAgICAgIShjbG9zZU1hdGNoID0gbWFya3VwLm1hdGNoKFRBR19PUEVOX0NMT1NFKSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgY29uc3QgYXR0ciA9IG1hcmt1cC5tYXRjaChBVFRSSUJVVEUpO1xyXG5cclxuICAgICAgICBpZiAoIWF0dHIpIHtcclxuICAgICAgICAgIHJldHVybmluZy5pbmRleCArPSAxO1xyXG5cclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXR0cnNbYXR0clsxXV0gPSAoYXR0clsyXSB8fCAnJykucmVwbGFjZSgvXihcInwnKXwoXCJ8JykkL2csICcnKTtcclxuICAgICAgICByZXR1cm5pbmcuaW5kZXggKz0gYXR0clswXS5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjbG9zZU1hdGNoKSB7XHJcbiAgICAgICAgcmV0dXJuaW5nLmluZGV4ICs9IGNsb3NlTWF0Y2hbMF0ubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybmluZy5zZWxmQ2xvc2luZyA9ICEhY2xvc2VNYXRjaFsxXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXR1cm5pbmc7XHJcbiAgfVxyXG5cclxuICBsZXQgeyB2YWx1ZTogaW5kZXggfSA9IG1hdGNoZXMubWluKChtYXRjaCkgPT4gKFxyXG4gICAgbWF0Y2ggPyBtYXRjaC5pbmRleCA6IE5hTlxyXG4gICkpO1xyXG5cclxuICBpZiAoaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICBpbmRleCA9IG1hcmt1cC5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogJ3RleHQnLFxyXG4gICAgaW5kZXgsXHJcbiAgICB2YWx1ZTogbWFya3VwLnNsaWNlKDAsIGluZGV4KVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdENsb3NlVGFnUmVnRXhwKHRhZ05hbWUpIHtcclxuICByZXR1cm4gbmV3IFJlZ0V4cChgPC8oJHsgdGFnTmFtZSB9KVxcXFxzKj5gLCAnaScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuZWFyU3RyaW5nKG1hcmt1cCwgaW5kZXgpIHtcclxuICByZXR1cm4gYCR7IGluZGV4IH0gKH5+fiBcIiR7IG1hcmt1cC5zbGljZShpbmRleCwgaW5kZXggKyAxNSkgfVwiIH5+fiwgdGhlIHN0cmluZyBpdHNlbGYgaXMgXCIkeyBtYXJrdXAgfVwiKWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ2hhcmFjdGVyRGF0YShzdHJpbmcpIHtcclxuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyYoXFx3K3wjeD9cXGQrKTsvZywgKG1hdGNoKSA9PiB7XHJcbiAgICBkaXYuaW5uZXJIVE1MID0gbWF0Y2g7XHJcblxyXG4gICAgcmV0dXJuIGRpdi50ZXh0Q29udGVudCB8fCBkaXYuaW5uZXJUZXh0O1xyXG4gIH0pO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEVsZW1cclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIEVsZW0gY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgQXJyLCBhcnJheSwgaXRlcmF0ZSBhcyB0aW1lcyB9IGZyb20gJy4vQXJyJztcclxuaW1wb3J0IHsgYmxvYiB9IGZyb20gJy4vQmxvYk9iamVjdCc7XHJcbmltcG9ydCB7IG1ldGhvZCB9IGZyb20gJy4vRnVuYyc7XHJcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tICcuL1Byb21pc2UnO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7XHJcbiAgY29uc3RydWN0b3JzLCBhcHBsaWVkUmVnRXhwcywgaHRtbEVsZW1lbnRzLCBzdmdFbGVtZW50cyxcclxuICBjYW52YXNHZXRNZXRob2RzLCBjYW52YXNSZXN0TWV0aG9kc1xyXG59IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHtcclxuICBpc0FycmF5LCBpc0FycmF5TGlrZSwgaXNFbGVtZW50LCBpc0Z1bmN0aW9uLFxyXG4gIGlzSW50ZWdlciwgaXNOaWwsIGlzTnVtYmVyLCBpc051bGwsIGlzU3RyaW5nLFxyXG4gIGFzc2lnbiwgZHluYW1pY0RlZmluZVByb3BlcnRpZXMsIGRlZmluZVByb3BlcnRpZXMsIHRvQXJyYXksXHJcbiAgdmFsaWRhdGUsIHRvU3RyaW5nVGFnLCBpdGVyYXRlLCBTeW1ib2xcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5pbXBvcnQgbWFya3VwVG9KU09OIGZyb20gJy4vaGVscGVycy9tYXJrdXBUb0pTT04nO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtTdHJpbmd9IEVsZW1FdmVudFN0cmluZ1xyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBBIHN0cmluZyBjb250YWluaW5nIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBjb21tYSB3aXRoIHplcm8gb3IgbW9yZSBzcGFjZXMgb3IganVzdCBzcGFjZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtVmFsdWVDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSAtIE9sZCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtfSBlbGVtIC0gQ3VycmVudCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBJbmRleCBpbiB0aGUgc2V0IG9mIHRoZSBlbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEVsZW1TZXRPZkNhbGxiYWNrXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFbGVtZW50fSBjcmVhdGVkIC0gQ3JlYXRlZCBlbGVtZW50LlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgb2YgdGhlIGl0ZXJhdGVkIGVsZW1lbnQgaW4gdGhlIG9iamVjdC5cclxuICogQHBhcmFtIHtLZXl9IGtleSAtIEtleSBvZiB0aGUgaXRlcmF0ZWQgZWxlbWVudCBpbiB0aGUgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IG9iamVjdCAtIE9iamVjdCB0aGF0IGlzIGl0ZXJhdGVkIG92ZXIuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEN1cnJlbnQgZWxlbWVudC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGN1cnJlbnQgZWxlbWVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIFZhbGlkYXRlQ2FsbGJhY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gRWxlbWVudCB2YWx1ZS5cclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIC0gRWxlbWVudCB0byB2YWxpZGF0ZS5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gSW5kZXggb2YgdGhlIGVsZW1lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBDdHhDYWxsYmFja1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBFbGVtTGlzdGVuZXJcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0V2ZW50fSBlIC0gRmlyZWQgZXZlbnQuXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgb24gd2hpY2ggdGhlIGxpc3RlbmVyIHdhcyBjYWxsZWQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIEluZGV4IG9mIHRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSBsaXN0ZW5lciB3YXMgY2FsbGVkLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRWxlbVJlbW92ZUxpc3RlbmVyc1xyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7Li4uRWxlbUV2ZW50U3RyaW5nfSBldmVudHMgLSBJZiBhdCBsZWFzdCBvbmUgYXJndW1lbnQgcHJlc2VudCBvbmx5IHJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIHNwZWNpZmllZFxyXG4gKiBieSB0aGUgZXZlbnRzIGluIHRoZSBhcmd1bWVudHMuXHJcbiAqL1xyXG5cclxuY29uc3QgbmF0aXZlRG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XHJcbmNvbnN0IGVtcHR5RGl2ID0gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbmNvbnN0IGV2ZW50U2VwYXJhdG9yID0gLygsfCApICovO1xyXG5jb25zdCB0ZXh0UHJvcGVydHkgPSBuZXcgU3VwZXIoTm9kZS5wcm90b3R5cGUpLnByb3BlcnR5RGVzY3JpcHRvcigndGV4dENvbnRlbnQnKSA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcclxuY29uc3QgY2xhc3NlcyA9IHt9O1xyXG5jb25zdCBhdHRycyA9IHt9O1xyXG5jb25zdCB3aW5kb3dzRHdheW5lRGF0YSA9IG5ldyBBcnIoW10pO1xyXG5jb25zdCBpbnB1dEVsZW1lbnRzID0gJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnO1xyXG5jb25zdCBjbGljayA9IG1ldGhvZCgnY2xpY2snKTtcclxuY29uc3Qgc3ZnTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5jb25zdCB4bWxOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyc7XHJcbmNvbnN0IHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbmNvbnN0IHhodG1sTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCc7XHJcbmNvbnN0IHR5cGVTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKGVsZW0sIHR5cGUpID0+IHtcclxuICBjb25zdCBucyA9IHR5cGUgPT09ICdzdmcnXHJcbiAgICA/IHN2Z05TXHJcbiAgICA6IGVsZW0ucHJvcCgnbmFtZXNwYWNlVVJJJykgfHwgbmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSB8fCB4aHRtbE5TO1xyXG5cclxuICByZXR1cm4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLCB0eXBlKTtcclxufSlcclxuICAuY2FzZShcclxuICAgICh0eXBlKSA9PiB0eXBlID09PSAnI2NvbW1lbnQnLFxyXG4gICAgKCkgPT4gbmF0aXZlRG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnJylcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICAodHlwZSkgPT4gdHlwZSA9PT0gJyN0ZXh0JyxcclxuICAgICgpID0+IG5hdGl2ZURvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKVxyXG4gICk7XHJcbmNvbnN0IHJlZlN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICdocmVmJylcclxuICAuY2FzZShcclxuICAgIFsnaW1nJywgJ3NjcmlwdCcsICdpZnJhbWUnLCAnYXVkaW8nLCAndmlkZW8nXSxcclxuICAgICdzcmMnXHJcbiAgKVxyXG4gIC5jYXNlKFxyXG4gICAgJ2Zvcm0nLFxyXG4gICAgJ2FjdGlvbidcclxuICApO1xyXG5jb25zdCBmaWx0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgKHNlbGVjdG9yKSA9PiBzZWxlY3RvcilcclxuICAuY2FzZShcclxuICAgIGlzU3RyaW5nLFxyXG4gICAgKHNlbGVjdG9yKSA9PiAoXHJcbiAgICAgIChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcilcclxuICAgIClcclxuICApXHJcbiAgLmNhc2UoXHJcbiAgICBbaXNBcnJheSwgaXNFbGVtXSxcclxuICAgIChlbGVtcykgPT4ge1xyXG4gICAgICBlbGVtcyA9IG5ldyBBcnIoZWxlbXMpO1xyXG5cclxuICAgICAgcmV0dXJuIChlbGVtKSA9PiBlbGVtcy5pbmRleE9mKGVsZW0pICE9PSAtMTtcclxuICAgIH1cclxuICApO1xyXG5jb25zdCBpbm5lclN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsIDApXHJcbiAgLmNhc2UoJ3BhZGRpbmctYm94JywgKHBhZGRpbmdzKSA9PiBwYWRkaW5ncylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIChwYWRkaW5ncywgYm9yZGVycykgPT4gcGFkZGluZ3MgKyBib3JkZXJzKTtcclxuY29uc3Qgb3V0ZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAoYm9yZGVycywgcGFkZGluZ3MpID0+IGJvcmRlcnMgKyBwYWRkaW5ncylcclxuICAuY2FzZSgncGFkZGluZy1ib3gnLCAoYm9yZGVycykgPT4gYm9yZGVycylcclxuICAuY2FzZSgnYm9yZGVyLWJveCcsIDApO1xyXG5jb25zdCBhdHRyTlNTd2l0Y2hlciA9IHN3aXRjaGVyKCdjYWxsJywgbnVsbClcclxuICAuY2FzZSgoYXR0cikgPT4gYXR0ciA9PT0gJ3htbG5zJyB8fCBhdHRyID09PSAneG1sbnM6eGxpbmsnLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5uYW1lID09PSAnc3ZnJ1xyXG4gICAgICA/IHhtbE5TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpXHJcbiAgLmNhc2UoKGF0dHIpID0+IC9eeGxpbms6XFx3Ly50ZXN0KGF0dHIpLCAoZWxlbSkgPT4gKFxyXG4gICAgZWxlbS5jbG9zZXN0KCdzdmcnKS5sZW5ndGhcclxuICAgICAgPyB4bGlua05TXHJcbiAgICAgIDogbnVsbFxyXG4gICkpO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBFbGVtXHJcbiAqIEBleHRlbmRzIEFyclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IFtlbGVtID0gW11dIC0gQW4gZWxlbWVudCBvciBhbiBhcnJheSBvZiBlbGVtZW50cyB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFdyYXAgb2YgYW4gZWxlbWVudHMgc2V0LiBBbHNvIGhhcyBhbGwgbWV0aG9kcyBmcm9tIGZyb21cclxuICogW0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0uXHJcbiAqIEdldHRlcnMgbWV0aG9kcyByZXR1cm4gdGhlIHNhbWUgYXMgbWV0aG9kcyBmcm9tIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBhbmQgdGhlIHJlc3QgcmV0dXJuIHRoaXMuXHJcbiAqIFdvcmsgZm9yIHRoZSBmaXJzdCBjYW52YXMgZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBuZXcgRWxlbShkb2N1bWVudC5ib2R5KTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNscycpKTtcclxuICogbmV3IEVsZW0oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2xzJykpO1xyXG4gKi9cclxuY2xhc3MgRWxlbSBleHRlbmRzIEFyciB7XHJcbiAgY29uc3RydWN0b3IoZWxlbSA9IFtdKSB7XHJcbiAgICBzdXBlcigoKCkgPT4ge1xyXG4gICAgICBsZXQgZWxlbWVudCA9IGVsZW07XHJcblxyXG4gICAgICBpZiAoaXNBcnJheUxpa2UoZWxlbWVudCkgJiYgKFxyXG4gICAgICAgIGlzV2luZG93KGVsZW1lbnQpIHx8XHJcbiAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0VsZW1lbnQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudCkgfHxcclxuICAgICAgICBpc1N0eWxlUnVsZShlbGVtZW50KVxyXG4gICAgICApKSB7XHJcbiAgICAgICAgZWxlbWVudCA9IFtlbGVtZW50XTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG5ldyBBcnIodG9BcnJheShuZXcgU3VwZXIoZWxlbWVudCkuJCwgdHJ1ZSkpLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgICBpZiAoZWxlbXMuaW5kZXhPZihlbGVtKSA9PT0gLTEgJiYgKFxyXG4gICAgICAgICAgaXNFbGVtZW50KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1dpbmRvdyhlbGVtKSB8fFxyXG4gICAgICAgICAgaXNIVE1MRG9jdW1lbnQoZWxlbSkgfHxcclxuICAgICAgICAgIGlzRG9jdW1lbnRGcmFnbWVudChlbGVtKSB8fFxyXG4gICAgICAgICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICAgICAgICBpc1N0eWxlUnVsZShlbGVtKVxyXG4gICAgICAgICkpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5wdXNoKGVsZW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgICAgICAgZWxlbXMucHVzaC5hcHBseShlbGVtcywgZWxlbS4kKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIFtdKS4kO1xyXG4gICAgfSkoKSk7XHJcblxyXG4gICAgdGhpcy4kJCA9IGVsZW07XHJcblxyXG4gICAgdGhpcy5mb3JFYWNoKGFkZER3YXluZURhdGEpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7QXJyYXkuPE5vZGV8V2luZG93Pn0gRWxlbSMkXHJcbiAgICAgKiBAdHlwZSB7QXJyYXkuPE5vZGV8V2luZG93Pn1cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1Y3RlZCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7Kn0gRWxlbSMkJFxyXG4gICAgICogQHR5cGUgeyp9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSW5pdGlhbCBlbGVtZW50IHNldC5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLihTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXSl9IGVsZW1lbnRzIC0gRWFjaCBhcmd1bWVudCBpcyBhIHNlbGVjdG9yLCBvciBFbGVtLCBvciBFbGVtZW50LCBvciBhcnJheSBvZiBFbGVtZW50cy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBuZXcgZWxlbWVudHMgdG8gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEuZmluZCgnLmNsczEnKVxyXG4gICAqICAgLmFkZChlbGVtMi5maW5kKCcuY2xzMicpKVxyXG4gICAqICAgLmhpZGUoKTtcclxuICAgKi9cclxuICBhZGQoLi4uZWxlbWVudHMpIHtcclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZWxlbSkgPT4ge1xyXG4gICAgICB0b0ZpbmQoZWxlbSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmluZGV4T2YoZWxlbSkgPT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLnB1c2goZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZENsYXNzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBjbGFzc2VzIC0gQ2xhc3NlcyB0byBhZGQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgY2xhc3NlcyB0byB0aGUgYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdyZWQnLCAncm91bmQnKTtcclxuICAgKi9cclxuICBhZGRDbGFzcyguLi5jbGFzc2VzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3QgPSBlbGVtLmNsYXNzTGlzdDtcclxuXHJcbiAgICAgIGl0ZXJhdGUoaXNFbGVtZW50KGVsZW0pICYmIGFyZ3VtZW50cywgKGNscykgPT4gbGlzdC5hZGQoY2xzKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiBjb21tZW50IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBjb21tZW50IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjb21tZW50IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRIVE1MKCc8ZGl2PjE8L2Rpdj4nKTtcclxuICAgKi9cclxuICBhZGRDb21tZW50KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaW5zZXJ0QWRqYWNlbnRIVE1MKGVuZCA/ICdiZWZvcmVlbmQnIDogJ2FmdGVyYmVnaW4nLCBgPCEtLSR7IHRleHQgfS0tPmApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNhZGRIVE1MXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBlbmQgLSBJZiB0aGUgSFRNTCBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgaXQncyBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBhZGRpbmcgSFRNTCB0byBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uYWRkSFRNTCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICovXHJcbiAgYWRkSFRNTChodG1sLCBlbmQgPSB0cnVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmluc2VydEFkamFjZW50SFRNTChlbmQgPyAnYmVmb3JlZW5kJyA6ICdhZnRlcmJlZ2luJywgaHRtbCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciAtIFNlbGVjdG9yIGZvciB0aGUgcnVsZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBjc3Mgc3R5bGVzIGludG8gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmFkZFJ1bGUoJ2ltZy1zaXplJywgJ2ltZy5zcXVhcmUnLCB7XHJcbiAgICogICB3aWR0aDogJzQwcHggIWltcG9ydGFudCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4ICFpbXBvcnRhbnQnXHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgYWRkUnVsZShuYW1lLCBzZWxlY3Rvciwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgc2hlZXQgfSA9IGVsZW07XHJcbiAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IHNoZWV0LmNzc1J1bGVzO1xyXG4gICAgICAgIGNvbnN0IHJ1bGVzID0gbmV3IFN1cGVyKHN0eWxlKS53b3JkKCh2YWx1ZSwgcHJvcGVydHkpID0+IChcclxuICAgICAgICAgIGAkeyBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKSB9OiAkeyB2YWx1ZSB9O1xcbmBcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZShcclxuICAgICAgICAgIGAkeyBzZWxlY3RvciB9IHskeyBydWxlcyAmJiAnXFxuJyB9JHsgcnVsZXMgfX1gLFxyXG4gICAgICAgICAgbGVuZ3RoXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzaGVldC5jc3NSdWxlc1tsZW5ndGhdLmR3YXluZURhdGEgPSB7IG5hbWUgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FkZFRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0IHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSB0ZXh0IHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSBpdCdzIGluc2VydGVkIHRvIHRoZSBzdGFydC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyB0ZXh0IHRvIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRUZXh0KCcxMjMnKTtcclxuICAgKi9cclxuICBhZGRUZXh0KHRleHQsIGVuZCA9IHRydWUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpLmludG8oZWxlbSwgZW5kKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2FwcGx5XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBzdHJpbmdzIC0gU3RyaW5ncyB0byBhcHBseS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgdGhhdCBpcyBhIHNob3J0aGFuZCBmb3IgbWFueSBvdGhlciBtZXRob2RzLlxyXG4gICAqIEFsbCBzaG9ydGhhbmRzIGNhbiBiZSBzZXBhcmF0ZWQgd2l0aCBzcGFjZSBhbmQgd3JpdHRlbiB3aXRoaW4gb25lIHN0cmluZy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hcHBseShcclxuICAgKiAgICcjaWQgLmMxIC5jMiBAYm9yZGVyKDFweCBzb2xpZCBibGFjaykgJGRpc2FibGVkICRhdHRyKHNvbWUgdmFsdWUpICooQ2xpY2sgbWUhKSdcclxuICAgKiApO1xyXG4gICAqIC8vIHNob3J0aGFuZCBmb3JcclxuICAgKiAvLyBlbGVtXHJcbiAgICogLy8gICAuaWQoJ2lkJylcclxuICAgKiAvLyAgIC5hZGRDbGFzcygnYzEnLCAnYzInKVxyXG4gICAqIC8vICAgLmNzcygnYm9yZGVyJywgJzFweCBzb2xpZCBibGFjaycpXHJcbiAgICogLy8gICAuYXR0cih7XHJcbiAgICogLy8gICAgIGF0dHIsICdzb21lIHZhbHVlJ1xyXG4gICAqIC8vICAgICBkaXNhYmxlZDogJydcclxuICAgKiAvLyAgIH0pXHJcbiAgICogLy8gICAudGV4dCgnQ2xpY2sgbWUhJyk7XHJcbiAgICogLy8gVGhlcmUgaXMgYSBmdWxsIGxpc3Qgb2YgcG9zc2libGUgdHlwZXMgb2Ygc3ludGF4IGJlbG93Li4uXHJcbiAgICpcclxuICAgKiBlbGVtLmFwcGx5KCcjaWQnKTsgICAgICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5pZCgnaWQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCcuYzEgLmMyJyk7ICAgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5hZGRDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctLmMxIC0uYzInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDbGFzcygnYzEnLCAnYzInKTtcclxuICAgKiBlbGVtLmFwcGx5KCctQGZsb2F0IC1AZGlzcGxheScpOyAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVDU1MoJ2Zsb2F0JywgJ2Rpc3BsYXknKTtcclxuICAgKiBlbGVtLmFwcGx5KCctJGExIC0kYTInKTsgICAgICAgICAgICAgIC8vIHNob3J0aGFuZCBmb3IgZWxlbS5yZW1vdmVBdHRyKCdhMScsICdhMicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyooc29tZSB0ZXh0KScpOyAgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLnRleHQoJ3NvbWUgdGV4dCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJyYoPGRpdj4xPC9kaXY+KScpOyAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmh0bWwoJzxkaXY+MTwvZGl2PicpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BmbG9hdChyaWdodCknKTsgICAgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnZmxvYXQnLCAncmlnaHQnKTtcclxuICAgKiBlbGVtLmFwcGx5KCdAdHJhbnNmb3JtKHNjYWxlKDVweCkpJyk7IC8vIHNob3J0aGFuZCBmb3IgZWxlbS5jc3MoJ3RyYW5zZm9ybScsICdzY2FsZSg1cHgpJyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbigycHggMnB4KScpOyAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4nLCAnMnB4IDJweCcpO1xyXG4gICAqIGVsZW0uYXBwbHkoJ0BtYXJnaW5MZWZ0KDJweCknKTsgICAgICAgLy8gc2hvcnRoYW5kIGZvciBlbGVtLmNzcygnbWFyZ2luTGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnQG1hcmdpbi1sZWZ0KDJweCknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uY3NzKCdtYXJnaW4tbGVmdCcsICcycHggMnB4Jyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHIoc29tZSB2YWx1ZSknKTsgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICdzb21lIHZhbHVlJyk7XHJcbiAgICogZWxlbS5hcHBseSgnJGF0dHInKTsgICAgICAgICAgICAgICAgICAvLyBzaG9ydGhhbmQgZm9yIGVsZW0uYXR0cignYXR0cicsICcnKTtcclxuICAgKi9cclxuICBhcHBseSguLi5zdHJpbmdzKSB7XHJcbiAgICBsZXQgYXBwbGllZDtcclxuICAgIGxldCBzZXRBcHBsaWVkO1xyXG4gICAgbGV0IGNhbGxiYWNrO1xyXG4gICAgbGV0IG5hbWU7XHJcbiAgICBsZXQgbnAxO1xyXG4gICAgbGV0IHNsaWNlO1xyXG5cclxuICAgIG5ldyBTdHIobmV3IEFycihhcmd1bWVudHMpLmpvaW4oJyAnKSlcclxuICAgICAgLnNwbGl0KC8oXFxzKykvKVxyXG4gICAgICAuZm9yRWFjaCgoc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaWYgKCFhcHBsaWVkKSB7XHJcbiAgICAgICAgICBucDEgPSBzdHJpbmcuc2xpY2UoMCwgMSk7XHJcbiAgICAgICAgICBjYWxsYmFjayA9IGFwcGxpZWRSZWdFeHBzW25wMV07XHJcbiAgICAgICAgICBzbGljZSA9IDE7XHJcblxyXG4gICAgICAgICAgaWYgKGNhbGxiYWNrICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrW3N0cmluZy5zbGljZSgxLCAyKV07XHJcbiAgICAgICAgICAgIHNsaWNlID0gMjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoL15cXHMrJC8udGVzdChzdHJpbmcpIHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbmFtZSA9IHN0cmluZy5zbGljZShzbGljZSkubWF0Y2goL15bXigpXSsvKTtcclxuXHJcbiAgICAgICAgICBpZiAoIW5hbWUgJiYgKG5wMSAhPT0gJyonICYmIG5wMSAhPT0gJyYnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYXBwbGllZCA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSA/IG5hbWVbMF0gOiAnJyxcclxuICAgICAgICAgICAgYXJnczogc3RyaW5nLnNsaWNlKHNsaWNlICsgKG5hbWUgPyBuYW1lWzBdIDogJycpLmxlbmd0aCksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHNldEFwcGxpZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzZXRBcHBsaWVkKSB7XHJcbiAgICAgICAgICBhcHBsaWVkLmFyZ3MgKz0gc3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFhcHBsaWVkLmFyZ3MgfHwgL15cXChbXFxzXFxTXStcXCkkLy50ZXN0KGFwcGxpZWQuYXJncykpIHtcclxuICAgICAgICAgIGFwcGxpZWQuY2FsbGJhY2sodGhpcywgYXBwbGllZC5uYW1lLCBhcHBsaWVkLmFyZ3MucmVwbGFjZSgvXlxcKHxcXCkkL2csICcnKSk7XHJcbiAgICAgICAgICBhcHBsaWVkID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldEFwcGxpZWQgPSBmYWxzZTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jYXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgU3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrPn0gW2F0dHJdIC0gTmFtZSBvZiB0aGUgYXR0cmlidXRlIHRvIGdldCBvclxyXG4gICAqIGFuIG9iamVjdCBvZiB0aGUgZm9ybWF0IHsgW2F0dHJOYW1lXTogdmFsdWUsIC4uLiB9IHRvIHNldCBhdHRyaWJ1dGVzLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW1WYWx1ZUNhbGxiYWNrfSBbdmFsdWVdIC0gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nXHJcbiAgICogaXQgc2hvdWxkIGJlIGEgdmFsdWUgdG8gc2V0IGZvciB0aGF0IGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7U3VwZXJ8U3RyaW5nfEVsZW19IElmIG5vIGFyZ3VtZW50cyBwYXNzZWQsIEQtV3JhcCBvZiBhdHRyaWJ1dGVzIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCwgaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBhdHRyaWJ1dGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmF0dHIoJ2F0dHIxJywgJ3ZhbHVlMScpOyAvLyBhdHRyaWJ1dGUgYXR0cjEgc2V0IHRvICd2YWx1ZTEnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyMScpOyAgICAgICAgICAgLy8gJ3ZhbHVlMSdcclxuICAgKiBlbGVtLmF0dHIoe1xyXG4gICAqICAgYXR0cjE6ICd2YWx1ZTMnLCAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBhdHRyMSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIGF0dHIyOiAndmFsdWUyJyAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgYXR0cjIgc2V0IHRvICd2YWx1ZTInXHJcbiAgICogfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyByZXR1cm5lZFxyXG4gICAqIGVsZW0uYXR0cigpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgYXR0cjE6ICd2YWx1ZTMnLCBhdHRyMjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGF0dHIoYXR0ciwgdmFsdWUpIHtcclxuICAgIGNvbnN0IGVsZW0gPSBnZXRFbGVtKHRoaXMpO1xyXG5cclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKGVsZW0uYXR0cmlidXRlcykub2JqZWN0KChvLCBhdHRyKSA9PiB7XHJcbiAgICAgICAgb1thdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhhdHRyKSkge1xyXG4gICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgcmV0dXJuIGlzTnVsbChucylcclxuICAgICAgICA/IGVsZW0uZ2V0QXR0cmlidXRlKGF0dHIpXHJcbiAgICAgICAgOiBlbGVtLmdldEF0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIGF0dHIgPSB7IFthdHRyXTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKGF0dHIpLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICB2YWx1ZSA9IGlzRnVuY3Rpb24odmFsdWUpXHJcbiAgICAgICAgICA/IHZhbHVlKG5ldyBFbGVtKGVsZW0pLmF0dHIoa2V5KSwgZWxlbSwgaW5kZXgpXHJcbiAgICAgICAgICA6IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoaXNOaWwodmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IEVsZW0oZWxlbSkucmVtb3ZlQXR0cihrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbnMgPSBhdHRyTlNTd2l0Y2hlcihrZXksIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMobnMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNibG9iXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucyA9IHt9XSAtIE9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIGJsb2J9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxCbG9iT2JqZWN0Pn0gTmV3IGluc3RhbmNlIG9mIHByb21pc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgYSB7QGxpbmsgQmxvYk9iamVjdH0gUHJvbWlzZS4gV29ya3Mgd2l0aCBpbWFnZSBvciBjYW52YXMgZmlyc3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogaW1hZ2UuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgIC8vIEJsb2JPYmplY3RcclxuICAgKiBjYW52YXMuYmxvYigpLnRoZW4oKGJsb2IpID0+IGNvbnNvbGUubG9nKGJsb2IpKTsgLy8gQmxvYk9iamVjdFxyXG4gICAqL1xyXG4gIGJsb2Iob3B0aW9ucyA9IHt9KSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtID0gdGhpcy5maXJzdCgpO1xyXG4gICAgICBjb25zdCB7IG5hbWUgfSA9IGVsZW07XHJcblxyXG4gICAgICBpZiAobmFtZSAhPT0gJ2ltZycgJiYgbmFtZSAhPT0gJ2NhbnZhcycpIHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdGaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXNuXFwndCBhbiBpbWFnZSBvciBhIGNhbnZhcyEgKEVsZW0jYmxvYiknKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuYW1lID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGVsZW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtXHJcbiAgICAgICAgLmxvYWQoKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGlmIChlbGVtLmlzQnJva2VuKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ1RoZSBpbWFnZSBpcyBicm9rZW4hIChFbGVtI2Jsb2IpJykpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IG5ldyBFbGVtKG5hdGl2ZURvY3VtZW50KS5jYW52YXMoKTtcclxuICAgICAgICAgIGNvbnN0IHdpZHRoID0gZWxlbS53aWR0aCgpO1xyXG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gZWxlbS5oZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICBjYW52YXNcclxuICAgICAgICAgICAgLndpZHRoKHdpZHRoKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KGhlaWdodClcclxuICAgICAgICAgICAgLmRyYXdJbWFnZShlbGVtLiRbMF0sIDAsIDApO1xyXG5cclxuICAgICAgICAgIHJlc29sdmUoY2FudmFzKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pLnRoZW4oKGNhbnZhcykgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhVVJMID0gY2FudmFzLmRhdGFVUkwoKTtcclxuICAgICAgY29uc3QgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YVVSTC5zcGxpdCgnLCcpWzFdKTtcclxuICAgICAgY29uc3QgbGVuZ3RoID0gYnl0ZVN0cmluZy5sZW5ndGg7XHJcbiAgICAgIGNvbnN0IGFiID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XHJcbiAgICAgIGNvbnN0IGlhID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xyXG5cclxuICAgICAgdGltZXMobGVuZ3RoLCAoaSkgPT4ge1xyXG4gICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBibG9iKGFiLCBvcHRpb25zKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2JsdXJcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTEVsZW1lbnQjYmx1cl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2JsdXJ9LlxyXG4gICAqL1xyXG4gIGJsdXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmJsdXIoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2FsY0NTU1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHNldWRvXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcmV0dXJucyB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL1dpbmRvdy9nZXRDb21wdXRlZFN0eWxlXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW2dldENvbXB1dGVkU3R5bGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9XaW5kb3cvZ2V0Q29tcHV0ZWRTdHlsZX0uXHJcbiAgICogUmV0dXJucyBjb21wdXRlZCBzdHlsZSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBvciB1bmRlZmluZWQuXHJcbiAgICovXHJcbiAgY2FsY0NTUyhwc2V1ZG8gPSBudWxsKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShnZXRFbGVtKHRoaXMpLCBwc2V1ZG8pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoYW5nZVJ1bGVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBydWxlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IHN0eWxlIC0gU3R5bGUgZm9yIHRoZSBzZWxlY3Rvci5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNoYW5naW5nIGNzcyBzdHlsZXMgaW4gdGhlIGZpcnN0IHN0eWxlIHRhZyBpbiB0aGUgc2V0LlxyXG4gICAqIE5vdGU6IHN0eWxlIGVsZW1lbnQgc2hvdWxkIGJlIGluc2lkZSB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIHN0eWxlLmNoYW5nZVJ1bGUoJ2ltZy1zaXplJywge1xyXG4gICAqICAgd2lkdGg6ICc1MHB4ICFpbXBvcnRhbnQnLFxyXG4gICAqICAgaGVpZ2h0OiAnNTBweCAhaW1wb3J0YW50J1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGNoYW5nZVJ1bGUobmFtZSwgc3R5bGUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHsgdmFsdWU6IHJ1bGUgfSA9IG5ldyBBcnIoZWxlbS5zaGVldC5jc3NSdWxlcykuZmluZCgocnVsZSkgPT4gcnVsZS5kd2F5bmVEYXRhICYmIHJ1bGUuZHdheW5lRGF0YS5uYW1lID09PSBuYW1lKSB8fCB7fTtcclxuXHJcbiAgICAgICAgaWYgKHJ1bGUpIHtcclxuICAgICAgICAgIG5ldyBFbGVtKHJ1bGUpLmNzcyhzdHlsZSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8RWxlbXxFbGVtZW50fEVsZW1lbnRbXX0gZWxlbWVudCAtIElmIHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciBhIHdyYXAgb2YgdGhlIHNldCBvZiB0aGUgY2hpbGRyZW5cclxuICAgKiBvZiB0aGlzIGluZGV4IG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkIG90aGVyd2lzZSBhbiBlbGVtZW50IHRvIHB1dCBpbnRvIHRoaXMgZWxlbWVudCwgYSBjb2xsZWN0aW9uXHJcbiAgICogb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuZCAtIElmIHRoZSBlbGVtZW50cyBzaG91bGQgYmUgaW5zZXJ0ZWQgdG8gdGhlIGVuZC4gSWYgZmFsc2UgdGhleSBhcmUgaW5zZXJ0ZWQgdG8gdGhlIHN0YXJ0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIGEgd3JhcCBvZiBjaGlsZHJlbiBvciBpbnNlcnRlZCBlbGVtZW50cy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBjaGlsZCA9IGVsZW0uY2hpbGQoMSk7XHJcbiAgICpcclxuICAgKiBlbGVtLmNoaWxkKGVsZW0yKTtcclxuICAgKiBlbGVtLmNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmNoaWxkKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgY2hpbGQoZWxlbWVudCwgZW5kID0gdHJ1ZSkge1xyXG4gICAgaWYgKGlzSW50ZWdlcihlbGVtZW50KSAmJiBlbGVtZW50ID49IDApIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4oKS5lbGVtKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b0ZpbmQoZWxlbWVudCkuaW50byh0aGlzLCBlbmQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NoaWxkcmVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBELVdyYXAgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZyBlbGVtZW50J3MgY2hpbGRyZW4uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGNoaWxkcmVuID0gZWxlbS5jaGlsZHJlbigpO1xyXG4gICAqL1xyXG4gIGNoaWxkcmVuKCkge1xyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMubGVuZ3RoID8gdGhpcy4kWzBdLmNoaWxkTm9kZXMgOiBbXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xhc3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjbHNdIC0gSWYgaXQncyBwcmVzZW50IGl0IGhhcyB0byBjb250YWluIGNsYXNzIGF0dHJpYnV0ZSB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0FycnxFbGVtfSBJZiB0aGUgYXJndW1lbnQgaXMgcHJlc2VudCB0aGlzIHJldHVybmVkIG90aGVyd2lzZSBhIHdyYXAgb2YgdGhlIGNsYXNzZXMgYXJyYXkgcmV0dXJuZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZ2V0dGluZy9zZXR0aW5nIGNsYXNzZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY2xhc3MoJ2MxIGMyJyk7IC8vIGNsYXNzIHNldCB0byAnYzEgYzInXHJcbiAgICogZWxlbS5jbGFzcygpLiQ7ICAgICAgLy8gWydjMScsICdjMiddXHJcbiAgICovXHJcbiAgY2xhc3MoY2xzKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBBcnIoZ2V0RWxlbSh0aGlzKS5jbGFzc05hbWUuc3BsaXQoJyAnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbHM7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NsaWNrXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MRWxlbWVudC9jbGlja1xyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtIVE1MRWxlbWVudCNjbGlja117QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2NsaWNrfS5cclxuICAgKi9cclxuICBjbGljaygpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uY2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY2xvbmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtkZWVwID0gZmFsc2VdIC0gU2VlIHRoZWUgbGluay5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jbG9uZU5vZGVcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbTm9kZSNjbG9uZU5vZGVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9Ob2RlL2Nsb25lTm9kZX0uXHJcbiAgICovXHJcbiAgY2xvbmUoZGVlcCA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChlbGVtLmNsb25lTm9kZSghIWRlZXApKTtcclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2Nsb3Nlc3RcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBTZXQgb2YgdGhlIGNsb3Nlc3QgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0VsZW1lbnQjY2xvc2VzdF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xvc2VzdH0uXHJcbiAgICovXHJcbiAgY2xvc2VzdChzZWxlY3Rvcikge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4ge1xyXG4gICAgICB3aGlsZSAoZWxlbSkge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjb250YWluc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGZpbmQgb3V0IGlmIGl0J3Mgd2l0aGluIHRoZSBmaXJzdCBlbGVtZW50XHJcbiAgICogaW4gdGhlIHNldCBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBhcmd1bWVudCB3aXRoaW4gdGhpcyBlbGVtZW50LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgaXMgZXh0ZW5zaW9uIGZvclxyXG4gICAqIFtOb2RlI2NvbnRhaW5zXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9jb250YWluc30uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0xLmNvbnRhaW5zKGVsZW0yKTsgICAvLyB0cnVlfGZhbHNlXHJcbiAgICogZWxlbS5jb250YWlucyhzZWxlY3Rvcik7IC8vIHRydWV8ZmFsc2VcclxuICAgKi9cclxuICBjb250YWlucyhlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmNvbnRhaW5zKGdldEVsZW0oZWxlbWVudCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIFR5cGUgb2YgY3JlYXRlZCBlbGVtZW50LiBJZiB0eXBlIGlzIFwiI3RleHRcIiBhIHRleHQgbm9kZSBpcyBjcmVhdGVkLlxyXG4gICAqIElmIHR5cGUgaXMgXCIjY29tbWVudFwiIGEgY29tbWVudCBub2RlIGlzIGNyZWF0ZWQuXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9ucyAtIFN0cmluZ3MgdGhhdCBhcmUgcGFzc2VkIGludG8ge0BsaW5rIEVsZW0jYXBwbHl9LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgZWxlbWVudHMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgZWxlbWVudHMgaW5zaWRlIHRoaXMgZWxlbWVudC5cclxuICAgKiBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IGFuIEVsZW1lbnQgdGhlIGVsZW1lbnQgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZSgnZGl2JywgJyNpZCAuYzEgLmMyICpTb21lIHRleHQqJyk7XHJcbiAgICpcclxuICAgKiAvLyBhbHNvIHRoZXJlIGFyZSBzaG9ydGhhbmRzIGZvciBhbG1vc3QgZXZlcnkgSFRNTC1lbGVtZW50XHJcbiAgICogZWxlbS5kaXYoKTtcclxuICAgKiBlbGVtLmlucHV0KCckdHlwZShjaGVja2JveCkgJG5hbWUoY291bnRyeSknKTtcclxuICAgKi9cclxuICBjcmVhdGUodHlwZSwgLi4uYXBwbGllZEV4cHJlc3Npb25zKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBuZXcgRWxlbSh0eXBlU3dpdGNoZXIodHlwZSwgW25ldyBFbGVtKGVsZW0pXSkpO1xyXG5cclxuICAgICAgZWxlbWVudC5pbnRvKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbXMuYWRkKGVsZW1lbnQuYXBwbHkuYXBwbHkoZWxlbWVudCwgYXBwbGllZEV4cHJlc3Npb25zKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNjcmVhdGVDb21tZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IC0gVGV4dCBvZiB0aGUgY29tbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0gLSB3cmFwIG9mIHRoZSBjcmVhdGVkIGNvbW1lbnRzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIGNvbW1lbnRzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSBjb21tZW50IGlzIGp1c3QgY3JlYXRlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jcmVhdGVDb21tZW50KCdjb21tZW50Jyk7XHJcbiAgICovXHJcbiAgY3JlYXRlQ29tbWVudCh0ZXh0KSB7XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gICAgICAuY3JlYXRlKCcjY29tbWVudCcpXHJcbiAgICAgIC50ZXh0KHRleHQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2NyZWF0ZVRleHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgLSBUZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbSAtIHdyYXAgb2YgdGhlIGNyZWF0ZWQgdGV4dCBub2Rlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBjcmVhdGluZyB0ZXh0IG5vZGVzIGluc2lkZSB0aGlzIGVsZW1lbnQuXHJcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBhbiBFbGVtZW50IHRoZSB0ZXh0IG5vZGUgaXMganVzdCBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNyZWF0ZVRleHQoJ3RleHQnKTtcclxuICAgKi9cclxuICBjcmVhdGVUZXh0KHRleHQpIHtcclxuICAgIHJldHVybiB0aGlzXHJcbiAgICAgIC5jcmVhdGUoJyN0ZXh0JylcclxuICAgICAgLnRleHQodGV4dCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jY3NzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdC48U3RyaW5nLCBTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2s+fSBbcHJvcGVydHldIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0IG9yXHJcbiAgICogYW4gb2JqZWN0IG9mIHRoZSBmb3JtYXQgeyBbcHJvcGVydHldOiB2YWx1ZSwgLi4uIH0gdG8gc2V0IHN0eWxlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHkuXHJcbiAgICogQHJldHVybnMge1N1cGVyfFN0cmluZ3xFbGVtfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkLCBELVdyYXAgb2YgY3NzIHN0eWxlcyBvZiB0aGUgZWxlbWVudCByZXR1cm5lZCxcclxuICAgKiBpZiAxIHN0cmluZyBhcmd1bWVudCBpcyBwYXNzZWQgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSByZXR1cm5lZCBvdGhlcndpc2UgcmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGdldHRpbmcvc2V0dGluZyBzdHlsZXMuIFN1cHBvcnRzICFpbXBvcnRhbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTsgLy8gZGlzcGxheSBzZXQgdG8gJ25vbmUnIGFuZCB0aGlzIHJldHVybmVkXHJcbiAgICogZWxlbS5jc3MoJ2Rpc3BsYXknKTsgICAgICAgICAvLyAnbm9uZSdcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBkaXNwbGF5OiAnaW5saW5lJywgICAgICAgICAvLyBkaXNwbGF5IHNldCB0byAnaW5saW5lJ1xyXG4gICAqICAgY3Vyc29yOiAncG9pbnRlcicgICAgICAgICAgLy8gY3Vyc29yIHNldCB0byAncG9pbnRlcidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmNzcygpLiQ7ICAgICAgICAgICAgICAgIC8vIHsgZGlzcGxheTogJ25vbmUnLCBjdXJzb3I6ICdwb2ludGVyJyB9XHJcbiAgICovXHJcbiAgY3NzKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgbGV0IHN0eWxlID0gZ2V0RWxlbSh0aGlzKS5zdHlsZTtcclxuXHJcbiAgICBpZiAoaXNTdHlsZVJ1bGUodGhpcy4kWzBdKSkge1xyXG4gICAgICBzdHlsZSA9IHRoaXMuJFswXS5zdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdHIoc3R5bGUuY3NzVGV4dClcclxuICAgICAgICAuc3BsaXQoLzsgPy8pXHJcbiAgICAgICAgLm9iamVjdCgobywgdmFsdWUpID0+IHtcclxuICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eSA9IHZhbHVlLnNwbGl0KC86IC8pO1xyXG5cclxuICAgICAgICAgICAgb1tuZXcgU3RyKHByb3BlcnR5WzBdKS50b0NhbWVsQ2FzZSgpLiRdID0gcHJvcGVydHlbMV07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkgPSBuZXcgU3RyKHByb3BlcnR5KS50b0h5cGhlbkNhc2UoKS4kO1xyXG5cclxuICAgICAgcmV0dXJuIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpICsgKHN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkocHJvcGVydHkpID8gJyAhaW1wb3J0YW50JyA6ICcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pICYmICFpc1N0eWxlUnVsZShlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgbmV3IFN1cGVyKHByb3BlcnR5KS5mb3JFYWNoKCh2YWx1ZSwgcHJvcGVydHkpID0+IHtcclxuICAgICAgICBwcm9wZXJ0eSA9IG5ldyBTdHIocHJvcGVydHkpLnRvSHlwaGVuQ2FzZSgpLiQ7XHJcblxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZShuZXcgRWxlbShlbGVtKS5jc3MocHJvcGVydHkpLCBlbGVtLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtLnN0eWxlLnJlbW92ZVByb3BlcnR5KHByb3BlcnR5KTtcclxuICAgICAgICBlbGVtLnN0eWxlLnNldFByb3BlcnR5KFxyXG4gICAgICAgICAgcHJvcGVydHksXHJcbiAgICAgICAgICB2YWx1ZS5yZXBsYWNlKC8gPyFpbXBvcnRhbnQkLywgJycpLFxyXG4gICAgICAgICAgLyFpbXBvcnRhbnQkLy50ZXN0KHZhbHVlKSA/ICdpbXBvcnRhbnQnIDogJydcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2N0eFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8Q3R4Q2FsbGJhY2t9IFtwcm9wZXJ0eV0gLSBJZiBwcmVzZW50IGFuZCBvYmplY3RcclxuICAgKiBpdCdzIGFzc2lnbmVkIHRvIHRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQsIGlmIGZ1bmN0aW9uXHJcbiAgICogaXQncyBjYWxsZWQgd2l0aCBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYXJndW1lbnQsIGlmIHN0cmluZ1xyXG4gICAqIHRoZSB2YWx1ZSBmcm9tIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgdXNlZCBmb3IgYXNzaWduaW5nXHJcbiAgICogdGhpcyBwcm9wZXJ0eSB0byBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgYW5kIGlmIG5vdCBwcmVzZW50XHJcbiAgICogY2FudmFzIHJlbmRlcmluZyBjb250ZXh0IHJldHVybmVkLlxyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSAtIFNlZSB0aGUgcHJvcGVydHkgYXJndW1lbnQuXHJcbiAgICogQHJldHVybnMge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHxFbGVtfVxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgZmlyc3QgY2FudmFzIGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNhbnZhcy5jdHg7IC8vIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG4gICAqL1xyXG4gIGN0eChwcm9wZXJ0eSwgdmFsdWUpIHtcclxuICAgIGxldCBjdHg7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJykge1xyXG4gICAgICAgIGN0eCA9IGVsZW0uZHdheW5lRGF0YS5jdHg7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGN0eDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWN0eCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9wZXJ0eSkpIHtcclxuICAgICAgcHJvcGVydHkoY3R4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXNzaWduKGN0eCwgcHJvcGVydHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2RhdGFcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0LjxTdHJpbmcsIFN0cmluZ3xFbGVtVmFsdWVDYWxsYmFjaz59IFtrZXldIC0gTmFtZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgKHdpdGhvdXQgZGF0YS0gcHJlZml4KVxyXG4gICAqIHRvIGdldCBvciBhbiBvYmplY3Qgb2YgdGhlIGZvcm1hdCB7IFthdHRyTmFtZV06IHZhbHVlLCAuLi4gfSB0byBzZXQgYXR0cmlidXRlcy5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja30gW3ZhbHVlXSAtIElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHN0cmluZyBpdCBzaG91bGQgYmUgYSB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgYXR0cmlidXRlLlxyXG4gICAqIEByZXR1cm5zIHtTdXBlcnxTdHJpbmd8RWxlbX0gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCwgRC1XcmFwIG9mIGRhdGFzZXQgb2YgdGhlIGVsZW1lbnQgcmV0dXJuZWQsXHJcbiAgICogaWYgMSBzdHJpbmcgYXJndW1lbnQgaXMgcGFzc2VkIHRoZSB2YWx1ZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgcmV0dXJuZWQgb3RoZXJ3aXNlIHJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nL3NldHRpbmcgZGF0YSBhdHRyaWJ1dGVzLiBTZWVcclxuICAgKiBbSFRNTEVsZW1lbnQjZGF0YXNldF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2RhdGFzZXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJywgJ3ZhbHVlJyk7IC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMScgYW5kIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoJ3NvbWVLZXkxJyk7ICAgICAgICAgIC8vICd2YWx1ZTEnXHJcbiAgICogZWxlbS5kYXRhKHtcclxuICAgKiAgIHNvbWVLZXkxOiAndmFsdWUzJywgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MSBzZXQgdG8gJ3ZhbHVlMydcclxuICAgKiAgIHNvbWVLZXkyOiAndmFsdWUyJyAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBkYXRhLXNvbWUta2V5MiBzZXQgdG8gJ3ZhbHVlMidcclxuICAgKiB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgcmV0dXJuZWRcclxuICAgKiBlbGVtLmRhdGEoKS4kOyAgICAgICAgICAgICAgICAgIC8vIHsgc29tZUtleTE6ICd2YWx1ZTMnLCBzb21lS2V5MjogJ3ZhbHVlMicgfVxyXG4gICAqL1xyXG4gIGRhdGEoa2V5LCB2YWx1ZSkge1xyXG4gICAgY29uc3QgZGF0YXNldCA9IGdldEVsZW0odGhpcykuZGF0YXNldDtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTdXBlcihkYXRhc2V0KS5vYmplY3QoKG8sIHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICBvW2tleV0gPSB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgaXNTdHJpbmcoa2V5KSkge1xyXG4gICAgICByZXR1cm4gZGF0YXNldFtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAga2V5ID0geyBba2V5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXRlcmF0ZShrZXksICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgZWxlbS5kYXRhc2V0W2tleV0gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlKGVsZW0uZGF0YXNldFtrZXldLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkYXRhVVJMXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFt0eXBlID0gJ2ltYWdlL3BuZyddIC0gU2VlIHRoZSBsaW5rXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtlbmNvZGVyT3B0aW9ucyA9IDAuOTJdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IERhdGEgVVJMIGZvciB0aGUgZmlyc3QgY2FudmFzIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC90b0RhdGFVUkxcclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbSFRNTENhbnZhc0VsZW1lbnQjdG9EYXRhVVJMXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvdG9EYXRhVVJMfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2FudmFzLmRhdGFVUkwoKTtcclxuICAgKi9cclxuICBkYXRhVVJMKHR5cGUsIGVuY29kZXJPcHRpb25zKSB7XHJcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICAgIGlmICghY3R4KSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3R4LmNhbnZhcy50b0RhdGFVUkwuYXBwbHkoY3R4LmNhbnZhcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNkZWxldGVSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlbGV0aW5nIGNzcyBzdHlsZXMgaW4gYSBzdHlsZSB0YWcuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuZGVsZXRlUnVsZSgnaW1nLXNpemUnKTtcclxuICAgKi9cclxuICBkZWxldGVSdWxlKG5hbWUpIHtcclxuICAgIHRoaXMuc29tZSgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ3N0eWxlJykge1xyXG4gICAgICAgIGNvbnN0IHJ1bGUgPSBuZXcgQXJyKGVsZW0uc2hlZXQuY3NzUnVsZXMpLmZpbmQoKHJ1bGUpID0+IHJ1bGUuZHdheW5lRGF0YSAmJiBydWxlLmR3YXluZURhdGEubmFtZSA9PT0gbmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChydWxlKSB7XHJcbiAgICAgICAgICBlbGVtLnNoZWV0LmRlbGV0ZVJ1bGUocnVsZS5rZXkpO1xyXG5cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZGlzcGF0Y2hcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RXZlbnR9IGV2ZW50IC0gRXZlbnQgb3IgYSBzdHJpbmcgKG5ldyBFdmVudChldmVudCkgaXMgY3JlYXRlZCkuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtldmVudEluaXQgPSB7fV0gLSBTZWUgdGhlIGxpbmsuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZXZlbnRJbml0LmJ1YmJsZXMgPSB0cnVlXSAtIFNlZSB0aGUgbGluay5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtldmVudEluaXQuY2FuY2VsYWJsZSA9IHRydWVdIC0gU2VlIHRoZSBsaW5rLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZGV0YWlscyA9IHt9XSAtIE9iamVjdCB0aGF0IGlzIGFzc2lnbmVkIHRvIHRoZSBldmVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0V2ZW50L0V2ZW50XHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0V2ZW50VGFyZ2V0I2Rpc3BhdGNoRXZlbnRde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9kaXNwYXRjaEV2ZW50fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5kaXNwYXRjaCgnY2xpY2snKTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKCdjbGljaycsIHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGxhYmxlOiBmYWxzZSB9KTtcclxuICAgKiBlbGVtLmRpc3BhdGNoKG5ldyBDdXN0b21FdmVudCgnY3VzdG9tLWV2ZW50JykpO1xyXG4gICAqL1xyXG4gIGRpc3BhdGNoKGV2ZW50LCBldmVudEluaXQgPSB7fSwgZGV0YWlscyA9IHt9KSB7XHJcbiAgICBjb25zdCB7IGJ1YmJsZXMgPSB0cnVlLCBjYW5jZWxhYmxlID0gdHJ1ZSB9ID0gZXZlbnRJbml0IHx8IHt9O1xyXG4gICAgbGV0IGZpbmFsRXZlbnQgPSBldmVudDtcclxuXHJcbiAgICBpZiAoIS9FdmVudCQvLnRlc3QodG9TdHJpbmdUYWcoZmluYWxFdmVudCkpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZmluYWxFdmVudCA9IG5ldyBFdmVudChmaW5hbEV2ZW50LCB7IGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGZpbmFsRXZlbnQgPSBuYXRpdmVEb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcclxuICAgICAgICBmaW5hbEV2ZW50LmluaXRFdmVudChldmVudCwgYnViYmxlcywgY2FuY2VsYWJsZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFzc2lnbihmaW5hbEV2ZW50LCBkZXRhaWxzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmRpc3BhdGNoRXZlbnQoZmluYWxFdmVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2VsZW1cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpbmRleCA9IDBdIC0gSW5kZXggb2YgdGhlIGVsZW1lbnQgb2YgdGhlIHNldCB0byBnZXQuIE5lZ2F0aXZlIGluZGV4IG1lYW5zIGVsZW0ubGVuZ3RoICsgaW5kZXguXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmVsZW0oMSk7IC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDFcclxuICAgKiBlbGVtLmVsZW0oKTsgIC8vIGEgd3JhcCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgc2V0IHRoYXQgaGFzIGluZGV4IDBcclxuICAgKi9cclxuICBlbGVtKGluZGV4ID0gMCkge1xyXG4gICAgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICBpbmRleCA9IHRoaXMubGVuZ3RoICsgaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBFbGVtKHRoaXMuJFtpbmRleF0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbHRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbnxFbGVtZW50W118RWxlbX0gW3NlbGVjdG9yID0gQm9vbGVhbl0gLSBJZiBpdCdzIGEgc3RyaW5nIHRoZSBtZXRob2QgZmlsdGVycyBlbGVtZW50cyB3aXRoIHRoZSBzZWxlY3RvclxyXG4gICAqIG90aGVyd2lzZSBzdXBlci5maWx0ZXIgaXMgY2FsbGVkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaWx0ZXJpbmcgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uZmlsdGVyKChlbGVtKSA9PiBuZXcgRWxlbShlbGVtKS5jbG9zZXN0KCcucGFyZW50JykpO1xyXG4gICAqIGVsZW0uZmlsdGVyKGVsZW1zSW5BcnJheSk7XHJcbiAgICogZWxlbS5maWx0ZXIoZWxlbXNJbkVsZW0pO1xyXG4gICAqIGVsZW0uZmlsdGVyKCcuY2hpbGQnKTtcclxuICAgKi9cclxuICBmaWx0ZXIoc2VsZWN0b3IgPSBCb29sZWFuKSB7XHJcbiAgICByZXR1cm4gbmV3IEVsZW0oc3VwZXIuZmlsdGVyKGZpbHRlclN3aXRjaGVyKHNlbGVjdG9yKSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI2ZpbmRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIC0gU2VsZWN0b3IgdG8gZmluZC5cclxuICAgKiBAcmV0dXJucyB7RWxlbXx7IGtleTogS2V5LCB2YWx1ZTogKiB9fG51bGx9IE5ldyBpbnN0YW5jZSBvZiBFbGVtIGlmIHNlbGVjdG9yIGlzIGEgc3RyaW5nXHJcbiAgICogb3RoZXJ3aXNlIHN1cGVyLmZpbmQgaXMgY2FsbGVkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gICAqIFtFbGVtZW50I3F1ZXJ5U2VsZWN0b3JBbGxde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9FbGVtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gICAqL1xyXG4gIGZpbmQoc2VsZWN0b3IpIHtcclxuICAgIGlmICghaXNTdHJpbmcoc2VsZWN0b3IpKSB7XHJcbiAgICAgIHJldHVybiBzdXBlci5maW5kKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1zLmFkZChmaW5kKHNlbGVjdG9yLCBlbGVtKSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNmaXJzdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGVsZW0uZWxlbSgwKS5cclxuICAgKi9cclxuICBmaXJzdCgpIHtcclxuICAgIHJldHVybiB0aGlzLmVsZW0oMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZmlyc3RDaGlsZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBmaXJzdCBjaGlsZCBpbiBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBmaXJzdCBjaGlsZHJlbiBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5maXJzdCgpOyAgICAgICAvLyBmaW5kcyBmaXJzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5maXJzdCgnLmZvbycpOyAvLyBmaW5kIGZpcnN0IGNoaWxkIHRoYXQgaGFzIGZvbyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGZpcnN0Q2hpbGQoc2VsZWN0b3IgPSBudWxsKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgdmFsdWU6IGZvdW5kIH0gPSBuZXcgRWxlbShlbGVtKVxyXG4gICAgICAgIC5jaGlsZHJlbigpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jZm9jdXNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxFbGVtZW50L2ZvY3VzXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yXHJcbiAgICogW0hUTUxFbGVtZW50I2ZvY3VzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvZm9jdXN9LlxyXG4gICAqL1xyXG4gIGZvY3VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgZWxlbS5mb2N1cygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNnZXRSdWxlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgcnVsZS5cclxuICAgKiBAcmV0dXJucyB7eyBzZWxlY3RvcjogKFN0cmluZ3x2b2lkKSwgcnVsZXM6IE9iamVjdCB9fSBTZXQgb2YgdGhlIGNzcyBydWxlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHNldCBvZiB0aGUgcnVsZXMgdW5kZXIgdGhlIG5hbWUuXHJcbiAgICogTm90ZTogc3R5bGUgZWxlbWVudCBzaG91bGQgYmUgaW5zaWRlIHRoZSBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3R5bGUuYWRkUnVsZSgnaW1nLXNpemUnLCAnaW1nLnNxdWFyZScsIHtcclxuICAgKiAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogICBoZWlnaHQ6ICc0MHB4J1xyXG4gICAqIH0pO1xyXG4gICAqIHN0eWxlLmdldFJ1bGUoJ2ltZy1zaXplJyk7XHJcbiAgICogLy8ge1xyXG4gICAqIC8vICAgc2VsZWN0b3I6ICdpbWcuc3F1YXJlJyxcclxuICAgKiAvLyAgIHJ1bGVzOiB7XHJcbiAgICogLy8gICAgIHdpZHRoOiAnNDBweCcsXHJcbiAgICogLy8gICAgIGhlaWdodDogJzQwcHgnXHJcbiAgICogLy8gICB9XHJcbiAgICogLy8gfVxyXG4gICAqL1xyXG4gIGdldFJ1bGUobmFtZSkge1xyXG4gICAgbGV0IGZvdW5kID0ge1xyXG4gICAgICBzZWxlY3RvcjogdW5kZWZpbmVkLFxyXG4gICAgICBydWxlczoge31cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgY29uc3QgeyB2YWx1ZTogcnVsZSB9ID0gbmV3IEFycihlbGVtLnNoZWV0LmNzc1J1bGVzKS5maW5kKChydWxlKSA9PiBydWxlLmR3YXluZURhdGEgJiYgcnVsZS5kd2F5bmVEYXRhLm5hbWUgPT09IG5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgICBpZiAocnVsZSkge1xyXG4gICAgICAgICAgZm91bmQgPSB7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiBydWxlLnNlbGVjdG9yVGV4dCxcclxuICAgICAgICAgICAgcnVsZXM6IG5ldyBFbGVtKHJ1bGUpLmNzcygpLiRcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gZm91bmQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaGFzQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBoYXMgdGhlIGF0dHJpYnV0ZS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgYXR0cmlidXRlIG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hdHRyKCdhdHRyJywgJ3ZhbHVlJykuaGFzQXR0cignYXR0cicpOyAvLyB0cnVlXHJcbiAgICogZWxlbS5yZW1vdmVBdHRyKCdhdHRyJykuaGFzQXR0cignYXR0cicpOyAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGhhc0F0dHIoYXR0cikge1xyXG4gICAgY29uc3QgZWxlbSA9IGdldEVsZW0odGhpcyk7XHJcbiAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgIHJldHVybiBpc051bGwobnMpXHJcbiAgICAgID8gZWxlbS5oYXNBdHRyaWJ1dGUoYXR0cilcclxuICAgICAgOiBlbGVtLmhhc0F0dHJpYnV0ZU5TKG5zLCBhdHRyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoYXNDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gTmFtZSBvZiB0aGUgY2xhc3MuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaGFzIHRoZSBjbGFzcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGhhcyB0aGUgY2xhc3Mgb3Igbm90LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmFkZENsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7ICAgIC8vIHRydWVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdjbHMnKS5oYXNDbGFzcygnY2xzJyk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaGFzQ2xhc3MoY2xzKSB7XHJcbiAgICByZXR1cm4gZ2V0RWxlbSh0aGlzKS5jbGFzc0xpc3QuY29udGFpbnMoY2xzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoZWlnaHRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbaGVpZ2h0XSAtIEhlaWdodCB0byBzZXQuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiBubyBhcmd1bWVudHMgcGFzc2VkIGhlaWdodCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaGVpZ2h0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIGhlaWdodCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIGhlaWdodC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5oZWlnaHQoMTIzKTtcclxuICAgKiBlbGVtLmhlaWdodCgpOyAvLyAxMjNcclxuICAgKi9cclxuICBoZWlnaHQoaGVpZ2h0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcm9wLmFwcGx5KHRoaXMsIG5ldyBBcnIoYXJndW1lbnRzKS51bnNoaWZ0KCdoZWlnaHQnKS4kKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNoaWRlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIEhpZGVzIGFsbCBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmhpZGUoKTtcclxuICAgKi9cclxuICBoaWRlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50RGlzcGxheSA9IGVsZW0uY3NzKCdkaXNwbGF5Jyk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudERpc3BsYXkuaW5kZXhPZignbm9uZScpKSB7XHJcbiAgICAgICAgZWxlbS5wcm9wKCdkd2F5bmVEYXRhJykucHJldmlvdXNEaXNwbGF5ID0gY3VycmVudERpc3BsYXk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUgIWltcG9ydGFudCcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaHRtbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbaHRtbF0gLSBIVE1MIHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCBIVE1MLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBIVE1MIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyBIVE1MIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaHRtbCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gR2V0cyBvciBzZXRzIEhUTUwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaHRtbCgnPGRpdj4xPC9kaXY+Jyk7XHJcbiAgICogZWxlbS5odG1sKCk7IC8vICc8ZGl2PjE8L2Rpdj4nXHJcbiAgICovXHJcbiAgaHRtbChodG1sKSB7XHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGdldEVsZW0odGhpcykuaW5uZXJIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICBlbGVtLmlubmVySFRNTCA9IGlzRnVuY3Rpb24oaHRtbCkgPyBodG1sKGVsZW0uaW5uZXJIVE1MLCBlbGVtLCBpbmRleCkgOiBodG1sO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3wqfSBbaWRdIC0gSWQgdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCBpZCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgaWRzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgaWQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgaWQgb3Igc2V0cyBpZHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uaWQoJ3VuaXF1ZScpO1xyXG4gICAqIGVsZW0uaWQoKTsgLy8gJ3VuaXF1ZSdcclxuICAgKi9cclxuICBpZChpZCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBnZXRFbGVtKHRoaXMpLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGlzRWxlbWVudChlbGVtKSkge1xyXG4gICAgICAgIGVsZW0uaWQgPSBpZDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJIZWlnaHRcclxuICAgKiBAdHlwZSB7TnVtYmVyfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gR2V0dGVyIGZvciBmaW5kaW5nIGhvdyBtdWNoIGhlaWdodCBjb250ZW50IG9mIHRoZSBmaXJzdCBlbGVtZW50IGNhbiBiZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5jc3Moe1xyXG4gICAqICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXHJcbiAgICogICBoZWlnaHQ6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nVG9wOiAnMnB4JyxcclxuICAgKiAgIHBhZGRpbmdCb3R0b206ICczcHgnLFxyXG4gICAqICAgYm9yZGVyVG9wOiAnMXB4IHNvbGlkIGJsYWNrJyxcclxuICAgKiAgIGJvcmRlckJvdHRvbTogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lckhlaWdodDsgLy8gMTkwXHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAuaW5uZXJIZWlnaHQ7IC8vIDIwMFxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLmlubmVySGVpZ2h0OyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5pbm5lckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIHBhZGRpbmdUb3AsXHJcbiAgICAgIHBhZGRpbmdCb3R0b21cclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJUb3BXaWR0aCkgKyBweChib3JkZXJCb3R0b21XaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdUb3ApICsgcHgocGFkZGluZ0JvdHRvbSk7XHJcblxyXG4gICAgcmV0dXJuIHB4KGhlaWdodCkgLSBpbm5lclN3aXRjaGVyKGJveFNpemluZywgW3BhZGRpbmdzLCBib3JkZXJzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jaW5uZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggY29udGVudCBvZiB0aGUgZmlyc3QgZWxlbWVudCBjYW4gYmUuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiB9KS5pbm5lcldpZHRoOyAvLyAxOTBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ2NvbnRlbnQtYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAyMDBcclxuICAgKiBlbGVtXHJcbiAgICogICAuY3NzKCdib3gtc2l6aW5nJywgJ3BhZGRpbmctYm94JylcclxuICAgKiAgIC5pbm5lcldpZHRoOyAvLyAxOTVcclxuICAgKi9cclxuICBnZXQgaW5uZXJXaWR0aCgpIHtcclxuICAgIGNvbnN0IGVsZW0gPSB0aGlzLiRbMF07XHJcblxyXG4gICAgaWYgKGlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAgIHJldHVybiBlbGVtLmlubmVyV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBib3JkZXJMZWZ0V2lkdGgsXHJcbiAgICAgIGJvcmRlclJpZ2h0V2lkdGgsXHJcbiAgICAgIGJveFNpemluZyxcclxuICAgICAgcGFkZGluZ0xlZnQsXHJcbiAgICAgIHBhZGRpbmdSaWdodCxcclxuICAgICAgd2lkdGhcclxuICAgIH0gPSB0aGlzLmNhbGNDU1MoKTtcclxuICAgIGNvbnN0IGJvcmRlcnMgPSBweChib3JkZXJMZWZ0V2lkdGgpICsgcHgoYm9yZGVyUmlnaHRXaWR0aCk7XHJcbiAgICBjb25zdCBwYWRkaW5ncyA9IHB4KHBhZGRpbmdMZWZ0KSArIHB4KHBhZGRpbmdSaWdodCk7XHJcblxyXG4gICAgcmV0dXJuIHB4KHdpZHRoKSAtIGlubmVyU3dpdGNoZXIoYm94U2l6aW5nLCBbcGFkZGluZ3MsIGJvcmRlcnNdKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnNlcnRBZnRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtfEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGluc2VydCB0aGlzIGVsZW1lbnQgYWZ0ZXIgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYWZ0ZXIgdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IHRoZSBhcmd1bWVudC5cclxuICAgKiBUaGUgZWxlbWVudHMgcmVtYWluIGluIHRoZSBzYW1lIG9yZGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGVsZW0yKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEFmdGVyKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW5zZXJ0QWZ0ZXIoZWxlbWVudCkge1xyXG4gICAgZWxlbWVudCA9IHRvRmluZChlbGVtZW50KS5maXJzdCgpO1xyXG5cclxuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xyXG5cclxuICAgIGlmICghcGFyZW50Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0KCkuJFswXTtcclxuICAgIHBhcmVudCA9IHBhcmVudC4kWzBdO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW0sIGVsZW1lbnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaW5zZXJ0QmVmb3JlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gaW5zZXJ0IHRoaXMgZWxlbWVudCBiZWZvcmUgb3IgYSBzZWxlY3RvciBvZiBpdC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBQdXRzIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgYmVmb3JlIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQuXHJcbiAgICogVGhlIGVsZW1lbnRzIHJlbWFpbiBpbiB0aGUgc2FtZSBvcmRlci5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5pbnNlcnRCZWZvcmUoZWxlbTIpO1xyXG4gICAqIGVsZW0uaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpKTtcclxuICAgKiBlbGVtLmluc2VydEJlZm9yZSgnI2lkIGRpdi5jMScpO1xyXG4gICAqL1xyXG4gIGluc2VydEJlZm9yZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLmZpcnN0KCk7XHJcblxyXG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XHJcblxyXG4gICAgaWYgKCFwYXJlbnQubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQgPSBlbGVtZW50LiRbMF07XHJcbiAgICBwYXJlbnQgPSBwYXJlbnQuJFswXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpbnRvXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfEVsZW18RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gcHV0IHRoaXMgZWxlbWVudHMgaW50byBvciBhIHNlbGVjdG9yIG9mIGl0LlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZW5kIC0gSWYgdGhlIGVsZW1lbnRzIHNob3VsZCBiZSBpbnNlcnRlZCB0byB0aGUgZW5kLiBJZiBmYWxzZSB0aGV5IGFyZSBpbnNlcnRlZCB0byB0aGUgc3RhcnQuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGlzIHNpbWlsYXIgdG9cclxuICAgKiBbTm9kZSNhcHBlbmRDaGlsZF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL05vZGUvYXBwZW5kQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmludG8oZWxlbTIpO1xyXG4gICAqIGVsZW0uaW50byhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5pbnRvKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgaW50byhlbGVtZW50LCBlbmQgPSB0cnVlKSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpLiRbMF07XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAhZWxlbWVudCB8fFxyXG4gICAgICBpc1dpbmRvdyhlbGVtZW50KSB8fFxyXG4gICAgICBpc0hUTUxEb2N1bWVudChlbGVtZW50KSB8fFxyXG4gICAgICBpc0NvbW1lbnRPclRleHQoZWxlbWVudClcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWVuZCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAuc2xpY2UoKVxyXG4gICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoZWxlbSwgZWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cclxuICAgKiBJZiB0aGUgc2VsZWN0b3IgaXMgdW5kZWZpbmVkIG9yIG51bGwgYWx3YXlzIHJldHVybnMgdHJ1ZS4gSWYgaXQncyBub3QgZm9yIG5vdCBlbGVtZW50c1xyXG4gICAqIGVudHJpZXMgcmV0dXJucyBmYWxzZS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3JcclxuICAgKiBbRWxlbWVudCNtYXRjaGVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvRWxlbWVudC9tYXRjaGVzfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5hZGRDbGFzcygnY2xzJyk7XHJcbiAgICogZWxlbS5pcygnLmNscycpOyAgICAgICAgIC8vIHRydWVcclxuICAgKlxyXG4gICAqIGVsZW0ucmVtb3ZlQ2xhc3MoJ2NscycpO1xyXG4gICAqIGVsZW0uaXMoJy5jbHMnKTsgICAgICAgICAvLyBmYWxzZVxyXG4gICAqL1xyXG4gIGlzKHNlbGVjdG9yKSB7XHJcbiAgICBpZiAoaXNOdWxsKHNlbGVjdG9yKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtID0gZ2V0RWxlbSh0aGlzKTtcclxuICAgIGNvbnN0IG1hdGNoZXMgPSAoXHJcbiAgICAgIGVsZW0ubWF0Y2hlcyB8fFxyXG4gICAgICBlbGVtLm1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICBlbGVtLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgIGVsZW0ub01hdGNoZXNTZWxlY3RvclxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoIWlzRWxlbWVudCh0aGlzLiRbMF0pKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBTZWxlY3RvciAnJHsgc2VsZWN0b3IgfScgaXMgbm90IGEgdmFsaWQgc2VsZWN0b3IgKEVsZW0jaXMpYCk7XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jaXNCcm9rZW5cclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBmaXJzdCBpbWFnZSBpbiB0aGUgc2V0IGlzIGJyb2tlbi5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IGlzIGJyb2tlbi4gTm90IGltYWdlIGFuZCBub3QgbG9hZGVkIGltYWdlIGlzIGNvbnNpZGVyZWQgcHJvcGVyLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBpbWcgPSBlbGVtLmltZygpLm9uKHtcclxuICAgKiAgICdsb2FkJzogb25sb2FkLFxyXG4gICAqICAgJ2Vycm9yJzogb25sb2FkXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBvbmxvYWQgPSAoKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhpbWcuaXNCcm9rZW4oKSk7IC8vIHRydWVcclxuICAgKiB9O1xyXG4gICAqXHJcbiAgICogaW1nLnJlZignL3NvbWUvbm9uLWV4aXN0ZW50L3NpdGUvbm90LWZvdW5kLnBuZycpO1xyXG4gICAqL1xyXG4gIGlzQnJva2VuKCkge1xyXG4gICAgbGV0IGlzQnJva2VuID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5zb21lKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmIChnZXROYW1lKGVsZW0pID09PSAnaW1nJykge1xyXG4gICAgICAgIGlzQnJva2VuID0gISEoZWxlbS5jb21wbGV0ZSAmJiAoIWVsZW0ubmF0dXJhbFdpZHRoIHx8ICFlbGVtLm5hdHVyYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpc0Jyb2tlbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNpc1dpdGhpbkRvY3VtZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGlmIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgaXMgd2l0aGluIHRoZSBkb2N1bWVudCBvciBub3QuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCBpcyB3aXRoaW4gdGhlIGRvY3VtZW50IG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEVsZW0oZG9jdW1lbnQuYm9keSkuaXNXaXRoaW5Eb2N1bWVudCgpOyAgLy8gdHJ1ZVxyXG4gICAqIG5ldyBFbGVtKGRvY3VtZW50KS5kaXYoKS5pc1dpdGhpbkRvY3VtZW50KCk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNXaXRoaW5Eb2N1bWVudCgpIHtcclxuICAgIHJldHVybiB0aGlzLmZpcnN0KCkuY2xvc2VzdCgnaHRtbCcpLmxlbmd0aCAhPT0gMDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNsYXN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gU3lub255bSBmb3IgZWxlbS5lbGVtKC0xKS5cclxuICAgKi9cclxuICBsYXN0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxlbSgtMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbGFzdENoaWxkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VsZWN0b3IgPSBudWxsXSAtIElmIHByZXNlbnQsIGZpbmRzIGxhc3QgY2hpbGQgaW4gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgZmluZGluZyBsYXN0IGNoaWxkcmVuIG9mIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmxhc3QoKTsgICAgICAgLy8gZmluZHMgbGFzdCBjaGlsZCBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGVsZW0gc2V0XHJcbiAgICogZWxlbS5sYXN0KCcuZm9vJyk7IC8vIGZpbmQgbGFzdCBjaGlsZCB0aGF0IGhhcyAnZm9vJyBjbGFzcyBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqL1xyXG4gIGxhc3RDaGlsZChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgeyB2YWx1ZTogZm91bmQgfSA9IG5ldyBFbGVtKGVsZW0pXHJcbiAgICAgICAgLmNoaWxkcmVuKClcclxuICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgLmZpbmQoKGVsZW0pID0+IG5ldyBFbGVtKGVsZW0pLmlzKHNlbGVjdG9yKSkgfHwge307XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZm91bmQpO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbG9hZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48eyBwcm9wZXI6IEVsZW0sIGJyb2tlbjogRWxlbSB9Pn0gUHJvbWlzZSB3aXRoIGJyb2tlbiBhbmQgcHJvcGVyIGltYWdlcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTG9hZHMgZWFjaCBpbWFnZSBpbiB0aGUgc2V0IGFuZCBwdXRzIGl0IHRvIHRoZSBwcm9wZXIgb3IgYnJva2VuIGFycmF5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBpbWFnZXMubG9hZCgpLnRoZW4oKHsgYnJva2VuIH0pID0+IHtcclxuICAgKiAgIGJyb2tlbi5maWx0ZXIoJ2ltZycpLnJlZignL2ZhbGxiYWNrLnBuZycpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGxvYWQoKSB7XHJcbiAgICBjb25zdCBpbWFnZXMgPSB7XHJcbiAgICAgIHByb3BlcjogbmV3IEVsZW0oKSxcclxuICAgICAgYnJva2VuOiBuZXcgRWxlbSgpXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBQcm9taXNlLmFsbChcclxuICAgICAgdGhpc1xyXG4gICAgICAgIC5maWx0ZXIoKGVsZW0pID0+IGdldE5hbWUoZWxlbSkgPT09ICdpbWcnKVxyXG4gICAgICAgIC5tYXAoKGVsZW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0ICRlbGVtID0gbmV3IEVsZW0oZWxlbSk7XHJcblxyXG4gICAgICAgICAgaWYgKGVsZW0uY29tcGxldGUpIHtcclxuICAgICAgICAgICAgaW1hZ2VzWyRlbGVtLmlzQnJva2VuKCkgPyAnYnJva2VuJyA6ICdwcm9wZXInXS5wdXNoKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lcnMgPSAkZWxlbS5vbih7XHJcbiAgICAgICAgICAgICAgbG9hZCgpIHtcclxuICAgICAgICAgICAgICAgIGltYWdlcy5wcm9wZXIuYWRkKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZXJyb3IoKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZXMuYnJva2VuLmFkZChlbGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuJFxyXG4gICAgKS50aGVuKCgpID0+IGltYWdlcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbW92ZUF0dHJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgLSBBdHRyaWJ1dGUgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ZhbHVlID0gJyddIC0gVmFsdWUgdG8gc2V0IGZvciB0aGUgYXR0cmlidXRlLiBJZiBub3Qgc2V0IGF0dHJpYnV0ZSBvZiB0aGUgcHJldmlvdXMgZWxlbWVudCBvciAnJyB1c2VkLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgbW92aW5nIGFuIGF0dHJpYnV0ZSBmcm9tIHByZXZpb3VzIGVsZW1lbnQgdG8gdGhlIG5leHQgb25lIChmaXJzdCBlbGVtZW50IGluIHRoaXMgc2V0KS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbTEubW92ZUF0dHIoJ2F0dHInLCAndmFsdWUnKTsgICAgIC8vIGF0dHJpYnV0ZSAnYXR0cicgc2V0IHRvICd2YWx1ZScgb24gZWxlbTFcclxuICAgKiBlbGVtMi5tb3ZlQXR0cignYXR0cicpOyAgICAgICAgICAgICAgLy8gYXR0cmlidXRlICdhdHRyJyByZW1vdmVkIGZyb20gZWxlbTEuIHNldCB0byAndmFsdWUnIG9uIGVsZW0yXHJcbiAgICogZWxlbTMubW92ZUF0dHIoJ2F0dHInLCAnbmV3IHZhbHVlJyk7IC8vIGF0dHJpYnV0ZSAnYXR0cicgcmVtb3ZlZCBmcm9tIGVsZW0yLiBzZXQgdG8gJ25ldyB2YWx1ZScgb24gZWxlbTNcclxuICAgKi9cclxuICBtb3ZlQXR0cihhdHRyLCB2YWx1ZSA9ICcnKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gYXR0cnNbYXR0cl07XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy5lbGVtKCk7XHJcblxyXG4gICAgaWYgKHByZXYgJiYgZWxlbS5sZW5ndGgpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XHJcbiAgICAgICAgdmFsdWUgPSBwcmV2LmF0dHIoYXR0cik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHByZXYucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgYXR0cnNbYXR0cl0gPSBlbGVtLmF0dHIoYXR0ciwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI21vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gbW92ZSB0byB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIG1vdmluZyBhIGNsYXNzIGZyb20gcHJldmlvdXMgZWxlbWVudCB0byB0aGUgbmV4dCBvbmUgKGZpcnN0IGVsZW1lbnQgaW4gdGhpcyBzZXQpLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtMS5tb3ZlQ2xhc3MoJ2NscycpOyAvLyBjbGFzcyAnY2xzJyBhZGRlZCB0byBlbGVtMVxyXG4gICAqIGVsZW0yLm1vdmVDbGFzcygnY2xzJyk7IC8vIGNsYXNzICdjbHMnIHJlbW92ZWQgZnJvbSBlbGVtMS4gYWRkZWQgdG8gZWxlbTFcclxuICAgKi9cclxuICBtb3ZlQ2xhc3MoY2xzKSB7XHJcbiAgICBjb25zdCBwcmV2ID0gY2xhc3Nlc1tjbHNdO1xyXG4gICAgY29uc3QgZWxlbSA9IHRoaXMuZWxlbSgpO1xyXG5cclxuICAgIGlmIChwcmV2ICYmIGVsZW0ubGVuZ3RoKSB7XHJcbiAgICAgIHByZXYucmVtb3ZlQ2xhc3MoY2xzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcclxuICAgICAgY2xhc3Nlc1tjbHNdID0gZWxlbS5hZGRDbGFzcyhjbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7U3RyaW5nfSBFbGVtI25hbWVcclxuICAgKiBAdHlwZSB7U3RyaW5nfVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKiBAZGVzY3JpcHRpb24gbm9kZU5hbWUgKGxvd2VyY2FzZWQpIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGVsZW0xID0gZWxlbS5jcmVhdGUoJ2RpdicpO1xyXG4gICAqIGVsZW0xLm5hbWUgLy8gJ2RpdidcclxuICAgKi9cclxuICBnZXQgbmFtZSgpIHtcclxuICAgIHJldHVybiBnZXROYW1lKHRoaXMuJFswXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jbmV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yID0gbnVsbF0gLSBJZiBwcmVzZW50LCBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZXZlcnkgZWxlbSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLlxyXG4gICAqIElmIG5vdCwgZmluZHMgbmV4dCBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5uZXh0KCk7ICAgICAgIC8vIGZpbmRzIG5leHQgZWxlbWVudCB0byBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldFxyXG4gICAqIGVsZW0ubmV4dCgnLmZvbycpOyAvLyBmaW5kcyBuZXh0IGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgbmV4dChzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5uZXh0U2libGluZykge1xyXG4gICAgICAgIGlmIChuZXcgRWxlbShlbGVtKS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNvZmZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5FbGVtRXZlbnRTdHJpbmd9IGV2ZW50cyAtIEV2ZW50cyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgcmVtb3ZlcyBhbGwgdGhlIGxpc3RlbmVycyBmcm9tIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0IHNwZWNpZmllZCBieSB0aGUgZXZlbnRzIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrJyk7XHJcbiAgICogZWxlbS5vZmYoJ2NsaWNrLCBpbnB1dCcpO1xyXG4gICAqIGVsZW0ub2ZmKCdjbGljaywgaW5wdXQnLCAnZm9jdXMnKTtcclxuICAgKi9cclxuICBvZmYoLi4uZXZlbnRzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSBlbGVtLmR3YXluZURhdGE7XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgaXRlcmF0ZShldmVudC5zcGxpdChldmVudFNlcGFyYXRvciksIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgKGxpc3RlbmVyc1tldmVudF0gfHwgbmV3IFN1cGVyKCkpLmZvckVhY2goKHsgcmVtb3ZlTGlzdGVuZXIgfSkgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jb25cclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtFbGVtRXZlbnRTdHJpbmd8T2JqZWN0LjxFbGVtRXZlbnRTdHJpbmd8RWxlbUxpc3RlbmVyPn0gZXZlbnQgLSBFaXRoZXIgYSB7QGxpbmsgRWxlbUV2ZW50U3RyaW5nfSBzdHJpbmdcclxuICAgKiBvciBhbiBvYmplY3Qgd2l0aCBldmVudCBrZXlzIChhIGtleSBpcyBhbHNvIEVsZW1FdmVudFN0cmluZykgYW5kIGxpc3RlbmVycyB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gU2VsZWN0b3IgdG8gZmlsdGVyIGV2ZW50IHRhcmdldHMuXHJcbiAgICogQHBhcmFtIHtFbGVtTGlzdGVuZXJ9IFtsaXN0ZW5lcl0gLSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSBzdHJpbmcgaXQgbXVzdCBiZSBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZvclxyXG4gICAqIHNwZWNpZmllZCBldmVudChzKS5cclxuICAgKiBAcmV0dXJucyB7RWxlbVJlbW92ZUxpc3RlbmVyc30gRnVuY3Rpb24gdGhhdCB0YWtlcyBvcHRpb25hbCBldmVudCBhcmd1bWVudC5cclxuICAgKiBAZGVzY3JpcHRpb24gQWRkcyBldmVudCBsaXN0ZW5lcnMgZm9yIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBGb3IgZGVidWdnaW5nOiBJZiB5b3UgbmVlZCB0byBrbm93IHdoYXQgbGlzdGVuZXJzIGFyZSBpbiB3b3JrIChhbmQgd2hhdCBzZWxlY3RvcnMgZmlsdGVyIHRhcmdldHMpXHJcbiAgICogeW91IGNhbiBsb29rIGF0IHRoZSBiYXNlIHByb3BlcnR5IG9mIHRoZSBvbmx5IGR3YXluZSBsaXN0ZW5lciB0aGF0IGxpc3RlbnMgZm9yIHRoZSBldmVudFxyXG4gICAqIGFuZCBmaW5kIGFsbCB3b3JraW5nIGxpc3RlbmVycyBpbiBsaXN0ZW5lci5iYXNlLmR3YXluZURhdGEubGlzdGVuZXJzW2V2ZW50XS4kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLm9uKFxyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnLFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnLFxyXG4gICAqICAgKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKVxyXG4gICAqICk7XHJcbiAgICogZWxlbS5vbihcclxuICAgKiAgICdjaGFuZ2UsIGlucHV0JyxcclxuICAgKiAgIChlLCBlbGVtLCBpbmRleCkgPT4gY29uc29sZS5sb2coZWxlbS52YWx1ZSlcclxuICAgKiApO1xyXG4gICAqIGVsZW0ub24oXHJcbiAgICogICB7XHJcbiAgICogICAgICdjaGFuZ2UsIGlucHV0JzogKGUsIGVsZW0sIGluZGV4KSA9PiBjb25zb2xlLmxvZyhlbGVtLnZhbHVlKSxcclxuICAgKiAgICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogICB9LFxyXG4gICAqICAgJ2lucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBkYXRhbGlzdCwga2V5Z2VuLCBvdXRwdXQnXHJcbiAgICogKTtcclxuICAgKlxyXG4gICAqIGNvbnN0IHJlbW92ZUxpc3RlbmVycyA9IGVsZW0ub24oe1xyXG4gICAqICAgJ2NoYW5nZSwgaW5wdXQnOiAoZSwgZWxlbSwgaW5kZXgpID0+IGNvbnNvbGUubG9nKGVsZW0udmFsdWUpLFxyXG4gICAqICAgJ2JsdXInOiAoKSA9PiBjb25zb2xlLmxvZygnYmx1cicpXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2NsaWNrJyk7XHJcbiAgICogcmVtb3ZlTGlzdGVuZXJzKCdibHVyLCBjaGFuZ2UnKTtcclxuICAgKiByZW1vdmVMaXN0ZW5lcnMoJ2JsdXIsIGNoYW5nZScsICdpbnB1dCcpO1xyXG4gICAqIHJlbW92ZUxpc3RlbmVycygpO1xyXG4gICAqL1xyXG4gIG9uKGV2ZW50LCBzZWxlY3RvciA9IG51bGwsIGxpc3RlbmVyKSB7XHJcbiAgICBjb25zdCBhbGxMaXN0ZW5lcnMgPSBuZXcgU3VwZXIoe30pO1xyXG5cclxuICAgIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkge1xyXG4gICAgICBsaXN0ZW5lciA9IHNlbGVjdG9yO1xyXG4gICAgICBzZWxlY3RvciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU3RyaW5nKGV2ZW50KSkge1xyXG4gICAgICBldmVudCA9IHsgW2V2ZW50XTogbGlzdGVuZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICBldmVudCA9IG5ldyBTdXBlcihldmVudCkub2JqZWN0KChsaXN0ZW5lcnMsIGxpc3RlbmVyLCBldmVudCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKGV2ZW50LnNwbGl0KGV2ZW50U2VwYXJhdG9yKSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgbGlzdGVuZXJzW2V2ZW50XSA9IGxpc3RlbmVyO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICBpZiAoIWlzRWxlbWVudChlbGVtKSAmJiAhaXNXaW5kb3coZWxlbSkgJiYgIWlzSFRNTERvY3VtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gKHdpbmRvd3NEd2F5bmVEYXRhLmZpbmQoKHsgZWxlbWVudCB9KSA9PiBlbGVtZW50ID09PSBlbGVtKSB8fCB7fSkudmFsdWUgfHwgZWxlbS5kd2F5bmVEYXRhO1xyXG5cclxuICAgICAgZXZlbnQuZm9yRWFjaCgobGlzdGVuZXIsIGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnNbZXZlbnRdID0gbGlzdGVuZXJzW2V2ZW50XSB8fCBuZXcgU3VwZXIoe30pLmRlZmluZSgnaW5kZXgnLCB7XHJcbiAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSByZW1vdmVFdmVudExpc3RlbmVycy5wcm9wKCdpbmRleCcpO1xyXG5cclxuICAgICAgICBpZiAoIXJlbW92ZUV2ZW50TGlzdGVuZXJzLmhhcygnbGlzdGVuZXInKSkge1xyXG4gICAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5mb3JFYWNoKCh7IHNlbGVjdG9yLCBsaXN0ZW5lciB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKG5ldyBFbGVtKGUudGFyZ2V0KS5pcyhzZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwoZWxlbSwgZSwgZWxlbSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIG5ld0xpc3RlbmVyLmJhc2UgPSBlbGVtO1xyXG5cclxuICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbmV3TGlzdGVuZXIsIGZhbHNlKTtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlZmluZSgnbGlzdGVuZXInLCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXdMaXN0ZW5lcixcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZW1vdmVMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzLmRlbGV0ZShpbmRleCk7XHJcblxyXG4gICAgICAgICAgaWYgKCFyZW1vdmVFdmVudExpc3RlbmVycy5jb3VudCkge1xyXG4gICAgICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHJlbW92ZUV2ZW50TGlzdGVuZXJzLnByb3AoJ2xpc3RlbmVyJyksIGZhbHNlKTtcclxuICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMuZGVsZXRlKCdsaXN0ZW5lcicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFsbExpc3RlbmVycy5wcm9wKGV2ZW50LCAoYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpIHx8IG5ldyBBcnIoKSkucHVzaChyZW1vdmVMaXN0ZW5lcikpO1xyXG5cclxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVycy5hc3NpZ24oe1xyXG4gICAgICAgICAgaW5kZXg6IGluZGV4ICsgMSxcclxuICAgICAgICAgIFtpbmRleF06IHtcclxuICAgICAgICAgICAgc2VsZWN0b3IsXHJcbiAgICAgICAgICAgIGxpc3RlbmVyLFxyXG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lclxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhldmVudCkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgIGl0ZXJhdGUoZXZlbnQuc3BsaXQoZXZlbnRTZXBhcmF0b3IpLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFsbExpc3RlbmVycy5oYXMoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgYWxsTGlzdGVuZXJzLnByb3AoZXZlbnQpLmZvckVhY2goKHJlbW92ZUxpc3RlbmVyKSA9PiByZW1vdmVMaXN0ZW5lcigpKTtcclxuICAgICAgICAgICAgICBhbGxMaXN0ZW5lcnMuZGVsZXRlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgYWxsTGlzdGVuZXJzLmZvckVhY2goKHJlbW92ZUxpc3RlbmVycykgPT4ge1xyXG4gICAgICAgIHJlbW92ZUxpc3RlbmVycy5mb3JFYWNoKChyZW1vdmVMaXN0ZW5lcikgPT4gcmVtb3ZlTGlzdGVuZXIoKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge051bWJlcn0gRWxlbSNvdXRlckhlaWdodFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggaGVpZ2h0IHRoZSBlbGVtZW50IGFjdHVhbGx5IGlzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLmNzcyh7XHJcbiAgICogICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcclxuICAgKiAgIGhlaWdodDogJzIwMHB4JyxcclxuICAgKiAgIHBhZGRpbmdUb3A6ICcycHgnLFxyXG4gICAqICAgcGFkZGluZ0JvdHRvbTogJzNweCcsXHJcbiAgICogICBib3JkZXJUb3A6ICcxcHggc29saWQgYmxhY2snLFxyXG4gICAqICAgYm9yZGVyQm90dG9tOiAnNHB4IHNvbGlkIGJsYWNrJ1xyXG4gICAqICAgbWFyZ2luVG9wOiAnMHB4JyxcclxuICAgKiAgIG1hcmdpbkJvdHRvbTogJzVweCdcclxuICAgKiB9KS5vdXRlckhlaWdodDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJIZWlnaHQ7IC8vIDIxNVxyXG4gICAqIGVsZW1cclxuICAgKiAgIC5jc3MoJ2JveC1zaXppbmcnLCAncGFkZGluZy1ib3gnKVxyXG4gICAqICAgLm91dGVySGVpZ2h0OyAvLyAyMTBcclxuICAgKi9cclxuICBnZXQgb3V0ZXJIZWlnaHQoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlckhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGJvcmRlclRvcFdpZHRoLFxyXG4gICAgICBib3JkZXJCb3R0b21XaWR0aCxcclxuICAgICAgYm94U2l6aW5nLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIG1hcmdpblRvcCxcclxuICAgICAgbWFyZ2luQm90dG9tLFxyXG4gICAgICBwYWRkaW5nVG9wLFxyXG4gICAgICBwYWRkaW5nQm90dG9tXHJcbiAgICB9ID0gdGhpcy5jYWxjQ1NTKCk7XHJcbiAgICBjb25zdCBib3JkZXJzID0gcHgoYm9yZGVyVG9wV2lkdGgpICsgcHgoYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgY29uc3QgcGFkZGluZ3MgPSBweChwYWRkaW5nVG9wKSArIHB4KHBhZGRpbmdCb3R0b20pO1xyXG5cclxuICAgIHJldHVybiBweChoZWlnaHQpICsgcHgobWFyZ2luVG9wKSArIHB4KG1hcmdpbkJvdHRvbSkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtOdW1iZXJ9IEVsZW0jb3V0ZXJXaWR0aFxyXG4gICAqIEB0eXBlIHtOdW1iZXJ9XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqIEBkZXNjcmlwdGlvbiBHZXR0ZXIgZm9yIGZpbmRpbmcgaG93IG11Y2ggd2lkdGggdGhlIGVsZW1lbnQgYWN0dWFsbHkgaXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uY3NzKHtcclxuICAgKiAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxyXG4gICAqICAgd2lkdGg6ICcyMDBweCcsXHJcbiAgICogICBwYWRkaW5nTGVmdDogJzJweCcsXHJcbiAgICogICBwYWRkaW5nUmlnaHQ6ICczcHgnLFxyXG4gICAqICAgYm9yZGVyTGVmdDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICogICBib3JkZXJSaWdodDogJzRweCBzb2xpZCBibGFjaydcclxuICAgKiAgIG1hcmdpbkxlZnQ6ICcwcHgnLFxyXG4gICAqICAgbWFyZ2luUmlnaHQ6ICc1cHgnXHJcbiAgICogfSkub3V0ZXJXaWR0aDsgLy8gMjA1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdjb250ZW50LWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjE1XHJcbiAgICogZWxlbVxyXG4gICAqICAgLmNzcygnYm94LXNpemluZycsICdwYWRkaW5nLWJveCcpXHJcbiAgICogICAub3V0ZXJXaWR0aDsgLy8gMjEwXHJcbiAgICovXHJcbiAgZ2V0IG91dGVyV2lkdGgoKSB7XHJcbiAgICBjb25zdCBlbGVtID0gdGhpcy4kWzBdO1xyXG5cclxuICAgIGlmIChpc1dpbmRvdyhlbGVtKSkge1xyXG4gICAgICByZXR1cm4gZWxlbS5vdXRlcldpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgYm9yZGVyTGVmdFdpZHRoLFxyXG4gICAgICBib3JkZXJSaWdodFdpZHRoLFxyXG4gICAgICBib3hTaXppbmcsXHJcbiAgICAgIG1hcmdpbkxlZnQsXHJcbiAgICAgIG1hcmdpblJpZ2h0LFxyXG4gICAgICBwYWRkaW5nTGVmdCxcclxuICAgICAgcGFkZGluZ1JpZ2h0LFxyXG4gICAgICB3aWR0aFxyXG4gICAgfSA9IHRoaXMuY2FsY0NTUygpO1xyXG4gICAgY29uc3QgYm9yZGVycyA9IHB4KGJvcmRlckxlZnRXaWR0aCkgKyBweChib3JkZXJSaWdodFdpZHRoKTtcclxuICAgIGNvbnN0IHBhZGRpbmdzID0gcHgocGFkZGluZ0xlZnQpICsgcHgocGFkZGluZ1JpZ2h0KTtcclxuXHJcbiAgICByZXR1cm4gcHgod2lkdGgpICsgcHgobWFyZ2luTGVmdCkgKyBweChtYXJnaW5SaWdodCkgKyBvdXRlclN3aXRjaGVyKGJveFNpemluZywgW2JvcmRlcnMsIHBhZGRpbmdzXSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcGFyZW50XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHJldHVybnMgd3JhcCBvZiB0aGUgc2V0IG9mIHRoZSBwYXJlbnQgZWxlbWVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICovXHJcbiAgcGFyZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMub2JqZWN0KChlbGVtcywgZWxlbSkgPT4gZWxlbXMuYWRkKGVsZW0ucGFyZW50Tm9kZSksIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3BhcmVudFRyZWVcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0VsZW19IE5ldyBpbnN0YW5jZSBvZiBFbGVtLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIHdyYXAgb2YgYWxsIHBhcmVudHMgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ucGFyZW50VHJlZSgpOyAvLyBFbGVtXHJcbiAgICovXHJcbiAgcGFyZW50VHJlZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgd2hpbGUgKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpIHtcclxuICAgICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICAgIH1cclxuICAgIH0sIG5ldyBFbGVtKCkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3ByZXZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWxlY3RvciA9IG51bGxdIC0gSWYgcHJlc2VudCwgZmluZHMgcHJldmlvdXMgZWxlbWVudCB0byBldmVyeSBlbGVtIHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXHJcbiAgICogSWYgbm90LCBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBmaW5kaW5nIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0ubmV4dCgpOyAgICAgICAvLyBmaW5kcyBwcmV2aW91cyBlbGVtZW50IHRvIGVhY2ggZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogZWxlbS5uZXh0KCcuZm9vJyk7IC8vIGZpbmRzIHByZXZpb3VzIGVsZW1lbnQgdG8gZWFjaCBlbGVtZW50IHRoYXQgaGFzICdmb28nIGNsYXNzXHJcbiAgICovXHJcbiAgcHJldihzZWxlY3RvciA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0pID0+IHtcclxuICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXHJcbiAgICAgIHdoaWxlIChlbGVtID0gZWxlbS5wcmV2aW91c1NpYmxpbmcpIHtcclxuICAgICAgICBpZiAobmV3IEVsZW0oZWxlbSkuaXMoc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZWxlbXMuYWRkKGVsZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcHJvcFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgRWxlbVZhbHVlQ2FsbGJhY2t8Kj59IHByb3BlcnR5IC0gRWl0aGVyIGEgc3RyaW5nIG9mIGEgcHJvcGVydHkgb3IgYW4gYXNzaWduZWQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7RWxlbVZhbHVlQ2FsbGJhY2t8Kn0gW3ZhbHVlXSAtIElmIGEgcHJvcGVydHkgcGFyYW1ldGVyIGlzIGEgc3RyaW5nXHJcbiAgICogdGhpcyBoYXMgdG8gYmUgYW4gYXNzaWduZWQgdmFsdWUgaWYgaXQncyBwcmVzZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfCp9IFJldHVybnMgdGhpcyBpZiBpdCdzIHNldHRlciBvciBhIHZhbHVlIGlmIGdldHRlci5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHRoYXQgaXMgZWl0aGVyIGEgcHJvcGVydHkgZ2V0dGVyIGZvciB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0XHJcbiAgICogb3IgYSBzZXR0ZXIgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnLCBmYWxzZSk7XHJcbiAgICogZWxlbS5wcm9wKCdkcmFnZ2FibGUnKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBwcm9wKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSAmJiBpc1N0cmluZyhwcm9wZXJ0eSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuJFswXSA/IHRoaXMuJFswXVtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICBwcm9wZXJ0eSA9IHsgW3Byb3BlcnR5XTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBpdGVyYXRlKHByb3BlcnR5LCAodmFsdWUsIHByb3ApID0+IHtcclxuICAgICAgICBlbGVtW3Byb3BdID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZShlbGVtW3Byb3BdLCBlbGVtLCBpbmRleCkgOiB2YWx1ZTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZWZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbVZhbHVlQ2FsbGJhY2t9IFtsaW5rXSAtIElmIGl0J3MgcHJlc2VudCBsaW5rIHRvIGEgcmVzb3VyY2UuXHJcbiAgICogQHJldHVybnMge0VsZW18U3RyaW5nfSBJZiB0aGUgbGluayBhcmd1bWVudCBpc24ndCBwcmVzZW50IGl0J3MgYSBnZXR0ZXIgb2YgdGhlICdzcmMnIGF0dHJpYnV0ZVxyXG4gICAqIGZvciB0aGUgb25lIG9mIGZvbGxvd2luZyBlbGVtZW50czogaW1nLCBzY3JpcHQsIGlmcmFtZSwgYXVkaW8sIHZpZGVvOyBvZiB0aGUgJ2FjdGlvbicgYXR0cmlidXRlXHJcbiAgICogZm9yIGEgZm9ybSBlbGVtZW50IGFuZCBvZiB0aGUgJ2hyZWYnIGF0dHJpYnV0ZSBmb3IgdGhlIHJlc3QuIElmIGl0J3MgcHJlc2VudCBpdCdzIGEgc2V0dGVyXHJcbiAgICogb2YgdGhlIHNhbWUgYXR0cmlidXRlIGZvciBhbGwgdGhlIGVsZW1lbnQgaW4gdGhlIHNldC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHJlc291cmNlcyBsaW5rcyBhbmQgc2V0dGluZyB0aGVtLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlZignL3NvbWUvY29vbC9pbWFnZS5wbmcnKTtcclxuICAgKiBlbGVtLnJlZigpOyAvLyAnL3NvbWUvY29vbC9pbWFnZS5wbmcnXHJcbiAgICovXHJcbiAgcmVmKGxpbmspIHtcclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKHJlZlN3aXRjaGVyKHRoaXMubmFtZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgZWxlbSA9IG5ldyBFbGVtKGVsZW0pO1xyXG5cclxuICAgICAgZWxlbS5hdHRyKHJlZlN3aXRjaGVyKGVsZW0ubmFtZSksIGxpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBzZXQgZnJvbSB0aGUgZG9jdW1lbnQuXHJcbiAgICogTm90ZTogaXQgZG9lc24ndCByZW1vdmUgdGhlbSBmcm9tIHRoZSBzZXQgc28gd2F0Y2ggb3V0IGZvciB0aGUgbWVtb3J5IGxlYWtzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZSgpO1xyXG4gICAqL1xyXG4gIHJlbW92ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jcmVtb3ZlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXR0cmlidXRlcyAtIEF0dHJpYnV0ZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBhdHRyaWJ1dGVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUF0dHIoJ2ZvbycsICdiYXInLCAnYmF6Jyk7XHJcbiAgICovXHJcbiAgcmVtb3ZlQXR0ciguLi5hdHRyaWJ1dGVzKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGlmICghaXNFbGVtZW50KGVsZW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRlKGFyZ3VtZW50cywgKGF0dHIpID0+IHtcclxuICAgICAgICBjb25zdCBucyA9IGF0dHJOU1N3aXRjaGVyKGF0dHIsIFtuZXcgRWxlbShlbGVtKV0pO1xyXG5cclxuICAgICAgICBpZiAoaXNOdWxsKG5zKSkge1xyXG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlTlMobnMsIGF0dHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSNyZW1vdmVDbGFzc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gY2xhc3NlcyAtIENsYXNzZXMgdG8gcmVtb3ZlLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIFJlbW92ZXMgYWxsIHRoZSBjbGFzc2VzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNsYXNzKCdmb28nLCAnYmFyJywgJ2JheicpO1xyXG4gICAqL1xyXG4gIHJlbW92ZUNsYXNzKC4uLmNsYXNzZXMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgY29uc3QgbGlzdCA9IGVsZW0uY2xhc3NMaXN0O1xyXG5cclxuICAgICAgaXRlcmF0ZShpc0VsZW1lbnQoZWxlbSkgJiYgYXJndW1lbnRzLCAoY2xzKSA9PiBsaXN0LnJlbW92ZShjbHMpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlbW92ZUNTU1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gcHJvcHMgLSBDU1MgcHJvcGVydGllcyB0byByZW1vdmUuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyBhbGwgdGhlIENTUyBwcm9wZXJ0aWVzIGZyb20gYXJndW1lbnRzIGZyb20gYWxsIHRoZSBlbGVtZW50cyBpbiB0aGUgc2V0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlbW92ZUNTUygnZGlzcGxheScsICdwb3NpdGlvbicsICdtYXJnaW4nKTtcclxuICAgKi9cclxuICByZW1vdmVDU1MoLi4ucHJvcHMpIHtcclxuICAgIHJldHVybiB0aGlzLmZvckVhY2goKGVsZW0pID0+IHtcclxuICAgICAgaWYgKCFpc0VsZW1lbnQoZWxlbSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoY3NzKSA9PiB7XHJcbiAgICAgICAgZWxlbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShjc3MpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3JlcGxhY2VcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RWxlbXxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byByZXBsYWNlIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXRcclxuICAgKiB3aXRoIGEgc2V0IG9mIGVsZW1lbnRzIHNwZWNpZmllZCBieSB0aGUgYXJndW1lbnQgKEVsZW1lbnQsIHNldCBvZiBlbGVtZW50cyBvciBhIHNlbGVjdG9yIG9mIHRoZW0pLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBSZXR1cm5zIHRoaXMuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBpcyBzaW1pbGFyIHRvXHJcbiAgICogW05vZGUjcmVwbGFjZUNoaWxkXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvTm9kZS9yZXBsYWNlQ2hpbGR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnJlcGxhY2UoZWxlbTIpO1xyXG4gICAqIGVsZW0ucmVwbGFjZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKSk7XHJcbiAgICogZWxlbS5yZXBsYWNlKCcjaWQgZGl2LmMxJyk7XHJcbiAgICovXHJcbiAgcmVwbGFjZShlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0gdG9GaW5kKGVsZW1lbnQpO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZmlyc3QoKS5wYXJlbnQoKTtcclxuXHJcbiAgICBpZiAoIXBhcmVudC5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGVsZW0gPSBwYXJlbnQ7XHJcbiAgICBsZXQgbWV0aG9kID0gJ2ludG8nO1xyXG4gICAgY29uc3QgbmV4dCA9IHRoaXMubmV4dCgpLmZpcnN0KCkuJFswXTtcclxuICAgIGNvbnN0IHByZXYgPSB0aGlzLnByZXYoKS5maXJzdCgpLiRbMF07XHJcblxyXG4gICAgaWYgKG5leHQpIHtcclxuICAgICAgZWxlbSA9IG5leHQ7XHJcbiAgICAgIG1ldGhvZCA9ICdpbnNlcnRCZWZvcmUnO1xyXG4gICAgfSBlbHNlIGlmIChwcmV2KSB7XHJcbiAgICAgIGVsZW0gPSBwcmV2O1xyXG4gICAgICBtZXRob2QgPSAnaW5zZXJ0QWZ0ZXInO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZmlyc3QoKS5yZW1vdmUoKTtcclxuXHJcbiAgICBlbGVtZW50W21ldGhvZF0oZWxlbSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2V0T2ZcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBIVE1MIGVsZW1lbnQgdHlwZS5cclxuICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R8QXJyYXkuPCo+fSBpdGVyYXRvciAtIEEgbnVtYmVyIChob3cgbWFueSBlbGVtZW50cyB0byBjcmVhdGUgaW5zaWRlIGVhY2ggZWxlbWVudCksXHJcbiAgICogYW4gb2JqZWN0IG9yIGFuIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cclxuICAgKiBAcGFyYW0ge0VsZW1TZXRPZkNhbGxiYWNrfSBjYWxsYmFja1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIGNyZWF0aW5nIHNldCBvZiBlbGVtZW50cyBpbnNpZGUgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQgYmFzZWQgb24gYW4gYXJyYXkgb3IgYW4gb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiB0YWJsZS5zZXRPZigndHInLCBbWzEsIDJdLCBbMywgNF0sIFs1LCA2XV0sIChyb3csIGFycmF5KSA9PiB7XHJcbiAgICogICBEKHJvdykuc2V0T2YoJ3RkJywgYXJyYXksIChjb2wsIG51bWJlcikgPT4ge1xyXG4gICAqICAgICBEKGNvbCkudGV4dChudW1iZXIpO1xyXG4gICAqICAgfSk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgc2V0T2YodHlwZSwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XHJcbiAgICB2YWxpZGF0ZSh7IDI6IGNhbGxiYWNrIH0sIHsgMjogWydmdW5jdGlvbiddIH0sICdFbGVtI3NldE9mJyk7XHJcblxyXG4gICAgaXRlcmF0b3IgPSBuZXcgU3VwZXIoaXRlcmF0b3IpLiQ7XHJcblxyXG4gICAgaWYgKGlzTnVtYmVyKGl0ZXJhdG9yKSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhbGlkYXRlKHsgMTogaXRlcmF0b3IgfSwgeyAxOiBbJ2ludExpa2UnLCAnPj0wJ10gfSwgJ0VsZW0jc2V0T2YnKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignMm5kIGFyZ3VtZW50IG11c3QgYmUgZWl0aGVyIG9yIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBvciBvYmplY3QhIChhdCBFbGVtI3NldE9mKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdGVyYXRvciA9IGFycmF5KGl0ZXJhdG9yKS4kO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLm9iamVjdCgoZWxlbXMsIGVsZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgIGl0ZXJhdGUoaXRlcmF0b3IsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlZCA9IG5ldyBFbGVtKGVsZW0pLmNyZWF0ZSh0eXBlKTtcclxuXHJcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlZC4kWzBdLCB2YWx1ZSwga2V5LCBpdGVyYXRvciwgZWxlbSwgaW5kZXgpO1xyXG5cclxuICAgICAgICBlbGVtcy5hZGQoY3JlYXRlZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgbmV3IEVsZW0oKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jc2hvd1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG93cyBhbGwgZWxlbWVudHMgaW4gdGhlIHNldC5cclxuICAgKiBJZiBhbiBlbGVtZW50IHdhcyBoaWRkZW4gdXNpbmcge0BsaW5rIEVsZW0jaGlkZX0gcHJldmlvdXMgZGlzcGxheSBpcyBzZXQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0uc2hvdygpO1xyXG4gICAqL1xyXG4gIHNob3coKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgZHdheW5lRGF0YSB9ID0gZWxlbTtcclxuXHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChlbGVtLmNzcygnZGlzcGxheScpLmluZGV4T2YoJ25vbmUnKSA9PT0gMCkge1xyXG4gICAgICAgIGVsZW0uY3NzKCdkaXNwbGF5JywgZHdheW5lRGF0YS5wcmV2aW91c0Rpc3BsYXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkd2F5bmVEYXRhLnByZXZpb3VzRGlzcGxheSA9ICcnO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdGV4dFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtVmFsdWVDYWxsYmFja3wqfSBbdGV4dF0gLSBUZXh0IHRvIHdyaXRlIGluc3RlYWQgb2YgY3VycmVudCB0ZXh0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB0ZXh0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgcmV0dXJuZWQuXHJcbiAgICogT3RoZXJ3aXNlIGFsbCBlbGVtZW50cyB0ZXh0cyBpbiB0aGUgc2V0IGFyZSBzZXQgdG8gdGhlIHRleHQgYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB0ZXh0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRleHQoJzEyMycpO1xyXG4gICAqIGVsZW0udGV4dCgpOyAvLyAnMTIzJ1xyXG4gICAqL1xyXG4gIHRleHQodGV4dCkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnByb3AodGV4dFByb3BlcnR5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCB0eHQgPSBlbGVtW3RleHRQcm9wZXJ0eV07XHJcblxyXG4gICAgICBuZXcgRWxlbShlbGVtKS5wcm9wKFxyXG4gICAgICAgIHRleHRQcm9wZXJ0eSxcclxuICAgICAgICBpc0Z1bmN0aW9uKHRleHQpXHJcbiAgICAgICAgICA/IHRleHQodHh0LCBlbGVtLCBpbmRleClcclxuICAgICAgICAgIDogdGV4dFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciAtIEF0dHJpYnV0ZSB0byB0b2dnbGUuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufCp9IFtjb25kaXRpb25dIC0gSWYgcHJlc2VudCBhbmQgdGhlIGNvbmRpdGlvbiBpcyB0cnV0aHkgbWV0aG9kIGFkZHMgdGhlIGF0dHJpYnV0ZVxyXG4gICAqIHdpdGggdGhlICcnIHZhbHVlIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS4gSWYgbm90IHByZXNlbnQgbWV0aG9kIGFkZHNcclxuICAgKiB0aGUgYXR0cmlidXRlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYW5kIHJlbW92ZXMgaWYgaXQgZG9lcy5cclxuICAgKiBAcmV0dXJucyB7RWxlbX0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHRvZ2dsaW5nIGF0dHJpYnV0ZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicpO1xyXG4gICAqIGVsZW0udG9nZ2xlQXR0cignYXR0cicsIHNvbWVDb25kaXRpb24pO1xyXG4gICAqL1xyXG4gIHRvZ2dsZUF0dHIoYXR0ciwgY29uZGl0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoKChlbGVtKSA9PiB7XHJcbiAgICAgIGVsZW0gPSBuZXcgRWxlbShlbGVtKTtcclxuXHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICFlbGVtLmhhc0F0dHIoYXR0cikgOiBjb25kaXRpb24pIHtcclxuICAgICAgICBlbGVtLmF0dHIoYXR0ciwgJycpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jdG9nZ2xlQXR0clxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xzIC0gQ2xhc3MgdG8gdG9nZ2xlLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbY29uZGl0aW9uXSAtIElmIHByZXNlbnQgYW5kIHRoZSBjb25kaXRpb24gaXMgdHJ1dGh5IG1ldGhvZCBhZGRzIHRoZSBjbGFzc1xyXG4gICAqIGFuZCBpZiBmYWxzZXkgbWV0aG9kIHJlbW92ZXMgdGhlIGNsYXNzLiBJZiBub3QgcHJlc2VudCBtZXRob2QgYWRkc1xyXG4gICAqIHRoZSBjbGFzcyBpZiBpdCBkb2Vzbid0IGV4aXN0IGFuZCByZW1vdmVzIGlmIGl0IGRvZXMuXHJcbiAgICogQHJldHVybnMge0VsZW19IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciB0b2dnbGluZyBjbGFzc2VzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnKTtcclxuICAgKiBlbGVtLnRvZ2dsZUNsYXNzKCdjbHMnLCBzb21lQ29uZGl0aW9uKTtcclxuICAgKi9cclxuICB0b2dnbGVDbGFzcyhjbHMsIGNvbmRpdGlvbikge1xyXG4gICAgcmV0dXJuIChhcmd1bWVudHMubGVuZ3RoIDwgMiA/ICF0aGlzLmhhc0NsYXNzKGNscykgOiBjb25kaXRpb24pXHJcbiAgICAgID8gdGhpcy5hZGRDbGFzcyhjbHMpXHJcbiAgICAgIDogdGhpcy5yZW1vdmVDbGFzcyhjbHMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHRvU3RyaW5nVGFnKCkge1xyXG4gICAgcmV0dXJuIHRvU3RyaW5nVGFnKHRoaXMuJCQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBFbGVtI3VwXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gW2xldmVsID0gMV0gLSBXaGF0IGxldmVsIHVwIGFsb25nIHRoZSB0cmVlIHNob3VsZCBiZSB0aGUgcGFyZW50LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlcyBhIGNvbGxlY3Rpb24gb2YgcGFyZW50cyBvZiBsZXZlbCAmbHQ7bGV2ZWwmZ3Q7LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBlbGVtLnVwKCk7XHJcbiAgICogZWxlbS51cCgyKTtcclxuICAgKi9cclxuICB1cChsZXZlbCA9IDEpIHtcclxuICAgIHZhbGlkYXRlKFtsZXZlbF0sIFtbJ2ludExpa2UnLCAnPj0wJ11dLCAnRWxlbSN1cCcpO1xyXG5cclxuICAgIGxldmVsID0gTnVtYmVyKGxldmVsKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5vYmplY3QoKGVsZW1zLCBlbGVtKSA9PiB7XHJcbiAgICAgIGxldCBuID0gbGV2ZWw7XHJcblxyXG4gICAgICB3aGlsZSAobi0tICYmIGVsZW0pIHtcclxuICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlbGVtcy5hZGQoZWxlbSk7XHJcbiAgICB9LCBuZXcgRWxlbSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRWxlbSN2YWxpZGF0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1ZhbGlkYXRlQ2FsbGJhY2t9IFt2YWxpZGF0b3JdIC0gSWYgcHJlc2VudCwgZnVuY3Rpb24gdGhhdCB2YWxpZGF0ZXMgaW5wdXRzLlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfE9iamVjdC48U3RyaW5nLCBFcnJvcnwqPnxudWxsfVxyXG4gICAqIElmIGEgY2FsbGJhY2sgYXJndW1lbnQgcHJvdmlkZWQgcmV0dXJucyB0aGlzLiBJZiBubyBhcmd1bWVudHMgcHJvdmlkZWQgcmV0dXJucyBlaXRoZXIgYW4gb2JqZWN0XHJcbiAgICogd2l0aCBpbnB1dCBuYW1lcyBrZXlzIGFuZCBlcnJvcnMgdmFsdWVzIG9yIG51bGwgaWYgbm8gZXJyb3JzIGZvdW5kLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiBhIGNhbGxiYWNrIGFyZ3VtZW50IHByb3ZpZGVkIGFkZHMgaXQgdG8gdGhlIGVsZW1lbnQgdmFsaWRhdG9ycyBsaXN0LlxyXG4gICAqIElmIG5vIGFyZ3VtZW50cyBwcm92aWRlZCB2YWxpZGF0ZXMgZXZlcnkgaW5wdXQgZWxlbWVudCBpbiB0aGUgc2V0IHdpdGggaXRzIG93biBmdW5jdGlvbnMuXHJcbiAgICogSWYgYW4gZWxlbWVudCBpcyBhIGZvcm0gaXQgdmFsaWRhdGVzIGFsbCBpbnB1dCBlbGVtZW50cyBpbnNpZGUgaXQuIEFmdGVyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICogZmlyZXMgJ3ZhbGlkYXRlJyBldmVudCB3aXRoICd2YWxpZCcgYW5kICdlcnJvcicgKGlmIGZvcm0gaXQncyBlcnJvcnMpIHByb3BlcnRpZXMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGZvcm0ub24oJ2lucHV0IGNoYW5nZScsICdpbnB1dCcsICh2YWx1ZSwgaW5wdXQpID0+IHtcclxuICAgKiAgIGlucHV0ID0gRChpbnB1dCk7XHJcbiAgICpcclxuICAgKiAgIGlmIChOdW1iZXIodmFsdWUpICUgMykge1xyXG4gICAqICAgICBpbnB1dC5hZGRDbGFzcygnaW52YWxpZCcpO1xyXG4gICAqXHJcbiAgICogICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlIHNob3VsZCBiZSBkaXZpZGVkIGJ5IDMhJyk7XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIGlucHV0LnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgdmFsaWRhdGUodmFsaWRhdG9yKSB7XHJcbiAgICB2YWxpZGF0ZShbdmFsaWRhdG9yXSwgWydmdW5jdGlvbnx8ISddLCAnRWxlbSN2YWxpZGF0ZScpO1xyXG5cclxuICAgIGlmICh2YWxpZGF0b3IpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgoeyBkd2F5bmVEYXRhIH0pID0+IHtcclxuICAgICAgICBkd2F5bmVEYXRhLnZhbGlkYXRvcnMucHVzaCh2YWxpZGF0b3IpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlcnJvcnMgPSBuZXcgU3VwZXIoeyBlcnJvcnM6IG51bGwgfSk7XHJcblxyXG4gICAgdGhpc1xyXG4gICAgICAuZmlsdGVyKGAkeyBpbnB1dEVsZW1lbnRzIH0sIGZvcm1gKVxyXG4gICAgICAuZm9yRWFjaCgoZWxlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZ2V0TmFtZShlbGVtKSA9PT0gJ2Zvcm0nKSB7XHJcbiAgICAgICAgICBsZXQgZm9ybUVycm9ycyA9IHsgZXJyb3JzOiBudWxsIH07XHJcbiAgICAgICAgICBjb25zdCBmb3JtID0gbmV3IEVsZW0oZWxlbSk7XHJcbiAgICAgICAgICBjb25zdCBpbnB1dHMgPSBmb3JtLmZpbmQoaW5wdXRFbGVtZW50cyk7XHJcblxyXG4gICAgICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3JXcmFwKGlucHV0LCBpbmRleCwgZm9ybUVycm9ycyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBlcnJvcnMuZGVlcEFzc2lnbihmb3JtRXJyb3JzKTtcclxuXHJcbiAgICAgICAgICBmb3JtRXJyb3JzID0gZm9ybUVycm9ycy5lcnJvcnM7XHJcblxyXG4gICAgICAgICAgZm9ybS5kaXNwYXRjaCgndmFsaWRhdGUnLCB7fSwge1xyXG4gICAgICAgICAgICB2YWxpZDogIWZvcm1FcnJvcnMsXHJcbiAgICAgICAgICAgIGVycm9yczogZm9ybUVycm9yc1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVycm9yID0gKGZvcm1FcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdO1xyXG5cclxuICAgICAgICAgICAgbmV3IEVsZW0oaW5wdXQpLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICAgICAgdmFsaWQ6ICFpbnB1dEVycm9yLFxyXG4gICAgICAgICAgICAgIGVycm9yOiBpbnB1dEVycm9yIHx8IG51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbnB1dEVycm9yID0geyBlcnJvcnM6IG51bGwgfTtcclxuXHJcbiAgICAgICAgdmFsaWRhdG9yV3JhcChlbGVtLCBpbmRleCwgaW5wdXRFcnJvcik7XHJcbiAgICAgICAgZXJyb3JzLmRlZXBBc3NpZ24oaW5wdXRFcnJvcik7XHJcblxyXG4gICAgICAgIGlucHV0RXJyb3IgPSAoaW5wdXRFcnJvci5lcnJvcnMgfHwge30pW2VsZW0ubmFtZV07XHJcblxyXG4gICAgICAgIG5ldyBFbGVtKGVsZW0pLmRpc3BhdGNoKCd2YWxpZGF0ZScsIHt9LCB7XHJcbiAgICAgICAgICB2YWxpZDogIWlucHV0RXJyb3IsXHJcbiAgICAgICAgICBlcnJvcjogaW5wdXRFcnJvciB8fCBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRvcldyYXAoaW5wdXQsIGluZGV4LCBlcnJvcnMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkgJiYgIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5wdXQuZHdheW5lRGF0YS52YWxpZGF0b3JzLmZvckVhY2goKHZhbGlkYXRvcikgPT4ge1xyXG4gICAgICAgICAgdmFsaWRhdG9yKGlucHV0LnZhbHVlLCBpbnB1dCwgaW5kZXgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAoZXJyb3JzLmVycm9ycyA9IGVycm9ycy5lcnJvcnMgfHwge30pW2lucHV0Lm5hbWVdID0gZXJyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVycm9ycy5ldmVyeSgoZXJyb3IpID0+IGlzTnVsbChlcnJvcikpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlcnJvcnMuJC5lcnJvcnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEVsZW0jd2lkdGhcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsqfEVsZW1WYWx1ZUNhbGxiYWNrfSBbd2lkdGhdIC0gV2lkdGggdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtFbGVtfFN0cmluZ30gSWYgbm8gYXJndW1lbnRzIHBhc3NlZCB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHJldHVybmVkLlxyXG4gICAqIE90aGVyd2lzZSBhbGwgZWxlbWVudHMgd2lkdGhzIGluIHRoZSBzZXQgYXJlIHNldCB0byB0aGUgd2lkdGggYXJndW1lbnQuXHJcbiAgICogQGRlc2NyaXB0aW9uIEdldHMgb3Igc2V0cyB3aWR0aC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZWxlbS53aWR0aCgxMjMpO1xyXG4gICAqIGVsZW0ud2lkdGgoKTsgLy8gMTIzXHJcbiAgICovXHJcbiAgd2lkdGgod2lkdGgpIHtcclxuICAgIHJldHVybiB0aGlzLnByb3AuYXBwbHkodGhpcywgbmV3IEFycihhcmd1bWVudHMpLnVuc2hpZnQoJ3dpZHRoJykuJCk7XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKEVsZW0ucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdFbGVtJ1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IHdpblxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiB3aW5kb3cuXHJcbiAqL1xyXG5jb25zdCB3aW4gPSBuZXcgRWxlbShnbG9iYWwpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gZG9jXHJcbiAqIEB0eXBlIHtFbGVtfVxyXG4gKiBAcHVibGljXHJcbiAqIEBkZXNjcmlwdGlvbiBFbGVtIGluc3RhbmNlIG9mIGRvY3VtZW50LlxyXG4gKi9cclxuY29uc3QgZG9jID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdCB7RWxlbX0gaHRtbFxyXG4gKiBAdHlwZSB7RWxlbX1cclxuICogQHB1YmxpY1xyXG4gKiBAZGVzY3JpcHRpb24gRWxlbSBpbnN0YW5jZSBvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuXHJcbiAqL1xyXG5jb25zdCBodG1sID0gbmV3IEVsZW0obmF0aXZlRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGJvZHlcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuYm9keS5cclxuICovXHJcbmNvbnN0IGJvZHkgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5ib2R5KTtcclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0VsZW19IGhlYWRcclxuICogQHR5cGUge0VsZW19XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVsZW0gaW5zdGFuY2Ugb2YgZG9jdW1lbnQuaGVhZC5cclxuICovXHJcbmNvbnN0IGhlYWQgPSBuZXcgRWxlbShuYXRpdmVEb2N1bWVudC5oZWFkKTtcclxuXHJcbmNvbnN0IGVsZW1lbnRzID0gbmV3IEFycihodG1sRWxlbWVudHMpLmNvbmNhdChzdmdFbGVtZW50cykuJDtcclxuY29uc3QgcHJvcHMgPSBuZXcgQXJyKGVsZW1lbnRzKS5tYXAoKHR5cGUpID0+IG5ldyBTdHIodHlwZSkudG9DYW1lbENhc2UoKS4kKS4kO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIHByb3BzLCAoZWxlbSwgaSkgPT4gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLmNyZWF0ZS5hcHBseSh0aGlzLCBuZXcgQXJyKGFyZ3VtZW50cykudW5zaGlmdChlbGVtZW50c1tpXSkuJCk7XHJcbn0pO1xyXG5cclxuZHluYW1pY0RlZmluZVByb3BlcnRpZXMoRWxlbS5wcm90b3R5cGUsIGNhbnZhc0dldE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICByZXR1cm4gY3R4W21ldGhvZF0uYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xyXG4gIH1cclxufSk7XHJcblxyXG5keW5hbWljRGVmaW5lUHJvcGVydGllcyhFbGVtLnByb3RvdHlwZSwgY2FudmFzUmVzdE1ldGhvZHMsIChtZXRob2QpID0+IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjdHggPSB0aGlzLmN0eCgpO1xyXG5cclxuICBpZiAoY3R4KSB7XHJcbiAgICBjdHhbbWV0aG9kXS5hcHBseShjdHgsIGFyZ3VtZW50cyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHRvRmluZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR8RWxlbXxTdHJpbmd9IGVsZW0gLSBFbGVtZW50LCBzZWxlY3RvciBvZiBFbGVtZW50cyBvciBFbGVtLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gSW5zdGFuY2Ugb2YgRWxlbS5cclxuICovXHJcbmZ1bmN0aW9uIHRvRmluZChlbGVtKSB7XHJcbiAgaWYgKGlzRWxlbShlbGVtKSkge1xyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfVxyXG5cclxuICBpZiAoaXNTdHJpbmcoZWxlbSkpIHtcclxuICAgIGVsZW0gPSBmaW5kKGVsZW0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzRWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVmFsdWUgdG8gY2hlY2sgaWYgaXQncyBFbGVtLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBFbGVtIG9yIG5vdC5cclxuICovXHJcbmZ1bmN0aW9uIGlzRWxlbSh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNXaW5kb3dcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgV2luZG93LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIFdpbmRvdy5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIFdpbmRvdyBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1dpbmRvdyh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdXaW5kb3cnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzSFRNTERvY3VtZW50XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIEhUTUxEb2N1bWVudC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNIVE1MRG9jdW1lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnSFRNTERvY3VtZW50JztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnRcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBEb2N1bWVudEZyYWdtZW50LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudC5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RvY3VtZW50RnJhZ21lbnQodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmdUYWcodmFsdWUpID09PSAnRG9jdW1lbnRGcmFnbWVudCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gaXNTdHlsZVJ1bGVcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrIGlmIGl0J3MgYSBzdHlsZSBydWxlLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZS5cclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgaWYgdGhlIHZhbHVlIGlzIGEgc3R5bGUgcnVsZSBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1N0eWxlUnVsZSh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZ1RhZyh2YWx1ZSkgPT09ICdDU1NTdHlsZVJ1bGUnO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byBjaGVjayBpZiBpdCdzIENvbW1lbnQgb3IgVGV4dC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSB2YWx1ZSBpcyBIVE1MRG9jdW1lbnQuXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBDb21tZW50IG9yIFRleHQgb3Igbm90LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNDb21tZW50T3JUZXh0KHZhbHVlKSB7XHJcbiAgY29uc3QgdGFnID0gdG9TdHJpbmdUYWcodmFsdWUpO1xyXG5cclxuICByZXR1cm4gdGFnID09PSAnQ29tbWVudCcgfHwgdGFnID09PSAnVGV4dCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0RWxlbVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW19IGVsZW0gLSBFbGVtZW50IHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gVGhlIGFyZ3VtZW50IG9yIGEgZmFsbGJhY2sgaWYgbmVlZGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RWxlbShlbGVtKSB7XHJcbiAgcmV0dXJuIGlzRWxlbWVudChlbGVtLiRbMF0pID8gZWxlbS4kWzBdIDogZW1wdHlEaXY7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gZ2V0TmFtZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtXSAtIEVsZW1lbnQgd2hpY2ggbmFtZSBpcyBuZWVkZWQgdG8ga25vdy5cclxuICogQHJldHVybnMge1N0cmluZ30gRWxlbWVudCBuYW1lLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TmFtZShlbGVtKSB7XHJcbiAgcmV0dXJuIChlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB8fCAnJztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBhZGREd2F5bmVEYXRhXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSAtIEVsZW1lbnQgdG8gYWRkIGR3YXluZURhdGEgdG8uXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gYWRkRHdheW5lRGF0YShlbGVtKSB7XHJcbiAgaWYgKCF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVsZW0sICdkd2F5bmVEYXRhJykgJiYgIWlzV2luZG93KGVsZW0pKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBtZW1iZXIgRWxlbWVudCNkd2F5bmVEYXRhXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHByZXZpb3VzRGlzcGxheSAtIFBhcmFtZXRlciB1c2VkIGZvciBoaWRpbmcvc2hvd2luZyBlbGVtZW50cy5cclxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIFN1cGVyPn0gcmVtb3ZlTGlzdGVuZXJzIC0gUGFyYW1ldGVyIHVzZWQgZm9yIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAcHJvcGVydHkge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gW2N0eF0gLSBDYW52YXMgcmVuZGVyaW5nIGNvbnRleHQuXHJcbiAgICAgKiBAcHJvcGVydHkge0Fycn0gdmFsaWRhdG9ycyAtIFZhbGlkYXRvcnMgYXNzaWduZWQgdG8gZWxlbWVudC5cclxuICAgICAqIEBkZXNjcmlwdGlvbiBEIGRhdGEuXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtLCAnZHdheW5lRGF0YScsIHtcclxuICAgICAgdmFsdWU6IHtcclxuICAgICAgICBwcmV2aW91c0Rpc3BsYXk6ICcnLFxyXG4gICAgICAgIGxpc3RlbmVyczoge30sXHJcbiAgICAgICAgY3R4OiBnZXROYW1lKGVsZW0pID09PSAnY2FudmFzJyAmJiBlbGVtLmdldENvbnRleHQoJzJkJyksXHJcbiAgICAgICAgdmFsaWRhdG9yczogbmV3IEFycihbXSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyhlbGVtKSAmJiAhd2luZG93c0R3YXluZURhdGEuc29tZSgoeyBlbGVtZW50IH0pID0+IGVsZW1lbnQgPT09IGVsZW0pKSB7XHJcbiAgICB3aW5kb3dzRHdheW5lRGF0YS5wdXNoKHtcclxuICAgICAgZWxlbWVudDogZWxlbSxcclxuICAgICAgbGlzdGVuZXJzOiB7fVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdHJ1Y3RvcnNbMl0ucHVzaCh7XHJcbiAgY2hlY2s6IChlbGVtKSA9PiAoXHJcbiAgICBpc0VsZW1lbnQoZWxlbSkgfHxcclxuICAgIGlzV2luZG93KGVsZW0pIHx8XHJcbiAgICBpc0hUTUxEb2N1bWVudChlbGVtKSB8fFxyXG4gICAgaXNDb21tZW50T3JUZXh0KGVsZW0pIHx8XHJcbiAgICBpc0RvY3VtZW50RnJhZ21lbnQoZWxlbSkgfHxcclxuICAgIC9eKEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0KSQvLnRlc3QodG9TdHJpbmdUYWcoZWxlbSkpXHJcbiAgKSxcclxuICBjbHM6IEVsZW1cclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGZpbmRcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgLSBTZWxlY3RvciB0byBmaW5kLlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IFtiYXNlID0gZG9jdW1lbnRdIC0gQmFzZSB0byBmaW5kIGluLlxyXG4gKiBAcmV0dXJucyB7RWxlbX0gTmV3IGluc3RhbmNlIG9mIEVsZW0uXHJcbiAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gKiBbRG9jdW1lbnQjcXVlcnlTZWxlY3RvckFsbF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JBbGx9LlxyXG4gKi9cclxuZnVuY3Rpb24gZmluZChzZWxlY3RvciwgYmFzZSA9IG5hdGl2ZURvY3VtZW50KSB7XHJcbiAgcmV0dXJuIG5ldyBFbGVtKFxyXG4gICAgaXNFbGVtZW50KGJhc2UpIHx8IGlzSFRNTERvY3VtZW50KGJhc2UpXHJcbiAgICAgID8gYmFzZS5xdWVyeVNlbGVjdG9yQWxsKFN0cmluZyhzZWxlY3RvcikpXHJcbiAgICAgIDogW11cclxuICApO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHBhcnNlSFRNTFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBodG1sIC0gSFRNTCB0byBwYXJzZS5cclxuICogQHBhcmFtIHtCb29sZWFufSBbY29sbGFwc2VXaGl0ZVNwYWNlID0gZmFsc2VdIC0gSWYgdGhlIHdoaXRlc3BhY2Ugc2hvdWxkIGJlXHJcbiAqIGNvbGxhcHNlZCBkdXJpbmcgdGhlIHBhcnNpbmcuXHJcbiAqIEByZXR1cm5zIHtFbGVtfSBOZXcgaW5zdGFuY2Ugb2YgRWxlbS5cclxuICogQGRlc2NyaXB0aW9uIFBhcnNlcyBIVE1MIGFuZCByZXR1cm5zIGEgd3JhcCBvZiAjZG9jdW1lbnQtZnJhZ21lbnQgY29udGFpbmluZyB0aGUgY29udGVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHBhcnNlSFRNTCgnPGRpdj4xMjM8L2Rpdj4nKTsgLy8gRWxlbVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VIVE1MKGh0bWwsIGNvbGxhcHNlV2hpdGVTcGFjZSkge1xyXG4gIGNvbnN0IGpzb24gPSBtYXJrdXBUb0pTT04oaHRtbCwgY29sbGFwc2VXaGl0ZVNwYWNlKTtcclxuICBjb25zdCB0ZW1wbGF0ZSA9IGRvYy50ZW1wbGF0ZSgpO1xyXG4gIGNvbnN0IGVsZW0gPSBuZXcgRWxlbSh0ZW1wbGF0ZS4kWzBdLmNvbnRlbnQpO1xyXG5cclxuICBqc29uLmZvckVhY2goZnVuY3Rpb24gZm9yRWFjaE5vZGUobm9kZSkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBhdHRycyxcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH0gPSBub2RlO1xyXG5cclxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSBwYXJlbnQuZWxlbSB8fCBlbGVtO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHBhcmVudE5vZGUuY3JlYXRlKG5hbWUpO1xyXG5cclxuICAgIG5vZGUuZWxlbSA9IGVsZW1lbnQ7XHJcblxyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIGVsZW1lbnQudGV4dCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF0dHJzKSB7XHJcbiAgICAgIGVsZW1lbnQuYXR0cihhdHRycyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5hbWUgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgbm9kZS5lbGVtID0gbmV3IEVsZW0oZWxlbWVudC5wcm9wKCdjb250ZW50JykpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZvckVhY2hOb2RlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG5ldyBFbGVtKGVsZW0pO1xyXG59XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIHB4XHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBzaXplIC0gU3RyaW5nIGNvbnRhaW5pbmcgcGl4ZWxzIHZhbHVlIG9yIGEgbnVtYmVyLlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2YgcGl4ZWxzLlxyXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gZm9yIHBhcnNpbmcgcGl4ZWwgc3RyaW5ncy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogcHgoJzBweCcpOyAgLy8gMFxyXG4gKiBweCgnNDJweCcpOyAvLyA0MlxyXG4gKi9cclxuZnVuY3Rpb24gcHgoc2l6ZSkge1xyXG4gIHJldHVybiBOdW1iZXIoU3RyaW5nKHNpemUpLnJlcGxhY2UoL3B4JC8sICcnKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IEVsZW0sIHdpbiwgZG9jLCBodG1sLCBib2R5LCBoZWFkLCBmaW5kLCBwYXJzZUhUTUwsIHB4IH07XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRCbG9jayhCbG9jaykge1xyXG4gIGNsYXNzIERCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIiAvPic7XHJcblxyXG4gICAgZWxlbXMgPSBudWxsO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLiQkLnBhcmVudDtcclxuICAgICAgY29uc3QgeyBuYW1lIH0gPSB0aGlzLmFyZ3M7XHJcbiAgICAgIGxldCBmb3VuZDtcclxuXHJcbiAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgZm91bmQgPSBjaGlsZHJlbi5maW5kKCh7IG5hbWU6IG5vZGVOYW1lIH0pID0+IG5vZGVOYW1lID09PSBgZC1ibG9jay0keyBuYW1lIH1gKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kICYmIGZvdW5kLnZhbHVlLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1ibG9jaycsXHJcbiAgICB2YWx1ZTogREJsb2NrXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xyXG5pbXBvcnQgeyBFbGVtIH0gZnJvbSAnLi4vRWxlbSc7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFYWNoKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFYWNoIGV4dGVuZHMgQmxvY2sge1xyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBhcmdzOiB7XHJcbiAgICAgICAgICBpdGVtOiBpdGVtTmFtZSA9ICckaXRlbScsXHJcbiAgICAgICAgICBpbmRleDogaW5kZXhOYW1lID0gJyRpbmRleCdcclxuICAgICAgICB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG5cclxuICAgICAgYXNzaWduKHRoaXMuJCQsIHtcclxuICAgICAgICB1aWRzOiBuZXcgU3VwZXIoe30pLFxyXG4gICAgICAgIGl0ZW1zOiBuZXcgQXJyKFtdKSxcclxuICAgICAgICBVSUQ6IFN0cmluZyh0aGlzLmFyZ3MudWlkKSxcclxuICAgICAgICBpdGVtTmFtZSxcclxuICAgICAgICBpbmRleE5hbWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJSZW5kZXIoKSB7XHJcbiAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHRoaXMuYXJncy5zZXQpO1xyXG4gICAgICB0aGlzLndhdGNoQXJncygnc2V0JywgKHNldCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0VmFsdWVzKHNldCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdFZhbHVlcyhzZXQpIHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGVsZW1zOiB7XHJcbiAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdWlkcyxcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgIFVJRFxyXG4gICAgICB9ID0gdGhpcy4kJDtcclxuICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcztcclxuICAgICAgY29uc3QgJHVpZHMgPSB1aWRzLiQ7XHJcbiAgICAgIGNvbnN0IG5ld0tleXMgPSB7fTtcclxuICAgICAgY29uc3QgbmV3VUlEcyA9IHt9O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBzY29wZVtpdGVtTmFtZV0gPSBpdGVtO1xyXG4gICAgICAgIHNjb3BlW2luZGV4TmFtZV0gPSBpbmRleDtcclxuXHJcbiAgICAgICAgY29uc3QgdWlkID0gcGFyZW50LiQkLmV2YWx1YXRlKFN0cmluZyhVSUQpLCBudWxsLCBudWxsLCBmYWxzZSwgZmFsc2UsIHRoaXMpO1xyXG5cclxuICAgICAgICBuZXdLZXlzW3VpZF0gPSBuZXdLZXlzW3VpZF0gfHwge307XHJcbiAgICAgICAgbmV3S2V5c1t1aWRdW2luZGV4XSA9IHRydWU7XHJcbiAgICAgICAgbmV3VUlEc1tpbmRleF0gPSB1aWQ7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGVbaXRlbU5hbWVdID0gbnVsbDtcclxuICAgICAgc2NvcGVbaW5kZXhOYW1lXSA9IG51bGw7XHJcblxyXG4gICAgICB1aWRzLmZvckVhY2goKGl0ZW1zLCB1aWQpID0+IHtcclxuICAgICAgICBpZiAoIW5ld0tleXNbdWlkXSkge1xyXG4gICAgICAgICAgaXRlbXMuZm9yRWFjaCgoSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXRlbXMuc3BsaWNlKE9iamVjdC5rZXlzKG5ld0tleXNbdWlkXSkubGVuZ3RoKS5mb3JFYWNoKChJdGVtKSA9PiB7XHJcbiAgICAgICAgICBJdGVtLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGxldCBhZnRlciA9IHN0YXJ0O1xyXG5cclxuICAgICAgbmV3IFN1cGVyKHNldCkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCB1aWQgPSBuZXdVSURzW2luZGV4XTtcclxuICAgICAgICBsZXQgYmxvY2s7XHJcblxyXG4gICAgICAgIGlmICgkdWlkc1t1aWRdICYmICR1aWRzW3VpZF0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBibG9jayA9IG5ld0tleXNbdWlkXVtpbmRleF0gPSB1aWRzLiRbdWlkXS5zaGlmdCgpO1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaW5kZXhOYW1lXSA9IGluZGV4O1xyXG4gICAgICAgICAgYmxvY2suJCQuc2NvcGVbaXRlbU5hbWVdID0gaXRlbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYmxvY2sgPSBuZXdLZXlzW3VpZF1baW5kZXhdID0gY3JlYXRlQmxvY2soe1xyXG4gICAgICAgICAgICBub2RlOiB7XHJcbiAgICAgICAgICAgICAgaXRlbU5hbWUsXHJcbiAgICAgICAgICAgICAgaW5kZXhOYW1lLFxyXG4gICAgICAgICAgICAgIGl0ZW0sXHJcbiAgICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgICAgbmFtZTogJyNkLWl0ZW0nLFxyXG4gICAgICAgICAgICAgIGJsb2NrOiBwYXJlbnQsXHJcbiAgICAgICAgICAgICAgY2hpbGRyZW5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgICAgIHBhcmVudDogcGFyZW50RWxlbSxcclxuICAgICAgICAgICAgcGFyZW50QmxvY2s6IHRoaXMsXHJcbiAgICAgICAgICAgIHBhcmVudFNjb3BlOiBwYXJlbnRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgc3RhcnQsXHJcbiAgICAgICAgICBlbmRcclxuICAgICAgICB9ID0gYmxvY2suJCQuZWxlbXM7XHJcblxyXG4gICAgICAgIGlmIChzdGFydC5wcmV2KCkuJFswXSAhPT0gYWZ0ZXIuJFswXSkge1xyXG4gICAgICAgICAgY29uc3QgeyBjb250ZW50IH0gPSBibG9jay4kJC5lbGVtcztcclxuXHJcbiAgICAgICAgICBuZXcgRWxlbShbXHJcbiAgICAgICAgICAgIHN0YXJ0LFxyXG4gICAgICAgICAgICBjb250ZW50LFxyXG4gICAgICAgICAgICBlbmRcclxuICAgICAgICAgIF0pLmluc2VydEFmdGVyKGFmdGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFmdGVyID0gZW5kO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuJCQudWlkcyA9IG5ldyBTdXBlcihuZXdLZXlzKS5tYXAoKGl0ZW1zKSA9PiAoXHJcbiAgICAgICAgbmV3IFN1cGVyKGl0ZW1zKS52YWx1ZXMoKVxyXG4gICAgICApKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1lYWNoJyxcclxuICAgIHZhbHVlOiBERWFjaFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgRWxlbSB9IGZyb20gJy4uL0VsZW0nO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREVsZW1lbnRzKEJsb2NrLCBjcmVhdGVCbG9jaykge1xyXG4gIGNsYXNzIERFbGVtZW50cyBleHRlbmRzIEJsb2NrIHtcclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAodmFsdWUpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBjaGlsZHJlbixcclxuICAgICAgICAgIG1peGlucyxcclxuICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmUsXHJcbiAgICAgICAgICBlbGVtczoge1xyXG4gICAgICAgICAgICBzdGFydCxcclxuICAgICAgICAgICAgY29udGVudCxcclxuICAgICAgICAgICAgcGFyZW50XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHRoaXMuJCQ7XHJcbiAgICAgICAgbGV0IGFmdGVyID0gc3RhcnQ7XHJcblxyXG4gICAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICBjaGlsZC5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWl4aW5zLmZvckVhY2goKG1peGluKSA9PiB7XHJcbiAgICAgICAgICBtaXhpbi5yZW1vdmUodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29udGVudC5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kJC5jaGlsZHJlbiA9IG5ldyBBcnIoW10pO1xyXG4gICAgICAgIHRoaXMuJCQubWl4aW5zID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgdGhpcy4kJC53YXRjaGVyc1RvUmVtb3ZlID0gd2F0Y2hlcnNUb1JlbW92ZS5maWx0ZXIoKHsgd2F0Y2hlcnMsIHdhdGNoZXIsIGZvckRFbGVtZW50cyB9KSA9PiB7XHJcbiAgICAgICAgICBpZiAoZm9yREVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gd2F0Y2hlcnMuaW5kZXhPZih3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHdhdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0NvbnRlbnQgPSBuZXcgRWxlbSgpO1xyXG5cclxuICAgICAgICBuZXcgQXJyKHZhbHVlIHx8IFtdKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgYmxvY2sgPSBjcmVhdGVCbG9jayh7XHJcbiAgICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgICBhZnRlcixcclxuICAgICAgICAgICAgcGFyZW50LFxyXG4gICAgICAgICAgICBwYXJlbnRCbG9jazogdGhpcyxcclxuICAgICAgICAgICAgcGFyZW50U2NvcGU6IHRoaXNcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbXMgfSA9IGJsb2NrLiQkO1xyXG5cclxuICAgICAgICAgICAgYWZ0ZXIgPSBlbGVtcy5lbmQ7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChlbGVtcy5zdGFydCwgZWxlbXMuY29udGVudCwgZWxlbXMuZW5kKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFmdGVyID0gYmxvY2s7XHJcblxyXG4gICAgICAgICAgICBuZXdDb250ZW50LmFkZChibG9jayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJCQuZWxlbXMuY29udGVudCA9IG5ld0NvbnRlbnQ7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWVsZW1lbnRzJyxcclxuICAgIHZhbHVlOiBERWxlbWVudHNcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRJZihCbG9jaykge1xyXG4gIGNsYXNzIERJZiBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntlbGVtc31cIi8+JztcclxuXHJcbiAgICBpbmRleCA9IEluZmluaXR5O1xyXG4gICAgZWxlbXMgPSBudWxsO1xyXG4gICAgdmFsdWVzID0gdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkLCBpKSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGF0dHJzLFxyXG4gICAgICAgIGNoaWxkcmVuXHJcbiAgICAgIH0gPSBjaGlsZDtcclxuICAgICAgY29uc3QgY29uZCA9IHRoaXMuZXZhbHVhdGVBbmRXYXRjaChuYW1lID09PSAnZC1lbHNlJyA/ICd7dHJ1ZX0nIDogYXR0cnMuaWYgfHwgJ3t0cnVlfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIGlmICghIW5ld1ZhbHVlID09PSB0aGlzLnZhbHVlcy4kW2ldKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnZhbHVlcy4kW2ldID0gISFuZXdWYWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGkgPiB0aGlzLmluZGV4KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaSA8IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy52YWx1ZXMuZmluZChCb29sZWFuKTtcclxuXHJcbiAgICAgICAgaWYgKGZvdW5kKSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gZm91bmQua2V5O1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IHRoaXMuY2hpbGRyZW4uJFtmb3VuZC5rZXldLmNoaWxkcmVuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4ID0gSW5maW5pdHk7XHJcbiAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGNvbmQgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICB0aGlzLmluZGV4ID0gaTtcclxuICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb25kO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2QtaWYnLFxyXG4gICAgdmFsdWU6IERJZlxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREl0ZW0oQmxvY2spIHtcclxuICBjbGFzcyBESXRlbSBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntjaGlsZHJlbn1cIi8+JztcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnI2QtaXRlbScsXHJcbiAgICB2YWx1ZTogREl0ZW1cclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IEFyciB9IGZyb20gJy4uL0Fycic7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFN3aXRjaChCbG9jaykge1xyXG4gIGNsYXNzIERTd2l0Y2ggZXh0ZW5kcyBCbG9jayB7XHJcbiAgICBzdGF0aWMgdGVtcGxhdGUgPSAnPGQtZWxlbWVudHMgdmFsdWU9XCJ7ZWxlbXN9XCIvPic7XHJcblxyXG4gICAgaW5kZXggPSBJbmZpbml0eTtcclxuICAgIGVsZW1zID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XHJcbiAgICAgIHN1cGVyKG9wdHMpO1xyXG5cclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGFyZ3MsXHJcbiAgICAgICAgYXJnczogeyB2YWx1ZSB9XHJcbiAgICAgIH0gPSB0aGlzO1xyXG4gICAgICBsZXQgd2FzRGVmYXVsdDtcclxuXHJcbiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy5jaGlsZHJlbi5vYmplY3QoKHZhbHVlcywgY2hpbGQsIGkpID0+IHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgYXR0cnMsXHJcbiAgICAgICAgICBjaGlsZHJlblxyXG4gICAgICAgIH0gPSBjaGlsZDtcclxuXHJcbiAgICAgICAgaWYgKHdhc0RlZmF1bHQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYW1lICE9PSAnZC1jYXNlJyAmJiBuYW1lICE9PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWRlZmF1bHQnKSB7XHJcbiAgICAgICAgICB3YXNEZWZhdWx0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB2YWw7XHJcblxyXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1kZWZhdWx0Jykge1xyXG4gICAgICAgICAgdmFsID0gYXJncy52YWx1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFsID0gdGhpcy5ldmFsdWF0ZUFuZFdhdGNoKGF0dHJzLmlmIHx8ICd7dW5kZWZpbmVkfScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lcXVhbHModGhpcy52YWx1ZXMuJFtpXS52YWx1ZSwgbmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZhbHVlcy4kW2ldLnZhbHVlID0gbmV3VmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA+IHRoaXMuaW5kZXgpIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpIDwgdGhpcy5pbmRleCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgIHRoaXMuZWxlbXMgPSBjaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMudmFsdWVzLmZpbmQoKHsgdmFsdWUgfSkgPT4gKFxyXG4gICAgICAgICAgICAgIHRoaXMuZXF1YWxzKHZhbHVlLCBhcmdzLnZhbHVlKVxyXG4gICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBmb3VuZC5rZXk7XHJcbiAgICAgICAgICAgICAgdGhpcy5lbGVtcyA9IGZvdW5kLnZhbHVlLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICAgICAgICB0aGlzLmVsZW1zID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lcXVhbHModmFsLCB2YWx1ZSkgJiYgdGhpcy5pbmRleCA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgdGhpcy5lbGVtcyA9IGNoaWxkcmVuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFsdWVzLnB1c2goe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGNoaWxkcmVuLFxyXG4gICAgICAgICAgdmFsdWU6IHZhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCBuZXcgQXJyKFtdKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICAgIHRoaXMud2F0Y2hBcmdzKCd2YWx1ZScsIChuZXdWYWx1ZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSBJbmZpbml0eTtcclxuICAgICAgICB0aGlzLnZhbHVlcy5mb3JFYWNoKCh7IG5hbWUsIHZhbHVlLCBjaGlsZHJlbiB9LCBpKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB2YWwgPSBuYW1lID09PSAnZC1kZWZhdWx0J1xyXG4gICAgICAgICAgICA/IG5ld1ZhbHVlXHJcbiAgICAgICAgICAgIDogdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuZXF1YWxzKHZhbCwgbmV3VmFsdWUpICYmIHRoaXMuaW5kZXggPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1zID0gY2hpbGRyZW47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyh2YWx1ZTEsIHZhbHVlMikge1xyXG4gICAgICByZXR1cm4gbmV3IFN1cGVyKHZhbHVlMSkuZXF1YWxzKHZhbHVlMik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc3dpdGNoJyxcclxuICAgIHZhbHVlOiBEU3dpdGNoXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFRleHQoQmxvY2spIHtcclxuICBjbGFzcyBEVGV4dCBleHRlbmRzIEJsb2NrIHtcclxuICAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZC1lbGVtZW50cyB2YWx1ZT1cIntbeyBuYW1lOiBcXCcjdGV4dFxcJywgdmFsdWU6IHRleHQgfV19XCIvPic7XHJcblxyXG4gICAgdGV4dCA9ICcnO1xyXG5cclxuICAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAgICB0aGlzLnRleHQgPSBpc05pbCh0aGlzLmFyZ3MudmFsdWUpID8gJycgOiB0aGlzLmFyZ3MudmFsdWU7XHJcblxyXG4gICAgICB0aGlzLndhdGNoQXJncygndmFsdWUnLCAobmV3VmFsdWUpID0+IHtcclxuICAgICAgICB0aGlzLnRleHQgPSBpc05pbChuZXdWYWx1ZSkgPyAnJyA6IG5ld1ZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC10ZXh0JyxcclxuICAgIHZhbHVlOiBEVGV4dFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEQXR0cihNaXhpbikge1xyXG4gIGNsYXNzIERBdHRyIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIG5ld1ZhbHVlID0gbmV3IFN1cGVyKG5ld1ZhbHVlKS4kO1xyXG5cclxuICAgICAgbmV3IFN1cGVyKG9sZFZhbHVlKS5mb3JFYWNoKCh2YWx1ZSwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghbmV3VmFsdWVbcHJvcF0pIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cihwcm9wKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBlbGVtLmF0dHIobmV3VmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWF0dHInLFxyXG4gICAgdmFsdWU6IERBdHRyXHJcbiAgfTtcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyREJpbmQoTWl4aW4pIHtcclxuICBjbGFzcyBEQmluZCBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGlmICh0aGlzLm9mZikge1xyXG4gICAgICAgIHRoaXMub2ZmKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMub2ZmID0gdGhpcy5lbGVtLm9uKHRoaXMubWF0Y2hbMF0sIHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1iaW5kJyxcclxuICAgIHZhbHVlOiBEQmluZFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuLi9TdXBlcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcsIGl0ZXJhdGUgfSBmcm9tICcuLi9oZWxwZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRENsYXNzKE1peGluKSB7XG4gIGNsYXNzIERDbGFzcyBleHRlbmRzIE1peGluIHtcbiAgICBhZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcblxuICAgICAgbmV3VmFsdWUgPSBuZXcgU3VwZXIobmV3VmFsdWUpLiQ7XG4gICAgICBvbGRWYWx1ZSA9IG5ldyBTdXBlcihvbGRWYWx1ZSkuJDtcblxuICAgICAgaWYgKGlzQXJyYXkobmV3VmFsdWUpKSB7XG4gICAgICAgIGl0ZXJhdGUob2xkVmFsdWUsIChjbHMpID0+IHtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xzKSAmJiAhbmV3VmFsdWVbY2xzXSkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGl0ZXJhdGUobmV3VmFsdWUsIChjbHMpID0+IHtcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoY2xzKSkge1xuICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKG5ld1ZhbHVlKSkge1xuICAgICAgICBpZiAoaXNTdHJpbmcob2xkVmFsdWUpKSB7XG4gICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhvbGRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtLmFkZENsYXNzKG5ld1ZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QobmV3VmFsdWUpKSB7XG4gICAgICAgIGl0ZXJhdGUob2xkVmFsdWUsICh2YWwsIGNscykgPT4ge1xuICAgICAgICAgIGlmICh2YWwgJiYgIW5ld1ZhbHVlW2Nsc10pIHtcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpdGVyYXRlKG5ld1ZhbHVlLCAodmFsLCBjbHMpID0+IHtcbiAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICBlbGVtLmFkZENsYXNzKGNscyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcob2xkVmFsdWUpKSB7XG4gICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3Mob2xkVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KG9sZFZhbHVlKSkge1xuICAgICAgICBpdGVyYXRlKG9sZFZhbHVlLCAoY2xzKSA9PiB7XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGNscykpIHtcbiAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChvbGRWYWx1ZSkpIHtcbiAgICAgICAgaXRlcmF0ZShvbGRWYWx1ZSwgKHZhbCwgY2xzKSA9PiB7XG4gICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyhjbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZC1jbGFzcycsXG4gICAgdmFsdWU6IERDbGFzc1xuICB9O1xufVxuIiwiaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuLi9oZWxwZXJzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRFbGVtKE1peGluKSB7XHJcbiAgY2xhc3MgREVsZW0gZXh0ZW5kcyBNaXhpbiB7XHJcbiAgICBhZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgY29uc3QgeyBwYXJlbnQgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmIGlzU3RyaW5nKG9sZFZhbHVlKSkge1xyXG4gICAgICAgIGRlbGV0ZSBwYXJlbnRbb2xkVmFsdWVdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNTdHJpbmcobmV3VmFsdWUpKSB7XHJcbiAgICAgICAgcGFyZW50W25ld1ZhbHVlXSA9IHRoaXMuZWxlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG5hbWU6ICdkLWVsZW0nLFxyXG4gICAgdmFsdWU6IERFbGVtXHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJESGlkZShNaXhpbikge1xyXG4gIGNsYXNzIERIaWRlIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUodmFsdWUpIHtcclxuICAgICAgY29uc3QgeyBlbGVtIH0gPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgZWxlbS5oaWRlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbS5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1oaWRlJyxcclxuICAgIHZhbHVlOiBESGlkZVxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRE9uKE1peGluKSB7XHJcbiAgY2xhc3MgRE9uIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIHRoaXMuZWxlbS5vbih0aGlzLm1hdGNoWzBdLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ldmFsdWF0ZU9uY2UoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtb24nLFxyXG4gICAgdmFsdWU6IERPblxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFNob3coTWl4aW4pIHtcclxuICBjbGFzcyBEU2hvdyBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIGVsZW0uc2hvdygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW0uaGlkZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2Qtc2hvdycsXHJcbiAgICB2YWx1ZTogRFNob3dcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi4vU3VwZXInO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFN0eWxlKE1peGluKSB7XHJcbiAgY2xhc3MgRFN0eWxlIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgYWZ0ZXJVcGRhdGUobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuXHJcbiAgICAgIG5ld1ZhbHVlID0gbmV3IFN1cGVyKG5ld1ZhbHVlKS4kO1xyXG5cclxuICAgICAgbmV3IFN1cGVyKG9sZFZhbHVlKS5mb3JFYWNoKCh2YWx1ZSwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmICghbmV3VmFsdWVbcHJvcF0pIHtcclxuICAgICAgICAgIGVsZW0ucmVtb3ZlQ1NTKHByb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGVsZW0uY3NzKG5ld1ZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC1zdHlsZScsXHJcbiAgICB2YWx1ZTogRFN0eWxlXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFRleHQoTWl4aW4pIHtcclxuICBjbGFzcyBEVGV4dCBleHRlbmRzIE1peGluIHtcclxuICAgIGFmdGVyVXBkYXRlKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuZWxlbS50ZXh0KFxyXG4gICAgICAgIGlzTmlsKHZhbHVlKVxyXG4gICAgICAgICAgPyAnJ1xyXG4gICAgICAgICAgOiBgJHsgdmFsdWUgfWBcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC10ZXh0JyxcclxuICAgIHZhbHVlOiBEVGV4dFxyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRFZhbGlkYXRlKE1peGluKSB7XHJcbiAgY2xhc3MgRFZhbGlkYXRlIGV4dGVuZHMgTWl4aW4ge1xyXG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xyXG4gICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZWxlbSB9ID0gdGhpcztcclxuICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5ldmFsdWF0ZU9uY2UoKTtcclxuXHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcclxuICAgICAgICBlbGVtLnZhbGlkYXRlKHZhbGlkYXRvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZC12YWxpZGF0ZScsXHJcbiAgICB2YWx1ZTogRFZhbGlkYXRlXHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xuaW1wb3J0IHsgc3dpdGNoZXIgfSBmcm9tICcuLi9Td2l0Y2hlcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc05pbCB9IGZyb20gJy4uL2hlbHBlcnMnO1xuXG5jb25zdCBwcm9wU3dpdGNoZXIgPSBzd2l0Y2hlcignc3RyaWN0RXF1YWxzJywgKHR5cGUsIGVsZW0pID0+IChcbiAgZWxlbS5oYXNBdHRyKCdjb250ZW50ZWRpdGFibGUnKSB8fCBlbGVtLmhhc0F0dHIoJ2NvbnRlbnRFZGl0YWJsZScpXG4gICAgPyAndGV4dCdcbiAgICA6ICd2YWx1ZSdcbikpXG4gIC5jYXNlKCdpbnB1dCcsICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgcmV0dXJuICdmaWxlcyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGUgPT09ICdyYWRpbycgfHwgdHlwZSA9PT0gJ2NoZWNrYm94J1xuICAgICAgPyAnY2hlY2tlZCdcbiAgICAgIDogJ3ZhbHVlJztcbiAgfSk7XG5jb25zdCBzZXRWYWx1ZVN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICh2YWx1ZSkgPT4gdmFsdWUpXG4gIC5jYXNlKCdpbnB1dCcsICh2YWx1ZSwgdHlwZSwgaW5wdXRWYWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlICE9PSAncmFkaW8nICYmIHR5cGUgIT09ICdjaGVja2JveCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBpbnB1dFZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGlucHV0VmFsdWUpICE9PSAtMTtcbiAgfSk7XG5jb25zdCBnZXRWYWx1ZVN3aXRjaGVyID0gc3dpdGNoZXIoJ3N0cmljdEVxdWFscycsICh2YWx1ZSkgPT4gdmFsdWUpXG4gIC5jYXNlKCdpbnB1dCcsICh2YWx1ZSwgdHlwZSwgaW5wdXRWYWx1ZSwgdmFsdWVzKSA9PiB7XG4gICAgaWYgKHR5cGUgIT09ICdyYWRpbycgJiYgdHlwZSAhPT0gJ2NoZWNrYm94Jykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAncmFkaW8nKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBpbnB1dFZhbHVlXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5pbmRleE9mKGlucHV0VmFsdWUpID09PSAtMVxuICAgICAgICAgID8gbmV3IEFycih2YWx1ZXMpLmNvbmNhdChpbnB1dFZhbHVlKS4kXG4gICAgICAgICAgOiB2YWx1ZXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbaW5wdXRWYWx1ZV07XG4gICAgfVxuXG4gICAgaWYgKCFpc0FycmF5KHZhbHVlcykpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHZhbHVlcy5pbmRleE9mKGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4ubmV3IEFycih2YWx1ZXMpLnNsaWNlKDAsIGluZGV4KS4kLFxuICAgICAgICAuLi5uZXcgQXJyKHZhbHVlcykuc2xpY2UoaW5kZXggKyAxKS4kXG4gICAgICBdO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuY29uc3QgbGlzdGVuZXJTd2l0Y2hlciA9IHN3aXRjaGVyKCdzdHJpY3RFcXVhbHMnLCAnaW5wdXQnKVxuICAuY2FzZSgnc2VsZWN0JywgJ2NoYW5nZScpXG4gIC5jYXNlKCdpbnB1dCcsICh0eXBlKSA9PiAoXG4gICAgdHlwZSA9PT0gJ3JhZGlvJ1xuICAgIHx8IHR5cGUgPT09ICdjaGVja2JveCdcbiAgICB8fCB0eXBlID09PSAnY29sb3InXG4gICAgfHwgdHlwZSA9PT0gJ2ZpbGUnXG4gICAgICA/ICdjaGFuZ2UnXG4gICAgICA6ICdpbnB1dCdcbiAgKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRWYWx1ZShNaXhpbikge1xuICBjbGFzcyBEVmFsdWUgZXh0ZW5kcyBNaXhpbiB7XG4gICAgc3RhdGljIGV2YWx1YXRlID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICBzdXBlcihvcHRzKTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICAkJDoge1xuICAgICAgICAgIF92YWx1ZSxcbiAgICAgICAgICBwYXJlbnRcbiAgICAgICAgfSxcbiAgICAgICAgZWxlbVxuICAgICAgfSA9IHRoaXM7XG4gICAgICBjb25zdCB0eXBlID0gZWxlbS5wcm9wKCd0eXBlJyk7XG5cbiAgICAgIHRoaXMucHJvcCA9IHByb3BTd2l0Y2hlcihlbGVtLm5hbWUsIFt0eXBlLCBlbGVtXSk7XG4gICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgICBjb25zdCBpbml0aWFsU2NvcGVWYWx1ZSA9IHBhcmVudC4kJC5ldmFsdWF0ZShgeyR7IF92YWx1ZSB9fWAsIChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnNldFByb3AobmV3VmFsdWUpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgICBjb25zdCBpbml0aWFsRWxlbVZhbHVlID0gdGhpcy5nZXRQcm9wKGluaXRpYWxTY29wZVZhbHVlKTtcblxuICAgICAgaWYgKGlzTmlsKGluaXRpYWxTY29wZVZhbHVlKSB8fCB0eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIHBhcmVudFtfdmFsdWVdID0gaW5pdGlhbEVsZW1WYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0UHJvcChpbml0aWFsU2NvcGVWYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW0ub24obGlzdGVuZXJTd2l0Y2hlcihlbGVtLm5hbWUsIFt0eXBlXSksIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZWxlbS4kWzBdKSB7XG4gICAgICAgICAgcGFyZW50W192YWx1ZV0gPSB0aGlzLmdldFByb3AocGFyZW50W192YWx1ZV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRQcm9wKHZhbHVlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIHByb3AsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICBpZiAocHJvcCA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGVsZW0udGV4dCh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnByb3AocHJvcCwgc2V0VmFsdWVTd2l0Y2hlcihlbGVtLm5hbWUsIFt2YWx1ZSwgdHlwZSwgZWxlbS4kWzBdLnZhbHVlXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGdldFByb3AodmFsdWVzKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGVsZW0sXG4gICAgICAgIHByb3AsXG4gICAgICAgIHR5cGVcbiAgICAgIH0gPSB0aGlzO1xuXG4gICAgICByZXR1cm4gcHJvcCA9PT0gJ3RleHQnXG4gICAgICAgID8gZWxlbS50ZXh0KClcbiAgICAgICAgOiBnZXRWYWx1ZVN3aXRjaGVyKGVsZW0ubmFtZSwgW2VsZW0ucHJvcChwcm9wKSwgdHlwZSwgZWxlbS4kWzBdLnZhbHVlLCB2YWx1ZXNdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdkLXZhbHVlJyxcbiAgICB2YWx1ZTogRFZhbHVlXG4gIH07XG59XG4iLCIvKipcclxuICogQG1vZHVsZSBCbG9ja1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAbWl4aW5cclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgQmxvY2sgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi9BcnInO1xyXG5pbXBvcnQgeyBmaW5kLCBkb2MsIEVsZW0gfSBmcm9tICcuL0VsZW0nO1xyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4vU3VwZXInO1xyXG5pbXBvcnQge1xyXG4gIGl0ZXJhdGUsIGRlZmluZVByb3BlcnRpZXMsIHZhbGlkYXRlLFxyXG4gIGlzRnVuY3Rpb24sIGlzTmlsLCBpc1VuZGVmaW5lZFxyXG59IGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCAqIGFzIEJsb2NrcyBmcm9tICcuL2Jsb2Nrcyc7XHJcbmltcG9ydCAqIGFzIE1peGlucyBmcm9tICcuL21peGlucyc7XHJcbmltcG9ydCB7IGh0bWxBbGxvd2VkVGFnU3ltYm9scywgaHRtbEFsbG93ZWRBdHRyU3ltYm9scyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IG1hcmt1cFRvSlNPTiBmcm9tICcuL2hlbHBlcnMvbWFya3VwVG9KU09OJztcclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgV2F0Y2hlclxyXG4gKiBAcGFyYW0geyp9IG5ld1ZhbHVlIC0gTmV3IHZhbHVlLlxyXG4gKiBAcGFyYW0geyp9IG9sZFZhbHVlIC0gT2xkIHZhbHVlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgV3JhcHBlclxyXG4gKiBAcGFyYW0ge0Jsb2NrfSBCbG9jayBjbGFzcyB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7QmxvY2t9IE5ldyBCbG9jayBjbGFzcy5cclxuICovXHJcblxyXG5jb25zdCBibG9ja3MgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5jb25zdCBtaXhpbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG5jb25zdCBpc1Byb3RvdHlwZU9mID0ge30uaXNQcm90b3R5cGVPZjtcclxuY29uc3QgdGFnTmFtZSA9IG5ldyBSZWdFeHAoYF4keyBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgfSRgLCAnaScpO1xyXG5jb25zdCBhdHRyTmFtZSA9IG5ldyBSZWdFeHAoYF4keyBodG1sQWxsb3dlZEF0dHJTeW1ib2xzIH0kYCk7XHJcbmNvbnN0IGV4cHJlc3Npb25SZWdFeHAgPSAvXlxce1tcXHNcXFNdK1xcfSQvO1xyXG5jb25zdCB7IGRvY3VtZW50IH0gPSBnbG9iYWw7XHJcbmNvbnN0IHN2Z05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxubGV0IG9uRXZhbEVycm9yO1xyXG5sZXQgZXZhbE1vZGU7XHJcbmxldCBnZXR0aW5nO1xyXG5sZXQgY2hhbmdlZDtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgQmxvY2tcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIEVsZW1lbnQgb3B0aW9ucy5cclxuICogQHJldHVybnMge0Jsb2NrfSBJbnN0YW5jZSBvZiBCbG9jay5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBkeW5hbWljIHRlbXBsYXRpbmcuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGltcG9ydCB7IEQsIEJsb2NrLCBpbml0QXBwLCByZWdpc3RlckJsb2NrIH0gZnJvbSAnZHdheW5lJztcclxuICpcclxuICogY2xhc3MgQXBwIGV4dGVuZHMgQmxvY2sge1xyXG4gKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8SGVsbG8gdGV4dD1cInt0ZXh0fVwiLz4nO1xyXG4gKlxyXG4gKiAgIGNvbnN0cnVjdG9yKGFyZ3MsIGNoaWxkcmVuKSB7XHJcbiAqICAgICBzdXBlcihhcmdzLCBjaGlsZHJlbik7XHJcbiAqXHJcbiAqICAgICB0aGlzLnRleHQgPSAnd29ybGQgKDApJztcclxuICogICAgIHRoaXMudGltZXMgPSAwO1xyXG4gKlxyXG4gKiAgICAgdGhpcy5zZXRJbnRlcnZhbCgpO1xyXG4gKiAgIH1cclxuICpcclxuICogICBzZXRJbnRlcnZhbCgpIHtcclxuICogICAgIEQoMTAwMCkuaW50ZXJ2YWwoKCkgPT4ge1xyXG4gKiAgICAgICB0aGlzLnRleHQgPSBgd29ybGQgKCR7ICsrdGhpcy50aW1lcyB9KWA7XHJcbiAqICAgICB9KTtcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogY2xhc3MgSGVsbG8gZXh0ZW5kcyBCbG9jayB7XHJcbiAqICAgc3RhdGljIHRlbXBsYXRlID0gJ0hlbGxvLCA8ZC10ZXh0IHZhbHVlPVwie2FyZ3MudGV4dH1cIi8+ISc7XHJcbiAqIH1cclxuICpcclxuICogQmxvY2suQXBwID0gQXBwO1xyXG4gKiBCbG9jay5IZWxsbyA9IEhlbGxvO1xyXG4gKlxyXG4gKiBpbml0QXBwKCk7XHJcbiAqL1xyXG5jbGFzcyBCbG9jayB7XHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7Qm9vbGVhbn0gW0Jsb2NrLmNvbGxhcHNlV2hpdGVTcGFjZSA9IHRydWVdXHJcbiAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJZiB0aGUgd2hpdGVzcGFjZSBiZXR3ZWVuIGh0bWwgZWxlbWVudHMgYW5kXHJcbiAgICogaW4gdGhlIHN0YXJ0IGFuZCB0aGUgZW5kIGluc2lkZSB0aGUgdGFnIHNob3VsZCBiZSBvbWl0dGVkIGR1cmluZyBwYXJzaW5nLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBjb2xsYXBzZVdoaXRlU3BhY2UgPSB0cnVlO1xyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtPYmplY3R9IFtCbG9jay5kZWZhdWx0QXJncyA9IHRydWVdXHJcbiAgICogQHR5cGUge09iamVjdH1cclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIFByb3ZpZGUgZGVmYXVsdCBhcmdzIGlmIHRoYXQgYXJncyBtYXkgbm90IGFwcGVhciBpbiB0aGUgYXJnc1xyXG4gICAqICh1c2luZyBcImQtcmVzdFwiKSBidXQgeW91IHVzZSB0aGVtIGluIHlvdXIgdGVtcGxhdGUgYW5kIHdhbnQgdGhlbSB0byBiZSB3YXRjaGVkLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBkZWZhdWx0QXJncyA9IHt9O1xyXG5cclxuICBzdGF0aWMgZ2V0IG9uRXZhbEVycm9yKCkge1xyXG4gICAgcmV0dXJuIG9uRXZhbEVycm9yO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldCBvbkV2YWxFcnJvcihsaXN0ZW5lcikge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgIG9uRXZhbEVycm9yID0gbGlzdGVuZXI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvbkV2YWxFcnJvciA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrLndyYXBcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtXcmFwcGVyfSBmdW5jIC0gRnVuY3Rpb24gdGhhdCByZXR1cm5zIHdyYXBwZWQgYmxvY2suXHJcbiAgICogQHJldHVybnMge0Jsb2NrfSBOZXcgYmxvY2suXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd3JhcHBpbmcgYmxvY2tzIGludG8gYW5vdGhlciBibG9ja3MuXHJcbiAgICogSXQgaXMgY29uc2lkZXJlZCBiZXN0IHByYWN0aWNlIHRvIGp1c3QgZXh0ZW5kcyB0aGUgb2xkIGJsb2NrIHdpdGggYSBuZXcgb25lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXY+MTIzPC9kaXY+JztcclxuICAgKiB9XHJcbiAgICpcclxuICAgKiBNeUJsb2NrLndyYXAoKEJsb2NrKSA9PiB7XHJcbiAgICogICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICAgIHN0YXRpYyB0ZW1wbGF0ZSA9IGA8c2VjdGlvbiBjbGFzcz1cIndyYXBwZXJcIj4keyBCbG9jay50ZW1wbGF0ZSB9PC9zZWN0aW9uPmA7XHJcbiAgICpcclxuICAgKiAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICogICAgICAgdGhpcy5hZGRpdGlvbmFsVmFyID0gJ2FkZGl0aW9uYWwnO1xyXG4gICAqICAgICB9XHJcbiAgICogICB9O1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHN0YXRpYyB3cmFwKGZ1bmMpIHtcclxuICAgIHZhbGlkYXRlKFtmdW5jXSwgWydmdW5jdGlvbiddKTtcclxuXHJcbiAgICByZXR1cm4gZnVuYyh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgYXJnczogb3JpZ2luYWxBcmdzLFxyXG4gICAgICBjaGlsZHJlbixcclxuICAgICAgYmxvY2ssXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgIHBhcmVudFNjb3BlXHJcbiAgICB9ID0gb3B0cztcclxuICAgIGNvbnN0IHdhdGNoZXJzVG9SZW1vdmUgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbWVtYmVyIHtCbG9ja30gQmxvY2sjJFxyXG4gICAgICAgKiBAdHlwZSB7QmxvY2t9XHJcbiAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICogQGRlc2NyaXB0aW9uIFRoaXMuXHJcbiAgICAgICAqL1xyXG4gICAgICAkOiB7XHJcbiAgICAgICAgdmFsdWU6IHRoaXNcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbWVtYmVyIHtPYmplY3R9IEJsb2NrIyQkXHJcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGFyZ3MgLSBQcml2YXRlIGFyZ3Mgc2NvcGUuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7QXJyfSBjaGlsZHJlbiAtIENoaWxkIGJsb2Nrcy5cclxuICAgICAgICogQHByb3BlcnR5IHtBcnJ9IG1peGlucyAtIENoaWxkIG1peGlucy5cclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGVsZW1zIC0gRWxlbWVudHMgY29ubmVjdGVkIHRvIHRoZSBibG9jay5cclxuICAgICAgICogQHByb3BlcnR5IHtFbGVtfSBlbGVtcy5wYXJlbnQgLSBQYXJlbnQgZWxlbWVudC5cclxuICAgICAgICogQHByb3BlcnR5IHtFbGVtfSBlbGVtcy5zdGFydCAtIFN0YXJ0IGNvbW1lbnQgYmxvY2suXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMuZW5kIC0gRW5kIGNvbW1lbnQgYmxvY2suXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbX0gZWxlbXMuY29udGVudCAtIENvbnRlbnQgZWxlbWVudHMuXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGV2YWx1YXRlIC0gRXZhbHVhdGUgZnVuY3Rpb24uXHJcbiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBnbG9iYWwgLSBQcml2YXRlIGdsb2JhbCBzY29wZS5cclxuICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGxvY2FscyAtIFByaXZhdGUgbG9jYWxzIHNjb3BlLlxyXG4gICAgICAgKiBAcHJvcGVydHkge0Fycn0gd2F0Y2hlcnNUb1JlbW92ZSAtIFdhdGNoZXJzIHRvIHJlbW92ZSBiZWZvcmUgcmVtb3ZpbmcgZWxlbWVudC5cclxuICAgICAgICovXHJcbiAgICAgICQkOiB7XHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudFNjb3BlLFxyXG4gICAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgICBjaGlsZHJlbjogbmV3IEFycihbXSksXHJcbiAgICAgICAgICBtaXhpbnM6IG5ldyBBcnIoW10pLFxyXG4gICAgICAgICAgQmxvY2s6IGJsb2NrLFxyXG4gICAgICAgICAgZWxlbXM6IHtcclxuICAgICAgICAgICAgc3RhcnQ6IGRvYy5jcmVhdGVDb21tZW50KGAgJHsgbmFtZSB9OiBzdGFydCBgKSxcclxuICAgICAgICAgICAgZW5kOiBkb2MuY3JlYXRlQ29tbWVudChgICR7IG5hbWUgfTogZW5kIGApLFxyXG4gICAgICAgICAgICBjb250ZW50OiBuZXcgRWxlbSgpLFxyXG4gICAgICAgICAgICBwYXJlbnRcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlLFxyXG4gICAgICAgICAgZXZhbHVhdGU6IChleHByZXNzaW9uLCBvbkNoYW5nZSwgaW5zdGFuY2UsIGZvckRFbGVtZW50cywgZm9yREl0ZW0sIGZvckRFYWNoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXhwcmVzc2lvblJlZ0V4cC50ZXN0KGV4cHJlc3Npb24pKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3Npb247XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvckRFbGVtZW50cyA9ICEhZm9yREVsZW1lbnRzO1xyXG4gICAgICAgICAgICBmb3JESXRlbSA9ICEhZm9yREl0ZW07XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UoL15cXHt8XFx9JC9nLCAnJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzdG9yZSA9IChuYW1lID09PSAnI2QtaXRlbScgJiYgIWZvckRJdGVtKSB8fCBmb3JERWFjaFxyXG4gICAgICAgICAgICAgID8gKGZvckRFYWNoIHx8IHRoaXMpLiQkLnNjb3BlXHJcbiAgICAgICAgICAgICAgOiB0aGlzO1xyXG5cclxuICAgICAgICAgICAgLyogZXNsaW50IG5vLW5ldy1mdW5jOiAwICovXHJcbiAgICAgICAgICAgIGNvbnN0IHsgd2F0Y2hlcnNUb1JlbW92ZSB9ID0gaW5zdGFuY2UgPyBpbnN0YW5jZS4kJCA6IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBmdW5jID0gbmV3IEZ1bmN0aW9uKFxyXG4gICAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICAgICd3aXRoKGRvY3VtZW50LkR3YXluZVN0b3JlKXskJC5leHByPWV2YWwoXCIkJC5leHByPVwiKyQkLmV4cHIpO3JldHVybiAkJC5leHByfSdcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0ZS5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXZhbHVhdGUoKSB7XHJcbiAgICAgICAgICAgICAgbGV0IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBldmFsTW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBnZXR0aW5nID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBzdG9yZS4kJC5leHByID0gZXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5Ed2F5bmVTdG9yZSA9IHN0b3JlO1xyXG5cclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYygpO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uRXZhbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgIG9uRXZhbEVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsV2F0Y2hlcnMgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBnZXR0aW5nLmZvckVhY2goKHdhdGNoZXJzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdGNoZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UmVzdWx0ID0gZXZhbHVhdGUuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jlc3VsdCAhPT0gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZShuZXdSZXN1bHQsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB3YXRjaGVyQmxvY2sgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yREVsZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcnNcclxuICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXIub25SZW1vdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxXYXRjaGVycy5mb3JFYWNoKCh3YXRjaGVyQmxvY2spID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcnNcclxuICAgICAgICAgICAgICAgICAgICAgIH0gPSB3YXRjaGVyQmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleDEgPSB3YXRjaGVyc1RvUmVtb3ZlLmluZGV4T2Yod2F0Y2hlckJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4MiA9IHdhdGNoZXJzLmluZGV4T2Yod2F0Y2hlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4MSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hlcnNUb1JlbW92ZS5zcGxpY2UoaW5kZXgxLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgyICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaGVycy5zcGxpY2UoaW5kZXgyLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGxvY2FsV2F0Y2hlcnMucHVzaCh3YXRjaGVyQmxvY2spO1xyXG4gICAgICAgICAgICAgICAgICB3YXRjaGVyc1RvUmVtb3ZlLnB1c2god2F0Y2hlckJsb2NrKTtcclxuICAgICAgICAgICAgICAgICAgd2F0Y2hlcnMucHVzaCh3YXRjaGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGV2YWxNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBnZXR0aW5nID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBzdG9yZS4kJC5leHByID0gbnVsbDtcclxuICAgICAgICAgICAgICBkb2N1bWVudC5Ed2F5bmVTdG9yZSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGFyZ3MgPSBuZXcgU3VwZXIob3JpZ2luYWxBcmdzKS5tYXAoKHZhbHVlLCBhcmcpID0+IHtcclxuICAgICAgaWYgKG5hbWUgPT09ICdkLWVhY2gnICYmIChcclxuICAgICAgICBhcmcgPT09ICdpdGVtJ1xyXG4gICAgICAgIHx8IGFyZyA9PT0gJ2luZGV4J1xyXG4gICAgICAgIHx8IGFyZyA9PT0gJ3VpZCdcclxuICAgICAgKSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZm9yREVsZW1lbnRzID0gbmFtZSA9PT0gJ2QtZWxlbWVudHMnICYmIGFyZyA9PT0gJ3ZhbHVlJztcclxuXHJcbiAgICAgIHJldHVybiBwYXJlbnRTY29wZS4kJC5ldmFsdWF0ZSh2YWx1ZSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hcmdzW2FyZ10gPSB2YWx1ZTtcclxuICAgICAgfSwgdGhpcywgZm9yREVsZW1lbnRzLCBmb3JERWxlbWVudHMgJiYgcGFyZW50QmxvY2suJCQubmFtZSA9PT0gJyNkLWl0ZW0nKTtcclxuICAgIH0pLiQ7XHJcblxyXG4gICAgdGhpcy5hcmdzID0gYXJncztcclxuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCBuZXcgQXJyKFtdKTtcclxuICAgIHRoaXMuZ2xvYmFsID0gT2JqZWN0LmNyZWF0ZShcclxuICAgICAgcGFyZW50U2NvcGVcclxuICAgICAgICA/IE9iamVjdC5jcmVhdGUocGFyZW50U2NvcGUuZ2xvYmFsKVxyXG4gICAgICAgIDogbnVsbFxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLiQkLmVsZW1zLnN0YXJ0LiRbMF0uRHdheW5lQmxvY2sgPSB0aGlzO1xyXG4gICAgdGhpcy4kJC5lbGVtcy5lbmQuJFswXS5Ed2F5bmVCbG9jayA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHBhcmVudEJsb2NrKSB7XHJcbiAgICAgIHBhcmVudEJsb2NrLiQkLmNoaWxkcmVuLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI2FmdGVyQ29uc3RydWN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBkZXNjcmlwdGlvbiBJcyBjYWxsZWQgYWZ0ZXIgYmxvY2sgY29uc3RydWN0aW9uIChpbmNsdWRpbmcgYWxsIHNjb3BlcylcclxuICAgKiBidXQgYmVmb3JlIHJlbmRlcmluZyB0aGUgYmxvY2sgYW5kIGl0cyBjaGlsZHJlbi5cclxuICAgKi9cclxuICBhZnRlckNvbnN0cnVjdCgpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjYWZ0ZXJSZW5kZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIElzIGNhbGxlZCBhZnRlciBibG9jayBoYXMgYmVlbiByZW5kZXJlZC5cclxuICAgKi9cclxuICBhZnRlclJlbmRlcigpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgQmxvY2sjYWZ0ZXJSZW5kZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIElzIGNhbGxlZCBiZWZvcmUgdGhlIGJsb2NrIHJlbW92YWwuXHJcbiAgICovXHJcbiAgYmVmb3JlUmVtb3ZlKCkge31cclxuXHJcbiAgZXZhbHVhdGVBbmRXYXRjaChleHByZXNzaW9uLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIHRoaXMuJCQucGFyZW50LiQkLmV2YWx1YXRlKGV4cHJlc3Npb24sIGNhbGxiYWNrLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIGV2YWx1YXRlT25jZShleHByZXNzaW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kJC5wYXJlbnQuJCQuZXZhbHVhdGUoZXhwcmVzc2lvbik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEJsb2NrI3JlbW92ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvdCBmb3JjaW5nIHRoZSBibG9jayB0byBiZSByZW1vdmVkLiBDYWxsc1xyXG4gICAqIHJlbW92ZSBtZXRob2QgZm9yIGFsbCBvZiBpdHMgY2hpbGQgYmxvY2tzIGFuZCBjYWxscyBiZWZvcmVSZW1vdmUgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgcmVtb3ZlKGlzUGFyZW50U2lnbmFsKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIHBhcmVudEJsb2NrLFxyXG4gICAgICBjaGlsZHJlbixcclxuICAgICAgbWl4aW5zLFxyXG4gICAgICBlbGVtczoge1xyXG4gICAgICAgIHN0YXJ0LFxyXG4gICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgZW5kXHJcbiAgICAgIH0sXHJcbiAgICAgIHdhdGNoZXJzVG9SZW1vdmVcclxuICAgIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIHJlbW92ZVdhdGNoZXJzKHdhdGNoZXJzVG9SZW1vdmUpO1xyXG5cclxuICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICAgIGNoaWxkLnJlbW92ZSh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1peGlucy5mb3JFYWNoKChtaXhpbikgPT4ge1xyXG4gICAgICBtaXhpbi5yZW1vdmUodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmJlZm9yZVJlbW92ZSgpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuY2F1Z2h0IGVycm9yIGluIGJlZm9yZVJlbW92ZTonLCBlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNQYXJlbnRTaWduYWwgJiYgcGFyZW50QmxvY2spIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnRCbG9jay4kJC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xyXG5cclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIHBhcmVudEJsb2NrLiQkLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZXcgRWxlbShbXHJcbiAgICAgIHN0YXJ0LFxyXG4gICAgICBjb250ZW50LFxyXG4gICAgICBlbmRcclxuICAgIF0pLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gW2FyZ3NdIC0gVmFycyB0byB3YXRjaCAoYXJncywgZ2xvYmFsIG9yIGxvY2FsKS5cclxuICAgKiBAcGFyYW0ge1dhdGNoZXJ9IHdhdGNoZXIgLSBDYWxsZWQgd2hlbiB3YXRjaGVkIHZhcnMgYXJlIGNoYW5nZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIHZhcnMuIElmIG5vIHZhcnMgcGFzc2VkIGluIGFyZ3VtZW50c1xyXG4gICAqIGFsbCB2YXJzIGFyZSB0byBiZSB3YXRjaGVkLiBPdGhlcndpc2Ugc3BlY2lmaWVkIHZhcnMgd2lsbCBiZSB3YXRjaGVkLlxyXG4gICAqIFdhdGNoZXJzIHNob3VsZCBub3QgYmUgcHV0IGluc2lkZSB0aGUgY29uc3RydWN0b3IuIEl0IGlzIGNvbnNpZGVyZWQgYmVzdFxyXG4gICAqIHByYWN0aWNlIHRvIGRvIGl0IGluc2lkZSB0aGUge0BsaW5rIEJsb2NrI2FmdGVyQ29uc3RydWN0fSBtZXRob2QuXHJcbiAgICogTm90ZSB0aGF0IHRoZXNlIGV4cHJlc3Npb25zICh2YXJzLCBpLmUuIFwiYXJncy5hcmdcIikgYXJlIG5vdCB0byBiZVxyXG4gICAqIGV2YWx1YXRlZCBzbyB5b3UgY2Fubm90IHB1dCB0aGVyZSB0aGluZ3MgbGlrZSBcImFbYl1cIiBvciBhbnkganMgY29kZSxcclxuICAgKiBvbmx5IGV4cHJlc3Npb25zIGxpa2UgXCJhXCIsIFwiYlwiLCBcImFyZ3MuYVwiLCBcImFyZ3MuYlwiIGFuZCBcImdsb2JhbC5hXCIsIFwiZ2xvYmFsLmJcIi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2xhc3MgTXlCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2IC8+JztcclxuICAgKlxyXG4gICAqICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICogICAgIHRoaXMud2F0Y2goJ2EnLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2goJ2FyZ3MuYScsICdnbG9iYWwucicsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaCgoKSA9PiB7fSk7XHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqL1xyXG4gIHdhdGNoKCkge1xyXG4gICAgY29uc3Qgd2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBmb3IgKGNvbnN0IGdsb2JhbCBpbiB0aGlzLiQkLmdsb2JhbCkge1xyXG4gICAgICAgIC8qIGVzbGludCBndWFyZC1mb3ItaW46IDAgKi9cclxuICAgICAgICB0aGlzLiQkLmdsb2JhbFtnbG9iYWxdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXRlcmF0ZSh0aGlzLiQkLmFyZ3MsICh7IHdhdGNoZXJzIH0pID0+IHtcclxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGl0ZXJhdGUodGhpcy4kJC5sb2NhbHMsICh7IHdhdGNoZXJzIH0pID0+IHtcclxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAodmFyaWFibGUpID0+IHtcclxuICAgICAgaWYgKHZhcmlhYmxlID09PSB3YXRjaGVyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXJpYWJsZSA9IGAkeyB2YXJpYWJsZSB9YDtcclxuXHJcbiAgICAgIGlmICgvXmFyZ3NcXC4vLnRlc3QodmFyaWFibGUpKSB7XHJcbiAgICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZS5yZXBsYWNlKC9eYXJnc1xcLi8sICcnKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLiQkLmFyZ3NbdmFyaWFibGVdKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiQkLmFyZ3NbdmFyaWFibGVdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoL15nbG9iYWxcXC4vLnRlc3QodmFyaWFibGUpKSB7XHJcbiAgICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZS5yZXBsYWNlKC9eZ2xvYmFsXFwuLywgJycpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuJCQuZ2xvYmFsW3ZhcmlhYmxlXSkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kJC5nbG9iYWxbdmFyaWFibGVdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXRoaXMuJCQubG9jYWxzW3ZhcmlhYmxlXSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy4kJC5sb2NhbHNbdmFyaWFibGVdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaEFyZ3NcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IFthcmdzXSAtIEFyZ3MgdG8gd2F0Y2guXHJcbiAgICogQHBhcmFtIHtXYXRjaGVyfSB3YXRjaGVyIC0gQ2FsbGVkIHdoZW4gd2F0Y2hlZCBhcmdzIGFyZSBjaGFuZ2VkLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHdhdGNoaW5nIGZvciBhcmdzLiBJZiBubyBhcmdzIHBhc3NlZCBpbiBhcmd1bWVudHNcclxuICAgKiBhbGwgYXJncyBhcmUgdG8gYmUgd2F0Y2hlZC4gT3RoZXJ3aXNlIHNwZWNpZmllZCBhcmdzIHdpbGwgYmUgd2F0Y2hlZC5cclxuICAgKiBXYXRjaGVycyBzaG91bGQgbm90IGJlIHB1dCBpbnNpZGUgdGhlIGNvbnN0cnVjdG9yLiBJdCBpcyBjb25zaWRlcmVkIGJlc3RcclxuICAgKiBwcmFjdGljZSB0byBkbyBpdCBpbnNpZGUgdGhlIHtAbGluayBCbG9jayNhZnRlckNvbnN0cnVjdH0gbWV0aG9kLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjbGFzcyBNeUJsb2NrIGV4dGVuZHMgQmxvY2sge1xyXG4gICAqICAgc3RhdGljIHRlbXBsYXRlID0gJzxkaXYgLz4nO1xyXG4gICAqXHJcbiAgICogICBhZnRlckNvbnN0cnVjdCgpIHtcclxuICAgKiAgICAgdGhpcy53YXRjaEFyZ3MoJ2EnLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hBcmdzKCdhJywgJ2InLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hBcmdzKCgpID0+IHt9KTtcclxuICAgKiAgIH1cclxuICAgKiB9XHJcbiAgICovXHJcbiAgd2F0Y2hBcmdzKCkge1xyXG4gICAgY29uc3Qgd2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQkLmFyZ3MsICh7IHdhdGNoZXJzIH0pID0+IHtcclxuICAgICAgICB3YXRjaGVycy5wZXJtLnB1c2god2F0Y2hlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdGUoYXJndW1lbnRzLCAoYXJnKSA9PiB7XHJcbiAgICAgIGlmIChhcmcgPT09IHdhdGNoZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy4kJC5hcmdzW2FyZ10pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuJCQuYXJnc1thcmddLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaEdsb2JhbFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gW2dsb2JhbHNdIC0gR2xvYmFscyB0byB3YXRjaC5cclxuICAgKiBAcGFyYW0ge1dhdGNoZXJ9IHdhdGNoZXIgLSBDYWxsZWQgd2hlbiB3YXRjaGVkIGdsb2JhbHMgYXJlIGNoYW5nZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIGdsb2JhbHMuIElmIG5vIGdsb2JhbHMgcGFzc2VkIGluIGFyZ3VtZW50c1xyXG4gICAqIGFsbCBnbG9iYWxzIGFyZSB0byBiZSB3YXRjaGVkLiBPdGhlcndpc2Ugc3BlY2lmaWVkIGdsb2JhbHMgd2lsbCBiZSB3YXRjaGVkLlxyXG4gICAqIFdhdGNoZXJzIHNob3VsZCBub3QgYmUgcHV0IGluc2lkZSB0aGUgY29uc3RydWN0b3IuIEl0IGlzIGNvbnNpZGVyZWQgYmVzdFxyXG4gICAqIHByYWN0aWNlIHRvIGRvIGl0IGluc2lkZSB0aGUge0BsaW5rIEJsb2NrI2FmdGVyQ29uc3RydWN0fSBtZXRob2QuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNsYXNzIE15QmxvY2sgZXh0ZW5kcyBCbG9jayB7XHJcbiAgICogICBzdGF0aWMgdGVtcGxhdGUgPSAnPGRpdiAvPic7XHJcbiAgICpcclxuICAgKiAgIGFmdGVyQ29uc3RydWN0KCkge1xyXG4gICAqICAgICB0aGlzLndhdGNoR2xvYmFsKCdhJywgKCkgPT4ge30pO1xyXG4gICAqICAgICB0aGlzLndhdGNoR2xvYmFsKCdhJywgJ2InLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hHbG9iYWwoKCkgPT4ge30pO1xyXG4gICAqICAgfVxyXG4gICAqIH1cclxuICAgKi9cclxuICB3YXRjaEdsb2JhbHMoKSB7XHJcbiAgICBjb25zdCB3YXRjaGVyID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24od2F0Y2hlcikpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGZvciAoY29uc3QgZ2xvYmFsIGluIHRoaXMuJCQuZ2xvYmFsKSB7XHJcbiAgICAgICAgLyogZXNsaW50IGd1YXJkLWZvci1pbjogMCAqL1xyXG4gICAgICAgIHRoaXMuJCQuZ2xvYmFsW2dsb2JhbF0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0ZShhcmd1bWVudHMsIChnbG9iYWwpID0+IHtcclxuICAgICAgaWYgKGdsb2JhbCA9PT0gd2F0Y2hlcikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF0aGlzLiQkLmdsb2JhbFtnbG9iYWxdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkLmdsb2JhbFtnbG9iYWxdLndhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBCbG9jayN3YXRjaExvY2Fsc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gW2xvY2Fsc10gLSBMb2NhbHMgdG8gd2F0Y2guXHJcbiAgICogQHBhcmFtIHtXYXRjaGVyfSB3YXRjaGVyIC0gQ2FsbGVkIHdoZW4gd2F0Y2hlZCBsb2NhbHMgYXJlIGNoYW5nZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3Igd2F0Y2hpbmcgZm9yIGxvY2Fscy4gSWYgbm8gbG9jYWxzIHBhc3NlZCBpbiBhcmd1bWVudHNcclxuICAgKiBhbGwgbG9jYWxzIGFyZSB0byBiZSB3YXRjaGVkLiBPdGhlcndpc2Ugc3BlY2lmaWVkIGxvY2FscyB3aWxsIGJlIHdhdGNoZWQuXHJcbiAgICogV2F0Y2hlcnMgc2hvdWxkIG5vdCBiZSBwdXQgaW5zaWRlIHRoZSBjb25zdHJ1Y3Rvci4gSXQgaXMgY29uc2lkZXJlZCBiZXN0XHJcbiAgICogcHJhY3RpY2UgdG8gZG8gaXQgaW5zaWRlIHRoZSB7QGxpbmsgQmxvY2sjYWZ0ZXJDb25zdHJ1Y3R9IG1ldGhvZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY2xhc3MgTXlCbG9jayBleHRlbmRzIEJsb2NrIHtcclxuICAgKiAgIHN0YXRpYyB0ZW1wbGF0ZSA9ICc8ZGl2IC8+JztcclxuICAgKlxyXG4gICAqICAgYWZ0ZXJDb25zdHJ1Y3QoKSB7XHJcbiAgICogICAgIHRoaXMud2F0Y2hMb2NhbHMoJ2EnLCAoKSA9PiB7fSk7XHJcbiAgICogICAgIHRoaXMud2F0Y2hMb2NhbHMoJ2EnLCAnYicsICgpID0+IHt9KTtcclxuICAgKiAgICAgdGhpcy53YXRjaExvY2FscygoKSA9PiB7fSk7XHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqL1xyXG4gIHdhdGNoTG9jYWxzKCkge1xyXG4gICAgY29uc3Qgd2F0Y2hlciA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHdhdGNoZXIpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gaXRlcmF0ZSh0aGlzLiQkLmxvY2FscywgKHsgd2F0Y2hlcnMgfSkgPT4ge1xyXG4gICAgICAgIHdhdGNoZXJzLnBlcm0ucHVzaCh3YXRjaGVyKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0ZShhcmd1bWVudHMsIChsb2NhbCkgPT4ge1xyXG4gICAgICBpZiAobG9jYWwgPT09IHdhdGNoZXIpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghdGhpcy4kJC5sb2NhbHNbbG9jYWxdKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkLmxvY2Fsc1tsb2NhbF0ud2F0Y2hlcnMucGVybS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5zKEJsb2NrcywgQmxvY2spO1xyXG5cclxuY2xhc3MgTWl4aW4ge1xyXG4gIHN0YXRpYyBldmFsdWF0ZSA9IHRydWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIGVsZW0sXHJcbiAgICAgIG1hdGNoLFxyXG4gICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgcGFyZW50U2NvcGVcclxuICAgIH0gPSBvcHRzO1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcclxuICAgICAgJCQ6IHtcclxuICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgX3ZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgIHBhcmVudDogcGFyZW50U2NvcGUsXHJcbiAgICAgICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgICAgIHdhdGNoZXJzVG9SZW1vdmU6IG5ldyBBcnIoW10pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLm1hdGNoID0gbmV3IEFycihtYXRjaCkuc2xpY2UoMSkuJDtcclxuICAgIHRoaXMuZWxlbSA9IGVsZW07XHJcblxyXG4gICAgaWYgKG5ldyBTdXBlcih0aGlzKS5wcm90bygpLiQuY29uc3RydWN0b3IuZXZhbHVhdGUpIHtcclxuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZXZhbHVhdGVBbmRXYXRjaCgobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgdGhpcy5hZnRlclVwZGF0ZShuZXdWYWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I29uVXBkYXRlOmAsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuYWZ0ZXJVcGRhdGUodGhpcy52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhcmVudEJsb2NrKSB7XHJcbiAgICAgIHBhcmVudEJsb2NrLiQkLm1peGlucy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWZ0ZXJVcGRhdGUoKSB7fVxyXG5cclxuICBiZWZvcmVSZW1vdmUoKSB7fVxyXG5cclxuICBldmFsdWF0ZUFuZFdhdGNoKGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIF92YWx1ZSxcclxuICAgICAgcGFyZW50XHJcbiAgICB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICByZXR1cm4gcGFyZW50LiQkLmV2YWx1YXRlKF92YWx1ZSwgY2FsbGJhY2ssIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZXZhbHVhdGVPbmNlKCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBfdmFsdWUsXHJcbiAgICAgIHBhcmVudFxyXG4gICAgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgcmV0dXJuIHBhcmVudC4kJC5ldmFsdWF0ZShfdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBNaXhpbiNyZW1vdmVcclxuICAgKiBAcHVibGljXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3QgZm9yY2luZyB0aGUgbWl4aW4gdG8gYmUgcmVtb3ZlZC5cclxuICAgKi9cclxuICByZW1vdmUoaXNQYXJlbnRTaWduYWwpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgIHdhdGNoZXJzVG9SZW1vdmVcclxuICAgIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIHJlbW92ZVdhdGNoZXJzKHdhdGNoZXJzVG9SZW1vdmUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuYmVmb3JlUmVtb3ZlKCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgZXJyb3IgaW4gYmVmb3JlUmVtb3ZlOicsIGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc1BhcmVudFNpZ25hbCAmJiBwYXJlbnRCbG9jaykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHBhcmVudEJsb2NrLiQkLm1peGlucy5pbmRleE9mKHRoaXMpO1xyXG5cclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIHBhcmVudEJsb2NrLiQkLm1peGlucy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5yZWdpc3RlckJ1aWx0SW5zKE1peGlucywgTWl4aW4pO1xyXG5cclxuZnVuY3Rpb24gaW5pdEFwcCgpIHtcclxuICBjb25zdCByb290ID0gZmluZCgnZC1yb290JykuZmlyc3QoKTtcclxuXHJcbiAgaWYgKCFyb290Lmxlbmd0aCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBkLXJvb3QgZWxlbWVudCBpcyBmb3VuZCEgKGluaXRBcHApJyk7XHJcbiAgfVxyXG5cclxuICByZWdpc3RlckJsb2NrcyhCbG9jaywgYmxvY2tzKTtcclxuXHJcbiAgaXRlcmF0ZShNaXhpbiwgKE1peGluLCBuYW1lKSA9PiB7XHJcbiAgICBpZiAobmFtZSA9PT0gJ2V2YWx1YXRlJykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKE1peGluKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFRoZSBcIiR7IG5hbWUgfVwiIG1peGluIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghYXR0ck5hbWUudGVzdChuYW1lKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYE5hbWUgXCIkeyBuYW1lIH1cIiBpcyBub3QgYWxsb3dlZCBmb3IgbWl4aW5zIHNvIHRoZSBtaXhpbiB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNJbnN0YW5jZU9mTWl4aW4oTWl4aW4pKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgbWl4aW4gZG9lcyBub3QgZXh0ZW5kIE1peGluIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIG1peGluc1tuYW1lXSA9IE1peGluO1xyXG5cclxuICAgIGRlZmluZVByb3BlcnRpZXMoTWl4aW4sIHtcclxuICAgICAgX21hdGNoOiBuZXcgUmVnRXhwKGBeJHsgbmFtZSB9KD86LShbXFxcXHNcXFxcU10rKSk/JGApXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgYmxvY2sgPSByb290LmF0dHIoJ2Jsb2NrJyk7XHJcblxyXG4gIGlmICghYmxvY2tzW2Jsb2NrXSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyBcIiR7IGJsb2NrIH1cIiBibG9jayBpcyByZWdpc3RlcmVkISAoaW5pdEFwcClgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlcGxhY2VtZW50ID0gZG9jLmNyZWF0ZUNvbW1lbnQoJyBkLXJvb3Q6IHN0YXJ0ICcpO1xyXG4gIGNvbnN0IHBhcmVudCA9IHJvb3QucGFyZW50KCk7XHJcblxyXG4gIHJlcGxhY2VtZW50LmFkZChkb2MuY3JlYXRlQ29tbWVudCgnIGQtcm9vdDogZW5kICcpKTtcclxuXHJcbiAgcm9vdC5yZXBsYWNlKHJlcGxhY2VtZW50KTtcclxuXHJcbiAgY3JlYXRlQmxvY2soe1xyXG4gICAgbm9kZToge1xyXG4gICAgICBuYW1lOiBibG9jayxcclxuICAgICAgYXR0cnM6IHt9LFxyXG4gICAgICBjaGlsZHJlbjogbmV3IEFycihbXSlcclxuICAgIH0sXHJcbiAgICBhZnRlcjogcmVwbGFjZW1lbnQuZmlyc3QoKSxcclxuICAgIHBhcmVudFxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckJsb2NrcyhCbG9jaywgYmxvY2tzKSB7XHJcbiAgaXRlcmF0ZShCbG9jaywgKEJsb2NrLCBuYW1lKSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIG5hbWUgPT09ICdjb2xsYXBzZVdoaXRlU3BhY2UnXHJcbiAgICAgIHx8IG5hbWUgPT09ICdkZWZhdWx0QXJncydcclxuICAgICAgfHwgbmFtZSA9PT0gJ3RlbXBsYXRlJ1xyXG4gICAgICB8fCBuYW1lID09PSAnd3JhcCdcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0Z1bmN0aW9uKEJsb2NrKSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYFRoZSBcIiR7IG5hbWUgfVwiIGJsb2NrIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdGFnTmFtZS50ZXN0KG5hbWUpICYmIG5hbWUgIT09ICcjZC1pdGVtJykge1xyXG4gICAgICBjb25zb2xlLndhcm4oYE5hbWUgXCIkeyBuYW1lIH1cIiBpcyBub3QgYWxsb3dlZCBmb3IgYmxvY2tzIHNvIHRoZSBibG9jayB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNJbnN0YW5jZU9mQmxvY2soQmxvY2spKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIFwiJHsgbmFtZSB9XCIgYmxvY2sgZG9lcyBub3QgZXh0ZW5kIEJsb2NrIGFuZCB3aWxsIG5vdCBiZSByZWdpc3RlcmVkIChpbml0QXBwKWApO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShibG9ja3MpO1xyXG5cclxuICAgIGJsb2Nrc1tuYW1lXSA9IHtcclxuICAgICAgYmxvY2s6IEJsb2NrLFxyXG4gICAgICBodG1sOiBkZWVwQ2xvbmVDaGlsZHJlbihcclxuICAgICAgICBtYXJrdXBUb0pTT04oXHJcbiAgICAgICAgICBgJHsgQmxvY2sudGVtcGxhdGUgfHwgJycgfWAsXHJcbiAgICAgICAgICBCbG9jay5jb2xsYXBzZVdoaXRlU3BhY2VcclxuICAgICAgICApXHJcbiAgICAgICksXHJcbiAgICAgIGNoaWxkcmVuXHJcbiAgICB9O1xyXG5cclxuICAgIHJlZ2lzdGVyQmxvY2tzKEJsb2NrLCBjaGlsZHJlbik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQnVpbHRJbnMoc2V0LCBwcm90bykge1xyXG4gIGl0ZXJhdGUoc2V0LCAocmVnaXN0ZXIpID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZSxcclxuICAgICAgdmFsdWVcclxuICAgIH0gPSByZWdpc3Rlcihwcm90bywgY3JlYXRlQmxvY2spO1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwge1xyXG4gICAgICB2YWx1ZSxcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHsgbm9kZSwgYWZ0ZXIsIHBhcmVudCwgcGFyZW50QmxvY2ssIHBhcmVudFNjb3BlIH0pIHtcclxuICBwYXJlbnRTY29wZSA9IChub2RlICYmIG5vZGUuYmxvY2spIHx8IHBhcmVudFNjb3BlO1xyXG5cclxuICBjb25zdCBuYW1lID0gKG5vZGUgJiYgbm9kZS5uYW1lKSB8fCAnVW5rbm93bkJsb2NrJztcclxuICBjb25zdCBhcmdzID0gKG5vZGUgJiYgbm9kZS5hdHRycykgfHwge307XHJcbiAgY29uc3QgY2hpbGRyZW4gPSAobm9kZSAmJiBub2RlLmNoaWxkcmVuKSB8fCBuZXcgQXJyKFtdKTtcclxuICBjb25zdCBlbGVtID0gcGFyZW50LnByb3AoJ25hbWVzcGFjZVVSSScpID09PSBzdmdOU1xyXG4gICAgPyBkb2Muc3ZnKClcclxuICAgIDogbmV3IEVsZW0oZG9jLnRlbXBsYXRlKCkuJFswXS5jb250ZW50KTtcclxuICBjb25zdCBsb2NhbEJsb2NrcyA9IHBhcmVudFNjb3BlID8gcGFyZW50U2NvcGUuJCQuQmxvY2suY2hpbGRyZW4gOiBibG9ja3M7XHJcbiAgbGV0IGNvbnN0cnVjdG9yID0gbm9kZSAmJiBub2RlLm5hbWUgJiYgbG9jYWxCbG9ja3Nbbm9kZS5uYW1lXSA/IGxvY2FsQmxvY2tzW25vZGUubmFtZV0uYmxvY2sgOiBudWxsO1xyXG4gIGxldCBkQmxvY2tNYXRjaDtcclxuXHJcbiAgaWYgKCFjaGlsZHJlbi5sZW5ndGggJiYgKGRCbG9ja01hdGNoID0gbmFtZS5tYXRjaCgvXmQtYmxvY2stKFtcXHNcXFNdKykkLykgfHwgbmFtZSA9PT0gJ2QtYmxvY2snKSkge1xyXG4gICAgY29uc3RydWN0b3IgPSBibG9ja3NbJ2QtYmxvY2snXS5ibG9jaztcclxuXHJcbiAgICBhcmdzLm5hbWUgPSBkQmxvY2tNYXRjaCA/IGRCbG9ja01hdGNoWzFdIDogbnVsbDtcclxuICB9XHJcblxyXG4gIGlmICghY29uc3RydWN0b3IpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgdmFsdWUsXHJcbiAgICAgIGNoaWxkcmVuXHJcbiAgICB9ID0gbm9kZTtcclxuXHJcbiAgICBpZiAobmFtZSA9PT0gJyN0ZXh0JyAmJiBleHByZXNzaW9uUmVnRXhwLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgIHJldHVybiBjcmVhdGVCbG9jayh7XHJcbiAgICAgICAgbm9kZToge1xyXG4gICAgICAgICAgbmFtZTogJ2QtdGV4dCcsXHJcbiAgICAgICAgICBhdHRyczogeyB2YWx1ZSB9LFxyXG4gICAgICAgICAgY2hpbGRyZW46IG5ldyBBcnIoW10pLFxyXG4gICAgICAgICAgYmxvY2s6IHBhcmVudFNjb3BlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZnRlcixcclxuICAgICAgICBwYXJlbnQsXHJcbiAgICAgICAgcGFyZW50QmxvY2ssXHJcbiAgICAgICAgcGFyZW50U2NvcGVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZWxlbWVudCA9IGVsZW0uY3JlYXRlKG5hbWUpO1xyXG4gICAgY29uc3QgY3VycmVudE1peGlucyA9IG5ldyBBcnIoW10pO1xyXG5cclxuICAgIGNvbnN0IGF0dHJzID0gbmV3IFN1cGVyKGFyZ3MpLm9iamVjdCgob2JqZWN0LCB2YWx1ZSwgYXR0cikgPT4ge1xyXG4gICAgICBjb25zdCBtYXRjaCA9IGl0ZXJhdGUobWl4aW5zLCAoTWl4aW4sIG5hbWUpID0+IHtcclxuICAgICAgICBjb25zdCBtYXRjaCA9IGF0dHIubWF0Y2goTWl4aW4uX21hdGNoKTtcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtYXRjaCxcclxuICAgICAgICAgICAgbmFtZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgY3VycmVudE1peGlucy5wdXNoKHtcclxuICAgICAgICAgIG5hbWU6IG1hdGNoLm5hbWUsXHJcbiAgICAgICAgICBtYXRjaDogbWF0Y2gubWF0Y2gsXHJcbiAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgIGVsZW06IGVsZW1lbnQsXHJcbiAgICAgICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgICAgIHBhcmVudFNjb3BlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgb2JqZWN0W2F0dHJdID0gcGFyZW50U2NvcGUuJCQuZXZhbHVhdGUodmFsdWUsICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnQuYXR0cihhdHRyLCB2YWx1ZSk7XHJcbiAgICAgIH0sIHBhcmVudEJsb2NrKTtcclxuICAgIH0pLiQ7XHJcblxyXG4gICAgaWYgKCFpc05pbCh2YWx1ZSkpIHtcclxuICAgICAgZWxlbWVudC50ZXh0KHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYXR0cnMpIHtcclxuICAgICAgZWxlbWVudC5hdHRyKGF0dHJzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWZ0ZXIubGVuZ3RoKSB7XHJcbiAgICAgIGVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYWZ0ZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWxlbWVudC5pbnRvKHBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXIgPSBuZXcgRWxlbSgpO1xyXG5cclxuICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICB0cmFuc2Zvcm1ESWZDaGlsZHJlbihjaGlsZHJlbikuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgICBjb25zdCBibG9jayA9IGNyZWF0ZUJsb2NrKHtcclxuICAgICAgICAgIG5vZGU6IGNoaWxkLFxyXG4gICAgICAgICAgYWZ0ZXIsXHJcbiAgICAgICAgICBwYXJlbnQ6IGVsZW1lbnQsXHJcbiAgICAgICAgICBwYXJlbnRCbG9jayxcclxuICAgICAgICAgIHBhcmVudFNjb3BlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChibG9jayBpbnN0YW5jZW9mIEJsb2NrKSB7XHJcbiAgICAgICAgICBhZnRlciA9IGJsb2NrLiQkLmVsZW1zLmVuZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWZ0ZXIgPSBibG9jaztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGN1cnJlbnRNaXhpbnMuZm9yRWFjaCgob3B0cykgPT4ge1xyXG4gICAgICBjcmVhdGVNaXhpbihvcHRzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYmxvY2sgPSBub2RlICYmIG5vZGUubmFtZSA/IGxvY2FsQmxvY2tzW25vZGUubmFtZV0gOiBudWxsO1xyXG4gIGNvbnN0IGJsb2NrSW5zdGFuY2UgPSBuZXcgY29uc3RydWN0b3Ioe1xyXG4gICAgbmFtZSxcclxuICAgIGFyZ3MsXHJcbiAgICBjaGlsZHJlbixcclxuICAgIGJsb2NrLFxyXG4gICAgcGFyZW50LFxyXG4gICAgcGFyZW50QmxvY2ssXHJcbiAgICBwYXJlbnRTY29wZVxyXG4gIH0pO1xyXG5cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhibG9ja0luc3RhbmNlLCB7XHJcbiAgICBhcmdzOiB7XHJcbiAgICAgIHZhbHVlOiBibG9ja0luc3RhbmNlLmFyZ3NcclxuICAgIH0sXHJcbiAgICBnbG9iYWw6IHtcclxuICAgICAgdmFsdWU6IGJsb2NrSW5zdGFuY2UuZ2xvYmFsXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGxldCBodG1sID0gbmFtZSA9PT0gJ2QtZWxlbWVudHMnXHJcbiAgICA/IG5ldyBBcnIoYmxvY2tJbnN0YW5jZS5hcmdzLnZhbHVlIHx8IFtdKVxyXG4gICAgOiBkZWVwQ2xvbmVDaGlsZHJlbihibG9jay5odG1sLCBibG9ja0luc3RhbmNlKTtcclxuXHJcbiAgaWYgKG5hbWUgPT09ICdkLWVsZW1lbnRzJyAmJiBwYXJlbnRCbG9jay4kJC5uYW1lID09PSAnI2QtaXRlbScpIHtcclxuICAgIGh0bWwgPSBkZWVwQ2xvbmVDaGlsZHJlbihodG1sLCBwYXJlbnRCbG9jayk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7XHJcbiAgICAkJCxcclxuICAgIGFyZ3M6IEFyZ3MsXHJcbiAgICBnbG9iYWwsXHJcbiAgICAuLi5sb2NhbHNcclxuICB9ID0gYmxvY2tJbnN0YW5jZTtcclxuICBjb25zdCBldmVudHVhbEFyZ3MgPSB7XHJcbiAgICAuLi5jb25zdHJ1Y3Rvci5kZWZhdWx0QXJncyxcclxuICAgIC4uLkFyZ3NcclxuICB9O1xyXG5cclxuICBkZWxldGUgbG9jYWxzLiQ7XHJcbiAgZGVsZXRlIGxvY2Fscy4kJDtcclxuXHJcbiAgJCQuYXJncyA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShldmVudHVhbEFyZ3MpO1xyXG4gICQkLmxvY2FscyA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShsb2NhbHMpO1xyXG4gICQkLmdsb2JhbCA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShnbG9iYWwsICdnbG9iYWwnLCBwYXJlbnRTY29wZSk7XHJcblxyXG4gIGlmIChuYW1lID09PSAnI2QtaXRlbScpIHtcclxuICAgIGNvbnN0IHNjb3BlVmFsdWVzID0ge1xyXG4gICAgICBbbm9kZS5pdGVtTmFtZV06IG5vZGUuaXRlbSxcclxuICAgICAgW25vZGUuaW5kZXhOYW1lXTogbm9kZS5pbmRleFxyXG4gICAgfTtcclxuICAgIGxldCBwYXJlbnQgPSBibG9ja0luc3RhbmNlO1xyXG4gICAgbGV0IHNjb3BlID0gcGFyZW50U2NvcGU7XHJcbiAgICBsZXQgREl0ZW1Gb3VuZDtcclxuXHJcbiAgICB3aGlsZSAoIURJdGVtRm91bmQgJiYgKHBhcmVudCA9IHBhcmVudC4kJC5wYXJlbnRCbG9jaykpIHtcclxuICAgICAgREl0ZW1Gb3VuZCA9IHBhcmVudC4kJC5uYW1lID09PSAnI2QtaXRlbSc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKERJdGVtRm91bmQpIHtcclxuICAgICAgc2NvcGUgPSBwYXJlbnQuJCQuc2NvcGU7XHJcbiAgICB9XHJcblxyXG4gICAgJCQuQmxvY2sgPSBwYXJlbnRTY29wZS4kJC5CbG9jaztcclxuICAgICQkLnByaXZhdGVTY29wZSA9IGNvbnN0cnVjdFByaXZhdGVTY29wZShzY29wZVZhbHVlcyk7XHJcbiAgICBjb25zdHJ1Y3RQdWJsaWNTY29wZSgkJC5zY29wZSA9IE9iamVjdC5jcmVhdGUoc2NvcGUpLCBzY29wZVZhbHVlcywgJCQucHJpdmF0ZVNjb3BlKTtcclxuICB9XHJcblxyXG4gIGlmIChuYW1lID09PSAnZC1lYWNoJykge1xyXG4gICAgJCQuc2NvcGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudFNjb3BlKTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdFB1YmxpY1Njb3BlKEFyZ3MsIGV2ZW50dWFsQXJncywgJCQuYXJncyk7XHJcbiAgY29uc3RydWN0UHVibGljU2NvcGUoZ2xvYmFsLCBnbG9iYWwsICQkLmdsb2JhbCk7XHJcbiAgY29uc3RydWN0UHVibGljU2NvcGUoYmxvY2tJbnN0YW5jZSwgbG9jYWxzLCAkJC5sb2NhbHMpO1xyXG5cclxuICB0cnkge1xyXG4gICAgYmxvY2tJbnN0YW5jZS5hZnRlckNvbnN0cnVjdCgpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I2FmdGVyQ29uc3RydWN0OmAsIGVycik7XHJcbiAgfVxyXG5cclxuICBjb25zdCBlbGVtcyA9IG5ldyBFbGVtKFtcclxuICAgICQkLmVsZW1zLnN0YXJ0LFxyXG4gICAgJCQuZWxlbXMuZW5kXHJcbiAgXSk7XHJcblxyXG4gIGlmIChhZnRlci5sZW5ndGgpIHtcclxuICAgIGVsZW1zLmluc2VydEFmdGVyKGFmdGVyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZWxlbXMuaW50byhwYXJlbnQpO1xyXG4gIH1cclxuXHJcbiAgYWZ0ZXIgPSAkJC5lbGVtcy5zdGFydDtcclxuXHJcbiAgLy8gY29uc29sZS5sb2coYmxvY2tJbnN0YW5jZSk7XHJcblxyXG4gIHRyYW5zZm9ybURJZkNoaWxkcmVuKGh0bWwpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcbiAgICBjb25zdCBibG9jayA9IGNyZWF0ZUJsb2NrKHtcclxuICAgICAgbm9kZTogY2hpbGQsXHJcbiAgICAgIGFmdGVyLFxyXG4gICAgICBwYXJlbnQsXHJcbiAgICAgIHBhcmVudEJsb2NrOiBibG9ja0luc3RhbmNlLFxyXG4gICAgICBwYXJlbnRTY29wZVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGJsb2NrIGluc3RhbmNlb2YgQmxvY2spIHtcclxuICAgICAgY29uc3QgeyBlbGVtcyB9ID0gYmxvY2suJCQ7XHJcblxyXG4gICAgICBhZnRlciA9IGVsZW1zLmVuZDtcclxuXHJcbiAgICAgICQkLmVsZW1zLmNvbnRlbnQuYWRkKGVsZW1zLnN0YXJ0LCBlbGVtcy5jb250ZW50LCBlbGVtcy5lbmQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWZ0ZXIgPSBibG9jaztcclxuXHJcbiAgICAgICQkLmVsZW1zLmNvbnRlbnQuYWRkKGJsb2NrKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGJsb2NrSW5zdGFuY2UuYWZ0ZXJSZW5kZXIoKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNhZnRlclJlbmRlcjpgLCBlcnIpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGJsb2NrSW5zdGFuY2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU1peGluKHsgbmFtZSwgdmFsdWUsIG1hdGNoLCBlbGVtLCBwYXJlbnRCbG9jaywgcGFyZW50U2NvcGUgfSkge1xyXG4gIGNvbnN0IE1peGluID0gbWl4aW5zW25hbWVdO1xyXG5cclxuICBuZXcgTWl4aW4oe1xyXG4gICAgdmFsdWUsXHJcbiAgICBtYXRjaCxcclxuICAgIGVsZW0sXHJcbiAgICBwYXJlbnRCbG9jayxcclxuICAgIHBhcmVudFNjb3BlXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZXBDbG9uZUNoaWxkcmVuKGNoaWxkcmVuLCBibG9jaykge1xyXG4gIHJldHVybiBuZXcgQXJyKGNoaWxkcmVuIHx8IFtdKS5tYXAoKGNoaWxkKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGF0dHJzLFxyXG4gICAgICB2YWx1ZSxcclxuICAgICAgY2hpbGRyZW5cclxuICAgIH0gPSBjaGlsZDtcclxuICAgIGNvbnN0IG5ld0NoaWxkID0ge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICB2YWx1ZSxcclxuICAgICAgYXR0cnM6IHsgLi4uYXR0cnMgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoYmxvY2spIHtcclxuICAgICAgbmV3Q2hpbGQuYmxvY2sgPSBibG9jaztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hpbGRyZW4pIHtcclxuICAgICAgbmV3Q2hpbGQuY2hpbGRyZW4gPSBkZWVwQ2xvbmVDaGlsZHJlbihjaGlsZHJlbiwgYmxvY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdDaGlsZDtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtRElmQ2hpbGRyZW4oY2hpbGRyZW4pIHtcclxuICByZXR1cm4gbmV3IEFycihjaGlsZHJlbiB8fCBbXSlcclxuICAgIC5jb25jYXQoe30pXHJcbiAgICAub2JqZWN0KChvYmplY3QsIGNoaWxkKSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgbmFtZSB9ID0gY2hpbGQ7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBodG1sLFxyXG4gICAgICAgIGlmRWxzZVxyXG4gICAgICB9ID0gb2JqZWN0O1xyXG5cclxuICAgICAgaWYgKG5hbWUgIT09ICdkLWVsc2UtaWYnICYmIG5hbWUgIT09ICdkLWVsc2UnKSB7XHJcbiAgICAgICAgaWYgKGlmRWxzZSkge1xyXG4gICAgICAgICAgaHRtbC5wdXNoKHtcclxuICAgICAgICAgICAgbmFtZTogJ2QtaWYnLFxyXG4gICAgICAgICAgICBibG9jazogaWZFbHNlLiRbMF0uYmxvY2ssXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiBpZkVsc2VcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIG9iamVjdC5pZkVsc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkLWlmJykge1xyXG4gICAgICAgICAgb2JqZWN0LmlmRWxzZSA9IG5ldyBBcnIoW2NoaWxkXSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICghaXNVbmRlZmluZWQobmFtZSkpIHtcclxuICAgICAgICAgIGh0bWwucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIChpZkVsc2UgfHwgaHRtbCkucHVzaChjaGlsZCk7XHJcblxyXG4gICAgICAgIGlmIChuYW1lID09PSAnZC1lbHNlJyAmJiBpZkVsc2UpIHtcclxuICAgICAgICAgIGh0bWwucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6ICdkLWlmJyxcclxuICAgICAgICAgICAgYmxvY2s6IGlmRWxzZS4kWzBdLmJsb2NrLFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogaWZFbHNlXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBvYmplY3QuaWZFbHNlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgaHRtbDogbmV3IEFycihbXSksXHJcbiAgICAgIGlmRWxzZTogbnVsbFxyXG4gICAgfSkuJC5odG1sO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0luc3RhbmNlT2ZCbG9jayhibG9jaykge1xyXG4gIHJldHVybiBpc1Byb3RvdHlwZU9mLmNhbGwoQmxvY2ssIGJsb2NrKSAmJiBpc1Byb3RvdHlwZU9mLmNhbGwoQmxvY2sucHJvdG90eXBlLCBibG9jay5wcm90b3R5cGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0luc3RhbmNlT2ZNaXhpbihtaXhpbikge1xyXG4gIHJldHVybiBpc1Byb3RvdHlwZU9mLmNhbGwoTWl4aW4sIG1peGluKSAmJiBpc1Byb3RvdHlwZU9mLmNhbGwoTWl4aW4ucHJvdG90eXBlLCBtaXhpbi5wcm90b3R5cGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVXYXRjaGVycyh3YXRjaGVyc1RvUmVtb3ZlKSB7XHJcbiAgd2F0Y2hlcnNUb1JlbW92ZS5mb3JFYWNoKCh7IHdhdGNoZXIsIHdhdGNoZXJzIH0pID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gd2F0Y2hlcnMuaW5kZXhPZih3YXRjaGVyKTtcclxuXHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIHdhdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdFByaXZhdGVTY29wZShvYmplY3QsIHR5cGUsIHBhcmVudFNjb3BlKSB7XHJcbiAgbGV0IHNjb3BlID0ge307XHJcblxyXG4gIGlmICh0eXBlID09PSAnZ2xvYmFsJykge1xyXG4gICAgc2NvcGUgPSBPYmplY3QuY3JlYXRlKFxyXG4gICAgICBwYXJlbnRTY29wZVxyXG4gICAgICAgID8gcGFyZW50U2NvcGUuJCQuZ2xvYmFsXHJcbiAgICAgICAgOiBudWxsXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBTdXBlcihvYmplY3QpLm9iamVjdCgoc2NvcGUsIHZhbHVlLCBrZXkpID0+IHtcclxuICAgIHNjb3BlW2tleV0gPSB7XHJcbiAgICAgIHZhbHVlLFxyXG4gICAgICB3YXRjaGVyczoge1xyXG4gICAgICAgIHRlbXA6IG5ldyBBcnIoW10pLFxyXG4gICAgICAgIHBlcm06IG5ldyBBcnIoW10pXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgc2NvcGUpLiQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnN0cnVjdFB1YmxpY1Njb3BlKHNjb3BlLCBzY29wZVZhbHVlcywgcHJpdmF0ZVNjb3BlKSB7XHJcbiAgbmV3IFN1cGVyKHNjb3BlKS5kZWZpbmUobmV3IFN1cGVyKHNjb3BlVmFsdWVzKS5tYXAoKHZhbHVlLCBrZXkpID0+IHtcclxuICAgIGNvbnN0IHNjb3BlID0gcHJpdmF0ZVNjb3BlW2tleV07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2V0KCkge1xyXG4gICAgICAgIGlmIChldmFsTW9kZSkge1xyXG4gICAgICAgICAgaWYgKGdldHRpbmcuaW5kZXhPZihzY29wZS53YXRjaGVycy50ZW1wKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgZ2V0dGluZy5wdXNoKHNjb3BlLndhdGNoZXJzLnRlbXApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNjb3BlLnZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IHNjb3BlLnZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoYW5nZWQpIHtcclxuICAgICAgICAgIGNoYW5nZWQgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9sZFRlbXBXYXRjaGVycyA9IHNjb3BlLndhdGNoZXJzLnRlbXAuc2xpY2UoKTtcclxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHNjb3BlLnZhbHVlO1xyXG5cclxuICAgICAgICBzY29wZS53YXRjaGVycy50ZW1wID0gbmV3IEFycihbXSk7XHJcbiAgICAgICAgc2NvcGUudmFsdWUgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgb2xkVGVtcFdhdGNoZXJzLmZvckVhY2goKHdhdGNoZXIpID0+IHtcclxuICAgICAgICAgIHdhdGNoZXIub25SZW1vdmUoKTtcclxuICAgICAgICAgIHdhdGNoZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjaGFuZ2VkLnB1c2goe1xyXG4gICAgICAgICAgc2NvcGUsXHJcbiAgICAgICAgICBvbGRWYWx1ZSxcclxuICAgICAgICAgIHZhbHVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFjaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCB3YXMgPSBuZXcgQXJyKFtdKTtcclxuXHJcbiAgICAgICAgICB3aGlsZSAoY2hhbmdlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNoYW5nZWQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICBzY29wZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWVcclxuICAgICAgICAgICAgICB9ID0gY2hhbmdlZFtpXTtcclxuXHJcbiAgICAgICAgICAgICAgc2NvcGUud2F0Y2hlcnMucGVybS5mb3JFYWNoKCh3YXRjaGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2FzLmluZGV4T2Yod2F0Y2hlcikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgIHdhdGNoZXIodmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgd2FzLnB1c2god2F0Y2hlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGNoYW5nZWQuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY2hhbmdlZCA9IG51bGw7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSkuJCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IEJsb2NrLCBNaXhpbiwgaW5pdEFwcCB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvZm9ybWF0c1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgdHlwZXMgb2YgZm9ybWF0dGluZyBmb3Ige0BsaW5rIERhdGUjZm9ybWF0fS5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4uL1N1cGVyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuXHJcbmNvbnN0IHplcm8gPSBuZXcgU3RyKCcwJyk7XHJcbmNvbnN0IGRheXNPZlRoZVdlZWtOYW1lcyA9IFtcclxuICAnU3VuZGF5JyxcclxuICAnTW9uZGF5JyxcclxuICAnVHVlc2RheScsXHJcbiAgJ1dlZG5lc2RheScsXHJcbiAgJ1RodXJzZGF5JyxcclxuICAnRnJpZGF5JyxcclxuICAnU2F0dXJkYXknXHJcbl07XHJcbmNvbnN0IGRheXNPZlRoZVdlZWtBbGlhc2VzID0gbmV3IFN1cGVyKGRheXNPZlRoZVdlZWtOYW1lcykubWFwKCh2YWx1ZSkgPT4gdmFsdWUuc2xpY2UoMCwgMykpLiQ7XHJcbmNvbnN0IG1vbnRoc05hbWVzID0gW1xyXG4gICdKYW51YXJ5JyxcclxuICAnRmVicnVhcnknLFxyXG4gICdNYXJjaCcsXHJcbiAgJ0FwcmlsJyxcclxuICAnTWF5JyxcclxuICAnSnVuZScsXHJcbiAgJ0p1bGUnLFxyXG4gICdBdWd1c3QnLFxyXG4gICdTZXB0ZW1iZXInLFxyXG4gICdPY3RvYmVyJyxcclxuICAnTm92ZW1iZXInLFxyXG4gICdEZWNlbWJlcidcclxuXTtcclxuY29uc3QgbW9udGhzQWxpYXNlcyA9IG5ldyBTdXBlcihtb250aHNOYW1lcykubWFwKCh2YWx1ZSkgPT4gdmFsdWUuc2xpY2UoMCwgMykpLiQ7XHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIG1vZHVsZTpjb25zdGFudHMvZm9ybWF0c35tYXRjaENhbGxiYWNrXHJcbiAqIEBwYXJhbSB7RGF0fSBkYXRlIC0gRC13cmFwIG9mIGEgZGF0ZSB0byBhcHBseSBmb3JtYXQgdG8uXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBNYXRjaGVkIGFwcGxpZWQgZXhwcmVzc2lvbi5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gbW9kdWxlOmNvbnN0YW50cy9mb3JtYXRzfmZvcm1hdEV4cHJcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGZvcm1hdCAtIE1hdGNoZWQgZm9ybWF0LlxyXG4gKiBAcHJvcGVydHkge21vZHVsZTpjb25zdGFudHMvZm9ybWF0c35tYXRjaENhbGxiYWNrfSBtYXRjaCAtIENhbGxiYWNrIGlmIHRoZXJlIHdhcyBhIG1hdGNoLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bW9kdWxlOmNvbnN0YW50cy9mb3JtYXRzfmZvcm1hdEV4cHJbXX1cclxuICogQGRlc2NyaXB0aW9uIEFycmF5IG9mIGRpZmZlcmVudCBmb3JtYXRzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgW1xyXG4gIHtcclxuICAgIGZvcm1hdDogJ2NjYycsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdjJyksIDMpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdjJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ2MnKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnc3MnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgncycpLCAyKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAncycsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdzJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ21tJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiByb3VuZChkYXRlW3V0Y10oJ20nKSwgMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ20nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgnbScpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdoaCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdoJyksIDIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdoJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ2gnKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnZGRkZCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF5c09mVGhlV2Vla05hbWVzW2RhdGVbdXRjXSgnZHcnKV1cclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ2RkZCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF5c09mVGhlV2Vla0FsaWFzZXNbZGF0ZVt1dGNdKCdkdycpXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnZGQnLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IHJvdW5kKGRhdGVbdXRjXSgnZCcpLCAyKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAnZCcsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gZGF0ZVt1dGNdKCdkJylcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ01NTU0nLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IG1vbnRoc05hbWVzW2RhdGVbdXRjXSgnTScpIC0gMV1cclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ01NTScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gbW9udGhzQWxpYXNlc1tkYXRlW3V0Y10oJ00nKSAtIDFdXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdNTScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCdNJyksIDIpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICdNJyxcclxuICAgIG1hdGNoOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW3V0Y10oJ00nKVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZm9ybWF0OiAneXl5eScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gcm91bmQoZGF0ZVt1dGNdKCd5JyksIDQpXHJcbiAgfSxcclxuICB7XHJcbiAgICBmb3JtYXQ6ICd5eScsXHJcbiAgICBtYXRjaDogKGRhdGUsIHV0YykgPT4gU3RyaW5nKGRhdGVbdXRjXSgneScpKS5zbGljZSgtMilcclxuICB9LFxyXG4gIHtcclxuICAgIGZvcm1hdDogJ3knLFxyXG4gICAgbWF0Y2g6IChkYXRlLCB1dGMpID0+IGRhdGVbdXRjXSgneScpXHJcbiAgfVxyXG5dO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiByb3VuZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtYmVyIC0gTnVtYmVyIHRvIHJvdW5kLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gZGlnaXRzIC0gTnVtYmVyIG9mIHRoZSBkaWdpdHMgb2YgdGhlIG91dHB1dC5cclxuICogQHJldHVybnMge1N0cmluZ30gU3RyaW5nIHdpdGggbmVjZXNzYXJ5IGFkZGl0aW9uYWwgc3RhcnRpbmcgemVyb2VzLlxyXG4gKi9cclxuZnVuY3Rpb24gcm91bmQobnVtYmVyLCBkaWdpdHMpIHtcclxuICBjb25zdCBzdHJpbmcgPSBTdHJpbmcobnVtYmVyKTtcclxuICBsZXQgemVyb2VzID0gZGlnaXRzIC0gc3RyaW5nLmxlbmd0aDtcclxuXHJcbiAgemVyb2VzID0gemVyb2VzIDwgMCA/IDAgOiB6ZXJvZXM7XHJcblxyXG4gIHJldHVybiB6ZXJvLnJlcGVhdCh6ZXJvZXMpLiQgKyBzdHJpbmc7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgRGF0XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBEYXQgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgTnVtIH0gZnJvbSAnLi9OdW0nO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGNvbnN0cnVjdG9ycyB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IGZvcm1hdHMgZnJvbSAnLi9jb25zdGFudHMvZm9ybWF0cyc7XHJcbmltcG9ydCB7IGlzRGF0ZSwgaXRlcmF0ZSwgU3ltYm9sLCBkZWZpbmVQcm9wZXJ0aWVzIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7Kn0gRGF0ZUxpa2VcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2MnfCdzJ3wnbSd8J2gnfCdkJ3wndyd8J00nfCd5J30gQWRkUGVyaW9kXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgeydjJ3wncyd8J20nfCdoJ3wnZCd8J2R3J3wnTSd8J3knfSBHZXRQZXJpb2RcclxuICogQHB1YmxpY1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7J2MnfCdzJ3wnbSd8J2gnfCdkJ3wnTSd8J3knfSBPZk9uZVBlcmlvZFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnYyd8J3MnfCdtJ3wnaCd8J2QnfCdNJ3wneSd9IFNldFBlcmlvZFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnY2NjJ3wnYyd8J3NzJ3wncyd8J21tJ3wnbSd8J2hoJ3wnaCd8J2RkZGQnfCdkZGQnfCdkZCd8J2QnfCdNTU1NJ3wnTU1NJ3wnTU0nfCdNJ3wneXl5eSd8J3l5J3wneSd9IEZvcm1hdFxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5cclxuY29uc3QgY29lZmZzID0ge1xyXG4gIGM6IDEsXHJcbiAgczogMTAwMCxcclxuICBtOiA2MDAwMCxcclxuICBoOiAzNjAwMDAwLFxyXG4gIGQ6IDg2NDAwMDAwLFxyXG4gIHc6IDYwNDgwMDAwMCxcclxuICBNOiAyNTkyMDAwMDAwLFxyXG4gIHk6IDMxNTM2MDAwMDAwXHJcbn07XHJcblxyXG5jb25zdCBnZXRTd2l0Y2hlciA9IHN3aXRjaGVyKHtcclxuICBjOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbGxpc2Vjb25kc2BdKCksXHJcbiAgczogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1TZWNvbmRzYF0oKSxcclxuICBtOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbnV0ZXNgXSgpLFxyXG4gIGg6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9SG91cnNgXSgpLFxyXG4gIGQ6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RGF0ZWBdKCksXHJcbiAgZHc6IChkYXRlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RGF5YF0oKSxcclxuICBNOiAoZGF0ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1vbnRoYF0oKSArIDEsXHJcbiAgeTogKGRhdGUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1GdWxsWWVhcmBdKClcclxufSwgJ2VxdWFscycsIE5hTik7XHJcbmNvbnN0IHNldFN3aXRjaGVyID0gc3dpdGNoZXIoe1xyXG4gIGM6IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbGxpc2Vjb25kc2BdKHZhbHVlKSxcclxuICBzOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1TZWNvbmRzYF0odmFsdWUpLFxyXG4gIG06IChkYXRlLCB2YWx1ZSwgdXRjKSA9PiBkYXRlW2AkeyB1dGMgfU1pbnV0ZXNgXSh2YWx1ZSksXHJcbiAgaDogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9SG91cnNgXSh2YWx1ZSksXHJcbiAgZDogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RGF0ZWBdKHZhbHVlKSxcclxuICBNOiAoZGF0ZSwgdmFsdWUsIHV0YykgPT4gZGF0ZVtgJHsgdXRjIH1Nb250aGBdKHZhbHVlIC0gMSksXHJcbiAgeTogKGRhdGUsIHZhbHVlLCB1dGMpID0+IGRhdGVbYCR7IHV0YyB9RnVsbFllYXJgXSh2YWx1ZSlcclxufSk7XHJcblxyXG4vKipcclxuICogQGNsYXNzIERhdFxyXG4gKiBAZXh0ZW5kcyBTdXBlclxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RGF0ZX0gW2RhdGUgPSBuZXcgRGF0ZSgpXSAtIEEgZGF0ZSB0byB3cmFwLlxyXG4gKiBAcmV0dXJucyB7RGF0fSBJbnN0YW5jZSBvZiBEYXQuXHJcbiAqIEBkZXNjcmlwdGlvbiBXcmFwIG9mIGEgZGF0ZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogY29uc3QgZGF0ZSA9IG5ldyBEYXQobmV3IERhdGUoKSk7XHJcbiAqL1xyXG5jbGFzcyBEYXQgZXh0ZW5kcyBTdXBlciB7XHJcbiAgY29uc3RydWN0b3IoZGF0ZSA9IG5ldyBEYXRlKCkpIHtcclxuICAgIHN1cGVyKGRhdGUpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciBEYXQjJFxyXG4gICAgICogQHR5cGUge0RhdGV9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gT3JpZ2luYWwgZGF0ZS5cclxuICAgICAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjYWRkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7QWRkUGVyaW9kfE9iamVjdC48QWRkUGVyaW9kLCBOdW1iZXI+fSB3aGF0IC0gV2hhdCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtudW1iZXJdIC0gTnVtYmVyIG9mIHdoYXQgdG8gYWRkIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHBlcmlvZCBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge0RhdH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGFkZGluZyBhbW91bnRzIG9mIHRpbWUgdG8gdGhlIGRhdGUuIFJldHVybnMgbmV3IGluc3RhbmNlIG9mIERhdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpLmFkZCgnYycsIDIpLnRvSVNPU3RyaW5nKCk7ICAgICAgICAgLy8gJzIwMDAtMDEtMDFUMDA6MDA6MDAuMDAxWidcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuYWRkKHsgYzogMiwgZDogNSB9KS50b0lTT1N0cmluZygpOyAvLyAnMjAwMC0wMS0wNlQwMDowMDowMC4wMDFaJ1xyXG4gICAqL1xyXG4gIGFkZCh3aGF0LCBudW1iZXIpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgd2hhdCA9IHsgW3doYXRdOiBudW1iZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy50aW1lKHRoaXMudGltZSgpICsgbmV3IFN1cGVyKHdoYXQpLnN1bSgodmFsdWUsIHdoYXQpID0+IGNvZWZmc1t3aGF0XSAqIHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNleHBpcmVzXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7Kn0gW3ZhbHVlID0gdGhpc10gLSBWYWx1ZSB0byByZXNvbHZlIGFmdGVyIHRoZSBkYXRlIGV4cGlyZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGRlZmluaW5nIHdoZW4gdGhlIGRhdGUgZXhwaXJlcy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdCgpLmFkZCgnYycsIDUwMCkuZXhwaXJlcygnRXhwaXJlZCcpLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICogICAvLyBBZnRlciA1MDAgbWlsbGlzZWNvbmRzXHJcbiAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7IC8vICdFeHBpcmVkJ1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGV4cGlyZXModmFsdWUpIHtcclxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICB2YWx1ZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBOdW0odGhpcy4kIC0gbm93KCkpLnRpbWVvdXQodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjZm9ybWF0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgLSBUZW1wbGF0ZSBmb3IgdGhlIG91dHB1dC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3ByZWZpeCA9ICcnXSAtIElmIG5lZWRlZCBbYWxsIHNwZWNpYWwgc3RyaW5nc117QGxpbmsgRm9ybWF0fVxyXG4gICAqIGFyZSB0cmVhdGVkIGFzIHRoZXkgc2hvdWxkIGJlIHByZWZpeCB3aXRoIHByZWZpeC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBGb3JtYXR0ZWQgc3RyaW5nLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNyZWF0aW5nIGZvcm1hdHRlZCBvdXRwdXQgYmFzZWQgb24gYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQoJzE5OTktMTItMzFUMjM6NTk6NTkuOTk5WicpLmZvcm1hdCgnU2Vjb25kczogJHNzLCBtaWxsaXNlY29uZHM6ICRjY2MuJywgJyQnKTtcclxuICAgKiAvLyAnU2Vjb25kczogNTksIG1pbGxpc2Vjb25kczogOTk5LidcclxuICAgKi9cclxuICBmb3JtYXQoc3RyaW5nLCBwcmVmaXggPSAnJykge1xyXG4gICAgc3RyaW5nID0gbmV3IFN0cihuZXcgU3VwZXIoc3RyaW5nKS4kKTtcclxuICAgIHByZWZpeCA9IFN0cmluZyhuZXcgU3VwZXIocHJlZml4KS4kKTtcclxuXHJcbiAgICBpdGVyYXRlKGZvcm1hdHMsIChmb3JtYXQpID0+IHtcclxuICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2VTdHJpbmcocHJlZml4ICsgZm9ybWF0LmZvcm1hdCwgZm9ybWF0Lm1hdGNoKHRoaXMsICdnZXQnKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc3RyaW5nLiQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNmb3JtYXRVVENcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFNlZSB7QGxpbmsgRGF0I2Zvcm1hdH0uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwcmVmaXggPSAnJ10gLSBTZWUge0BsaW5rIERhdCNmb3JtYXR9LlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcuXHJcbiAgICogQGRlc2NyaXB0aW9uIFVUQyB2ZXJzaW9uIG9mIHtAbGluayBEYXQjZm9ybWF0fS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdCgnMTk5OS0wNy0wN1QwMzowOTowOS4wOTlaJykuZm9ybWF0VVRDKFxyXG4gICAqICAgYFxyXG4gICAqICAgICBNaWxsaXNlY29uZHM6ICRjY2N8JGMuXHJcbiAgICogICAgIFNlY29uZHM6ICAgICAgJHNzfCRzLlxyXG4gICAqICAgICBNaW51dGVzOiAgICAgICRtbXwkbS5cclxuICAgKiAgICAgSG91cnM6ICAgICAgICAkaGh8JGguXHJcbiAgICogICAgIERheTogICAgICAgICAgJGRkZGR8JGRkZHwkZGR8JGQuXHJcbiAgICogICAgIE1vbnRoOiAgICAgICAgJE1NTU18JE1NTXwkTU18JE0uXHJcbiAgICogICAgIFllYXI6ICAgICAgICAgJHl5eXl8JHl5fCR5LlxyXG4gICAqICAgYCxcclxuICAgKiAgICckJ1xyXG4gICAqICk7XHJcbiAgICogLy8gTWlsbGlzZWNvbmRzOiAwOTl8OTkuXHJcbiAgICogLy8gU2Vjb25kczogICAgICAwOXw5LlxyXG4gICAqIC8vIE1pbnV0ZXM6ICAgICAgMDl8OS5cclxuICAgKiAvLyBIb3VyczogICAgICAgIDAzfDMuXHJcbiAgICogLy8gRGF5OiAgICAgICAgICBGcmlkYXl8RnJpfDA3fDcuXHJcbiAgICogLy8gTW9udGg6ICAgICAgICBKdWx5fEp1bHwwN3w3LlxyXG4gICAqIC8vIFllYXI6ICAgICAgICAgMTk5OXw5OXwxOTk5LlxyXG4gICAqL1xyXG4gIGZvcm1hdFVUQyhzdHJpbmcsIHByZWZpeCA9ICcnKSB7XHJcbiAgICBzdHJpbmcgPSBuZXcgU3RyKG5ldyBTdXBlcihzdHJpbmcpLiQpO1xyXG4gICAgcHJlZml4ID0gU3RyaW5nKG5ldyBTdXBlcihwcmVmaXgpLiQpO1xyXG5cclxuICAgIGl0ZXJhdGUoZm9ybWF0cywgKGZvcm1hdCkgPT4ge1xyXG4gICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZVN0cmluZyhwcmVmaXggKyBmb3JtYXQuZm9ybWF0LCBmb3JtYXQubWF0Y2godGhpcywgJ2dldFVUQycpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzdHJpbmcuJDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2dldFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0dldFBlcmlvZH0gd2hhdCAtIFdoYXQgdG8gZ2V0LlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IE51bWJlciBvZiB3aGF0IHRvIGdldC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIHZhbHVlcyBzdWNoIGFzIHNlY29uZHMgb3IgbWludXRlcy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpLmdldCgncycpOyAvLyA1OVxyXG4gICAqL1xyXG4gIGdldCh3aGF0KSB7XHJcbiAgICByZXR1cm4gZ2V0U3dpdGNoZXIod2hhdCwgW3RoaXMuJCwgJ2dldCddKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2dldFVUQ1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0dldFBlcmlvZH0gd2hhdCAtIFNlZSB7QGxpbmsgRGF0I2dldH0uXHJcbiAgICogQHJldHVybnMge051bWJlcn0gTnVtYmVyIG9mIHdoYXQgdG8gZ2V0LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBVVEMgdmVyc2lvbiBvZiB7QGxpbmsgRGF0I2dldH0uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGRhdGUgPSBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSk7XHJcbiAgICpcclxuICAgKiBkYXRlLmdldFVUQygnYycpOyAgLy8gOTk5XHJcbiAgICogZGF0ZS5nZXRVVEMoJ3MnKTsgIC8vIDU5XHJcbiAgICogZGF0ZS5nZXRVVEMoJ20nKTsgIC8vIDU5XHJcbiAgICogZGF0ZS5nZXRVVEMoJ2gnKTsgIC8vIDIzXHJcbiAgICogZGF0ZS5nZXRVVEMoJ2QnKTsgIC8vIDMxXHJcbiAgICogZGF0ZS5nZXRVVEMoJ2R3Jyk7IC8vIDVcclxuICAgKiBkYXRlLmdldFVUQygnTScpOyAgLy8gMTJcclxuICAgKiBkYXRlLmdldFVUQygneScpOyAgLy8gMTk5OVxyXG4gICAqL1xyXG4gIGdldFVUQyh3aGF0KSB7XHJcbiAgICByZXR1cm4gZ2V0U3dpdGNoZXIod2hhdCwgW3RoaXMuJCwgJ2dldFVUQyddKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2lzQWZ0ZXJcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtEYXRlTGlrZX0gZGF0ZSAtIERhdGUgdG8gYmUgY29tcGFyZWQgdG8gdGhpcyBkYXRlLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGlzIGRhdGUgaXMgYWZ0ZXIgdGhlIGFyZ3VtZW50IG9uZS5cclxuICAgKiBAZGVzY3JpcHRpb24gRmluZHMgb3V0IGlmIHRoaXMgZGF0ZSBpcyBhZnRlciB0aGUgYXJndW1lbnQgb25lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQWZ0ZXIobmV3IERhdGUoMzM0KSk7IC8vIGZhbHNlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0FmdGVyKG5ldyBEYXRlKDMzMikpOyAvLyB0cnVlXHJcbiAgICovXHJcbiAgaXNBZnRlcihkYXRlKSB7XHJcbiAgICBkYXRlID0gbmV3IERhdGUobmV3IFN1cGVyKGRhdGUpLiQpO1xyXG5cclxuICAgIHJldHVybiBkYXRlLmdldFRpbWUoKSA8IHRoaXMuJC5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNpc0JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0RhdGVMaWtlfSBkYXRlIC0gRGF0ZSB0byBiZSBjb21wYXJlZCB0byB0aGlzIGRhdGUuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoaXMgZGF0ZSBpcyBiZWZvcmUgdGhlIGFyZ3VtZW50IG9uZS5cclxuICAgKiBAZGVzY3JpcHRpb24gRmluZHMgb3V0IGlmIHRoaXMgZGF0ZSBpcyBiZWZvcmUgdGhlIGFyZ3VtZW50IG9uZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0JlZm9yZShuZXcgRGF0ZSgzMzQpKTsgLy8gdHJ1ZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMzMzKSkuaXNCZWZvcmUobmV3IERhdGUoMzMyKSk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgaXNCZWZvcmUoZGF0ZSkge1xyXG4gICAgZGF0ZSA9IG5ldyBEYXRlKG5ldyBTdXBlcihkYXRlKS4kKTtcclxuXHJcbiAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPiB0aGlzLiQuZ2V0VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjaXNCZXR3ZWVuXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RGF0ZUxpa2V9IGRhdGUxIC0gU3RhcnQgb2YgdGhlIHJhbmdlLlxyXG4gICAqIEBwYXJhbSB7RGF0ZUxpa2V9IGRhdGUyIC0gRW5kIG9mIHRoZSByYW5nZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhpcyBkYXRlIGlzIGFmdGVyIGRhdGUxIGFuZCBiZWZvcmUgZGF0ZTIuXHJcbiAgICogQGRlc2NyaXB0aW9uIEZpbmRzIG91dCBpZiB0aGlzIGRhdGUgaXMgYWZ0ZXIgZGF0ZTEgYW5kIGJlZm9yZSBkYXRlMi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgzMzMpKS5pc0JldHdlZW4obmV3IERhdGUoMzMyKSwgbmV3IERhdGUoMzM0KSk7IC8vIHRydWVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKDMzMykpLmlzQmV0d2VlbihuZXcgRGF0ZSgzMzQpLCBuZXcgRGF0ZSgzMzIpKTsgLy8gZmFsc2VcclxuICAgKi9cclxuICBpc0JldHdlZW4oZGF0ZTEsIGRhdGUyKSB7XHJcbiAgICBjb25zdCB0aW1lID0gdGhpcy4kLmdldFRpbWUoKTtcclxuXHJcbiAgICBkYXRlMSA9IG5ldyBEYXRlKG5ldyBTdXBlcihkYXRlMSkuJCk7XHJcbiAgICBkYXRlMiA9IG5ldyBEYXRlKG5ldyBTdXBlcihkYXRlMikuJCk7XHJcblxyXG4gICAgcmV0dXJuIHRpbWUgPiBkYXRlMS5nZXRUaW1lKCkgJiYgdGltZSA8IGRhdGUyLmdldFRpbWUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I2lzSW52YWxpZFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGRhdGUgaXMgaW52YWxpZC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZGF0ZSBpcyBpbnZhbGlkLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCdhJykpLmlzSW52YWxpZCgpOyAvLyB0cnVlXHJcbiAgICogbmV3IERhdChuZXcgRGF0ZSgxKSkuaXNJbnZhbGlkKCk7ICAgLy8gZmFsc2VcclxuICAgKi9cclxuICBpc0ludmFsaWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKCkgPT09ICdJbnZhbGlkIERhdGUnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjaXNQYXNzZWRcclxuICAgKiBAcHVibGljXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHRoZSBkYXRlIGlzIHBhc3NlZC5cclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyBpZiB0aGUgZGF0ZSBpcyBwYXNzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBEYXQobmV3IERhdGUoMSkpLmlzUGFzc2VkKCk7IC8vIHRydWVcclxuICAgKi9cclxuICBpc1Bhc3NlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmlzQmVmb3JlKG5vdygpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRGF0I29mT25lXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7T2ZPbmVQZXJpb2R9IHdoYXQgLSBQZXJpb2QgdG8gY2hlY2suXHJcbiAgICogQHBhcmFtIHtEYXRlTGlrZX0gZGF0ZSAtIERhdGUgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIHR3byBkYXRlcyBhcmUgb2Ygb25lIHNlY29uZCwgbWludXRlIG9yIHNvbWV0aGluZyBlbHNlLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBSZXR1cm5zIGlmIHR3byBkYXRlcyBhcmUgb2Ygb25lIHNlY29uZCwgbWludXRlIG9yIHNvbWV0aGluZyBlbHNlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5LjAwMFonKSkub2ZPbmUoJ3MnLCBuZXcgRGF0ZSgxOTk5LTEyLTMxVDIzOjU5OjU5LjMzM1onKSk7IC8vIHRydWVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5LjAwMFonKSkub2ZPbmUoJ3MnLCBuZXcgRGF0ZSgxOTk5LTEyLTMxVDIzOjU5OjU4Ljk5OVonKSk7IC8vIGZhbHNlXHJcbiAgICovXHJcbiAgb2ZPbmUod2hhdCwgZGF0ZSkge1xyXG4gICAgaWYgKCEod2hhdCBpbiBjb2VmZnMpIHx8IHdoYXQgPT09ICd3Jykge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0ZSA9IG5ldyBEYXQobmV3IERhdGUoZGF0ZSkpO1xyXG5cclxuICAgIGxldCBzdGFydGVkO1xyXG5cclxuICAgIHJldHVybiBpdGVyYXRlKGNvZWZmcywgKGNvZWZmLCB3KSA9PiB7XHJcbiAgICAgIGlmICh3ID09PSB3aGF0KSB7XHJcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghc3RhcnRlZCB8fCB3ID09PSAndycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGFydGVkICYmIHRoaXMuZ2V0KHcpICE9PSBkYXRlLmdldCh3KSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSkgIT09IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjc2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U2V0UGVyaW9kfE9iamVjdC48U2V0UGVyaW9kLCBOdW1iZXI+fSB3aGF0IC0gV2hhdCB0byBhZGQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtudW1iZXJdIC0gTnVtYmVyIG9mIHdoYXQgdG8gc2V0IGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHBlcmlvZCBzdHJpbmcuXHJcbiAgICogQHJldHVybnMge0RhdH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIHNldHRpbmcgdmFsdWVzIHN1Y2ggYXMgc2Vjb25kcyBvciBtaW51dGVzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuc2V0KCdzJywgNTgpLmdldCgncycpOyAgICAgICAgICAgLy8gNThcclxuICAgKiBuZXcgRGF0KG5ldyBEYXRlKCcxOTk5LTEyLTMxVDIzOjU5OjU5Ljk5OVonKSkuc2V0KHsgYzogOTk4LCBzOiA1OCB9KS5nZXQoJ2MnKTsgLy8gOTk4XHJcbiAgICovXHJcbiAgc2V0KHdoYXQsIG51bWJlcikge1xyXG4gICAgY29uc3QgZGF0ZSA9IHRoaXMuJDtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgIHdoYXQgPSB7IFt3aGF0XTogbnVtYmVyIH07XHJcbiAgICB9XHJcblxyXG4gICAgd2hhdCA9IG5ldyBTdXBlcih3aGF0KS4kO1xyXG5cclxuICAgIGl0ZXJhdGUod2hhdCwgKHZhbHVlLCB3aGF0KSA9PiB7XHJcbiAgICAgIHNldFN3aXRjaGVyKHdoYXQsIFtkYXRlLCB2YWx1ZSwgJ3NldCddKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBEYXQjc2V0VVRDXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U2V0UGVyaW9kfE9iamVjdC48U2V0UGVyaW9kLCBOdW1iZXI+fSB3aGF0IC0gU2VlIHtAbGluayBEYXQjc2V0fS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW251bWJlcl0gLSBTZWUge0BsaW5rIERhdCNzZXR9LlxyXG4gICAqIEByZXR1cm5zIHtEYXR9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gVVRDIHZlcnNpb24gb2Yge0BsaW5rIERhdCNzZXR9LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBkYXRlID0gbmV3IERhdChuZXcgRGF0ZSgnMTk5OS0xMi0zMVQyMzo1OTo1OS45OTlaJykpO1xyXG4gICAqXHJcbiAgICogZGF0ZS5zZXRVVEMoJ2NjYycsIDk5OCkuZ2V0VVRDKCdjY2MnKTsgLy8gOTk4XHJcbiAgICogZGF0ZS5zZXRVVEMoe1xyXG4gICAqICAgczogNTgsXHJcbiAgICogICBtOiA1OCxcclxuICAgKiAgIGg6IDIyXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBkYXRlLmdldFVUQygncycpOyAvLyA1OFxyXG4gICAqIGRhdGUuZ2V0VVRDKCdtJyk7IC8vIDU4XHJcbiAgICogZGF0ZS5nZXRVVEMoJ2gnKTsgLy8gMjNcclxuICAgKi9cclxuICBzZXRVVEMod2hhdCwgbnVtYmVyKSB7XHJcbiAgICBjb25zdCBkYXRlID0gdGhpcy4kO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgd2hhdCA9IHsgW3doYXRdOiBudW1iZXIgfTtcclxuICAgIH1cclxuXHJcbiAgICB3aGF0ID0gbmV3IFN1cGVyKHdoYXQpLiQ7XHJcblxyXG4gICAgaXRlcmF0ZSh3aGF0LCAodmFsdWUsIHdoYXQpID0+IHtcclxuICAgICAgc2V0U3dpdGNoZXIod2hhdCwgW2RhdGUsIHZhbHVlLCAnc2V0VVRDJ10pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIERhdCNzZXRVVENcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lXSAtIFRpbWUgdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtEYXR8TnVtYmVyfSAtIElmIHRoZSB0aW1lIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhpcyBpcyByZXR1cm5lZCBvdGhlcndpc2UgdGhlIHRpbWUgaXMgcmV0dXJuZWQuXHJcbiAgICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIGJvdGhcclxuICAgKiBbRGF0ZSNnZXRUaW1lXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL2dldFRpbWV9IGFuZFxyXG4gICAqIFtEYXRlI3NldFRpbWVde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvc2V0VGltZX0uXHJcbiAgICovXHJcbiAgdGltZSh0aW1lKSB7XHJcbiAgICBjb25zdCBkYXRlID0gdGhpcy4kO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIGRhdGUuc2V0VGltZSh0aW1lKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICB0b0lTT1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLiQudG9JU09TdHJpbmcoKTtcclxuICB9XHJcblxyXG4gIHRvTG9jYWxlU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC50b0xvY2FsZVN0cmluZygpO1xyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZU9mKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJC52YWx1ZU9mKCk7XHJcbiAgfVxyXG59XHJcbmRlZmluZVByb3BlcnRpZXMoRGF0LnByb3RvdHlwZSwge1xyXG4gIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnRGF0J1xyXG59KTtcclxuXHJcbmNvbnN0cnVjdG9yc1sxXS5wdXNoKHtcclxuICBjaGVjazogaXNEYXRlLFxyXG4gIGNsczogRGF0XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBub3dcclxuICogQHB1YmxpY1xyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxyXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvbm93XHJcbiAqIEBkZXNjcmlwdGlvbiBTeW5vbnltIGZvclxyXG4gKiBbRGF0ZS5ub3dde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvbm93fS5cclxuICovXHJcbmZ1bmN0aW9uIG5vdygpIHtcclxuICByZXR1cm4gRGF0ZS5ub3coKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBkYXRlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtEYXRlTGlrZX0gW2RhdGUgPSBuZXcgRGF0ZSgpXSAtIERhdGUtbGlrZSB2YWx1ZSB0aGF0IGlzIHBhc3NlZCB0byB0aGUgRGF0ZSBjb25zdHJ1Y3Rvci5cclxuICogQHJldHVybnMge0RhdH0gTmV3IGluc3RhbmNlIG9mIERhdC5cclxuICogQGRlc2NyaXB0aW9uIFN5bm9ueW0gZm9yIG5ldyBEYXQobmV3IERhdGUoZGF0ZSkpO1xyXG4gKi9cclxuZnVuY3Rpb24gZGF0ZShkYXRlKSB7XHJcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbmV3IERhdChuZXcgRGF0ZShub3coKSkpO1xyXG4gIH1cclxuXHJcbiAgZGF0ZSA9IG5ldyBTdXBlcihkYXRlKS4kO1xyXG5cclxuICByZXR1cm4gbmV3IERhdChuZXcgRGF0ZShkYXRlKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IERhdCwgbm93LCBkYXRlIH07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvY29uc3RydWN0VVJMXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIGNvbnN0cnVjdFVSTCBtZXRob2QuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi4vQXJyJztcclxuaW1wb3J0IHsgU3RyIH0gZnJvbSAnLi4vU3RyJztcclxuaW1wb3J0IHsgc3dpdGNoZXIgfSBmcm9tICcuLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGlzQXJyYXksIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0IH0gZnJvbSAnLi9jaGVja1R5cGVzJztcclxuaW1wb3J0IHsgaXRlcmF0ZSB9IGZyb20gJy4vaXRlcmF0ZSc7XHJcblxyXG4vKipcclxuICogQHR5cGUge1JlZ0V4cH1cclxuICogQGRlc2NyaXB0aW9uIEFic29sdXRlIFVSTCBwYXR0ZXJuLlxyXG4gKi9cclxuY29uc3QgYWJzb2x1dGVVUkxSZWdleHAgPSAvXigoW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcL3xkYXRhOlthLXpdK1xcL1thLXpdKztiYXNlNjQsKS9pO1xyXG5jb25zdCBxdWVyeVN3aXRjaGVyID0gc3dpdGNoZXIoJ2NhbGwnLCAoKSA9PiBuZXcgQXJyKFtdKSlcclxuICAuY2FzZShpc0FycmF5LCAocHJlZml4LCBxdWVyeSkgPT4ge1xyXG4gICAgbGV0IHF1ZXJ5UGFyYW1zID0gbmV3IEFycihbXSk7XHJcblxyXG4gICAgaXRlcmF0ZShxdWVyeSwgKHZhbHVlKSA9PiB7XHJcbiAgICAgIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSB8fCBpc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgIHF1ZXJ5UGFyYW1zID0gcXVlcnlQYXJhbXMuY29uY2F0KHF1ZXJ5U3dpdGNoZXIodmFsdWUsIFtgJHsgcHJlZml4IH1bXWBdKSk7XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcXVlcnlQYXJhbXMucHVzaCh7XHJcbiAgICAgICAgcGFyYW06IGAkeyBwcmVmaXggfVtdYCxcclxuICAgICAgICB2YWx1ZVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBxdWVyeVBhcmFtcy4kO1xyXG4gIH0pXHJcbiAgLmNhc2UoaXNQbGFpbk9iamVjdCwgKHByZWZpeCwgcXVlcnkpID0+IHtcclxuICAgIGxldCBxdWVyeVBhcmFtcyA9IG5ldyBBcnIoW10pO1xyXG5cclxuICAgIGl0ZXJhdGUocXVlcnksICh2YWx1ZSwgcGFyYW0pID0+IHtcclxuICAgICAgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgcXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcy5jb25jYXQocXVlcnlTd2l0Y2hlcih2YWx1ZSwgW3ByZWZpeCA/IGAkeyBwcmVmaXggfVskeyBwYXJhbSB9XWAgOiBwYXJhbV0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBxdWVyeVBhcmFtcy5wdXNoKHtcclxuICAgICAgICBwYXJhbTogcHJlZml4ID8gYCR7IHByZWZpeCB9WyR7IHBhcmFtIH1dYCA6IHBhcmFtLFxyXG4gICAgICAgIHZhbHVlOiBpc09iamVjdCh2YWx1ZSkgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBTdHJpbmcodmFsdWUpXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHF1ZXJ5UGFyYW1zLiQ7XHJcbiAgfSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGNvbnN0cnVjdFVSTFxyXG4gKiBAcGFyYW0ge1N0cmluZ30gYmFzZVVSTCAtIEJhc2VVUkwgb2YgdGhlIG91dHB1dCBVUkwuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSBNYWluIHBhcnQgb2YgdGhlIG91dHB1dCBVUkwuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBQYXJhbXMgdG8gcmVwbGFjZSBpbiB0aGUgdXJsIGV4cHJlc3Npb25zIGxpa2UgXCI6cGFyYW1cIi5cclxuICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IC0gT2JqZWN0IHdpdGggcXVlcnkgcGFyYW1zLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW2hhc2ggPSAnJ10gLSBVUkwgaGFzaC5cclxuICogQHBhcmFtIHtPYmplY3R9IFtlbmNvZGVPcHRpb25zID0ge31dIC0gSWYgeW91IG5lZWQgdG8gZW5jb2RlIHNvbWV0aGluZy5cclxuICogQHBhcmFtIHtPYmplY3R9IFtlbmNvZGVPcHRpb25zLnBhcmFtcyA9IHRydWVdIC0gSWYgeW91IG5lZWQgdG8gZW5jb2RlIHBhcmFtcy5cclxuICogQHBhcmFtIHtPYmplY3R9IFtlbmNvZGVPcHRpb25zLnF1ZXJ5ID0gdHJ1ZV0gLSBJZiB5b3UgbmVlZCB0byBlbmNvZGUgcXVlcnkgcGFyYW1zLlxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBDb25zdHJ1Y3RlZCBVUkwuXHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgY29uc3RydWN0aW5nIFVSTCBmcm9tIHRoZSBiYXNlIFVSTCwgVVJMLCBwYXJhbXMgYW5kIHF1ZXJ5IHBhcmFtcy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChiYXNlVVJMLCB1cmwsIHBhcmFtcywgcXVlcnksIGhhc2ggPSAnJywgZW5jb2RlT3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgcGFyYW1zOiBlbmNvZGVQYXJhbXMgPSB0cnVlLFxyXG4gICAgcXVlcnk6IGVuY29kZVF1ZXJ5ID0gdHJ1ZVxyXG4gIH0gPSBlbmNvZGVPcHRpb25zO1xyXG4gIGxldCBVUkwgPSBpc0Fic29sdXRlKHVybClcclxuICAgID8gdXJsXHJcbiAgICA6IGAkeyBTdHJpbmcoYmFzZVVSTCkucmVwbGFjZSgvXFwvKyQvLCAnJykgfS8keyBTdHJpbmcodXJsKS5yZXBsYWNlKC9eXFwvKy8sICcnKSB9YDtcclxuXHJcbiAgaXRlcmF0ZShwYXJhbXMsICh2YWx1ZSwgcGFyYW0pID0+IHtcclxuICAgIFVSTCA9IG5ldyBTdHIoVVJMKS5yZXBsYWNlU3RyaW5nKGA6JHsgcGFyYW0gfWAsIGVuY29kZSh2YWx1ZSwgZW5jb2RlUGFyYW1zKSkuJDtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgcXVlcnlQYXJhbXMgPSBxdWVyeVN3aXRjaGVyKHF1ZXJ5LCBbJyddKTtcclxuXHJcbiAgaWYgKHF1ZXJ5UGFyYW1zLmxlbmd0aCkge1xyXG4gICAgVVJMICs9IChVUkwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBxdWVyeVBhcmFtc1xyXG4gICAgICAubWFwKCh7IHBhcmFtLCB2YWx1ZSB9KSA9PiBgJHsgZW5jb2RlKHBhcmFtLCBlbmNvZGVRdWVyeSkgfT0keyBlbmNvZGUodmFsdWUsIGVuY29kZVF1ZXJ5KSB9YClcclxuICAgICAgLmpvaW4oJyYnKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBgJHsgVVJMIH0keyBoYXNoID8gYCMkeyBoYXNoIH1gIDogJycgfWA7XHJcbn07XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGlzQWJzb2x1dGVcclxuICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIFVSTCB0byBjaGVjayBpZiBpdCBpcyBhYnNvbHV0ZSBvciBub3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBJZiB0aGUgYXJndW1lbnQgVVJMIGlzIGFic29sdXRlIG9yIG5vdC5cclxuICovXHJcbmZ1bmN0aW9uIGlzQWJzb2x1dGUodXJsKSB7XHJcbiAgcmV0dXJuIGFic29sdXRlVVJMUmVnZXhwLnRlc3QodXJsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvbiBlbmNvZGVcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIFN0cmluZyB0byBlbmNvZGUgdXNpbmcgZW5jb2RlVVJJQ29tcG9uZW50LlxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzRW5jb2RlZCAtIElmIHRoZSBzdHJpbmcgc2hvdWxkIGJlIGVuY29kZWQuXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IEVuY29kZWQgc3RyaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlKHN0cmluZywgaXNFbmNvZGVkKSB7XHJcbiAgcmV0dXJuIGlzRW5jb2RlZCA/IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIDogc3RyaW5nO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIEZldGNoXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtaXhpblxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBGZXRjaCBjbGFzcy5cclxuICovXHJcblxyXG5pbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAnLi9Qcm9taXNlJztcclxuaW1wb3J0IHsgU3VwZXIgfSBmcm9tICcuL1N1cGVyJztcclxuaW1wb3J0IHsgQXJyIH0gZnJvbSAnLi9BcnInO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7XHJcbiAgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNTdHJpbmcsXHJcbiAgYXNzaWduLCBTeW1ib2wsIHZhbGlkYXRlLCBpdGVyYXRlLCBkZWZpbmVQcm9wZXJ0aWVzXHJcbn0gZnJvbSAnLi9oZWxwZXJzJztcclxuaW1wb3J0IGNvbnN0cnVjdFVSTCBmcm9tICcuL2hlbHBlcnMvY29uc3RydWN0VVJMJztcclxuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuL2hlbHBlcnMvcGFyc2VIZWFkZXJzJztcclxuaW1wb3J0IHRyYW5zZm9ybURhdGEgZnJvbSAnLi9oZWxwZXJzL3RyYW5zZm9ybURhdGEnO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHsnZ2V0J3wncG9zdCd8J2RlbGV0ZSd8J2hlYWQnfCdwdXQnfCdwYXRjaCd9IEZldGNoTWV0aG9kXHJcbiAqIEBwdWJsaWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gRmV0Y2hDb25maWdcclxuICogQHB1YmxpY1xyXG4gKiBAcHJvcGVydHkge0FycmF5LjxBZnRlck1pZGRsZXdhcmV8RmV0Y2hFcnJvckFmdGVyTWlkZGxld2FyZT59IFthZnRlcl1cclxuICogQHByb3BlcnR5IHtPYmplY3R9IFthdXRoXVxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gW2F1dGgudXNlcm5hbWVdXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbYXV0aC5wYXNzd29yZF1cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtiYXNlVVJMXVxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxCZWZvcmVNaWRkbGV3YXJlfEZldGNoRXJyb3JCZWZvcmVNaWRkbGV3YXJlPn0gW2JlZm9yZV1cclxuICogQHByb3BlcnR5IHsqfSBbZGF0YV1cclxuICogQHByb3BlcnR5IHtPYmplY3QuPFN0cmluZywgU3RyaW5nW10+fSBbaGVhZGVyc11cclxuICogQHByb3BlcnR5IHtGZXRjaE1ldGhvZH0gW21ldGhvZF1cclxuICogQHByb3BlcnR5IHtPYmplY3R9IFtwYXJhbXNdXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbcXVlcnldXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbcmVzcG9uc2VUeXBlXVxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gW3RpbWVvdXRdXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbdXJsXVxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFt3aXRoQ3JlZGVudGlhbHNdXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZldGNoUmVzcG9uc2VcclxuICogQHB1YmxpY1xyXG4gKiBAcHJvcGVydHkge0ZldGNoQ29uZmlnfSBjb25maWdcclxuICogQHByb3BlcnR5IHsqfSBkYXRhXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxTdHJpbmcsIFN0cmluZz59IGhlYWRlcnNcclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHN0YXR1c1xyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gc3RhdHVzVGV4dFxyXG4gKiBAcHJvcGVydHkge1hNTEh0dHBSZXF1ZXN0fSB4aHJcclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoQWZ0ZXJNaWRkbGV3YXJlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtGZXRjaFJlc3BvbnNlfSBjb25maWcgLSBGZXRjaCByZXNwb25zZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoRXJyb3JBZnRlck1pZGRsZXdhcmVcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0Vycm9yfCp9IGVyciAtIFRocm93biBlcnJvci5cclxuICogQHBhcmFtIHtGZXRjaFJlc3BvbnNlfSBjb25maWcgLSBGZXRjaCByZXNwb25zZS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoQmVmb3JlTWlkZGxld2FyZVxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IGNvbmZpZyAtIEZldGNoIGNvbmZpZy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoRXJyb3JCZWZvcmVNaWRkbGV3YXJlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtFcnJvcnwqfSBlcnIgLSBUaHJvd24gZXJyb3IuXHJcbiAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IGNvbmZpZyAtIEZldGNoIGNvbmZpZy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIEZldGNoQ29uZmlnRnVuY3Rpb25cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBjb25maWdcclxuICovXHJcblxyXG5jb25zdCBkZWZhdWx0cyA9IHtcclxuICBhZnRlcjogW10sXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgcGFzc3dvcmQ6ICcnXHJcbiAgfSxcclxuICBiYXNlVVJMOiBnbG9iYWwubG9jYXRpb24ub3JpZ2luLFxyXG4gIGJlZm9yZTogW10sXHJcbiAgZGF0YTogbnVsbCxcclxuICBoZWFkZXJzOiB7fSxcclxuICBtZXRob2Q6ICdnZXQnLFxyXG4gIHBhcmFtczoge30sXHJcbiAgcXVlcnk6IHt9LFxyXG4gIHJlc3BvbnNlVHlwZTogJycsXHJcbiAgdGltZW91dDogMCxcclxuICB1cmw6ICcnLFxyXG4gIHdpdGhDcmVkZW50aWFsczogZmFsc2VcclxufTtcclxuY29uc3QgdXBsb2FkTWV0aG9kcyA9IG5ldyBBcnIoWydwb3N0JywgJ3B1dCddKTtcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgRmV0Y2hcclxuICogQGV4dGVuZHMgRnVuY3Rpb25cclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBbY29uZmlnID0ge31dIC0gQSBudW1iZXIgdG8gd3JhcC5cclxuICogQHJldHVybnMge0ZldGNofSBJbnN0YW5jZSBvZiBGZXRjaC5cclxuICogQW4gaW5zdGFuY2Ugb2YgRmV0Y2ggaXMgYSBmdW5jdGlvbiB0aGF0IHNpbXBseSBjYWxscyAjcmVxdWVzdCB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50cy5cclxuICogQGRlc2NyaXB0aW9uIENsYXNzIGZvciBmZXRjaGluZyBkYXRhLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBjb25zdCBmZXRjaCA9IG5ldyBGZXRjaCgpO1xyXG4gKlxyXG4gKiBmZXRjaCgnL2RhdGEnKS50aGVuKChyZXMpID0+IHtcclxuICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gKiB9KTtcclxuICovXHJcbmNsYXNzIEZldGNoIGV4dGVuZHMgRnVuY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZldGNoKCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2gucmVxdWVzdC5hcHBseShmZXRjaCwgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25mID0gbmV3IFN1cGVyKHt9KS5kZWVwQXNzaWduKGRlZmF1bHRzLCBjb25maWcpLiQ7XHJcblxyXG4gICAgaWYgKGNvbmYuYmVmb3JlLmluZGV4T2YoZmV0Y2hCZWZvcmVNaWRkbGV3YXJlKSA9PT0gLTEpIHtcclxuICAgICAgY29uZi5iZWZvcmUucHVzaChmZXRjaEJlZm9yZU1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7RmV0Y2hDb25maWd9IEZldGNoIyQkXHJcbiAgICAgKiBAdHlwZSB7RmV0Y2hDb25maWd9XHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gRmV0Y2ggY29uZmlnLlxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmV0Y2gsICckJCcsIHsgdmFsdWU6IGNvbmYgfSk7XHJcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZmV0Y2gsIEZldGNoLnByb3RvdHlwZSk7XHJcblxyXG4gICAgcmV0dXJuIGZldGNoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNhZnRlclxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ZldGNoQWZ0ZXJNaWRkbGV3YXJlfEZldGNoRXJyb3JBZnRlck1pZGRsZXdhcmV9IG1pZGRsZXdhcmUgLSBNaWRkbGV3YXJlIHRvIGFkZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW58Kn0gW2FmdGVyQWxsID0gdHJ1ZV0gLSBCb29sZWFuIHBhcmFtZXRlciB3aGVyZSB0byBwdXQgdGhlIG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGVuZFwiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiLlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNaWRkbGV3YXJlIHRoYXQgaXMgY2FsbGVkIGFmdGVyIHRoZSByZXF1ZXN0LlxyXG4gICAqIElmIHRoZSBtaWRkbGV3YXJlIGhhcyAyIG9yIGxlc3MgYXJndW1lbnRzIGl0J3MgdHJlYXRlZCBhcyBzdWNjZXNzIG1pZGRsZXdhcmUgb3RoZXJ3aXNlIGFzIGFuIGVycm9yIG9uZS5cclxuICAgKiBJZiB0aGUgbWlkZGxld2FyZSByZXR1cm5zIGEgcHJvbWlzZSBpdCBiZWNvbWVzIGEgcGFydCBvZiB0aGUgbWlkZGxld2FyZSBjaGFpbi5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKVxyXG4gICAqICAgLmFmdGVyKChlcnIsIHJlcykgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAqXHJcbiAgICogICAgIHRocm93IGVycjtcclxuICAgKiAgIH0pXHJcbiAgICogICAuYWZ0ZXIoKHJlcykgPT4ge1xyXG4gICAqICAgICByZXMuanNvbiA9IEQocmVzLmRhdGEpLnBhcnNlSlNPTigpOlxyXG4gICAqICAgfSk7XHJcbiAgICovXHJcbiAgYWZ0ZXIobWlkZGxld2FyZSwgYWZ0ZXJBbGwgPSB0cnVlKSB7XHJcbiAgICB2YWxpZGF0ZShbbWlkZGxld2FyZV0sIFsnZnVuY3Rpb24nXSwgJ0ZldGNoI2FmdGVyJyk7XHJcblxyXG4gICAgY29uc3QgeyBhZnRlciB9ID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoYWZ0ZXJBbGwpIHtcclxuICAgICAgYWZ0ZXIucHVzaChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFmdGVyLnVuc2hpZnQobWlkZGxld2FyZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2JlZm9yZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge0ZldGNoQmVmb3JlTWlkZGxld2FyZXxGZXRjaEVycm9yQmVmb3JlTWlkZGxld2FyZX0gbWlkZGxld2FyZSAtIE1pZGRsZXdhcmUgdG8gYWRkLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnwqfSBbYmVmb3JlQWxsID0gdHJ1ZV0gLSBCb29sZWFuIHBhcmFtZXRlciB3aGVyZSB0byBwdXQgdGhlIG1pZGRsZXdhcmUuXHJcbiAgICogVHJ1dGh5IHBhcmFtZXRlciBzdGFuZHMgZm9yIFwidG8gdGhlIGJlZ2lubmluZ1wiIGFuZCBmYWxzZXkgZm9yIFwidG8gdGhlIGVuZFwiLlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaH0gUmV0dXJucyB0aGlzLlxyXG4gICAqIEBkZXNjcmlwdGlvbiBNaWRkbGV3YXJlIHRoYXQgaXMgY2FsbGVkIGJlZm9yZSB0aGUgcmVxdWVzdC5cclxuICAgKiBJZiB0aGUgbWlkZGxld2FyZSBoYXMgMiBvciBsZXNzIGFyZ3VtZW50cyBpdCdzIHRyZWF0ZWQgYXMgc3VjY2VzcyBtaWRkbGV3YXJlIG90aGVyd2lzZSBhcyBhbiBlcnJvciBvbmUuXHJcbiAgICogSWYgdGhlIG1pZGRsZXdhcmUgcmV0dXJucyBhIHByb21pc2UgaXQgYmVjb21lcyBhIHBhcnQgb2YgdGhlIG1pZGRsZXdhcmUgY2hhaW4uXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKClcclxuICAgKiAgIC5iZWZvcmUoKGVyciwgcmVxKSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICpcclxuICAgKiAgICAgdGhyb3cgZXJyO1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5iZWZvcmUoKHJlcSkgPT4ge1xyXG4gICAqICAgICBpZiAocmVxLnVybCA9PT0gJy92ZXJ5TG9uZ1JlcXVlc3QnKSB7XHJcbiAgICogICAgICAgcmVxLnRpbWVvdXQgPSAzMDAwMDtcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICovXHJcbiAgYmVmb3JlKG1pZGRsZXdhcmUsIGJlZm9yZUFsbCA9IHRydWUpIHtcclxuICAgIHZhbGlkYXRlKFttaWRkbGV3YXJlXSwgWydmdW5jdGlvbiddLCAnRmV0Y2gjYmVmb3JlJyk7XHJcblxyXG4gICAgY29uc3QgeyBiZWZvcmUgfSA9IHRoaXMuJCQ7XHJcblxyXG4gICAgaWYgKGJlZm9yZUFsbCkge1xyXG4gICAgICBiZWZvcmUudW5zaGlmdChtaWRkbGV3YXJlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJlZm9yZS5wdXNoKG1pZGRsZXdhcmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNjb25maWdcclxuICAgKiBAcHVibGljXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8RmV0Y2hDb25maWd8RmV0Y2hDb25maWdGdW5jdGlvbn0gW3Byb3BlcnR5XSAtIElmIGl0J3MgYSBmdW5jdGlvblxyXG4gICAqIGl0J3MgY2FsbGVkIHdpdGggdGhlIGZldGNoIGNvbmZpZyBhcmd1bWVudCwgaWYgaXQncyBhIHN0cmluZyB0aGUgdmFsdWUgYXJndW1lbnRcclxuICAgKiBpcyB1c2VkIGZvciBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eSB0byB0aGUgZmV0Y2ggY29uZmlnXHJcbiAgICogb3RoZXJ3aXNlIGl0J3MgYXNzaWduZWQgdG8gdGhlIGZldGNoIGNvbmZpZy5cclxuICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gLSBTZWUgdGhlIHByb3BlcnR5IGFyZ3VtZW50LlxyXG4gICAqIEByZXR1cm5zIHtGZXRjaHxGZXRjaENvbmZpZ30gSWYgdGhlIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhpcyBpcyByZXR1cm5lZCBvdGhlcndpc2UgdGhlIGZldGNoIGNvbmZpZyBpcyByZXR1cm5lZC5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBnZXR0aW5nIGFuZCBzZXR0aW5nIGNvbmZpZy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKTtcclxuICAgKlxyXG4gICAqIGZldGNoLmNvbmZpZyh7IGJhc2VVUkw6IDUwMDAgfSk7XHJcbiAgICogZmV0Y2guY29uZmlnKCkudGltZW91dDsgLy8gNTAwMFxyXG4gICAqXHJcbiAgICogZmV0Y2guY29uZmlnKChjb25maWcpID0+IHtcclxuICAgKiAgIGNvbmZpZy5iYXNlVVJMICs9ICcvYXBpJztcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBjb25maWcocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICBjb25zdCBjb25mID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIGNvbmY7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvcGVydHkpKSB7XHJcbiAgICAgIHByb3BlcnR5KGNvbmYpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMikge1xyXG4gICAgICAgIHByb3BlcnR5ID0geyBbcHJvcGVydHldOiB2YWx1ZSB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBuZXcgU3VwZXIoY29uZikuZGVlcEFzc2lnbihwcm9wZXJ0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2RlbGV0ZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBkZWxldGUgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLmRlbGV0ZSgnL2RhdGEnKS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgZGVsZXRlKHVybCwgY29uZmlnID0ge30pIHtcclxuICAgIGlmICghaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSB1cmw7XHJcbiAgICAgIHVybCA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHVybCwgYXNzaWduKHsgbWV0aG9kOiAnZGVsZXRlJyB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjZ2V0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGdldCByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogbmV3IEZldGNoKCkuZ2V0KCcvZGF0YScpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBnZXQodXJsLCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKCFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdnZXQnIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNoZWFkXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGhlYWQgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLmhlYWQoJy9kYXRhJykudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIGhlYWQodXJsLCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKCFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgIGNvbmZpZyA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdoZWFkJyB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjaGVhZGVyc1xyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3QuPFN0cmluZywgU3RyaW5nfFN0cmluZ1tdPn0gaGVhZGVyIC0gQSBoZWFkZXIgc3RyaW5nIG9yIGFuIG9iamVjdCBvZiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcclxuICAgKiB7IFtoZWFkZXJdOiBbdmFsdWUxLCB2YWx1ZTIsIC4uLl0gfS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xTdHJpbmdbXX0gW3ZhbHVlXSAtIEhlYWRlciB2YWx1ZS4gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgc3RyaW5nXHJcbiAgICogdGhpcyBoYXMgdG8gYmUgYSBoZWFkZXIgdmFsdWUgb3IgYW4gYXJyYXkgb2YgaGVhZGVyIHZhbHVlcy5cclxuICAgKiBAcmV0dXJucyB7RmV0Y2h9IFJldHVybnMgdGhpcy5cclxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGZvciBzZXR0aW5nIHJlcXVlc3QgaGVhZGVycy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKVxyXG4gICAqICAgLmhlYWRlcnMoJ0hlYWRlcjEnLCAnVmFsdWUnKVxyXG4gICAqICAgLmhlYWRlcnMoJ0hlYWRlcjInLCBbJ1ZhbHVlMScsICdWYWx1ZTInXSlcclxuICAgKiAgIC5oZWFkZXJzKHtcclxuICAgKiAgICAgSGVhZGVyMzogWydWYWx1ZTEnLCAnVmFsdWUyJ11cclxuICAgKiAgIH0pO1xyXG4gICAqL1xyXG4gIGhlYWRlcnMoaGVhZGVyLCB2YWx1ZSkge1xyXG4gICAgY29uc3QgeyBoZWFkZXJzIH0gPSB0aGlzLiQkO1xyXG5cclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcclxuICAgICAgaGVhZGVyID0geyBbaGVhZGVyXTogdmFsdWUgfTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRlKGhlYWRlciwgKHZhbHVlLCBoZWFkZXIpID0+IHtcclxuICAgICAgY29uc3QgYXJyYXkgPSBoZWFkZXJzW2hlYWRlcl0gfHwgW107XHJcbiAgICAgIGNvbnN0IHRvUHVzaCA9IGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xyXG5cclxuICAgICAgKGhlYWRlcnNbaGVhZGVyXSA9IGFycmF5KS5wdXNoLmFwcGx5KGFycmF5LCB0b1B1c2gpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIEZldGNoI2luc3RhbmNlXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gTmV3IGNvbmZpZyBpZiBuZWVkZWQuXHJcbiAgICogQHJldHVybnMge0ZldGNofSBOZXcgaW5zdGFuY2Ugb2YgRmV0Y2guXHJcbiAgICogQGRlc2NyaXB0aW9uIE1ldGhvZCBmb3IgY3JlYXRpbmcgbmV3IGZldGNoIGluc3RhbmNlcyBiYXNlZCBvbiBhbHJlYWR5IGV4aXN0ZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBjb25zdCBtYWluRmV0Y2ggPSBuZXcgRmV0Y2goe1xyXG4gICAqICAgYmFzZVVSTDogJy8vb3RoZXIuZG9tYWluLmNvbS9hcGknLFxyXG4gICAqICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlXHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBjb25zdCBsb25nRmV0Y2ggPSBtYWluRmV0Y2guaW5zdGFuY2Uoe1xyXG4gICAqICAgdGltZW91dDogMTAwMDBcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBpbnN0YW5jZShjb25maWcgPSB7fSkge1xyXG4gICAgY29uc3QgZGF0YUNvbmZpZyA9IG5ldyBTdXBlcihjb25maWcpLmhhc093bignZGF0YScpXHJcbiAgICAgID8geyBkYXRhOiBjb25maWcuZGF0YSB9XHJcbiAgICAgIDoge307XHJcblxyXG4gICAgZGVsZXRlIGNvbmZpZy5kYXRhO1xyXG5cclxuICAgIGNvbnN0IGNvbmYgPSBuZXcgU3VwZXIoe30pXHJcbiAgICAgIC5kZWVwQXNzaWduKHRoaXMuJCQsIGNvbmZpZylcclxuICAgICAgLmFzc2lnbihkYXRhQ29uZmlnKVxyXG4gICAgICAuJDtcclxuXHJcbiAgICByZXR1cm4gbmV3IEZldGNoKGNvbmYpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNwYXRjaFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIC0gQWRkaXRpb25hbCBwYXJhbWV0ZXIgZm9yIHVwbG9hZGluZyBkYXRhLlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBoZWFkIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5wYXRjaCgnL2RhdGEnLCB7IHVzZXI6ICdKb2huJyB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgcGF0Y2godXJsLCBkYXRhID0ge30sIGNvbmZpZyA9IHt9KSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiAhaXNTdHJpbmcodXJsKSkge1xyXG4gICAgICBjb25maWcgPSBkYXRhO1xyXG4gICAgICBkYXRhID0gdXJsO1xyXG4gICAgICB1cmwgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIGFzc2lnbih7IG1ldGhvZDogJ3BhdGNoJywgZGF0YSB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjcG9zdFxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3VybF0gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIC0gQWRkaXRpb25hbCBwYXJhbWV0ZXIgZm9yIHVwbG9hZGluZyBkYXRhLlxyXG4gICAqIEBwYXJhbSB7RmV0Y2hDb25maWd9IFtjb25maWddIC0gU2VlIHtAbGluayBGZXRjaCNyZXF1ZXN0fS5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZS48RmV0Y2hSZXNwb25zZSwgRXJyb3I+fSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEBkZXNjcmlwdGlvbiBTaG9ydGhhbmQgZm9yICNyZXF1ZXN0IGZvciBoZWFkIHJlcXVlc3RzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBuZXcgRmV0Y2goKS5wb3N0KCcvZGF0YScsIHsgdXNlcjogJ0pvaG4nIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgKiB9KTtcclxuICAgKi9cclxuICBwb3N0KHVybCwgZGF0YSA9IHt9LCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gZGF0YTtcclxuICAgICAgZGF0YSA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdwb3N0JywgZGF0YSB9LCBjb25maWcpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgRmV0Y2gjcHV0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQHBhcmFtIHsqfSBbZGF0YV0gLSBBZGRpdGlvbmFsIHBhcmFtZXRlciBmb3IgdXBsb2FkaW5nIGRhdGEuXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBTZWUge0BsaW5rIEZldGNoI3JlcXVlc3R9LlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlLjxGZXRjaFJlc3BvbnNlLCBFcnJvcj59IFNlZSB7QGxpbmsgRmV0Y2gjcmVxdWVzdH0uXHJcbiAgICogQGRlc2NyaXB0aW9uIFNob3J0aGFuZCBmb3IgI3JlcXVlc3QgZm9yIGhlYWQgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIG5ldyBGZXRjaCgpLnB1dCgnL2RhdGEnLCB7IHVzZXI6ICdKb2huJyB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICovXHJcbiAgcHV0KHVybCwgZGF0YSA9IHt9LCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gZGF0YTtcclxuICAgICAgZGF0YSA9IHVybDtcclxuICAgICAgdXJsID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXJsLCBhc3NpZ24oeyBtZXRob2Q6ICdwdXQnLCBkYXRhIH0sIGNvbmZpZykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBGZXRjaCNyZXF1ZXN0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbdXJsXSAtIFVSTCBmb3IgdGhlIHJlcXVlc3QuXHJcbiAgICogQHBhcmFtIHtGZXRjaENvbmZpZ30gW2NvbmZpZ10gLSBBZGRpdGlvbmFsIGNvbmZpZyBmb3IgdGhpcyBwYXJ0aWN1bGFyIHJlcXVlc3QuXHJcbiAgICogQHJldHVybnMge1Byb21pc2UuPEZldGNoUmVzcG9uc2UsIEVycm9yPn0gUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdpdGggdGhlIHJlcXVlc3QgcmVzcG9uc2UuXHJcbiAgICogQGRlc2NyaXB0aW9uIE1haW4gZnVuY3Rpb24gZm9yIG1ha2luZyByZXF1ZXN0cy4gQWxsIHJlcXVlc3QgbWV0aG9kcyBjYWxsIHRoaXMgbWV0aG9kXHJcbiAgICogaW5jbHVkaW5nIHRoZSBmZXRjaCBpbnN0YW5jZSBpdHNlbGYuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIGNvbnN0IGZldGNoID0gbmV3IEZldGNoKCk7XHJcbiAgICpcclxuICAgKiBmZXRjaC5yZXF1ZXN0KCcvZGF0YScsIHsgdGltZW91dDogMTAwMCB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmZXRjaC5yZXF1ZXN0KHsgdGltZW91dDogMTAwMCB9KS50aGVuKChyZXMpID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiBmZXRjaC5yZXF1ZXN0KCkudGhlbigocmVzKSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAqIH0pO1xyXG4gICAqL1xyXG4gIHJlcXVlc3QodXJsLCBjb25maWcgPSB7fSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgY29uZmlnID0gdXJsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGFDb25maWcgPSBuZXcgU3VwZXIoY29uZmlnKS5oYXNPd24oJ2RhdGEnKVxyXG4gICAgICA/IHsgZGF0YTogY29uZmlnLmRhdGEgfVxyXG4gICAgICA6IHt9O1xyXG4gICAgY29uc3QgdXJsQ29uZmlnID0gaXNTdHJpbmcodXJsKVxyXG4gICAgICA/IHsgdXJsIH1cclxuICAgICAgOiB7fTtcclxuXHJcbiAgICBkZWxldGUgY29uZmlnLmRhdGE7XHJcblxyXG4gICAgY29uc3QgY29uZiA9IG5ldyBTdXBlcih0aGlzLiQkKVxyXG4gICAgICAuZGVlcENsb25lKClcclxuICAgICAgLmRlZXBBc3NpZ24odXJsQ29uZmlnLCBjb25maWcpXHJcbiAgICAgIC5hc3NpZ24oZGF0YUNvbmZpZylcclxuICAgICAgLiQ7XHJcblxyXG4gICAgbGV0IHhocjtcclxuICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblxyXG4gICAgaXRlcmF0ZShjb25mLmJlZm9yZSwgKG1pZGRsZXdhcmUpID0+IHtcclxuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKG1pZGRsZXdhcmUubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgcmVzb2x2ZShtaWRkbGV3YXJlKGNvbmYpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgIGlmIChtaWRkbGV3YXJlLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKG1pZGRsZXdhcmUoZXJyLCBjb25mKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcHJvbWlzZSA9IHByb21pc2UudGhlbigoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBhZnRlcixcclxuICAgICAgICBhdXRoOiB7XHJcbiAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgIHBhc3N3b3JkXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIGhlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kLFxyXG4gICAgICAgIG9ucHJvZ3Jlc3MsXHJcbiAgICAgICAgcmVzcG9uc2VUeXBlLFxyXG4gICAgICAgIHRpbWVvdXQsXHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIHdpdGhDcmVkZW50aWFsc1xyXG4gICAgICB9ID0gY29uZjtcclxuXHJcbiAgICAgIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUsIHVzZXJuYW1lLCBwYXNzd29yZCk7XHJcblxyXG4gICAgICBpdGVyYXRlKGhlYWRlcnMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XHJcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCB2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG9ucHJvZ3Jlc3MpIHtcclxuICAgICAgICBpZiAodXBsb2FkTWV0aG9kcy5pbmRleE9mU3RyaWN0KG1ldGhvZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICB4aHIub25wcm9ncmVzcyA9IG9ucHJvZ3Jlc3M7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhoci51cGxvYWQub25wcm9ncmVzcyA9IG9ucHJvZ3Jlc3M7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB4aHIub25hYm9ydCA9ICgpID0+IHtcclxuICAgICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBhYm9ydGVkJykpO1xyXG5cclxuICAgICAgICB4aHIgPSBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKTtcclxuXHJcbiAgICAgICAgeGhyID0gbnVsbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCB0aW1lIGV4Y2VlZGVkJykpO1xyXG5cclxuICAgICAgICB4aHIgPSBudWxsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXhociB8fCAheGhyLnN0YXR1cyB8fCB4aHIucmVhZHlTdGF0ZSAhPT0gNCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XHJcbiAgICAgICAgICBjb25maWc6IGNvbmYsXHJcbiAgICAgICAgICBkYXRhOiAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnID8geGhyLnJlc3BvbnNlVGV4dCA6IHhoci5yZXNwb25zZSxcclxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLFxyXG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogeGhyLnN0YXR1cyxcclxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiB4aHIuc3RhdHVzVGV4dCxcclxuICAgICAgICAgIHhoclxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcblxyXG4gICAgICAgIGl0ZXJhdGUoYWZ0ZXIsIChtaWRkbGV3YXJlKSA9PiB7XHJcbiAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1pZGRsZXdhcmUubGVuZ3RoID49IDIpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUobWlkZGxld2FyZShyZXNwb25zZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sIChlcnIpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1pZGRsZXdhcmUubGVuZ3RoIDwgMikge1xyXG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICByZXNvbHZlKG1pZGRsZXdhcmUoZXJyLCByZXNwb25zZSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXNvbHZlKHByb21pc2VcclxuICAgICAgICAgIC50aGVuKCgpID0+IHJlc3BvbnNlKVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBlcnIucmVzcG9uc2UgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcclxuICAgICAgeGhyLnRpbWVvdXQgPSBOdW1iZXIodGltZW91dCkgfHwgMDtcclxuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9ICEhd2l0aENyZWRlbnRpYWxzO1xyXG5cclxuICAgICAgeGhyLnNlbmQoZGF0YSk7XHJcbiAgICB9KSk7XHJcblxyXG4gICAgcHJvbWlzZS5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xyXG4gICAgICBpZiAoeGhyKSB7XHJcbiAgICAgICAgeGhyLmFib3J0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gcHJvbWlzZTtcclxuICB9XHJcbn1cclxuXHJcbmRlZmluZVByb3BlcnRpZXMoRmV0Y2gucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdGZXRjaCdcclxufSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uIGZldGNoQmVmb3JlTWlkZGxld2FyZVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge0ZldGNoQ29uZmlnfSBjb25maWdcclxuICogQGRlc2NyaXB0aW9uIEJ1aWx0LWluIGJlZm9yZSBtaWRkbGV3YXJlIGZvciB1cmwsIGRhdGEsIG1ldGhvZCwgaGVhZGVycyBjb25zdHJ1Y3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBmZXRjaEJlZm9yZU1pZGRsZXdhcmUoY29uZmlnKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgYmFzZVVSTCxcclxuICAgIGRhdGEsXHJcbiAgICBoZWFkZXJzLFxyXG4gICAgbWV0aG9kLFxyXG4gICAgcGFyYW1zLFxyXG4gICAgcXVlcnksXHJcbiAgICB1cmxcclxuICB9ID0gY29uZmlnO1xyXG4gIGNvbnN0IE1FVEhPRCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICBjb25maWcubWV0aG9kID0gTUVUSE9EO1xyXG4gIGNvbmZpZy51cmwgPSBjb25zdHJ1Y3RVUkwoYmFzZVVSTCwgdXJsLCBwYXJhbXMsIHF1ZXJ5KTtcclxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEoZGF0YSwgTUVUSE9ELCBoZWFkZXJzKTtcclxuICBjb25maWcuaGVhZGVycyA9IG5ldyBTdXBlcihoZWFkZXJzKS5vYmplY3QoKGhlYWRlcnMsIHZhbHVlcywgaGVhZGVyKSA9PiB7XHJcbiAgICBoZWFkZXIgPSBuZXcgU3RyKGhlYWRlcilcclxuICAgICAgLnRvQ2FwaXRhbENhc2UoKVxyXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCAnLScpXHJcbiAgICAgIC4kO1xyXG5cclxuICAgIGhlYWRlcnNbaGVhZGVyXSA9IHZhbHVlcy5qb2luKCcsICcpO1xyXG4gIH0pLiQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAY29uc3Qge0ZldGNofSBmZXRjaFxyXG4gKiBAdHlwZSB7RmV0Y2h9XHJcbiAqIEBwdWJsaWNcclxuICogQGRlc2NyaXB0aW9uIEVtcHR5IGluc3RhbmNlIG9mIEZldGNoLlxyXG4gKi9cclxuY29uc3QgZmV0Y2ggPSBuZXcgRmV0Y2goKTtcclxuXHJcbmV4cG9ydCB7IEZldGNoLCBmZXRjaCB9O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBSb3V0ZXJcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFJvdXRlci5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBcnIgfSBmcm9tICcuL0Fycic7XHJcbmltcG9ydCB7IEVsZW0sIHdpbiB9IGZyb20gJy4vRWxlbSc7XHJcbmltcG9ydCB7IHNlbGYgfSBmcm9tICcuL0Z1bmMnO1xyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuL1N0cic7XHJcbmltcG9ydCB7IFN1cGVyIH0gZnJvbSAnLi9TdXBlcic7XHJcbmltcG9ydCB7IHN3aXRjaGVyIH0gZnJvbSAnLi9Td2l0Y2hlcic7XHJcbmltcG9ydCB7IGFzc2lnbiwgaXNOaWwsIGlzUmVnRXhwLCBpc1N0cmluZyB9IGZyb20gJy4vaGVscGVycyc7XHJcbmltcG9ydCBjb25zdHJ1Y3RVUkwgZnJvbSAnLi9oZWxwZXJzL2NvbnN0cnVjdFVSTCc7XHJcbmltcG9ydCByZXNvbHZlVVJMIGZyb20gJy4vaGVscGVycy9yZXNvbHZlVVJMJztcclxuXHJcbmNvbnN0IFJvdXRlcyA9IG5ldyBBcnIoW10pO1xyXG5jb25zdCBzdWJzY3JpYmVycyA9IG5ldyBTdXBlcih7fSk7XHJcbmNvbnN0IHtcclxuICBoaXN0b3J5LFxyXG4gIGxvY2F0aW9uLFxyXG4gIGxvY2F0aW9uOiB7XHJcbiAgICBvcmlnaW4sXHJcbiAgICBocmVmXHJcbiAgfVxyXG59ID0gZ2xvYmFsO1xyXG5sZXQgaW5pdGlhbGl6ZWQ7XHJcbmxldCBwdXNoZWQ7XHJcbmxldCB3YXNSb290O1xyXG5sZXQgd2FzRGVmYXVsdDtcclxubGV0IHJvb3RSb3V0ZTtcclxubGV0IHJlZGlyZWN0Um91dGU7XHJcbmxldCBSZWRpcmVjdFJvdXRlO1xyXG5sZXQgZGVmYXVsdFJvdXRlO1xyXG5sZXQgRGVmYXVsdFJvdXRlO1xyXG5sZXQgY3VycmVudFJvdXRlO1xyXG5sZXQgY3VycmVudFJvdXRlUGFyYW1zO1xyXG5cclxuY29uc3QgcGF0aFN3aXRjaGVyID0gc3dpdGNoZXIoJ2NhbGwnLCAoKSA9PiB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBwYXRoIG11c3QgYmUgYSBzdHJpbmcsIGEgcmVndWxhciBleHByZXNzaW9uIG9yIHVuZGVmaW5lZCEgKGF0IHJlZ2lzdGVyU3RhdGUpJyk7XHJcbn0pXHJcbiAgLmNhc2UoaXNSZWdFeHAsIChwYXRoKSA9PiAoe1xyXG4gICAgcGF0aDogcGF0aC5zb3VyY2UucmVwbGFjZSgvXFxcXFxcLy9nLCAnLycpLFxyXG4gICAgdXJsOiBwYXRoLFxyXG4gICAgcGFyYW1zOiB7fVxyXG4gIH0pKVxyXG4gIC5jYXNlKGlzTmlsLCAoKSA9PiAoe1xyXG4gICAgcGF0aDogJy8nLFxyXG4gICAgdXJsOiAnLycsXHJcbiAgICBwYXJhbXM6IHt9XHJcbiAgfSkpXHJcbiAgLmNhc2UoaXNTdHJpbmcsIChwYXRoKSA9PiB7XHJcbiAgICBpZiAocGF0aC5pbmRleE9mKCcvJykpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJZiByb3V0ZSBwYXRoIGlzIGEgc3RyaW5nIGl0IG11c3Qgc3RhcnQgd2l0aCBcIi9cIiEgKGF0IHJlZ2lzdGVyU3RhdGUpJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5kZXggPSBwYXRoLmluZGV4T2YoJz8nKTtcclxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBTdXBlcih7fSk7XHJcbiAgICBsZXQgbmV3VVJMID0gJyc7XHJcbiAgICBjb25zdCBuZXdQYXRoID0gbmV3IFN0cihwYXRoKVxyXG4gICAgICAuc2xpY2UoMCwgaW5kZXggPT09IC0xID8gcGF0aC5sZW5ndGggOiBpbmRleClcclxuICAgICAgLnJlcGxhY2UoL15cXC98XFwvJC9nKVxyXG4gICAgICAuc3BsaXQoL1xcLy8pXHJcbiAgICAgIC5tYXAoKHBhcnQsIGksIGFycmF5KSA9PiB7XHJcbiAgICAgICAgaWYgKCFwYXJ0ICYmIGFycmF5Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWYgcm91dGUgcGF0aCBpcyBhIHN0cmluZyBpdCBtdXN0IG5vdCBjb250YWluIFwiLy9cIiBvciBlbmQgd2l0aCBcIi9cIiEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFydC5pbmRleE9mKCc6Jyk7XHJcblxyXG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWYgcm91dGUgcGF0aCBpcyBhIHN0cmluZyByZXNvdXJjZSBwYXJ0IG11c3QgYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIFVSTCBwYXJhbWV0ZXIhIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IHBhcnQsXHJcbiAgICAgICAgICAgIHZhbHVlOiBwYXJ0XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIHJlZ2V4cCA9IC9bXi9dKi9cclxuICAgICAgICB9ID0gcmVzb2x2ZVBhcmFtZXRlcihcclxuICAgICAgICAgIHBhcnQuc2xpY2UoMSksXHJcbiAgICAgICAgICAnVVJMIHBhcmFtZXRlciBtdXN0IG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcgb3IgY29udGFpbiBjaGFyYWN0ZXJzIGJlc2lkZXMgXCJhLXpBLVpfJFwiISAoYXQgbWFrZVJvdXRlKScsXHJcbiAgICAgICAgICAnVVJMIHBhcmFtZXRlciByZWdleHAgdmFsaWRhdG9yIG11c3QgYmUgd2l0aGluIHBhcmVudGhlc2VzIChlLmcuIDp1c2VySWQoXFxcXGQrKSBhbmQgbm90IGNvbnRhaW4gb25lcykhIChhdCBtYWtlUm91dGUpJ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHBhcmFtcy4kW25hbWVdID0gcGFyYW1zLmNvdW50O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdHlwZTogJ3BhcmFtJyxcclxuICAgICAgICAgIHVybDogYDokeyBuYW1lIH1gLFxyXG4gICAgICAgICAgdmFsdWU6IHJlZ2V4cFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pXHJcbiAgICAgIC53b3JkKCh7IHR5cGUsIHVybCwgdmFsdWUgfSkgPT4ge1xyXG4gICAgICAgIGxldCBuZXdQYXRoO1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BhcmFtJykge1xyXG4gICAgICAgICAgbmV3UGF0aCA9IGAoJHsgdmFsdWUuc291cmNlLnJlcGxhY2UoL1xcXFxcXC8vZywgJy8nKSB9KWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG5ld1BhdGggPSBuZXcgU3RyKHZhbHVlKS5lc2NhcGVSZWdFeHAoKS4kO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmV3VVJMICs9IGAvJHsgdXJsIH1gO1xyXG5cclxuICAgICAgICByZXR1cm4gYC8keyBuZXdQYXRoIH1gO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwYXRoOiBuZXdQYXRoLFxyXG4gICAgICB1cmw6IG5ld1VSTCxcclxuICAgICAgcGFyYW1zOiBwYXJhbXMuJFxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbmNsYXNzIFJvdXRlIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHBhdGggPSAnLycsXHJcbiAgICAgIGFic3RyYWN0ID0gZmFsc2UsXHJcbiAgICAgIHBhcmVudCxcclxuICAgICAgZGVjb2RlUXVlcnkgPSB0cnVlLFxyXG4gICAgICBlbmNvZGVRdWVyeSA9IHRydWUsXHJcbiAgICAgIGRlY29kZVBhcmFtcyA9IHRydWUsXHJcbiAgICAgIGVuY29kZVBhcmFtcyA9IHRydWVcclxuICAgIH0gPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB1cmw6IHJlbGF0aXZlVVJMLFxyXG4gICAgICBwYXRoOiByZWxhdGl2ZVBhdGgsXHJcbiAgICAgIHBhcmFtc1xyXG4gICAgfSA9IHBhdGhTd2l0Y2hlcihwYXRoKTtcclxuICAgIGNvbnN0IHF1ZXJ5ID0ge307XHJcblxyXG4gICAgbmV3IFN1cGVyKHRoaXMpLmFzc2lnbih7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIHBhcmVudE5hbWU6IHBhcmVudCxcclxuICAgICAgYWJzdHJhY3Q6ICEhYWJzdHJhY3QsXHJcbiAgICAgIGNoaWxkcmVuOiBuZXcgQXJyKFtdKSxcclxuICAgICAgZGVjb2RlUGFyYW1zOiAhIWRlY29kZVBhcmFtcyxcclxuICAgICAgZGVjb2RlUXVlcnk6ICEhZGVjb2RlUXVlcnksXHJcbiAgICAgIGVuY29kZVBhcmFtczogISFlbmNvZGVQYXJhbXMsXHJcbiAgICAgIGVuY29kZVF1ZXJ5OiAhIWVuY29kZVF1ZXJ5LFxyXG4gICAgICBwYXJhbXMsXHJcbiAgICAgIHF1ZXJ5LFxyXG4gICAgICByZWxhdGl2ZVBhdGgsXHJcbiAgICAgIHJlbGF0aXZlVVJMXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBpbmRleCA9IGlzU3RyaW5nKHBhdGgpID8gcGF0aC5pbmRleE9mKCc/JykgOiAtMTtcclxuXHJcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIG5ldyBTdHIocGF0aClcclxuICAgICAgICAucmVwbGFjZSgvJiQvKVxyXG4gICAgICAgIC5zbGljZShpbmRleCArIDEpXHJcbiAgICAgICAgLnNwbGl0KCcmJylcclxuICAgICAgICAuZm9yRWFjaCgocGFyYW0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgcmVnZXhwID0gL1tcXHNcXFNdKi9cclxuICAgICAgICAgIH0gPSByZXNvbHZlUGFyYW1ldGVyKFxyXG4gICAgICAgICAgICBwYXJhbSxcclxuICAgICAgICAgICAgJ1F1ZXJ5IHBhcmFtZXRlciBtdXN0IG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcgb3IgY29udGFpbiBjaGFyYWN0ZXJzIGJlc2lkZXMgXCJhLXpBLVpfJFwiISAoYXQgbWFrZVJvdXRlKScsXHJcbiAgICAgICAgICAgICdRdWVyeSBwYXJhbWV0ZXIgcmVnZXhwIHZhbGlkYXRvciBtdXN0IGJlIHdpdGhpbiBwYXJlbnRoZXNlcyAoZS5nLiA6dXNlcklkKFxcXFxkKykpIGFuZCBub3QgY29udGFpbiB0aGVtISAoYXQgbWFrZVJvdXRlKSdcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgcXVlcnlbbmFtZV0gPSBuZXcgUmVnRXhwKGBeJHsgcmVnZXhwLnNvdXJjZS5yZXBsYWNlKC9cXFxcXFwvL2csICcvJykgfSRgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmFtZSA9PT0gZGVmYXVsdFJvdXRlICYmIChcclxuICAgICAgICBuZXcgU3VwZXIocGFyYW1zKS5jb3VudFxyXG4gICAgICAgIHx8IG5ldyBTdXBlcihxdWVyeSkuY291bnRcclxuICAgICAgKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmF1bHQgcm91dGUgbXVzdCBub3QgaGF2ZSBVUkwgb3IgcXVlcnkgcGFyYW1zISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgYmFzZVJvdXRlID0gbmV3IFJvdXRlKCk7XHJcblxyXG5mdW5jdGlvbiBpbml0Um91dGVyKCkge1xyXG4gIGlmIChpbml0aWFsaXplZCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gIFJlZGlyZWN0Um91dGUgPSAoUm91dGVzLmZpbmQoKHsgbmFtZSB9KSA9PiBuYW1lID09PSByZWRpcmVjdFJvdXRlKSB8fCB7fSkudmFsdWU7XHJcbiAgRGVmYXVsdFJvdXRlID0gKFJvdXRlcy5maW5kKCh7IG5hbWUgfSkgPT4gbmFtZSA9PT0gZGVmYXVsdFJvdXRlKSB8fCB7fSkudmFsdWU7XHJcblxyXG4gIGlmIChyZWRpcmVjdFJvdXRlICYmICFSZWRpcmVjdFJvdXRlKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHNwZWNpZmllZCBmYWxsYmFjayByb3V0ZSAoXCIkeyByZWRpcmVjdFJvdXRlIH1cIikhIChhdCBpbml0Um91dGVyKWApO1xyXG4gIH1cclxuXHJcbiAgUm91dGVzXHJcbiAgICAuZm9yRWFjaCgocm91dGUpID0+IHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIHBhcmVudE5hbWUsXHJcbiAgICAgICAgbmFtZVxyXG4gICAgICB9ID0gcm91dGU7XHJcbiAgICAgIGNvbnN0IFBhcmVudE5hbWUgPSBwYXJlbnROYW1lIHx8IHJvb3RSb3V0ZTtcclxuICAgICAgY29uc3QgeyB2YWx1ZTogcGFyZW50IH0gPSBSb3V0ZXMuZmluZCgoeyBuYW1lIH0pID0+IG5hbWUgPT09IFBhcmVudE5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgaWYgKCFwYXJlbnQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1Y2ggcGFyZW50IHJvdXRlIChcIiR7IFBhcmVudE5hbWUgfVwiKSBmb3VuZCBmb3IgdGhlIHJvdXRlIChcIiR7IG5hbWUgfVwiKSEgKGF0IGluaXRSb3V0ZXIpYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghcGFyZW50LmFic3RyYWN0ICYmIG5hbWUgIT09IHJvb3RSb3V0ZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyZW50IHJvdXRlIG11c3QgYmUgYWJzdHJhY3QgKGZvciBcIiR7IG5hbWUgfVwiKSEgKGF0IGluaXRSb3V0ZXIpYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuYW1lICE9PSByb290Um91dGUpIHtcclxuICAgICAgICByb3V0ZS5wYXJlbnROYW1lID0gUGFyZW50TmFtZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcm91dGUucGFyZW50ID0gbmFtZSA9PT0gcm9vdFJvdXRlXHJcbiAgICAgICAgPyBiYXNlUm91dGVcclxuICAgICAgICA6IHBhcmVudDtcclxuICAgIH0pXHJcbiAgICAuZm9yRWFjaCgocm91dGUpID0+IHtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgcGFyZW50OiB7XHJcbiAgICAgICAgICBwYXJhbXM6IHBhcmVudFBhcmFtcyxcclxuICAgICAgICAgIHF1ZXJ5OiBwYXJlbnRRdWVyeSxcclxuICAgICAgICAgIHBhdGhcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBhcmFtcyxcclxuICAgICAgICBxdWVyeSxcclxuICAgICAgICByZWxhdGl2ZVVSTCxcclxuICAgICAgICByZWxhdGl2ZVBhdGhcclxuICAgICAgfSA9IHJvdXRlO1xyXG4gICAgICBsZXQgcHJvdG8gPSByb3V0ZTtcclxuICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgbGV0IG5ld1BhdGggPSByZWxhdGl2ZVBhdGg7XHJcbiAgICAgIGxldCBuZXdVUkwgPSAnJztcclxuXHJcbiAgICAgIGlmIChpc1JlZ0V4cChwYXRoKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVVJMIHJlZ2V4cCByb3V0ZSBjYW5ub3QgYmUgZXh0ZW5kZWQhIChhdCBpbml0Um91dGVyKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB3aGlsZSAocHJvdG8gPSBwcm90by5wYXJlbnQpIHtcclxuICAgICAgICBjb3VudCArPSBuZXcgU3VwZXIocHJvdG8ucGFyYW1zKS5jb3VudDtcclxuICAgICAgICBuZXdQYXRoID0gcHJvdG8ucmVsYXRpdmVQYXRoICsgbmV3UGF0aDtcclxuICAgICAgICBuZXdVUkwgPSBwcm90by5yZWxhdGl2ZVVSTCArIG5ld1VSTDtcclxuXHJcbiAgICAgICAgcHJvdG8uY2hpbGRyZW4ucHVzaChyb3V0ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG5ld1BhdGggPSBuZXcgUmVnRXhwKGBeJHsgbmV3UGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJykucmVwbGFjZSgvXFwvJC8sICcnKSB8fCAnLycgfSRgKTtcclxuICAgICAgbmV3VVJMID0gaXNSZWdFeHAocmVsYXRpdmVVUkwpXHJcbiAgICAgICAgPyBuZXdQYXRoXHJcbiAgICAgICAgOiAobmV3VVJMICsgcmVsYXRpdmVVUkwpLnJlcGxhY2UoL1xcLysvZywgJy8nKS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJztcclxuXHJcbiAgICAgIG5ldyBTdXBlcihxdWVyeSkucHJvdG8ocGFyZW50UXVlcnkpO1xyXG4gICAgICBuZXcgU3VwZXIocGFyYW1zKVxyXG4gICAgICAgIC5wcm90byhwYXJlbnRQYXJhbXMpXHJcbiAgICAgICAgLmZvckVhY2goKHZhbHVlLCBrZXksIHBhcmFtcykgPT4ge1xyXG4gICAgICAgICAgcGFyYW1zW2tleV0gKz0gY291bnQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAobmFtZSA9PT0gZGVmYXVsdFJvdXRlICYmIChcclxuICAgICAgICAgIG5ldyBTdXBlcihwYXJhbXMpLmNvdW50XHJcbiAgICAgICAgICB8fCBuZXcgU3VwZXIocXVlcnkpLmNvdW50XHJcbiAgICAgICAgKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGVmYXVsdCByb3V0ZSBtdXN0IG5vdCBoYXZlIFVSTCBvciBxdWVyeSBwYXJhbXMhIChhdCBpbml0Um91dGVyKScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByb3V0ZS51cmwgPSBuZXdVUkw7XHJcbiAgICAgIHJvdXRlLnZhbGlkYXRlUGF0aCA9IG5ld1BhdGg7XHJcbiAgICB9KTtcclxuXHJcbiAgY2hhbmdlUm91dGUoKTtcclxuXHJcbiAgd2luLm9uKHtcclxuICAgIHBvcHN0YXRlKCkge1xyXG4gICAgICBpZiAobG9jYXRpb24uaHJlZiAhPT0gaHJlZikge1xyXG4gICAgICAgIHB1c2hlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwdXNoZWQpIHtcclxuICAgICAgICBjaGFuZ2VSb3V0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgY2xpY2soZSkge1xyXG4gICAgICBjb25zdCBjbG9zZXN0TGluayA9IG5ldyBFbGVtKGUudGFyZ2V0KS5jbG9zZXN0KCdhJyk7XHJcblxyXG4gICAgICBpZiAoY2xvc2VzdExpbmsubGVuZ3RoICYmIGNsb3Nlc3RMaW5rLmF0dHIoJ3RhcmdldCcpICE9PSAnX2JsYW5rJykge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgZm9yd2FyZChjbG9zZXN0TGluay5hdHRyKCdocmVmJykgfHwgJycsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VSb3V0ZShvcHRpb25zKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgbmFtZSxcclxuICAgIHBhdGgsXHJcbiAgICBhYnN0cmFjdCxcclxuICAgIHJvb3QsXHJcbiAgICBmYWxsYmFja1RvLFxyXG4gICAgZGVmYXVsdDogaXNEZWZhdWx0XHJcbiAgfSA9IG9wdGlvbnMgfHwge307XHJcblxyXG4gIGlmIChpbml0aWFsaXplZCkge1xyXG4gICAgY29uc29sZS53YXJuKCdSb3V0ZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQgKGF0IG1ha2VSb3V0ZSknKTtcclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9XHJcblxyXG4gIGlmICh3YXNSb290ICYmIHJvb3QpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgY2FuJ3QgYmUgdHdvIHJvb3Qgcm91dGVzIChcIiR7IHJvb3RSb3V0ZSB9XCIgYW5kIFwiJHsgbmFtZSB9XCIpISAoYXQgbWFrZVJvdXRlKWApO1xyXG4gIH1cclxuXHJcbiAgaWYgKHdhc0RlZmF1bHQgJiYgaXNEZWZhdWx0KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGNhbid0IGJlIHR3byBkZWZhdWx0IHJvdXRlcyAoXCIkeyBkZWZhdWx0Um91dGUgfVwiIGFuZCBcIiR7IG5hbWUgfVwiKSEgKGF0IG1ha2VSb3V0ZSlgKTtcclxuICB9XHJcblxyXG4gIGlmICghbmFtZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTdGF0ZSBtdXN0IGhhdmUgYSBub24tZW1wdHkgc3RyaW5nIFwibmFtZVwiIHByb3BlcnR5ISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gIH1cclxuXHJcbiAgaWYgKFJvdXRlcy5zb21lKCh7IG5hbWU6IE5hbWUgfSkgPT4gTmFtZSA9PT0gbmFtZSkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignU3RhdGUgbXVzdCBoYXZlIHVuaXF1ZSBcIm5hbWVcIiBwcm9wZXJ0eSEgKGF0IG1ha2VSb3V0ZSknKTtcclxuICB9XHJcblxyXG4gIGlmIChyb290KSB7XHJcbiAgICB3YXNSb290ID0gdHJ1ZTtcclxuICAgIHJvb3RSb3V0ZSA9IG5hbWU7XHJcbiAgICBvcHRpb25zLnBhcmVudCA9IG51bGw7XHJcblxyXG4gICAgaWYgKGZhbGxiYWNrVG8pIHtcclxuICAgICAgcmVkaXJlY3RSb3V0ZSA9IGZhbGxiYWNrVG87XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNEZWZhdWx0KSB7XHJcbiAgICB3YXNEZWZhdWx0ID0gdHJ1ZTtcclxuICAgIGRlZmF1bHRSb3V0ZSA9IG5hbWU7XHJcblxyXG4gICAgaWYgKGFic3RyYWN0KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGVmYXVsdCByb3V0ZSBjYW5cXCd0IGJlIGFic3RyYWN0ISAoYXQgbWFrZVJvdXRlKScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1JlZ0V4cChwYXRoKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlZmF1bHQgcm91dGUgY2FuXFwndCBoYXZlIGEgcmVnZXhwIHBhdGghIChhdCBtYWtlUm91dGUpJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCByb3V0ZSA9IG5ldyBSb3V0ZShvcHRpb25zKTtcclxuXHJcbiAgUm91dGVzLnB1c2gocm91dGUpO1xyXG5cclxuICBsZXQgdW5zdWJzY3JpYmU7XHJcbiAgbGV0IHJvdXRlTG9hZGVkO1xyXG5cclxuICByZXR1cm4gKEJsb2NrKSA9PiAoXHJcbiAgICBjbGFzcyBleHRlbmRzIEJsb2NrIHtcclxuICAgICAgc3RhdGljIHRlbXBsYXRlID0gYDxkaXYgY2xhc3M9XCJkd2F5bmUtcm91dGUgcm91dGUtJHsgbmFtZSB9XCIgZC1zaG93PVwie19faXNDdXJyZW50Um91dGVfX31cIj4keyBCbG9jay50ZW1wbGF0ZSB9PC9kaXY+YDtcclxuXHJcbiAgICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcclxuICAgICAgICBzdXBlcihvcHRzKTtcclxuXHJcbiAgICAgICAgaWYgKHJvb3QpIHtcclxuICAgICAgICAgIGluaXRSb3V0ZXIoKTtcclxuXHJcbiAgICAgICAgICBjb25zdCByb3V0ZXIgPSB7XHJcbiAgICAgICAgICAgIGJ1aWxkVVJMKG5hbWUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IHJvdXRlIH0gPSBSb3V0ZXMuZmluZCgoeyBuYW1lOiBuIH0pID0+IG4gPT09IG5hbWUpIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgICBpZiAoIXJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGFyZSBubyByb3V0ZXMgd2l0aCBuYW1lIFwiJHsgbmFtZSB9XCIhIChhdCByb3V0ZXIuYnVpbGRVUkwpYCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgICB1cmwsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGVQYXJhbXMsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGVRdWVyeVxyXG4gICAgICAgICAgICAgIH0gPSByb3V0ZTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGlzUmVnRXhwKHVybCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVVJMIGNhbiBiZSBidWlsdCBvbmx5IGZyb20gdGhlIHN0cmluZyBVUkxzISAoYXQgcm91dGVyLmJ1aWxkVVJMKScpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1zID0ge30sXHJcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgaGFzaCA9ICcnXHJcbiAgICAgICAgICAgICAgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RVUkwob3JpZ2luLCB1cmwsIHBhcmFtcywgcXVlcnksIGhhc2gsIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtczogZW5jb2RlUGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgcXVlcnk6IGVuY29kZVF1ZXJ5XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdvKG5hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICBmb3J3YXJkKHJvdXRlci5idWlsZFVSTChuYW1lLCBvcHRpb25zKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdvVG9VUkwodXJsKSB7XHJcbiAgICAgICAgICAgICAgZm9yd2FyZCh1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwdXNoVVJMKHVybCkge1xyXG4gICAgICAgICAgICAgIGNoYW5nZUhpc3RvcnkodXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVkaXJlY3QobmFtZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICAgIGZvcndhcmQocm91dGVyLmJ1aWxkVVJMKG5hbWUsIG9wdGlvbnMpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVkaXJlY3RUb1VSTCh1cmwpIHtcclxuICAgICAgICAgICAgICBmb3J3YXJkKHVybCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlcGxhY2VVUkwodXJsKSB7XHJcbiAgICAgICAgICAgICAgY2hhbmdlSGlzdG9yeSh1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHRoaXMuZ2xvYmFsLnJvdXRlciA9IHJvdXRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX19pc0N1cnJlbnRSb3V0ZV9fID0gKFxyXG4gICAgICAgICAgcm91dGUgPT09IGN1cnJlbnRSb3V0ZVxyXG4gICAgICAgICAgfHwgcm91dGUuY2hpbGRyZW4uaW5kZXhPZihjdXJyZW50Um91dGUpICE9PSAtMVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5hcmdzLnJvdXRlID0gY3VycmVudFJvdXRlUGFyYW1zO1xyXG5cclxuICAgICAgICByb3V0ZUxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHVuc3Vic2NyaWJlID0gc3Vic2NyaWJlKG5hbWUsICgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGlzQ3VycmVudFJvdXRlID0gKFxyXG4gICAgICAgICAgICByb3V0ZSA9PT0gY3VycmVudFJvdXRlXHJcbiAgICAgICAgICAgIHx8IHJvdXRlLmNoaWxkcmVuLmluZGV4T2YoY3VycmVudFJvdXRlKSAhPT0gLTFcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgaWYgKGlzQ3VycmVudFJvdXRlKSB7XHJcbiAgICAgICAgICAgIGNhbGxCZWZvcmVMb2FkKHRoaXMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2FsbEJlZm9yZUxlYXZlKHRoaXMpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuYXJncy5yb3V0ZSA9IGN1cnJlbnRSb3V0ZVBhcmFtcztcclxuICAgICAgICAgIHRoaXMuX19pc0N1cnJlbnRSb3V0ZV9fID0gaXNDdXJyZW50Um91dGU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9faXNDdXJyZW50Um91dGVfXykge1xyXG4gICAgICAgICAgY2FsbEJlZm9yZUxvYWQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBiZWZvcmVSZW1vdmUoKSB7XHJcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcclxuICAgICAgICB1bnN1YnNjcmliZSA9IG51bGw7XHJcbiAgICAgICAgY2FsbEJlZm9yZUxlYXZlKHRoaXMpO1xyXG4gICAgICAgIHN1cGVyLmJlZm9yZVJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgZnVuY3Rpb24gY2FsbEJlZm9yZUxvYWQocm91dGUpIHtcclxuICAgIGlmIChyb3V0ZS5iZWZvcmVMb2FkUm91dGUgJiYgIXJvdXRlTG9hZGVkKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcm91dGUuYmVmb3JlTG9hZFJvdXRlKCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluICR7IG5hbWUgfSNiZWZvcmVMZWF2ZTpgLCBlcnIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcm91dGVMb2FkZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FsbEJlZm9yZUxlYXZlKHJvdXRlKSB7XHJcbiAgICBpZiAocm91dGUuYmVmb3JlTGVhdmVSb3V0ZSAmJiByb3V0ZUxvYWRlZCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJvdXRlLmJlZm9yZUxlYXZlUm91dGUoKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgVW5jYXVnaHQgZXJyb3IgaW4gJHsgbmFtZSB9I2JlZm9yZUxlYXZlOmAsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByb3V0ZUxvYWRlZCA9IGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3Vic2NyaWJlKG5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgc3Vic2NyaWJlcnMuJFtuYW1lXSA9IGNhbGxiYWNrO1xyXG5cclxuICByZXR1cm4gKCkgPT4ge1xyXG4gICAgc3Vic2NyaWJlcnMuZGVsZXRlKG5hbWUpO1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcndhcmQodXJsLCBwdXNoKSB7XHJcbiAgY2hhbmdlSGlzdG9yeSh1cmwsIHB1c2gpO1xyXG4gIGNoYW5nZVJvdXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVJvdXRlKCkge1xyXG4gIGNvbnN0IHJvdXRlID0gZmluZFJvdXRlQnlVUkwoKTtcclxuXHJcbiAgaWYgKHJvdXRlKSB7XHJcbiAgICAoe1xyXG4gICAgICByb3V0ZTogY3VycmVudFJvdXRlLFxyXG4gICAgICAuLi5jdXJyZW50Um91dGVQYXJhbXNcclxuICAgIH0gPSByb3V0ZSk7XHJcbiAgICBhc3NpZ24oY3VycmVudFJvdXRlUGFyYW1zLCB7XHJcbiAgICAgIG5hbWU6IGN1cnJlbnRSb3V0ZS5uYW1lLFxyXG4gICAgICBob3N0OiBsb2NhdGlvbi5ob3N0LFxyXG4gICAgICBob3N0bmFtZTogbG9jYXRpb24uaG9zdG5hbWUsXHJcbiAgICAgIGhyZWY6IGxvY2F0aW9uLmhyZWYsXHJcbiAgICAgIG9yaWdpbjogbG9jYXRpb24ub3JpZ2luLFxyXG4gICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXHJcbiAgICAgIHBvcnQ6IGxvY2F0aW9uLnBvcnQsXHJcbiAgICAgIHByb3RvY29sOiBsb2NhdGlvbi5wcm90b2NvbCxcclxuICAgICAgc2VhcmNoOiBsb2NhdGlvbi5zZWFyY2hcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAocmVkaXJlY3RSb3V0ZSkge1xyXG4gICAgICBjb25zdCB7XHJcbiAgICAgICAgdXJsLFxyXG4gICAgICAgIGVuY29kZVBhcmFtcyxcclxuICAgICAgICBlbmNvZGVRdWVyeVxyXG4gICAgICB9ID0gUmVkaXJlY3RSb3V0ZTtcclxuXHJcbiAgICAgIHJldHVybiBmb3J3YXJkKGNvbnN0cnVjdFVSTChvcmlnaW4sIHVybCwge30sIHt9LCAnJywge1xyXG4gICAgICAgIHBhcmFtczogZW5jb2RlUGFyYW1zLFxyXG4gICAgICAgIHF1ZXJ5OiBlbmNvZGVRdWVyeVxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3VycmVudFJvdXRlID0gbnVsbDtcclxuICAgIGN1cnJlbnRSb3V0ZVBhcmFtcyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBzdWJzY3JpYmVycy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRSb3V0ZUJ5VVJMKCkge1xyXG4gIGNvbnN0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgJy8nO1xyXG4gIGNvbnN0IHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaCB8fCAnJztcclxuICBsZXQgdXJsUGFyYW1zO1xyXG5cclxuICBSb3V0ZXMuc29tZSgocm91dGUpID0+IHtcclxuICAgIGlmIChyb3V0ZS5hYnN0cmFjdCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICB1cmw6IHJvdXRlVVJMLFxyXG4gICAgICB2YWxpZGF0ZVBhdGgsXHJcbiAgICAgIHBhcmFtcyxcclxuICAgICAgcXVlcnk6IHJlcXVpcmVkUXVlcnksXHJcbiAgICAgIGRlY29kZVBhcmFtcyxcclxuICAgICAgZGVjb2RlUXVlcnlcclxuICAgIH0gPSByb3V0ZTtcclxuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVVSTChkZWNvZGVRdWVyeSk7XHJcbiAgICBjb25zdCBxdWVyeSA9IG5ldyBTdXBlcihyZXNvbHZlZC5xdWVyeSk7XHJcbiAgICBjb25zdCBldmVudHVhbFBhcmFtcyA9IHt9O1xyXG4gICAgY29uc3QgbWF0Y2ggPSAoXHJcbiAgICAgIChwYXRobmFtZS5yZXBsYWNlKC9cXC8kLywgJycpIHx8ICcvJykgK1xyXG4gICAgICAoaXNSZWdFeHAocm91dGVVUkwpID8gc2VhcmNoIDogJycpXHJcbiAgICApLm1hdGNoKHZhbGlkYXRlUGF0aCk7XHJcblxyXG4gICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLyogZXNsaW50IGd1YXJkLWZvci1pbjogMCAqL1xyXG4gICAgZm9yIChjb25zdCBwYXJhbSBpbiByZXF1aXJlZFF1ZXJ5KSB7XHJcbiAgICAgIGlmICghcXVlcnkuaGFzT3duKHBhcmFtKSB8fCAhcmVxdWlyZWRRdWVyeVtwYXJhbV0udGVzdChxdWVyeS4kW3BhcmFtXSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtYXRjaC5zaGlmdCgpO1xyXG5cclxuICAgIGZvciAoY29uc3QgcGFyYW0gaW4gcGFyYW1zKSB7XHJcbiAgICAgIGV2ZW50dWFsUGFyYW1zW3BhcmFtXSA9IGRlY29kZShtYXRjaFtwYXJhbXNbcGFyYW1dXSwgZGVjb2RlUGFyYW1zKTtcclxuICAgIH1cclxuXHJcbiAgICB1cmxQYXJhbXMgPSB7XHJcbiAgICAgIHJvdXRlLFxyXG4gICAgICBwYXJhbXM6IGV2ZW50dWFsUGFyYW1zLFxyXG4gICAgICBxdWVyeTogcXVlcnkuJCxcclxuICAgICAgaGFzaDogcmVzb2x2ZWQuaGFzaFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgaWYgKHVybFBhcmFtcykge1xyXG4gICAgcmV0dXJuIHVybFBhcmFtcztcclxuICB9XHJcblxyXG4gIGlmICghZGVmYXVsdFJvdXRlKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcm91dGU6IERlZmF1bHRSb3V0ZSxcclxuICAgIHBhcmFtczoge30sXHJcbiAgICAuLi5yZXNvbHZlVVJMKERlZmF1bHRSb3V0ZS5kZWNvZGVRdWVyeSlcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWNvZGUoc3RyaW5nLCBkZWNvZGVQYXJhbXMpIHtcclxuICByZXR1cm4gZGVjb2RlUGFyYW1zXHJcbiAgICA/IGRlY29kZVVSSUNvbXBvbmVudChzdHJpbmcpXHJcbiAgICA6IHN0cmluZztcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlSGlzdG9yeSh1cmwsIHB1c2gpIHtcclxuICB0cnkge1xyXG4gICAgaGlzdG9yeVtwdXNoID8gJ3B1c2hTdGF0ZScgOiAncmVwbGFjZVN0YXRlJ10obnVsbCwgbnVsbCwgdXJsKTtcclxuICAgIHB1c2hlZCA9IHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVzb2x2ZVBhcmFtZXRlcihwYXJhbSwgbmFtZUVycm9yTmFtZSwgdmFsdWVFcnJvck5hbWUpIHtcclxuICBjb25zdCBuYW1lTWF0Y2ggPSBwYXJhbS5tYXRjaCgvXlthLXpfJF0rL2kpO1xyXG5cclxuICBpZiAoIW5hbWVNYXRjaCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKG5hbWVFcnJvck5hbWUpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbmFtZSA9IG5hbWVNYXRjaFswXTtcclxuICBjb25zdCB2YWx1ZSA9IHBhcmFtLnNsaWNlKG5hbWUubGVuZ3RoKTtcclxuICBsZXQgcmVnZXhwO1xyXG5cclxuICBpZiAodmFsdWUgJiYgKHZhbHVlLmluZGV4T2YoJygnKSB8fCB2YWx1ZS5pbmRleE9mKCcpJykgIT09IHZhbHVlLmxlbmd0aCAtIDEpKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IodmFsdWVFcnJvck5hbWUpO1xyXG4gIH1cclxuXHJcbiAgaWYgKHZhbHVlKSB7XHJcbiAgICByZWdleHAgPSBuZXcgUmVnRXhwKHZhbHVlLnNsaWNlKDEsIC0xKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZSxcclxuICAgIHJlZ2V4cFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB7IG1ha2VSb3V0ZSB9O1xyXG4iLCIvKiBlc2xpbnQgbm8tbmVzdGVkLXRlcm5hcnk6IDAgKi9cclxuLyogZXNsaW50IG5vLW5lZ2F0ZWQtY29uZGl0aW9uOiAwICovXHJcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9hcHBsaWVkUmVnRXhwc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgdHlwZXMgb2Ygc3ludGF4IGZvciB7QGxpbmsgRWxlbSNhcHBseX0uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBtYXRjaEFwcGxpZWRFeHByQ2FsbGJhY2tcclxuICogQHBhcmFtIHtFbGVtfSBlbGVtIC0gRC1lbGVtIG9mIGFuIGVsZW1lbnQgdG8gYXBwbHkgZXhwcmVzc2lvbiB0by5cclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyAtIE1hdGNoZWQgYXBwbGllZCBuYW1lLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gYXJnIC0gQXJndW1lbnQgd2l0aGluIHRoZSBwYXJlbnRoZXNlcy5cclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGUge09iamVjdC48U3RyaW5nLCBtYXRjaEFwcGxpZWRFeHByQ2FsbGJhY2t8T2JqZWN0LjxTdHJpbmcsIG1hdGNoQXBwbGllZEV4cHJDYWxsYmFjaz4+fVxyXG4gKiBAZGVzY3JpcHRpb24gT2JqZWN0IG9mIGRpZmZlcmVudCB0eXBlcyBvZiBzeW50YXguXHJcbiAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IGFwcGxpZWRSZWdFeHBzID0ge1xyXG4gICcjJyhlbGVtLCBpZCkge1xyXG4gICAgZWxlbS5pZChpZCk7XHJcbiAgfSxcclxuICAnLicoZWxlbSwgY2xzKSB7XHJcbiAgICBlbGVtLmFkZENsYXNzKGNscyk7XHJcbiAgfSxcclxuICAkKGVsZW0sIGF0dHIsIHZhbHVlKSB7XHJcbiAgICBlbGVtLmF0dHIoYXR0ciwgdmFsdWUpO1xyXG4gIH0sXHJcbiAgJ0AnKGVsZW0sIHByb3AsIHZhbHVlKSB7XHJcbiAgICBlbGVtLmNzcyhwcm9wLCB2YWx1ZSk7XHJcbiAgfSxcclxuICAnJicoZWxlbSwgbmFtZSwgaHRtbCkge1xyXG4gICAgZWxlbS5odG1sKGh0bWwpO1xyXG4gIH0sXHJcbiAgJyonKGVsZW0sIG5hbWUsIHRleHQpIHtcclxuICAgIGVsZW0udGV4dCh0ZXh0KTtcclxuICB9LFxyXG4gICctJzoge1xyXG4gICAgJy4nKGVsZW0sIGNscykge1xyXG4gICAgICBlbGVtLnJlbW92ZUNsYXNzKGNscyk7XHJcbiAgICB9LFxyXG4gICAgJChlbGVtLCBhdHRyKSB7XHJcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cihhdHRyKTtcclxuICAgIH0sXHJcbiAgICAnQCcoZWxlbSwgcHJvcCkge1xyXG4gICAgICBlbGVtLnJlbW92ZUNTUyhwcm9wKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9lbGVtZW50c1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgY2FudmFzIG1ldGhvZHMgZm9yIHtAbGluayBFbGVtfSBmb3IgY3JlYXRpbmcgaHRtbC1lbGVtZW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogQGNvbnN0XHJcbiAqIEB0eXBlIHtTdHJpbmdbXX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBjYW52YXNHZXRNZXRob2RzID0gW1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NyZWF0ZUltYWdlRGF0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NyZWF0ZUltYWdlRGF0YVxyXG4gICAqL1xyXG4gICdjcmVhdGVJbWFnZURhdGEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjcmVhdGVMaW5lYXJHcmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7Q2FudmFzR3JhZGllbnR8dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY3JlYXRlTGluZWFyR3JhZGllbnRcclxuICAgKi9cclxuICAnY3JlYXRlTGluZWFyR3JhZGllbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjcmVhdGVQYXR0ZXJuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtDYW52YXNQYXR0ZXJufHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NyZWF0ZVBhdHRlcm5cclxuICAgKi9cclxuICAnY3JlYXRlUGF0dGVybicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NyZWF0ZVJhZGlhbEdyYWRpZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtDYW52YXNHcmFkaWVudHx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9jcmVhdGVSYWRpYWxHcmFkaWVudFxyXG4gICAqL1xyXG4gICdjcmVhdGVSYWRpYWxHcmFkaWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2dldEltYWdlRGF0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2dldEltYWdlRGF0YVxyXG4gICAqL1xyXG4gICdnZXRJbWFnZURhdGEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnZXRMaW5lRGFzaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyW118dm9pZH1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZ2V0TGluZURhc2hcclxuICAgKi9cclxuICAnZ2V0TGluZURhc2gnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpc1BvaW50SW5QYXRoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2lzUG9pbnRJblBhdGhcclxuICAgKi9cclxuICAnaXNQb2ludEluUGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2lzUG9pbnRJblN0cm9rZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbnx2b2lkfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9pc1BvaW50SW5TdHJva2VcclxuICAgKi9cclxuICAnaXNQb2ludEluU3Ryb2tlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWVhc3VyZVRleHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge1RleHRNZXRyaWNzfHZvaWR9XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL21lYXN1cmVUZXh0XHJcbiAgICovXHJcbiAgJ21lYXN1cmVUZXh0J1xyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhbnZhc1Jlc3RNZXRob2RzID0gW1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FyY1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvYXJjXHJcbiAgICovXHJcbiAgJ2FyYycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FyY1RvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9hcmNUb1xyXG4gICAqL1xyXG4gICdhcmNUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JlZ2luUGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvYmVnaW5QYXRoXHJcbiAgICovXHJcbiAgJ2JlZ2luUGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JlemllckN1cnZlVG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2JlemllckN1cnZlVG9cclxuICAgKi9cclxuICAnYmV6aWVyQ3VydmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NsZWFyUmVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY2xlYXJSZWN0XHJcbiAgICovXHJcbiAgJ2NsZWFyUmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NsaXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NsaXBcclxuICAgKi9cclxuICAnY2xpcCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Nsb3NlUGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvY2xvc2VQYXRoXHJcbiAgICovXHJcbiAgJ2Nsb3NlUGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RyYXdGb2N1c0lmTmVlZGVkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9kcmF3Rm9jdXNJZk5lZWRlZFxyXG4gICAqL1xyXG4gICdkcmF3Rm9jdXNJZk5lZWRlZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RyYXdJbWFnZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZHJhd0ltYWdlXHJcbiAgICovXHJcbiAgJ2RyYXdJbWFnZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2VsbGlwc2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2VsbGlwc2VcclxuICAgKi9cclxuICAnZWxsaXBzZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpbGxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxcclxuICAgKi9cclxuICAnZmlsbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpbGxSZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsUmVjdFxyXG4gICAqL1xyXG4gICdmaWxsUmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpbGxUZXh0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9maWxsVGV4dFxyXG4gICAqL1xyXG4gICdmaWxsVGV4dCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xpbmVUb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvbGluZVRvXHJcbiAgICovXHJcbiAgJ2xpbmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21vdmVUb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvbW92ZVRvXHJcbiAgICovXHJcbiAgJ21vdmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3B1dEltYWdlRGF0YVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcHV0SW1hZ2VEYXRhXHJcbiAgICovXHJcbiAgJ3B1dEltYWdlRGF0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3F1YWRyYXRpY0N1cnZlVG9cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3F1YWRyYXRpY0N1cnZlVG9cclxuICAgKi9cclxuICAncXVhZHJhdGljQ3VydmVUbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3JlY3RcclxuICAgKi9cclxuICAncmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Jlc2V0VHJhbnNmb3JtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9yZXNldFRyYW5zZm9ybVxyXG4gICAqL1xyXG4gICdyZXNldFRyYW5zZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Jlc3RvcmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3Jlc3RvcmVcclxuICAgKi9cclxuICAncmVzdG9yZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JvdGF0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvcm90YXRlXHJcbiAgICovXHJcbiAgJ3JvdGF0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NhdmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3NhdmVcclxuICAgKi9cclxuICAnc2F2ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NjYWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zY2FsZVxyXG4gICAqL1xyXG4gICdzY2FsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NldExpbmVEYXNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJnc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC9zZXRMaW5lRGFzaFxyXG4gICAqL1xyXG4gICdzZXRMaW5lRGFzaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NldFRyYW5zZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc2V0VHJhbnNmb3JtXHJcbiAgICovXHJcbiAgJ3NldFRyYW5zZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0cm9rZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvc3Ryb2tlXHJcbiAgICovXHJcbiAgJ3N0cm9rZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0cm9rZVJlY3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3N0cm9rZVJlY3RcclxuICAgKi9cclxuICAnc3Ryb2tlUmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N0cm9rZVRleHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL3N0cm9rZVRleHRcclxuICAgKi9cclxuICAnc3Ryb2tlVGV4dCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyYW5zZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvdHJhbnNmb3JtXHJcbiAgICovXHJcbiAgJ3RyYW5zZm9ybScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyYW5zbGF0ZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvdHJhbnNsYXRlXHJcbiAgICovXHJcbiAgJ3RyYW5zbGF0ZSdcclxuXTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL2NvbnN0cnVjdG9yc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBjb25zdHJ1Y3RvcnMgbGV2ZWxzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY29uc3RcclxuICogQHR5cGUge0FycmF5W119XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY29uc3RydWN0b3JzID0gW1xyXG4gIFtdLFxyXG4gIFtdLFxyXG4gIFtdXHJcbl07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGNvbnN0YW50cy9lbGVtZW50c1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBtZXRob2RzIGZvciB7QGxpbmsgRWxlbX0gZm9yIGNyZWF0aW5nIGh0bWwtZWxlbWVudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdFxyXG4gKiBAdHlwZSB7U3RyaW5nW119XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaHRtbEVsZW1lbnRzID0gW1xyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYWJiclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FiYnInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhZGRyZXNzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYWRkcmVzcycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FyZWFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhcmVhJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYXJ0aWNsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FydGljbGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhdWRpb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2F1ZGlvJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2InLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiYXNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYmFzZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2JkaVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JkaScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Jkb1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JkbycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Jsb2NrcXVvdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdibG9ja3F1b3RlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYm9keVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JvZHknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNiclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2JyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYnV0dG9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYnV0dG9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2FudmFzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY2FudmFzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY2FwdGlvblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NhcHRpb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjaXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY2l0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NvZGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb2RlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29sXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY29sJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29sZ3JvdXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb2xncm91cCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2NvbnRlbnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjb250ZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGF0YWxpc3RcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkYXRhbGlzdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZWxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZWwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkZXRhaWxzXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGV0YWlscycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RmblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RmbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RpYWxvZ1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RpYWxvZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RpdlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2RpdicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RsXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGwnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2R0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZWxlbWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2VsZW1lbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNlbVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2VtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZW1iZWRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdlbWJlZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpZWxkc2V0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmllbGRzZXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmaWdjYXB0aW9uXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmlnY2FwdGlvbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZpZ3VyZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZpZ3VyZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Zvb3RlclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Zvb3RlcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2Zvcm1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb3JtJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoMScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2gyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoM1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2gzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaDRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoNCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2g1XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaDUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoNlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2g2JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGVhZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hlYWQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoZWFkZXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoZWFkZXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoZ3JvdXBcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoZ3JvdXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNoclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2knLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpZnJhbWVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpZnJhbWUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpbWdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdpbWcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpbnB1dFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2lucHV0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaW5zXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaW5zJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0ja2JkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAna2JkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGFiZWxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdsYWJlbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xlZ2VuZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xlZ2VuZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2xpXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsaW5rXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbGluaycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21haW5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtYWluJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWFya1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21hcmsnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZW51XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVudScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lbnVpdGVtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVudWl0ZW0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXRhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWV0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21ldGVyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWV0ZXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNuYXZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICduYXYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNub3NjcmlwdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ25vc2NyaXB0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jb2xcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdvbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI29wdGdyb3VwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnb3B0Z3JvdXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNvcHRpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdvcHRpb24nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNvdXRwdXRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdvdXRwdXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BhcmFtXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncGFyYW0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwcmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwcmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwcm9ncmVzc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3Byb2dyZXNzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3EnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNycFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3JwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcnRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdydCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3J0Y1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3J0YycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3J1YnlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdydWJ5JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3MnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzYW1wXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2FtcCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NjcmlwdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NjcmlwdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NlY3Rpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzZWN0aW9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2VsZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2VsZWN0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc2hhZG93XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc2hhZG93JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc21hbGxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzbWFsbCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NvdXJjZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NvdXJjZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NwYW5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzcGFuJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3Ryb25nXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3Ryb25nJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3R5bGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdHlsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N1YlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N1YicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3N1bW1hcnlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzdW1tYXJ5JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3VwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3VwJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGFibGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0YWJsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Rib2R5XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGJvZHknLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0ZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RkJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGVtcGxhdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0ZW1wbGF0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RleHRhcmVhXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGV4dGFyZWEnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0Zm9vdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3Rmb290JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RoZWFkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGhlYWQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0aW1lXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGltZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RpdGxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndGl0bGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN0clxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3RyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHJhY2tcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0cmFjaycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd1JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdWxcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd1bCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3ZhclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ZhcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3ZpZGVvXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndmlkZW8nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN3YnJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd3YnInXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgc3ZnRWxlbWVudHMgPSBbXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYWx0R2x5cGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbHRHbHlwaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FsdEdseXBoRGVmXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYWx0R2x5cGhEZWYnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbHRHbHlwaEl0ZW1cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbHRHbHlwaEl0ZW0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNhbmltYXRlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnYW5pbWF0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FuaW1hdGVDb2xvclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FuaW1hdGVDb2xvcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2FuaW1hdGVNb3Rpb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdhbmltYXRlTW90aW9uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jYW5pbWF0ZVRyYW5zZm9ybVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2FuaW1hdGVUcmFuc2Zvcm0nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjaXJjbGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdjaXJjbGUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNjbGlwUGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2NsaXBQYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jY29sb3JQcm9maWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnY29sb3ItcHJvZmlsZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2N1cnNvclxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2N1cnNvcicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2RlZnNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdkZWZzJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZGVzY1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2Rlc2MnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNkaXNjYXJkXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZGlzY2FyZCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2VsbGlwc2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdlbGxpcHNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVCbGVuZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlQmxlbmQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUNvbG9yTWF0cml4XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVDb2xvck1hdHJpeCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlQ29tcG9uZW50VHJhbnNmZXJcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUNvbXBvbmVudFRyYW5zZmVyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVDb21wb3NpdGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUNvbXBvc2l0ZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlQ29udm9sdmVNYXRyaXhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUNvbnZvbHZlTWF0cml4JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVEaWZmdXNlTGlnaHRpbmdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZURpZmZ1c2VMaWdodGluZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRGlzcGxhY2VtZW50TWFwXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVEaXNwbGFjZW1lbnRNYXAnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZURpc3RhbnRMaWdodFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRGlzdGFudExpZ2h0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVEcm9wU2hhZG93XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVEcm9wU2hhZG93JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVGbG9vZFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRmxvb2QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUZ1bmNBXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVGdW5jQScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlRnVuY0JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZUZ1bmNCJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVGdW5jR1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlRnVuY0cnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUZ1bmNSXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVGdW5jUicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlR2F1c3NpYW5CbHVyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVHYXVzc2lhbkJsdXInLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZUltYWdlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVJbWFnZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlTWVyZ2VcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZU1lcmdlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVNZXJnZU5vZGVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZU1lcmdlTm9kZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlTW9ycGhvbG9neVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlTW9ycGhvbG9neScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZlT2Zmc2V0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVPZmZzZXQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVBvaW50TGlnaHRcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZVBvaW50TGlnaHQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVNwZWN1bGFyTGlnaHRpbmdcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmZVNwZWN1bGFyTGlnaHRpbmcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmZVNwb3RMaWdodFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZlU3BvdExpZ2h0JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVUaWxlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVUaWxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZmVUdXJidWxlbmNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZmVUdXJidWxlbmNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNmb250RmFjZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQtZmFjZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRGYWNlRm9ybWF0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZm9udC1mYWNlLWZvcm1hdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2ZvbnRGYWNlTmFtZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvbnQtZmFjZS1uYW1lJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udEZhY2VTcmNcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250LWZhY2Utc3JjJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9udEZhY2VVcmlcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdmb250LWZhY2UtdXJpJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jZm9yZWlnbk9iamVjdFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ZvcmVpZ25PYmplY3QnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZycsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2dseXBoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnZ2x5cGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNnbHlwaFJlZlxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2dseXBoUmVmJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jaGF0Y2hcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdoYXRjaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hhdGNocGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2hhdGNocGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI2hrZXJuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnaGtlcm4nLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNpbWFnZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2ltYWdlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbGluZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xpbmUnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNsaW5lYXJHcmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ2xpbmVhckdyYWRpZW50JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWFya2VyXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWFya2VyJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWFza1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21hc2snLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtZXNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnbWVzaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lc2hncmFkaWVudFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lc2hncmFkaWVudCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lc2hwYXRjaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21lc2hwYXRjaCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21lc2hyb3dcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXNocm93JyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jbWV0YWRhdGFcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdtZXRhZGF0YScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI21pc3NpbmdHbHlwaFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21pc3NpbmctZ2x5cGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNtcGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ21wYXRoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcGF0aFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3BhdGgnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNwYXR0ZXJuXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncGF0dGVybicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3BvbHlnb25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwb2x5Z29uJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jcG9seWxpbmVcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdwb2x5bGluZScsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3JhZGlhbEdyYWRpZW50XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncmFkaWFsR3JhZGllbnQnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNyZWN0XHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAncmVjdCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NldFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3NldCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3NvbGlkY29sb3JcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICdzb2xpZGNvbG9yJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3RvcFxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N0b3AnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSNzdHlsZVxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3N0eWxlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3ZnXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3ZnJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3dpdGNoXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3dpdGNoJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jc3ltYm9sXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAnc3ltYm9sJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdGV4dFBhdGhcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0ZXh0UGF0aCcsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3RyZWZcclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0cmVmJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdHNwYW5cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd0c3BhbicsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZW1iZXIge0Z1bmN0aW9ufSBFbGVtI3Vua25vd25cclxuICAgKiBAdHlwZSB7RnVuY3Rpb259XHJcbiAgICogQHBhcmFtIHsuLi5TdHJpbmd9IGFwcGxpZWRFeHByZXNzaW9uc1xyXG4gICAqIEByZXR1cm5zIHtFbGVtfVxyXG4gICAqL1xyXG4gICd1bmtub3duJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdXNlXHJcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxyXG4gICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBhcHBsaWVkRXhwcmVzc2lvbnNcclxuICAgKiBAcmV0dXJucyB7RWxlbX1cclxuICAgKi9cclxuICAndXNlJyxcclxuXHJcbiAgLyoqXHJcbiAgICogQG1lbWJlciB7RnVuY3Rpb259IEVsZW0jdmlld1xyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ZpZXcnLFxyXG5cclxuICAvKipcclxuICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0gRWxlbSN2a2VyblxyXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gey4uLlN0cmluZ30gYXBwbGllZEV4cHJlc3Npb25zXHJcbiAgICogQHJldHVybnMge0VsZW19XHJcbiAgICovXHJcbiAgJ3ZrZXJuJ1xyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZvaWRFbGVtZW50cyA9IFtcclxuICAnYXJlYScsXHJcbiAgJ2Jhc2UnLFxyXG4gICdicicsXHJcbiAgJ2NvbCcsXHJcbiAgJ2NvbW1hbmQnLFxyXG4gICdlbWJlZCcsXHJcbiAgJ2hyJyxcclxuICAnaW1nJyxcclxuICAnaW5wdXQnLFxyXG4gICdrZXlnZW4nLFxyXG4gICdsaW5rJyxcclxuICAnbWV0YScsXHJcbiAgJ3BhcmFtJyxcclxuICAnc291cmNlJyxcclxuICAndHJhY2snLFxyXG4gICd3YnInXHJcbl07XHJcbiIsImV4cG9ydCBjb25zdCBodG1sQWxsb3dlZFRhZ1N5bWJvbHMgPSAnW2Etel1bYS16XFxcXGRcXFxcLV8uOiFAI1xcXFwkJVxcXFxeJiooKVxcXFxbXFxcXF17fVxcXFxcXFxcPVxcJ1wiXSonO1xyXG5leHBvcnQgY29uc3QgaHRtbEFsbG93ZWRBdHRyU3ltYm9scyA9ICdbXlxcXFx1MDAwMC1cXFxcdTAwMjBcXFxcc1wiXFwnPi89XSsnO1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBjb25zdGFudHMvcmVnZXhwU3BlY2lhbENoYXJhY3RlcnNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgc3BlY2lhbCBjaGFyYWN0ZXJzIGZvciBSZWdFeHAuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdFxyXG4gKiBAbmFtZSBtb2R1bGU6Y29uc3RhbnRzL3JlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzfnJlZ2V4cFNwZWNpYWxDaGFyYWN0ZXJzXHJcbiAqIEB0eXBlIHtTdHJpbmdbXX1cclxuICovXHJcbmV4cG9ydCBjb25zdCByZWdleHBTcGVjaWFsQ2hhcmFjdGVycyA9IFtcclxuICAnLicsXHJcbiAgJysnLCAnKicsICc/JyxcclxuICAnKCcsICcpJyxcclxuICAnWycsICddJyxcclxuICAneycsICd9JyxcclxuICAnPCcsICc+JyxcclxuICAnXicsICckJyxcclxuICAnIScsXHJcbiAgJz0nLFxyXG4gICc6JyxcclxuICAnLScsXHJcbiAgJ3wnLFxyXG4gICcsJyxcclxuICAnXFxcXCdcclxuXTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgY29uc3RhbnRzL3ZhbGlkYXRlQ2hlY2tFeHByZXNzaW9uc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyBkaWZmZXJlbnQgdHlwZXMgb2YgdmFsaWRhdGUgZXhwcmVzc2lvbnMgZm9yIHtAbGluayBtb2R1bGU6aGVscGVycy92YWxpZGF0ZX0uXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgbWV0aG9kcyBmcm9tICcuLi9oZWxwZXJzL2NoZWNrVHlwZXMnO1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBjaGVja1ZhbGlkaXR5Q2FsbGJhY2tcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFZhbHVlIHRvIGNoZWNrLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSB2YWxpZGF0ZUV4cHJcclxuICogQHByaXZhdGVcclxuICogQHByb3BlcnR5IHtTdHJpbmd9IHRleHQgLSBUZXh0IG9mIHRoZSB0aHJvd24gZXJyb3IuXHJcbiAqIEBwcm9wZXJ0eSB7RXJyb3J9IGVycm9yIC0gVHlwZSBvZiB0aGUgdGhyb3duIGVycm9yLlxyXG4gKiBAcHJvcGVydHkge2NoZWNrVmFsaWRpdHlDYWxsYmFja30gY2hlY2sgLSBDYWxsYmFjayBmb3IgY2hlY2tpbmcgdmFsdWUuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHt2YWxpZGF0ZUV4cHJbXX1cclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIE9iamVjdCBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgdmFsaWRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMgPSB7XHJcbiAgJz4wJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBuID4gMCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIHBvc2l0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJz49MCc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbiA+PSAwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbm9uLW5lZ2F0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJzwwJzoge1xyXG4gICAgY2hlY2s6IChuKSA9PiBuIDwgMCxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG5lZ2F0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJzw9MCc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbiA8PSAwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgbm9uLXBvc2l0aXZlIScsXHJcbiAgICBlcnJvcjogUmFuZ2VFcnJvclxyXG4gIH0sXHJcbiAgJyEhJzoge1xyXG4gICAgY2hlY2s6ICh2KSA9PiAhbWV0aG9kcy5pc05pbCh2KSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG5vdCBudWxsIG9yIHVuZGVmaW5lZCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgYXJyYXk6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzQXJyYXksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBhcnJheSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2FycmF5fHwhJzoge1xyXG4gICAgY2hlY2s6IChhKSA9PiBtZXRob2RzLmlzQXJyYXkoYSkgfHwgbWV0aG9kcy5pc05pbChhKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5LCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGFycmF5TGlrZToge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNBcnJheUxpa2UsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhcnJheS1saWtlIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnYXJyYXlMaWtlfHwhJzoge1xyXG4gICAgY2hlY2s6IChhKSA9PiBtZXRob2RzLmlzQXJyYXlMaWtlKGEpIHx8IG1ldGhvZHMuaXNOaWwoYSksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhcnJheS1saWtlLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGRhdGU6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzRGF0ZSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgZGF0ZSEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ2RhdGV8fCEnOiB7XHJcbiAgICBjaGVjazogKGQpID0+IG1ldGhvZHMuaXNEYXRlKGQpIHx8IG1ldGhvZHMuaXNOaWwoZCksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIGRhdGUsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgZGF0ZUxpa2U6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzRGF0ZUxpa2UsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBkYXRlLWxpa2UhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdkYXRlTGlrZXx8ISc6IHtcclxuICAgIGNoZWNrOiAoZCkgPT4gbWV0aG9kcy5pc0RhdGVMaWtlKGQpIHx8IG1ldGhvZHMuaXNOaWwoZCksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBkYXRlLWxpa2UsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgZnVuY3Rpb246IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzRnVuY3Rpb24sXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnZnVuY3Rpb258fCEnOiB7XHJcbiAgICBjaGVjazogKGYpID0+IG1ldGhvZHMuaXNGdW5jdGlvbihmKSB8fCBtZXRob2RzLmlzTmlsKGYpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbiwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBpbnQ6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzSW50ZWdlcixcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIGludGVnZXIhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdpbnR8fCEnOiB7XHJcbiAgICBjaGVjazogKGkpID0+IG1ldGhvZHMuaXNJbnRlZ2VyKGkpIHx8IG1ldGhvZHMuaXNOaWwoaSksXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBpbnRlZ2VyLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIGludExpa2U6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzSW50ZWdlckxpa2UsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBpbnRlZ2VyLWxpa2UhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdpbnRMaWtlfHwhJzoge1xyXG4gICAgY2hlY2s6IChpKSA9PiBtZXRob2RzLmlzSW50ZWdlckxpa2UoaSkgfHwgbWV0aG9kcy5pc05pbChpKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGludGVnZXItbGlrZSwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICBudW1iZXI6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzTnVtYmVyLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXIhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdudW1iZXJ8fCEnOiB7XHJcbiAgICBjaGVjazogKG4pID0+IG1ldGhvZHMuaXNOdW1iZXIobikgfHwgbWV0aG9kcy5pc05pbChuKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIG51bWJlckxpa2U6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzTnVtYmVyTGlrZSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG51bWJlci1saWtlIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICAnbnVtYmVyTGlrZXx8ISc6IHtcclxuICAgIGNoZWNrOiAobikgPT4gbWV0aG9kcy5pc051bWJlckxpa2UobikgfHwgbWV0aG9kcy5pc05pbChuKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIG51bWJlci1saWtlLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIG9iamVjdDoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNPYmplY3QsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdvYmplY3R8fCEnOiB7XHJcbiAgICBjaGVjazogKG8pID0+IG1ldGhvZHMuaXNPYmplY3QobykgfHwgbWV0aG9kcy5pc05pbChvKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdCwgb3IgdW5kZWZpbmVkLCBvciBudWxsIScsXHJcbiAgICBlcnJvcjogVHlwZUVycm9yXHJcbiAgfSxcclxuICByZWdleHA6IHtcclxuICAgIGNoZWNrOiBtZXRob2RzLmlzUmVnRXhwLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb24hJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gICdyZWdleHB8fCEnOiB7XHJcbiAgICBjaGVjazogKHIpID0+IG1ldGhvZHMuaXNSZWdFeHAocikgfHwgbWV0aG9kcy5pc05pbChyKSxcclxuICAgIHRleHQ6ICckbiBhcmd1bWVudCBtdXN0IGJlIGEgcmVndWxhciBleHByZXNzaW9uLCBvciB1bmRlZmluZWQsIG9yIG51bGwhJyxcclxuICAgIGVycm9yOiBUeXBlRXJyb3JcclxuICB9LFxyXG4gIHN0cmluZzoge1xyXG4gICAgY2hlY2s6IG1ldGhvZHMuaXNTdHJpbmcsXHJcbiAgICB0ZXh0OiAnJG4gYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH0sXHJcbiAgJ3N0cmluZ3x8ISc6IHtcclxuICAgIGNoZWNrOiAocykgPT4gbWV0aG9kcy5pc1N0cmluZyhzKSB8fCBtZXRob2RzLmlzTmlsKHMpLFxyXG4gICAgdGV4dDogJyRuIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIG9yIHVuZGVmaW5lZCwgb3IgbnVsbCEnLFxyXG4gICAgZXJyb3I6IFR5cGVFcnJvclxyXG4gIH1cclxufTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9TeW1ib2xcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgU3ltYm9sIGNsYXNzLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBTeW1ib2wgPSBnbG9iYWwuU3ltYm9sIHx8IHtcclxuICB0b1N0cmluZ1RhZzogJ1N5bWJvbC50b1N0cmluZ1RhZycsXHJcbiAgaXRlcmF0b3I6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIFByb21pc2VcclxuICogQHByaXZhdGVcclxuICogQG1peGluXHJcbiAqIEBkZXNjcmlwdGlvbiBFeHBvcnRzIFByb21pc2UgY2xhc3MuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgaXNGdW5jdGlvbiwgZGVmaW5lUHJvcGVydGllcywgU3ltYm9sIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgb25GdWxmaWxsZWRPclJlamVjdGVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFByb21pc2UgdmFsdWUuXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc3VjY2VzcyAtIElmIHRoZSBwcmV2aW91cyBwcm9taXNlIGlzIGZ1bGZpbGxlZCBpdCdzIHRydWUgYW5kIGZhbHNlIGlmIHJlamVjdGVkLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgb25SZWplY3RlZFxyXG4gKiBAcHVibGljXHJcbiAqIEBwYXJhbSB7RXJyb3J8Kn0gZXJyIC0gUHJvbWlzZSBlcnJvci5cclxuICovXHJcblxyXG4vKipcclxuICogQGNhbGxiYWNrIG9uRnVsZmlsbGVkXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHsqfSB2YWx1ZSAtIFByb21pc2UgdmFsdWUuXHJcbiAqL1xyXG5cclxuY29uc3Qgc2VjcmV0ID0ge307XHJcbmNvbnN0IGl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xyXG5cclxuLyoqXHJcbiAqIEBjbGFzcyBQcm9taXNlXHJcbiAqIEBwdWJsaWNcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgLSBGdW5jdGlvbiB0aGF0IHRha2VzIHR3byBhcmd1bWVudHM6IHJlc29sdmUgYW5kIHJlamVjdCBmdW5jdGlvbnMuXHJcbiAqIENhbGwgdGhlIHJlc29sdmUgZnVuY3Rpb24gd2hlbiB5b3UgbmVlZCB0byBmdWxmaWxsIHRoZSBwcm9taXNlIGFuZCBjYWxsIHRoZSByZWplY3Qgb25lXHJcbiAqIHdoZW4geW91IG5lZWQgdG8gcmVqZWN0IGl0LlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gSW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlXHJcbiAqIEBkZXNjcmlwdGlvbiBDbGFzcyB3aXRoIGFsbW9zdCBpZGVudGljYWwgQVBJIHRvXHJcbiAqIFtFUzYgUHJvbWlzZV17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZX0uXHJcbiAqIFRoZXJlIGlzIGEgY291cGxlIGRpZmZlcmVuY2VzOiBzZXQgUHJvbWlzZS5vbkVycm9yIHRvIGEgZnVuY3Rpb24gd2l0aCB3aGljaCB5b3Ugd2FudCB0b1xyXG4gKiBzdWJzY3JpYmUgdG8gYSBwcm9taXNlIGVycm9yIGFuZCBzZXQgUHJvbWlzZS5vblVuaGFuZGxlZFJlamVjdGlvbiB0byBhIGZ1bmN0aW9uIHdpdGggd2hpY2hcclxuICogeW91IHdhbnQgdG8gc3Vic2NyaWJlIHRvIGFuIHVuaGFuZGxlZCBlcnJvclxyXG4gKiAoZGVmYXVsdHMgdG8gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsICclcyAlbycsICdVbmNhdWdodCAoaW4gcHJvbWlzZSknKSkuXHJcbiAqL1xyXG5jbGFzcyBQcm9taXNlIHtcclxuICBzdGF0aWMgb25FcnJvciA9IG51bGw7XHJcbiAgc3RhdGljIG9uVW5oYW5kbGVkUmVqZWN0aW9uID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsICclcyAlbycsICdVbmNhdWdodCAoaW4gcHJvbWlzZSknKTtcclxuXHJcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcclxuICAgIGlmICghaXNGdW5jdGlvbihleGVjdXRvcikpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgUHJvbWlzZSByZXNvbHZlciAkeyB7fS50b1N0cmluZy5jYWxsKGV4ZWN1dG9yKSB9IGlzIG5vdCBhIGZ1bmN0aW9uYCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGhpZGRlblN0YXR1cztcclxuICAgIGxldCBoaWRkZW5WYWx1ZTtcclxuXHJcbiAgICBjb25zdFx0b25GdWxmaWxsID0gW107XHJcbiAgICBjb25zdCBvblJlamVjdCA9IFtdO1xyXG4gICAgY29uc3QgcmVhbFByb21pc2UgPSB0aGlzO1xyXG4gICAgY29uc3QgaGlkZGVuUHJvbWlzZSA9IHtcclxuICAgICAgaGFuZGxlZDogZmFsc2UsXHJcbiAgICAgIGdldCBzdGF0dXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhpZGRlblN0YXR1cztcclxuICAgICAgfSxcclxuICAgICAgc2V0IHN0YXR1cyh2YWx1ZSkge1xyXG4gICAgICAgIGhpZGRlblN0YXR1cyA9IHZhbHVlO1xyXG4gICAgICAgIHJlYWxQcm9taXNlLnN0YXR1cyA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhpZGRlblZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQgdmFsdWUodmFsKSB7XHJcbiAgICAgICAgaGlkZGVuVmFsdWUgPSB2YWw7XHJcbiAgICAgICAgcmVhbFByb21pc2UudmFsdWUgPSB2YWw7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaGlkZGVuUHJvbWlzZS5zdGF0dXMgPSAncGVuZGluZyc7XHJcbiAgICBoaWRkZW5Qcm9taXNlLnZhbHVlID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gaGlkZGVuUHJvbWlzZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbnxPYmplY3R9IGhhbmRsZWQgLSBJZiB0aGUgcHJvbWlzZSBpcyBoYW5kbGVkIG9yIG5vdC5cclxuICAgICAqIEBwcm9wZXJ0eSB7J3BlbmRpbmcnfCdmdWxmaWxsZWQnfCdyZWplY3RlZCd9IHN0YXR1cyAtIFN0YXR1cyBvZiB0aGUgcHJvbWlzZS5cclxuICAgICAqIEBwcm9wZXJ0eSB7Kn0gdmFsdWUgLSBWYWx1ZSBvZiB0aGUgcHJvbWlzZS5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG1lbWJlciB7RnVuY3Rpb259IGhpZGRlblByb21pc2UjaGFuZGxlXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHsoJ3JlamVjdCd8J3Jlc29sdmUnKX0gZXZlbnQgLSBUeXBlIG9mIHRoZSBldmVudCB0byBoYW5kbGUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gSGFuZGxlciBpdHNlbGYuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIC0gUmVzb2x2ZSBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCAtIFJlamVjdCBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzZWNyZXQgLSBTZWNyZXQuXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gUHJpdmF0ZSBtZXRob2QgZm9yIGhhbmRsaW5nIHByb21pc2VzLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbWVtYmVyIHtoaWRkZW5Qcm9taXNlfSBQcm9taXNlIyQkXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIGRlZmluZVByb3BlcnRpZXModGhpcy4kJCA9IHt9LCB7XHJcbiAgICAgICdnZXQvc2V0IGhhbmRsZWQnOiB7XHJcbiAgICAgICAgZ2V0KCkge1xyXG4gICAgICAgICAgcmV0dXJuIGhpZGRlblByb21pc2UuaGFuZGxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldChrZXkpIHtcclxuICAgICAgICAgIGlmIChrZXkgPT09IHNlY3JldCkge1xyXG4gICAgICAgICAgICBoaWRkZW5Qcm9taXNlLmhhbmRsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlKHN0YXR1cywgZiwgcmVzb2x2ZSwgcmVqZWN0LCBrZXkpIHtcclxuICAgICAgICBpZiAoa2V5ID09PSBzZWNyZXQpIHtcclxuICAgICAgICAgIGNvbnN0IHByb3h5ID0gaXNGdW5jdGlvbihmKSA/ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUoZih2YWx1ZSkpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ3Jlc29sdmUnKSB7XHJcbiAgICAgICAgICAgIG9uRnVsZmlsbC5wdXNoKHByb3h5IHx8ICgodmFsdWUpID0+IHJlc29sdmUodmFsdWUpKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ3JlamVjdCcpIHtcclxuICAgICAgICAgICAgb25SZWplY3QucHVzaChwcm94eSB8fCAoKGVycikgPT4gcmVqZWN0KGVycikpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICdnZXQgc3RhdHVzJygpIHtcclxuICAgICAgICByZXR1cm4gaGlkZGVuUHJvbWlzZS5zdGF0dXM7XHJcbiAgICAgIH0sXHJcbiAgICAgICdnZXQgdmFsdWUnKCkge1xyXG4gICAgICAgIHJldHVybiBoaWRkZW5Qcm9taXNlLnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlamVjdChlcnIpIHtcclxuICAgICAgaWYgKGhpZGRlblByb21pc2Uuc3RhdHVzID09PSAncGVuZGluZycpIHtcclxuICAgICAgICBoaWRkZW5Qcm9taXNlLnN0YXR1cyA9ICdyZWplY3RlZCc7XHJcbiAgICAgICAgaGlkZGVuUHJvbWlzZS52YWx1ZSA9IGVycjtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IG9uUmVqZWN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBoaWRkZW5Qcm9taXNlLmhhbmRsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIG9uUmVqZWN0W2ldKGVycik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICBvblVuaGFuZGxlZFJlamVjdGlvbixcclxuICAgICAgICAgIG9uRXJyb3JcclxuICAgICAgICB9ID0gUHJvbWlzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob25FcnJvcikpIHtcclxuICAgICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKCFoaWRkZW5Qcm9taXNlLmhhbmRsZWQgJiYgaXNGdW5jdGlvbihvblVuaGFuZGxlZFJlamVjdGlvbikpIHtcclxuICAgICAgICAgICAgb25VbmhhbmRsZWRSZWplY3Rpb24oZXJyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcclxuICAgICAgaWYgKGhpZGRlblByb21pc2Uuc3RhdHVzID09PSAncGVuZGluZycpIHtcclxuICAgICAgICBpZiAodmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS50aGVuKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGlkZGVuUHJvbWlzZS5zdGF0dXMgPSAnZnVsZmlsbGVkJztcclxuICAgICAgICBoaWRkZW5Qcm9taXNlLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBvbkZ1bGZpbGwubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGhpZGRlblByb21pc2UuaGFuZGxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgb25GdWxmaWxsW2ldKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZS5hbGxcclxuICAgKiBAcGFyYW0geyhBcnJheXxJdGVyYWJsZSkuPFByb21pc2V8Kj59IGl0ZXJhYmxlIC0gSXRlcmFibGUgb2JqZWN0IChsaWtlIGFycmF5KSBvZiBwcm9taXNlc1xyXG4gICAqIG9yIGFueSB2YWx1ZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9hbGxcclxuICAgKi9cclxuICBzdGF0aWMgYWxsKGl0ZXJhYmxlKSB7XHJcbiAgICBjb25zdCBhcnJheSA9IFtdO1xyXG5cclxuICAgIGxldCB0b1Jlc29sdmUgPSAwO1xyXG5cclxuICAgIGlmIChpdGVyYWJsZVtpdGVyYXRvcl0pIHtcclxuICAgICAgaXRlcmFibGUgPSBpdGVyYWJsZVtpdGVyYXRvcl0oKTtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgbGV0IG5leHQ7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAoIShuZXh0ID0gaXRlcmFibGUubmV4dCgpKS5kb25lKSB7XHJcbiAgICAgICAgICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKG5leHQudmFsdWUpO1xyXG5cclxuICAgICAgICAgIHRvUmVzb2x2ZSsrO1xyXG5cclxuICAgICAgICAgICgoaSkgPT4ge1xyXG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgdG9SZXNvbHZlLS07XHJcbiAgICAgICAgICAgICAgYXJyYXlbaV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV4dC5kb25lICYmICF0b1Jlc29sdmUpIHtcclxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZShhcnJheSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgICAgIH0sIHJlamVjdCk7XHJcbiAgICAgICAgICB9KShpKyspO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpKSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxlbmd0aCA9IGl0ZXJhYmxlLmxlbmd0aDtcclxuXHJcbiAgICBpZiAoIWxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcclxuICAgIH1cclxuXHJcbiAgICB0b1Jlc29sdmUgPSBsZW5ndGg7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoaXRlcmFibGVbaV0pO1xyXG5cclxuICAgICAgICBwcm9taXNlLnRoZW4oKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0b1Jlc29sdmUtLTtcclxuICAgICAgICAgIGFycmF5W2ldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKCF0b1Jlc29sdmUpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZShhcnJheSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgcmVqZWN0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UucmFjZVxyXG4gICAqIEBwYXJhbSB7KEFycmF5fEl0ZXJhYmxlKS48UHJvbWlzZXwqPn0gaXRlcmFibGUgLSBJdGVyYWJsZSBvYmplY3QgKGxpa2UgYXJyYXkpIG9mIHByb21pc2VzXHJcbiAgICogb3IgYW55IHZhbHVlcy5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL3JhY2VcclxuICAgKi9cclxuICBzdGF0aWMgcmFjZShpdGVyYWJsZSkge1xyXG4gICAgaWYgKGl0ZXJhYmxlW2l0ZXJhdG9yXSkge1xyXG4gICAgICBpdGVyYWJsZSA9IGl0ZXJhYmxlW2l0ZXJhdG9yXSgpO1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBsZXQgbmV4dDtcclxuXHJcbiAgICAgICAgd2hpbGUgKCEobmV4dCA9IGl0ZXJhYmxlLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgbmV4dC52YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gaXRlcmFibGUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpdGVyYWJsZVtpXS50aGVuKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG1ldGhvZCBQcm9taXNlLnJlamVjdFxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBWYWx1ZSB0byByZWplY3QuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9yZWplY3RcclxuICAgKi9cclxuICBzdGF0aWMgcmVqZWN0KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICByZWplY3QodmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UucmVzb2x2ZVxyXG4gICAqIEBwYXJhbSB7UHJvbWlzZXxUaGVuYWJsZXwqfSB2YWx1ZSAtIFByb21pc2UsIHRoZW5hYmxlIG9yIGFueSB2YWx1ZSB0byByZXNvbHZlLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBOZXcgaW5zdGFuY2Ugb2YgUHJvbWlzZS5cclxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UvcmVzb2x2ZVxyXG4gICAqL1xyXG4gIHN0YXRpYyByZXNvbHZlKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS50aGVuKSkge1xyXG4gICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIHJlc29sdmUodmFsdWUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhYm9ydCgpIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZSNjYXRjaFxyXG4gICAqIEBwYXJhbSB7b25SZWplY3RlZH0gb25SZWplY3RlZCAtIG9uUmVqZWN0ZWQgY2FsbGJhY2suXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IE5ldyBpbnN0YW5jZSBvZiBQcm9taXNlLlxyXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvUHJvbWlzZS9jYXRjaFxyXG4gICAqL1xyXG4gIGNhdGNoKG9uUmVqZWN0ZWQpIHtcclxuICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3RlZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbWV0aG9kIFByb21pc2UjZmluYWxseVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAcGFyYW0ge29uRnVsZmlsbGVkT3JSZWplY3RlZH0gb25GdWxmaWxsZWRPclJlamVjdGVkIC0gb25GdWxmaWxsZWRPclJlamVjdGVkIGNhbGxiYWNrLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxyXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgZm9yIGNhdGNoaW5nIGJvdGggZnVsZmlsbGVkIGFuZCByZWplY3RlZCBwcm9taXNlcy5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogc3Bpbm5lci5zaG93KCk7XHJcbiAgICogZmV0Y2hEYXRhKClcclxuICAgKiAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICogICAgIC8vIGRvIHNvbWV0aGluZyB3aXRoIGRhdGFcclxuICAgKiAgIH0pXHJcbiAgICogICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAqICAgICAvLyBoYW5kbGUgZXJyb3Igc29tZWhvd1xyXG4gICAqICAgfSlcclxuICAgKiAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgKiAgICAgc3Bpbm5lci5oaWRlKCk7XHJcbiAgICogICB9KTtcclxuICAgKi9cclxuICBmaW5hbGx5KG9uRnVsZmlsbGVkT3JSZWplY3RlZCkge1xyXG4gICAgY29uc3QgaXNGdW5jID0gaXNGdW5jdGlvbihvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnRoZW4oKHZhbHVlKSA9PiAoXHJcbiAgICAgIFByb21pc2VcclxuICAgICAgICAucmVzb2x2ZShcclxuICAgICAgICAgIGlzRnVuY1xyXG4gICAgICAgICAgICA/IG9uRnVsZmlsbGVkT3JSZWplY3RlZCh2YWx1ZSwgdHJ1ZSlcclxuICAgICAgICAgICAgOiAwXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHZhbHVlKVxyXG4gICAgKSwgKGVycikgPT4gKFxyXG4gICAgICBQcm9taXNlXHJcbiAgICAgICAgLnJlc29sdmUoXHJcbiAgICAgICAgICBpc0Z1bmNcclxuICAgICAgICAgICAgPyBvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQoZXJyLCBmYWxzZSlcclxuICAgICAgICAgICAgOiAwXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC50aGVuKCgpID0+IFByb21pc2UucmVqZWN0KGVycikpXHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBtZXRob2QgUHJvbWlzZSN0aGVuXHJcbiAgICogQHBhcmFtIHtvbkZ1bGZpbGxlZH0gW29uRnVsZmlsbGVkXSAtIG9uRnVsZmlsbGVkIGNhbGxiYWNrLlxyXG4gICAqIEBwYXJhbSB7b25SZWplY3RlZH0gW29uUmVqZWN0ZWRdIC0gb25SZWplY3RlZCBjYWxsYmFjay5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gTmV3IGluc3RhbmNlIG9mIFByb21pc2UuXHJcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlL3RoZW5cclxuICAgKi9cclxuICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XHJcbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy4kJDtcclxuXHJcbiAgICBpZiAocHJvbWlzZS5zdGF0dXMgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHByb21pc2UuaGFuZGxlKCdyZWplY3QnLCBvblJlamVjdGVkLCByZXNvbHZlLCByZWplY3QsIHNlY3JldCk7XHJcbiAgICAgICAgcHJvbWlzZS5oYW5kbGUoJ3Jlc29sdmUnLCBvbkZ1bGZpbGxlZCwgcmVzb2x2ZSwgcmVqZWN0LCBzZWNyZXQpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9taXNlLmhhbmRsZWQgPSBzZWNyZXQ7XHJcblxyXG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gcHJvbWlzZTtcclxuXHJcbiAgICBsZXQgbWV0aG9kO1xyXG4gICAgbGV0IGhhbmRsZXI7XHJcblxyXG4gICAgaWYgKHByb21pc2Uuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xyXG4gICAgICBtZXRob2QgPSAncmVzb2x2ZSc7XHJcbiAgICAgIGhhbmRsZXIgPSBvbkZ1bGZpbGxlZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG1ldGhvZCA9ICdyZWplY3QnO1xyXG4gICAgICBoYW5kbGVyID0gb25SZWplY3RlZDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzRnVuY3Rpb24oaGFuZGxlcikpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2VbbWV0aG9kXSh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYW5kbGVyKHZhbHVlKSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5kZWZpbmVQcm9wZXJ0aWVzKFByb21pc2UucHJvdG90eXBlLCB7XHJcbiAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdQcm9taXNlJ1xyXG59KTtcclxuXHJcbmV4cG9ydCB7IFByb21pc2UgfTtcclxuIiwiLyoqXHJcbiAqIEBtb2R1bGUgaGVscGVycy9wYXJzZUhlYWRlcnNcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgcGFyc2VIZWFkZXJzIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuLi9TdHInO1xyXG5pbXBvcnQgeyBpdGVyYXRlIH0gZnJvbSAnLi9pdGVyYXRlJztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gcGFyc2VIZWFkZXJzXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIC0gUmF3IGhlYWRlcnMuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgb2JqZWN0XHJcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiBmb3IgcGFyc2luZyByYXcgaGVhZGVycy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChyYXdIZWFkZXJzKSA9PiB7XHJcbiAgY29uc3QgaGVhZGVycyA9IHt9O1xyXG5cclxuICBpdGVyYXRlKChyYXdIZWFkZXJzIHx8ICcnKS5zcGxpdCgnXFxuJyksICh2YWx1ZSkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSB2YWx1ZS5pbmRleE9mKCc6Jyk7XHJcbiAgICBjb25zdCBrZXkgPSBuZXcgU3RyKHZhbHVlLnN1YnN0cmluZygwLCBpbmRleCkpXHJcbiAgICAgIC50cmltKClcclxuICAgICAgLnRvQ2FtZWxDYXNlKCkuJDtcclxuICAgIGNvbnN0IHZhbCA9IG5ldyBTdHIodmFsdWUuc3Vic3RyaW5nKGluZGV4ICsgMSkpLnRyaW0oKS4kO1xyXG5cclxuICAgIGlmIChrZXkpIHtcclxuICAgICAgaGVhZGVyc1trZXldID0gKGhlYWRlcnNba2V5XSA/IGAkeyBoZWFkZXJzW2tleV0gfSwgYCA6ICcnKSArIHZhbDtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGhlYWRlcnM7XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbW9kdWxlIGhlbHBlcnMvdHJhbnNmb3JtRGF0YVxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gRXhwb3J0cyB0cmFuc2Zvcm1EYXRhIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBcnIgfSBmcm9tICcuLi9BcnInO1xyXG5pbXBvcnQgeyBTdXBlciB9IGZyb20gJy4uL1N1cGVyJztcclxuaW1wb3J0IHsgaXNPYmplY3QsIHRvU3RyaW5nVGFnIH0gZnJvbSAnLi8nO1xyXG5cclxuY29uc3Qgbm90VG9UcmFuc2Zvcm0gPSBuZXcgQXJyKFsnRm9ybURhdGEnLCAnRmlsZScsICdCbG9iJywgJ0FycmF5QnVmZmVyJywgJ1N0cmluZycsICdOdW1iZXInXSk7XHJcbmNvbnN0IHdpdGhvdXRCb2R5ID0gbmV3IEFycihbJ0RFTEVURScsICdHRVQnLCAnSEVBRCddKTtcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb24gdHJhbnNmb3JtRGF0YVxyXG4gKiBAcGFyYW0geyp9IGRhdGEgLSBEYXRhIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIC0gSFRUUCBtZXRob2QuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIC0gT2JqZWN0IHdpdGggaGVhZGVycy5cclxuICogQHJldHVybnMgeyp9IC0gVHJhbnNmb3JtZWQgZGF0YS5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IChkYXRhLCBtZXRob2QsIGhlYWRlcnMpID0+IHtcclxuICBkYXRhID0gbmV3IFN1cGVyKGRhdGEpLiQ7XHJcblxyXG4gIGlmICh3aXRob3V0Qm9keS5pbmRleE9mU3RyaWN0KG1ldGhvZCkgIT09IC0xKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGlmIChpc09iamVjdChkYXRhKSAmJiBub3RUb1RyYW5zZm9ybS5pbmRleE9mU3RyaWN0KHRvU3RyaW5nVGFnKGRhdGEpKSA9PT0gLTEpIHtcclxuICAgIGlmICghaGVhZGVycy5jb250ZW50VHlwZSkge1xyXG4gICAgICBoZWFkZXJzLmNvbnRlbnRUeXBlID0gWydhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFN1cGVyKGRhdGEpLmpzb24oKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBkYXRhO1xyXG59O1xyXG4iLCIvKipcclxuICogQG1vZHVsZSBoZWxwZXJzL3Jlc29sdmVVUkxcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIEV4cG9ydHMgT2JqZWN0LmFzc2lnbi1saWtlIG1ldGhvZC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBTdHIgfSBmcm9tICcuLi9TdHInO1xyXG5cclxuY29uc3QgeyBsb2NhdGlvbiB9ID0gZ2xvYmFsO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGRlY29kZVF1ZXJ5KSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgc2VhcmNoOiBxdWVyeSxcclxuICAgIGhhc2hcclxuICB9ID0gbG9jYXRpb247XHJcbiAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgcXVlcnk6IHt9LFxyXG4gICAgaGFzaDogaGFzaC5yZXBsYWNlKC9eIy8sICcnKVxyXG4gIH07XHJcblxyXG4gIGlmICghcXVlcnkpIHtcclxuICAgIHJldHVybiBwYXJhbXM7XHJcbiAgfVxyXG5cclxuICBuZXcgU3RyKHF1ZXJ5LnJlcGxhY2UoL15cXD8vLCAnJykpXHJcbiAgICAuc3BsaXQoJyYnKVxyXG4gICAgLmZvckVhY2goKHJhd1BhcmFtKSA9PiB7XHJcbiAgICAgIGxldCBbcGFyYW0sIHZhbHVlID0gJyddID0gcmF3UGFyYW0uc3BsaXQoJz0nKTtcclxuXHJcbiAgICAgIHBhcmFtID0gZGVjb2RlUXVlcnkgPyBkZWNvZGVVUklDb21wb25lbnQocGFyYW0pIDogcGFyYW07XHJcbiAgICAgIHZhbHVlID0gZGVjb2RlUXVlcnkgPyBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpIDogdmFsdWU7XHJcblxyXG4gICAgICBpZiAoIS9eW15bXSsvLnRlc3QocGFyYW0pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcGFyYW1OYW1lO1xyXG4gICAgICBsZXQgcGFyYW1PYmplY3QgPSBwYXJhbXMucXVlcnk7XHJcblxyXG4gICAgICBuZXcgU3RyKHBhcmFtKVxyXG4gICAgICAgIC5tYXRjaCgvXlteW1xcXV0qfFxcW1teW1xcXV0qXS9nKVxyXG4gICAgICAgIC5mb3JFYWNoKChuYW1lKSA9PiB7XHJcbiAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdbJykpIHtcclxuICAgICAgICAgICAgcGFyYW1OYW1lID0gbmFtZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7XHJcblxyXG4gICAgICAgICAgcGFyYW1PYmplY3QgPSBwYXJhbU9iamVjdFtwYXJhbU5hbWVdID0gcGFyYW1PYmplY3RbcGFyYW1OYW1lXSB8fCAobmFtZSA/IHt9IDogW10pO1xyXG4gICAgICAgICAgcGFyYW1OYW1lID0gbmFtZSB8fCBwYXJhbU9iamVjdC5sZW5ndGg7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBwYXJhbU9iamVjdFtwYXJhbU5hbWVdID0gdmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgcmV0dXJuIHBhcmFtcztcclxufTtcclxuIiwiaW1wb3J0ICogYXMgc3RhdGljcyBmcm9tICcuL2xpYi9icm93c2VyJztcclxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi9saWIvaGVscGVycy9hc3NpZ24nO1xyXG5cclxuY29uc3QgeyBEIH0gPSBzdGF0aWNzO1xyXG5cclxuYXNzaWduKEQsIHN0YXRpY3MpO1xyXG5cclxuZGVsZXRlIEQuRDtcclxuXHJcbmdsb2JhbC5EID0gRDtcclxuIl0sIm5hbWVzIjpbInRvU3RyaW5nVGFnIiwib2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwicmVwbGFjZSIsImlzQXJyYXkiLCJ2YWx1ZSIsImlzQXJyYXlMaWtlIiwiaXNGdW5jdGlvbiIsImxlbmd0aCIsImlzSW50ZWdlciIsImlzQm9vbGVhbiIsImlzRGF0ZSIsImlzRGF0ZUxpa2UiLCJEYXRlIiwiaXNOYU4iLCJnZXRUaW1lIiwiaXNFbGVtZW50IiwidGVzdCIsImlzRmluaXRlIiwiaXNOdW1iZXIiLCJOdW1iZXIiLCJJbmZpbml0eSIsImlzSW50ZWdlckxpa2UiLCJwYXJzZUludCIsImlzTnVsbCIsImlzTmlsIiwiaXNOdW1iZXJMaWtlIiwiaXNPYmplY3QiLCJPYmplY3QiLCJpc1BsYWluT2JqZWN0IiwiaXNQcmltaXRpdmUiLCJwcm90byIsImdldFByb3RvdHlwZU9mIiwiY29uc3RydWN0b3IiLCJpc1JlZ0V4cCIsImlzU3RyaW5nIiwiaXNTeW1ib2wiLCJpc1VuZGVmaW5lZCIsIkQiLCJpIiwiY29uc3RydWN0b3JzIiwibGV2ZWxDb25zdHJ1Y3RvcnMiLCJrIiwibGVuIiwiY2xzIiwiY2hlY2siLCJpdGVyYXRlIiwiY2FsbGJhY2siLCJhcnJheSIsIml0ZXJhdGVkS2V5cyIsIml0ZXJhdGVkIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJhc3NpZ24iLCJ0YXJnZXQiLCJvYmplY3RzIiwiYXJndW1lbnRzIiwic291cmNlIiwiaW5kZXgiLCJkeW5hbWljRGVmaW5lUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJwcm9wZXJ0eUdlbmVyYXRvciIsIm5hbWUiLCJkZWZpbmVQcm9wZXJ0eSIsImRlZmluZVByb3BlcnRpZXMiLCJtZXRob2QiLCJ1bmRlZmluZWQiLCJnZXQiLCJzZXQiLCJ0b0FycmF5IiwiY3JlYXRlTmV3QXJyYXkiLCJwdXNoIiwidmFsaWRhdGUiLCJhcmdzIiwib3B0aW9ucyIsIm51bWJlciIsImNoZWNrZXIiLCJ2YWxpZGF0ZUNoZWNrRXhwcmVzc2lvbnMiLCJlcnJvciIsInRleHQiLCJudW1iZXJzIiwiY2hhciIsImFscGhhYmV0Iiwic3RyaW5nIiwicmFuZ2VzIiwic3BsaXQiLCJyYW5nZSIsIkVycm9yIiwic3RhcnQiLCJjaGFyQ29kZUF0IiwiZW5kIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiQWxwaGFiZXQiLCJzd2l0Y2hlciIsImNhc2VzIiwibW9kZSIsImRlZmF1bHRWYWx1ZSIsIlN3aXRjaGVyIiwid2hlbiIsImNvbmRpdGlvbiIsInZhbHVlMSIsInZhbHVlMiIsImRlZXBBc3NpZ24iLCJkZWVwQ2xvbmUiLCJjbG9uZSIsImNsb25lU3dpdGNoZXIiLCJkZWVwRXF1YWwiLCJvMSIsIm8yIiwic3RyaWN0IiwibWF0Y2giLCJsYXN0SW5kZXgiLCJwMSIsInAyIiwia2V5cyIsImRlZXBFdmVyeSIsIm4iLCJ0cmVlIiwibmV3VHJlZSIsImNvbmNhdCIsImRlZXBGaWx0ZXIiLCJudWwiLCJvIiwiZmlsdGVyZWQiLCJkZWVwRmluZCIsInJlc3VsdCIsImRlZXBGb3JFYWNoIiwiZGVlcEZvckVhY2hFbnRyeSIsImRlZXBGcmVlemUiLCJmcmVlemUiLCJkZWVwTWFwIiwiZGVlcFJlZHVjZSIsIklWIiwiZGVlcFNvbWUiLCJ4IiwiYXBwbHkiLCJub29wIiwicHJvcCIsInNlbGYiLCJyYW5kIiwiTWF0aCIsInJhbmRvbSIsImZsb29yIiwiYXNjIiwieSIsIkFyciIsImJsb2IiLCJibG9iUGFydHMiLCJCbG9iT2JqZWN0IiwiQmxvYiIsInRyaW0iLCJwYXJzZUpTT04iLCJqc29uIiwiSlNPTiIsInBhcnNlIiwiZGF0ZXMiLCJwYXJzZWQiLCJ0aGlzIiwiZmluZCIsIm1hcmt1cCIsImVsZW0iLCJtYXRjaGVzIiwicmF3VGV4dFN3aXRjaGVyIiwiU3VwZXIiLCJjb25zdHJ1Y3RDbG9zZVRhZ1JlZ0V4cCIsIk5PREVfUkVHRVhfU0VUIiwibWFwIiwicmVnZXgiLCJyZXR1cm5pbmciLCJhdHRycyIsInN0YXJ0TWFya3VwIiwiY2xvc2VNYXRjaCIsInNlbGZDbG9zaW5nIiwic2xpY2UiLCJUQUdfT1BFTl9DTE9TRSIsImF0dHIiLCJBVFRSSUJVVEUiLCJtaW4iLCJOYU4iLCJ0YWdOYW1lIiwiUmVnRXhwIiwibmVhclN0cmluZyIsInBhcnNlQ2hhcmFjdGVyRGF0YSIsImlubmVySFRNTCIsImRpdiIsInRleHRDb250ZW50IiwiaW5uZXJUZXh0IiwidG9GaW5kIiwiaXNFbGVtIiwiRWxlbSIsImlzV2luZG93IiwiaXNIVE1MRG9jdW1lbnQiLCJpc0RvY3VtZW50RnJhZ21lbnQiLCJpc1N0eWxlUnVsZSIsImlzQ29tbWVudE9yVGV4dCIsInRhZyIsImdldEVsZW0iLCIkIiwiZW1wdHlEaXYiLCJnZXROYW1lIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImFkZER3YXluZURhdGEiLCJ3aW5kb3dzRHdheW5lRGF0YSIsInNvbWUiLCJlbGVtZW50IiwiZ2V0Q29udGV4dCIsInNlbGVjdG9yIiwiYmFzZSIsIm5hdGl2ZURvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInBhcnNlSFRNTCIsImh0bWwiLCJjb2xsYXBzZVdoaXRlU3BhY2UiLCJtYXJrdXBUb0pTT04iLCJ0ZW1wbGF0ZSIsImRvYyIsImNvbnRlbnQiLCJmb3JFYWNoIiwiZm9yRWFjaE5vZGUiLCJub2RlIiwicGFyZW50IiwiY2hpbGRyZW4iLCJwYXJlbnROb2RlIiwiY3JlYXRlIiwicHgiLCJzaXplIiwicmVnaXN0ZXJEQmxvY2siLCJCbG9jayIsIkRCbG9jayIsImVsZW1zIiwiJCQiLCJmb3VuZCIsInJlZ2lzdGVyREVhY2giLCJjcmVhdGVCbG9jayIsIkRFYWNoIiwib3B0cyIsIml0ZW0iLCJpdGVtTmFtZSIsImluZGV4TmFtZSIsIl90aGlzIiwidWlkIiwiY29uc3RydWN0VmFsdWVzIiwid2F0Y2hBcmdzIiwicGFyZW50RWxlbSIsInVpZHMiLCJzY29wZSIsIlVJRCIsIiR1aWRzIiwibmV3S2V5cyIsIm5ld1VJRHMiLCJldmFsdWF0ZSIsIml0ZW1zIiwic3BsaWNlIiwiSXRlbSIsInJlbW92ZSIsImFmdGVyIiwiYmxvY2siLCJzaGlmdCIsInByZXYiLCJpbnNlcnRBZnRlciIsInZhbHVlcyIsInJlZ2lzdGVyREVsZW1lbnRzIiwiREVsZW1lbnRzIiwiX3RoaXMyIiwibWl4aW5zIiwid2F0Y2hlcnNUb1JlbW92ZSIsImNoaWxkIiwibWl4aW4iLCJmaWx0ZXIiLCJ3YXRjaGVycyIsIndhdGNoZXIiLCJmb3JERWxlbWVudHMiLCJpbmRleE9mIiwibmV3Q29udGVudCIsImFkZCIsInJlZ2lzdGVyRElmIiwiRElmIiwiY29uZCIsImV2YWx1YXRlQW5kV2F0Y2giLCJpZiIsIm5ld1ZhbHVlIiwiQm9vbGVhbiIsInJlZ2lzdGVyREl0ZW0iLCJESXRlbSIsInJlZ2lzdGVyRFN3aXRjaCIsIkRTd2l0Y2giLCJ3YXNEZWZhdWx0IiwidmFsIiwiZXF1YWxzIiwicmVnaXN0ZXJEVGV4dCIsIkRUZXh0IiwicmVnaXN0ZXJEQXR0ciIsIk1peGluIiwiREF0dHIiLCJvbGRWYWx1ZSIsInJlbW92ZUF0dHIiLCJyZWdpc3RlckRCaW5kIiwiREJpbmQiLCJvZmYiLCJvbiIsInJlZ2lzdGVyRENsYXNzIiwiRENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInJlZ2lzdGVyREVsZW0iLCJERWxlbSIsInJlZ2lzdGVyREhpZGUiLCJESGlkZSIsImhpZGUiLCJzaG93IiwicmVnaXN0ZXJET24iLCJET24iLCJldmFsdWF0ZU9uY2UiLCJyZWdpc3RlckRTaG93IiwiRFNob3ciLCJyZWdpc3RlckRTdHlsZSIsIkRTdHlsZSIsInJlbW92ZUNTUyIsImNzcyIsInJlZ2lzdGVyRFZhbGlkYXRlIiwiRFZhbGlkYXRlIiwidmFsaWRhdG9yIiwicmVnaXN0ZXJEVmFsdWUiLCJEVmFsdWUiLCJfdmFsdWUiLCJ0eXBlIiwicHJvcFN3aXRjaGVyIiwiaW5pdGlhbFNjb3BlVmFsdWUiLCJzZXRQcm9wIiwiaW5pdGlhbEVsZW1WYWx1ZSIsImdldFByb3AiLCJsaXN0ZW5lclN3aXRjaGVyIiwiZSIsInNldFZhbHVlU3dpdGNoZXIiLCJnZXRWYWx1ZVN3aXRjaGVyIiwiaW5pdEFwcCIsInJvb3QiLCJmaXJzdCIsImJsb2NrcyIsIndhcm4iLCJhdHRyTmFtZSIsImlzSW5zdGFuY2VPZk1peGluIiwicmVwbGFjZW1lbnQiLCJjcmVhdGVDb21tZW50IiwicmVnaXN0ZXJCbG9ja3MiLCJpc0luc3RhbmNlT2ZCbG9jayIsImRlZXBDbG9uZUNoaWxkcmVuIiwicmVnaXN0ZXJCdWlsdElucyIsInJlZ2lzdGVyIiwicGFyZW50QmxvY2siLCJwYXJlbnRTY29wZSIsInN2Z05TIiwic3ZnIiwibG9jYWxCbG9ja3MiLCJkQmxvY2tNYXRjaCIsImV4cHJlc3Npb25SZWdFeHAiLCJjdXJyZW50TWl4aW5zIiwiX21hdGNoIiwiaW50byIsImJsb2NrSW5zdGFuY2UiLCJnbG9iYWwiLCJBcmdzIiwibG9jYWxzIiwiZXZlbnR1YWxBcmdzIiwiZGVmYXVsdEFyZ3MiLCJjb25zdHJ1Y3RQcml2YXRlU2NvcGUiLCJzY29wZVZhbHVlcyIsIkRJdGVtRm91bmQiLCJwcml2YXRlU2NvcGUiLCJhZnRlckNvbnN0cnVjdCIsImVyciIsImFmdGVyUmVuZGVyIiwiY3JlYXRlTWl4aW4iLCJuZXdDaGlsZCIsInRyYW5zZm9ybURJZkNoaWxkcmVuIiwiaWZFbHNlIiwiaXNQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsInJlbW92ZVdhdGNoZXJzIiwiY29uc3RydWN0UHVibGljU2NvcGUiLCJkZWZpbmUiLCJldmFsTW9kZSIsImdldHRpbmciLCJ0ZW1wIiwiY2hhbmdlZCIsIm9sZFRlbXBXYXRjaGVycyIsIm9uUmVtb3ZlIiwid2FzIiwicGVybSIsInJvdW5kIiwiZGlnaXRzIiwiemVyb2VzIiwiemVybyIsInJlcGVhdCIsIm5vdyIsImRhdGUiLCJEYXQiLCJpc0Fic29sdXRlIiwidXJsIiwiYWJzb2x1dGVVUkxSZWdleHAiLCJlbmNvZGUiLCJpc0VuY29kZWQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmZXRjaEJlZm9yZU1pZGRsZXdhcmUiLCJjb25maWciLCJiYXNlVVJMIiwiZGF0YSIsImhlYWRlcnMiLCJwYXJhbXMiLCJxdWVyeSIsIk1FVEhPRCIsInRvVXBwZXJDYXNlIiwiY29uc3RydWN0VVJMIiwidHJhbnNmb3JtRGF0YSIsImhlYWRlciIsIlN0ciIsInRvQ2FwaXRhbENhc2UiLCJqb2luIiwiaW5pdFJvdXRlciIsImluaXRpYWxpemVkIiwiUm91dGVzIiwicmVkaXJlY3RSb3V0ZSIsImRlZmF1bHRSb3V0ZSIsIlJlZGlyZWN0Um91dGUiLCJyb3V0ZSIsInBhcmVudE5hbWUiLCJQYXJlbnROYW1lIiwicm9vdFJvdXRlIiwiYWJzdHJhY3QiLCJiYXNlUm91dGUiLCJwYXJlbnRQYXJhbXMiLCJwYXJlbnRRdWVyeSIsInBhdGgiLCJyZWxhdGl2ZVVSTCIsInJlbGF0aXZlUGF0aCIsImNvdW50IiwibmV3UGF0aCIsIm5ld1VSTCIsInZhbGlkYXRlUGF0aCIsImxvY2F0aW9uIiwiaHJlZiIsInB1c2hlZCIsImNsb3Nlc3RMaW5rIiwiY2xvc2VzdCIsInByZXZlbnREZWZhdWx0IiwibWFrZVJvdXRlIiwiY2FsbEJlZm9yZUxvYWQiLCJiZWZvcmVMb2FkUm91dGUiLCJyb3V0ZUxvYWRlZCIsImNhbGxCZWZvcmVMZWF2ZSIsImJlZm9yZUxlYXZlUm91dGUiLCJmYWxsYmFja1RvIiwiaXNEZWZhdWx0IiwiZGVmYXVsdCIsIndhc1Jvb3QiLCJOYW1lIiwiUm91dGUiLCJ1bnN1YnNjcmliZSIsInJvdXRlciIsImVuY29kZVBhcmFtcyIsImVuY29kZVF1ZXJ5IiwiaGFzaCIsIm9yaWdpbiIsImJ1aWxkVVJMIiwiX19pc0N1cnJlbnRSb3V0ZV9fIiwiY3VycmVudFJvdXRlIiwiY3VycmVudFJvdXRlUGFyYW1zIiwic3Vic2NyaWJlIiwiaXNDdXJyZW50Um91dGUiLCJkZWxldGUiLCJmb3J3YXJkIiwiY2hhbmdlUm91dGUiLCJmaW5kUm91dGVCeVVSTCIsImhvc3QiLCJob3N0bmFtZSIsInBhdGhuYW1lIiwicG9ydCIsInByb3RvY29sIiwic2VhcmNoIiwidXJsUGFyYW1zIiwicm91dGVVUkwiLCJyZXF1aXJlZFF1ZXJ5IiwiZGVjb2RlUGFyYW1zIiwiZGVjb2RlUXVlcnkiLCJyZXNvbHZlZCIsInJlc29sdmVVUkwiLCJldmVudHVhbFBhcmFtcyIsInBhcmFtIiwiaGFzT3duIiwiZGVjb2RlIiwiRGVmYXVsdFJvdXRlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY2hhbmdlSGlzdG9yeSIsInJlc29sdmVQYXJhbWV0ZXIiLCJuYW1lRXJyb3JOYW1lIiwidmFsdWVFcnJvck5hbWUiLCJuYW1lTWF0Y2giLCJyZWdleHAiLCJ3aW5kb3ciLCJhcHBsaWVkUmVnRXhwcyIsImlkIiwiY2FudmFzR2V0TWV0aG9kcyIsImNhbnZhc1Jlc3RNZXRob2RzIiwiaHRtbEVsZW1lbnRzIiwic3ZnRWxlbWVudHMiLCJ2b2lkRWxlbWVudHMiLCJodG1sQWxsb3dlZFRhZ1N5bWJvbHMiLCJodG1sQWxsb3dlZEF0dHJTeW1ib2xzIiwicmVnZXhwU3BlY2lhbENoYXJhY3RlcnMiLCJSYW5nZUVycm9yIiwidiIsIm1ldGhvZHMiLCJUeXBlRXJyb3IiLCJhIiwiZCIsImYiLCJyIiwicyIsIlN5bWJvbCIsImNoYXJzIiwid29yZCIsInRva2VuIiwiZGVmIiwicmV0IiwiQ2FzZSIsImNhc2UiLCJldmVudHVhbENhc2VzIiwic2V0UHJvdG90eXBlT2YiLCJGdW5jdGlvbiIsImRlZXAiLCJzdW0iLCJmdW5jIiwiZGVzY3JpcHRvcnMiLCJwcm9wZXJ0eSIsImRlc2NyaXB0b3IiLCJwcm9wcyIsImdldHRlciIsImlzRnJvemVuIiwicmVwbGFjZXIiLCJzcGFjZSIsInVuc2hpZnQiLCJzdHJpbmdpZnkiLCJtYXgiLCJvYmoiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiaXNDb250ZXh0T2JqZWN0Iiwic3RhcnRLZXkiLCJzZXR0ZXIiLCJyZWR1Y2UiLCJzZWNyZXQiLCJpdGVyYXRvciIsIlByb21pc2UiLCJleGVjdXRvciIsInJlamVjdCIsImhpZGRlblByb21pc2UiLCJzdGF0dXMiLCJvblJlamVjdCIsImhhbmRsZWQiLCJvblVuaGFuZGxlZFJlamVjdGlvbiIsIm9uRXJyb3IiLCJyZXNvbHZlIiwidGhlbiIsIm9uRnVsZmlsbCIsImhpZGRlblN0YXR1cyIsImhpZGRlblZhbHVlIiwicmVhbFByb21pc2UiLCJwcm94eSIsIm9uUmVqZWN0ZWQiLCJvbkZ1bGZpbGxlZE9yUmVqZWN0ZWQiLCJpc0Z1bmMiLCJvbkZ1bGZpbGxlZCIsInByb21pc2UiLCJoYW5kbGUiLCJoYW5kbGVyIiwiaXRlcmFibGUiLCJ0b1Jlc29sdmUiLCJuZXh0IiwiZG9uZSIsImNvbnNvbGUiLCJiaW5kIiwiRnVuYyIsImNhbGxlZCIsImNhbkJlQ2FsbGVkIiwiYmVmb3JlIiwic3luYyIsImNvbnRleHRMb2NrZWQiLCJjb250ZXh0IiwibWlkZGxld2FyZSIsImFmdGVyQWxsIiwiYmVmb3JlQWxsIiwiYmluZENvbnRleHQiLCJiaW5kQXJncyIsInRpbWVzIiwibG9ja0NvbnRleHQiLCJsb2NrQXJncyIsImFyZ3NMb2NrZWQiLCJtYXJrIiwidGltZSIsInRpbWVFbmQiLCJ1bmJpbmRDb250ZXh0IiwidW5iaW5kQXJncyIsInRvUmFkaWFuIiwiUEkiLCJ0b0RlZ3JlZSIsImxuMiIsIkxOMiIsImxuMTAiLCJMTjEwIiwiTnVtIiwidG9EZWdyZWVzIiwiYWNvcyIsImFzaW4iLCJhdGFuIiwiYXNEZWdyZWVzIiwiY29zIiwiYWJvcnQiLCJjbGVhclRpbWVvdXQiLCJ0aW1lb3V0IiwiYWJvcnRlZCIsInNldFRpbWVvdXQiLCJpbnRlcnZhbCIsImxvZyIsInBvd2VyIiwicG93Iiwic2luIiwidGFuIiwicmVqIiwiZnJhY3Rpb25EaWdpdHMiLCJ0b0V4cG9uZW50aWFsIiwidG9GaXhlZCIsInByZWNpc2lvbiIsInRvUHJlY2lzaW9uIiwiYWJzIiwic3FydCIsImNicnQiLCJjZWlsIiwiZXhwIiwibG4iLCJzaWduIiwia2V5T2YiLCJrZXlPZlN0cmljdCIsInNlcGFyYXRvciIsInBvcCIsInJldmVyc2UiLCJyYW5kb21JbmRleCIsImJlZ2luIiwiY29tcGFyZUZ1bmN0aW9uIiwic29ydCIsImRlbGV0ZUNvdW50IiwiVVJMIiwicHJvZ3Jlc3MiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwidG9SZWplY3QiLCJvbnByb2dyZXNzIiwib25lcnJvciIsIm9ubG9hZCIsImFuY2hvciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRhdGFVUkwiLCJzZXRBdHRyaWJ1dGUiLCJjbGljayIsImNyZWF0ZU9iamVjdFVSTCIsImh0bWxTcGVjaWFscyIsInJlZ2V4cFNwZWNpYWxzUmVnZXhwIiwic2VhcmNoU3RyaW5nIiwicG9zaXRpb24iLCJyZXZlcnQiLCJzdGFydHNXaXRoIiwiZXNjYXBlZCIsInN5bWJvbCIsInNlYXJjaFZhbHVlIiwiZnJvbUluZGV4IiwibGFzdEluZGV4T2YiLCJzdHIiLCJiZWdpblNsaWNlIiwiZW5kU2xpY2UiLCJzdWJzdHIiLCJpbmRleFN0YXJ0IiwiaW5kZXhFbmQiLCJzdWJzdHJpbmciLCJzdWJtaXRTdHJpbmciLCJub2RlU3dpdGNoZXIiLCJJbnRlcm5hbFBhcnNpbmdFcnJvciIsIlBhcnNpbmdFcnJvciIsInRocm93VW5leHBlY3RlZEVycm9yIiwiZ2xvYmFsSW5kZXgiLCJlbGVtZW50cyIsImV2ZW50U2VwYXJhdG9yIiwidGV4dFByb3BlcnR5IiwiTm9kZSIsInByb3BlcnR5RGVzY3JpcHRvciIsImNsYXNzZXMiLCJpbnB1dEVsZW1lbnRzIiwieG1sTlMiLCJ4bGlua05TIiwieGh0bWxOUyIsInR5cGVTd2l0Y2hlciIsIm5zIiwiZG9jdW1lbnRFbGVtZW50IiwibmFtZXNwYWNlVVJJIiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlVGV4dE5vZGUiLCJyZWZTd2l0Y2hlciIsImZpbHRlclN3aXRjaGVyIiwiaXMiLCJpbm5lclN3aXRjaGVyIiwicGFkZGluZ3MiLCJib3JkZXJzIiwib3V0ZXJTd2l0Y2hlciIsImF0dHJOU1N3aXRjaGVyIiwibGlzdCIsImNsYXNzTGlzdCIsImluc2VydEFkamFjZW50SFRNTCIsInN0eWxlIiwic2hlZXQiLCJjc3NSdWxlcyIsInJ1bGVzIiwidG9IeXBoZW5DYXNlIiwiaW5zZXJ0UnVsZSIsImR3YXluZURhdGEiLCJzdHJpbmdzIiwiYXBwbGllZCIsInNldEFwcGxpZWQiLCJucDEiLCJhdHRyaWJ1dGVzIiwiZ2V0QXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsIl90aGlzNCIsImxvYWQiLCJpc0Jyb2tlbiIsImNhbnZhcyIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiYnl0ZVN0cmluZyIsImF0b2IiLCJhYiIsIkFycmF5QnVmZmVyIiwiaWEiLCJVaW50OEFycmF5IiwiYmx1ciIsInBzZXVkbyIsImdldENvbXB1dGVkU3R5bGUiLCJydWxlIiwiY2hpbGROb2RlcyIsImNsYXNzTmFtZSIsImNsb25lTm9kZSIsImNvbnRhaW5zIiwiYXBwbGllZEV4cHJlc3Npb25zIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldFByb3BlcnR5UHJpb3JpdHkiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5IiwiY3NzVGV4dCIsInRvQ2FtZWxDYXNlIiwiY3R4IiwiZGF0YXNldCIsImVuY29kZXJPcHRpb25zIiwidG9EYXRhVVJMIiwiZGVsZXRlUnVsZSIsImV2ZW50IiwiZXZlbnRJbml0IiwiZGV0YWlscyIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZmluYWxFdmVudCIsIkV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZm9jdXMiLCJzZWxlY3RvclRleHQiLCJoYXNBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGVOUyIsImN1cnJlbnREaXNwbGF5IiwicHJldmlvdXNEaXNwbGF5IiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwiY29tcGxldGUiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiaW1hZ2VzIiwiYWxsIiwiJGVsZW0iLCJyZW1vdmVMaXN0ZW5lcnMiLCJwcm9wZXIiLCJicm9rZW4iLCJuZXh0U2libGluZyIsImV2ZW50cyIsImxpc3RlbmVycyIsInJlbW92ZUxpc3RlbmVyIiwibGlzdGVuZXIiLCJhbGxMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImhhcyIsIm5ld0xpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcmV2aW91c1NpYmxpbmciLCJsaW5rIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsIjIiLCIxIiwiY3JlYXRlZCIsInR4dCIsIl9hcmd1bWVudHM2IiwiaGFzQXR0ciIsImhhc0NsYXNzIiwibGV2ZWwiLCJ2YWxpZGF0b3JXcmFwIiwiaW5wdXQiLCJlcnJvcnMiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGF0b3JzIiwiZm9ybUVycm9ycyIsImZvcm0iLCJpbnB1dHMiLCJkaXNwYXRjaCIsImlucHV0RXJyb3IiLCJldmVyeSIsImlubmVySGVpZ2h0IiwiY2FsY0NTUyIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJib3hTaXppbmciLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImlubmVyV2lkdGgiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJvdXRlckhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsIm91dGVyV2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJ3aW4iLCJib2R5IiwiaGVhZCIsImlucHV0VmFsdWUiLCJvbkV2YWxFcnJvciIsIm9yaWdpbmFsQXJncyIsImV4cHJlc3Npb24iLCJvbkNoYW5nZSIsImluc3RhbmNlIiwiZm9yREl0ZW0iLCJmb3JERWFjaCIsImV4cHIiLCJEd2F5bmVTdG9yZSIsInN0b3JlIiwibG9jYWxXYXRjaGVycyIsIm5ld1Jlc3VsdCIsIndhdGNoZXJCbG9jayIsImluZGV4MSIsImluZGV4MiIsImFyZyIsIkR3YXluZUJsb2NrIiwiaXNQYXJlbnRTaWduYWwiLCJiZWZvcmVSZW1vdmUiLCJ2YXJpYWJsZSIsIl90aGlzMyIsIl90aGlzNSIsImxvY2FsIiwiX3RoaXM2IiwiQmxvY2tzIiwiYWZ0ZXJVcGRhdGUiLCJNaXhpbnMiLCJkYXlzT2ZUaGVXZWVrTmFtZXMiLCJkYXlzT2ZUaGVXZWVrQWxpYXNlcyIsIm1vbnRoc05hbWVzIiwibW9udGhzQWxpYXNlcyIsInV0YyIsImNvZWZmcyIsImdldFN3aXRjaGVyIiwic2V0U3dpdGNoZXIiLCJ3aGF0IiwicHJlZml4IiwiZm9ybWF0cyIsImZvcm1hdCIsInJlcGxhY2VTdHJpbmciLCJkYXRlMSIsImRhdGUyIiwiaXNCZWZvcmUiLCJzdGFydGVkIiwiY29lZmYiLCJ3Iiwic2V0VGltZSIsInRvSVNPU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwicXVlcnlTd2l0Y2hlciIsInF1ZXJ5UGFyYW1zIiwiZW5jb2RlT3B0aW9ucyIsInJhd0hlYWRlcnMiLCJub3RUb1RyYW5zZm9ybSIsIndpdGhvdXRCb2R5IiwiaW5kZXhPZlN0cmljdCIsImNvbnRlbnRUeXBlIiwiZGVmYXVsdHMiLCJ1cGxvYWRNZXRob2RzIiwiRmV0Y2giLCJmZXRjaCIsInJlcXVlc3QiLCJjb25mIiwidG9QdXNoIiwiZGF0YUNvbmZpZyIsInVybENvbmZpZyIsInhociIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwicmVzcG9uc2VUeXBlIiwid2l0aENyZWRlbnRpYWxzIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2V0UmVxdWVzdEhlYWRlciIsInVwbG9hZCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2UiLCJyZXNwb25zZVRleHQiLCJwYXJzZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJzZW5kIiwicmF3UGFyYW0iLCJwYXJhbU5hbWUiLCJwYXJhbU9iamVjdCIsInN1YnNjcmliZXJzIiwiaGlzdG9yeSIsInBhdGhTd2l0Y2hlciIsInBhcnQiLCJlc2NhcGVSZWdFeHAiLCJzdGF0aWNzIl0sIm1hcHBpbmdzIjoid0JBWUEsU0FBZ0JBLEdBQVlDLFlBQ2hCQyxTQUFTQyxLQUFLRixHQUFRRyxRQUFRLGlCQUFrQixJQ081RCxRQUFnQkMsR0FBUUMsU0FDUSxVQUF2Qk4sRUFBWU0sR0FnQnJCLFFBQWdCQyxHQUFZRCxPQUNyQkEsR0FBU0UsRUFBV0Ys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ZCxJQU9YLElBUUEsT0FRQSxVQVFBLE9BUUEsVUFRQSxRQVFBLElBUUEsT0FRQSxNQVFBLE1BUUEsYUFRQSxPQVFBLEtBUUEsU0FRQSxTQVFBLFVBUUEsT0FRQSxPQVFBLE1BUUEsV0FRQSxVQVFBLFdBUUEsS0FRQSxNQVFBLFVBUUEsTUFRQSxTQVFBLE1BUUEsS0FRQSxLQVFBLFVBUUEsS0FRQSxRQVFBLFdBUUEsYUFRQSxTQVFBLFNBUUEsT0FRQSxLQVFBLEtBUUEsS0FRQSxLQVFBLEtBUUEsS0FRQSxPQVFBLFNBUUEsU0FRQSxLQVFBLElBUUEsU0FRQSxNQVFBLFFBUUEsTUFRQSxNQVFBLFFBUUEsU0FRQSxLQVFBLE9BUUEsT0FRQSxPQVFBLE9BUUEsV0FRQSxPQVFBLFFBUUEsTUFRQSxXQVFBLEtBUUEsV0FRQSxTQVFBLFNBUUEsSUFRQSxRQVFBLE1BUUEsV0FRQSxJQVFBLEtBUUEsS0FRQSxNQVFBLE9BUUEsSUFRQSxPQVFBLFNBUUEsVUFRQSxTQVFBLFNBUUEsUUFRQSxTQVFBLE9BUUEsU0FRQSxRQVFBLE1BUUEsVUFRQSxNQVFBLFFBUUEsUUFRQSxLQVFBLFdBUUEsV0FRQSxRQVFBLEtBUUEsUUFRQSxPQVFBLFFBUUEsS0FRQSxRQVFBLElBUUEsS0FRQSxNQVFBLFFBUUEsT0FHV0MsSUFPWCxXQVFBLGNBUUEsZUFRQSxVQVFBLGVBUUEsZ0JBUUEsbUJBUUEsU0FRQSxXQVFBLGdCQVFBLFNBUUEsT0FRQSxPQVFBLFVBUUEsVUFRQSxVQVFBLGdCQVFBLHNCQVFBLGNBUUEsbUJBUUEsb0JBUUEsb0JBUUEsaUJBUUEsZUFRQSxVQVFBLFVBUUEsVUFRQSxVQVFBLFVBUUEsaUJBUUEsVUFRQSxVQVFBLGNBUUEsZUFRQSxXQVFBLGVBUUEscUJBUUEsY0FRQSxTQVFBLGVBUUEsT0FRQSxZQVFBLG1CQVFBLGlCQVFBLGdCQVFBLGdCQVFBLGdCQVFBLElBUUEsUUFRQSxXQVFBLFFBUUEsWUFRQSxRQVFBLFFBUUEsT0FRQSxpQkFRQSxTQVFBLE9BUUEsT0FRQSxlQVFBLFlBUUEsVUFRQSxXQVFBLGdCQVFB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